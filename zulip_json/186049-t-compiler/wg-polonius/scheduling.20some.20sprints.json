[
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> -- so we failed to schedule any sprints. But I still want to. I was thinking that maybe Aug 2-5 might work? In fact, I am wondering if it'd be possible to schedule some kind of \"regular\" sprints, or maybe just on <em>my</em> part to kind of dedicate some weeks to helping to investigate and push polonius, doesnt' necessarily have to involve all the rest of y'all</p>",
        "id": 204243215,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1595011369
    },
    {
        "content": "<p>I'm game for Aug 2-5</p>",
        "id": 204243336,
        "sender_full_name": "lqd",
        "timestamp": 1595011438
    },
    {
        "content": "<p>(cc <span class=\"user-mention\" data-user-id=\"204115\">@Albin Stjerna</span>)</p>",
        "id": 204243560,
        "sender_full_name": "lqd",
        "timestamp": 1595011509
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span>  by then (hopefully way before that) I'll have written up thoughts and notes about the agenda/topics I mentioned last time, so that you can see if something interests you, to investigate whenever your schedule clears up otherwise</p>",
        "id": 204243684,
        "sender_full_name": "lqd",
        "timestamp": 1595011564
    },
    {
        "content": "<p>(sorry we haven't been able to schedule this earlier)</p>",
        "id": 204243849,
        "sender_full_name": "lqd",
        "timestamp": 1595011667
    },
    {
        "content": "<p>Sorry I dropped the ball on the sprint scheduling; Iâ€™m also up for Aug 2-5! I, err, may have forgotten what I was doing and/or parts of Rust in general but it will be fun for me!</p>",
        "id": 204313026,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1595098244
    },
    {
        "content": "<p>Hmm I see Aug 2 is a sunday</p>",
        "id": 204454276,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1595267884
    },
    {
        "content": "<p>I'm prob not available then :)</p>",
        "id": 204454284,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1595267888
    },
    {
        "content": "<p>so maybe Aug 3-5 is more accurate</p>",
        "id": 204454296,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1595267893
    },
    {
        "content": "<p>Off by one, a classic</p>",
        "id": 204528202,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1595324345
    },
    {
        "content": "<p>Apparently my supervisor thinks Polonius is research, which means I can actually spend some of my working hours working on it!</p>",
        "id": 205351845,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596027426
    },
    {
        "content": "<p>Including the sprint</p>",
        "id": 205351848,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596027430
    },
    {
        "content": "<p>Ooh, nice</p>",
        "id": 205401867,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1596050597
    },
    {
        "content": "<p>I'm looking forward to sprint, I'm presuming it still works for all of you?</p>",
        "id": 205401889,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1596050610
    },
    {
        "content": "<p>I know <span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> you had some specific ideas right about things to pursue?</p>",
        "id": 205401901,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1596050620
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span>  yeah I mentioned some <a href=\"#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/sprint.20week/near/198209577\">here</a> -- plus I think it'll be good for all of us to do a bit of planning, what we can do, what we should do</p>",
        "id": 205410278,
        "sender_full_name": "lqd",
        "timestamp": 1596054873
    },
    {
        "content": "<p>I'm not sure Albin or you saw them yet and if they interest you all though</p>",
        "id": 205410348,
        "sender_full_name": "lqd",
        "timestamp": 1596054917
    },
    {
        "content": "<p>a lot of these items fit into a kind of theme \"make sure we can land something that works and scales\" -- but I don't think there's a foolproof way of achieving that as of yet (mostly it's the scaling that worries me), so a bit of design/planning to see what I missed in that regard would be greatly appreciated :)</p>",
        "id": 205411005,
        "sender_full_name": "lqd",
        "timestamp": 1596055323
    },
    {
        "content": "<p>(also what changes we will need in order to integrate with chalk eventually, even if that's more longer term. I thought it could still be interesting to talk about in case there are differences we can take advantage of in either contexts)</p>",
        "id": 205411936,
        "sender_full_name": "lqd",
        "timestamp": 1596055826
    },
    {
        "content": "<p>(also a plan for better testing and validating everything)</p>",
        "id": 205415660,
        "sender_full_name": "lqd",
        "timestamp": 1596057894
    },
    {
        "content": "<p>the discussion/design/planning would be very worthwhile to me, as a lot of those coding tasks are easy when we're all on the same page (and I can do a bunch of them on my own) whereas having you all to bounce ideas around is rare</p>",
        "id": 205416200,
        "sender_full_name": "lqd",
        "timestamp": 1596058214
    },
    {
        "content": "<p>ok, I'm reading over those now...</p>",
        "id": 205489096,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1596121058
    },
    {
        "content": "<p>do you think the best way to start would be just with some dedicated discussion? sounds like yes</p>",
        "id": 205489115,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1596121070
    },
    {
        "content": "<p>we could</p>",
        "id": 205489752,
        "sender_full_name": "lqd",
        "timestamp": 1596121348
    },
    {
        "content": "<p>but as long as we are able to do so during the sprint it'll be great :) if there are better tasks to start with, for example related to move errors in rustc or something else, it'd be fine to start with those as well</p>",
        "id": 205490823,
        "sender_full_name": "lqd",
        "timestamp": 1596121826
    },
    {
        "content": "<p>My plan is to spend the morning getting back in the saddle, and starting out with getting move errors into rustc</p>",
        "id": 205765535,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596439120
    },
    {
        "content": "<p>(there is no chance I will finish that before Niko wakes up)</p>",
        "id": 205765546,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596439144
    },
    {
        "content": "<p>hi :)</p>",
        "id": 205768041,
        "sender_full_name": "lqd",
        "timestamp": 1596441514
    },
    {
        "content": "<p>I wonder if there's an issue with the move errors computation, maybe making it compute too many things: it seems to be taking a lot of time for clap for example. I wonder if it's the rules or the model itself, but maybe this is one those cases where a dataflow context would be more appropriate. maybe the granularity of the model is so fine-grained that a lot of state is computed and cloned (per-point at twice the number of points versus per-block)</p>",
        "id": 205768884,
        "sender_full_name": "lqd",
        "timestamp": 1596442115
    },
    {
        "content": "<p>I'm also not sure one of the fixes I made to remove the false positives (switching the mid/start point where a fact was emitted) was without consequences, even if tests still pass</p>",
        "id": 205769082,
        "sender_full_name": "lqd",
        "timestamp": 1596442252
    },
    {
        "content": "<p>I guess those are great questions to ask the rustc test suite once we have the reporting integrated :)</p>",
        "id": 205770655,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596443494
    },
    {
        "content": "<p>hehe yeah the 2nd one for sure</p>",
        "id": 205770764,
        "sender_full_name": "lqd",
        "timestamp": 1596443565
    },
    {
        "content": "<p>I just hope it wouldn't take a lot of effort to discover how to make the computation fast</p>",
        "id": 205770956,
        "sender_full_name": "lqd",
        "timestamp": 1596443736
    },
    {
        "content": "<p>but then again, we could compute the errors differently if datafrog is not helping, or reuse rustc's computation, so it's not a hopeless situation or anything :)</p>",
        "id": 205771070,
        "sender_full_name": "lqd",
        "timestamp": 1596443831
    },
    {
        "content": "<p>agreed, I also feel like a lot rests on that</p>",
        "id": 205771728,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596444384
    },
    {
        "content": "<p>ah I forgot and I'll check right now, I remember that when I prototyped fixing the 2 cases of OOM in rustc's fact generation (2 numeric test cases: <code>ui/numbers-arithmetic/saturating-float-casts.rs</code> and <code>ui/wrapping-int-combinations.rs</code>), it seemed to work for the loan and subset errors analysis, but the move errors computation would then OOM instead of rustc</p>",
        "id": 205778608,
        "sender_full_name": "lqd",
        "timestamp": 1596449768
    },
    {
        "content": "<p>I'm still at \"how do I get stuff to compile\" so, err, no rush</p>",
        "id": 205783501,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596454098
    },
    {
        "content": "<p>I'm on a new machine and haven't done this for half a year or so, so I guess I'm a little rusty</p>",
        "id": 205783524,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596454119
    },
    {
        "content": "<p>I assume you're following the rustc dev guide ?</p>",
        "id": 205783828,
        "sender_full_name": "lqd",
        "timestamp": 1596454426
    },
    {
        "content": "<p>Yes,  I am</p>",
        "id": 205783906,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596454499
    },
    {
        "content": "<p>I'm so happy it exists</p>",
        "id": 205783911,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596454505
    },
    {
        "content": "<p>yeah it's great, then you won't have issues</p>",
        "id": 205783939,
        "sender_full_name": "lqd",
        "timestamp": 1596454553
    },
    {
        "content": "<p>how's the phd going btw ?! having fun with smt and string operations ? :)</p>",
        "id": 205784037,
        "sender_full_name": "lqd",
        "timestamp": 1596454613
    },
    {
        "content": "<p>I think it's too early to tell how it's going, but I'm...doing stuff?</p>",
        "id": 205784076,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596454674
    },
    {
        "content": "<p>I do actually have an issue; for whatever reason <code>x.py check</code> doesn't...work</p>",
        "id": 205784142,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596454714
    },
    {
        "content": "<p>how does it fail ?</p>",
        "id": 205784163,
        "sender_full_name": "lqd",
        "timestamp": 1596454743
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>./x.py check\nUpdating only changed submodules\nSubmodules updated in 0.01 seconds\n    Finished dev [unoptimized + debuginfo] target(s) in 0.09s\nthread &#39;main&#39; panicked at &#39;no entry found for key&#39;, src/bootstrap/lib.rs:1115:26\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\nfailed to run: /home/albin/rust/build/bootstrap/debug/bootstrap check\nBuild completed unsuccessfully in 0:00:00\n</code></pre></div>",
        "id": 205784171,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596454750
    },
    {
        "content": "<p>Anyway, I'm mainly flailing around trying to figure out what I'm supposed to be doing, which I've heard is normal for a first-year PhD :)</p>",
        "id": 205784240,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596454806
    },
    {
        "content": "<p>good to hear (about the phd, not x.py check failing :)</p>",
        "id": 205784259,
        "sender_full_name": "lqd",
        "timestamp": 1596454830
    },
    {
        "content": "<p>the error is weird and without much info dang</p>",
        "id": 205784286,
        "sender_full_name": "lqd",
        "timestamp": 1596454877
    },
    {
        "content": "<p>My hope is to be able to focus more on more rust-adjacent things after finishing my current work on the more \"inside the SMT solver\" gritty details</p>",
        "id": 205784289,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596454884
    },
    {
        "content": "<p>That's exactly what I thought</p>",
        "id": 205784295,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596454890
    },
    {
        "content": "<p>all submodules and directories seem acceptable on git status ?</p>",
        "id": 205784355,
        "sender_full_name": "lqd",
        "timestamp": 1596454927
    },
    {
        "content": "<p>the backtrace is also incomprehensible</p>",
        "id": 205784362,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596454934
    },
    {
        "content": "<p>It looks like it</p>",
        "id": 205784388,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596454968
    },
    {
        "content": "<p>and it should be a clean fork</p>",
        "id": 205784399,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596454979
    },
    {
        "content": "<p>I feel it's not the first time I've seen this panic message mentioned somewhere, at least showing which crate is invalid would be helpful</p>",
        "id": 205784421,
        "sender_full_name": "lqd",
        "timestamp": 1596455005
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>git status\nOn branch master\nYour branch is up to date with &#39;origin/master&#39;.\n\nChanges not staged for commit:\n  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)\n  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)\n\n    modified:   Cargo.lock\n    modified:   src/librustc_middle/Cargo.toml\n    modified:   src/librustc_mir/Cargo.toml\n</code></pre></div>",
        "id": 205784424,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596455009
    },
    {
        "content": "<p>It's even weirder that _normal compilation_ works fine?!</p>",
        "id": 205784529,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596455122
    },
    {
        "content": "<p>there was a git problem on the rust repo earlier, it may be related to that but I would assume it would have failed earlier or differently if that was actually the case</p>",
        "id": 205784551,
        "sender_full_name": "lqd",
        "timestamp": 1596455148
    },
    {
        "content": "<p>(it was fixed by <a href=\"https://github.com/rust-lang/rust/pull/75092\">https://github.com/rust-lang/rust/pull/75092</a> and some other things)</p>",
        "id": 205784622,
        "sender_full_name": "lqd",
        "timestamp": 1596455238
    },
    {
        "content": "<p>Interesting, it works if I don't change my files to use the local polonius</p>",
        "id": 205784942,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596455586
    },
    {
        "content": "<p>So something is clearly up with that</p>",
        "id": 205784946,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596455594
    },
    {
        "content": "<p>I should point Cargo.toml to the polonius-engine directory, right?</p>",
        "id": 205785153,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596455800
    },
    {
        "content": "<p>yeah</p>",
        "id": 205785160,
        "sender_full_name": "lqd",
        "timestamp": 1596455811
    },
    {
        "content": "<p>I'm still trying to untangle the branch I mentioned earlier but I'll be able to check the same thing on my machine soon as well</p>",
        "id": 205785224,
        "sender_full_name": "lqd",
        "timestamp": 1596455876
    },
    {
        "content": "<p>haha same as you</p>",
        "id": 205785405,
        "sender_full_name": "lqd",
        "timestamp": 1596456008
    },
    {
        "content": "<p>Ok so something's happening</p>",
        "id": 205785519,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596456128
    },
    {
        "content": "<p>I'm wondering if I even need a newer Polonius though, I think rust is using 0.12.x</p>",
        "id": 205785533,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596456160
    },
    {
        "content": "<p>And I think that one has move errors but I'd have to check</p>",
        "id": 205785548,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1596456172
    },
    {
        "content": "<p>(there have been some recent changes to x.py, folders moved, etc)</p>",
        "id": 205785550,
        "sender_full_name": "lqd",
        "timestamp": 1596456172
    },
    {
        "content": "<p>it does have it</p>",
        "id": 205785556,
        "sender_full_name": "lqd",
        "timestamp": 1596456178
    },
    {
        "content": "<p>0.12.1</p>",
        "id": 205785563,
        "sender_full_name": "lqd",
        "timestamp": 1596456184
    },
    {
        "content": "<p>so yeah you should be able to use the <a href=\"http://crates.io\">crates.io</a> version directly</p>",
        "id": 205785575,
        "sender_full_name": "lqd",
        "timestamp": 1596456201
    },
    {
        "content": "<p>while I'll be the one battling <code>thread 'main' panicked at 'can't access crate polonius-engine', src/bootstrap/lib.rs:1115:67</code></p>",
        "id": 205785674,
        "sender_full_name": "lqd",
        "timestamp": 1596456274
    },
    {
        "content": "<p>hey <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> does <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> ring a bell by any chance ?</p>",
        "id": 205786177,
        "sender_full_name": "lqd",
        "timestamp": 1596456654
    },
    {
        "content": "<p>bootstrap apparently failing while accessing local checkouts of dependencies</p>",
        "id": 205786215,
        "sender_full_name": "lqd",
        "timestamp": 1596456699
    },
    {
        "content": "<p>but it at least seems to work for git checkouts</p>",
        "id": 205788013,
        "sender_full_name": "lqd",
        "timestamp": 1596457972
    },
    {
        "content": "<p>it does not, no</p>",
        "id": 205790084,
        "sender_full_name": "simulacrum",
        "timestamp": 1596459475
    },
    {
        "content": "<p>let me take a look though</p>",
        "id": 205790091,
        "sender_full_name": "simulacrum",
        "timestamp": 1596459479
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> did you make any headway on it?</p>",
        "id": 205790230,
        "sender_full_name": "simulacrum",
        "timestamp": 1596459553
    },
    {
        "content": "<p>it looks like for whatever reason it's not in <code>cargo metadata --no-deps</code> output</p>",
        "id": 205790262,
        "sender_full_name": "simulacrum",
        "timestamp": 1596459564
    },
    {
        "content": "<p>not exactly sure why that'd be though</p>",
        "id": 205790359,
        "sender_full_name": "simulacrum",
        "timestamp": 1596459611
    },
    {
        "content": "<p>I didn't make much headway on it, just found out it worked with git checkouts so I was pushing my wip work on GH (while LLVM was rebuilding)</p>",
        "id": 205790383,
        "sender_full_name": "lqd",
        "timestamp": 1596459622
    },
    {
        "content": "<p>hm okay</p>",
        "id": 205790499,
        "sender_full_name": "simulacrum",
        "timestamp": 1596459699
    },
    {
        "content": "<p>I'd guess that there's some sort of discrepancy in what cargo metadata is spitting out, but I can't think of what it could be right now</p>",
        "id": 205790571,
        "sender_full_name": "simulacrum",
        "timestamp": 1596459730
    },
    {
        "content": "<p>I tried to clean everything in case it was some stale build artifacts colliding with the recent repository rework, but it was not the case, and now I'm just rebuilding everything :)</p>",
        "id": 205790613,
        "sender_full_name": "lqd",
        "timestamp": 1596459762
    },
    {
        "content": "<p>can you gist output of <code>cargo metadata --no-deps --manifest-path Cargo.toml --format-version 1</code>?</p>",
        "id": 205790763,
        "sender_full_name": "simulacrum",
        "timestamp": 1596459848
    },
    {
        "content": "<p>(it correctly wasn't able to find the crate if I pointed it at a wrong directory)</p>",
        "id": 205790769,
        "sender_full_name": "lqd",
        "timestamp": 1596459854
    },
    {
        "content": "<p>yep I'll try it out now</p>",
        "id": 205790825,
        "sender_full_name": "lqd",
        "timestamp": 1596459892
    },
    {
        "content": "<p>here it is <a href=\"https://gist.githubusercontent.com/lqd/49a6ca9e8ff75ef0b17a9c1b0f48020a/raw/bb223458e6bb05a129a9cdf172f10eab14850e01/metadata.json\">https://gist.githubusercontent.com/lqd/49a6ca9e8ff75ef0b17a9c1b0f48020a/raw/bb223458e6bb05a129a9cdf172f10eab14850e01/metadata.json</a></p>",
        "id": 205791150,
        "sender_full_name": "lqd",
        "timestamp": 1596460100
    },
    {
        "content": "<p>it doesn't seem to know where the source is</p>",
        "id": 205791196,
        "sender_full_name": "lqd",
        "timestamp": 1596460133
    },
    {
        "content": "<p>hm that's actually correct</p>",
        "id": 205791223,
        "sender_full_name": "simulacrum",
        "timestamp": 1596460150
    },
    {
        "content": "<p>I think?</p>",
        "id": 205791227,
        "sender_full_name": "simulacrum",
        "timestamp": 1596460152
    },
    {
        "content": "<p>but maybe that's ok</p>",
        "id": 205791230,
        "sender_full_name": "lqd",
        "timestamp": 1596460153
    },
    {
        "content": "<p>yeah the other path dependencies don't seem to have it set either</p>",
        "id": 205791249,
        "sender_full_name": "lqd",
        "timestamp": 1596460174
    },
    {
        "content": "<p>is this a path dep? or <a href=\"http://crates.io\">crates.io</a>?</p>",
        "id": 205791347,
        "sender_full_name": "simulacrum",
        "timestamp": 1596460230
    },
    {
        "content": "<p>path dep</p>",
        "id": 205791370,
        "sender_full_name": "lqd",
        "timestamp": 1596460247
    },
    {
        "content": "<p>hum</p>",
        "id": 205791398,
        "sender_full_name": "lqd",
        "timestamp": 1596460269
    },
    {
        "content": "<p>it's not in packages for some reason</p>",
        "id": 205791419,
        "sender_full_name": "simulacrum",
        "timestamp": 1596460297
    },
    {
        "content": "<p>it's usually a crates io dep, but here I just switched it to using a path dep, is what I meant</p>",
        "id": 205791422,
        "sender_full_name": "lqd",
        "timestamp": 1596460297
    },
    {
        "content": "<p>I don't quite understand why</p>",
        "id": 205791429,
        "sender_full_name": "simulacrum",
        "timestamp": 1596460302
    },
    {
        "content": "<p>your lockfile changed, right?</p>",
        "id": 205791449,
        "sender_full_name": "simulacrum",
        "timestamp": 1596460314
    },
    {
        "content": "<p>yeah</p>",
        "id": 205791501,
        "sender_full_name": "lqd",
        "timestamp": 1596460325
    },
    {
        "content": "<p>how are you invoking x.py?</p>",
        "id": 205791525,
        "sender_full_name": "simulacrum",
        "timestamp": 1596460341
    },
    {
        "content": "<p><code>./x.py check</code></p>",
        "id": 205791539,
        "sender_full_name": "lqd",
        "timestamp": 1596460351
    },
    {
        "content": "<p>it doesn't seem to be only on my machine as Albin had the same issue earlier</p>",
        "id": 205791562,
        "sender_full_name": "lqd",
        "timestamp": 1596460373
    },
    {
        "content": "<p>do you have a branch I can build?</p>",
        "id": 205791585,
        "sender_full_name": "simulacrum",
        "timestamp": 1596460387
    },
    {
        "content": "<p>yeah I'll push one</p>",
        "id": 205791644,
        "sender_full_name": "lqd",
        "timestamp": 1596460429
    },
    {
        "content": "<p>so <a href=\"https://github.com/lqd/rust/tree/bootstrap_failure\">https://github.com/lqd/rust/tree/bootstrap_failure</a></p>",
        "id": 205792068,
        "sender_full_name": "lqd",
        "timestamp": 1596460670
    },
    {
        "content": "<p>hi all :)</p>",
        "id": 205792129,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1596460689
    },
    {
        "content": "<p>lots to catch upon here :)</p>",
        "id": 205792136,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1596460693
    },
    {
        "content": "<p>/me starts reading</p>",
        "id": 205792147,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1596460700
    },
    {
        "content": "<p>but to see if it reproduces you'd need to change the polonius-engine path dep to a local checkout of <a href=\"https://github.com/rust-lang/polonius\">https://github.com/rust-lang/polonius</a></p>",
        "id": 205792165,
        "sender_full_name": "lqd",
        "timestamp": 1596460711
    },
    {
        "content": "<p>hi niko :)</p>",
        "id": 205792206,
        "sender_full_name": "lqd",
        "timestamp": 1596460730
    },
    {
        "content": "<p>not that much to catch up a lot of the backlog is about a weird issue Albin and I are having, which didn't happen a few weeks/months back</p>",
        "id": 205792250,
        "sender_full_name": "lqd",
        "timestamp": 1596460766
    },
    {
        "content": "<p>I guess first step is that I should try to do the same build...</p>",
        "id": 205792258,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1596460773
    },
    {
        "content": "<p>it's not blocking or anything, just weird, as we can still use git dependencies without this issue, only a local checkout doesn't work somehow</p>",
        "id": 205792410,
        "sender_full_name": "lqd",
        "timestamp": 1596460851
    },
    {
        "content": "<p>I guess what I really want to do is to get \"back up to speed\" to start -- would you say a good first step is to build polonius git repo, should I also be building a fresh rustc .. I forget how the integration works tbqh</p>",
        "id": 205792487,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1596460896
    },
    {
        "content": "<p>I guess it just needs <code>-Zpolonius</code>?</p>",
        "id": 205792497,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1596460903
    },
    {
        "content": "<p>to test using rustc yeah</p>",
        "id": 205792576,
        "sender_full_name": "lqd",
        "timestamp": 1596460928
    },
    {
        "content": "<p>depending on what you want to do, running the cli or unit tests will be faster in polonius directly though</p>",
        "id": 205792621,
        "sender_full_name": "lqd",
        "timestamp": 1596460958
    },
    {
        "content": "<p>but as of right now, there are no real differences between polonius git and the <a href=\"http://crates.io\">crates.io</a> version</p>",
        "id": 205792678,
        "sender_full_name": "lqd",
        "timestamp": 1596460995
    },
    {
        "content": "<p>(besides some printing in the CLI)</p>",
        "id": 205792744,
        "sender_full_name": "lqd",
        "timestamp": 1596461030
    },
    {
        "content": "<p>I was trying to prepare my WIP work on fixing the fact generation OOMs, and Albin was just building to look at emitting move errors, when we hit this snag</p>",
        "id": 205792874,
        "sender_full_name": "lqd",
        "timestamp": 1596461098
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> yeah so you can almost certainly fix it by using <code>[patch.crates-io]</code> in the root rather than path deps</p>",
        "id": 205792918,
        "sender_full_name": "simulacrum",
        "timestamp": 1596461134
    },
    {
        "content": "<p>I think we don't support path deps going outside the workspace or so</p>",
        "id": 205792935,
        "sender_full_name": "simulacrum",
        "timestamp": 1596461145
    },
    {
        "content": "<p>(maybe a cargo bug? not sure)</p>",
        "id": 205792948,
        "sender_full_name": "simulacrum",
        "timestamp": 1596461150
    },
    {
        "content": "<p>that would make sense</p>",
        "id": 205792961,
        "sender_full_name": "lqd",
        "timestamp": 1596461157
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code><span class=\"gh\">diff --git a/Cargo.toml b/Cargo.toml</span>\n<span class=\"gh\">index 1936e35aa4c..a85567fdce8 100644</span>\n<span class=\"gd\">--- a/Cargo.toml</span>\n<span class=\"gi\">+++ b/Cargo.toml</span>\n<span class=\"gu\">@@ -98,5 +98,7 @@ rustc-std-workspace-std = { path = &#39;library/rustc-std-workspace-std&#39; }</span>\n # source code for this crate.\n backtrace = { path = &quot;library/backtrace&quot; }\n\n<span class=\"gi\">+polonius-engine = { path = &quot;../polonius/polonius-engine&quot; }</span>\n<span class=\"gi\">+</span>\n [patch.&quot;https://github.com/rust-lang/rust-clippy&quot;]\n clippy_lints = { path = &quot;src/tools/clippy/clippy_lints&quot; }\n<span class=\"gh\">diff --git a/src/librustc_middle/Cargo.toml b/src/librustc_middle/Cargo.toml</span>\n<span class=\"gh\">index 1257dd351f5..03431cb5a88 100644</span>\n<span class=\"gd\">--- a/src/librustc_middle/Cargo.toml</span>\n<span class=\"gi\">+++ b/src/librustc_middle/Cargo.toml</span>\n<span class=\"gu\">@@ -14,7 +14,7 @@ rustc_arena = { path = &quot;../librustc_arena&quot; }</span>\n bitflags = &quot;1.2.1&quot;\n log = { package = &quot;tracing&quot;, version = &quot;0.1&quot; }\n rustc-rayon-core = &quot;0.3.0&quot;\n<span class=\"gd\">-polonius-engine = { path = &quot;/mnt/d/work/rust/tmp-polonius/lqd-polonius6/polonius-engine&quot; }</span>\n<span class=\"gi\">+polonius-engine = &quot;0.12.0&quot;</span>\n rustc_apfloat = { path = &quot;../librustc_apfloat&quot; }\n rustc_attr = { path = &quot;../librustc_attr&quot; }\n rustc_feature = { path = &quot;../librustc_feature&quot; }\n<span class=\"gh\">diff --git a/src/librustc_mir/Cargo.toml b/src/librustc_mir/Cargo.toml</span>\n<span class=\"gh\">index 8d1f88e01a1..f05c47e0ed6 100644</span>\n<span class=\"gd\">--- a/src/librustc_mir/Cargo.toml</span>\n<span class=\"gi\">+++ b/src/librustc_mir/Cargo.toml</span>\n<span class=\"gu\">@@ -15,7 +15,7 @@ rustc_graphviz = { path = &quot;../librustc_graphviz&quot; }</span>\n itertools = &quot;0.8&quot;\n log = { package = &quot;tracing&quot;, version = &quot;0.1&quot; }\n log_settings = &quot;0.1.1&quot;\n<span class=\"gd\">-polonius-engine = { path = &quot;/mnt/d/work/rust/tmp-polonius/lqd-polonius6/polonius-engine&quot; }</span>\n<span class=\"gi\">+polonius-engine = &quot;0.12.0&quot;</span>\n rustc_middle = { path = &quot;../librustc_middle&quot; }\n rustc_attr = { path = &quot;../librustc_attr&quot; }\n rustc_data_structures = { path = &quot;../librustc_data_structures&quot; }\n</code></pre></div>",
        "id": 205793012,
        "sender_full_name": "simulacrum",
        "timestamp": 1596461169
    },
    {
        "content": "<p>it definitely used to work so maybe it's more or less recent</p>",
        "id": 205793017,
        "sender_full_name": "lqd",
        "timestamp": 1596461172
    },
    {
        "content": "<p>I don't have time myself to file an issue with cargo but seems good to do so</p>",
        "id": 205793049,
        "sender_full_name": "simulacrum",
        "timestamp": 1596461197
    },
    {
        "content": "<p>yeah I will temporarily use the <a href=\"http://crates.io\">crates.io</a> patch technique, and look or file an issue on cargo later, thanks for looking at it <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span></p>",
        "id": 205793118,
        "sender_full_name": "lqd",
        "timestamp": 1596461248
    },
    {
        "content": "<p>ok well I'm building a fresh rustc, and building polonius was successful ;)</p>",
        "id": 205793241,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1596461310
    },
    {
        "content": "<p>kind of sad how long it's been since I had occasion to build rustc :'(</p>",
        "id": 205793279,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1596461338
    },
    {
        "content": "<p>thankfully it was only while trying with a local polonius build that it didn't work, so not that big of a deal</p>",
        "id": 205793345,
        "sender_full_name": "lqd",
        "timestamp": 1596461391
    }
]