[
    {
        "content": "<p>Hello <span class=\"user-group-mention\" data-user-group-id=\"1184\">@WG-polonius</span> <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span></p>",
        "id": 163494712,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555439675
    },
    {
        "content": "<p>Er, wait, I'm early :P</p>",
        "id": 163494938,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555439822
    },
    {
        "content": "<p>Yep</p>",
        "id": 163494951,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555439829
    },
    {
        "content": "<p>Never mind :)</p>",
        "id": 163494957,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555439834
    },
    {
        "content": "<p>I'm here though!</p>",
        "id": 163494966,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555439838
    },
    {
        "content": "<p>Either way, we can proceed now, or I can investigate some other stuff. I guess it's mostly just you at this point</p>",
        "id": 163494998,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555439867
    },
    {
        "content": "<p>How goes, <span class=\"user-mention\" data-user-id=\"204115\">@Albin Stjerna</span> =)</p>",
        "id": 163495068,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555439890
    },
    {
        "content": "<p>I guess so, in particular since <span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> couldn't attend</p>",
        "id": 163495078,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555439902
    },
    {
        "content": "<p>The other person was <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> I think but I think they're more following along for now</p>",
        "id": 163495103,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555439927
    },
    {
        "content": "<p>ah, yeah probably</p>",
        "id": 163495115,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555439938
    },
    {
        "content": "<p>We had talked about trying to make a more detailed schedule this week, but maybe we can start by checking in on whether you've had much luck with the liveness and other things we talked about from last week</p>",
        "id": 163495153,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555439966
    },
    {
        "content": "<p>I can report that a) the new computer I built builds rustc in half the time of my laptop (surprise), and b) I have finally finished the paperwork to get registered on the master's course, after camping out outside Tobias office for roughly an hour</p>",
        "id": 163495246,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440011
    },
    {
        "content": "<p>Say more about (a)?</p>",
        "id": 163495265,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440027
    },
    {
        "content": "<p>Oh, new <em>computer</em></p>",
        "id": 163495278,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440034
    },
    {
        "content": "<p>I misread that a few times as \"new <em>compiler</em>\"</p>",
        "id": 163495287,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440041
    },
    {
        "content": "<p>Haha I realised</p>",
        "id": 163495303,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440050
    },
    {
        "content": "<p>It's not super interesting really, except that I now have a much faster machine to do benchmarks, if there are any, on</p>",
        "id": 163495314,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440062
    },
    {
        "content": "<p>Well, that seems positive =)</p>",
        "id": 163495320,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440063
    },
    {
        "content": "<p>You opened that PR to extend rustc with the new hybrid algorithm</p>",
        "id": 163495340,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440077
    },
    {
        "content": "<p>I haven't followed what happened to it since :)</p>",
        "id": 163495347,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440083
    },
    {
        "content": "<p>Oh, wow, <a href=\"https://github.com/rust-lang/rust/pull/59856\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/59856\">it landed</a></p>",
        "id": 163495372,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440109
    },
    {
        "content": "<p>I'm not accustomed to things that touch <code>Cargo.lock</code> <em>ever</em> landing</p>",
        "id": 163495444,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440132
    },
    {
        "content": "<p>Ah, yes, but that's just version-bumping, that's not liveness</p>",
        "id": 163495446,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440134
    },
    {
        "content": "<p>I know</p>",
        "id": 163495452,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440138
    },
    {
        "content": "<p>Haha</p>",
        "id": 163495454,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440142
    },
    {
        "content": "<p>But we can now test the hybrid algorithm, at least :)</p>",
        "id": 163495459,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440146
    },
    {
        "content": "<p>Well I didn't know that and so wasn't impressed</p>",
        "id": 163495461,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440149
    },
    {
        "content": "<p>Not that it's so important</p>",
        "id": 163495463,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440151
    },
    {
        "content": "<p>But as far as liveness, you didn't get a chance to do much, is that correct?</p>",
        "id": 163495470,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440164
    },
    {
        "content": "<p>Oh, I did use Criterion to implement some micro-benchmarks that compared hybrid to the built-in</p>",
        "id": 163495484,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440177
    },
    {
        "content": "<p>That's correct, I'm still blocking on \"how in the world does even rustc work\"</p>",
        "id": 163495514,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440197
    },
    {
        "content": "<p>Well wait</p>",
        "id": 163495605,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440251
    },
    {
        "content": "<p>I'm remembering now</p>",
        "id": 163495614,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440258
    },
    {
        "content": "<p>I had written up some simple instructons to extend polonius with liveness analysis, and you did those</p>",
        "id": 163495629,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440268
    },
    {
        "content": "<p>(Correct?)</p>",
        "id": 163495633,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440272
    },
    {
        "content": "<p>Yes, and then you helped me fix the off-by-one error</p>",
        "id": 163495637,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440282
    },
    {
        "content": "<p>So I guess we need some new instructions to cover the part about extending rustc</p>",
        "id": 163495638,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440282
    },
    {
        "content": "<p>Exactly, and I tried that on my own first</p>",
        "id": 163495649,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440293
    },
    {
        "content": "<p>But -- we can probably land that first set of changes, in theory</p>",
        "id": 163495650,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440295
    },
    {
        "content": "<p>or at least open a draft PR</p>",
        "id": 163495681,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440309
    },
    {
        "content": "<p>( Not clear that there's a ton of value in landing them as they are )</p>",
        "id": 163495694,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440318
    },
    {
        "content": "<p>Yes, and no</p>",
        "id": 163495705,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440330
    },
    {
        "content": "<p>We may want to, though, to make it easier to modify rustc</p>",
        "id": 163495711,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440333
    },
    {
        "content": "<p>e.g., to add a new set of facts that rustc can export</p>",
        "id": 163495724,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440340
    },
    {
        "content": "<p>One of the problems, one that I ran into as I was trying this on my own, is that <code>Output</code> is now generic to variables</p>",
        "id": 163495739,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440353
    },
    {
        "content": "<p>That is, the output from Polonius</p>",
        "id": 163495782,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440363
    },
    {
        "content": "<p>And I have <em>no idea</em> what to use for the variable type, because I found nothing in the NLL code that looks even a bit like a unique variable identifier type</p>",
        "id": 163495835,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440393
    },
    {
        "content": "<p>Ah. The answer is <a href=\"https://doc.rust-lang.org/nightly/nightly-rustc/rustc/mir/struct.Local.html\" target=\"_blank\" title=\"https://doc.rust-lang.org/nightly/nightly-rustc/rustc/mir/struct.Local.html\"><code>rustc::mir::Local</code></a></p>",
        "id": 163495874,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440420
    },
    {
        "content": "<p>I'm wondering if it makes sense to do another (recorded) Zoom dive</p>",
        "id": 163495899,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440436
    },
    {
        "content": "<p>Great, that's progress already!</p>",
        "id": 163495901,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440437
    },
    {
        "content": "<p>And, if so, exactly what to cover :)</p>",
        "id": 163495908,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440442
    },
    {
        "content": "<p>Maybe not</p>",
        "id": 163495911,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440445
    },
    {
        "content": "<p>I guess we could start with me just attempting to write up some notes</p>",
        "id": 163495929,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440462
    },
    {
        "content": "<p>e.g., with some info like this :)</p>",
        "id": 163495938,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440471
    },
    {
        "content": "<p>basically there would be two options</p>",
        "id": 163496022,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440522
    },
    {
        "content": "<p>either I try to write up some notes</p>",
        "id": 163496027,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440525
    },
    {
        "content": "<p>or we do a zoom call and try to write up the notes together</p>",
        "id": 163496031,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440531
    },
    {
        "content": "<p>explaining here and there as we go</p>",
        "id": 163496040,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440541
    },
    {
        "content": "<p>As in right now you mean, or later?</p>",
        "id": 163496078,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440578
    },
    {
        "content": "<p>I didn't mean this second</p>",
        "id": 163496180,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440648
    },
    {
        "content": "<p>Probably friday</p>",
        "id": 163496182,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440651
    },
    {
        "content": "<p>I guess it depends which you would prefer, in part</p>",
        "id": 163496203,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440673
    },
    {
        "content": "<p>I can at least try to leave some notes today and maybe we can decide over next couple of days whether to also do something on friday or later</p>",
        "id": 163496216,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440695
    },
    {
        "content": "<p>I'm at my parent's on Friday evening, which isn't necessarily a problem</p>",
        "id": 163496217,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440697
    },
    {
        "content": "<p>(I could also do Friday afternoon, if that's preferred)</p>",
        "id": 163496234,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440713
    },
    {
        "content": "<p>Yes, I think that's a good idea</p>",
        "id": 163496238,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440717
    },
    {
        "content": "<blockquote>\n<p>I can at least try to leave some notes today and maybe we can decide over next couple of days whether to also do something on friday or later</p>\n</blockquote>\n<p>you mean this?</p>",
        "id": 163496268,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440723
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>I can at least try to leave some notes today and maybe we can decide over next couple of days whether to also do something on friday or later</p>\n</blockquote>\n<p>you mean this?</p>\n</blockquote>\n<p>Err, yes (I need to learn the Zulip hotkeys)</p>",
        "id": 163496300,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440747
    },
    {
        "content": "<p>(I wish Zulip made replying to messages a bit more first-class -- need threading within a topic, too...ah well :)</p>",
        "id": 163496314,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440767
    },
    {
        "content": "<p>OK. So in terms of trying to come up with a schedule</p>",
        "id": 163496352,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440799
    },
    {
        "content": "<p>I was looking over the <a href=\"https://paper.dropbox.com/doc/Polonius-Roadmap--AbWLdB1WvUoWynPdjZ8OcYdbAg-hk3a9ynduUN2gk1A0NNTF\" target=\"_blank\" title=\"https://paper.dropbox.com/doc/Polonius-Roadmap--AbWLdB1WvUoWynPdjZ8OcYdbAg-hk3a9ynduUN2gk1A0NNTF\">polonius roadmap paper doc</a>...</p>",
        "id": 163496362,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440812
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>I can at least try to leave some notes today and maybe we can decide over next couple of days whether to also do something on friday or later</p>\n</blockquote>\n<p>you mean this?</p>\n</blockquote>\n<p>Anyway, I think this is a good solution because it a) unblocks me and has me continuing so that I b) have relevant questions for the Zoom session</p>",
        "id": 163496387,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440834
    },
    {
        "content": "<p>Yep</p>",
        "id": 163496397,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440841
    },
    {
        "content": "<p>there is this list:</p>\n<ul>\n<li>Integrating outlives relations (blogpost)<ul>\n<li>lqd has a preliminary PR (link)</li>\n</ul>\n</li>\n<li>Handling higher-ranked things (intersects universes and traits group)<ul>\n<li>see also this blog post.</li>\n</ul>\n</li>\n<li>Integrating move / overwrite analysis (a la Lark)</li>\n<li>Integrating liveness <a href=\"https://github.com/rust-lang-nursery/polonius/issues/104\" target=\"_blank\" title=\"https://github.com/rust-lang-nursery/polonius/issues/104\">polonius#104</a></li>\n</ul>",
        "id": 163496442,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440847
    },
    {
        "content": "<p>I think this still more or less covers all the major steps</p>",
        "id": 163496447,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440853
    },
    {
        "content": "<p>but it's a bit high-level :)</p>",
        "id": 163496479,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440881
    },
    {
        "content": "<p>It is</p>",
        "id": 163496496,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555440898
    },
    {
        "content": "<p>and these things are not all alike</p>",
        "id": 163496518,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440908
    },
    {
        "content": "<p>so I think the liveness stuff is ultimately fairly straightforward, although there is a good question as to whether i'm overlooking something</p>",
        "id": 163496535,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440930
    },
    {
        "content": "<p>I'm going to reorder the steps in roughly the order I think we should be working on them</p>",
        "id": 163496552,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555440948
    },
    {
        "content": "<p>So this is I think the full set of steps for liveness:</p>\n<ul>\n<li>Integrating liveness <a href=\"https://github.com/rust-lang-nursery/polonius/issues/104\" target=\"_blank\" title=\"https://github.com/rust-lang-nursery/polonius/issues/104\"><a href=\"https://github.com/rust-lang-nursery/polonius/issues/104\" target=\"_blank\" title=\"https://github.com/rust-lang-nursery/polonius/issues/104\"><a href=\"https://github.com/rust-lang-nursery/polonius/issues/104\" target=\"_blank\" title=\"https://github.com/rust-lang-nursery/polonius/issues/104\">polonius#104</a></a></a><ul>\n<li>Extend analysis to compute use-live and drop-live variables at each point</li>\n<li>Extend rustc to emit use, drop, and def facts for variables</li>\n<li>Extend rustc to emit types of variables, or at least regions that appear in those types</li>\n<li>Combine to compute which regions are live at which point</li>\n</ul>\n</li>\n</ul>",
        "id": 163496658,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441022
    },
    {
        "content": "<p>I don't expect you to understand everything I wrote there</p>",
        "id": 163496669,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441030
    },
    {
        "content": "<p>But you more or less did the first step, though there is this use-live and drop-live twist</p>",
        "id": 163496675,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441040
    },
    {
        "content": "<p>By the way, have you seen <a href=\"https://rust-lang.github.io/rfcs/2094-nll.html\" target=\"_blank\" title=\"https://rust-lang.github.io/rfcs/2094-nll.html\">the NLL RFC</a>?</p>",
        "id": 163496695,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441060
    },
    {
        "content": "<p>Seen yes, read closely: no</p>",
        "id": 163496709,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555441071
    },
    {
        "content": "<p>In particular, it has <a href=\"https://rust-lang.github.io/rfcs/2094-nll.html#liveness\" target=\"_blank\" title=\"https://rust-lang.github.io/rfcs/2094-nll.html#liveness\">a section on liveness</a></p>",
        "id": 163496776,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441095
    },
    {
        "content": "<p>and a second section on <a href=\"https://rust-lang.github.io/rfcs/2094-nll.html#layer-3-accommodating-dropck\" target=\"_blank\" title=\"https://rust-lang.github.io/rfcs/2094-nll.html#layer-3-accommodating-dropck\">accommodating dropck</a></p>",
        "id": 163496811,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441125
    },
    {
        "content": "<p>these bits are all quite relevant</p>",
        "id": 163496827,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441136
    },
    {
        "content": "<p>(the latter bit introduces this use-live vs drop-live distinction)</p>",
        "id": 163496844,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441144
    },
    {
        "content": "<p>Ah, ok so there is a difference between drop uses and live uses, basically</p>",
        "id": 163496897,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555441181
    },
    {
        "content": "<p>Yes</p>",
        "id": 163497048,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441270
    },
    {
        "content": "<p>The basic idea of NLL is this</p>",
        "id": 163497056,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441281
    },
    {
        "content": "<p>Well, I guess that makes sense given that drop isn't a real \"use\" that needs the data</p>",
        "id": 163497063,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555441289
    },
    {
        "content": "<p>Any place where a variable <code>X</code> is live, then any regions that appear in its type <code>T</code> are \"live\" --</p>",
        "id": 163497072,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441296
    },
    {
        "content": "<p>but if the only reason that <code>X</code> is live is because it will be <em>dropped</em>, we're a bit more precise, and we only include those regions that the drop may examine</p>",
        "id": 163497096,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441313
    },
    {
        "content": "<p>I guess the most naive thing we can do</p>",
        "id": 163497163,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441333
    },
    {
        "content": "<p>and probably the thing we should do to start</p>",
        "id": 163497169,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441337
    },
    {
        "content": "<p>is to compute two entirely separate notions of liveness</p>",
        "id": 163497177,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441345
    },
    {
        "content": "<p>this is inefficient because the places that a variable is a \"drop-live\" are a superset of those places where it is \"use-live\", in some sense</p>",
        "id": 163497199,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441372
    },
    {
        "content": "<p>although I guess that this is not <em>strictly</em> true, depending on how you define things, because -- for some variables -- we have no drop at all, since we can trivially see the drop is a no-op</p>",
        "id": 163497239,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441402
    },
    {
        "content": "<p>Hmm, ok</p>",
        "id": 163497378,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555441500
    },
    {
        "content": "<p>(I'm digesting this)</p>",
        "id": 163497384,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555441504
    },
    {
        "content": "<p>Anyway, it's honestly a bit hard for me to tell how long this will take you :)</p>",
        "id": 163497502,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441595
    },
    {
        "content": "<p>To begin with the real basics,  the reason we need to compute regions at all is that they may be referred to by types ('a etc), right? If they were only calculated implicitly, we could only trace each variable on its own?</p>",
        "id": 163497510,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555441610
    },
    {
        "content": "<p>But it seems like it'd be good to try and elaborate the other steps to a similar level of detail</p>",
        "id": 163497511,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441611
    },
    {
        "content": "<p>Yes, I agree</p>",
        "id": 163497513,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555441618
    },
    {
        "content": "<blockquote>\n<p>Anyway, it's honestly a bit hard for me to tell how long this will take you :)</p>\n</blockquote>\n<p>and maybe we can calibrate how long to expect for the other changes based partially on this data :)</p>",
        "id": 163497531,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441632
    },
    {
        "content": "<p>(that said, it's the hardest right now, where you are still building up context)</p>",
        "id": 163497538,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441645
    },
    {
        "content": "<blockquote>\n<p>To begin with the real basics,  the reason we need to compute regions at all is that they may be referred to by types ('a etc), right? If they were only calculated implicitly, we could only trace each variable on its own?</p>\n</blockquote>\n<p>I..guess? I'm not sure 100% what this means</p>",
        "id": 163497549,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441658
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>To begin with the real basics,  the reason we need to compute regions at all is that they may be referred to by types ('a etc), right? If they were only calculated implicitly, we could only trace each variable on its own?</p>\n</blockquote>\n<p>I..guess? I'm not sure 100% what this means</p>\n</blockquote>\n<p>I'll see if I have more questions once I have re-read the NLL RFC and/or the Rust manual, but let's drop it for now (harr harr) and I'll add it to my backlog of things to think about</p>",
        "id": 163497647,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555441734
    },
    {
        "content": "<p>yes, ok</p>",
        "id": 163497709,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441797
    },
    {
        "content": "<p>so it seems like we're ok for now, but I'll put in some energy to trying to enumerate the other points</p>",
        "id": 163497770,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441819
    },
    {
        "content": "<p>basically I have two work items:</p>\n<ul>\n<li>try to lay out the roadmap steps in more detail</li>\n<li>leave some tips for what changes to make in rustc</li>\n</ul>",
        "id": 163497823,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441873
    },
    {
        "content": "<p>I have a question re: rustc, do you know how to build a copy of rustc that (locally) uses a distinct polonius-engine?</p>",
        "id": 163497840,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441889
    },
    {
        "content": "<p>That is, you can configure rustc to use a polonius-engine from a local directory instead of <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a></p>",
        "id": 163497854,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441906
    },
    {
        "content": "<p>This would allow you to (for example) modify polonius-engine with new facts and things</p>",
        "id": 163497876,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441918
    },
    {
        "content": "<p>and then build against that</p>",
        "id": 163497908,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441923
    },
    {
        "content": "<p>and co-develop</p>",
        "id": 163497928,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555441925
    },
    {
        "content": "<blockquote>\n<p>That is, you can configure rustc to use a polonius-engine from a local directory instead of <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a></p>\n</blockquote>\n<p>Yes, that's the thing I <em>did</em> figure out when trying generate the facts on my own</p>",
        "id": 163497936,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555441937
    },
    {
        "content": "<p>Basically I stared from that and tried to see what broke in the compilation</p>",
        "id": 163497945,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555441950
    },
    {
        "content": "<p>I am also fairly sure I have managed to build and use my own versions of rustc, but it's a bit hard to tell</p>",
        "id": 163497963,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555441977
    },
    {
        "content": "<p>(I'll try to make one that crashes, that's usually a way to be sure)</p>",
        "id": 163497981,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555441994
    },
    {
        "content": "<p>heh :) you can tell with <code>rustc -vV</code> as well, I think</p>",
        "id": 163498000,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555442013
    },
    {
        "content": "<p>the output is pretty different</p>",
        "id": 163498005,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555442017
    },
    {
        "content": "<p>e.g., </p>\n<div class=\"codehilite\"><pre><span></span>&gt; rustc +nightly -vV\nrustc <span class=\"m\">1</span>.35.0-nightly <span class=\"o\">(</span>82e2f3ec2 <span class=\"m\">2019</span>-03-20<span class=\"o\">)</span>\nbinary: rustc\ncommit-hash: 82e2f3ec25a316c7536c33a6b6704366b14cbf2a\ncommit-date: <span class=\"m\">2019</span>-03-20\nhost: x86_64-unknown-linux-gnu\nrelease: <span class=\"m\">1</span>.35.0-nightly\nLLVM version: <span class=\"m\">8</span>.0\n&gt; rustc +rust-0-stage2 -vV\nrustc <span class=\"m\">1</span>.33.0-dev\nbinary: rustc\ncommit-hash: unknown\ncommit-date: unknown\nhost: x86_64-unknown-linux-gnu\nrelease: <span class=\"m\">1</span>.33.0-dev\nLLVM version: <span class=\"m\">8</span>.0\n</pre></div>",
        "id": 163498053,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1555442043
    },
    {
        "content": "<p>Well, this looks promising:</p>\n<div class=\"codehilite\"><pre><span></span>➜  Masterprojekt rustc +stage1 -vV\nrustc 1.35.0-dev\nbinary: rustc\ncommit-hash: unknown\ncommit-date: unknown\nhost: x86_64-apple-darwin\nrelease: 1.35.0-dev\nLLVM version: 8.0\n\n➜  Masterprojekt rustc +nightly -vV\nrustc 1.35.0-nightly (3de010678 2019-04-11)\nbinary: rustc\ncommit-hash: 3de0106789468b211bcc3a25c09c0cf07119186d\ncommit-date: 2019-04-11\nhost: x86_64-apple-darwin\nrelease: 1.35.0-nightly\nLLVM version: 8.0\n</pre></div>",
        "id": 163498177,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555442138
    },
    {
        "content": "<p>But I guess the relevant question for me is what <em>my</em> next step is</p>",
        "id": 163498352,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555442275
    },
    {
        "content": "<p>Also, is there anyone besides you I can/should ask about NLL/facts generation stuff when you are not around? Except yelling at the entire stream handle and hoping someone's responding</p>",
        "id": 163498748,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555442590
    },
    {
        "content": "<blockquote>\n<ul>\n<li>[ ] convert rustc to use the hybrid algorithm by default </li>\n</ul>\n</blockquote>\n<p>err, I just realised I never actually changed the default. Should I make a new PR with only that change, or piggy-back it on lifetimes when they land?</p>",
        "id": 163499520,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555443115
    },
    {
        "content": "<p>(On my phone) IIRC you did change the default in your rustc PR (a string changing from DatafrogOpt to Hybrid)</p>",
        "id": 163500083,
        "sender_full_name": "lqd",
        "timestamp": 1555443562
    },
    {
        "content": "<blockquote>\n<p>(On my phone) IIRC you did change the default in your rustc PR (a string changing from DatafrogOpt to Hybrid)</p>\n</blockquote>\n<p>Nevermind, I did, and then I forgot about it</p>",
        "id": 163500255,
        "sender_full_name": "Amanda Stjerna",
        "timestamp": 1555443694
    }
]