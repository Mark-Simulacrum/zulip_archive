[
    {
        "content": "<p><span class=\"user-group-mention\" data-user-group-id=\"1172\">@WG-async-foundations</span> meeting time!</p>",
        "id": 203130425,
        "sender_full_name": "tmandry",
        "timestamp": 1594141314
    },
    {
        "content": "<p><a href=\"https://github.com/orgs/rust-lang/projects/2\">Project board</a></p>",
        "id": 203130607,
        "sender_full_name": "tmandry",
        "timestamp": 1594141392
    },
    {
        "content": "<p>1 issue closed last week:</p>\n<ul>\n<li>Unhelpful error messages from borrow checker with async/await <a href=\"https://github.com/rust-lang/rust/issues/67765\">#67765</a></li>\n</ul>",
        "id": 203130640,
        "sender_full_name": "tmandry",
        "timestamp": 1594141414
    },
    {
        "content": "<p>Any updates on in-progress, blocked or claimed issues?</p>",
        "id": 203130737,
        "sender_full_name": "tmandry",
        "timestamp": 1594141447
    },
    {
        "content": "<p>er...sort of</p>",
        "id": 203130809,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1594141482
    },
    {
        "content": "<p>None from me</p>",
        "id": 203130815,
        "sender_full_name": "Yoshua Wuyts",
        "timestamp": 1594141485
    },
    {
        "content": "<p>I'm going to un-assign myself from <a href=\"https://github.com/rust-lang/rust/issues/72247\">#72247</a> as I don't think I'll have time to make more progress in the near term. Needs some LLVM expertise</p>",
        "id": 203130878,
        "sender_full_name": "tmandry",
        "timestamp": 1594141510
    },
    {
        "content": "<p>Continuing work on the Async stream rfc draft <a href=\"https://github.com/rust-lang/wg-async-foundations/pull/15\">https://github.com/rust-lang/wg-async-foundations/pull/15</a></p>",
        "id": 203130879,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1594141510
    },
    {
        "content": "<p>Thank you to <span class=\"user-mention\" data-user-id=\"211722\">@Yoshua Wuyts</span> for the suggestions, I'll be incorporating them in, and I would welcome feedback from every one else too :)</p>",
        "id": 203130921,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1594141534
    },
    {
        "content": "<p>Great, I will be sure to take a look after the meeting :)</p>",
        "id": 203130974,
        "sender_full_name": "tmandry",
        "timestamp": 1594141558
    },
    {
        "content": "<p>Okay, let's move on to triage</p>",
        "id": 203131102,
        "sender_full_name": "tmandry",
        "timestamp": 1594141606
    },
    {
        "content": "<p><a href=\"https://github.com/search?q=org%3Arust-lang+is%3Aissue+label%3AA-async-await+is%3Aopen+-label%3AAsyncAwait-Triaged&amp;type=Issues\">Uncategorized issues</a></p>",
        "id": 203131141,
        "sender_full_name": "tmandry",
        "timestamp": 1594141626
    },
    {
        "content": "<p>on that note, it occurs to me that I ought to make an entry for this gruop in the lang team's project board</p>",
        "id": 203131143,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594141628
    },
    {
        "content": "<h2>Confusing error message for <code>async move</code> in the 2015 edition <a href=\"https://github.com/rust-lang/rust/issues/74115\">#74115</a></h2>",
        "id": 203131285,
        "sender_full_name": "tmandry",
        "timestamp": 1594141708
    },
    {
        "content": "<p>This is a continuation of <a href=\"https://github.com/rust-lang/rust/issues/67204\">#67204</a> so it should be on deck, I think</p>",
        "id": 203131372,
        "sender_full_name": "tmandry",
        "timestamp": 1594141755
    },
    {
        "content": "<p>agreed</p>",
        "id": 203131395,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1594141767
    },
    {
        "content": "<p>great, moving on</p>",
        "id": 203131428,
        "sender_full_name": "tmandry",
        "timestamp": 1594141792
    },
    {
        "content": "<h2>Error message in async fn refers to lifetime <code>'1</code> without defining it <a href=\"https://github.com/rust-lang/rust/issues/74072\">#74072</a></h2>",
        "id": 203131431,
        "sender_full_name": "tmandry",
        "timestamp": 1594141794
    },
    {
        "content": "<p>hmm</p>",
        "id": 203131531,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594141847
    },
    {
        "content": "<p>just rephasing the message might be a start</p>",
        "id": 203131554,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594141862
    },
    {
        "content": "<p>yeah</p>",
        "id": 203131581,
        "sender_full_name": "tmandry",
        "timestamp": 1594141873
    },
    {
        "content": "<p>but it's pretty bad</p>",
        "id": 203131587,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594141876
    },
    {
        "content": "<p>e.g., \"generator\" is internal compiler jargon</p>",
        "id": 203131595,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594141880
    },
    {
        "content": "<p>but something like \"let's call the return type of the async function <code>&amp;'1 i32</code>\"</p>",
        "id": 203131628,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594141898
    },
    {
        "content": "<p>would help  a <em>bit</em></p>",
        "id": 203131642,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594141904
    },
    {
        "content": "<p>still a long way from the sync version though :(</p>",
        "id": 203131661,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594141918
    },
    {
        "content": "<p>agreed, I think that'd be a good first step</p>",
        "id": 203131665,
        "sender_full_name": "tmandry",
        "timestamp": 1594141919
    },
    {
        "content": "<p>Hey all! <span class=\"user-mention\" data-user-id=\"248777\">@Bhargav Voleti</span> and I are still working on the yield safe rfc :) not blocked on anything but finding time .</p>",
        "id": 203131915,
        "sender_full_name": "Lucio Franco",
        "timestamp": 1594142022
    },
    {
        "content": "<p>I guess as far as prioritization for <a href=\"https://github.com/rust-lang/rust/issues/74072\">#74072</a>, it feels like it might be a common thing people hit, and it'd be good to fix</p>",
        "id": 203132012,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142053
    },
    {
        "content": "<p>and it's probably not too hard?</p>",
        "id": 203132019,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142057
    },
    {
        "content": "<p>at least that basic step is not</p>",
        "id": 203132033,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142063
    },
    {
        "content": "<p>I'd call it \"on deck\", I could try to write some mentoring instructions perhaps</p>",
        "id": 203132058,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142079
    },
    {
        "content": "<p>agreed, marked and left a comment</p>",
        "id": 203132085,
        "sender_full_name": "tmandry",
        "timestamp": 1594142090
    },
    {
        "content": "<h2>Inconsistent borrow check in async function <a href=\"https://github.com/rust-lang/rust/issues/74068\">#74068</a></h2>",
        "id": 203132152,
        "sender_full_name": "tmandry",
        "timestamp": 1594142142
    },
    {
        "content": "<p>hmm</p>",
        "id": 203132292,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142223
    },
    {
        "content": "<p>odd..</p>",
        "id": 203132303,
        "sender_full_name": "tmandry",
        "timestamp": 1594142228
    },
    {
        "content": "<p>so SNCPlay42 <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span> did some really useful detective work here</p>",
        "id": 203132323,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142244
    },
    {
        "content": "<p>this seems to be caused by <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span>'s Pr that moved <code>impl Trait</code> inference to borrow checking</p>",
        "id": 203132339,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142256
    },
    {
        "content": "<p><em>probably</em> as part of some logic that is trying to suppress duplicate error reporting</p>",
        "id": 203132376,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142276
    },
    {
        "content": "<p>okay, so not async-related then</p>",
        "id": 203132468,
        "sender_full_name": "tmandry",
        "timestamp": 1594142321
    },
    {
        "content": "<p>I may kick this off to wg-prioritization</p>",
        "id": 203132566,
        "sender_full_name": "tmandry",
        "timestamp": 1594142381
    },
    {
        "content": "<p>hah, looks like we commented almost the same thing <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> :)</p>",
        "id": 203132721,
        "sender_full_name": "tmandry",
        "timestamp": 1594142462
    },
    {
        "content": "<p>edited mine a bit</p>",
        "id": 203132804,
        "sender_full_name": "tmandry",
        "timestamp": 1594142505
    },
    {
        "content": "<h2>ICE on improperly implemented TryFrom <a href=\"https://github.com/rust-lang/rust/issues/74047\">#74047</a></h2>",
        "id": 203132827,
        "sender_full_name": "tmandry",
        "timestamp": 1594142517
    },
    {
        "content": "<p>looks like it was discussed by the Prioritization Working Group 2 days ago?</p>",
        "id": 203133048,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1594142625
    },
    {
        "content": "<p>yes, it's definitely a priority</p>",
        "id": 203133137,
        "sender_full_name": "tmandry",
        "timestamp": 1594142645
    },
    {
        "content": "<p>ah, sorry, got confused for a second</p>",
        "id": 203133159,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1594142655
    },
    {
        "content": "<p>fun</p>",
        "id": 203133228,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142690
    },
    {
        "content": "<p>I was taking a while to look at what might be going on :)</p>",
        "id": 203133265,
        "sender_full_name": "tmandry",
        "timestamp": 1594142708
    },
    {
        "content": "<p>seems like -- yes -- priority -- I'm wondering btw if we should have some kind of pass of removing \"on deck\" things to make room for things like this...</p>",
        "id": 203133277,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142713
    },
    {
        "content": "<p>yeah, I was pondering it too</p>",
        "id": 203133288,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142720
    },
    {
        "content": "<p>presumably related to the <code>?</code></p>",
        "id": 203133295,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142723
    },
    {
        "content": "<blockquote>\n<p>thread 'rustc' panicked at 'no entry found for key', src/librustc_mir_build/build/mod.rs:345:9</p>\n</blockquote>",
        "id": 203133305,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142728
    },
    {
        "content": "<p><em>oh</em></p>",
        "id": 203133373,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142758
    },
    {
        "content": "<p>so if you remove the <code>?</code>... you get... (<a href=\"https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=133d8b21b222e8888bb0eeaa0f1089db\">playground</a>)</p>",
        "id": 203133414,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142763
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>error[E0046]: not all trait items implemented, missing: `Error`, `try_from`\n  --&gt; src/lib.rs:15:1\n   |\n15 | impl TryFrom&lt;OtherStream&gt; for MyStream {}\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ missing `Error`, `try_from` in implementation\n   |\n   = help: implement the missing item: `type Error = Type;`\n   = help: implement the missing item: `fn try_from(_: T) -&gt; std::result::Result&lt;Self, &lt;Self as std::convert::TryFrom&lt;T&gt;&gt;::Error&gt; { todo!() }`\n</code></pre></div>",
        "id": 203133435,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142771
    },
    {
        "content": "<p>you also get that if you remove <code>async</code> on the fn</p>",
        "id": 203133461,
        "sender_full_name": "tmandry",
        "timestamp": 1594142791
    },
    {
        "content": "<p>we fixed something before that was related to this</p>",
        "id": 203133483,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142802
    },
    {
        "content": "<p>where we were prematurely demanding the type-check of the fn</p>",
        "id": 203133496,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142810
    },
    {
        "content": "<p>brb</p>",
        "id": 203133693,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1594142894
    },
    {
        "content": "<p>anyway well I guess my <em>hunch</em> is that</p>",
        "id": 203133708,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142902
    },
    {
        "content": "<p>because we are missing those items</p>",
        "id": 203133723,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142908
    },
    {
        "content": "<p>somehow the <code>?</code> is applied to a never type or some other type that can't be matched or support the <code>Try</code> methods</p>",
        "id": 203133750,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142925
    },
    {
        "content": "<p>and I guess this is triggering the ICE..?</p>",
        "id": 203133771,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142936
    },
    {
        "content": "<p>seems plausible</p>",
        "id": 203133783,
        "sender_full_name": "tmandry",
        "timestamp": 1594142942
    },
    {
        "content": "<p>I'll drop some notes...</p>",
        "id": 203133796,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594142951
    },
    {
        "content": "<p>marking On Deck, I'll put it at the top of the list</p>",
        "id": 203133832,
        "sender_full_name": "tmandry",
        "timestamp": 1594142967
    },
    {
        "content": "<p>ah well</p>",
        "id": 203134007,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594143032
    },
    {
        "content": "<p>if you look at the end of the output, it mentions a <code>ty::Err</code></p>",
        "id": 203134019,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594143040
    },
    {
        "content": "<p>so I bet the type is <code>Result&lt;X, ty::Err&gt;</code></p>",
        "id": 203134044,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594143050
    },
    {
        "content": "<p>(anyway)</p>",
        "id": 203134056,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594143056
    },
    {
        "content": "<p>and maybe an <code>Error</code> type is unexpected in some context</p>",
        "id": 203134079,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594143069
    },
    {
        "content": "<p>back</p>",
        "id": 203134093,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1594143077
    },
    {
        "content": "<p>yeah, that seems likely!</p>",
        "id": 203134130,
        "sender_full_name": "tmandry",
        "timestamp": 1594143094
    },
    {
        "content": "<p>ok, well, that's the last issue for triage and we are out of time</p>",
        "id": 203134172,
        "sender_full_name": "tmandry",
        "timestamp": 1594143119
    },
    {
        "content": "<p>if anyone's looking for something to work on, the <a href=\"https://github.com/orgs/rust-lang/projects/2\">Project board</a> has plenty of things :)</p>",
        "id": 203134277,
        "sender_full_name": "tmandry",
        "timestamp": 1594143159
    },
    {
        "content": "<p>which reminds me</p>",
        "id": 203134309,
        "sender_full_name": "tmandry",
        "timestamp": 1594143175
    },
    {
        "content": "<p>Wanted to mention: I've been playing around with building a skill tree for async Rust; don't have anything to share quite yet, but perhaps in the future.</p>",
        "id": 203134330,
        "sender_full_name": "Yoshua Wuyts",
        "timestamp": 1594143187
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"211722\">@Yoshua Wuyts</span> ah, interesting-- I was hoping to put some time into improving the skill-tree tool for chalk, and in particular trying to alter a bit how it renders</p>",
        "id": 203134402,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594143228
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/187312-wg-async-foundations/topic/meeting.202020.2E07.2E07/near/203133277\">said</a>:</p>\n<blockquote>\n<p>seems like -- yes -- priority -- I'm wondering btw if we should have some kind of pass of removing \"on deck\" things to make room for things like this...</p>\n</blockquote>\n<p>I wanted to follow up on this.. seems like a good idea</p>",
        "id": 203134418,
        "sender_full_name": "tmandry",
        "timestamp": 1594143235
    },
    {
        "content": "<p>but also the \"expected level\" of skill-tree items</p>",
        "id": 203134432,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594143241
    },
    {
        "content": "<p>anyway, I'd game to see the skill tree at some point, but you might as well push on it in the short term (some time back I took a stab at making a skill tree for async, it was like 2018, but I bet nothing's really changed...)</p>",
        "id": 203134554,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594143284
    },
    {
        "content": "<p>(this was before the tool existed)</p>",
        "id": 203134574,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1594143290
    },
    {
        "content": "<p>(doorbell ringing; but sounds good!)</p>",
        "id": 203134658,
        "sender_full_name": "Yoshua Wuyts",
        "timestamp": 1594143339
    },
    {
        "content": "<blockquote>\n<p>I wanted to follow up on this.. seems like a good idea</p>\n</blockquote>\n<p>we can model backpressure with a simple queue length limit :)</p>",
        "id": 203134764,
        "sender_full_name": "tmandry",
        "timestamp": 1594143388
    },
    {
        "content": "<p>say, at the end of the meeting, if there are &gt;10 issues marked On Deck (and not claimed), then we remove until we get to 10</p>",
        "id": 203134820,
        "sender_full_name": "tmandry",
        "timestamp": 1594143426
    },
    {
        "content": "<p>it would also be an opportunity for someone to \"rescue\" an issue being removed by claiming it :)</p>",
        "id": 203134983,
        "sender_full_name": "tmandry",
        "timestamp": 1594143506
    },
    {
        "content": "<p>also, it means we'll actually be looking at the list of On Deck issues in each meeting</p>",
        "id": 203135071,
        "sender_full_name": "tmandry",
        "timestamp": 1594143545
    },
    {
        "content": "<p>let's try to make time for that next week and see how it works</p>",
        "id": 203135136,
        "sender_full_name": "tmandry",
        "timestamp": 1594143584
    },
    {
        "content": "<p>meeting's over, I should have split this into its own topic..</p>",
        "id": 203135215,
        "sender_full_name": "tmandry",
        "timestamp": 1594143613
    },
    {
        "content": "<p><span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span> thanks everyone for coming!</p>",
        "id": 203135224,
        "sender_full_name": "tmandry",
        "timestamp": 1594143619
    },
    {
        "content": "<p>Sorry about missing the meeting. I have another meeting at work where I was presenting at the same time as this one.</p>",
        "id": 203212440,
        "sender_full_name": "Bhargav Voleti",
        "timestamp": 1594161871
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248777\">@Bhargav Voleti</span> No problem! One of the benefits of having meetings in zulip is that people can catch up asynchronously if they aren't able to attend</p>",
        "id": 203212618,
        "sender_full_name": "tmandry",
        "timestamp": 1594162024
    },
    {
        "content": "<p>Yeah I just caught up with the meeting. I must say, Zulip is pretty nice.</p>",
        "id": 203212748,
        "sender_full_name": "Bhargav Voleti",
        "timestamp": 1594162154
    }
]