[
    {
        "content": "<p>Hello from a fairly new Rust enjoyer here !<br>\n(I'm not sure if this is the right channel to ask for help as a beginner, I will move the message if anything. Here I go):</p>\n<p>I'm having quite some troubles using conditional compilation for my operating system</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"p\">[</span><span class=\"n\">target</span><span class=\"p\">.</span><span class=\"o\">'</span><span class=\"na\">cfg</span><span class=\"p\">(</span><span class=\"n\">target_arch</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"x86_64\"</span><span class=\"p\">)</span><span class=\"o\">'</span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"n\">asm</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">path</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"asm\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">default</span><span class=\"o\">-</span><span class=\"n\">features</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">features</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s\">\"x86_64\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n\n<span class=\"p\">[</span><span class=\"n\">target</span><span class=\"p\">.</span><span class=\"o\">'</span><span class=\"na\">cfg</span><span class=\"p\">(</span><span class=\"n\">target_arch</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"aarch64\"</span><span class=\"p\">)</span><span class=\"o\">'</span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"n\">asm</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">path</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"asm\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">default</span><span class=\"o\">-</span><span class=\"n\">features</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">features</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s\">\"aarch64\"</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<p>I am trying to tell cargo to use different features from the asm crate depending on the target architecture, unfortunately, that doesn't seem to work.<br>\nCargo is telling me : </p>\n<div class=\"codehilite\"><pre><span></span><code>warning: unused manifest key: target.cfg(target_arch = &quot;aarch64&quot;).asm\nwarning: unused manifest key: target.cfg(target_arch = &quot;x86_64&quot;).asm\n</code></pre></div>\n<p>and I cannot seem to be able to use the crate at all either.</p>\n<p>Does anyone know what have I done wrong here?</p>",
        "id": 262507699,
        "sender_full_name": "infrandomness",
        "timestamp": 1637698370
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"459607\">@infrandomness</span> You're missing the <code>.dependencies</code> as in <code>[target.'cfg(target_arch = \"aarch64\")'.dependencies]</code></p>",
        "id": 262512559,
        "sender_full_name": "Eric Huss",
        "timestamp": 1637701002
    }
]