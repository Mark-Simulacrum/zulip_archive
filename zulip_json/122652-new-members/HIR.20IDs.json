[
    {
        "content": "<p>Is it expected that a HIR ID from a hir::PatKind::Struct's field is always valid? Doesn't seem to be the case. When trying to look up the given HIR ID in the map, using tcx.hir().get(fld.hir_id), we see \"couldn't find hir id HirID in the HIR map\". Why would this be? I'm @nightly-2021-11-01 so slightly out of date.</p>",
        "id": 268901250,
        "sender_full_name": "hgm4",
        "timestamp": 1642798169
    },
    {
        "content": "<p>I believe all <code>HirId</code>s in the HIR should always be valid.</p>",
        "id": 268901351,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642798217
    },
    {
        "content": "<p>That's what I believed too :) Doesn't seem to be the case for whatever reason.</p>",
        "id": 268901400,
        "sender_full_name": "hgm4",
        "timestamp": 1642798242
    },
    {
        "content": "<p>Which HirId are you trying?</p>",
        "id": 268901632,
        "sender_full_name": "cjgillot",
        "timestamp": 1642798357
    },
    {
        "content": "<p>The hir_id from a PatField.</p>",
        "id": 268901786,
        "sender_full_name": "hgm4",
        "timestamp": 1642798443
    },
    {
        "content": "<p>Perhaps try clearing the build directory of the program you're compiling?</p>",
        "id": 268901841,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642798487
    },
    {
        "content": "<p>It's \"normal\" it's not in the HIR map, it's not inserted into it.  If it's required, you can add a variant to <code>hir::Node</code>, and the insertion code in <code>rustc_ast_lowering::index</code>.</p>",
        "id": 268901915,
        "sender_full_name": "cjgillot",
        "timestamp": 1642798545
    },
    {
        "content": "<p>There isn't a build directory. It is running through a compiler plugin I wrote so the fault is most likely mine. Just trying to figure out why.</p>",
        "id": 268901919,
        "sender_full_name": "hgm4",
        "timestamp": 1642798547
    },
    {
        "content": "<p>Maybe I should explain what I'm looking to get instead if it isn't guaranteed to be in the HIR map. I have a PatKind::Struct and would like to obtain the type of each field if this is possible?</p>",
        "id": 268902073,
        "sender_full_name": "hgm4",
        "timestamp": 1642798623
    }
]