[
    {
        "content": "<p>Hello :) C, C++, python user here looking to familiarise himself with Rust. Is this the appropriate place to ask about a technical problem I have following the 'Getting started' guide (the ferris-says example)?</p>",
        "id": 262401521,
        "sender_full_name": "Gary Black",
        "timestamp": 1637630433
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459431\">Gary Black</span> <a href=\"#narrow/stream/122652-new-members/topic/New.20Rust.20user.20here/near/262401521\">said</a>:</p>\n<blockquote>\n<p>Hello :) C, C++, python user here looking to familiarise himself with Rust. Is this the appropriate place to ask about a technical problem I have following the 'Getting started' guide (the ferris-says example)?</p>\n</blockquote>\n<p>Uhhh go for it?</p>",
        "id": 262401692,
        "sender_full_name": "Jubilee",
        "timestamp": 1637630579
    },
    {
        "content": "<p>Thanks. I'm on Debian 10 (using standard debian packages for rust) and following the instructions, but when I add ferris-says as a dependency and run 'cargo update', I get the error<br>\nCaused by: failed to fetch <code>https://github.com/rust-lang/crates.io-index</code>. Caused by: HTTP parser error: success; class=Net (12)<br>\nIt's as if when it tries to update the registry, it doesn't like what it sees at the github address</p>",
        "id": 262401936,
        "sender_full_name": "Gary Black",
        "timestamp": 1637630789
    },
    {
        "content": "<p>Hrm, this sounds a little dubious, <code>cargo update</code> is never mentioned in the example.</p>",
        "id": 262402104,
        "sender_full_name": "Jubilee",
        "timestamp": 1637630986
    },
    {
        "content": "<p>Ah excuse me :) I was trying other commands to try to fix it. The result is the same with <code>cargo build</code> or <code>cargo run</code>.</p>",
        "id": 262402238,
        "sender_full_name": "Gary Black",
        "timestamp": 1637631047
    },
    {
        "content": "<p>Ah alright, and what does <code>cat Cargo.toml</code> look like again?</p>",
        "id": 262402298,
        "sender_full_name": "Jubilee",
        "timestamp": 1637631112
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>[package]\nname = &quot;testgary&quot;\nversion = &quot;0.1.0&quot;\nauthors = [&quot;gary&quot;]\nedition = &quot;2018&quot;\n\n# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n\n[dependencies]\nferris-says = &quot;0.2&quot;\n</code></pre></div>",
        "id": 262402383,
        "sender_full_name": "Gary Black",
        "timestamp": 1637631166
    },
    {
        "content": "<p>\\```toml<br>\non its own line</p>",
        "id": 262402409,
        "sender_full_name": "Jubilee",
        "timestamp": 1637631194
    },
    {
        "content": "<p>hm.</p>",
        "id": 262402425,
        "sender_full_name": "Jubilee",
        "timestamp": 1637631223
    },
    {
        "content": "<p>and the error just starts off<br>\n\"Caused by: failed to fetch\"?</p>",
        "id": 262402547,
        "sender_full_name": "Jubilee",
        "timestamp": 1637631325
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>    Updating crates.io index\nwarning: spurious network error (2 tries remaining): HTTP parser error: success; class=Net (12)\nwarning: spurious network error (1 tries remaining): HTTP parser error: success; class=Net (12)\nerror: failed to load source for a dependency on `ferris-says`\n\nCaused by:\n  Unable to update registry `https://github.com/rust-lang/crates.io-index`\n\nCaused by:\n  failed to fetch `https://github.com/rust-lang/crates.io-index`\n\nCaused by:\n  HTTP parser error: success; class=Net (12)\n</code></pre></div>",
        "id": 262402634,
        "sender_full_name": "Gary Black",
        "timestamp": 1637631404
    },
    {
        "content": "<p>Hmmmm are you on Debian-on-Linux-on-bare-metal or is this virtualized?</p>",
        "id": 262402771,
        "sender_full_name": "Jubilee",
        "timestamp": 1637631577
    },
    {
        "content": "<p>No virtualisation, just Debian 10 netinstalled on a laptop</p>",
        "id": 262402883,
        "sender_full_name": "Gary Black",
        "timestamp": 1637631674
    },
    {
        "content": "<p>netinstalled?</p>",
        "id": 262402921,
        "sender_full_name": "Jubilee",
        "timestamp": 1637631723
    },
    {
        "content": "<p>Yes. Using this method <a href=\"https://www.debian.org/CD/netinst/\">https://www.debian.org/CD/netinst/</a> . I update it often</p>",
        "id": 262403014,
        "sender_full_name": "Gary Black",
        "timestamp": 1637631840
    },
    {
        "content": "<p>Ah.</p>",
        "id": 262403079,
        "sender_full_name": "Jubilee",
        "timestamp": 1637631897
    },
    {
        "content": "<p>And you're using rustup's version of Rust? hm.</p>",
        "id": 262403105,
        "sender_full_name": "Jubilee",
        "timestamp": 1637631926
    },
    {
        "content": "<p>I think so? I ran <code>apt install cargo</code> as root</p>",
        "id": 262403299,
        "sender_full_name": "Gary Black",
        "timestamp": 1637632159
    },
    {
        "content": "<p>Oh.</p>",
        "id": 262403375,
        "sender_full_name": "Jubilee",
        "timestamp": 1637632209
    },
    {
        "content": "<p>Have I missed a step?</p>",
        "id": 262403497,
        "sender_full_name": "Gary Black",
        "timestamp": 1637632351
    },
    {
        "content": "<p>Unfortunately,<br>\nI have no idea what is wrong with Debian's version of Cargo, then.<br>\nWe generally recommend people use the official Rustup toolchain installation from <a href=\"https://rustup.rs/\">https://rustup.rs/</a>, which installs into <code>/home/$user/.cargo</code>, and distributions will modify our toolchain for their own esoteric reasons.</p>",
        "id": 262403510,
        "sender_full_name": "Jubilee",
        "timestamp": 1637632379
    },
    {
        "content": "<p>Ah okay. Yeah I suspected something like that might be involved, especially with Rust dev being relatively fast compared to Debian? (Sorry not too sure of the specifics)</p>",
        "id": 262403670,
        "sender_full_name": "Gary Black",
        "timestamp": 1637632548
    },
    {
        "content": "<p>Extremely.</p>",
        "id": 262403675,
        "sender_full_name": "Jubilee",
        "timestamp": 1637632557
    },
    {
        "content": "<p>Ok, I'll try installing using from rustup outside of apt</p>",
        "id": 262403728,
        "sender_full_name": "Gary Black",
        "timestamp": 1637632596
    },
    {
        "content": "<p>Thanks for the advice.</p>",
        "id": 262403842,
        "sender_full_name": "Gary Black",
        "timestamp": 1637632712
    },
    {
        "content": "<p>To think of it another way: Most distributions have the \"selling proposition\" that they have lots of years of experience in shipping software, more than most devs, especially more than most when it comes to shipping binaries compiled from C toolchains, which are at the heart of most distros.</p>\n<p>However, that's different with Rust, as most distros started shipping Rust fairly recently, in some cases \"in the last year or so\" recently, and Rust does at least a few things... idiosyncratically. So it is actually <strong>easy</strong> for a Rust dev to have more experiencing shipping Rust binaries than the distro. At least, at the moment.</p>",
        "id": 262403855,
        "sender_full_name": "Jubilee",
        "timestamp": 1637632745
    },
    {
        "content": "<p>And I think the ones that have been shipping Rust the longest are also the ones that have made more... philosophically compatible choices, like Arch Linux and its rolling release schedule.</p>",
        "id": 262404305,
        "sender_full_name": "Jubilee",
        "timestamp": 1637633136
    },
    {
        "content": "<p>Alright that's fixed it. No issues using rustup from that installation script</p>",
        "id": 262405164,
        "sender_full_name": "Gary Black",
        "timestamp": 1637634146
    },
    {
        "content": "<p>Thanks a lot. It's unfortunate that stock stable Debian doesn't work</p>",
        "id": 262405192,
        "sender_full_name": "Gary Black",
        "timestamp": 1637634206
    },
    {
        "content": "<p>Yeaaaah there's a reason the Rust emphasis on \"stability\" is caveated \"...<strong>without</strong> stagnation\".</p>",
        "id": 262405389,
        "sender_full_name": "Jubilee",
        "timestamp": 1637634434
    },
    {
        "content": "<p>I see. Ok, see you.</p>",
        "id": 262405589,
        "sender_full_name": "Gary Black",
        "timestamp": 1637634669
    }
]