[
    {
        "content": "<p>Hey, when I open the whole compiler in VSCode like that:<br>\n<a href=\"/user_uploads/4715/CX5yOUXEAtf5G9SHH3FgxT6V/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/CX5yOUXEAtf5G9SHH3FgxT6V/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/CX5yOUXEAtf5G9SHH3FgxT6V/image.png\"></a></div><p>I get the following error, as soon as I save a change:</p>\n<div class=\"codehilite\"><pre><span></span><code>cargo check failed: Os { code: 193, kind: Uncategorized, message: &quot;%1 is not a valid Win32 application.&quot; }:\n</code></pre></div>\n<p>Any idea why I am getting this problem?</p>\n<p>My config looks like that:<br>\n<a href=\"/user_uploads/4715/Fp-6w6sKbDsJ_O_tY6cb6p-p/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/Fp-6w6sKbDsJ_O_tY6cb6p-p/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/Fp-6w6sKbDsJ_O_tY6cb6p-p/image.png\"></a></div>",
        "id": 269028223,
        "sender_full_name": "Anon",
        "timestamp": 1642957887
    },
    {
        "content": "<p>Does it work if you add <code>py</code> as command before <code>./x.py</code>?</p>",
        "id": 269030414,
        "sender_full_name": "bjorn3",
        "timestamp": 1642960670
    },
    {
        "content": "<p>You mean like that?</p>\n<div class=\"codehilite\"><pre><span></span><code>&quot;rust-analyzer.checkOnSave.overrideCommand&quot;: [\n        &quot;py ./x.py&quot;,\n        &quot;check&quot;,\n        &quot;--json-output&quot;\n    ],\n</code></pre></div>\n<p>this leads to the following error: <br>\n<code>cargo check failed: Os { code: 2, kind: NotFound, message: \"The system cannot find the file specified.\" }:</code></p>",
        "id": 269031863,
        "sender_full_name": "Anon",
        "timestamp": 1642962290
    },
    {
        "content": "<p>I mean</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"nt\">\"rust-analyzer.checkOnSave.overrideCommand\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"s2\">\"py\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\" ./x.py\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"check\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"--json-output\"</span>\n    <span class=\"p\">],</span>\n</code></pre></div>",
        "id": 269033331,
        "sender_full_name": "bjorn3",
        "timestamp": 1642964332
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"s\">\"rust-analyzer.checkOnSave.overrideCommand\"</span>: <span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"s\">\"py\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"s\">\" ./x.py\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"s\">\"check\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"s\">\"--json-output\"</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">],</span><span class=\"w\"></span>\n</code></pre></div>\n<p>This will still lead to: </p>\n<div class=\"codehilite\"><pre><span></span><code>cargo check failed: Os { code: 2, kind: NotFound, message: &quot;The system cannot find the file specified.&quot; }:\n</code></pre></div>\n<p>I also tried to do this:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"s\">\"rust-analyzer.checkOnSave.overrideCommand\"</span>: <span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"s\">\"py\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"s\">\" ./x.py\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"s\">\" check\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"s\">\" --json-output\"</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">],</span><span class=\"w\"></span>\n</code></pre></div>\n<p>But it did not solve anything</p>",
        "id": 269033959,
        "sender_full_name": "Anon",
        "timestamp": 1642965094
    },
    {
        "content": "<p>make sure to use whatever python is named for you, on windows its usually just <code>python</code>, not <code>py</code></p>",
        "id": 269049177,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1642985556
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"300586\">@Lukas Wirth</span> </p>\n<p>I think we are getting there. Indeed it is named python.</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"s\">\"rust-analyzer.checkOnSave.overrideCommand\"</span>: <span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"s\">\"python\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"s\">\" ./x.py\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"s\">\"check\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"s\">\"--json-output\"</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">],</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Now I am getting the following error:<br>\n<code>cargo check failed: Cargo watcher failed, the command produced no valid metadata (exit code: ExitStatus(ExitStatus(2)))</code></p>",
        "id": 269087881,
        "sender_full_name": "Anon",
        "timestamp": 1643021680
    },
    {
        "content": "<p>what do you get when running that manually?</p>",
        "id": 269088876,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1643022149
    },
    {
        "content": "<p>Weird, executing <code>C:\\rust&gt;python ./x.py check</code> and <code>C:\\rust&gt;python ./x.py check --json-output</code> via terminal succeed.</p>",
        "id": 269090430,
        "sender_full_name": "Anon",
        "timestamp": 1643022959
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/RsxktIIZmndSdKS1M3e40KJW/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/RsxktIIZmndSdKS1M3e40KJW/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/RsxktIIZmndSdKS1M3e40KJW/image.png\"></a></div><p>And with additional json flag:</p>\n<p><a href=\"/user_uploads/4715/XfavwbDOIH1oE9qiPdYMDbtn/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/XfavwbDOIH1oE9qiPdYMDbtn/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/XfavwbDOIH1oE9qiPdYMDbtn/image.png\"></a></div>",
        "id": 269090581,
        "sender_full_name": "Anon",
        "timestamp": 1643023034
    },
    {
        "content": "<p>Reinstalling VSCode fixed the issue.</p>",
        "id": 269105864,
        "sender_full_name": "Anon",
        "timestamp": 1643031513
    }
]