[
    {
        "content": "<p>Trying to hack rustc, and I got  error similar to this issue.</p>\n<p><a href=\"https://github.com/rust-lang/rust/issues/80096#issuecomment-1006168372\">https://github.com/rust-lang/rust/issues/80096#issuecomment-1006168372</a></p>\n<ul>\n<li>Do a fresh clone of rust-lang/rust</li>\n<li>Run ./x.py setup</li>\n<li>Select option (b) \"compiler: Contribute to the compiler itself\"</li>\n<li>Run ./x.py test</li>\n</ul>\n<p>My result:<br>\n···<br>\nDocumenting error index (x86_64-unknown-linux-gnu)<br>\nBuilding stage0 tool error_index_generator (x86_64-unknown-linux-gnu)<br>\n    Finished release [optimized] target(s) in 0.21s<br>\n/home/sgk/side/rust/build/x86_64-unknown-linux-gnu/stage0-tools-bin/error_index_generator: error while loading shared libraries: <a href=\"http://libLLVM-14-rust-1.61.0-nightly.so\">libLLVM-14-rust-1.61.0-nightly.so</a>: cannot open shared object file<br>\n···</p>\n<p>Comment suggest adding <code>--stage 2</code> but I suspect building stage 2 would become bottleneck.</p>",
        "id": 276458244,
        "sender_full_name": "sgk",
        "timestamp": 1648119190
    },
    {
        "content": "<p>--stage 2 is the only workaround I know at this time. The long term fix is to make the error index not depend on rustdoc.</p>",
        "id": 276475148,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1648128523
    },
    {
        "content": "<p>Happy to mentor that work if you're interested :)</p>",
        "id": 276475181,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1648128543
    },
    {
        "content": "<p>You can run tests more selectively. E.g. <code>./x.py test --stage 1 src/test/ui</code></p>",
        "id": 276481656,
        "sender_full_name": "The 8472",
        "timestamp": 1648131526
    },
    {
        "content": "<p>TBH I've never in my life successfully run a full <code>x.py test</code>.  I just make that CI's problem <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>\n<p>But if you do end up needing stage 2 often, you can also do things like build it once, then afterwards always use <code>x.py test --stage 2 --keep-stage 1 --keep-stage 0</code> to not rebuild the first 2.</p>",
        "id": 276498236,
        "sender_full_name": "scottmcm",
        "timestamp": 1648137914
    },
    {
        "content": "<p>Thanks for the help! I would avoid running full test then. I'm mostly looking over the code randomly, then find a suitable issue to contribute.</p>",
        "id": 276565606,
        "sender_full_name": "sgk",
        "timestamp": 1648176335
    },
    {
        "content": "<p>And yeah, I think I will need some mentoring after I decide what to work on. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span>  Is <code>t-compiler/help</code> the correct channel for finding mentor?</p>",
        "id": 276566340,
        "sender_full_name": "sgk",
        "timestamp": 1648176557
    },
    {
        "content": "<p>Yup, this is a good channel :)</p>",
        "id": 276566618,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1648176629
    }
]