[
    {
        "content": "<p>Hi all, does anyone know how rust does binary consistency checking? It is best to recommend relevant documents.<br>\nAll I see is this:<a href=\"https://blog.rust-lang.org/2021/05/10/Rust-1.52.1.html\">https://blog.rust-lang.org/2021/05/10/Rust-1.52.1.html</a></p>",
        "id": 267839202,
        "sender_full_name": "Heisenberg",
        "timestamp": 1642063920
    },
    {
        "content": "<p>What do you mean with \"binary consistency checking\"?</p>",
        "id": 267841825,
        "sender_full_name": "bjorn3",
        "timestamp": 1642065386
    },
    {
        "content": "<p>The check referenced in the link you posted is roughly about checking that incremental compilation caches are still correct and not missed any dependencies that should have invalidated them.</p>",
        "id": 267842046,
        "sender_full_name": "bjorn3",
        "timestamp": 1642065495
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"133247\">bjorn3</span> <a href=\"#narrow/stream/182449-t-compiler.2Fhelp/topic/binary.20consistency.20check/near/267842046\">said</a>:</p>\n<blockquote>\n<p>The check referenced in the link you posted is roughly about checking that incremental compilation caches are still correct and not missed any dependencies that should have invalidated them.</p>\n</blockquote>\n<p>My understanding is that the same code is compiled twice under the same conditions and the resulting binary is the same.</p>",
        "id": 267860549,
        "sender_full_name": "Heisenberg",
        "timestamp": 1642076200
    },
    {
        "content": "<p>The code isn't compiled twice. These consistency checks only apply to when incremental compilation is used. You have to manually compile twice that if you want to verify reproducibility.</p>",
        "id": 267873980,
        "sender_full_name": "bjorn3",
        "timestamp": 1642083287
    },
    {
        "content": "<p>This refers to consistency of Fingerprints/Hashes of entries in the incremental compilation cache (see <a href=\"https://rustc-dev-guide.rust-lang.org/queries/incremental-compilation-in-detail.html#checking-query-results-for-changes-hashstable-and-fingerprints\">https://rustc-dev-guide.rust-lang.org/queries/incremental-compilation-in-detail.html#checking-query-results-for-changes-hashstable-and-fingerprints</a>)</p>",
        "id": 267894489,
        "sender_full_name": "mw",
        "timestamp": 1642091840
    }
]