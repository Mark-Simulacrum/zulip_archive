[
    {
        "content": "<p>What is the intended way to get run-make-fulldeps to work on msvc windows?</p>",
        "id": 250045430,
        "sender_full_name": "Nikita Popov",
        "timestamp": 1629405266
    },
    {
        "content": "<p>I'm trying to run it from the tools command prompt, which fails due to lots of missing unix commands. They'd be available in git bash, but that would give me a mingw build.</p>",
        "id": 250045568,
        "sender_full_name": "Nikita Popov",
        "timestamp": 1629405361
    },
    {
        "content": "<p>I think the way CI does it is by installing a bunch of mingw tools so they're available in cmd.exe? I'd have to look at the CI scripts</p>",
        "id": 250045909,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1629405551
    },
    {
        "content": "<p>Yea, I normally just put the mingw stuff in my PATH.  You can also run <code>x.py</code> from an msys environment, and set the build target to msvc.</p>",
        "id": 250046193,
        "sender_full_name": "Eric Huss",
        "timestamp": 1629405709
    },
    {
        "content": "<p>Running from msys environment makes it fail in new and exciting ways. <code>/usr/bin/sh: -c: line 0: unexpected EOF while looking for matching \"</code></p>",
        "id": 250051849,
        "sender_full_name": "Nikita Popov",
        "timestamp": 1629408549
    },
    {
        "content": "<p>Interesting. I usually work on windows-gnu targets from under MSYS2, and occasionally run MSVC testing, and usually it \"just works\" and amounts to switching to an MSVC target for x.py.</p>",
        "id": 250106879,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1629459535
    },
    {
        "content": "<p>Yay, I got it to work under msys2. Not sure what went wrong before, but with a clean msys2 setup and using the packages from <a href=\"https://github.com/rust-lang/rust/blob/master/README.md#mingw\">https://github.com/rust-lang/rust/blob/master/README.md#mingw</a> it worked.</p>",
        "id": 250150647,
        "sender_full_name": "Nikita Popov",
        "timestamp": 1629481845
    },
    {
        "content": "<blockquote>\n<p>MSYS2 can be used to easily build Rust on Windows:</p>\n</blockquote>\n<p><em>press X to doubt</em></p>",
        "id": 250151224,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1629482162
    }
]