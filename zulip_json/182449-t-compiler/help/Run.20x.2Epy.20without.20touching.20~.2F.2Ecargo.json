[
    {
        "content": "<p>I want to do a fully self-contained build of rust. I notice that even with <code>vendor = true</code> in config.toml, a <code>$HOME/.cargo</code> is created and written to</p>",
        "id": 269479384,
        "sender_full_name": "Collin Baker",
        "timestamp": 1643229929
    },
    {
        "content": "<p>I'm probably misunderstanding what <code>vendor</code> does</p>",
        "id": 269479427,
        "sender_full_name": "Collin Baker",
        "timestamp": 1643229949
    },
    {
        "content": "<p>is there an option to keep everything in the rust source dir?</p>",
        "id": 269479495,
        "sender_full_name": "Collin Baker",
        "timestamp": 1643229966
    },
    {
        "content": "<p>You can set the <code>CARGO_HOME_DIR</code> env var I believe to use another dir than <code>~/.cargo</code>. By the way what does cargo exactly write to it when using <code>vendor</code>? I can imagine it sets up the directory structure like it would when actually using <a href=\"http://crates.io\">crates.io</a> or git repos but not write any actual data. As for what <code>vendor</code> exactly does, it avoids downloading things from the internet.</p>",
        "id": 269480369,
        "sender_full_name": "bjorn3",
        "timestamp": 1643230363
    },
    {
        "content": "<p><code>$CARGO_HOME </code> iirc</p>",
        "id": 269533893,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1643267947
    },
    {
        "content": "<p>is setting $CARGO_HOME to the source root supported?</p>",
        "id": 269604918,
        "sender_full_name": "Collin Baker",
        "timestamp": 1643303589
    },
    {
        "content": "<p>because there is also a .cargo directory when building, which I'd figure would conflict in some way</p>",
        "id": 269604990,
        "sender_full_name": "Collin Baker",
        "timestamp": 1643303617
    },
    {
        "content": "<p>You can create an empty directory in the source root and point <code>CARGO_HOME</code> to it.</p>",
        "id": 269606793,
        "sender_full_name": "bjorn3",
        "timestamp": 1643304322
    }
]