[
    {
        "content": "<p>Is there a convenience function for this somewhere? I'd considered going through <code>mk_const</code>, but it seems somewhat tricky to get all the details of the types and sizes and such right</p>",
        "id": 274032504,
        "sender_full_name": "Jake",
        "timestamp": 1646338355
    },
    {
        "content": "<p>There are convenience helpers on the type itself: <a href=\"https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Const.html#method.from_usize\">https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Const.html#method.from_usize</a></p>",
        "id": 274033382,
        "sender_full_name": "oli",
        "timestamp": 1646338732
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"124288\">oli</span> <a href=\"#narrow/stream/182449-t-compiler.2Fhelp/topic/Turning.20a.20.60Discr.60.20into.20a.20.60Const.60/near/274033382\">said</a>:</p>\n<blockquote>\n<p>There are convenience helpers on the type itself: <a href=\"https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Const.html#method.from_usize\">https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Const.html#method.from_usize</a></p>\n</blockquote>\n<p>Ah, I had missed this. That doesn't seem to be quite what I want though, since the type of a <code>Discr</code> could be any integer type</p>",
        "id": 274034038,
        "sender_full_name": "Jake",
        "timestamp": 1646339042
    },
    {
        "content": "<p><code>from_bits</code> looks closer though, I'll try and use that. Thanks for the pointer!</p>",
        "id": 274034138,
        "sender_full_name": "Jake",
        "timestamp": 1646339092
    }
]