[
    {
        "content": "<p>Hi, if there is a way to copy a rustc_hir::Ty?</p>",
        "id": 277004331,
        "sender_full_name": "Jaic1",
        "timestamp": 1648560541
    },
    {
        "content": "<p>I believe you should have an <code>&amp;'tcx rustc_hir::Ty</code> and not an owned <code>rustc_hir::Ty</code> normally. The former type can be freely copied.</p>",
        "id": 277006530,
        "sender_full_name": "bjorn3",
        "timestamp": 1648561514
    },
    {
        "content": "<p>Thanks, I change my code to use <code>&amp;'tcx rustc_hir::Ty</code> now.</p>",
        "id": 277008366,
        "sender_full_name": "Jaic1",
        "timestamp": 1648562308
    },
    {
        "content": "<p>But is there any specific reason why <code>rustc_hir::Ty</code> is not <code>Copy</code>, while <code>rustc_middle::ty::Ty</code> is. My guess is that <code>rustc_middle::ty::Ty</code> is interned and the type size is smaller.</p>",
        "id": 277009009,
        "sender_full_name": "Jaic1",
        "timestamp": 1648562578
    },
    {
        "content": "<p>Yeah, <code>ty::Ty</code> is effectively a type alias for an <code>&amp;'tcx ty::TyS</code>. <code>TyS</code> isn't <code>Copy</code> either.</p>",
        "id": 277015795,
        "sender_full_name": "bjorn3",
        "timestamp": 1648565190
    }
]