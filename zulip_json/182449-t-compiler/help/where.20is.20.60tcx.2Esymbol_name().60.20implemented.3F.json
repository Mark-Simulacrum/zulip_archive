[
    {
        "content": "<p>I found the following code in <code>rustc_middle/src/mir/mono.rs</code>.</p>\n<div class=\"codehilite\"><pre><span></span><code>    pub fn symbol_name(&amp;self, tcx: TyCtxt&lt;&#39;tcx&gt;) -&gt; SymbolName&lt;&#39;tcx&gt; {\n        match *self {\n            MonoItem::Fn(instance) =&gt; tcx.symbol_name(instance),\n            MonoItem::Static(def_id) =&gt; tcx.symbol_name(Instance::mono(tcx, def_id)),\n            MonoItem::GlobalAsm(hir_id) =&gt; {\n                let def_id = tcx.hir().local_def_id(hir_id);\n                SymbolName::new(tcx, &amp;format!(&quot;global_asm_{:?}&quot;, def_id))\n            }\n        }\n    }\n</code></pre></div>\n\n\n<p>But I couldln't find where <code>tcx.symbol_name(...)</code> is implemented. I couldn't find it with a JetBrain IDE with rust plugin nor by grepping the source code with \"fn symbol_name\".</p>",
        "id": 212784205,
        "sender_full_name": "sfzhu",
        "timestamp": 1602220175
    },
    {
        "content": "<p>It's probably a query</p>",
        "id": 212784257,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602220257
    },
    {
        "content": "<p>Try searching for <code>query symbol_name</code></p>",
        "id": 212784263,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602220269
    },
    {
        "content": "<blockquote>\n<p>I couldn't find it with a jetbrains ide</p>\n</blockquote>\n<p>Yeah I'm not surprised lol, queries are generated by a proc macro that generates macro_rules macros that generate other macros</p>",
        "id": 212784347,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602220419
    },
    {
        "content": "<p>Yeah, it may also fail at finding FFI related things...</p>",
        "id": 212784919,
        "sender_full_name": "sfzhu",
        "timestamp": 1602221299
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 212790038,
        "sender_full_name": "Stu",
        "timestamp": 1602227606
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 212790066,
        "sender_full_name": "Stu",
        "timestamp": 1602227637
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"230287\">Stu</span> <a href=\"#narrow/stream/182449-t-compiler.2Fhelp/topic/where.20is.20.60tcx.2Esymbol_name().60.20implemented.3F/near/212790038\">said</a>:</p>\n<blockquote>\n<p>In the first snippet, the immutable reference is not used after the mutable reference, so it gets dropped before the mutable reference is created. There’s a name for this kind of feature but i don’t know it.</p>\n</blockquote>\n<p>i moved this to a separate topic, could you please move the reply too</p>",
        "id": 212790111,
        "sender_full_name": "Haris Muzaffar",
        "timestamp": 1602227657
    }
]