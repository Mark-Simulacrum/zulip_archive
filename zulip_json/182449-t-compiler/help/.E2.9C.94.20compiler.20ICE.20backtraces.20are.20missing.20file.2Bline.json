[
    {
        "content": "<p>So I used to (like literally up to just a few days ago) would get the full file path and line number information interleaved with the regular stack trace on a rustc ICE. But now I get the stack trace referencing __just__ the method names, just like if you were to see an ICE on nightly, for example.</p>",
        "id": 271525634,
        "sender_full_name": "Michael Goulet (compiler-errors)",
        "timestamp": 1644548962
    },
    {
        "content": "<p>I've rebased a few times and rebuilt rustc quite a few times too, and every time I force the compiler to stack trace, I still just see a stack trace with no lines.</p>",
        "id": 271525715,
        "sender_full_name": "Michael Goulet (compiler-errors)",
        "timestamp": 1644549041
    },
    {
        "content": "<p>It's still very possible that I did something in my environment to make this happen -- not too familiar how rustc gets the file info in its stack traces.</p>",
        "id": 271525729,
        "sender_full_name": "Michael Goulet (compiler-errors)",
        "timestamp": 1644549066
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"426609\">@Michael Goulet (compiler-errors)</span> Which target are you building for?</p>",
        "id": 271526075,
        "sender_full_name": "Eric Huss",
        "timestamp": 1644549457
    },
    {
        "content": "<p>regular linux target, x86_64-unknown-linux-gnu or whatever it is</p>",
        "id": 271526124,
        "sender_full_name": "Michael Goulet (compiler-errors)",
        "timestamp": 1644549484
    },
    {
        "content": "<p>okay, this must've been some fluke, because I just rebased, cleaned and built master and it works.</p>\n<div class=\"codehilite\"><pre><span></span><code>thread &#39;rustc&#39; panicked at &#39;aborting due to `-Z treat-err-as-bug=1`&#39;, compiler/rustc_errors/src/lib.rs:1200:27\nstack backtrace:\n   0:     0x7fe90b52b6a3 - std::backtrace_rs::backtrace::libunwind::trace::h51898efcc48575db\n                               at /home/michael/rust/library/std/src/../../backtrace/src/backtrace/libunwind.rs:93:5\n   1:     0x7fe90b52b6a3 - std::backtrace_rs::backtrace::trace_unsynchronized::hfbd74c0e86dd44d7\n                               at /home/michael/rust/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\n   2:     0x7fe90b52b6a3 - std::sys_common::backtrace::_print_fmt::hb32e3b0d50ace6e5\n                               at /home/michael/rust/library/std/src/sys_common/backtrace.rs:66:5\n   3:     0x7fe90b52b6a3 - &lt;std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display&gt;::fmt::he025b323892a45ed\n...\n</code></pre></div>",
        "id": 271526252,
        "sender_full_name": "Michael Goulet (compiler-errors)",
        "timestamp": 1644549611
    },
    {
        "content": "<p>Well, anyways, thanks all. I'll see if it comes back :|</p>",
        "id": 271526268,
        "sender_full_name": "Michael Goulet (compiler-errors)",
        "timestamp": 1644549633
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"426609\">Michael Goulet (compiler-errors)</span> has marked this topic as resolved.</p>",
        "id": 271526274,
        "sender_full_name": "Notification Bot",
        "timestamp": 1644549636
    },
    {
        "content": "<p>(for the record, might've been due to a missing <code>rust.debug = true</code> in my <code>config.toml</code>, though I don't remember removing it.)</p>",
        "id": 271526433,
        "sender_full_name": "Michael Goulet (compiler-errors)",
        "timestamp": 1644549812
    },
    {
        "content": "<p>Any chance it might have been the beta compiler ICE-ing? We don't ship debug symbols for that so you wouldn't get file paths &amp; line numbers if the ICE happened there.</p>",
        "id": 271576761,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1644586528
    }
]