[
    {
        "content": "<p>Currently, it looks like you cannot put macros in the \"middle\" of a \"line/statement\", as in</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">some_callconv_macro</span><span class=\"o\">!</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"k\">fn</span> <span class=\"nf\">some_fn</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<p>I am not sure whether that makes sense because you still can do something like</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">callconv_fn</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"s\">\"somecallconv\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">fn</span> <span class=\"nf\">some_fn</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<p>which would expand to the desired function:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">extern</span><span class=\"w\"> </span><span class=\"s\">\"somecallconv\"</span><span class=\"w\"> </span><span class=\"k\">fn</span> <span class=\"nf\">some_fn</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<p>I am not sure whether I should propose macros embedded into statements (assuming that is what that is..?) because there are already doable alternatives for my use case for that.</p>",
        "id": 249680893,
        "sender_full_name": "HTGAzureX1212.",
        "timestamp": 1629179210
    },
    {
        "content": "<p>Thoughts?</p>",
        "id": 249682283,
        "sender_full_name": "HTGAzureX1212.",
        "timestamp": 1629180850
    },
    {
        "content": "<p>The first example can be written as attribute macro: <code>#[some_callconv_macro] fn some_fn() {}</code>. Note that to define attribute macros you need to use a proc-macro instead of decl macro (<code>macro_rules!</code>).</p>",
        "id": 249683940,
        "sender_full_name": "bjorn3",
        "timestamp": 1629182751
    },
    {
        "content": "<p>interesting, true.</p>",
        "id": 249684406,
        "sender_full_name": "HTGAzureX1212.",
        "timestamp": 1629183280
    }
]