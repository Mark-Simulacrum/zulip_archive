[
    {
        "content": "<p>I am trying to hack around and debug issue <a href=\"https://github.com/rust-lang/rust/issues/91633\">#91633</a> error message is:<br>\n<code>broken MIR in DefId(0:12 ~ error[9921]::{impl#0}::index) (_3 = &amp;(*_1)[_4]): bad assignment (&amp;&lt;[T] as std::ops::Index&lt;usize&gt;&gt;::Output = &amp;T): NoSolution</code> my problem is I can't find this <code>NoSolution</code> message .</p>\n<p>It comes from here in compiler/rustc_borrowck/src/type_check/mod.rs  ln 1382</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"nb\">Err</span><span class=\"p\">(</span><span class=\"n\">terr</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"></span>\n<span class=\"w\">                    </span><span class=\"bp\">self</span><span class=\"p\">.</span><span class=\"n\">sub_types</span><span class=\"p\">(</span><span class=\"n\">rv_ty</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">place_ty</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">location</span><span class=\"p\">.</span><span class=\"n\">to_locations</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"n\">category</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">                </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">                    </span><span class=\"n\">span_mirbug</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">                        </span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">                        </span><span class=\"n\">stmt</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">                        </span><span class=\"s\">\"bad assignment ({:?} = {:?}): {:?}\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">                        </span><span class=\"n\">place_ty</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">                        </span><span class=\"n\">rv_ty</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">                        </span><span class=\"n\">terr</span><span class=\"w\"></span>\n<span class=\"w\">                    </span><span class=\"p\">);</span><span class=\"w\"></span>\n<span class=\"w\">                </span><span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<p>When I follow <code>sub_types</code> it is defined in <code>compiler/rustc_middle/src/ty/relate.rs</code> so I am lost <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>",
        "id": 265150474,
        "sender_full_name": "Oguz",
        "timestamp": 1639659137
    },
    {
        "content": "<p>looks light it might be a debug print of some Enum or something?</p>",
        "id": 265153870,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1639660813
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"460107\">@Oguz</span>  maybe it's this one?<br>\n<a href=\"https://github.com/rust-lang/rust/blob/master/compiler/rustc_middle/src/traits/query.rs#L101\">https://github.com/rust-lang/rust/blob/master/compiler/rustc_middle/src/traits/query.rs#L101</a></p>",
        "id": 265154018,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1639660901
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">#[derive(Clone, Debug, HashStable)]</span><span class=\"w\"></span>\n<span class=\"k\">pub</span><span class=\"w\"> </span><span class=\"k\">struct</span> <span class=\"nc\">NoSolution</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"k\">pub</span><span class=\"w\"> </span><span class=\"k\">type</span> <span class=\"nc\">Fallible</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">Result</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">NoSolution</span><span class=\"o\">&gt;</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"k\">impl</span><span class=\"o\">&lt;'</span><span class=\"na\">tcx</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"nb\">From</span><span class=\"o\">&lt;</span><span class=\"n\">TypeError</span><span class=\"o\">&lt;'</span><span class=\"na\">tcx</span><span class=\"o\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">NoSolution</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">fn</span> <span class=\"nf\">from</span><span class=\"p\">(</span><span class=\"n\">_</span>: <span class=\"nc\">TypeError</span><span class=\"o\">&lt;'</span><span class=\"na\">tcx</span><span class=\"o\">&gt;</span><span class=\"p\">)</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">NoSolution</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"n\">NoSolution</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 265154059,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1639660918
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"217864\">matthiaskrgr</span> <a href=\"#narrow/stream/182449-t-compiler.2Fhelp/topic/How.20can.20I.20find.20which.20function.20emits.20this.20error.20message/near/265153870\">said</a>:</p>\n<blockquote>\n<p>looks light it might be a debug print of some Enum or something?</p>\n</blockquote>\n<p>Yes  it's that but I don't know which function gives out this error is there easy way to find this or do I have to check every function that emits this message</p>",
        "id": 265161075,
        "sender_full_name": "Oguz",
        "timestamp": 1639663965
    }
]