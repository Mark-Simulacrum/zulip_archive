[
    {
        "content": "<p>Can I get a perf run for my experimental draft PR?</p>",
        "id": 259794478,
        "sender_full_name": "Hans Kratz",
        "timestamp": 1635695934
    },
    {
        "content": "<p>See <a href=\"https://github.com/rust-lang/rust/issues/79043\">#79043</a> for the last time this was tested. Do you want to retest or just missed that PR?</p>",
        "id": 259794671,
        "sender_full_name": "The 8472",
        "timestamp": 1635696092
    },
    {
        "content": "<p>Ahh, I didn't see that v3 was tested as well in this PR. It might make sense to retest now with LLVM 13 and the new pass manager.</p>",
        "id": 259794947,
        "sender_full_name": "Hans Kratz",
        "timestamp": 1635696366
    },
    {
        "content": "<p>Also note that perf.rlo runs on intel processors that have the nasty habit of throttling momentarily when switching on AVX to ramp up power, even for \"lightweight\" AVX instructions (bit-twiddling, comparison, some integer stuff). So compiling with AVX enabled but intermittent SIMD usage might lead to the CPU transitioning in and out of those high power regimes which can increase latency.<br>\nAMDs don't have that issue so might yield different results.</p>\n<p>That said... i think some linux distro switched to v2 by default when building their C/C++ packages and it worked for them...</p>",
        "id": 259794980,
        "sender_full_name": "The 8472",
        "timestamp": 1635696418
    },
    {
        "content": "<p>Anyway, queued a perf run.</p>",
        "id": 259795190,
        "sender_full_name": "The 8472",
        "timestamp": 1635696636
    },
    {
        "content": "<p>Wait, I misunderstood that comment. It's intel on CI and amd on perf.rlo. Good.</p>",
        "id": 259795582,
        "sender_full_name": "The 8472",
        "timestamp": 1635697155
    },
    {
        "content": "<p>v2 is only SSE4.2 so they would not have run into any problems there. For AVX2 throttling it not so bad and for AVX512 it is only really bad if 512-bit vectors are used. That is why  <a href=\"https://reviews.llvm.org/D67259\">LLVM autovectorizes to 256-bit vectors by default if compiled for AVX512</a>. There are extensive blog posts on this matter by Daniel Lemire and Travis Downs.</p>",
        "id": 259795748,
        "sender_full_name": "Hans Kratz",
        "timestamp": 1635697354
    },
    {
        "content": "<p>Docker build is broken again. Looking into it.</p>",
        "id": 259797910,
        "sender_full_name": "Hans Kratz",
        "timestamp": 1635700140
    },
    {
        "content": "<p>Fixed the docker problem (in <a href=\"https://github.com/rust-lang/rust/issues/90457\">#90457</a>). <span class=\"user-mention\" data-user-id=\"330154\">@The 8472</span>  Can we try again?</p>",
        "id": 259953505,
        "sender_full_name": "Hans Kratz",
        "timestamp": 1635829181
    }
]