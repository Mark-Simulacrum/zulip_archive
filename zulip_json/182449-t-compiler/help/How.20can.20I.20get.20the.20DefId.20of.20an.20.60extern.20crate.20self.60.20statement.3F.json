[
    {
        "content": "<p>For <code>extern crate x</code> I can use <code>tcx.extern_crate</code>, which works quite well: <a href=\"https://github.com/rust-lang/rust/blob/9b440b7ee81806125325d92c1e7f77edfc894540/src/librustdoc/clean/types.rs#L412-L418\">https://github.com/rust-lang/rust/blob/9b440b7ee81806125325d92c1e7f77edfc894540/src/librustdoc/clean/types.rs#L412-L418</a><br>\nbut for <code>extern crate self</code>, I get <code>error: internal compiler error: compiler/rustc_middle/src/ty/query.rs:316:1: </code>tcx.extern_crate(DefId(0:0 ~ outer[bd55]))<code> unsupported by its crate; perhaps the </code>extern_crate<code> query was never assigned a provider function</code>. Is there a way to get this info?</p>",
        "id": 263227901,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1638317468
    },
    {
        "content": "<p>oh wait what it looks like <code>extern crate</code> statements don't have to be unique per crate??</p>",
        "id": 263228150,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1638317635
    },
    {
        "content": "<p>how does <code>extern_crate</code> give them a single <code>ExternCrateSource</code> then?</p>",
        "id": 263228223,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1638317672
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/182449-t-compiler.2Fhelp/topic/How.20can.20I.20get.20the.20DefId.20of.20an.20.60extern.20crate.20self.60.20statement.3F/near/263228223\">said</a>:</p>\n<blockquote>\n<p>how does <code>extern_crate</code> give them a single <code>ExternCrateSource</code> then?</p>\n</blockquote>\n<p>Result of the <code>extern_crate</code> query is only used for diagnostics, so it works on a best effort basis.</p>",
        "id": 263238326,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1638326965
    },
    {
        "content": "<p>I see. I'll add some comments to it tomorrow.</p>",
        "id": 263238410,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1638327093
    }
]