[
    {
        "content": "<p>Hello. I'm either confused on what is stage0, or how to skip building core.</p>\n<p>The behaviours i observe:<br>\n<code>python x.py build --stage 0</code> finishes very fast, but doesn't contain the compiler changes that i've made to the source<br>\n<code>python x.py build --stage 1</code>does contain the changes, but needs to spend time building <code>core</code></p>\n<p>I want some middle ground between the two (i.e. have the changes i made to, say, <code>rustc_middle</code> in the resulting binary, but /not/ build libcore)<br>\nI've read the basics of &lt;<a href=\"https://rustc-dev-guide.rust-lang.org/building/how-to-build-and-run.html\">https://rustc-dev-guide.rust-lang.org/building/how-to-build-and-run.html</a>&gt; but that doesn't seem to solve my issue.</p>\n<p>Any advice would be appreciated.</p>",
        "id": 258495718,
        "sender_full_name": "moxian",
        "timestamp": 1634798893
    },
    {
        "content": "<p>there's the keep-std flag for that, that said... building core is quite fast compared to building the compiler itself.</p>",
        "id": 258506778,
        "sender_full_name": "The 8472",
        "timestamp": 1634805002
    },
    {
        "content": "<p><code>--keep-stage-std</code> works, thank you!</p>",
        "id": 258507416,
        "sender_full_name": "moxian",
        "timestamp": 1634805290
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120828\">@moxian</span> <a href=\"https://rustc-dev-guide.rust-lang.org/building/bootstrapping.html#stages-and-std\">https://rustc-dev-guide.rust-lang.org/building/bootstrapping.html#stages-and-std</a></p>",
        "id": 258541290,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1634821451
    },
    {
        "content": "<p>In particular, --keep-stage-std is unsound, and could break if you change the metadata in some subtle way</p>",
        "id": 258541361,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1634821483
    },
    {
        "content": "<p>(but usually it breaks noisily, not silently)</p>",
        "id": 258541438,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1634821513
    }
]