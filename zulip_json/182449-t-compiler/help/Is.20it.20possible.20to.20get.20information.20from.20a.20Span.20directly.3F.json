[
    {
        "content": "<p>I'm currently investigating multiple ways to add more information into the source code generated by rustdoc. For example, it would be nice to be able to click on a type to jump to its definition. Mostly like what cargo-src is doing in short.</p>\n<p>For the moment, rustdoc is using <code>rustc_lexer</code> to do so and therefore only provides tokens and their associated span. Does anyone know if I can get information from a span directly and get its associated \"Item\" using the <code>TyCtxt</code> or anything else along the line?</p>\n<p>Thanks in advance!</p>",
        "id": 232892057,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1617365587
    },
    {
        "content": "<p>I don't think that is possible. You need a HirId to get at any info. So I think you would need to build a map from byteoffsets to information. You can build this map from the HIR and then once you have it you can query it with spans' start/end</p>",
        "id": 232898749,
        "sender_full_name": "oli",
        "timestamp": 1617370287
    },
    {
        "content": "<p>Thanks for the answer. I had something similar in mind in the case that it wasn't possible directly from span. Is there a preferred way to go through all items from one crate or should I use a visitor?</p>",
        "id": 232899313,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1617370652
    },
    {
        "content": "<p>This is what rust-analyzer's source-to-def infra does, might be worth looking at</p>",
        "id": 232899880,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1617370957
    },
    {
        "content": "<p>Good idea!</p>",
        "id": 232900215,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1617371134
    }
]