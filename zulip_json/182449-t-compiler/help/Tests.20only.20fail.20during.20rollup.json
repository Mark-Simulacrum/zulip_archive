[
    {
        "content": "<p>This PR has been stuck because the tests only fail during rollup but run fine during PR CI and on my machine: <a href=\"https://github.com/rust-lang/rust/pull/90179\">https://github.com/rust-lang/rust/pull/90179</a> <br>\nDoes anyone know what the problem could be and how to solve it?</p>",
        "id": 259983107,
        "sender_full_name": "nilstrieb",
        "timestamp": 1635853051
    },
    {
        "content": "<p>I don't know what the problem is, but bors runs more tests on merge than it does for PRs. I don't know a good way to reproduce the tests locally :(</p>",
        "id": 259984592,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1635853949
    },
    {
        "content": "<p>since it's failing in <code>x86_64-gnu-nopt</code> you can run that via <code>./src/ci/docker/run.sh x86_64-gnu-nopt</code></p>",
        "id": 259987738,
        "sender_full_name": "The 8472",
        "timestamp": 1635855824
    },
    {
        "content": "<p>that takes a long time though, adjusting the command executed in the <code>Dockerfile</code> can speed things up</p>",
        "id": 259987870,
        "sender_full_name": "The 8472",
        "timestamp": 1635855892
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"330154\">@The 8472</span> is there a way to do that for windows test failures?</p>",
        "id": 259988056,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1635855981
    },
    {
        "content": "<p>as you've noticed in the PR comments, the NLL tests are failing. </p>\n<p>if they are working locally and not on CI, it looks likely that you have the <code>.nll.stderr</code> files on your machine and that they're not committed or pushed to the PR: it has no blessed NLL test expectations.</p>",
        "id": 259991592,
        "sender_full_name": "lqd",
        "timestamp": 1635858066
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span> on a non-windows machine? no, I don't think so. I saw a gist somewhere to build msvc rust under wine, but I haven't tried that myself.</p>",
        "id": 259994496,
        "sender_full_name": "The 8472",
        "timestamp": 1635859586
    },
    {
        "content": "<p>Oh I think I just found the issue. Two tests have always been failing (ui/linkage-attr/issue-10755.rs and ui/process/process-spawn-nonexistent.rs) (I should probably open an issue) so I've just been ignoring that fact. I just added the ignore-test attribute to them and turns out, there is some more stuff that is ran after they fail, for example thje NLL tests. I've now got the .nll.stderr and I hope this will fix everything! Oh man this is so dumb, but I'm glad that I finally fixed it, thank you for your help!</p>",
        "id": 260052697,
        "sender_full_name": "nilstrieb",
        "timestamp": 1635884544
    }
]