[
    {
        "content": "<p>Hello, I wanted to work on an open issue in lib/std but the tests are failing on my machine (macos M1 12.1) . I'm not sure what I did wrong, this is my first time working on internals</p>\n<div class=\"codehilite\"><pre><span></span><code>./x.py test library/std\nUpdating only changed submodules\n  Submodules updated in 0.03 seconds\nBuilding rustbuild\n    Finished dev [unoptimized] target(s) in 0.07s\nBuilding stage0 std artifacts (aarch64-apple-darwin -&gt; aarch64-apple-darwin)\n    Finished release [optimized] target(s) in 0.07s\nCopying stage0 std from stage0 (aarch64-apple-darwin -&gt; aarch64-apple-darwin / aarch64-apple-darwin)\nTesting std stage0 (aarch64-apple-darwin -&gt; aarch64-apple-darwin)\n    Finished release [optimized] target(s) in 0.07s\n     Running unittests (build/aarch64-apple-darwin/stage0-std/aarch64-apple-darwin/release/deps/std-1620871dcb41dc2f)\n\nrunning 920 tests\n.................................................................................................... 100/920\n.................................................................................................... 200/920\n..................................................................i...........................thread &#39;&lt;unnamed&gt;&#39; panicked at &#39;explicit panic&#39;, library/std/src/io/buffered/tests.rs:495:13\n...... 300/920\n.....................................................................thread &#39;&lt;unnamed&gt;&#39; panicked at &#39;explicit panic&#39;, library/std/src/io/stdio/tests.rs.:37:9\n.............................. 400/920\n.................................................................................................... 500/920\n.................................................................................................... 600/920\n.............................................................thread &#39;&lt;unnamed&gt;&#39; panicked at &#39;called `Result::unwrap()` on an `Err` value: RecvError&#39;, library/std/src/sync/mpsc/sync_tests.rs:346:28\n....thread &#39;&lt;unnamed&gt;&#39; panicked at &#39;called `Result::unwrap()` on an `Err` value: RecvError&#39;, library/std/src/sync/mpsc/sync_tests.rs:383:27\nthread &#39;&lt;unnamed&gt;&#39; panicked at &#39;called `Result::unwrap()` on an `Err` value: SendError { .. }&#39;, library/std/src/sync/mpsc/sync_tests.rs:371:24\n.......thread &#39;&lt;unnamed&gt;&#39; panicked at &#39;called `Result::unwrap()` on an `Err` value: RecvError&#39;, library/std/src/sync/mpsc/sync_tests.rs:250:19\n............................ 700/920\n..............thread &#39;&lt;unnamed&gt;&#39; panicked at &#39;called `Result::unwrap()` on an `Err` value: RecvError&#39;, library/std/src/sync/mpsc/tests.rs:322:28\n....thread &#39;&lt;unnamed&gt;&#39; panicked at &#39;called `Result::unwrap()` on an `Err` value: SendError { .. }&#39;, library/std/src/sync/mpsc/tests.rs:347:24\nthread &#39;&lt;unnamed&gt;&#39; panicked at &#39;called `Result::unwrap()` on an `Err` value: RecvError&#39;, library/std/src/sync/mpsc/tests.rs:359:27\n.......thread &#39;&lt;unnamed&gt;&#39; panicked at &#39;called `Result::unwrap()` on an `Err` value: RecvError&#39;, library/std/src/sync/mpsc/tests.rs:241:19\n...................................^C\nBuild completed unsuccessfully in 0:00:02\n</code></pre></div>\n<div class=\"codehilite\"><pre><span></span><code>git status\nOn branch master\nYour branch is up to date with &#39;origin/master&#39;.\n\nnothing to commit, working tree clean\n</code></pre></div>\n<div class=\"codehilite\"><pre><span></span><code>./x.py check\nUpdating only changed submodules\n  Submodules updated in 0.03 seconds\nBuilding rustbuild\n    Finished dev [unoptimized] target(s) in 0.07s\nChecking stage0 std artifacts (aarch64-apple-darwin -&gt; aarch64-apple-darwin)\n    Finished release [optimized] target(s) in 0.08s\nChecking stage0 std test/bench/example targets (aarch64-apple-darwin -&gt; aarch64-apple-darwin)\n    Finished release [optimized] target(s) in 0.07s\nChecking stage0 compiler artifacts (aarch64-apple-darwin -&gt; aarch64-apple-darwin)\n    Finished release [optimized] target(s) in 0.13s\nChecking stage0 rustdoc artifacts (aarch64-apple-darwin -&gt; aarch64-apple-darwin)\n    Finished release [optimized] target(s) in 0.08s\nChecking stage0 cranelift artifacts (aarch64-apple-darwin -&gt; aarch64-apple-darwin)\n    Finished release [optimized] target(s) in 0.01s\nChecking stage0 gcc artifacts (aarch64-apple-darwin -&gt; aarch64-apple-darwin)\n    Finished release [optimized] target(s) in 0.00s\nChecking stage0 clippy artifacts (aarch64-apple-darwin -&gt; aarch64-apple-darwin)\n    Finished release [optimized] target(s) in 0.10s\nChecking stage0 rustfmt artifacts (aarch64-apple-darwin -&gt; aarch64-apple-darwin)\n    Finished release [optimized] target(s) in 0.09s\nBuild completed successfully in 0:00:01\n</code></pre></div>",
        "id": 272245158,
        "sender_full_name": "lyinch",
        "timestamp": 1645096878
    },
    {
        "content": "<p>Those panics are expected. The tests check that various things still work correctly in the presence of panics. <a href=\"https://github.com/rust-lang/rust/blob/930fc4f59ddeb9f26d554a2c75c5355989189540/library/std/src/io/buffered/tests.rs#L508\">https://github.com/rust-lang/rust/blob/930fc4f59ddeb9f26d554a2c75c5355989189540/library/std/src/io/buffered/tests.rs#L508</a> If you let the test process finish, it should say that all tests passed.</p>",
        "id": 272245697,
        "sender_full_name": "bjorn3",
        "timestamp": 1645097219
    }
]