[
    {
        "content": "<p>Hi, I'm trying to write a new rustc ui test which uses a custom global allocator  with the <code>#[global_allocator]</code> attribute. However, for some reason it doesn't seem to replace the system one. Is this something specific to rustc ui tests which I should be aware of?</p>",
        "id": 273371253,
        "sender_full_name": "Jake Hughes",
        "timestamp": 1645920584
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"223286\">@Jake Hughes</span> Do you have <code>// no-prefer-dynamic</code></p>",
        "id": 273371536,
        "sender_full_name": "Eric Huss",
        "timestamp": 1645921039
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120518\">@Eric Huss</span> I don't, should I ?</p>",
        "id": 273371838,
        "sender_full_name": "Jake Hughes",
        "timestamp": 1645921547
    },
    {
        "content": "<p>Yea.  libstd is loaded as a shared library in ui tests.  global_allocator is not compatible with shared-libraries. I don't recall the details, but there is something about symbol resolution not compatible with using a shared library.</p>",
        "id": 273372174,
        "sender_full_name": "Eric Huss",
        "timestamp": 1645921885
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120518\">@Eric Huss</span> That did the trick. Thank you!!</p>",
        "id": 273372743,
        "sender_full_name": "Jake Hughes",
        "timestamp": 1645922773
    }
]