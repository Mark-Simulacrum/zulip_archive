[
    {
        "content": "<p>I'm trying to make <code>IndexVec::new</code> const, but I'm getting a weird error:</p>\n<div class=\"codehilite\"><pre><span></span><code>error[E0658]: function pointers cannot appear in constant functions\n  --&gt; compiler/rustc_index/src/vec.rs:89:46\n   |\n89 |         IndexVec { raw: Vec::new(), _marker: PhantomData }\n   |                                              ^^^^^^^^^^^\n   |\n   = note: see issue #57563 &lt;https://github.com/rust-lang/rust/issues/57563&gt; for more information\n   = help: add `#![feature(const_fn_fn_ptr_basics)]` to the crate attributes to enable\n</code></pre></div>\n<p><code>_marker</code> is <code>PhantomData&lt;fn(&amp;I)&gt;</code>, so yes, there's a function pointer, but it's only in the types, not the values. Is this a bug?</p>",
        "id": 275168937,
        "sender_full_name": "Noah Lev",
        "timestamp": 1647197337
    },
    {
        "content": "<p>Adding the suggested feature gate seems to resolve the problem, but it seems weird that it's needed</p>",
        "id": 275169010,
        "sender_full_name": "Noah Lev",
        "timestamp": 1647197428
    },
    {
        "content": "<p>The feature gate is already in FCP for getting merged so the next beta should hopefully remove the feature from bootstrap</p>",
        "id": 275169485,
        "sender_full_name": "oli",
        "timestamp": 1647198074
    }
]