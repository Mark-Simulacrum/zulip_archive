[
    {
        "content": "<p>I'll start updating our fargate services to platform 1.4.0</p>",
        "id": 208560300,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598882633
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> I remember triagebot having problems with it, is that still right?</p>",
        "id": 208560370,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598882646
    },
    {
        "content": "<p>I don't think we ever diagnosed it</p>",
        "id": 208560713,
        "sender_full_name": "simulacrum",
        "timestamp": 1598882809
    },
    {
        "content": "<p>I would do so one-by-one and give it ~1-2 hours of working before moving on, or we can do all at once but be prepared to revert</p>",
        "id": 208560766,
        "sender_full_name": "simulacrum",
        "timestamp": 1598882831
    },
    {
        "content": "<p>yeah that was my plan</p>",
        "id": 208560783,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598882841
    },
    {
        "content": "<p>triagebot can be tested by e.g. visiting <a href=\"https://triagebot.infra.rust-lang.org/notifications?user=dtolnay\">https://triagebot.infra.rust-lang.org/notifications?user=dtolnay</a></p>",
        "id": 208560805,
        "sender_full_name": "simulacrum",
        "timestamp": 1598882852
    },
    {
        "content": "<p>(without pinging on github)</p>",
        "id": 208560821,
        "sender_full_name": "simulacrum",
        "timestamp": 1598882862
    },
    {
        "content": "<p>or <a href=\"https://triage.rust-lang.org/bors-commit-list\">https://triage.rust-lang.org/bors-commit-list</a></p>",
        "id": 208560850,
        "sender_full_name": "simulacrum",
        "timestamp": 1598882876
    },
    {
        "content": "<p>bumping <code>crates-io-ops-bot</code> to 1.4.0</p>",
        "id": 208668765,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598955900
    },
    {
        "content": "<p><code>crates-io-ops-bot</code> seems stable</p>",
        "id": 208670560,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598957259
    },
    {
        "content": "<p>bumping <code>discord-mods-bot</code> to 1.4.0</p>",
        "id": 208670726,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598957402
    },
    {
        "content": "<p><code>discord-mods-bot</code> seems stable</p>",
        "id": 208685037,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598966302
    },
    {
        "content": "<p>bumping <code>rustc-perf</code> to 1.4.0</p>",
        "id": 208685158,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598966358
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> hmm, seems like the perf configuration on terraform is not up to date anymore</p>",
        "id": 208685458,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598966502
    },
    {
        "content": "<p>huh</p>",
        "id": 208685471,
        "sender_full_name": "simulacrum",
        "timestamp": 1598966510
    },
    {
        "content": "<p>mind pasting a diff?</p>",
        "id": 208685476,
        "sender_full_name": "simulacrum",
        "timestamp": 1598966512
    },
    {
        "content": "<p>generating</p>",
        "id": 208685541,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598966531
    },
    {
        "content": "<p>I don't recall changing things manually...</p>",
        "id": 208685597,
        "sender_full_name": "simulacrum",
        "timestamp": 1598966550
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> <a href=\"https://gist.github.com/pietroalbini/11b105dde43745d81d97317bdea412bf\">https://gist.github.com/pietroalbini/11b105dde43745d81d97317bdea412bf</a></p>",
        "id": 208685784,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598966651
    },
    {
        "content": "<p>the only change that's mine is fargate 1.3.0 -&gt; 1.4.0</p>",
        "id": 208685809,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598966665
    },
    {
        "content": "<p>oh I forgot about those</p>",
        "id": 208685853,
        "sender_full_name": "simulacrum",
        "timestamp": 1598966682
    },
    {
        "content": "<p>I think I didn't realize that was managed by terraform</p>",
        "id": 208685869,
        "sender_full_name": "simulacrum",
        "timestamp": 1598966691
    },
    {
        "content": "<p>feel free to either skip rustc-perf and I can adjust terraform config, or adjust it yourself</p>",
        "id": 208685929,
        "sender_full_name": "simulacrum",
        "timestamp": 1598966718
    },
    {
        "content": "<p>sure! I'll fix the config</p>",
        "id": 208685959,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598966735
    },
    {
        "content": "<p>and no worries</p>",
        "id": 208685965,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598966739
    },
    {
        "content": "<p>I wish there was an easy way to get aws to tell us \"hey you're changing terraform-managed state\"</p>",
        "id": 208686070,
        "sender_full_name": "simulacrum",
        "timestamp": 1598966776
    },
    {
        "content": "<p>hopefully it will be \"you logged in the aws console\" eventually</p>",
        "id": 208686111,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598966802
    },
    {
        "content": "<p>sure :)</p>",
        "id": 208686129,
        "sender_full_name": "simulacrum",
        "timestamp": 1598966809
    },
    {
        "content": "<p><em>hopefully</em></p>",
        "id": 208686141,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598966814
    },
    {
        "content": "<p>but yeah, I try to add \"terraform\" comments around</p>",
        "id": 208686167,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598966825
    },
    {
        "content": "<p>but it's not always possible</p>",
        "id": 208686181,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598966830
    },
    {
        "content": "<p>bumping <code>highfive</code> to 1.4.0 instead of <code>rustc-perf</code></p>",
        "id": 208686230,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598966862
    },
    {
        "content": "<p>bumping <code>rustc-perf</code> to 1.4.0</p>",
        "id": 208690943,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598968913
    },
    {
        "content": "<p><code>highfive</code> seems to be stable</p>",
        "id": 208690948,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598968917
    },
    {
        "content": "<p><code>rustc-perf</code> seems to have survived this :)</p>",
        "id": 208718805,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598980465
    },
    {
        "content": "<p>bumping <code>triagebot</code> to 1.4.0</p>",
        "id": 208718983,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598980554
    },
    {
        "content": "<p>flipped the switch, will monitor ecs/cloudwatch</p>",
        "id": 208719856,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598980998
    },
    {
        "content": "<p>whelp triagebot has tons of logs lol</p>",
        "id": 208720157,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598981158
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> <em>for now</em> it seems to be stable</p>",
        "id": 208720469,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598981307
    },
    {
        "content": "<p>(context for the others: we tried upgrading to fargate 1.4.0 a while ago, but triagebot kept crashing under it)</p>",
        "id": 208720494,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598981327
    },
    {
        "content": "<p>Okay</p>",
        "id": 208721286,
        "sender_full_name": "simulacrum",
        "timestamp": 1598981733
    },
    {
        "content": "<p>I guess we'll keep an eye on it</p>",
        "id": 208721302,
        "sender_full_name": "simulacrum",
        "timestamp": 1598981743
    },
    {
        "content": "<p>I'll just continue refreshing <a href=\"https://us-west-1.console.aws.amazon.com/ecs/home?region=us-west-1#/clusters/rust-ecs-prod/tasks/3874b74eeb3849f18e26405dbd5d0540/details\">https://us-west-1.console.aws.amazon.com/ecs/home?region=us-west-1#/clusters/rust-ecs-prod/tasks/3874b74eeb3849f18e26405dbd5d0540/details</a> until I go to sleep <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 208721372,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598981767
    },
    {
        "content": "<p>Oh <a href=\"https://triage.rust-lang.org/bors-commit-list\">https://triage.rust-lang.org/bors-commit-list</a> is easier</p>",
        "id": 208721404,
        "sender_full_name": "simulacrum",
        "timestamp": 1598981787
    },
    {
        "content": "<p>But sure</p>",
        "id": 208721406,
        "sender_full_name": "simulacrum",
        "timestamp": 1598981790
    },
    {
        "content": "<p>I mean that shows if the container actually crashed and was restarted</p>",
        "id": 208721421,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598981801
    },
    {
        "content": "<p>dunno if you can see if we're in a reboot-loop from the url</p>",
        "id": 208721442,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598981812
    },
    {
        "content": "<p>Oh yeah, it didn't load last time</p>",
        "id": 208721988,
        "sender_full_name": "simulacrum",
        "timestamp": 1598982093
    },
    {
        "content": "<p>Because we need 30 or 60 seconds for ELB to call the new one \"ready\" IIRC</p>",
        "id": 208722027,
        "sender_full_name": "simulacrum",
        "timestamp": 1598982115
    },
    {
        "content": "<p>well, the good news is it didn't die yet</p>",
        "id": 208722159,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598982174
    },
    {
        "content": "<p>it still seems stable</p>",
        "id": 208732463,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598986945
    },
    {
        "content": "<p>so I guess that's it for upgrading everything!</p>",
        "id": 208732486,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598986953
    },
    {
        "content": "<p>opened <a href=\"https://github.com/rust-lang/simpleinfra/pull/52\">https://github.com/rust-lang/simpleinfra/pull/52</a> as a proposal</p>",
        "id": 208732884,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1598987127
    }
]