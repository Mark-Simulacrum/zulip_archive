[
    {
        "content": "<p>hi, not sure this is the right stream, but I just opened <a href=\"https://github.com/rust-lang/rust/issues/91864\">#91864</a> (<code>Consider shipping compiler source code as a rustup component (\"rustc-src\"?)</code>)</p>",
        "id": 264736762,
        "sender_full_name": "eddyb",
        "timestamp": 1639414972
    },
    {
        "content": "<p>and I wanted to check if anyone knew what team to address/who to ping, etc.</p>",
        "id": 264736826,
        "sender_full_name": "eddyb",
        "timestamp": 1639415001
    },
    {
        "content": "<p>it's low-priority so if it's seen here at some point that's probably good enough</p>",
        "id": 264736879,
        "sender_full_name": "eddyb",
        "timestamp": 1639415016
    },
    {
        "content": "<p>I'm mostly just curious what other ppl think the tradeoffs are, of having a <code>rustc-src</code> component (separate from <code>rust-src</code> which just has <code>library</code> source code)</p>",
        "id": 264737017,
        "sender_full_name": "eddyb",
        "timestamp": 1639415054
    },
    {
        "content": "<p>Isn't the compiler source code already shipped with <code>rustc_dev</code>?</p>",
        "id": 264737447,
        "sender_full_name": "flip1995",
        "timestamp": 1639415204
    },
    {
        "content": "<p>won't I look like a fool if that's the case...</p>",
        "id": 264737581,
        "sender_full_name": "eddyb",
        "timestamp": 1639415253
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"264664\">flip1995</span> <a href=\"#narrow/stream/242791-t-infra/topic/rustc-src.20component.20.28for.20compiler.20source.20code.29/near/264737447\">said</a>:</p>\n<blockquote>\n<p>Isn't the compiler source code already shipped with <code>rustc_dev</code>?</p>\n</blockquote>\n<p>it's not AFAICT</p>",
        "id": 264737761,
        "sender_full_name": "eddyb",
        "timestamp": 1639415319
    },
    {
        "content": "<p>or at least I am not looking in the right place?</p>",
        "id": 264737867,
        "sender_full_name": "eddyb",
        "timestamp": 1639415372
    },
    {
        "content": "<p>aaah it's in a separate <code>rustc-src</code> dir /facepalm</p>",
        "id": 264737916,
        "sender_full_name": "eddyb",
        "timestamp": 1639415396
    },
    {
        "content": "<p>Yeah, I just looked it up and it is at <code>~/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/rustc-src/rust/compiler</code>. Since you also asked about rust-analyzer, Clippy has hands-on documentation on how to get that: <a href=\"https://github.com/rust-lang/rust-clippy/blob/master/CONTRIBUTING.md#rust-analyzer\">https://github.com/rust-lang/rust-clippy/blob/master/CONTRIBUTING.md#rust-analyzer</a></p>",
        "id": 264737936,
        "sender_full_name": "flip1995",
        "timestamp": 1639415402
    },
    {
        "content": "<p><em>sigh</em></p>",
        "id": 264738046,
        "sender_full_name": "eddyb",
        "timestamp": 1639415428
    },
    {
        "content": "<p>Note that to enable that for a crate, you not only have to configure rust-analyzer in your IDE, but also add </p>\n<div class=\"codehilite\" data-code-language=\"TOML\"><pre><span></span><code><span class=\"k\">[package.metadata.rust-analyzer]</span>\n<span class=\"c1\"># This package uses #[feature(rustc_private)]</span>\n<span class=\"n\">rustc_private</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n</code></pre></div>\n<p>to the Cargo.toml of your crate.</p>",
        "id": 264738181,
        "sender_full_name": "flip1995",
        "timestamp": 1639415481
    },
    {
        "content": "<p>I need to have a chat with <span class=\"user-mention\" data-user-id=\"200146\">@Daniel Mcnab</span> before I confuse myself any further</p>",
        "id": 264738552,
        "sender_full_name": "eddyb",
        "timestamp": 1639415634
    },
    {
        "content": "<p>I somehow thought I saw a diff of this being removed <a href=\"https://github.com/EmbarkStudios/rust-gpu/blame/da7c3ed71f27d67e05c0d2a4d3c839db14daf1f8/crates/rustc_codegen_spirv/Cargo.toml#L54-L56\">https://github.com/EmbarkStudios/rust-gpu/blame/da7c3ed71f27d67e05c0d2a4d3c839db14daf1f8/crates/rustc_codegen_spirv/Cargo.toml#L54-L56</a></p>",
        "id": 264738690,
        "sender_full_name": "eddyb",
        "timestamp": 1639415681
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"264664\">flip1995</span> <a href=\"#narrow/stream/242791-t-infra/topic/rustc-src.20component.20.28for.20compiler.20source.20code.29/near/264738181\">said</a>:</p>\n<blockquote>\n<p>Note that to enable that for a crate, you not only have to configure rust-analyzer in your IDE, but also add ...</p>\n</blockquote>\n<p>it was only <code>\"rust-analyzer.rustcSource\": \"discover\"</code> that I needed, the <code>Cargo.toml</code> had already been updated by <span class=\"user-mention\" data-user-id=\"200146\">@Daniel Mcnab</span></p>",
        "id": 264739626,
        "sender_full_name": "eddyb",
        "timestamp": 1639416082
    },
    {
        "content": "<p>I wish it was more discoverable (har)... there's no way around reading clippy docs or every single RA setting</p>",
        "id": 264739787,
        "sender_full_name": "eddyb",
        "timestamp": 1639416136
    }
]