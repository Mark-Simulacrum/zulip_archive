[
    {
        "content": "<p><span class=\"user-group-mention\" data-user-group-id=\"2943\">@T-infra</span> T-30min for the triage meeting</p>",
        "id": 217891146,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606314524
    },
    {
        "content": "<p>o/</p>",
        "id": 217895021,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1606316400
    },
    {
        "content": "<p>o/</p>",
        "id": 217895093,
        "sender_full_name": "simulacrum",
        "timestamp": 1606316414
    },
    {
        "content": "<p>o/</p>",
        "id": 217895094,
        "sender_full_name": "Aidan Hobson Sayers",
        "timestamp": 1606316414
    },
    {
        "content": "<p>o/</p>",
        "id": 217895189,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606316459
    },
    {
        "content": "<p>let's start!</p>",
        "id": 217895406,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606316537
    },
    {
        "content": "<p>Restore Servoâ€™s <code>style</code> crate in cargotest? <a href=\"https://github.com/rust-lang/rust/issues/79404\">#79404</a></p>",
        "id": 217895433,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606316548
    },
    {
        "content": "<p>I nominated this after the ping to the infra team</p>",
        "id": 217895452,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606316560
    },
    {
        "content": "<p>I... don't really have an opinion on this</p>",
        "id": 217895560,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606316614
    },
    {
        "content": "<p>Seems fine to restore or drop entirely or do nothing, I continue to think cargotest catches very little in practice</p>",
        "id": 217895563,
        "sender_full_name": "simulacrum",
        "timestamp": 1606316615
    },
    {
        "content": "<p>My opinion is that since we previously said the CI time was fine, I'd lean towards restore</p>",
        "id": 217895708,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1606316672
    },
    {
        "content": "<p>Minimal amount of thinking now on our part</p>",
        "id": 217895748,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1606316695
    },
    {
        "content": "<p>who wants to followup on this?</p>",
        "id": 217895755,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606316698
    },
    {
        "content": "<p>I don't really want to invest time in restoring it</p>",
        "id": 217895937,
        "sender_full_name": "simulacrum",
        "timestamp": 1606316778
    },
    {
        "content": "<p>me neither</p>",
        "id": 217895955,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606316786
    },
    {
        "content": "<p>I can reply and say we'd accept the PR</p>",
        "id": 217895969,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1606316790
    },
    {
        "content": "<p><span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 217896053,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606316831
    },
    {
        "content": "<p>there is one P-high issue</p>",
        "id": 217896269,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606316929
    },
    {
        "content": "<p>Spurious failure trying to checkout the repository <a href=\"https://github.com/rust-lang/rust/issues/78743\">#78743</a></p>",
        "id": 217896270,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606316929
    },
    {
        "content": "<p>I didn't see it ever happening again, I'd say let's close the issue</p>",
        "id": 217896287,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606316940
    },
    {
        "content": "<p>ok then!</p>",
        "id": 217896375,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606316982
    },
    {
        "content": "<p>onto the actual agenda</p>",
        "id": 217896383,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606316984
    },
    {
        "content": "<blockquote>\n<p>Permanently deleting RCS and archiving the repository</p>\n</blockquote>",
        "id": 217896405,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606316995
    },
    {
        "content": "<p>last week 1.48 was released, and that stable release was done on the new <code>promote-release</code> <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 217896504,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317036
    },
    {
        "content": "<p>I am <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span> on this</p>",
        "id": 217896546,
        "sender_full_name": "simulacrum",
        "timestamp": 1606317053
    },
    {
        "content": "<p>there was only one bug I discovered during the dev release on monday, and that was fixed</p>",
        "id": 217896563,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317064
    },
    {
        "content": "<p>with that I'd say it's time to permanently delete the RCS instance and archive the repo</p>",
        "id": 217896594,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317077
    },
    {
        "content": "<p>very cool</p>",
        "id": 217896609,
        "sender_full_name": "Aidan Hobson Sayers",
        "timestamp": 1606317085
    },
    {
        "content": "<p>so, anyone has concerns on this? <span class=\"user-mention\" data-user-id=\"261224\">@triagebot</span> await</p>",
        "id": 217897083,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317298
    },
    {
        "content": "<p>Does anyone have something to add on the current topic?<br>\nReact with <span aria-label=\"working on it\" class=\"emoji emoji-1f6e0\" role=\"img\" title=\"working on it\">:working_on_it:</span> if you have something to say.<br>\nReact with <span aria-label=\"all good\" class=\"emoji emoji-2705\" role=\"img\" title=\"all good\">:all_good:</span> if not.</p>",
        "id": 217897086,
        "sender_full_name": "triagebot",
        "timestamp": 1606317299
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"117568\">@Aidan Hobson Sayers</span>?</p>",
        "id": 217897259,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317365
    },
    {
        "content": "<p>let's move on, if aidan has comments we can revisit the topic later</p>",
        "id": 217897514,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317507
    },
    {
        "content": "<p>the next item on the agenda is the following one:</p>",
        "id": 217897531,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317514
    },
    {
        "content": "<p>Only produce .xz on CI, by me</p>",
        "id": 217897546,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317520
    },
    {
        "content": "<p>as I mentioned in previous meetings, we're currently storing both .gz and .xz in the artifacts bucket, which more than doubles the amount of data we're storing</p>",
        "id": 217897603,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317550
    },
    {
        "content": "<p>sorry - sounds good to remove RCS</p>",
        "id": 217897642,
        "sender_full_name": "Aidan Hobson Sayers",
        "timestamp": 1606317564
    },
    {
        "content": "<p>that bucket is 70+TB, and stopping to store .gz would save us a good chunk of our AWS bill</p>",
        "id": 217897673,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317580
    },
    {
        "content": "<p>Did we collect timings on recompressing yet?</p>",
        "id": 217897752,
        "sender_full_name": "simulacrum",
        "timestamp": 1606317607
    },
    {
        "content": "<p>I did some testing a couple of weeks ago, and if we change the release process to run on 8 cores instead of 2 we could recompress all the artifacts from .xz to .gz during the release process in just 20 minutes (with a full release then taking around 40-45 minutes)</p>",
        "id": 217897821,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317642
    },
    {
        "content": "<p>and is that still a win cost-wise? I presume yes?</p>",
        "id": 217897851,
        "sender_full_name": "simulacrum",
        "timestamp": 1606317662
    },
    {
        "content": "<p>didn't run the numbers yet, but I'd be <em>very</em> surprised if this is not an order of magnitude or two cheaper</p>",
        "id": 217897949,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317715
    },
    {
        "content": "<p>I'll definitely check</p>",
        "id": 217898004,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317732
    },
    {
        "content": "<p>does anyone have comments on this plan?</p>",
        "id": 217898075,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317777
    },
    {
        "content": "<p>I think we should go ahead, though I would run prices</p>",
        "id": 217898108,
        "sender_full_name": "simulacrum",
        "timestamp": 1606317798
    },
    {
        "content": "<p>I agree it should be much cheaper</p>",
        "id": 217898126,
        "sender_full_name": "simulacrum",
        "timestamp": 1606317804
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"261224\">@triagebot</span> await then!</p>",
        "id": 217898335,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317895
    },
    {
        "content": "<p>Does anyone have something to add on the current topic?<br>\nReact with <span aria-label=\"working on it\" class=\"emoji emoji-1f6e0\" role=\"img\" title=\"working on it\">:working_on_it:</span> if you have something to say.<br>\nReact with <span aria-label=\"all good\" class=\"emoji emoji-2705\" role=\"img\" title=\"all good\">:all_good:</span> if not.</p>",
        "id": 217898337,
        "sender_full_name": "triagebot",
        "timestamp": 1606317896
    },
    {
        "content": "<p>so...this is for all historic releases, right?</p>",
        "id": 217898431,
        "sender_full_name": "Aidan Hobson Sayers",
        "timestamp": 1606317945
    },
    {
        "content": "<p>this won't affect releases</p>",
        "id": 217898449,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317955
    },
    {
        "content": "<p>my plan is to avoid storing <code>.gz</code> in the <code>rust-lang-ci2</code> (commit-by-commit artifacts)</p>",
        "id": 217898523,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317973
    },
    {
        "content": "<p>do these have a limited lifetime?</p>",
        "id": 217898563,
        "sender_full_name": "Aidan Hobson Sayers",
        "timestamp": 1606317991
    },
    {
        "content": "<p>and recompress the <code>.xz</code> into <code>.gz</code> during the release process to still provide both <code>.xz</code> and <code>.gz</code> for releases</p>",
        "id": 217898564,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606317992
    },
    {
        "content": "<p>right, gotcha</p>",
        "id": 217898586,
        "sender_full_name": "Aidan Hobson Sayers",
        "timestamp": 1606318002
    },
    {
        "content": "<p>yes, they're deleted after 160something days</p>",
        "id": 217898593,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606318004
    },
    {
        "content": "<p>ok, so just so I'm 100% clear, the plan is to stop (not delete) .gz storage, then perform recompression during releases, and eventually all .gz will vanish from ci2</p>",
        "id": 217898666,
        "sender_full_name": "Aidan Hobson Sayers",
        "timestamp": 1606318043
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/wSVl4IF7k79e67ELoHlzHQRG/2020-11-25-16-27-09.png\">2020-11-25-16-27-09.png</a> <br>\nthe graph for the <code>rust-lang-ci2</code> bucket is worrying (6 months)</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/wSVl4IF7k79e67ELoHlzHQRG/2020-11-25-16-27-09.png\" title=\"2020-11-25-16-27-09.png\"><img src=\"/user_uploads/4715/wSVl4IF7k79e67ELoHlzHQRG/2020-11-25-16-27-09.png\"></a></div>",
        "id": 217898668,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606318045
    },
    {
        "content": "<p>though that's unsurprising as we add more targets and artifacts</p>",
        "id": 217898783,
        "sender_full_name": "simulacrum",
        "timestamp": 1606318090
    },
    {
        "content": "<p>also we're running more builds in those 160 days thanks to GHA</p>",
        "id": 217898814,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606318105
    },
    {
        "content": "<p>if I'm right with my summary, then <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 217898817,
        "sender_full_name": "Aidan Hobson Sayers",
        "timestamp": 1606318106
    },
    {
        "content": "<p>well .gz will vanish from ci2 bucket, not static.r-l.o</p>",
        "id": 217898848,
        "sender_full_name": "simulacrum",
        "timestamp": 1606318124
    },
    {
        "content": "<p>(yes, thanks, edited)</p>",
        "id": 217898886,
        "sender_full_name": "Aidan Hobson Sayers",
        "timestamp": 1606318144
    },
    {
        "content": "<p>if we don't get complains after a week or two that .gzs are missing from ci2 I'd just go ahead and write a script to remember all of them</p>",
        "id": 217898921,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606318159
    },
    {
        "content": "<p>I'm not convinced it's worth the time/risk to do that if they'll be gone in 6 months</p>",
        "id": 217899048,
        "sender_full_name": "Aidan Hobson Sayers",
        "timestamp": 1606318210
    },
    {
        "content": "<p>I think it'll be definitely worth it, but I'll gather actual numbers and present them in the meeting before doing that</p>",
        "id": 217899152,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606318258
    },
    {
        "content": "<p>if you feel motivated then just write the script - as long as we have a second pair of eyes to review it and a dry run, I'm fine with it</p>",
        "id": 217899230,
        "sender_full_name": "Aidan Hobson Sayers",
        "timestamp": 1606318289
    },
    {
        "content": "<p>oh, I guess it'd also be worth posting on internals too</p>",
        "id": 217899269,
        "sender_full_name": "Aidan Hobson Sayers",
        "timestamp": 1606318304
    },
    {
        "content": "<p>I'll post on internals!</p>",
        "id": 217899400,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606318340
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"261224\">@triagebot</span> await</p>",
        "id": 217899723,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606318489
    },
    {
        "content": "<p>Does anyone have something to add on the current topic?<br>\nReact with <span aria-label=\"working on it\" class=\"emoji emoji-1f6e0\" role=\"img\" title=\"working on it\">:working_on_it:</span> if you have something to say.<br>\nReact with <span aria-label=\"all good\" class=\"emoji emoji-2705\" role=\"img\" title=\"all good\">:all_good:</span> if not.</p>",
        "id": 217899725,
        "sender_full_name": "triagebot",
        "timestamp": 1606318490
    },
    {
        "content": "<p><span class=\"user-group-mention\" data-user-group-id=\"2943\">@T-infra</span> that's all from the agenda then!</p>",
        "id": 217899940,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606318581
    },
    {
        "content": "<p>as a reminder, there is the latest non-alertmanager topic on the private stream that'd love your feedback</p>",
        "id": 217899990,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606318606
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"261224\">@triagebot</span> end-meeting</p>",
        "id": 217900001,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606318611
    },
    {
        "content": "<p>Does anyone have something to bring up?<br>\nReact with <span aria-label=\"working on it\" class=\"emoji emoji-1f6e0\" role=\"img\" title=\"working on it\">:working_on_it:</span> if you have something to say.<br>\nReact with <span aria-label=\"all good\" class=\"emoji emoji-2705\" role=\"img\" title=\"all good\">:all_good:</span> if you're ready to end the meeting.</p>",
        "id": 217900003,
        "sender_full_name": "triagebot",
        "timestamp": 1606318612
    },
    {
        "content": "<p>\\o</p>",
        "id": 217900070,
        "sender_full_name": "Aidan Hobson Sayers",
        "timestamp": 1606318649
    },
    {
        "content": "<p>\\o</p>",
        "id": 217900180,
        "sender_full_name": "simulacrum",
        "timestamp": 1606318689
    },
    {
        "content": "<p>\\o</p>",
        "id": 217900245,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606318731
    },
    {
        "content": "<p>thanks for attending!</p>",
        "id": 217900256,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1606318734
    },
    {
        "content": "<p>\\o</p>",
        "id": 217900267,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1606318738
    }
]