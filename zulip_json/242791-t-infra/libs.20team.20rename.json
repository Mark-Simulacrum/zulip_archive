[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310399\">@Mara</span> <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span></p>",
        "id": 242910994,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623863096
    },
    {
        "content": "<p>saw <a href=\"https://github.com/rust-lang/team/pull/588#issue-669898484\">https://github.com/rust-lang/team/pull/588#issue-669898484</a></p>",
        "id": 242911021,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623863107
    },
    {
        "content": "<p>it's not trivial but I think with some manual changes I can make it work</p>",
        "id": 242911075,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623863129
    },
    {
        "content": "<p>hey</p>",
        "id": 242911077,
        "sender_full_name": "Mara",
        "timestamp": 1623863129
    },
    {
        "content": "<p>so, the problem is that sync-team created <em>new</em> teams, so github permissions were not moved</p>",
        "id": 242911152,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623863162
    },
    {
        "content": "<p>what I can do is:</p>\n<ul>\n<li>manually remove the newly created github teams</li>\n<li>manually rename from the github UI the old teams to their new name</li>\n<li>run sync-team again, which will update the membership on the renamed teams to be consistent</li>\n</ul>",
        "id": 242911234,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623863202
    },
    {
        "content": "<p>ah yeah. not a big issue i suppose. the renamed team and the new team with the old name both need the same permissions anyway. but it <em>might</em> be nice to do an actual rename, to keep history in tact. but i'm not sure what that exactly means on  github. on Zulip, all mentions of the team get updated for example, but i'm pretty sure github doesn't do that</p>",
        "id": 242911330,
        "sender_full_name": "Mara",
        "timestamp": 1623863243
    },
    {
        "content": "<p>the reason I'm proposing the rename is to actually migrate perms from the old name to the new name</p>",
        "id": 242911508,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623863298
    },
    {
        "content": "<p><code>libs-contributors</code> and <code>libs-api</code> should have no perms right now</p>",
        "id": 242911528,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623863308
    },
    {
        "content": "<p>yeah. but there's also a new <code>libs</code> team that needs pretty much the same permissions as <code>libs-api</code>. so if you do the rename, then that team still needs to have permissions added. some manual work either way i suppose</p>",
        "id": 242911659,
        "sender_full_name": "Mara",
        "timestamp": 1623863367
    },
    {
        "content": "<p>ugh, for <code>libs-api</code> that's true</p>",
        "id": 242911718,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623863395
    },
    {
        "content": "<p>hmm</p>",
        "id": 242911783,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623863406
    },
    {
        "content": "<blockquote>\n<p>what I can do is</p>\n</blockquote>\n<p>but if that isn't too much effort, then that'd be nice</p>",
        "id": 242911785,
        "sender_full_name": "Mara",
        "timestamp": 1623863408
    },
    {
        "content": "<p>it's definitely less effort than manually changing all perms <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span></p>",
        "id": 242911829,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623863424
    },
    {
        "content": "<p>still a bit of effort, but less compared to the alternative <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 242911853,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623863436
    },
    {
        "content": "<p>sorry to cause you all this work ^^'</p>",
        "id": 242911879,
        "sender_full_name": "Mara",
        "timestamp": 1623863447
    },
    {
        "content": "<p>no worries!</p>",
        "id": 242911932,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623863471
    },
    {
        "content": "<p>deleted the <code>libs-contributors</code> github team</p>",
        "id": 242913246,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623863999
    },
    {
        "content": "<p>renamed <code>library-reviewers</code> to <code>libs-contributors</code></p>",
        "id": 242913383,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623864035
    },
    {
        "content": "<p>synchronizing teams again (to update the renamed <code>libs-contributors</code> membership)</p>",
        "id": 242913440,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623864068
    },
    {
        "content": "<p>ok <span class=\"user-mention\" data-user-id=\"310399\">@Mara</span> the <code>libs-contributors</code> now has the same perms as the deleted <code>library-reviewers</code> team</p>",
        "id": 242913951,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623864278
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/aPoJQk6VzrCBk6FdLDEsbpLt/Screenshot-from-2021-06-16-19-25-10.png\">Screenshot-from-2021-06-16-19-25-10.png</a> <br>\nnow... someone needs to replicate the libs team perms manually...</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/aPoJQk6VzrCBk6FdLDEsbpLt/Screenshot-from-2021-06-16-19-25-10.png\" title=\"Screenshot-from-2021-06-16-19-25-10.png\"><img src=\"/user_uploads/4715/aPoJQk6VzrCBk6FdLDEsbpLt/Screenshot-from-2021-06-16-19-25-10.png\"></a></div>",
        "id": 242914054,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623864336
    },
    {
        "content": "<p>if you do the <code>libs</code> -&gt; <code>libs-api</code> rename, there's no rush to add permissions to <code>libs</code> team, because right now the members are a subset of the renamed one</p>",
        "id": 242914097,
        "sender_full_name": "Mara",
        "timestamp": 1623864361
    },
    {
        "content": "<p>looks like github supports 'child teams' that inherit permissions?</p>",
        "id": 242914473,
        "sender_full_name": "Mara",
        "timestamp": 1623864541
    },
    {
        "content": "<p>we don't support them in our infra tho</p>",
        "id": 242914510,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623864566
    },
    {
        "content": "<p>actually I found an UI where it's not that bad to add perms to the team manually</p>",
        "id": 242914526,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623864581
    },
    {
        "content": "<p>I thought you had to go to the individual repos settings, but there is a page in the team that allows you to add perms to multiple repos</p>",
        "id": 242914556,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623864598
    },
    {
        "content": "<p>I'll just spend 5 minutes and migrate the perms</p>",
        "id": 242914605,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623864605
    },
    {
        "content": "<p>ok <span class=\"user-mention\" data-user-id=\"310399\">@Mara</span> all perms should now be synchronized!</p>",
        "id": 242915140,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1623864883
    },
    {
        "content": "<p>thanks!</p>",
        "id": 242917226,
        "sender_full_name": "Mara",
        "timestamp": 1623865879
    }
]