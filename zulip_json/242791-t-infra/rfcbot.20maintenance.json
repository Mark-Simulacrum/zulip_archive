[
    {
        "content": "<p>Hey folks-- who maintains rfcbot? I've been talking to <a href=\"https://jlcanovas.es/\">Javier Izquierdo</a> and some of his collaborators, and they are interested in being put in touch with the rfcbot maintainers. They do research into open source governance and structures -- see for example this <a href=\"https://link.springer.com/article/10.1007/s10664-021-10061-x\">recent paper</a> analyzing non-coding roles in the npm ecosystem. Fascinating stuff. </p>\n<p>Anyway, is <span class=\"user-mention\" data-user-id=\"130111\">@anp</span>  still working on this, for example?</p>",
        "id": 273663509,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1646150550
    },
    {
        "content": "<p>One thing they were interested in was gaining access (read-only would be fine, I'm sure) to the underlying rfcbot postgres database to gather metrics like \"average time until a decision is reached\" and that sort of thing.</p>",
        "id": 273663619,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1646150592
    },
    {
        "content": "<p>I also talked to them about the work to develop a successor, but I guess that's being discussed in <a class=\"stream-topic\" data-stream-id=\"196563\" href=\"/#narrow/stream/196563-t-lang.2Fmeta/topic/Questions.20about.20the.20decision.20process\">#t-lang/meta &gt; Questions about the decision process</a>?</p>",
        "id": 273663730,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1646150634
    },
    {
        "content": "<p>there is nobody actively maintaining rfcbot</p>",
        "id": 273667253,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646151825
    },
    {
        "content": "<p>No real active maintenance -- there's probably a database export that could be prepared, would need to investigate a little.</p>\n<p>The new discussion is indeed in that thread and on triagebot, yeah</p>",
        "id": 273667382,
        "sender_full_name": "simulacrum",
        "timestamp": 1646151852
    },
    {
        "content": "<p>and yeah the easiest way would be to generate a database export</p>",
        "id": 273667474,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646151888
    },
    {
        "content": "<p>(not sure where it is (rds or heroku) or whether there's sensitive info inside the rfcbot database though)</p>",
        "id": 273667557,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646151912
    },
    {
        "content": "<p>it should all be public modulo maybe some kind of keys, I suspect</p>\n<p>it's on heroku</p>",
        "id": 273667937,
        "sender_full_name": "simulacrum",
        "timestamp": 1646152069
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/242791-t-infra/topic/rfcbot.20maintenance/near/273663509\">said</a>:</p>\n<blockquote>\n<p>Hey folks-- who maintains rfcbot? I've been talking to <a href=\"https://jlcanovas.es/\">Javier Izquierdo</a> and some of his collaborators, and they are interested in being put in touch with the rfcbot maintainers. They do research into open source governance and structures -- see for example this <a href=\"https://link.springer.com/article/10.1007/s10664-021-10061-x\">recent paper</a> analyzing non-coding roles in the npm ecosystem. Fascinating stuff. </p>\n<p>Anyway, is <span class=\"user-mention silent\" data-user-id=\"130111\">anp</span>  still working on this, for example?</p>\n</blockquote>\n<p>anp is not afaik</p>",
        "id": 273673098,
        "sender_full_name": "Jane Lusby [she/her]",
        "timestamp": 1646153997
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> do you think I could cc you with those folks regarding database access?</p>",
        "id": 273861017,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1646248224
    },
    {
        "content": "<p>email? yeah, seems ok</p>",
        "id": 273861047,
        "sender_full_name": "simulacrum",
        "timestamp": 1646248236
    },
    {
        "content": "<p>access is probably a no go but I can figure out a dump</p>",
        "id": 273861074,
        "sender_full_name": "simulacrum",
        "timestamp": 1646248247
    },
    {
        "content": "<p>doing an export of the db to see what's inside</p>",
        "id": 273872611,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646253263
    },
    {
        "content": "<p>ok apparently the rfcbot database contains all PRs, all issues and all issue comments</p>",
        "id": 273874154,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646254001
    },
    {
        "content": "<p>let me see if I can prepare a quick query to filter out unused data</p>",
        "id": 273874199,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646254023
    },
    {
        "content": "<p>ok that table is full of foreign keys and it's a pain to strip its data</p>",
        "id": 273876504,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646254955
    },
    {
        "content": "<p>schema: <a href=\"https://gist.github.com/pietroalbini/d441c7fac907149a8e7f816cc42316c0\">https://gist.github.com/pietroalbini/d441c7fac907149a8e7f816cc42316c0</a></p>",
        "id": 273876569,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646254993
    },
    {
        "content": "<p>and the github data is extensive:</p>\n<div class=\"codehilite\"><pre><span></span><code>rfcbot-rs=# select count(*) from issue;\n count\n--------\n 156311\n(1 row)\n\nrfcbot-rs=# select count(*) from issuecomment;\n count\n--------\n 907622\n(1 row)\n\nrfcbot-rs=# select count(*) from pullrequest;\n count\n-------\n 89079\n(1 row)\n\nrfcbot-rs=# select count(*) from milestone;\n count\n-------\n   264\n(1 row)\n</code></pre></div>",
        "id": 273876707,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646255049
    },
    {
        "content": "<p>I don't see sensitive data at all in the database (the <code>users</code> table is only logins), and the <code>memberships</code> table is outdated but public information (it seems to have not been updated since we switched to the team repo to manage this kind of things)</p>",
        "id": 273877145,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646255268
    },
    {
        "content": "<p>but it's practically a 230mb dump of most of the issues and PRs in the our orgs</p>",
        "id": 273877342,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646255356
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> if they had the schema, do you think it'd be enough for them to give us queries we can run on top of the database? that'd make me more at ease than sharing the repo</p>",
        "id": 273877509,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646255412
    },
    {
        "content": "<p>(at a glance there doesn't seem to be private data in the database, but of course I haven't analyzed all of it)</p>",
        "id": 273877590,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646255452
    },
    {
        "content": "<p>probably...? I'll put the set of you on an email thread and you can discuss?</p>",
        "id": 273877648,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1646255483
    },
    {
        "content": "<p>I wouldn't <em>expect</em> anything private based on the fact that these comments and things are all on public issues</p>",
        "id": 273877680,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1646255497
    },
    {
        "content": "<p>but then hey :)</p>",
        "id": 273877709,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1646255510
    },
    {
        "content": "<p>what do I know</p>",
        "id": 273877716,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1646255513
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/242791-t-infra/topic/rfcbot.20maintenance/near/273877680\">said</a>:</p>\n<blockquote>\n<p>I wouldn't <em>expect</em> anything private based on the fact that these comments and things are all on public issues</p>\n</blockquote>\n<p>the database practically contains <em>all</em> comments in the repos :)</p>",
        "id": 273877910,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646255605
    },
    {
        "content": "<p>:D</p>",
        "id": 273877921,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1646255615
    },
    {
        "content": "<p>not just the ones rfcbot interacted on</p>",
        "id": 273877924,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646255616
    },
    {
        "content": "<p>(that's what's making me less at ease)</p>",
        "id": 273877934,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646255623
    },
    {
        "content": "<p>makes sense :)</p>",
        "id": 273877941,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1646255628
    },
    {
        "content": "<p>I wonder what it does with those</p>",
        "id": 273877948,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1646255631
    },
    {
        "content": "<p>I can imagine that maybe it has to keep track of what it has seen etc</p>",
        "id": 273878018,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1646255658
    },
    {
        "content": "<p>since a \"rfcbot\" command could appear anywhere</p>",
        "id": 273878025,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1646255665
    },
    {
        "content": "<p>iirc rfcbot has both a \"scraper\" mode where it periodically scans github for activity (currently unused) and a webhook one that we're relying on, so that's probably the leftover from the scraper mode</p>",
        "id": 273878026,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646255666
    },
    {
        "content": "<p>that makes sense</p>",
        "id": 273878048,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1646255688
    },
    {
        "content": "<p>\"github api is rate limited so let's store everything in case we need it\" would also be a likely explaination</p>",
        "id": 273878089,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646255715
    },
    {
        "content": "<p>We still use the scraper mode on repos that aren't configured (like the reference)</p>",
        "id": 273878098,
        "sender_full_name": "Eric Huss",
        "timestamp": 1646255726
    },
    {
        "content": "<p>oof</p>",
        "id": 273878307,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1646255833
    },
    {
        "content": "<p>I think rfcbot predates org-wide hooks (or our use of them)</p>",
        "id": 273878369,
        "sender_full_name": "simulacrum",
        "timestamp": 1646255870
    },
    {
        "content": "<p>(bit late here) i think most maintenance is in the infra team's wheelhouse, i haven't been doing a lot of open source stuff outside of work lately, but i'm happy to talk about the history of the project etc!</p>",
        "id": 275920497,
        "sender_full_name": "anp",
        "timestamp": 1647711220
    },
    {
        "content": "<p>oh this thread had more than just the one message, zulip tricked me</p>",
        "id": 275920541,
        "sender_full_name": "anp",
        "timestamp": 1647711243
    },
    {
        "content": "<p>yeah what everyone above said <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 275920548,
        "sender_full_name": "anp",
        "timestamp": 1647711252
    },
    {
        "content": "<p>yes, the scraper mode is a fallback for webhooks that are missing, i didn't know there were org-wide webhooks now (but have been out of the loop)</p>",
        "id": 275920620,
        "sender_full_name": "anp",
        "timestamp": 1647711363
    },
    {
        "content": "<p>it's possible that rfcbot has permission to scrape some private repos and that those would be in the db dump, but i dont actually know whether there's anything in the rust-lang github org that would need to be kept private</p>",
        "id": 275920640,
        "sender_full_name": "anp",
        "timestamp": 1647711408
    },
    {
        "content": "<p>(an earlier version of the repository included these types of database dumps for testing/development)</p>",
        "id": 275920645,
        "sender_full_name": "anp",
        "timestamp": 1647711425
    },
    {
        "content": "<p>there are indeed private repos that need to remain private</p>",
        "id": 275922040,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1647713389
    }
]