[
    {
        "content": "<p>Is it safe to restart <a href=\"https://crater.rust-lang.org/ex/pr-88041\">https://crater.rust-lang.org/ex/pr-88041</a> ?</p>",
        "id": 249528352,
        "sender_full_name": "Aaron Hill",
        "timestamp": 1629057968
    },
    {
        "content": "<p>Yes, restarted</p>",
        "id": 249531466,
        "sender_full_name": "simulacrum",
        "timestamp": 1629063210
    },
    {
        "content": "<p>This started happening recently, haven't had a chance to investigate quite yet though I do have a couple theories.</p>",
        "id": 249531474,
        "sender_full_name": "simulacrum",
        "timestamp": 1629063242
    },
    {
        "content": "<p>hm. looks like a non-transient failure, investigating</p>\n<div class=\"codehilite\"><pre><span></span><code>Aug 15 21:33:36 crater-gcp-2.infra.rust-lang.org docker[4493]: [2021-08-15T21:33:36Z INFO  rustwide::cmd::sandbox] checking if the docker daemon is running\nAug 15 21:33:36 crater-gcp-2.infra.rust-lang.org docker[4493]: [2021-08-15T21:33:36Z INFO  rustwide::cmd] running `Command { std: &quot;docker&quot; &quot;info&quot;, kill_on_drop: false }`\nAug 15 21:38:36 crater-gcp-2.infra.rust-lang.org docker[4493]: [2021-08-15T21:38:36Z ERROR rustwide::cmd] error running command: no output for 300 seconds\nAug 15 21:38:36 crater-gcp-2.infra.rust-lang.org docker[4493]: [2021-08-15T21:38:36Z ERROR crater::utils] docker is not running\nAug 15 21:38:36 crater-gcp-2.infra.rust-lang.org docker[4493]: [2021-08-15T21:38:36Z ERROR crater::utils] note: run with `RUST_BACKTRACE=1` to display a backtrace.\n</code></pre></div>",
        "id": 249532877,
        "sender_full_name": "simulacrum",
        "timestamp": 1629065636
    },
    {
        "content": "<p><code>docker info</code> indeed seems to hang, but docker ps works fine seemingly...</p>",
        "id": 249532921,
        "sender_full_name": "simulacrum",
        "timestamp": 1629065653
    },
    {
        "content": "<p>I think it's because of</p>\n<div class=\"codehilite\"><pre><span></span><code>Filesystem      Size  Used Avail Use% Mounted on\ntmpfs            13G     0   13G   0% /run/user/1001\n</code></pre></div>",
        "id": 249533315,
        "sender_full_name": "simulacrum",
        "timestamp": 1629066269
    },
    {
        "content": "<p>restarted docker - seems to have fixed the issue. but the /run/user/1001 tmpfs is still full.</p>",
        "id": 249534356,
        "sender_full_name": "simulacrum",
        "timestamp": 1629068019
    },
    {
        "content": "<p>so not sure what actually caused docker to go unresponsive</p>",
        "id": 249534357,
        "sender_full_name": "simulacrum",
        "timestamp": 1629068028
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/242791-t-infra/topic/Crater.20failure/near/249533315\">said</a>:</p>\n<blockquote>\n<p>I think it's because of</p>\n<p><div class=\"codehilite\"><pre><span></span><code>Filesystem      Size  Used Avail Use% Mounted on\ntmpfs            13G     0   13G   0% /run/user/1001\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>Looks empty to me with lots of available space. Am I missing something?</p>",
        "id": 249547689,
        "sender_full_name": "Hans Kratz",
        "timestamp": 1629088280
    },
    {
        "content": "<p>/run is weird, I wouldn't expect that to be accurate tbh</p>",
        "id": 249547821,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1629088414
    },
    {
        "content": "<p>The job now seems stuck at 354280 crates completed: <a href=\"https://crater.rust-lang.org/ex/pr-88041\">https://crater.rust-lang.org/ex/pr-88041</a></p>",
        "id": 249622891,
        "sender_full_name": "Aaron Hill",
        "timestamp": 1629136244
    },
    {
        "content": "<p>It's likely waiting for one of the builders to come online and finish</p>",
        "id": 249625325,
        "sender_full_name": "simulacrum",
        "timestamp": 1629137319
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> Two of the agents are marked 'Online', and one is 'Unreachable'</p>",
        "id": 249641597,
        "sender_full_name": "Aaron Hill",
        "timestamp": 1629144997
    },
    {
        "content": "<p>yeah, this is <a href=\"https://github.com/rust-lang/crater/issues/577\">https://github.com/rust-lang/crater/issues/577</a></p>",
        "id": 249642089,
        "sender_full_name": "simulacrum",
        "timestamp": 1629145243
    }
]