[
    {
        "content": "<p><span class=\"user-group-mention\" data-user-group-id=\"3111\">@WG-prioritization/alerts</span> issue <a href=\"https://github.com/rust-lang/rust/issues/74657\">#74657</a> has been requested for prioritization.</p>\n<h1><a href=\"https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label\">Procedure</a></h1>\n<ul>\n<li>Priority?</li>\n<li>Regression?</li>\n<li>Notify people/groups?</li>\n<li>Needs <code>I-nominated</code>?</li>\n</ul>",
        "id": 204726459,
        "sender_full_name": "triagebot",
        "timestamp": 1595454328
    },
    {
        "content": "<p>this went unnoticed, taking a look at it right now</p>",
        "id": 205372799,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596036660
    },
    {
        "content": "<p>and is the last one lacking prioritization :)</p>",
        "id": 205372846,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596036680
    },
    {
        "content": "<p>hmm, <code>P-high</code> maybe <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 205373088,
        "sender_full_name": "lcnr",
        "timestamp": 1596036787
    },
    {
        "content": "<p>yeah I was wondering the same</p>",
        "id": 205373106,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596036795
    },
    {
        "content": "<p>I think we need a mvce here though</p>",
        "id": 205373123,
        "sender_full_name": "lcnr",
        "timestamp": 1596036803
    },
    {
        "content": "<p>but I'm right now thinking loudly, why not <code>P-critical</code>?</p>",
        "id": 205373138,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596036811
    },
    {
        "content": "<p>I'm trying to think, what kind of peculiarity this have that is uncommon</p>",
        "id": 205373254,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596036865
    },
    {
        "content": "<p>my first reaction was, if Firefox doesn't compile then <code>P-critical</code></p>",
        "id": 205373274,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596036879
    },
    {
        "content": "<p>:)</p>",
        "id": 205373279,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596036880
    },
    {
        "content": "<p><code> RUSTFLAGS=\"-Clinker-plugin-lto=LLVMgold.so\"</code> and only on some target apparently</p>",
        "id": 205373318,
        "sender_full_name": "lcnr",
        "timestamp": 1596036902
    },
    {
        "content": "<p>ahh ok</p>",
        "id": 205373467,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596036963
    },
    {
        "content": "<p>yeah saw the flags, but didn't realize about the targets</p>",
        "id": 205373501,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596036976
    },
    {
        "content": "<p>so most firefox targets still work here</p>",
        "id": 205373555,
        "sender_full_name": "lcnr",
        "timestamp": 1596037002
    },
    {
        "content": "<p>at least from what I can tell it would be quite bad if this weren't the case</p>",
        "id": 205373582,
        "sender_full_name": "lcnr",
        "timestamp": 1596037017
    },
    {
        "content": "<p>I guess this was fixed on Firefox’s side, see the linkrf bugzilla issue</p>",
        "id": 205373667,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1596037065
    },
    {
        "content": "<p>yeah they worked around the issue</p>",
        "id": 205373917,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596037196
    },
    {
        "content": "<p>going with <code>P-high</code> then</p>",
        "id": 205373986,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596037209
    },
    {
        "content": "<p>this even hit archlinux firefox builds</p>",
        "id": 205374101,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596037272
    },
    {
        "content": "<p>or am I wrong?</p>",
        "id": 205374111,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596037275
    },
    {
        "content": "<p><a href=\"https://github.com/archlinux/svntogit-packages/commit/7d760401eaef0b80514d2c87b0bfd1f0fb35cc30\">https://github.com/archlinux/svntogit-packages/commit/7d760401eaef0b80514d2c87b0bfd1f0fb35cc30</a></p>",
        "id": 205374112,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596037275
    },
    {
        "content": "<p>wasn't that fix for a build perf regression?</p>",
        "id": 205374500,
        "sender_full_name": "lcnr",
        "timestamp": 1596037465
    },
    {
        "content": "<p><span aria-label=\"shock\" class=\"emoji emoji-1f628\" role=\"img\" title=\"shock\">:shock:</span></p>",
        "id": 205374505,
        "sender_full_name": "lcnr",
        "timestamp": 1596037469
    },
    {
        "content": "<p><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1654465\">https://bugzilla.mozilla.org/show_bug.cgi?id=1654465</a></p>",
        "id": 205374527,
        "sender_full_name": "lcnr",
        "timestamp": 1596037483
    },
    {
        "content": "<p>to be honest unsure</p>",
        "id": 205374535,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596037486
    },
    {
        "content": "<p>too long didn't properly read :)</p>",
        "id": 205374560,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596037503
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"216206\">@lcnr</span> thoughts about what to do here?</p>",
        "id": 205374639,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596037543
    },
    {
        "content": "<p>ping ICE breakers and hope they are able to somehow minimize this <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> </p>\n<p>This seems like an annoying bug to track down</p>",
        "id": 205374722,
        "sender_full_name": "lcnr",
        "timestamp": 1596037580
    },
    {
        "content": "<p>hehe, but should we start with <code>P-high</code> then?</p>",
        "id": 205374778,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596037612
    },
    {
        "content": "<p>A comment in the that thread mentions that some args to <code>rustc</code> changed with that version</p>",
        "id": 205374819,
        "sender_full_name": "lcnr",
        "timestamp": 1596037633
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>Since the original problem is that cargo &gt;= 1.45 passes extra flags (-C embed-bitcode=no)\nto rustc that are incompatible with -Clto, and while\nit knows to adjust based on the lto setting in the build profile\n(which CARGO_PROFILE_RELEASE_LTO overrides the default of), cargo\nignores flags passed via cargo rustc -- ... when making those\nadjustments.\n\nSo, we need to override with -C embed-bitcode=yes on our own at the\nsame time we pass -Clto. But doing that through cargo rustc -- ...\nis not enough because all the dependencies of the crate built with\n-Clto need to be built with -C embed-bitcode=yes. So we need to\noverride with RUSTFLAGS, which will affect all the dependencies.\nBut we also need to do this consistently across all crates, not only the\ndependencies of crates built with -Clto, otherwise we&#39;d still end up\nbuilding crates twice (once with and once without the override).\n</code></pre></div>",
        "id": 205374974,
        "sender_full_name": "lcnr",
        "timestamp": 1596037708
    },
    {
        "content": "<p>maybe :/ from what I can see the issue isn't really <code>P-critical</code>, but I also don't know what causes it</p>",
        "id": 205375063,
        "sender_full_name": "lcnr",
        "timestamp": 1596037751
    },
    {
        "content": "<p>hmm right</p>",
        "id": 205375124,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596037785
    },
    {
        "content": "<p>I guess I'd go with <code>P-high</code> until someone figures out something that gives more light</p>",
        "id": 205375205,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596037808
    },
    {
        "content": "<p>we should also ping cleanup here I think</p>",
        "id": 205375270,
        "sender_full_name": "lcnr",
        "timestamp": 1596037837
    },
    {
        "content": "<p>if someone wants to spend a few hours building firefox</p>",
        "id": 205375295,
        "sender_full_name": "lcnr",
        "timestamp": 1596037849
    },
    {
        "content": "<p>lol</p>",
        "id": 205375317,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596037859
    },
    {
        "content": "<p>right, I've pinged them</p>",
        "id": 205375334,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596037866
    },
    {
        "content": "<p>going with <code>P-high</code>for now then</p>",
        "id": 205375338,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596037872
    },
    {
        "content": "<p>IIRC this was also reproducible with rusqlite?</p>",
        "id": 205375460,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1596037927
    },
    {
        "content": "<p>hmm, yeah. Looks like the issue was with <code>rusqlite</code>...</p>",
        "id": 205375784,
        "sender_full_name": "lcnr",
        "timestamp": 1596038113
    },
    {
        "content": "<p>so maybe it's not \"if someone wants to spend a few hours building firefox\" bad</p>",
        "id": 205375816,
        "sender_full_name": "lcnr",
        "timestamp": 1596038132
    },
    {
        "content": "<p>We already have the bisection though</p>",
        "id": 205376381,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1596038403
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/commit/1357af3a55e24c7d28abb5eda258662f2307fadd\">https://github.com/rust-lang/rust/commit/1357af3a55e24c7d28abb5eda258662f2307fadd</a></p>",
        "id": 205376410,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1596038410
    },
    {
        "content": "<p>but no mvce, if I didn't miss something here</p>",
        "id": 205376468,
        "sender_full_name": "lcnr",
        "timestamp": 1596038434
    },
    {
        "content": "<p>Right</p>",
        "id": 205376485,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1596038442
    },
    {
        "content": "<p>We should ping <span class=\"user-mention silent\" data-user-id=\"116015\">Alex Crichton</span>  I think</p>",
        "id": 205376540,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1596038467
    },
    {
        "content": "<p>hmm, yeah... might help</p>",
        "id": 205376577,
        "sender_full_name": "lcnr",
        "timestamp": 1596038485
    },
    {
        "content": "<p>You do it or shall I?</p>",
        "id": 205376597,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1596038501
    },
    {
        "content": "<p>feel free, I should actually be working for uni rn <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 205376752,
        "sender_full_name": "lcnr",
        "timestamp": 1596038572
    }
]