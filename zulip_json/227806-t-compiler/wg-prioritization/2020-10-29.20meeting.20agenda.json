[
    {
        "content": "<p>Just created next week's agenda <a href=\"https://hackmd.io/DEgK3x4SRJCQlqV0McB0xw?both\">https://hackmd.io/DEgK3x4SRJCQlqV0McB0xw?both</a></p>",
        "id": 214201587,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603379603
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"250987\">@apiraino</span> I've just filled with the corresponding wg but as we've already talked it seems like there's a bug in the <a href=\"https://rust-lang.github.io/compiler-team/about/triage-meeting/\">compiler-team website</a></p>",
        "id": 214201626,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603379628
    },
    {
        "content": "<p>if you check it now, it will say <code>This Week: 2020-10-22 - 2020-10-29: Meta and MIR Optimizations</code></p>",
        "id": 214201751,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603379685
    },
    {
        "content": "<p>but as we've seen this will change on 28 instead of 29</p>",
        "id": 214201815,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603379726
    },
    {
        "content": "<p>there's an off by one in the JavaScript there, if someone wants to fix that would be great :)</p>",
        "id": 214201880,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603379762
    },
    {
        "content": "<p>right. I'll have a look, I think</p>",
        "id": 214201944,
        "sender_full_name": "apiraino",
        "timestamp": 1603379771
    },
    {
        "content": "<p>one thing I don't understand is why the \"week\" starts on <del>Wed</del> Thu. Is that because today is the day 0 because of the meeting?</p>",
        "id": 214202027,
        "sender_full_name": "apiraino",
        "timestamp": 1603379812
    },
    {
        "content": "<p>right</p>",
        "id": 214202147,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603379866
    },
    {
        "content": "<p>maybe we can change this week with this iteration</p>",
        "id": 214202177,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603379881
    },
    {
        "content": "<p>or something</p>",
        "id": 214202214,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603379884
    },
    {
        "content": "<p>btw I've executed also all the follows up <a href=\"https://forge.rust-lang.org/compiler/prioritization/procedure.html#follow-ups-from-previous-meeting\">https://forge.rust-lang.org/compiler/prioritization/procedure.html#follow-ups-from-previous-meeting</a></p>",
        "id": 214202279,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603379922
    },
    {
        "content": "<p>I've added some content to the agenda, checked the issues and added some summaries. <span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> I've tried adding some context to the beta nominations like <span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> mentioned <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/Suggestions.20to.20improve.20the.20weekly.20meeting.20agenda.3F/near/214189113\">last week</a>.</p>",
        "id": 214854715,
        "sender_full_name": "apiraino",
        "timestamp": 1603899722
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"250987\">apiraino</span> <a href=\"#narrow/stream/227806-t-compiler.2Fwg-prioritization/topic/2020-10-29.20meeting.20agenda/near/214854715\">said</a>:</p>\n<blockquote>\n<p>I've added some content to the agenda, checked the issues and added some summaries. <span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> I've tried adding some context to the beta nominations like <span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> mentioned <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/Suggestions.20to.20improve.20the.20weekly.20meeting.20agenda.3F/near/214189113\">last week</a>.</p>\n</blockquote>\n<p>cool, I'm going to go over things in a bit</p>",
        "id": 214867118,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603904596
    },
    {
        "content": "<p>about ...</p>",
        "id": 214887785,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603914166
    },
    {
        "content": "<ul>\n<li>\"Fix <a href=\"https://github.com/rust-lang/rust/issues/78192\">#78192</a>\" <a href=\"https://github.com/rust-lang/rust/pull/78247\">rust#78247</a></li>\n</ul>",
        "id": 214887787,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603914167
    },
    {
        "content": "<p>we've already backported a disable the opt patch, right?</p>",
        "id": 214887821,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603914190
    },
    {
        "content": "<p>in that case, why would we want to backport that?</p>",
        "id": 214887838,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603914202
    },
    {
        "content": "<p>I meant, it is nominated so it's up for discussion but I'm trying to understand to properly summarize for the agenda</p>",
        "id": 214887876,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603914228
    },
    {
        "content": "<p>the current summarization we have is</p>",
        "id": 214887931,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603914248
    },
    {
        "content": "<ul>\n<li>\"Fix <a href=\"https://github.com/rust-lang/rust/issues/78192\">#78192</a>\" <a href=\"https://github.com/rust-lang/rust/pull/78247\">rust#78247</a><ul>\n<li>opened by <code>simonvandel</code></li>\n<li>assigned  <span class=\"user-mention\" data-user-id=\"124288\">@oli</span> and r+</li>\n<li>on 1.49.0-nightly</li>\n<li>fixes <a href=\"https://github.com/rust-lang/rust/issues/78192\">rust#78192</a> (unsoudnness on MIR optimization InstCombine that introduces an incorrect use of a local after its storage has ended)</li>\n<li><span class=\"user-mention\" data-user-id=\"124288\">@oli</span> raises the issue to merge this optimization without backtracking, PR author mentions being the way</li>\n</ul>\n</li>\n</ul>",
        "id": 214887932,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603914248
    },
    {
        "content": "<p>but doesn't seem exactly right to me</p>",
        "id": 214887961,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603914276
    },
    {
        "content": "<p>actually, we enabled the optimization again in nightly ... so ... this should just land in nightly?</p>",
        "id": 214888302,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603914467
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"255061\">@LeSeulArtichaut</span> <span class=\"user-mention\" data-user-id=\"211727\">@Jonas Schievink</span></p>",
        "id": 214888316,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603914473
    },
    {
        "content": "<p>to make a more concrete question, is <a href=\"https://github.com/rust-lang/rust/issues/78247\">#78247</a> beta nomination correct? it doesn't seem like that to me</p>",
        "id": 214888396,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603914506
    },
    {
        "content": "<p>I think it is correct, but maybe not warranted</p>",
        "id": 214888447,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1603914542
    },
    {
        "content": "<p>That should <em>not</em> be backported as it would reintroduce the unsound optimization</p>",
        "id": 214888487,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1603914558
    },
    {
        "content": "<p>Oh</p>",
        "id": 214888528,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1603914587
    },
    {
        "content": "<p>But the disable patch wasn't backported, right?</p>",
        "id": 214888597,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1603914608
    },
    {
        "content": "<p>Because beta still miscompiles this example:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">fn</span> <span class=\"nf\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"k\">u32</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"k\">u32</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"k\">mut</span><span class=\"w\"> </span><span class=\"n\">c</span>: <span class=\"o\">*</span><span class=\"k\">const</span><span class=\"w\"> </span><span class=\"kt\">u32</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"n\">a</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">d</span>: <span class=\"kp\">&amp;</span><span class=\"kt\">u32</span> <span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"n\">b</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">unsafe</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"o\">&amp;*</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"p\">};</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"n\">x</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"n\">assert_eq</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"p\">);</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 214888614,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1603914618
    },
    {
        "content": "<p>I think it was accepted last week</p>",
        "id": 214888623,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1603914623
    },
    {
        "content": "<p>Maybe it hasn’t been backported yet</p>",
        "id": 214888648,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1603914636
    },
    {
        "content": "<p>That's <a href=\"https://github.com/rust-lang/rust/pull/78195\">https://github.com/rust-lang/rust/pull/78195</a></p>",
        "id": 214888651,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1603914637
    },
    {
        "content": "<p>Yeah, hasn't been backported yet</p>",
        "id": 214888659,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1603914642
    },
    {
        "content": "<p>so let's remove beta nomination then?</p>",
        "id": 214888685,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603914662
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"211727\">@Jonas Schievink</span> given that you have a bit more context, can you do so and explain briefly?</p>",
        "id": 214888714,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603914677
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 214888720,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1603914679
    },
    {
        "content": "<p>it seemed very weird to me</p>",
        "id": 214888733,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603914689
    },
    {
        "content": "<p>The optimization was unsound and made it to beta, then it got disabled in <a href=\"https://github.com/rust-lang/rust/issues/78195\">#78195</a>, then <a href=\"https://github.com/rust-lang/rust/issues/78247\">#78247</a> incorrectly fixed it and reenabled it, so I opened <a href=\"https://github.com/rust-lang/rust/issues/78434\">#78434</a> to disable it again.</p>",
        "id": 214888906,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1603914782
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/78195\">#78195</a> and <a href=\"https://github.com/rust-lang/rust/issues/78434\">#78434</a> are basically the same PR/diff</p>",
        "id": 214888971,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1603914814
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"211727\">@Jonas Schievink</span> IIRC anyone can file a PR to backport? I could file one if it helps</p>",
        "id": 214888977,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1603914818
    },
    {
        "content": "<p>So if we just backport <a href=\"https://github.com/rust-lang/rust/issues/78195\">#78195</a> that would fix beta</p>",
        "id": 214888993,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1603914827
    },
    {
        "content": "<p>I was going to wait until the next batch of backports is approved, but I don't really mind</p>",
        "id": 214889065,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1603914848
    },
    {
        "content": "<p>Feel free to file one though</p>",
        "id": 214889118,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1603914878
    },
    {
        "content": "<p>So wait until next T-compiler meeting?</p>",
        "id": 214889151,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1603914896
    },
    {
        "content": "<p>Actually it might be better to coordinate backports with T-release, since we usually do them in batches</p>",
        "id": 214889172,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1603914910
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"211727\">Jonas Schievink</span> <a href=\"#narrow/stream/227806-t-compiler.2Fwg-prioritization/topic/2020-10-29.20meeting.20agenda/near/214888993\">said</a>:</p>\n<blockquote>\n<p>So if we just backport <a href=\"https://github.com/rust-lang/rust/issues/78195\">#78195</a> that would fix beta</p>\n</blockquote>\n<p>ok, but that one is already beta accepted so release team will backport it at some point</p>",
        "id": 214889382,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603915005
    },
    {
        "content": "<p>yeah</p>",
        "id": 214889401,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1603915016
    },
    {
        "content": "<p>So, no, nothing to discuss by T-compiler to get this fixed</p>",
        "id": 214889424,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1603915032
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> <a href=\"#narrow/stream/227806-t-compiler.2Fwg-prioritization/topic/2020-10-29.20meeting.20agenda/near/214888714\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"211727\">Jonas Schievink</span> given that you have a bit more context, can you do so and explain briefly?</p>\n</blockquote>\n<p>can you do so on github and remove beta nomination or do you want me to do so?</p>",
        "id": 214889454,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603915050
    },
    {
        "content": "<p>I wanted to leave that up to you given you seem more involved on the issue but I can also do it :)</p>",
        "id": 214889497,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603915071
    },
    {
        "content": "<p>Will do</p>",
        "id": 214889693,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1603915148
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> added small updates to the agenda (see diff)<br>\n(slightly related: the history view of previous versions of the hackmd file looks now broken on my browsers <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span>  , tested with firefox 83, chromium)</p>",
        "id": 214951284,
        "sender_full_name": "apiraino",
        "timestamp": 1603968931
    },
    {
        "content": "<p>you see half the screen of the diff?</p>",
        "id": 214957917,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603973690
    },
    {
        "content": "<p>if so, the same happens to me</p>",
        "id": 214957921,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603973695
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> to your changed btw</p>",
        "id": 214957934,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603973702
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 214964501,
        "sender_full_name": "apiraino",
        "timestamp": 1603977496
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> <a href=\"#narrow/stream/227806-t-compiler.2Fwg-prioritization/topic/2020-10-29.20meeting.20agenda/near/214957917\">said</a>:</p>\n<blockquote>\n<p>you see half the screen of the diff?</p>\n</blockquote>\n<p>yes :(</p>",
        "id": 214964518,
        "sender_full_name": "apiraino",
        "timestamp": 1603977507
    },
    {
        "content": "<p>it should be a hackmd issue then, because the same happens to me</p>",
        "id": 214966170,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1603978324
    }
]