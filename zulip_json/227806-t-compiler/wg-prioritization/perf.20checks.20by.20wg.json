[
    {
        "content": "<p>opening this for discussion</p>",
        "id": 198329167,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1590072404
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span></p>",
        "id": 198329180,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1590072410
    },
    {
        "content": "<p>it would be great to define exactly what should we check and how often</p>",
        "id": 198329200,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1590072422
    },
    {
        "content": "<p>yeah I'm not sure</p>",
        "id": 198333718,
        "sender_full_name": "pnkfelix",
        "timestamp": 1590074372
    },
    {
        "content": "<p>its important we have something simple to look at</p>",
        "id": 198333732,
        "sender_full_name": "pnkfelix",
        "timestamp": 1590074378
    },
    {
        "content": "<p>I think the weekly inspection makes sense, if it can be as quick as it as been</p>",
        "id": 198333765,
        "sender_full_name": "pnkfelix",
        "timestamp": 1590074397
    },
    {
        "content": "<p>the main issue is what metrics to look at.</p>",
        "id": 198333849,
        "sender_full_name": "pnkfelix",
        "timestamp": 1590074422
    },
    {
        "content": "<p>(another issue is \"how to interpret what we look at\" -- in other words, what is a red flag indicating we need to discuss at the meeting)</p>",
        "id": 198333892,
        "sender_full_name": "pnkfelix",
        "timestamp": 1590074446
    },
    {
        "content": "<p>today's meeting led me to wonder if we should be including code size metrics</p>",
        "id": 198333920,
        "sender_full_name": "pnkfelix",
        "timestamp": 1590074458
    },
    {
        "content": "<p>rather than just instruction count metrics</p>",
        "id": 198333934,
        "sender_full_name": "pnkfelix",
        "timestamp": 1590074465
    },
    {
        "content": "<p>I do think nailing down a set that we care about is good</p>",
        "id": 198341384,
        "sender_full_name": "simulacrum",
        "timestamp": 1590077942
    },
    {
        "content": "<p>(even if perf doesn't track it)</p>",
        "id": 198341395,
        "sender_full_name": "simulacrum",
        "timestamp": 1590077946
    },
    {
        "content": "<p>especially as I look to expand what perf <em>does</em> track</p>",
        "id": 198341415,
        "sender_full_name": "simulacrum",
        "timestamp": 1590077955
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> one thing I was commenting to <span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> is that I'd like to coordinate the effort of <span class=\"user-group-mention\" data-user-group-id=\"2403\">@WG-prioritization</span> with others, my feeling is that there's more people checking perf</p>",
        "id": 198345078,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1590079502
    },
    {
        "content": "<p>I'd like to know how can we help better</p>",
        "id": 198345111,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1590079519
    },
    {
        "content": "<p>what Felix have said is that it may be good that we check perf to raise awareness in weekly meetings about possible regressions</p>",
        "id": 198345149,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1590079539
    },
    {
        "content": "<p>that seems great but again coordinating with whoever does some work here would be nice to avoid duplication of work I guess :)</p>",
        "id": 198345356,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1590079618
    },
    {
        "content": "<p>I think it would be good to set an action item for compiler team to indicate what would our goals be</p>",
        "id": 198347752,
        "sender_full_name": "simulacrum",
        "timestamp": 1590080713
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120989\">@Nicholas Nethercote</span> may have thoughts too</p>",
        "id": 198347780,
        "sender_full_name": "simulacrum",
        "timestamp": 1590080728
    },
    {
        "content": "<p>more concretely are you or <span class=\"user-mention\" data-user-id=\"120989\">@Nicholas Nethercote</span> or somebody else periodically checking this? and in that case, what do we think the <span class=\"user-group-mention\" data-user-group-id=\"2403\">@WG-prioritization</span> could do, improve and bring into the table?</p>",
        "id": 198350444,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1590081966
    },
    {
        "content": "<p>I am, or at least to some extent.</p>",
        "id": 198355198,
        "sender_full_name": "simulacrum",
        "timestamp": 1590084310
    },
    {
        "content": "<p>Not sure about <span class=\"user-mention\" data-user-id=\"120989\">@Nicholas Nethercote</span> -- I think they are, but I've not talked to them about it. I'm not sure that wg-pri needs to</p>",
        "id": 198355256,
        "sender_full_name": "simulacrum",
        "timestamp": 1590084338
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/227806-t-compiler.2Fwg-prioritization/topic/perf.20checks.20by.20wg/near/198355198\">said</a>:</p>\n<blockquote>\n<p>I am, or at least to some extent.</p>\n</blockquote>\n<p>do you think we could help in some way, take this task over or are we fine with you on this?</p>",
        "id": 198357618,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1590085480
    },
    {
        "content": "<p>the main thing the working group should be doing is raising awareness of important issues, like in this case adding performance problems to the agenda of the meeting to ensure that we discuss those</p>",
        "id": 198357702,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1590085543
    },
    {
        "content": "<p>just in case ... what I'm trying to do is avoid duplication of work and have more clear what the responsibilities of the wg should be with this task</p>",
        "id": 198357837,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1590085621
    },
    {
        "content": "<p>all I'm doing is glancing at <a href=\"http://perf.rust-lang.org/index.html\">perf.rust-lang.org/index.html</a> somewhat regularly, I don't think it's \"hard\" and I'm definitely not catching 100% of cases</p>",
        "id": 198358207,
        "sender_full_name": "simulacrum",
        "timestamp": 1590085825
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 198358427,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1590085937
    },
    {
        "content": "<p>I think I have a better sense of what's needed then :)</p>",
        "id": 198358451,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1590085949
    },
    {
        "content": "<p>Literally last week I added a calendar item to check for regressions weekly, on my Tuesday morning (Monday afternoon in North America).</p>",
        "id": 198387699,
        "sender_full_name": "njn",
        "timestamp": 1590101404
    },
    {
        "content": "<p>One thing I've always wanted is a way for trusted people to annotate individual commits on the <a href=\"http://perf.rust-lang.org\">perf.rust-lang.org</a> graphs. E.g. if a regression happens and then is fixed, you could mark the regression commit with an annotation pointing to the fix</p>",
        "id": 198387829,
        "sender_full_name": "njn",
        "timestamp": 1590101507
    },
    {
        "content": "<p>hm that sounds like it would not be terribly hard to do</p>",
        "id": 198387983,
        "sender_full_name": "simulacrum",
        "timestamp": 1590101589
    },
    {
        "content": "<p>For the regression hunting, this week I looked at instructions and max-rss. Cycles might also be useful, though it correlates very highly with instructions.</p>",
        "id": 198387998,
        "sender_full_name": "njn",
        "timestamp": 1590101598
    },
    {
        "content": "<p>not sure how to expose it in the UI, maybe on the compare pages</p>",
        "id": 198388005,
        "sender_full_name": "simulacrum",
        "timestamp": 1590101600
    },
    {
        "content": "<p>Binary size would also be interesting, though we don't collect that AFAIK?</p>",
        "id": 198388035,
        "sender_full_name": "njn",
        "timestamp": 1590101617
    },
    {
        "content": "<p>I plan to soon, though I've yet to investigate <em>which</em> binaries we can look at</p>",
        "id": 198388067,
        "sender_full_name": "simulacrum",
        "timestamp": 1590101634
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> The annotations would be visible on the graphs, ideally</p>",
        "id": 198388068,
        "sender_full_name": "njn",
        "timestamp": 1590101634
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120989\">@Nicholas Nethercote</span> -- hm, yeah, so we could color the dots? I wouldn't want to stick the text in the tooltip I think</p>",
        "id": 198388158,
        "sender_full_name": "simulacrum",
        "timestamp": 1590101673
    },
    {
        "content": "<p>or a vertical line maybe, not sure what would be better</p>",
        "id": 198388174,
        "sender_full_name": "simulacrum",
        "timestamp": 1590101687
    },
    {
        "content": "<p>I haven't thought carefully about the UI :)</p>",
        "id": 198388183,
        "sender_full_name": "njn",
        "timestamp": 1590101698
    },
    {
        "content": "<p>if the annotations are per-commit, then vertical lines sound reasonable</p>",
        "id": 198388203,
        "sender_full_name": "njn",
        "timestamp": 1590101716
    },
    {
        "content": "<p>they can easily be as fine-grained (or not) as we want, though being consistent would be easiest</p>",
        "id": 198388242,
        "sender_full_name": "simulacrum",
        "timestamp": 1590101754
    },
    {
        "content": "<p>For the regression checking, here is a page for Firefox nightly crash checking that may be of interest: <a href=\"https://wiki.mozilla.org/NightlyCrashTriage\">https://wiki.mozilla.org/NightlyCrashTriage</a></p>",
        "id": 198388356,
        "sender_full_name": "njn",
        "timestamp": 1590101797
    },
    {
        "content": "<p>I wrote most of that page, I started up the nightly triage, though I haven't done been involved for a while now</p>",
        "id": 198388376,
        "sender_full_name": "njn",
        "timestamp": 1590101813
    },
    {
        "content": "<p>Key things: a roster, general instructions on how to do it (useful when someone goes on PTO and someone else takes over, or a new person starts doing it), a place for notes</p>",
        "id": 198388435,
        "sender_full_name": "njn",
        "timestamp": 1590101860
    },
    {
        "content": "<p>I'd be happy to write something similar for rustc perf checking, I just need to be told where it would live :)</p>",
        "id": 198388500,
        "sender_full_name": "njn",
        "timestamp": 1590101897
    },
    {
        "content": "<p>Forge seems good, or rustc-perf maybe (GitHub wiki or just a file in root)</p>",
        "id": 198389381,
        "sender_full_name": "simulacrum",
        "timestamp": 1590102430
    }
]