[
    {
        "content": "<p>It looks like landing <a href=\"https://github.com/rust-lang/rust/pull/88069\">https://github.com/rust-lang/rust/pull/88069</a> (enabling PGO for LLVM) which <em>did</em> result in good performance improvement also introduced:</p>\n<div class=\"codehilite\"><pre><span></span><code>LLVM Profile Error: Runtime and instrumentation version mismatch : expected 5, but get 7\n</code></pre></div>\n<p>I <em>think</em> this is because we're trying to collect profdata for both LLVM and rustc at the same time, and the LLVM is built with clang version 12, while rustc is using the in-tree LLVM v13. It seems like PGO still <em>works</em> -- I'm not clear if this is actually a problem -- certainly we didn't see any regressions</p>",
        "id": 255968735,
        "sender_full_name": "simulacrum",
        "timestamp": 1633284651
    },
    {
        "content": "<p>but it might be nice to bump the clang + LLVM we build on the dist-x86_64-linux builder to be version 13 anyway, especially now that it's tagged upstream</p>",
        "id": 255968755,
        "sender_full_name": "simulacrum",
        "timestamp": 1633284680
    },
    {
        "content": "<p>which might be as simple as updating <a href=\"https://github.com/rust-lang/rust/blob/master/src/ci/docker/host-x86_64/dist-x86_64-linux/build-clang.sh#L7\">https://github.com/rust-lang/rust/blob/master/src/ci/docker/host-x86_64/dist-x86_64-linux/build-clang.sh#L7</a></p>",
        "id": 255968767,
        "sender_full_name": "simulacrum",
        "timestamp": 1633284703
    },
    {
        "content": "<p>wanted to flag it here just in case someone was familiar for whatever reason with the error and can say \"just noise\", or, potentially if we should look to always keep the baseline LLVM on the same general version</p>",
        "id": 255968948,
        "sender_full_name": "simulacrum",
        "timestamp": 1633284849
    },
    {
        "content": "<p>filed <a href=\"https://github.com/rust-lang/rust/pull/89499\">https://github.com/rust-lang/rust/pull/89499</a></p>",
        "id": 255969106,
        "sender_full_name": "simulacrum",
        "timestamp": 1633285031
    }
]