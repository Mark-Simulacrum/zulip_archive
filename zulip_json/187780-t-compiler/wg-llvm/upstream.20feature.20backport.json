[
    {
        "content": "<p>Is there any policy around back-porting a feature which has landed recently in upstream llvm?</p>",
        "id": 238802736,
        "sender_full_name": "cynecx",
        "timestamp": 1621013935
    },
    {
        "content": "<p>Ideally only fixes are backported.</p>",
        "id": 238803065,
        "sender_full_name": "nagisa",
        "timestamp": 1621014062
    },
    {
        "content": "<p>Even more ideally its only fixes for serious issues, but that has lately not been the case and we've been backporting less critical fixes quite often.</p>",
        "id": 238803184,
        "sender_full_name": "nagisa",
        "timestamp": 1621014121
    },
    {
        "content": "<p>Otherwise there is no written policy and backports are considered on a case-by-case basis.</p>",
        "id": 238803419,
        "sender_full_name": "nagisa",
        "timestamp": 1621014217
    },
    {
        "content": "<blockquote>\n<p>Otherwise there is no written policy and backports are considered on a case-by-case basis.</p>\n</blockquote>\n<p>To be more precise. I'd like to make inline-asm \"unwindable\". I've authored a patch which has landed recently (yesterday; <a href=\"https://reviews.llvm.org/rG8ec9fd483949ca3b23053effcac226dcc56e7a95\">https://reviews.llvm.org/rG8ec9fd483949ca3b23053effcac226dcc56e7a95</a>). The patch is quite \"contained\" by itself and could be easily cherry-picked.</p>",
        "id": 238803840,
        "sender_full_name": "cynecx",
        "timestamp": 1621014382
    },
    {
        "content": "<p>Its more an issue of how plausible that the same feature will work with unpatched LLVM.</p>",
        "id": 238804323,
        "sender_full_name": "nagisa",
        "timestamp": 1621014601
    },
    {
        "content": "<p>Distributions generally use their own, unpatched LLVM. For soundness fixes we can't force their hand, and they generally only have the implication that the code generated by the distribution provided rust is less likely to run correctly.</p>",
        "id": 238804621,
        "sender_full_name": "nagisa",
        "timestamp": 1621014713
    },
    {
        "content": "<p>This change breaks the public API, so it seems like it isn't really likely that this would be backpoted and you'll probably have to wait until the LLVM 13 is released</p>",
        "id": 238804821,
        "sender_full_name": "nagisa",
        "timestamp": 1621014818
    },
    {
        "content": "<p>I see. Yeh, <span class=\"user-mention\" data-user-id=\"143274\">@Amanieu</span> also said that this might cause issues with LTO (<a href=\"#narrow/stream/216763-project-inline-asm/topic/unwind.20option/near/238804422\">https://rust-lang.zulipchat.com/#narrow/stream/216763-project-inline-asm/topic/unwind.20option/near/238804422</a>).</p>",
        "id": 238804899,
        "sender_full_name": "cynecx",
        "timestamp": 1621014854
    },
    {
        "content": "<p>The feature involves IR changes unfortunately, so it will have to wait until we upgrade to LLVM 13.</p>",
        "id": 238804995,
        "sender_full_name": "Amanieu",
        "timestamp": 1621014902
    }
]