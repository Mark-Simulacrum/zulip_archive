[
    {
        "content": "<p>A new proposal has been announced: <a href=\"https://github.com/rust-lang/compiler-team/issues/509\">Add a weak warning lint level #509</a>. It will be announced at the next meeting to try and draw attention to it, but usually MCPs are not discussed during triage meetings. If you think this would benefit from discussion amongst the team, consider proposing a design meeting.</p>",
        "id": 278706630,
        "sender_full_name": "triagebot",
        "timestamp": 1649776103
    },
    {
        "content": "<p>Do you have an example lint that would benefit from this?</p>",
        "id": 278706878,
        "sender_full_name": "Aaron Hill",
        "timestamp": 1649776211
    },
    {
        "content": "<blockquote>\n<p>The rationale is that people do not want the warnings to occupy the terminal (when compiling/running), but still have them displayed in editors.</p>\n</blockquote>\n<p>Isn't there already a way to do this? I'm pretty sure rustfix uses this.</p>",
        "id": 278706910,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649776225
    },
    {
        "content": "<p>I think there is an alternative way to do this, yeah. People can just use <code>-A some_lint</code> for cli arguments to avoid displaying the warnings.</p>",
        "id": 278707443,
        "sender_full_name": "fee1-dead",
        "timestamp": 1649776417
    },
    {
        "content": "<p>ah yeah here we go <a href=\"https://doc.rust-lang.org/nightly/nightly-rustc/rustc_errors/diagnostic/struct.Diagnostic.html#method.tool_only_span_suggestion\">https://doc.rust-lang.org/nightly/nightly-rustc/rustc_errors/diagnostic/struct.Diagnostic.html#method.tool_only_span_suggestion</a></p>",
        "id": 278707458,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649776425
    },
    {
        "content": "<p>this is not configurable for users</p>",
        "id": 278707547,
        "sender_full_name": "fee1-dead",
        "timestamp": 1649776453
    },
    {
        "content": "<p>ah, I missed that you also want to add <code>#![weak_warn(LINTS_OR_LINT_GROUPS)]</code> (that should just be behind a feature gate IMO, not a <code>-Zflag</code>)</p>",
        "id": 278707676,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649776503
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"361356\">fee1-dead</span> <a href=\"#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20a.20weak.20warning.20lint.20level.20compiler-team.23509/near/278707443\">said</a>:</p>\n<blockquote>\n<p>I think there is an alternative way to do this, yeah. People can just use <code>-A some_lint</code> for cli arguments to avoid displaying the warnings.</p>\n</blockquote>\n<p>yeah, or if they don't want to have to configure cargo they can use <code>#![allow(some_lint)]</code> and then configure rust-analyzer to use <code>-Wsome_lint</code></p>",
        "id": 278707980,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649776613
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125294\">Aaron Hill</span> <a href=\"#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20a.20weak.20warning.20lint.20level.20compiler-team.23509/near/278706878\">said</a>:</p>\n<blockquote>\n<p>Do you have an example lint that would benefit from this?</p>\n</blockquote>\n<p>I can't think of one. I remember people suggesting info lints for clippy but that seems orthogonal with this.</p>\n<p>I think that I just want something \"in between\" <code>allow</code>and <code>warn</code>. I want to be reminded that there are unused fields, but I don't want the compile to yell at me and highlight all the unused fields I have declared.</p>",
        "id": 278707994,
        "sender_full_name": "fee1-dead",
        "timestamp": 1649776619
    },
    {
        "content": "<blockquote>\n<p>I want to be reminded that there are unused fields, but I don't want the compile to yell at me and highlight all the unused fields I have declared.</p>\n</blockquote>\n<p><code>cargo check -q</code></p>",
        "id": 278708024,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649776633
    },
    {
        "content": "<p><code>bacon</code> also has this built-in, it will collapse warnings by default <a href=\"https://github.com/Canop/bacon\">https://github.com/Canop/bacon</a></p>",
        "id": 278708180,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649776700
    },
    {
        "content": "<p>I tried <code>cargo check -q</code> and it doesn't hide warnings</p>",
        "id": 278708297,
        "sender_full_name": "fee1-dead",
        "timestamp": 1649776750
    },
    {
        "content": "<p>hmm, I'm trying to remember how I did this before, I could have sworn there's a flag for one-line warnings</p>",
        "id": 278708360,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649776780
    },
    {
        "content": "<p>I want to consider some warnings as more serious and some as less.</p>",
        "id": 278708377,
        "sender_full_name": "fee1-dead",
        "timestamp": 1649776784
    },
    {
        "content": "<p>ah, <code>--error-format short</code></p>",
        "id": 278708405,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649776795
    },
    {
        "content": "<p>You mean <code>--message-format short</code>? Still doesn't work</p>",
        "id": 278708581,
        "sender_full_name": "fee1-dead",
        "timestamp": 1649776854
    },
    {
        "content": "<p>no. <code>RUSTFLAGS=\"--error-format short\"</code></p>",
        "id": 278708625,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649776877
    },
    {
        "content": "<p>but yeah it doesn't do exactly what you're asking, it's for all warnings</p>",
        "id": 278708664,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649776897
    },
    {
        "content": "<p>cargo won't support this. It says \"error: Option 'error-format' given more than once\"</p>",
        "id": 278708826,
        "sender_full_name": "fee1-dead",
        "timestamp": 1649776952
    },
    {
        "content": "<p>anyways I'll go offline now. I think I have made my point</p>",
        "id": 278708878,
        "sender_full_name": "fee1-dead",
        "timestamp": 1649776976
    },
    {
        "content": "<p>Is \"weak warning\" even the right thing? In a previous discussion it was suggested to add an info level instead.</p>",
        "id": 278708904,
        "sender_full_name": "The 8472",
        "timestamp": 1649776990
    },
    {
        "content": "<p>I don't think it makes sense to implement this until we have at least one example of a lint that would benefit from it</p>",
        "id": 278718146,
        "sender_full_name": "Aaron Hill",
        "timestamp": 1649781251
    }
]