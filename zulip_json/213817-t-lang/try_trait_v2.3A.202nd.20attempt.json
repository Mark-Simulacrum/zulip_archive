[
    {
        "content": "<p>The rework is about ready to be pushed: <a href=\"https://gist.github.com/scottmcm/70a0b1d9c0bf3c33e8d87423bd6c2d63\">https://gist.github.com/scottmcm/70a0b1d9c0bf3c33e8d87423bd6c2d63</a></p>\n<p>If anyone feels like giving it a once-over for things that are still unclear or typos, I'd appreciate it.  I'll probably push it to the PR tomorrow.</p>\n<p>(And ping <span class=\"user-mention\" data-user-id=\"220273\">@Jane Lusby</span> as requested.)</p>\n<p>Previous conversations:<br>\n<a href=\"#narrow/stream/213817-t-lang/topic/First.20draft.3A.20A.20new.20.60Try.60.20RFC\">https://rust-lang.zulipchat.com/#narrow/stream/213817-t-lang/topic/First.20draft.3A.20A.20new.20.60Try.60.20RFC</a><br>\n<a href=\"#narrow/stream/213817-t-lang/topic/Design.20meeting.202021-01-13.3A.20try_trait_v2\">https://rust-lang.zulipchat.com/#narrow/stream/213817-t-lang/topic/Design.20meeting.202021-01-13.3A.20try_trait_v2</a></p>",
        "id": 225444545,
        "sender_full_name": "scottmcm",
        "timestamp": 1612672066
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 225445245,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1612673572
    },
    {
        "content": "<p>Ty</p>",
        "id": 225445246,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1612673574
    },
    {
        "content": "<p>I can't help but laugh at that title</p>",
        "id": 225445256,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1612673631
    },
    {
        "content": "<p>V2 second attempt</p>",
        "id": 225445257,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1612673635
    },
    {
        "content": "<p>Big semver energy</p>",
        "id": 225445294,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1612673651
    },
    {
        "content": "<p><code>try_trait_v2ex</code> here we come.  Though I suppose this is more like the 5th design for this area, really...</p>",
        "id": 225445704,
        "sender_full_name": "scottmcm",
        "timestamp": 1612674597
    },
    {
        "content": "<p><code>try_trait_v2_final_final</code></p>",
        "id": 225450353,
        "sender_full_name": "isHavvy",
        "timestamp": 1612682918
    },
    {
        "content": "<p>TeX style versioning <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 225450753,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1612683670
    },
    {
        "content": "<p>Minor nits: there are some random/lingering/unexplained references to <code>Try2021</code> instead of <code>Try</code>; the proposed <code>try_find</code> implementation (more precisely, the <code>check</code> inner function) uses an undefined <code>ControlFlow::CONTINUE</code> constant (whose definition is obvious, granted).</p>",
        "id": 225458041,
        "sender_full_name": "Gwaihir Thorondorsen",
        "timestamp": 1612695480
    },
    {
        "content": "<p>This \"final\" proposal looks so nice <span aria-label=\"heart eyes\" class=\"emoji emoji-1f60d\" role=\"img\" title=\"heart eyes\">:heart_eyes:</span> ! Nothing to say (besides the typo nits mentioned above <span aria-label=\"point up\" class=\"emoji emoji-1f446\" role=\"img\" title=\"point up\">:point_up:</span>) it's <span aria-label=\"ok\" class=\"emoji emoji-1f44c\" role=\"img\" title=\"ok\">:ok:</span> ; I'd just suggest one minor pedagogical improvement: after having gone in detail to write the implementation of <code>try_fold</code>, I think there is then a nice opportunity there to talk about / introduce the unsugaring of <code>?</code>, even if it is redundant with the following reference-level explanation <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 225472771,
        "sender_full_name": "Daniel Henry-Mantilla",
        "timestamp": 1612716876
    },
    {
        "content": "<p>In the \"Implementing Try for a non-generic type\" section, there is an example of splitting a <code>u32</code> into <code>()</code> + <code>NonZeroU32</code> where <code>0</code> is the success case. But what if the success case is something more complicated, for example I want even numbers to be successes and odd numbers to be failures? In that case Rust doesn't have any handy built in type, so I might use <code>u32</code> -&gt; <code>u32</code> + <code>u32</code> for the two types, but now we have a problem when recombining them because there are invalid values in the state. I guess one would want the <code>from_residual(OddU32) -&gt; u32</code> to be something like</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">fn</span> <span class=\"nf\">from_residual</span><span class=\"p\">(</span><span class=\"n\">x</span>: <span class=\"nc\">OddU32</span><span class=\"p\">)</span><span class=\"w\"> </span>-&gt; <span class=\"kt\">u32</span> <span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"k\">unsafe</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">hint</span>::<span class=\"n\">unreachable_unchecked</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<p>but can this be used in a safe <code>Try</code> trait? (Assume that one wants to assert the oddness to the compiler here because it's using it to perform heroic optimizations.)</p>",
        "id": 225473602,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1612717937
    },
    {
        "content": "<p>Am I the only one who keeps being confused by the argument order in <code>ControlFlow&lt;B, C&gt;</code>? I guess it has to be that way due to the <code>C=()</code>, but the table nicely shows he asymmetry with <code>Result</code> where it's the first type that is returned by <code>?</code></p>",
        "id": 225473609,
        "sender_full_name": "RalfJ",
        "timestamp": 1612717951
    },
    {
        "content": "<p>Also, <a href=\"https://gist.github.com/scottmcm/70a0b1d9c0bf3c33e8d87423bd6c2d63#why-fromtryresidual-is-the-supertrait\">in this section</a>, it says</p>\n<blockquote>\n<p>Also, it allows Try to bound both its associated types without causing a cycle.</p>\n</blockquote>\n<p>But there are no bounds on those associated types?<br>\n<del>(I am trying to figure out why <code>Try</code> and <code>FromTryResidual</code> are two separate traits, since their signatures makes it look like implementing one requires implementing the other -- as a supertrait in one direction, and due to <code>Self as Try</code> in the other direction.)</del> EDIT: never mind that last part, that's just the default, so when overriden it can simply be ignored.</p>",
        "id": 225473884,
        "sender_full_name": "RalfJ",
        "timestamp": 1612718345
    },
    {
        "content": "<p>a <code>Try2021</code> trait appears in 2 places, is that a leftover from some earlier version?</p>",
        "id": 225473962,
        "sender_full_name": "RalfJ",
        "timestamp": 1612718436
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"369545\">@Gwaihir Thorondorsen</span>! I'll go fix those.</p>\n<p><code>Try2021</code> is me being bad at fixing up things after I've copied it from the prototype implementation (where both versions of Try exist for bootstrapping simplicity)</p>",
        "id": 225474280,
        "sender_full_name": "scottmcm",
        "timestamp": 1612718902
    },
    {
        "content": "<p>The last section on <code>yeet</code> was confusing to me without the context for what <code>yeet</code> is supposed to do</p>",
        "id": 225474554,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1612719273
    },
    {
        "content": "<p>Is this <code>throw</code>?</p>",
        "id": 225474570,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1612719331
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"271719\">Mario Carneiro</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/225474570\">said</a>:</p>\n<blockquote>\n<p>Is this <code>throw</code>?</p>\n</blockquote>\n<p>Yes.  See the link in the summary to <a href=\"https://twitter.com/josh_triplett/status/1248658754976927750\">https://twitter.com/josh_triplett/status/1248658754976927750</a></p>\n<div class=\"inline-preview-twitter\"><div class=\"twitter-tweet\"><a href=\"https://twitter.com/josh_triplett/status/1248658754976927750\"><img class=\"twitter-avatar\" src=\"https://pbs.twimg.com/profile_images/1160249970215096321/a6xs3OoG_normal.jpg\"></a><p><a href=\"https://twitter.com/yaahc_\">@yaahc_</a> <a href=\"https://twitter.com/rustlang\">@rustlang</a> You've also inspired a new placeholder to facilitate discussion. For early-exit-with-error syntax, instead of saying \"fail, raise, throw, etc\", I'm going to just write `yeet err;` as a neutral placeholder. Thanks!</p><span>- Josh Triplett (@josh_triplett)</span></div></div>",
        "id": 225474777,
        "sender_full_name": "scottmcm",
        "timestamp": 1612719646
    },
    {
        "content": "<p>Perhaps something of that twitter post should appear in the RFC, for folks who don't read twitter</p>",
        "id": 225475443,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1612720713
    },
    {
        "content": "<p>A reference to  \"fail, raise, throw, etc\" should be sufficient</p>",
        "id": 225475455,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1612720749
    },
    {
        "content": "<p>or \"early-exit-with-error\" for that matter</p>",
        "id": 225475466,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1612720782
    },
    {
        "content": "<p>it would be pretty funny if <code>yeet</code> became the actual choice of keyword :)</p>",
        "id": 225475598,
        "sender_full_name": "Jacob Lifshay",
        "timestamp": 1612720926
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">pub</span><span class=\"w\"> </span><span class=\"k\">trait</span><span class=\"w\"> </span><span class=\"n\">FromTryResidual</span><span class=\"o\">&lt;</span><span class=\"n\">Residual</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"bp\">Self</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">Try</span><span class=\"o\">&gt;</span>::<span class=\"n\">Residual</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"sd\">/// Recreate the `Try` type from a related residual</span>\n<span class=\"w\">    </span><span class=\"k\">fn</span> <span class=\"nf\">from_residual</span><span class=\"p\">(</span><span class=\"n\">x</span>: <span class=\"nc\">Residual</span><span class=\"p\">)</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">Self</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<p>How does this typecheck without a <code>Self: Try</code> bound?</p>",
        "id": 225477180,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1612723072
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"271719\">Mario Carneiro</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/225477180\">said</a>:</p>\n<blockquote>\n<p>How does this typecheck without a <code>Self: Try</code> bound?</p>\n</blockquote>\n<p>The bound is checked when you actually use it -- if you try to <code>impl FromTryResidual for SomethingNotTry</code> then you'll get a typecheck error on the default you're implicitly using.  But you can <code>impl FromTryResidual&lt;Foo&gt; for SomethingNotTry</code> without triggering that because you didn't use it.</p>",
        "id": 225477309,
        "sender_full_name": "scottmcm",
        "timestamp": 1612723214
    },
    {
        "content": "<p>(I didn't know that 3 months ago.)</p>",
        "id": 225477365,
        "sender_full_name": "scottmcm",
        "timestamp": 1612723309
    },
    {
        "content": "<p>I'm surprised (for probably the same reason as 3-months-ago you), I thought that rust tried to avoid \"post-monomorphization errors\" (not an exact match to this) where the text is not checked until time of use</p>",
        "id": 225477546,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1612723498
    },
    {
        "content": "<p>I think it's slightly less bad than that, because it needs the <code>as Try</code> -- if it were just <code>= Self::Blah</code> then that could have been typo'd, but with <code>&lt;Self as Try&gt;::Yolo</code> it'll fail to compile because that associated type doesn't exist.</p>\n<p>So I think of it as being like specialization.</p>",
        "id": 225477750,
        "sender_full_name": "scottmcm",
        "timestamp": 1612723692
    },
    {
        "content": "<p>Thanks, all!  I've updated the gist with some fixes.  I'll push it to github soon.</p>\n<p><span class=\"user-mention\" data-user-id=\"232018\">@Daniel Henry-Mantilla</span> Added a final <code>simple_try_fold</code> using <code>?</code>; good idea.  Brings it nicely back to looking like the <code>simple_fold</code> again.</p>\n<p><span class=\"user-mention\" data-user-id=\"120791\">@RalfJ</span> I've added a section about <code>C = ()</code> referencing some of the history behind it.  I'll admit I've stumbled on the order sometimes, but <code>ControlFlow&lt;T&gt;</code> is just so much more common than needing non-unit <code>C</code> that I think it's worth it.</p>",
        "id": 225480187,
        "sender_full_name": "scottmcm",
        "timestamp": 1612727012
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"271719\">Mario Carneiro</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/225473602\">said</a>:</p>\n<blockquote>\n<p>but can this be used in a safe <code>Try</code> trait?</p>\n</blockquote>\n<p>I think this is the standard \"do you make the newtype trusted or not\" question.  If <code>OddU32</code> has a safe \"unchecked\" constructor, then no.  But if the only safe constructor does checking and the \"unchecked\" constructor requires <code>unsafe</code> to call, then you can.  Basically you need to delegate the proof obligation to the parameter to be able to rely on an invariant in an otherwise-safe method.</p>\n<p>So if the <code>Try::Output</code> type is a plain <code>u32</code> then you can't rely on it being less than 2³¹.  But if you instead make a <code>u31</code> newtype with appropriate checking you could (even if the layout code wouldn't know about that).</p>",
        "id": 225480392,
        "sender_full_name": "scottmcm",
        "timestamp": 1612727328
    },
    {
        "content": "<p>I see an inconsistency and I'm not sure if it has some semantic importance or not. For the proposed impl on Result, there's:</p>\n<div class=\"codehilite\"><pre><span></span><code>impl&lt;T, E&gt; ops::Try for Result&lt;T, E&gt; {\n    type Residual = Result&lt;!, E&gt;;\n// snip\nimpl&lt;T, E, F: From&lt;E&gt;&gt; ops::FromTryResidual&lt;Result&lt;!, E&gt;&gt; for Result&lt;T, F&gt; {\n    fn from_residual(x: Result&lt;!, E&gt;) -&gt; Self {\n</code></pre></div>\n<p>Yet for the proposed impl on Option there's:</p>\n<div class=\"codehilite\"><pre><span></span><code>impl&lt;T&gt; ops::Try for Option&lt;T&gt; {\n    type Residual = Option&lt;!&gt;;\n// snip\nimpl&lt;T&gt; ops::FromTryResidual for Option&lt;T&gt; {\n    fn from_residual(x: &lt;Self as ops::Try&gt;::Residual) -&gt; Self {\n</code></pre></div>\n<p>Is it important that the latter makes use of the Residual associated type, but not the former? Frankly my mind is kind of blown that this sort of circular reference is even allowed :P</p>\n<p>While we're at it, and maybe I'm missing the point somehow, but why is Residual both an input type on FromTryResidual and an associated type on Try? Would some use case be prevented if it were just an associated type on FromTryResidual?</p>",
        "id": 225482232,
        "sender_full_name": "bstrie",
        "timestamp": 1612729920
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"256342\">bstrie</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/225482232\">said</a>:</p>\n<blockquote>\n<p>Is it important that the latter makes use of the Residual associated type, but not the former? Frankly my mind is kind of blown that this sort of circular reference is even allowed :P</p>\n</blockquote>\n<p>It's not important that the impl for <code>Option</code> makes use of the associated type.  It could just say <code>Option&lt;!&gt;</code> and things would work fine.  (I originally wrote it as <code>Self::Residual</code>, but that didn't compile for reasons, so I probably should have just written out <code>Option&lt;!&gt;</code> instead of the <code>&lt;as Try&gt;</code> dance.)</p>\n<p>The impl for <code>Result</code>, however, cannot use the associated type because of the <code>E</code> vs <code>F</code> difference -- it's a generic impl so it's accepting <code>Result&lt;!, E where F: From&lt;E&gt;&gt;</code>, whereas the associated type would just be <code>Result&lt;!, F&gt;</code>.  That's also why it needed to specify the generic parameter on the <code>FromTryResidual</code> trait instead.</p>",
        "id": 225482622,
        "sender_full_name": "scottmcm",
        "timestamp": 1612730455
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"256342\">bstrie</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/225482232\">said</a>:</p>\n<blockquote>\n<p>While we're at it, and maybe I'm missing the point somehow, but why is Residual both an input type on FromTryResidual and an associated type on Try? Would some use case be prevented if it were just an associated type on FromTryResidual?</p>\n</blockquote>\n<p>The distinction here is the difference between what come out from <code>branch</code> (<code>::Residual</code>) and which residuals can be converted into this type (<code>&lt;Residual&gt;</code>).</p>\n<p>(That doesn't feel like a great answer, sorry, but I'm having trouble phrasing a better one.)</p>",
        "id": 225482871,
        "sender_full_name": "scottmcm",
        "timestamp": 1612730811
    },
    {
        "content": "<p>All <code>Try</code> types must support recreating themselves them their own residual (hence the <code>Try: FromTryResidual&lt;Self::Residual&gt;</code> bound) but they can choose to accept more things as well, if they wish.</p>",
        "id": 225482981,
        "sender_full_name": "scottmcm",
        "timestamp": 1612730975
    },
    {
        "content": "<p>Ok, and by \"they can choose to accept more things\" you mean they would achieve that by implementing just FromTryResidual, such as shown for the accidental Option interconversion shim? I guess I was confused by thinking that in all instances that every <code>Try::Residual</code> and its corresponding <code>FromTryResidual&lt;Residual&gt;</code> must refer to the exact same Residual type, but I guess looking at the <code>?</code> desugaring that by the time you call from_residual that you're past the point of caring about what gets returned from branch, so it all just works out? If my understanding happens to be correct here, then maybe it would be better if Residual were named differently in these two traits, so as to avert this conflation?</p>",
        "id": 225483920,
        "sender_full_name": "bstrie",
        "timestamp": 1612732200
    },
    {
        "content": "<p>Yeah, the <code>?</code> desugaring gets the type of the returned value from context, so it can do error conversion.  (The \"future\" section has a discussion about a different possible desugaring, using an additional trait, that wouldn't be contextual, but we can't use that in the currently-stable <code>?</code> situations because of those error-conversions.)</p>\n<p>I don't know if it should have a different name.  It's expected to be <em>something</em>'s <code>::Residual</code> type, just maybe not <em><code>Self</code>'s</em>.</p>\n<p>I'm definitely open to changing any of the identifiers, though.  I think every single one got renamed in this revision, which is good evidence that it's unlikely that the current names are optimal...</p>",
        "id": 225484422,
        "sender_full_name": "scottmcm",
        "timestamp": 1612732837
    },
    {
        "content": "<p>I do actually think the current names are overall pretty good, this RFC is much more readable than the previous one with Bubble and such :) my only naming-related quibble is that FromTryResidual::from_residual not being FromResidual::from_residual or FromTryResidual::from_try_residual. I'd probably prefer the former if only because \"FromTry\" doesn't have all that much to do with \"TryFrom\"...</p>",
        "id": 225484518,
        "sender_full_name": "bstrie",
        "timestamp": 1612732984
    },
    {
        "content": "<p>Yeah, I went through some absolutely terrible names like <code>type Residual: IntoTry&lt;Self&gt;;</code> while experimenting.  (We'd better not have <code>TryInto</code> and <code>IntoTry</code> traits <span aria-label=\"fear\" class=\"emoji emoji-1f628\" role=\"img\" title=\"fear\">:fear:</span>)</p>\n<p>Good point that the trait and method names should match.  Maybe the <code>Try</code> in the name isn't that helpful any more?  <code>FromBreak</code> would have been weird, but maybe \"residual\" is sufficiently distinct that <code>FromResidual</code> is ok without the <code>Try</code> in the name.</p>",
        "id": 225485020,
        "sender_full_name": "scottmcm",
        "timestamp": 1612733573
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"271719\">Mario Carneiro</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/225475455\">said</a>:</p>\n<blockquote>\n<p>A reference to  \"fail, raise, throw, etc\" should be sufficient</p>\n</blockquote>\n<p>Added a sentence for this in the yeet subsection.</p>",
        "id": 225485686,
        "sender_full_name": "scottmcm",
        "timestamp": 1612734373
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"125270\">@scottmcm</span> just finished reading the RFC, looks great</p>",
        "id": 225947428,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1613017345
    },
    {
        "content": "<p>Dying at the last section</p>",
        "id": 225947431,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1613017350
    },
    {
        "content": "<p>My one comment is that the past tense of yeet is not \"yeeted\", it's \"yote\"</p>",
        "id": 225947459,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1613017404
    },
    {
        "content": "<p>At least according to my friend group, lol</p>",
        "id": 225947465,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1613017414
    },
    {
        "content": "<p>I've seen both.</p>",
        "id": 225964361,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1613034761
    },
    {
        "content": "<p>\"yeet\", \"yeeted\", \"yeeting\", \"yeeter\"...</p>",
        "id": 225964442,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1613034823
    },
    {
        "content": "<p>it should follow the pattern of \"meet\" i.e. \"yeet\" \"yeets\" \"yeeting\" \"yet\" /s</p>",
        "id": 225971576,
        "sender_full_name": "kennytm",
        "timestamp": 1613039207
    },
    {
        "content": "<p>What's important is that we don't forget to bikeshed the bikeshed-avoidance term</p>",
        "id": 226001431,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1613055120
    },
    {
        "content": "<p><span aria-label=\"smirk\" class=\"emoji emoji-1f60f\" role=\"img\" title=\"smirk\">:smirk:</span></p>",
        "id": 226001490,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1613055129
    },
    {
        "content": "<p>it is bikesheds all the way down</p>",
        "id": 226018647,
        "sender_full_name": "kennytm",
        "timestamp": 1613061236
    },
    {
        "content": "<p>Ah, but is it \"bikeshedded\" or \"bikeshod\".</p>",
        "id": 226029837,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1613065588
    },
    {
        "content": "<p>Do a language designer's children go unbikeshod? <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 226031914,
        "sender_full_name": "scottmcm",
        "timestamp": 1613066347
    },
    {
        "content": "<p>this thread is thoroughly beyotten</p>",
        "id": 226045730,
        "sender_full_name": "cuviper",
        "timestamp": 1613072030
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125254\">kennytm</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/225971576\">said</a>:</p>\n<blockquote>\n<p>it should follow the pattern of \"meet\" i.e. \"yeet\" \"yeets\" \"yeeting\" \"yet\" /s</p>\n</blockquote>\n<p>you say that as if expecting English to follow a pattern would make any sense...^^</p>",
        "id": 226242896,
        "sender_full_name": "RalfJ",
        "timestamp": 1613219439
    },
    {
        "content": "<p>English absolutely follows the pattern of not following an expected pattern.</p>",
        "id": 226258645,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1613239494
    },
    {
        "content": "<p>It's consistently inconsistent.</p>",
        "id": 226258664,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1613239520
    },
    {
        "content": "<p>Status update after the libs meeting, I'll be doing the following:</p>\n<ul>\n<li>Do the <code>FromTryResidual</code> -&gt; <code>FromResidual</code> change.</li>\n<li>Add a three-trait structure alternative, and unresolved question for an eventual tracking issue.</li>\n<li>Add a <code>Break</code>/<code>Continue</code> naming alternative, and unresolved question for an eventual tracking issue.</li>\n<li>Get my prototype implementation crater-ready.</li>\n</ul>",
        "id": 226728519,
        "sender_full_name": "scottmcm",
        "timestamp": 1613597294
    },
    {
        "content": "<p>Interesting side effect, as I look at some MIR tests: moving the <code>from</code> means one fewer function call and one fewer mir temporary per <code>?</code>.  Might actually help the overall generate-the-IR times.</p>\n<p>(Apparently I broke the unsound mir opt that simplified <code>?</code>, but I don't feel too bad about that.)</p>",
        "id": 227077886,
        "sender_full_name": "scottmcm",
        "timestamp": 1613810943
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/82318\">Prepping a <code>try</code> build</a> found a new kind of interconversion example.  See conversation in <a href=\"#narrow/stream/219381-t-libs/topic/Code.20mixing.20.60Option.60.2F.60Result.60.20in.20.60.3F.60.20(RFC.233058)\">https://rust-lang.zulipchat.com/#narrow/stream/219381-t-libs/topic/Code.20mixing.20.60Option.60.2F.60Result.60.20in.20.60.3F.60.20(RFC.233058)</a></p>",
        "id": 227125646,
        "sender_full_name": "scottmcm",
        "timestamp": 1613862263
    },
    {
        "content": "<p>And the first crater run is queued: <a href=\"https://crater.rust-lang.org/ex/pr-82318\">https://crater.rust-lang.org/ex/pr-82318</a></p>",
        "id": 227130260,
        "sender_full_name": "scottmcm",
        "timestamp": 1613867892
    },
    {
        "content": "<p>Hypee</p>",
        "id": 227175812,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1613922810
    },
    {
        "content": "<p>Really excited for this. I'm looking forward to doing <code>?</code>-able things.</p>",
        "id": 227176065,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1613923080
    },
    {
        "content": "<p>Hello people! <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> Some days ago I felt like <code>?</code> could be more flexible and I'm really happy to see this wonderful RFC about it.</p>\n<p>The only thing that I don't get is the name of the trait. It feels to me that <code>Try</code> was more appropriate in the past because its meaning was more restricted. The main reason that I see for keeping it is because people got used to call <code>?</code> as the try operator because of the macro it replaced.</p>\n<p>It would be nice to find a name which could describe the meaning of the operator/new trait.</p>",
        "id": 227271434,
        "sender_full_name": "Eduardo Canellas",
        "timestamp": 1614003132
    },
    {
        "content": "<p>After reading the RFC again, the best name I could think until now is <code>EarlyExit</code>. I read \"early exit\" at least two times on the RFC and I think it may shortly express the operation done by <code>?</code>.</p>\n<p>No bikeshedding intended <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> just wanted to show my point of view <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 227295885,
        "sender_full_name": "Eduardo Canellas",
        "timestamp": 1614011710
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"312608\">@Eduardo Canellas</span> that's actually a good point. I had raised against <code>try</code> that there's situations (such as web routing) where the early return is \"route found\" and not \"we hit an error\"</p>",
        "id": 227298019,
        "sender_full_name": "Florian Gilcher",
        "timestamp": 1614012546
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"312608\">@Eduardo Canellas</span> I'd be happy to find a new name.  No worries about <span aria-label=\"bike\" class=\"emoji emoji-1f6b2\" role=\"img\" title=\"bike\">:bike:</span><span aria-label=\"house\" class=\"emoji emoji-1f3e0\" role=\"img\" title=\"house\">:house:</span>ing; I've also started threads for that in the past for this: <a href=\"https://internals.rust-lang.org/t/bikeshed-a-consise-verb-for-the-operator/7289/29?u=scottmcm\">https://internals.rust-lang.org/t/bikeshed-a-consise-verb-for-the-operator/7289/29?u=scottmcm</a></p>\n<p>TBH, mostly I just left it as <code>Try</code> because that was the easiest thing to do in the prototype (no need to update all the <code>try_fold</code> implementations).  Though I can somewhat back-justify it with \"<code>Try</code> is the trait for types used in <code>try_*</code> methods\".</p>",
        "id": 227313778,
        "sender_full_name": "scottmcm",
        "timestamp": 1614018356
    },
    {
        "content": "<p>The naming part that I find particularly hard is the conditional-ness of <code>?</code>.  A name like <code>EarlyExit</code> could also be the trait for <code>throw</code>/<code>fail</code>/<code>raise</code>/<code>yeet</code>/..., for example, since that one's <em>always</em> an early exit.</p>",
        "id": 227315070,
        "sender_full_name": "scottmcm",
        "timestamp": 1614018853
    },
    {
        "content": "<p>Agreed that \"try\" is a bit overloaded as a general term, it might conjure potentially-misleading analogies to exception systems, and it's more-or-less orthogonal to the <code>TryFoo</code> traits elsewhere in std. That said, it's probably not that big a deal, since most users aren't ever probably going to directly interact with it themselves? Unless it shows up in error messages when using <code>?</code></p>",
        "id": 227315720,
        "sender_full_name": "bstrie",
        "timestamp": 1614019139
    },
    {
        "content": "<p>It's in the default error message for using <code>?</code> on something that doesn't support it, yes.  Though there's enough <code>rustc_on_unimplemented</code> magic going on that the error message says something like \"You can only use <code>?</code> on <code>Result</code>s or <code>Option</code>s (or another type which implements <code>Try</code>)\", so seeing <code>Try</code> is very much secondary.</p>\n<p>I like the \"<code>TryFrom</code> isn't a subtrait of <code>Try</code>\" observation...</p>",
        "id": 227320574,
        "sender_full_name": "scottmcm",
        "timestamp": 1614021022
    },
    {
        "content": "<p>I tried a few names (using Search + Replace) <a href=\"https://github.com/eduardocanellas/rfcs/pull/1\">on a fork</a> to see what it could look like.</p>\n<p>I just focused on the behavior of <code>?</code>, instead of its main usage (deal with errors). I think <code>?</code> could be very useful in scenarios which do not involve error handling (e.g. the \"route found\" example from <span class=\"user-mention\" data-user-id=\"215333\">@Florian Gilcher</span>, early returns for the happy case).</p>\n<p>In short, the initial idea:</p>\n<p><code>Try</code> -&gt; <code>EarlyExit</code><br>\n<code>Output</code> -&gt; <code>Remainder</code> (because the value \"remains\" where <code>?</code> is called)<br>\n<code>Residual</code> -&gt; <code>Return</code> (or something with a similar meaning)</p>\n<p>I'm not familiar with other designs which could be affected/related (e.g. <code>yeet</code> family), though.</p>",
        "id": 227323000,
        "sender_full_name": "Eduardo Canellas",
        "timestamp": 1614022036
    },
    {
        "content": "<p>I already usually call <code>?</code> the propagation operator</p>",
        "id": 227323058,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614022063
    },
    {
        "content": "<p>fwiw</p>",
        "id": 227323068,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614022066
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"220273\">Jane Lusby</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/227323058\">said</a>:</p>\n<blockquote>\n<p>I already usually call <code>?</code> the propagation operator</p>\n</blockquote>\n<p><code>Try</code> -&gt; <code>Propagate</code><br>\n<code>Output</code> -&gt; <code>Remainder</code><br>\n<code>Residual</code> -&gt; <code>Output</code></p>\n<p>I like it <span aria-label=\"grimacing\" class=\"emoji emoji-1f62c\" role=\"img\" title=\"grimacing\">:grimacing:</span></p>",
        "id": 227324291,
        "sender_full_name": "Eduardo Canellas",
        "timestamp": 1614022534
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"220273\">Jane Lusby</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/227323058\">said</a>:</p>\n<blockquote>\n<p>I already usually call <code>?</code> the propagation operator</p>\n</blockquote>\n<p>I like it, I defaulted to \"question mark\" for lack of a better name.</p>",
        "id": 227333988,
        "sender_full_name": "Florian Gilcher",
        "timestamp": 1614026570
    },
    {
        "content": "<p>for consistency it would be called <code>Propagate</code>, similar to how it's <code>std::ops::Add</code> and not <code>std::ops::Addition</code></p>",
        "id": 227336456,
        "sender_full_name": "bstrie",
        "timestamp": 1614027652
    },
    {
        "content": "<p>I tend to say \"question mark\" too, though I like the verb \"bubble\" from that bikeshed link.</p>\n<p>The original <code>Try</code> RFC points out that it's <code>Add</code> and not <code>Plus</code>: <a href=\"https://rust-lang.github.io/rfcs/1859-try-trait.html?highlight=plus#what-to-name-the-trait\">https://rust-lang.github.io/rfcs/1859-try-trait.html?highlight=plus#what-to-name-the-trait</a></p>",
        "id": 227338943,
        "sender_full_name": "scottmcm",
        "timestamp": 1614028700
    },
    {
        "content": "<p>\"bubble operator\" is certainly less of a mouthful than \"propagate operator\", but I'm flashing back to the original try_v2 proposal and how much trouble I had understanding the terms there (which included \"bubble\")</p>",
        "id": 227339604,
        "sender_full_name": "bstrie",
        "timestamp": 1614029018
    },
    {
        "content": "<p>I like the <code>ControlFlow</code> terminology for the values, <code>Continue</code> and <code>Break</code></p>",
        "id": 227363946,
        "sender_full_name": "cuviper",
        "timestamp": 1614040392
    },
    {
        "content": "<p>I feel pretty strongly that calling <code>Residual</code> <code>Output</code> would be confusing</p>",
        "id": 227467822,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614100641
    },
    {
        "content": "<p>I get confused with the current names because <code>Residual</code> is used to the value that is \"ejected\" by <code>?</code> in the RFC. To me, it looks more intuitive that the \"residual\" value should be the one which remains in the call site. <code>Residual</code> or <code>Remainder</code> for the one in the call site and other name for the one which is lifted.</p>",
        "id": 227497459,
        "sender_full_name": "Eduardo Canellas",
        "timestamp": 1614111821
    },
    {
        "content": "<p>But maybe I think about <code>?</code> differently. The current names may feel okay when I just think about errors and error propagation. But I have the impression that the trait would allow more use cases besides errors, wouldn't it?</p>",
        "id": 227497873,
        "sender_full_name": "Eduardo Canellas",
        "timestamp": 1614111965
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"312608\">Eduardo Canellas</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/227497459\">said</a>:</p>\n<blockquote>\n<p>I get confused with the current names because <code>Residual</code> is used to the value that is \"ejected\" by <code>?</code> in the RFC. To me, it looks more intuitive that the \"residual\" value should be the one which remains in the call site. <code>Residual</code> or <code>Remainder</code> for the one in the call site and other name for the one which is lifted.</p>\n</blockquote>\n<p>this seems like a matter of perspective. you're viewing the job of <code>?</code> as primarily \"ejecting the (break) value\" while the continue value is the leftover. I think it's more accurate to say that unwrapping the continue value is the primary operation and that ejecting the break value is the fallback / secondary case. Or at least it is more correct in the current framing of \"trying a fallible operation\"</p>",
        "id": 227503114,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614114322
    },
    {
        "content": "<p>So I think it has to be the side it is when coupled with <code>Output</code> -- like how <code>Not::Output</code> is the type of the value that comes out of the <code>!</code> operator, <code>Try::Output</code> is the type of the value that comes out of the <code>?</code> operator.</p>\n<p>Now, it's possible they should <em>both</em> change.  Libs has asked for me to write in an alternative for that, in fact.</p>",
        "id": 227507670,
        "sender_full_name": "scottmcm",
        "timestamp": 1614116226
    },
    {
        "content": "<p>I definitely feel that the \"unwrap\" value is the \"primary\" one</p>",
        "id": 227520446,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614121446
    },
    {
        "content": "<p>however</p>",
        "id": 227520480,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614121470
    },
    {
        "content": "<p>a name like <code>AbortType</code> or <code>BreakType</code> (break is not great because it's overloaded...) might clarify things</p>",
        "id": 227520511,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614121500
    },
    {
        "content": "<p>I believe in some specs it's called an \"abrupt exit\"</p>",
        "id": 227520545,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614121513
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/227520545\">said</a>:</p>\n<blockquote>\n<p>I believe in some specs it's called an \"abrupt exit\"</p>\n</blockquote>\n<p>oo, this makes me think of \"early exit\"</p>",
        "id": 227521152,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614121820
    },
    {
        "content": "<p><code>FromEarlyExit</code> and <code>FromKeepGoing</code> would work...</p>",
        "id": 227521292,
        "sender_full_name": "scottmcm",
        "timestamp": 1614121906
    },
    {
        "content": "<p>\"exit\" has connotations of \"end the whole program\", though.</p>",
        "id": 227521413,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1614121965
    },
    {
        "content": "<p>\"early return\" perhaps?</p>",
        "id": 227521422,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1614121971
    },
    {
        "content": "<p><code>FromReturn</code>?</p>",
        "id": 227521449,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1614121983
    },
    {
        "content": "<p>return doesn't apply to try blocks</p>",
        "id": 227521486,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614122009
    },
    {
        "content": "<p>I think I'd prefer <code>Output</code> myself for the \"main name\"</p>",
        "id": 227521509,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614122026
    },
    {
        "content": "<p>(personally)</p>",
        "id": 227521523,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614122039
    },
    {
        "content": "<p>just because I hate remembering the \"special snowflake\" names of associated types on various traits</p>",
        "id": 227521586,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614122051
    },
    {
        "content": "<p>\"output\" seems more ambiguous.</p>",
        "id": 227526885,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1614125154
    },
    {
        "content": "<p>It could mean the early output or the continuing output.</p>",
        "id": 227526946,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1614125170
    },
    {
        "content": "<p>I'll contend that the conceptual \"output\" of the <code>?</code> operator is arguably from the perspective of the expression invoking it. In an expression invoking <code>?</code>, the output is the thing that it will get back from it, rather than the thing that might potentially end up <em>waves hands</em> somewhere else</p>",
        "id": 227528355,
        "sender_full_name": "bstrie",
        "timestamp": 1614126028
    },
    {
        "content": "<p>OuterOutput / InnerOutput</p>",
        "id": 227555170,
        "sender_full_name": "isHavvy",
        "timestamp": 1614149025
    },
    {
        "content": "<p><code>OuterInput</code>/<code>InnerOutput</code> <span aria-label=\"smirk\" class=\"emoji emoji-1f60f\" role=\"img\" title=\"smirk\">:smirk:</span></p>",
        "id": 227559347,
        "sender_full_name": "scottmcm",
        "timestamp": 1614152247
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"239881\">Josh Triplett</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/227526885\">said</a>:</p>\n<blockquote>\n<p>\"output\" seems more ambiguous.</p>\n</blockquote>\n<p>I agree it's conceptually ambiguous. I just agree with <span class=\"user-mention\" data-user-id=\"256342\">@bstrie</span> and others that the \"output\" of an operator is the value that passes to the surrounding expressions</p>",
        "id": 227578009,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614162800
    },
    {
        "content": "<p>and I think this consistency is worth maintaining</p>",
        "id": 227578018,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614162809
    },
    {
        "content": "<p>in other words, I would rather have a rule I can remember across all operators</p>",
        "id": 227578046,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614162827
    },
    {
        "content": "<p>then to have a less ambiguous case for this one</p>",
        "id": 227578068,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614162843
    },
    {
        "content": "<p>I will admit I also don't find <code>Output</code> <em>particularly</em> unclear-- I think the <em>vast majority</em> of users are going to be writing code with <code>Result</code> in their minds when they think about <code>?</code></p>",
        "id": 227578179,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614162886
    },
    {
        "content": "<p><code>Output</code> / <code>Input</code>! <code>Output</code> is the value which goes out, <code>Input</code> is the value that stays in <span aria-label=\"laughter tears\" class=\"emoji emoji-1f602\" role=\"img\" title=\"laughter tears\">:laughter_tears:</span></p>",
        "id": 227587269,
        "sender_full_name": "Eduardo Canellas",
        "timestamp": 1614167961
    },
    {
        "content": "<p>I know that this isn't useful but I think of it as <code>Happy</code> and <code>Sad</code></p>",
        "id": 227614776,
        "sender_full_name": "Jeremy Kolb",
        "timestamp": 1614180214
    },
    {
        "content": "<p>Hey, I took some time and tried to implement a draft on the feature I was thinking for <code>?</code>: be able to easily early return in success cases too. Here's the gist: <a href=\"https://gist.github.com/eduardocanellas/ef1b476f776e87bdda3a8fab35912172\">https://gist.github.com/eduardocanellas/ef1b476f776e87bdda3a8fab35912172</a></p>\n<p>It runs fine on <span class=\"user-mention\" data-user-id=\"125270\">@scottmcm</span>'s branch <span aria-label=\"happy\" class=\"emoji emoji-1f600\" role=\"img\" title=\"happy\">:happy:</span> </p>\n<p>As I'm a beginner here, it may have problems that I couldn't notice <span aria-label=\"grimacing\" class=\"emoji emoji-1f62c\" role=\"img\" title=\"grimacing\">:grimacing:</span></p>",
        "id": 227626234,
        "sender_full_name": "Eduardo Canellas",
        "timestamp": 1614183736
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"312608\">@Eduardo Canellas</span> can you give the tl;dr of what I am looking at here :)</p>",
        "id": 227627108,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614184000
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> In short, a <code>Lift</code> type (the trait I added there) is used to allow types to \"lift\" a value. The motivation is that I wanted to be able to propagate <code>Ok</code> instead of <code>Err</code>. Maybe the test I added in the end clarify how the usage would be. Without this code, I guess I would have to make three <code>if/match</code> in the test.</p>\n<p>In the test, <code>b</code>'s return is propagated and the return of <code>test</code> is <code>Ok(42)</code>, as asserted.</p>",
        "id": 227632172,
        "sender_full_name": "Eduardo Canellas",
        "timestamp": 1614185684
    },
    {
        "content": "<p>It's very cool that your extension is now possible!</p>",
        "id": 227634321,
        "sender_full_name": "cuviper",
        "timestamp": 1614186317
    },
    {
        "content": "<p>I think I see</p>",
        "id": 227638893,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614187880
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"312608\">Eduardo Canellas</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/227626234\">said</a>:</p>\n<blockquote>\n<p>Hey, I took some time and tried to implement a draft on the feature I was thinking for <code>?</code>: be able to easily early return in success cases too.</p>\n</blockquote>\n<p>Looks similar to what <span class=\"user-mention\" data-user-id=\"125254\">@kennytm</span> put together in <a href=\"https://github.com/rust-lang/rfcs/pull/3058#issuecomment-766365909\">https://github.com/rust-lang/rfcs/pull/3058#issuecomment-766365909</a></p>",
        "id": 227644492,
        "sender_full_name": "scottmcm",
        "timestamp": 1614189938
    },
    {
        "content": "<p>I'm a little worried that the error can be silently dropped, not even a <code>must_use</code> warning, but still I think it's good that folks will be able to experiment with such adapters outside of the standard library.</p>",
        "id": 227645362,
        "sender_full_name": "cuviper",
        "timestamp": 1614190283
    },
    {
        "content": "<p>my last bikeshed, perhaps <code>LocalOutput</code> vs <code>RemoteOutput</code>?</p>",
        "id": 227662082,
        "sender_full_name": "bstrie",
        "timestamp": 1614196917
    },
    {
        "content": "<p>Honestly, I'd much rather see something closer to ControlFlow's \"break\" and \"continue\" naming.</p>",
        "id": 227662168,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1614196942
    },
    {
        "content": "<p>(assuming those names don't change)</p>",
        "id": 227662183,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1614196947
    },
    {
        "content": "<p>Or <em>some</em> name that makes it incredibly obvious which one goes with which direction of control flow.</p>",
        "id": 227662247,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1614196971
    },
    {
        "content": "<p>How about <code>Output</code> and <code>BreakValue</code>?</p>",
        "id": 227715755,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1614227053
    },
    {
        "content": "<p>I think <code>BreakValue</code> sounds too much like the wrapped value</p>",
        "id": 227741958,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614246516
    },
    {
        "content": "<p>but <code>BreakResidual</code> seems good</p>",
        "id": 227741968,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614246520
    },
    {
        "content": "<p>or something along those lines</p>",
        "id": 227741994,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614246535
    },
    {
        "content": "<p>Maybe <code>Up</code> and <code>Stay</code></p>",
        "id": 227758389,
        "sender_full_name": "Eduardo Canellas",
        "timestamp": 1614255932
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125270\">scottmcm</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/227077886\">said</a>:</p>\n<blockquote>\n<p>Interesting side effect, as I look at some MIR tests: moving the <code>from</code> means one fewer function call and one fewer mir temporary per <code>?</code>.  Might actually help the overall generate-the-IR times.</p>\n</blockquote>\n<p>Did you by any chance try a perf run? The interpreter in rustc heavily uses <code>?</code> and suffers from its current relatively poor codegen. It would be a good testing ground.</p>",
        "id": 227778488,
        "sender_full_name": "tm",
        "timestamp": 1614264615
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"352985\">tm</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/227778488\">said</a>:</p>\n<blockquote>\n<p>Did you by any chance try a perf run?</p>\n</blockquote>\n<p>I don't think my prototype is likely to be in a place where the overall codegen is better.  It does nothing to help the core \"LLVM is bad at rebuilding 2-variant enums\" problem, and regresses things like the mir-opt that simplifies basic <code>?</code>s.  So while I think the HAIR-&gt;MIR will emit something slightly smaller, I doubt that right now that'd be material to a perf run.</p>",
        "id": 227823346,
        "sender_full_name": "scottmcm",
        "timestamp": 1614281400
    },
    {
        "content": "<p>Since we're bikeshedding, I liked the name <code>ShortCircuit</code> for the residual. And possibly <code>ShortCircuiting</code> for the trait too but I'm less sure it conveys what we want</p>",
        "id": 228327180,
        "sender_full_name": "Nadrieril",
        "timestamp": 1614642119
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"125270\">@scottmcm</span> some more feedback on the try trait work</p>",
        "id": 228646865,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614797801
    },
    {
        "content": "<p>though I don't think this specific complaint is specific to any changes you've made</p>",
        "id": 228646879,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614797809
    },
    {
        "content": "<p>but rn I'm trying to work on this example of how I'd like to see try being used in the future, and I'm looking at it from an viewpoint of teachability</p>",
        "id": 228646950,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614797837
    },
    {
        "content": "<p>specifically</p>",
        "id": 228647026,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614797869
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">fn</span> <span class=\"nf\">do_thing2</span><span class=\"p\">()</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">report</span>::<span class=\"nb\">Result</span><span class=\"o\">&lt;</span><span class=\"p\">()</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">do_thing</span><span class=\"p\">()</span><span class=\"o\">?</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"n\">report</span>::<span class=\"nb\">Result</span>::<span class=\"n\">from_output</span><span class=\"p\">(())</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 228647032,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614797871
    },
    {
        "content": "<p>the last line</p>",
        "id": 228647040,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614797874
    },
    {
        "content": "<p>I'm trying to find a way to make <code>Ok(())</code> work</p>",
        "id": 228647065,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614797880
    },
    {
        "content": "<p>or something that I feel will be equivalently obvious</p>",
        "id": 228647122,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614797887
    },
    {
        "content": "<p>I currently have this</p>",
        "id": 228647673,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614798070
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">    </span><span class=\"cp\">#[allow(non_snake_case)]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">pub</span><span class=\"w\"> </span><span class=\"k\">fn</span> <span class=\"nf\">Ok</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"n\">value</span>: <span class=\"nc\">T</span><span class=\"p\">)</span><span class=\"w\"> </span>-&gt; <span class=\"nb\">Result</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"nb\">Result</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"n\">inner</span>: <span class=\"nc\">StdOk</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">),</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 228647683,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614798073
    },
    {
        "content": "<p>seems to work</p>",
        "id": 228647697,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614798077
    },
    {
        "content": "<p>which gives this</p>",
        "id": 228647733,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614798089
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">fn</span> <span class=\"nf\">do_thing2</span><span class=\"p\">()</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">report</span>::<span class=\"nb\">Result</span><span class=\"o\">&lt;</span><span class=\"p\">()</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">do_thing</span><span class=\"p\">()</span><span class=\"o\">?</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"c1\">// report::Result::from_output(())</span>\n<span class=\"w\">    </span><span class=\"n\">report</span>::<span class=\"nb\">Ok</span><span class=\"p\">(())</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 228647739,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614798092
    },
    {
        "content": "<p>so maybe its only an issue for implementors</p>",
        "id": 228647787,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614798112
    },
    {
        "content": "<p>because I had to alias all the std Result types before introducing my own or face horrid compiler errors</p>",
        "id": 228647900,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614798138
    },
    {
        "content": "<p>overall I feel like this is a strong pressure towards <code>try</code> blocks</p>",
        "id": 228648099,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614798212
    },
    {
        "content": "<p>actually I think there's an easy solution here I just completely overlooked</p>",
        "id": 228651392,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614799413
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"220273\">Jane Lusby</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/228648099\">said</a>:</p>\n<blockquote>\n<p>overall I feel like this is a strong pressure towards <code>try</code> blocks</p>\n</blockquote>\n<p>Agreed.  I previously actually moved almost all the <code>from_output</code> calls in <code>library</code> in favour of using <code>try{}</code> blocks: <a href=\"https://github.com/rust-lang/rust/pull/77877\">https://github.com/rust-lang/rust/pull/77877</a></p>\n<p>Admittedly that was to make it easier to change the desugaring, but I think it's interesting as something that might be valuable in general.</p>",
        "id": 228651430,
        "sender_full_name": "scottmcm",
        "timestamp": 1614799432
    },
    {
        "content": "<p>yea</p>",
        "id": 228651500,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614799450
    },
    {
        "content": "<p>A silly thought: <code>try{x}</code> is available on stable as <code>iter::empty().try_for_each(x, |_| unreachable!())</code>.</p>",
        "id": 228651820,
        "sender_full_name": "scottmcm",
        "timestamp": 1614799564
    },
    {
        "content": "<p>....</p>",
        "id": 228651988,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614799625
    },
    {
        "content": "<p>loool</p>",
        "id": 228652059,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614799645
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125270\">scottmcm</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/228651820\">said</a>:</p>\n<blockquote>\n<p>A silly thought: <code>try{x}</code> is available on stable as <code>iter::empty().try_for_each(x, |_| unreachable!())</code>.</p>\n</blockquote>\n<p>almost :) doesn't have <code>break</code>!</p>",
        "id": 228652298,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614799720
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"220273\">Jane Lusby</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/228647900\">said</a>:</p>\n<blockquote>\n<p>because I had to alias all the std Result types before introducing my own or face horrid compiler errors</p>\n</blockquote>\n<p>Is there a reason why <code>report</code> wants to provide <code>Result</code> and <code>Ok</code> rather than use distinct names?</p>",
        "id": 228653537,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1614800142
    },
    {
        "content": "<p>pretty happy with how this came out</p>",
        "id": 228653861,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614800259
    },
    {
        "content": "<p><a href=\"https://gist.github.com/yaahc/c9348cca4aa34ba8bc92f41ba543919d\">https://gist.github.com/yaahc/c9348cca4aa34ba8bc92f41ba543919d</a></p>",
        "id": 228653862,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614800260
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"239881\">Josh Triplett</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/228653537\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"220273\">Jane Lusby</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/228647900\">said</a>:</p>\n<blockquote>\n<p>because I had to alias all the std Result types before introducing my own or face horrid compiler errors</p>\n</blockquote>\n<p>Is there a reason why <code>report</code> wants to provide <code>Result</code> and <code>Ok</code> rather than use distinct names?</p>\n</blockquote>\n<p>not really, It just seemed most intuitive to copy the <code>Result</code> api</p>",
        "id": 228653965,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614800291
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">    </span><span class=\"k\">impl</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">FromResidual</span><span class=\"o\">&lt;</span><span class=\"nb\">Result</span><span class=\"o\">&lt;!&gt;&gt;</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"nb\">Result</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"k\">fn</span> <span class=\"nf\">from_residual</span><span class=\"p\">(</span><span class=\"n\">residual</span>: <span class=\"nb\">Result</span><span class=\"o\">&lt;!&gt;</span><span class=\"p\">)</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">Self</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">Err2</span><span class=\"p\">(</span><span class=\"n\">error</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">residual</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"n\">Err2</span><span class=\"p\">(</span><span class=\"n\">error</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 228654077,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614800331
    },
    {
        "content": "<p>the good code</p>",
        "id": 228654080,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614800333
    },
    {
        "content": "<p>actually shit</p>",
        "id": 228654126,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614800349
    },
    {
        "content": "<p>its still Err2</p>",
        "id": 228654129,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614800350
    },
    {
        "content": "<p>damnit</p>",
        "id": 228654135,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1614800351
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125270\">scottmcm</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/228651820\">said</a>:</p>\n<blockquote>\n<p>A silly thought: <code>try{x}</code> is available on stable as <code>iter::empty().try_for_each(x, |_| unreachable!())</code>.</p>\n</blockquote>\n<p>I use <code>(|| -&gt; Result&lt;_, _&gt; {Ok({ x })})()</code> a lot. Suffice it to say I'm eagerly awaiting <code>try</code> blocks on stable</p>",
        "id": 228714955,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1614832098
    },
    {
        "content": "<p>Likewise. As well as the async equivalent.</p>",
        "id": 228735437,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1614847237
    },
    {
        "content": "<p>Crater run 29% complete: <a href=\"https://crater.rust-lang.org/ex/pr-82322\">https://crater.rust-lang.org/ex/pr-82322</a> <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>\n<p>(This is without <code>mod sadness</code>, to see how bad an edition transition would be.  And because it would allow targeting a smaller set of crates for the \"make sure it doesn't break 2015 code\" run later.)</p>",
        "id": 228828659,
        "sender_full_name": "scottmcm",
        "timestamp": 1614883820
    },
    {
        "content": "<p>And crater's done.  Lots of failures for things implementing <code>Try</code>, of course, but some real failures too.</p>\n<p>Conversation about it is happening in <a class=\"stream\" data-stream-id=\"219381\" href=\"/#narrow/stream/219381-t-libs\">#t-libs</a> : <a href=\"#narrow/stream/219381-t-libs/topic/Code.20mixing.20.60Option.60.2F.60Result.60.20in.20.60.3F.60.20%28RFC.233058%29/near/229215352\">https://rust-lang.zulipchat.com/#narrow/stream/219381-t-libs/topic/Code.20mixing.20.60Option.60.2F.60Result.60.20in.20.60.3F.60.20%28RFC.233058%29/near/229215352</a></p>\n<p>(Posting here for people following this topic but maybe not that other stream.)</p>",
        "id": 229215915,
        "sender_full_name": "scottmcm",
        "timestamp": 1615149293
    },
    {
        "content": "<p>And it's made it to FCP! <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 233547843,
        "sender_full_name": "scottmcm",
        "timestamp": 1617823876
    },
    {
        "content": "<p>yay!</p>",
        "id": 233577720,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1617837290
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"125270\">@scottmcm</span> I was talking to <span class=\"user-mention\" data-user-id=\"224941\">@Carl Lerche</span> today about some experimental designs he's been looking at and we had a scenario regarding the <code>Try</code> trait we wanted to ask about.</p>",
        "id": 233716447,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1617911068
    },
    {
        "content": "<p>The goal would be to have a struct that is like <code>struct Foo(io::Result&lt;usize&gt;, Buffer)</code>, where you <em>usually</em> want to do <code>foo?</code> to test the <code>Result</code> (and get out the buffer, maybe the <code>usize</code> too, I forget), but sometimes you might want to unpack manually so you can use the <code>Buffer</code> even in the case o error</p>",
        "id": 233716573,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1617911138
    },
    {
        "content": "<p>Do you think that would work readily enough in your design? I guess I should go poke at the traits and see how they fit</p>",
        "id": 233716607,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1617911160
    },
    {
        "content": "<p>Mentioned here: <a href=\"https://github.com/tokio-rs/tokio-uring/pull/1/files#diff-3dc5dd454e080eb849ee5efaf79df2585fbe0a06804d69249b4c81da05a63875R208-R212\">https://github.com/tokio-rs/tokio-uring/pull/1/files#diff-3dc5dd454e080eb849ee5efaf79df2585fbe0a06804d69249b4c81da05a63875R208-R212</a></p>",
        "id": 233724874,
        "sender_full_name": "Carl Lerche",
        "timestamp": 1617914619
    },
    {
        "content": "<p>&lt;deleted&gt;</p>",
        "id": 233731286,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1617916626
    },
    {
        "content": "<p>&lt;deleted&gt;</p>",
        "id": 233731319,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1617916634
    },
    {
        "content": "<p>&lt;deleted&gt; don't mind me</p>",
        "id": 233731791,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1617916773
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/213817-t-lang/topic/try_trait_v2.3A.202nd.20attempt/near/233716573\">said</a>:</p>\n<blockquote>\n<p>The goal would be to have a struct that is like <code>struct Foo(io::Result&lt;usize&gt;, Buffer)</code>, where you <em>usually</em> want to do <code>foo?</code> to test the <code>Result</code> (and get out the buffer, maybe the <code>usize</code> too, I forget), but sometimes you might want to unpack manually so you can use the <code>Buffer</code> even in the case o error</p>\n</blockquote>\n<p>I think that would work fine.  With <code>struct BufResult&lt;T&gt;(io::Result&lt;T&gt;, buf::Slice);</code> you could have it split to <code>(T, buf::Slice)</code> and use <code>io::Result&lt;!&gt;</code> as the residual, if I'm understanding right.</p>",
        "id": 233752677,
        "sender_full_name": "scottmcm",
        "timestamp": 1617929546
    },
    {
        "content": "<p>Oh, wait, it needs the slice for error returns too?  Then I guess it's <code>BufResult&lt;!&gt;</code> as the residual.</p>",
        "id": 233752728,
        "sender_full_name": "scottmcm",
        "timestamp": 1617929620
    },
    {
        "content": "<p>Since that's a type with an <code>io::Error</code> and a <code>buf::Slice</code>.</p>",
        "id": 233752773,
        "sender_full_name": "scottmcm",
        "timestamp": 1617929649
    },
    {
        "content": "<p>makes sense</p>",
        "id": 234358720,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1618331406
    },
    {
        "content": "<p>I suppose it's nearly identical to <code>type BufResult&lt;T, E&gt; = Result&lt;(T, buf::Slice), (E, buf::Slice)&gt;;</code>.  Would depend on how it wanted to do error conversion, since AFAIK there's no <code>(F, buf::Slice): From&lt;(E, buf::Slice)&gt; where F: From&lt;E&gt;</code>.</p>",
        "id": 234374453,
        "sender_full_name": "scottmcm",
        "timestamp": 1618337342
    }
]