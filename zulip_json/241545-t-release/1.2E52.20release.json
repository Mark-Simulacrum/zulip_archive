[
    {
        "content": "<p>I’m not sure if I’m putting this in the right thread, but I want to make sure it doesn’t get overlooked. I just posted PR <a href=\"https://github.com/rust-lang/rust/issues/84672\">#84672</a> that does a long discussed revert of PR <a href=\"https://github.com/rust-lang/rust/issues/76570\">#76570</a> on beta branch.</p>",
        "id": 236585202,
        "sender_full_name": "pnkfelix",
        "timestamp": 1619645883
    },
    {
        "content": "<p>oh never mind, <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> just took care of it. <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 236585266,
        "sender_full_name": "pnkfelix",
        "timestamp": 1619645904
    },
    {
        "content": "<p>well, it'll need to get r+'d but yeah looks reasonable</p>",
        "id": 236585337,
        "sender_full_name": "simulacrum",
        "timestamp": 1619645958
    },
    {
        "content": "<p>Kicked off the dev-static promote-release job</p>",
        "id": 237255042,
        "sender_full_name": "simulacrum",
        "timestamp": 1620091303
    },
    {
        "content": "<p>Probably won't be around to publish the inside rust post and internals post asking for feedback on it, fyi <span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> - probably good to do first thing tomorrow</p>",
        "id": 237255113,
        "sender_full_name": "simulacrum",
        "timestamp": 1620091354
    },
    {
        "content": "<p>opened a PR for the post</p>",
        "id": 237287889,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620117514
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/blog.rust-lang.org/pull/831\">https://github.com/rust-lang/blog.rust-lang.org/pull/831</a></p>",
        "id": 237287894,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620117517
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> merged</p>",
        "id": 237303101,
        "sender_full_name": "simulacrum",
        "timestamp": 1620125441
    },
    {
        "content": "<p><span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 237303113,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620125451
    },
    {
        "content": "<p>Did you have internals ready to go?</p>",
        "id": 237303114,
        "sender_full_name": "simulacrum",
        "timestamp": 1620125454
    },
    {
        "content": "<p>yep let me post it</p>",
        "id": 237303129,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620125469
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 237303276,
        "sender_full_name": "simulacrum",
        "timestamp": 1620125540
    },
    {
        "content": "<p><a href=\"https://internals.rust-lang.org/t/1-52-0-prerelease-testing/14628\">https://internals.rust-lang.org/t/1-52-0-prerelease-testing/14628</a></p>",
        "id": 237303342,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620125585
    },
    {
        "content": "<p>It would likely be a good idea to confirm that the last minute patches actually fixed the bugs they claim to</p>",
        "id": 237303734,
        "sender_full_name": "simulacrum",
        "timestamp": 1620125806
    },
    {
        "content": "<p>I can try and do that sometime today, though I'll be pretty busy, not sure I'll have time</p>",
        "id": 237303788,
        "sender_full_name": "simulacrum",
        "timestamp": 1620125836
    },
    {
        "content": "<p>force-pushed beta</p>",
        "id": 237331902,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620137787
    },
    {
        "content": "<p>created a draft PR to help me be organized</p>",
        "id": 237333427,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620138387
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/84909\">https://github.com/rust-lang/rust/pull/84909</a></p>",
        "id": 237333438,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620138393
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> we landed <a href=\"https://github.com/rust-lang/rust/pull/84759\">https://github.com/rust-lang/rust/pull/84759</a> in 1.52, should I also backport it to 1.53?</p>",
        "id": 237336317,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620139400
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310399\">@Mara</span> ^</p>",
        "id": 237336324,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620139403
    },
    {
        "content": "<p>yes</p>",
        "id": 237336346,
        "sender_full_name": "simulacrum",
        "timestamp": 1620139411
    },
    {
        "content": "<p>ok will do</p>",
        "id": 237336372,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620139419
    },
    {
        "content": "<p>thanks :)  I'll make sure to do something about this before 1.54 splits off ^^'</p>",
        "id": 237337260,
        "sender_full_name": "Mara",
        "timestamp": 1620139747
    },
    {
        "content": "<p>are you aware <span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> if there are fixes planned for the diagnostics being different in beta and nightly?</p>",
        "id": 237339385,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620140376
    },
    {
        "content": "<p>I remember it's not the first time I had to cherry-pick the same commit</p>",
        "id": 237339411,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620140383
    },
    {
        "content": "<p>no, I've not had time to sit down and figure out what's up with it</p>",
        "id": 237339436,
        "sender_full_name": "simulacrum",
        "timestamp": 1620140394
    },
    {
        "content": "<p>I don't think anyone else is planning to do anything either</p>",
        "id": 237339480,
        "sender_full_name": "simulacrum",
        "timestamp": 1620140404
    },
    {
        "content": "<p>we absolutely should though :/</p>",
        "id": 237339556,
        "sender_full_name": "simulacrum",
        "timestamp": 1620140410
    },
    {
        "content": "<p>I think it's been 3-4 cycles now</p>",
        "id": 237339615,
        "sender_full_name": "simulacrum",
        "timestamp": 1620140419
    },
    {
        "content": "<p>yeah</p>",
        "id": 237339638,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620140423
    },
    {
        "content": "<p>ok backported everything that was relevant from the 1.52.0 stable PR</p>",
        "id": 237344546,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620141435
    },
    {
        "content": "<p>now going through the regression- labels again to make sure I'm not missing anything, relabeling everything correctly in the meantime</p>",
        "id": 237344588,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620141454
    },
    {
        "content": "<p>I'll then deal with rls/rustfmt</p>",
        "id": 237344595,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620141457
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> ^</p>",
        "id": 237344608,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620141462
    },
    {
        "content": "<p>sounds good</p>",
        "id": 237344628,
        "sender_full_name": "simulacrum",
        "timestamp": 1620141470
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> uh wait, <a href=\"https://github.com/rust-lang/rust/issues/83087\">https://github.com/rust-lang/rust/issues/83087</a> is a 1.52 regression? :/</p>",
        "id": 237348486,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620142914
    },
    {
        "content": "<p>hm</p>",
        "id": 237348569,
        "sender_full_name": "simulacrum",
        "timestamp": 1620142933
    },
    {
        "content": "<p>found it while going through the regression-from-stable-to-nightly to promote them to beta :/</p>",
        "id": 237348577,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620142934
    },
    {
        "content": "<p>not sure</p>",
        "id": 237348580,
        "sender_full_name": "simulacrum",
        "timestamp": 1620142934
    },
    {
        "content": "<p>it's just i-slow though</p>",
        "id": 237348596,
        "sender_full_name": "simulacrum",
        "timestamp": 1620142939
    },
    {
        "content": "<p>we had an llvm upgrade so a bunch of runtime improvements and regressions are expected</p>",
        "id": 237348632,
        "sender_full_name": "simulacrum",
        "timestamp": 1620142953
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/82806\">https://github.com/rust-lang/rust/pull/82806</a> is after the llvm upgrade, but dunno</p>",
        "id": 237348704,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620142985
    },
    {
        "content": "<p>not sure, sorry</p>",
        "id": 237348882,
        "sender_full_name": "simulacrum",
        "timestamp": 1620143045
    },
    {
        "content": "<p>doesn't seem worth rebuilding the release just for it, it's I-prioritize now anyway so it'll get picked up</p>",
        "id": 237349371,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620143228
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/83060\">https://github.com/rust-lang/rust/issues/83060</a> also was not relabeled :/</p>",
        "id": 237349798,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620143364
    },
    {
        "content": "<p>thankfully that was <code>probe-stack=inline-asm</code> so we fixed it by accident</p>",
        "id": 237349816,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620143374
    },
    {
        "content": "<p>yeah I'm not surprised</p>",
        "id": 237350147,
        "sender_full_name": "simulacrum",
        "timestamp": 1620143488
    },
    {
        "content": "<p>relabeling is painful and a lot of work</p>",
        "id": 237350172,
        "sender_full_name": "simulacrum",
        "timestamp": 1620143494
    },
    {
        "content": "<p>milestones!</p>",
        "id": 237350187,
        "sender_full_name": "simulacrum",
        "timestamp": 1620143498
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/84909#issuecomment-832028701\">https://github.com/rust-lang/rust/pull/84909#issuecomment-832028701</a></p>",
        "id": 237361112,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620147433
    },
    {
        "content": "<p>[6:55 PM] jynelson: also there will be no quick fix for this, it will need changes to the testsuite<br>\n[6:56 PM] jynelson: either by running sed s/nightly/beta or by changing htmldocck to substitute the channel itself<br>\n[6:57 PM] jynelson: ok. I don't have time to run a local build right now, but if you run x.py test --stage 1 src/test/rustdoc/intra-doc with channel = beta it should replicate the issue</p>",
        "id": 237361134,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620147442
    },
    {
        "content": "<p>on discord, <span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span></p>",
        "id": 237361142,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620147447
    },
    {
        "content": "<p>you missed the most important comment:</p>\n<blockquote>\n<p>... did someone finally fix the issue where beta links to nightly?</p>\n</blockquote>",
        "id": 237361390,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620147557
    },
    {
        "content": "<p>would be really exciting if so</p>",
        "id": 237361409,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620147568
    },
    {
        "content": "<p>I really wish there were a way to automatically test different channels</p>",
        "id": 237361444,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620147588
    },
    {
        "content": "<p>unfortunately I can't continue looking at this today, I'll have more time tomorrow</p>",
        "id": 237379463,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620154378
    },
    {
        "content": "<p>bisecting this now</p>",
        "id": 237420688,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620173539
    },
    {
        "content": "<p>bisecting commits is harder than expected because some commits don't build - I've confirmed up until <a href=\"https://github.com/rust-lang/rust/commit/3f2ca47a79911d422fd47ee2a23dd08a9fa42aa9\">3f2ca47a79911d422fd47ee2a23dd08a9fa42aa9</a> passes the test suite</p>",
        "id": 237428268,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620178718
    },
    {
        "content": "<p>unfortunately bisect-rustc doesn't work because I can't override the channel after the binary has been built :/</p>",
        "id": 237428306,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620178771
    },
    {
        "content": "<p>ok well I gave up on bisecting automatically and it took about 5 seconds to find by hand - <span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> this will work around it temporarily:</p>\n<div class=\"codehilite\" data-code-language=\"Diff\"><pre><span></span><code><span class=\"gh\">diff --git a/src/librustdoc/clean/types.rs b/src/librustdoc/clean/types.rs</span>\n<span class=\"gh\">index 5e47144588b..a1d689d8921 100644</span>\n<span class=\"gd\">--- a/src/librustdoc/clean/types.rs</span>\n<span class=\"gi\">+++ b/src/librustdoc/clean/types.rs</span>\n<span class=\"gu\">@@ -394,8 +394,7 @@ pub fn from_def_id_and_attrs_and_parts(</span>\n                                     format!(\"{}/std/\", s.trim_end_matches('/'))\n                                 }\n                                 Some(&amp;(_, _, ExternalLocation::Unknown)) | None =&gt; format!(\n<span class=\"gd\">-                                    \"https://doc.rust-lang.org/{}/std/\",</span>\n<span class=\"gd\">-                                    crate::doc_rust_lang_org_channel(),</span>\n<span class=\"gi\">+                                    \"https://doc.rust-lang.org/nightly/std/\",</span>\n                                 ),\n                             };\n                             // This is a primitive so the url is done \"by hand\".\n</code></pre></div>",
        "id": 237433411,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620183311
    },
    {
        "content": "<p>but I would like to fix the test suite eventually</p>",
        "id": 237433423,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620183319
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/241545-t-release/topic/1.2E52.20release/near/237433423\">said</a>:</p>\n<blockquote>\n<p>but I would like to fix the test suite eventually</p>\n</blockquote>\n<p>ugh apparently rustdoc is very buggy and sometimes generates nightly and sometimes beta</p>",
        "id": 237434797,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620184616
    },
    {
        "content": "<p>so the revert I posted above is probably best for now</p>",
        "id": 237434804,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620184625
    },
    {
        "content": "<p>oh I see, it's because libstd has an html_root_url of /nightly/</p>",
        "id": 237435769,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620185632
    },
    {
        "content": "<p>ugh yes this is complicated</p>",
        "id": 237435772,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620185636
    },
    {
        "content": "<p>cc <a href=\"#narrow/stream/122651-general/topic/Rustdoc.20unconditionally.20links.20to.20nightly.20libstd.20docs\">https://rust-lang.zulipchat.com/#narrow/stream/122651-general/topic/Rustdoc.20unconditionally.20links.20to.20nightly.20libstd.20docs</a></p>",
        "id": 237435853,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620185674
    },
    {
        "content": "<p>ended up reverting the whole commit that changed links to {channel}, as it <em>also</em> regressed Rustdoc UI tests</p>",
        "id": 237470287,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620209181
    },
    {
        "content": "<p>let's hope now it works</p>",
        "id": 237470292,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620209186
    },
    {
        "content": "<p>we <em>definitely</em> need a retro for this cycle, we can't do things like this every 6 weeks</p>",
        "id": 237470316,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620209204
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> lmk if you need any urgent review on the PR(s)</p>",
        "id": 237482385,
        "sender_full_name": "simulacrum",
        "timestamp": 1620215843
    },
    {
        "content": "<p>ok! I'll wait to see what CI yells at me this time and ping you accordingly</p>",
        "id": 237482431,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620215867
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> <a href=\"https://github.com/rust-lang/rust/pull/84909\">https://github.com/rust-lang/rust/pull/84909</a> and <a href=\"https://github.com/rust-lang/rust/pull/84950\">https://github.com/rust-lang/rust/pull/84950</a></p>",
        "id": 237488007,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620218521
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> did you see Joshua's comments in the second one?</p>",
        "id": 237488427,
        "sender_full_name": "simulacrum",
        "timestamp": 1620218718
    },
    {
        "content": "<p>I'm personally inclined to fully revert but not clear</p>",
        "id": 237488455,
        "sender_full_name": "simulacrum",
        "timestamp": 1620218731
    },
    {
        "content": "<p>oh saw it right now</p>",
        "id": 237488485,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620218741
    },
    {
        "content": "<p>honestly at least for beta I'd prefer to fully revert too</p>",
        "id": 237488528,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620218759
    },
    {
        "content": "<p>the failure is only because it's /beta/ instead of /nightly/, right?</p>",
        "id": 237488598,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620218774
    },
    {
        "content": "<p>that's a very simple text change, and the original PR was not risky either</p>",
        "id": 237488636,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620218785
    },
    {
        "content": "<p>The PR has other problems looking at it</p>",
        "id": 237488989,
        "sender_full_name": "simulacrum",
        "timestamp": 1620218927
    },
    {
        "content": "<p>I think we should revert on beta</p>",
        "id": 237489000,
        "sender_full_name": "simulacrum",
        "timestamp": 1620218933
    },
    {
        "content": "<p>reverting the entire second commit is correct</p>",
        "id": 237489012,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620218941
    },
    {
        "content": "<p>but there's only one change that needs to be made to the first commit</p>",
        "id": 237489027,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620218948
    },
    {
        "content": "<p>Is there a reason to not revert the whole thing? That seems like the best option to me</p>",
        "id": 237489048,
        "sender_full_name": "simulacrum",
        "timestamp": 1620218965
    },
    {
        "content": "<p>it just seems like a shame when there's nothing wrong with it :/</p>",
        "id": 237489068,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620218976
    },
    {
        "content": "<p>like, there's 0% chance of the fix being wrong if CI passes</p>",
        "id": 237489095,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620218990
    },
    {
        "content": "<p>I prefer to keep things simple personally in terms of what is or isn't on various branches</p>",
        "id": 237489161,
        "sender_full_name": "simulacrum",
        "timestamp": 1620219010
    },
    {
        "content": "<p>So I'm inclined to fully drop from beta</p>",
        "id": 237489195,
        "sender_full_name": "simulacrum",
        "timestamp": 1620219028
    },
    {
        "content": "<p>(and master with the option of course for someone to readd)</p>",
        "id": 237489218,
        "sender_full_name": "simulacrum",
        "timestamp": 1620219040
    },
    {
        "content": "<p>ok - I can make the proper fix as a PR to master then</p>",
        "id": 237489311,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620219091
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> did the beta PR description omit this rustdoc bit?</p>",
        "id": 237489428,
        "sender_full_name": "simulacrum",
        "timestamp": 1620219140
    },
    {
        "content": "<p>\"Revert PR 83866\"</p>",
        "id": 237489442,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620219150
    },
    {
        "content": "<p>third bullet point</p>",
        "id": 237489460,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620219162
    },
    {
        "content": "<p>F5 if you haven't in a while</p>",
        "id": 237489477,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620219166
    },
    {
        "content": "<p>Ah ok</p>",
        "id": 237489478,
        "sender_full_name": "simulacrum",
        "timestamp": 1620219167
    },
    {
        "content": "<p>Can you remove the \"this is not ready\" language? If reasonable?</p>",
        "id": 237489505,
        "sender_full_name": "simulacrum",
        "timestamp": 1620219183
    },
    {
        "content": "<p>done</p>",
        "id": 237489556,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620219208
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/241545-t-release/topic/1.2E52.20release/near/237489311\">said</a>:</p>\n<blockquote>\n<p>ok - I can make the proper fix as a PR to master then</p>\n</blockquote>\n<p>(this would also be fixed by <a href=\"https://github.com/rust-lang/rust/pull/84942\">https://github.com/rust-lang/rust/pull/84942</a> but that PR may not land for quite a while)</p>",
        "id": 237489573,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1620219220
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> do we want to p=100 the beta PR?</p>",
        "id": 237489939,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620219380
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> hm yeah I think so, I want to get crater kicked off soon</p>",
        "id": 237489971,
        "sender_full_name": "simulacrum",
        "timestamp": 1620219400
    },
    {
        "content": "<p>who's doing it? :D</p>",
        "id": 237489998,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620219417
    },
    {
        "content": "<p>You</p>",
        "id": 237490021,
        "sender_full_name": "simulacrum",
        "timestamp": 1620219427
    },
    {
        "content": "<p>ok</p>",
        "id": 237490031,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620219431
    },
    {
        "content": "<p>done</p>",
        "id": 237490065,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620219452
    },
    {
        "content": "<p>oh ugh I forgot the rustfmt revert</p>",
        "id": 237503315,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620224652
    },
    {
        "content": "<p>will fix it in a bit</p>",
        "id": 237503323,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620224657
    },
    {
        "content": "<p>hmm rls is failing on aarch64</p>",
        "id": 237537597,
        "sender_full_name": "simulacrum",
        "timestamp": 1620236950
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> I think this is another \"always need to add\" patch</p>",
        "id": 237537607,
        "sender_full_name": "simulacrum",
        "timestamp": 1620236957
    },
    {
        "content": "<p>really should just disable the nightly build</p>",
        "id": 237537622,
        "sender_full_name": "simulacrum",
        "timestamp": 1620236965
    },
    {
        "content": "<p>ugh let me add it</p>",
        "id": 237537735,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620237006
    },
    {
        "content": "<p>ok cherry-picked</p>",
        "id": 237538330,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620237259
    },
    {
        "content": "<p>will start the release in 20 minutes</p>",
        "id": 237669052,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620312054
    },
    {
        "content": "<p>Build started with ID 'promote-release--prod:62c6e9b2-49dc-4a41-874b-821fcc2a66f2'</p>",
        "id": 237672754,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620313276
    },
    {
        "content": "<p>uploading files</p>",
        "id": 237680518,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620315640
    },
    {
        "content": "<p>pushing the tag</p>",
        "id": 237681203,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620315879
    },
    {
        "content": "<p>started a thanks rebuild</p>",
        "id": 237681376,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620315940
    },
    {
        "content": "<p>tagged cargo</p>",
        "id": 237682539,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620316338
    },
    {
        "content": "<p>merged blog post</p>",
        "id": 237682998,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620316508
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/h1GS9SJjrJoCf2plvYKtR_h-/2021-05-06-17-55-19.png\">2021-05-06-17-55-19.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/h1GS9SJjrJoCf2plvYKtR_h-/2021-05-06-17-55-19.png\" title=\"2021-05-06-17-55-19.png\"><img src=\"/user_uploads/4715/h1GS9SJjrJoCf2plvYKtR_h-/2021-05-06-17-55-19.png\"></a></div>",
        "id": 237683096,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620316541
    },
    {
        "content": "<p>Just, under an hour to release. Is that a record? Feels like it takes longer usually <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 237683245,
        "sender_full_name": "XAMPPRocky",
        "timestamp": 1620316588
    },
    {
        "content": "<p>it always takes around 55 minutes nowadays</p>",
        "id": 237683313,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620316618
    },
    {
        "content": "<p><a href=\"https://blog.rust-lang.org/2021/05/06/Rust-1.52.0.html\">https://blog.rust-lang.org/2021/05/06/Rust-1.52.0.html</a> <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 237683602,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620316734
    },
    {
        "content": "<p>Yay, no caching issues this time <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 237683781,
        "sender_full_name": "XAMPPRocky",
        "timestamp": 1620316793
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> blog post fixes to merge: <a href=\"https://github.com/rust-lang/blog.rust-lang.org/pull/834\">https://github.com/rust-lang/blog.rust-lang.org/pull/834</a></p>",
        "id": 237687555,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620318079
    },
    {
        "content": "<p>Done</p>",
        "id": 237687715,
        "sender_full_name": "simulacrum",
        "timestamp": 1620318115
    },
    {
        "content": "<p>thanks <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span></p>",
        "id": 237687911,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620318188
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> one last thing before the release is done -- I noticed <a href=\"https://github.com/rust-lang/stdarch/blob/50e72a215d2bd2c40593786c6a3e10d5ab8bdb39/crates/core_arch/src/mod.rs#L3\">https://github.com/rust-lang/stdarch/blob/50e72a215d2bd2c40593786c6a3e10d5ab8bdb39/crates/core_arch/src/mod.rs#L3</a> had a <code>not(bootstrap)</code> for a while (at least three releases), is there any reason why it wasn't removed? or if there wasn't any, should I just open a PR?</p>",
        "id": 237699525,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620322921
    },
    {
        "content": "<p>Uh submodule bumps are not something I myself do</p>",
        "id": 237699626,
        "sender_full_name": "simulacrum",
        "timestamp": 1620322958
    },
    {
        "content": "<p>I think stdarch bump in particular had been blocked on some other stuff for a while</p>",
        "id": 237699689,
        "sender_full_name": "simulacrum",
        "timestamp": 1620322988
    },
    {
        "content": "<p>But I don't really know anything about it</p>",
        "id": 237699715,
        "sender_full_name": "simulacrum",
        "timestamp": 1620323005
    },
    {
        "content": "<p>tried opening a PR for it</p>",
        "id": 237715255,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620329150
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/stdarch/pull/1150\">https://github.com/rust-lang/stdarch/pull/1150</a></p>",
        "id": 237715270,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620329157
    },
    {
        "content": "<p>does anyone have a clue around <a href=\"https://github.com/rust-lang/rust/pull/84985#issuecomment-836496081\">https://github.com/rust-lang/rust/pull/84985#issuecomment-836496081</a> ?</p>",
        "id": 238114823,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620640767
    },
    {
        "content": "<p>Yeah</p>",
        "id": 238123548,
        "sender_full_name": "simulacrum",
        "timestamp": 1620645608
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> there was some last minute fixes to no coverage feature gating that probably didn't hit beta</p>",
        "id": 238123616,
        "sender_full_name": "simulacrum",
        "timestamp": 1620645646
    },
    {
        "content": "<p>(it was gated in a different and actually not working way iirc)</p>",
        "id": 238123656,
        "sender_full_name": "simulacrum",
        "timestamp": 1620645665
    },
    {
        "content": "<p>uh, yeah, but that's on master</p>",
        "id": 238123669,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620645672
    },
    {
        "content": "<p>(bootstrap update to beta 1.53)</p>",
        "id": 238123678,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620645683
    },
    {
        "content": "<p>oh wait do I need to have <code>#[cfg_attr(not(bootstrap), feature(no_coverage))]</code> in <a href=\"http://lib.rs\">lib.rs</a> and <code>#[cfg_attr(bootstrap, feature(no_coverage))]</code> on the function?</p>",
        "id": 238123778,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620645736
    },
    {
        "content": "<p>Right I'm saying it probably needs \"old\" style gating? If you want to ping me on the PR I can take a closer look later</p>",
        "id": 238123780,
        "sender_full_name": "simulacrum",
        "timestamp": 1620645737
    },
    {
        "content": "<p>Yeah that's what I'm thinking</p>",
        "id": 238123791,
        "sender_full_name": "simulacrum",
        "timestamp": 1620645750
    },
    {
        "content": "<p>ok I'll try in a bit</p>",
        "id": 238123816,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1620645760
    },
    {
        "content": "<p>We probably need to backport the feature gate fixes anyway fwiw</p>",
        "id": 238123825,
        "sender_full_name": "simulacrum",
        "timestamp": 1620645768
    },
    {
        "content": "<p>(or a revert)</p>",
        "id": 238123830,
        "sender_full_name": "simulacrum",
        "timestamp": 1620645773
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/84871\">#84871</a> is the fix (already beta nominated)</p>",
        "id": 238220831,
        "sender_full_name": "tmandry",
        "timestamp": 1620685319
    },
    {
        "content": "<p>Just a heads up for you all in <span class=\"user-group-mention\" data-user-group-id=\"2907\">@T-release</span> : we’re going to have a zulip meeting tomorrow in <a class=\"stream-topic\" data-stream-id=\"238009\" href=\"/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202021-05-14.20fingerprints.2C.201.2E52.2E2.3F.20.2384970\">#t-compiler/meetings &gt; [steering meeting] 2021-05-14 fingerprints, 1.52.2? #84970</a> at  <time datetime=\"2021-05-14T14:00:00Z\">2021-05-14T10:00:00-04:00</time></p>",
        "id": 238633836,
        "sender_full_name": "pnkfelix",
        "timestamp": 1620918300
    },
    {
        "content": "<p>(the reason I mention it here is that I want to float the idea of a 1.52.2 release. There is definitely debate to be had here, but I want to make sure we consider it, given how many people expressed unhappiness at incr-comp being turned off by default.)</p>",
        "id": 238633976,
        "sender_full_name": "pnkfelix",
        "timestamp": 1620918361
    }
]