[
    {
        "content": "<p>I noticed that the tag for the recent cargo release is in a different format than usual.  It was tagged as <code>0.58</code> instead of <code>0.58.0</code>.  Was that intentional?</p>",
        "id": 263621558,
        "sender_full_name": "Eric Huss",
        "timestamp": 1638557251
    },
    {
        "content": "<p>hm, that's what the release process indicates I think</p>",
        "id": 263631321,
        "sender_full_name": "simulacrum",
        "timestamp": 1638562171
    },
    {
        "content": "<p>or, no, that's what I read it as</p>",
        "id": 263631408,
        "sender_full_name": "simulacrum",
        "timestamp": 1638562210
    },
    {
        "content": "<p>but there's definitely .0's there</p>",
        "id": 263631416,
        "sender_full_name": "simulacrum",
        "timestamp": 1638562216
    },
    {
        "content": "<p>we probably want to update the release process to read the rust version from ../../src/version or so, which should be doable with some easyish adjustment to avoid this in the future</p>",
        "id": 263631462,
        "sender_full_name": "simulacrum",
        "timestamp": 1638562250
    },
    {
        "content": "<p>I can push a .0 tag later, if we care to</p>",
        "id": 263631490,
        "sender_full_name": "simulacrum",
        "timestamp": 1638562276
    },
    {
        "content": "<p>Oh, I think I know what I \"thought\"</p>",
        "id": 263631539,
        "sender_full_name": "simulacrum",
        "timestamp": 1638562311
    },
    {
        "content": "<blockquote>\n<p><code>CARGO_VERSION=\"0.YY+1.0\"</code></p>\n</blockquote>",
        "id": 263631544,
        "sender_full_name": "simulacrum",
        "timestamp": 1638562314
    },
    {
        "content": "<p>I think I saw that as 1.0, the float</p>",
        "id": 263631553,
        "sender_full_name": "simulacrum",
        "timestamp": 1638562319
    },
    {
        "content": "<p>so even a parenthetical might be enough to avoid this accident in the future :)</p>",
        "id": 263631614,
        "sender_full_name": "simulacrum",
        "timestamp": 1638562338
    },
    {
        "content": "<p><code>CARGO_VERSION=\"0.(YY+1).0\"</code></p>",
        "id": 263631628,
        "sender_full_name": "simulacrum",
        "timestamp": 1638562347
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120518\">@Eric Huss</span> let me know if you think the .0 is important for the tag (probably nice for consistency etc)</p>",
        "id": 263631674,
        "sender_full_name": "simulacrum",
        "timestamp": 1638562375
    },
    {
        "content": "<p>Yea, if you could re-tag it, I would appreciate it.</p>",
        "id": 263635021,
        "sender_full_name": "Eric Huss",
        "timestamp": 1638563957
    },
    {
        "content": "<p>if it was floaty, <code>0.YY+1.0</code> should be <code>1.YY</code> <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 263635880,
        "sender_full_name": "cuviper",
        "timestamp": 1638564419
    },
    {
        "content": "<p>I could also change the instructions to something automated like:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code><span class=\"nv\">CARGO_VERSION</span><span class=\"o\">=</span><span class=\"k\">$(</span>cargo read-manifest <span class=\"p\">|</span> jq -r .version<span class=\"k\">)</span>\n</code></pre></div>\n<p>Or it could use <code>awk</code> if you don't have <code>jq</code> installed.</p>",
        "id": 263636058,
        "sender_full_name": "Eric Huss",
        "timestamp": 1638564509
    },
    {
        "content": "<p>Reading the manifest sounds like a good idea - I think for these instructions jq is fine</p>",
        "id": 263653368,
        "sender_full_name": "simulacrum",
        "timestamp": 1638565771
    },
    {
        "content": "<p>I'm always worried about tagging the wrong commit, more so than getting the version right, tbh</p>",
        "id": 263653519,
        "sender_full_name": "simulacrum",
        "timestamp": 1638565847
    },
    {
        "content": "<p>Sure, posted <a href=\"https://github.com/rust-lang/rust-forge/pull/588\">https://github.com/rust-lang/rust-forge/pull/588</a> to update the instructions</p>",
        "id": 263656432,
        "sender_full_name": "Eric Huss",
        "timestamp": 1638567508
    },
    {
        "content": "<p>pushed the 0.58.0 tag</p>",
        "id": 264394743,
        "sender_full_name": "simulacrum",
        "timestamp": 1639101851
    },
    {
        "content": "<p>also posted <a href=\"https://github.com/rust-lang/simpleinfra/pull/87\">https://github.com/rust-lang/simpleinfra/pull/87</a> with a few scripts which should, hopefully, mean that we always tag and push cargo correctly</p>",
        "id": 264396124,
        "sender_full_name": "simulacrum",
        "timestamp": 1639103462
    }
]