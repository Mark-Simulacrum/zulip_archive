[
    {
        "content": "<p>a thing to talk about: <a href=\"https://github.com/rust-lang/rust-clippy/issues/8045\">https://github.com/rust-lang/rust-clippy/issues/8045</a></p>",
        "id": 268035815,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642177133
    },
    {
        "content": "<p><span class=\"user-group-mention\" data-user-group-id=\"2907\">@T-release</span> meeting!</p>",
        "id": 268037534,
        "sender_full_name": "simulacrum",
        "timestamp": 1642177816
    },
    {
        "content": "<p>alright, let's get started</p>",
        "id": 268037684,
        "sender_full_name": "simulacrum",
        "timestamp": 1642177880
    },
    {
        "content": "<p>first off -- release retro from <span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> in particular</p>",
        "id": 268037703,
        "sender_full_name": "simulacrum",
        "timestamp": 1642177890
    },
    {
        "content": "<p>so, I think there are two notable things with this release</p>",
        "id": 268037755,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642177909
    },
    {
        "content": "<p>one are the release scripts <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> wrote, which modulo a few tweaks required for them (it was the first time they were used) worked great and actually simplified things a lot <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 268037855,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642177943
    },
    {
        "content": "<p>the less positive thing was RLS, which broke <em>before</em> the no tools breakages week</p>",
        "id": 268037966,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642177996
    },
    {
        "content": "<p>so we ended up delaying beta up until thu because we couldn't get it to build first</p>",
        "id": 268038012,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642178022
    },
    {
        "content": "<p>those were the notable things in this cycle</p>",
        "id": 268038025,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642178029
    },
    {
        "content": "<p>probably should merge <a href=\"https://github.com/rust-lang/rust-forge/pull/590\">https://github.com/rust-lang/rust-forge/pull/590</a>, btw, on scripts</p>",
        "id": 268038039,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178037
    },
    {
        "content": "<p>(and well, the clippy thing, but let's talk about that later)</p>",
        "id": 268038047,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642178040
    },
    {
        "content": "<p>my notifications are a mess <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 268038148,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642178072
    },
    {
        "content": "<p>merged</p>",
        "id": 268038150,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642178073
    },
    {
        "content": "<p>yeah, I think the other thing on my mind was blog post -- obviously that came later than we might have wanted. I think that's just holidays, so nothing to really take away from that.</p>",
        "id": 268038233,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178119
    },
    {
        "content": "<p>(does that seem right, <span class=\"user-mention\" data-user-id=\"138448\">@cuviper</span>?)</p>",
        "id": 268038256,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178134
    },
    {
        "content": "<p>yeah, basically. even so, I'm sorry for the delay on that.</p>",
        "id": 268038344,
        "sender_full_name": "cuviper",
        "timestamp": 1642178173
    },
    {
        "content": "<p>no worries :)</p>",
        "id": 268038361,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178179
    },
    {
        "content": "<p>alright, on the rls thing -- is there a mitigation strategy we can think of? maybe we should add a standing note to the release process to check it's building 2 weeks out?</p>",
        "id": 268038406,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178209
    },
    {
        "content": "<p>related though, we had a lot of fixups on what was/wasn't stabilized, and this is not a new problem</p>",
        "id": 268038408,
        "sender_full_name": "cuviper",
        "timestamp": 1642178210
    },
    {
        "content": "<p>can we automate that better?</p>",
        "id": 268038427,
        "sender_full_name": "cuviper",
        "timestamp": 1642178215
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/241545-t-release/topic/meeting.202022.2001.2014/near/268038406\">said</a>:</p>\n<blockquote>\n<p>alright, on the rls thing -- is there a mitigation strategy we can think of? maybe we should add a standing note to the release process to check it's building 2 weeks out?</p>\n</blockquote>\n<p>tbh we should probably turn the remaining submodules into subtrees, so that toolstate is not a thing anymore</p>",
        "id": 268038711,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642178310
    },
    {
        "content": "<p>I haven't followed up the discussion on those, is there any reason not all tools were moved to subtrees?</p>",
        "id": 268038750,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642178332
    },
    {
        "content": "<p>tools sure, but not LLVM please</p>",
        "id": 268038789,
        "sender_full_name": "cuviper",
        "timestamp": 1642178350
    },
    {
        "content": "<p>mostly a matter of coordination, I think -- the tooling is still somewhat alpha IIRC</p>",
        "id": 268038792,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178352
    },
    {
        "content": "<p>LLVM no please as well</p>",
        "id": 268038801,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642178357
    },
    {
        "content": "<p>I imagine rls would be a relatively light lift to get in-tree, particularly as it's not being too actively developed afaik</p>",
        "id": 268038862,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178384
    },
    {
        "content": "<p>(maybe just a onetime subtree inclusion, at that, and archive upstream)</p>",
        "id": 268038962,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178411
    },
    {
        "content": "<p>where are we on outright deprecating rls?</p>",
        "id": 268039017,
        "sender_full_name": "cuviper",
        "timestamp": 1642178437
    },
    {
        "content": "<p>I've recently complained about not having miri as a subtree fwiw</p>",
        "id": 268039033,
        "sender_full_name": "tmandry",
        "timestamp": 1642178444
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"138448\">cuviper</span> <a href=\"#narrow/stream/241545-t-release/topic/meeting.202022.2001.2014/near/268039017\">said</a>:</p>\n<blockquote>\n<p>where are we on outright deprecating rls?</p>\n</blockquote>\n<p>\"Close\", but I don't think there's a hard timeline on it</p>",
        "id": 268039103,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178482
    },
    {
        "content": "<p>I feel like out of all the tools rls is the one we typically run into this particular problem with around beta branch</p>",
        "id": 268039138,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178503
    },
    {
        "content": "<p>as a rule, I propose that anything we use with unstable features should either be in-tree or a subtree, so feature migration doesn't need a dance with other repos</p>",
        "id": 268039165,
        "sender_full_name": "cuviper",
        "timestamp": 1642178518
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"138448\">cuviper</span> <a href=\"#narrow/stream/241545-t-release/topic/meeting.202022.2001.2014/near/268038427\">said</a>:</p>\n<blockquote>\n<p>can we automate that better?</p>\n</blockquote>\n<p>in theory, yes. either with some custom syn thing or by using the rustdoc json output</p>",
        "id": 268039265,
        "sender_full_name": "tmandry",
        "timestamp": 1642178554
    },
    {
        "content": "<p>well, I think the relnotes automation is also based on dates, not the milestone or similar right now?</p>",
        "id": 268039326,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178589
    },
    {
        "content": "<p>that seems like a potentially easier thing :)</p>",
        "id": 268039354,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178595
    },
    {
        "content": "<p>I think we want both</p>",
        "id": 268039378,
        "sender_full_name": "cuviper",
        "timestamp": 1642178612
    },
    {
        "content": "<p>oh, maybe that was the original problem</p>",
        "id": 268039408,
        "sender_full_name": "tmandry",
        "timestamp": 1642178626
    },
    {
        "content": "<p>before we move onto relnotes, though: is anyone willing to go talk to dev-tools (Xanewok, I think?) and get RLS at least moved over?</p>",
        "id": 268039432,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178638
    },
    {
        "content": "<p>there's still a lot of manual effort to go from PRs to a list of APIs</p>",
        "id": 268039450,
        "sender_full_name": "tmandry",
        "timestamp": 1642178642
    },
    {
        "content": "<p>milestones will better track the correct PRs, but the code has the declared stable versions</p>",
        "id": 268039499,
        "sender_full_name": "cuviper",
        "timestamp": 1642178646
    },
    {
        "content": "<p>the declared version could be wrong, but also a later PR might just be fixing a version, so I think it's not perfect either way</p>",
        "id": 268039564,
        "sender_full_name": "cuviper",
        "timestamp": 1642178677
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/241545-t-release/topic/meeting.202022.2001.2014/near/268039432\">said</a>:</p>\n<blockquote>\n<p>before we move onto relnotes, though: is anyone willing to go talk to dev-tools (Xanewok, I think?) and get RLS at least moved over?</p>\n</blockquote>\n<p>are there clear instructions for doing it anywhere?</p>",
        "id": 268039670,
        "sender_full_name": "tmandry",
        "timestamp": 1642178738
    },
    {
        "content": "<p>I think there's an issue about it</p>",
        "id": 268039816,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178783
    },
    {
        "content": "<p>the issue is <a href=\"https://github.com/rust-lang/rust/issues/70651\">#70651</a></p>",
        "id": 268039865,
        "sender_full_name": "tmandry",
        "timestamp": 1642178805
    },
    {
        "content": "<p>it says to refer to CONTRIBUTING.md but that section has been removed</p>",
        "id": 268039939,
        "sender_full_name": "tmandry",
        "timestamp": 1642178842
    },
    {
        "content": "<p>see also <a href=\"https://github.com/rust-lang/rust-clippy/blob/5d194d1952bba0974cbe9ab249cc70e75f9cf8ae/CONTRIBUTING.md#syncing-changes-between-clippy-and-rust-langrust\">https://github.com/rust-lang/rust-clippy/blob/5d194d1952bba0974cbe9ab249cc70e75f9cf8ae/CONTRIBUTING.md#syncing-changes-between-clippy-and-rust-langrust</a></p>",
        "id": 268039943,
        "sender_full_name": "cuviper",
        "timestamp": 1642178843
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/70654/files\">https://github.com/rust-lang/rust/pull/70654/files</a></p>",
        "id": 268039999,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178881
    },
    {
        "content": "<p><a href=\"https://rustc-dev-guide.rust-lang.org/contributing.html?highlight=subtree#creating-a-new-subtree-dependency\">https://rustc-dev-guide.rust-lang.org/contributing.html?highlight=subtree#creating-a-new-subtree-dependency</a></p>",
        "id": 268040072,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178900
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116883\">@tmandry</span> are you up for owning this?</p>",
        "id": 268040226,
        "sender_full_name": "simulacrum",
        "timestamp": 1642178975
    },
    {
        "content": "<p>seems like clippy's docs are more thorough</p>",
        "id": 268040277,
        "sender_full_name": "tmandry",
        "timestamp": 1642178999
    },
    {
        "content": "<p>yeah, I can talk to Xanewok</p>",
        "id": 268040335,
        "sender_full_name": "tmandry",
        "timestamp": 1642179009
    },
    {
        "content": "<p>scroll up for more: <a href=\"https://rustc-dev-guide.rust-lang.org/contributing.html?highlight=subtree#external-dependencies-subtree\">https://rustc-dev-guide.rust-lang.org/contributing.html?highlight=subtree#external-dependencies-subtree</a></p>",
        "id": 268040344,
        "sender_full_name": "cuviper",
        "timestamp": 1642179013
    },
    {
        "content": "<p>but they also link to clippy's instructions</p>",
        "id": 268040359,
        "sender_full_name": "cuviper",
        "timestamp": 1642179022
    },
    {
        "content": "<p>ok, great</p>",
        "id": 268040360,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179023
    },
    {
        "content": "<p>maybe we can update the docs while we're at it.</p>",
        "id": 268040377,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179034
    },
    {
        "content": "<p>re:relnotes, I'm not sure there's immediate bandwidth to work through a solution there</p>",
        "id": 268040421,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179058
    },
    {
        "content": "<p>maybe switching to milestones is a first step, though I agree it's not perfect</p>",
        "id": 268040446,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179074
    },
    {
        "content": "<p>yeah, for the milestone thing it might mean just modifying a query in the script</p>",
        "id": 268040468,
        "sender_full_name": "tmandry",
        "timestamp": 1642179088
    },
    {
        "content": "<p>maybe eventually <a href=\"https://github.com/rust-lang/rust-semverver/\">https://github.com/rust-lang/rust-semverver/</a> but seems a ways off</p>",
        "id": 268040472,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179089
    },
    {
        "content": "<p>maybe it's a call-for-contributors kind of thing?</p>",
        "id": 268040484,
        "sender_full_name": "cuviper",
        "timestamp": 1642179094
    },
    {
        "content": "<p>maybe! I don't think I'll have the time this cycle to put together such a call, does someone else have the bandwidth to do so?</p>",
        "id": 268040589,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179131
    },
    {
        "content": "<p>does the compiler internally keep a list of all library features and whether they're stable or unstable?</p>",
        "id": 268040594,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642179135
    },
    {
        "content": "<p>in that case we could just have a <code>-Z list-library-features</code></p>",
        "id": 268040628,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642179153
    },
    {
        "content": "<p>but yeah I don't have time either for an impl nor a call for contributors</p>",
        "id": 268040642,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642179159
    },
    {
        "content": "<p>yeah, I think so, or at least to some extent -- it dynamically extracts it</p>",
        "id": 268040710,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179187
    },
    {
        "content": "<p>though those version numbers I think are not-infrequently wrong too; though I suppose you could diff between releases the stable surface area that way? it gets into semverver territory, I suppose</p>",
        "id": 268040775,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179221
    },
    {
        "content": "<p>ok, well, let's table that for just now</p>",
        "id": 268040827,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179242
    },
    {
        "content": "<p>it seems not immediately huge problem</p>",
        "id": 268040865,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179248
    },
    {
        "content": "<p>it should be possible to get better without being perfect</p>",
        "id": 268040879,
        "sender_full_name": "cuviper",
        "timestamp": 1642179256
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"138448\">@cuviper</span> could you file an issue on rust-lang/release-team to track this, including the incremental bits of milestones and such?</p>",
        "id": 268040924,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179276
    },
    {
        "content": "<p>if rustdoc json shows what we need, that would be a big step</p>",
        "id": 268040943,
        "sender_full_name": "cuviper",
        "timestamp": 1642179281
    },
    {
        "content": "<p>ok</p>",
        "id": 268040953,
        "sender_full_name": "cuviper",
        "timestamp": 1642179285
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"121055\">Pietro Albini</span> <a href=\"#narrow/stream/241545-t-release/topic/meeting.202022.2001.2014/near/268038047\">said</a>:</p>\n<blockquote>\n<p>(and well, the clippy thing, but let's talk about that later)</p>\n</blockquote>\n<p>ok, let's return to this</p>",
        "id": 268041042,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179338
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust-clippy/issues/8045\">https://github.com/rust-lang/rust-clippy/issues/8045</a></p>",
        "id": 268041066,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179350
    },
    {
        "content": "<p>it sounds like there's some likelihood of desire for a point release here</p>",
        "id": 268041090,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179361
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust-clippy/pull/8075\">https://github.com/rust-lang/rust-clippy/pull/8075</a> already dropped it back to nursery for 1.59</p>",
        "id": 268041147,
        "sender_full_name": "cuviper",
        "timestamp": 1642179369
    },
    {
        "content": "<p>I'd say we can have a .1 next thu, I can run it</p>",
        "id": 268041175,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642179383
    },
    {
        "content": "<p>do you have time to throw together blog and such as well?</p>",
        "id": 268041257,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179421
    },
    {
        "content": "<p>yes</p>",
        "id": 268041304,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642179437
    },
    {
        "content": "<p>ok, great</p>",
        "id": 268041357,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179458
    },
    {
        "content": "<p>we'll touch base next week on release notes writing and blog post writing, since we're about out of time -- if anyone is jumping at the bit of course feel free to start those though :)</p>",
        "id": 268041453,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179486
    },
    {
        "content": "<p>(^ for .59, correct?)</p>",
        "id": 268041481,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642179499
    },
    {
        "content": "<p>yes</p>",
        "id": 268041496,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179508
    },
    {
        "content": "<p>I'll get crater kicked off in the next few days/week once we have the first round of backports merged in</p>",
        "id": 268041537,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179532
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"261224\">@triagebot</span> end-meeting ?</p>",
        "id": 268041576,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179548
    },
    {
        "content": "<p>Does anyone have something to bring up?<br>\nReact with <span aria-label=\"working on it\" class=\"emoji emoji-1f6e0\" role=\"img\" title=\"working on it\">:working_on_it:</span> if you have something to say.<br>\nReact with <span aria-label=\"all good\" class=\"emoji emoji-2705\" role=\"img\" title=\"all good\">:all_good:</span> if you're ready to end the meeting.</p>",
        "id": 268041578,
        "sender_full_name": "triagebot",
        "timestamp": 1642179549
    },
    {
        "content": "<p>I may have time to modify my <a href=\"https://github.com/rust-lang/relnotes/pull/72\">existing relnotes PR</a> to include the milestone thing, but will probably be busy</p>",
        "id": 268041643,
        "sender_full_name": "tmandry",
        "timestamp": 1642179582
    },
    {
        "content": "<p>ok, thanks all</p>",
        "id": 268041862,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179635
    },
    {
        "content": "<p><span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span></p>",
        "id": 268041883,
        "sender_full_name": "simulacrum",
        "timestamp": 1642179641
    },
    {
        "content": "<p><span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span> .</p>",
        "id": 268041935,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1642179664
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116883\">tmandry</span> <a href=\"#narrow/stream/241545-t-release/topic/meeting.202022.2001.2014/near/268040468\">said</a>:</p>\n<blockquote>\n<p>yeah, for the milestone thing it might mean just modifying a query in the script</p>\n</blockquote>\n<p><a href=\"https://github.com/rust-lang/relnotes/pull/77\">PR is up</a></p>",
        "id": 268058716,
        "sender_full_name": "tmandry",
        "timestamp": 1642187528
    }
]