[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> sorry for the short notice, but could you today's promotion? I'm going to be really busy unfortunately</p>",
        "id": 203696566,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594634308
    },
    {
        "content": "<p>Yeah no worries, can do</p>",
        "id": 203703550,
        "sender_full_name": "simulacrum",
        "timestamp": 1594639749
    },
    {
        "content": "<p>Will be in a few hours, need to wake up first :)</p>",
        "id": 203703566,
        "sender_full_name": "simulacrum",
        "timestamp": 1594639774
    },
    {
        "content": "<p>i don't think toolstate has been fixed <span aria-label=\"confused\" class=\"emoji emoji-1f615\" role=\"img\" title=\"confused\">:confused:</span></p>",
        "id": 203703856,
        "sender_full_name": "DPC",
        "timestamp": 1594640024
    },
    {
        "content": "<p>toolstate doesn't need to be fixed for beta-&gt;stable promotion, toolstate on beta always works</p>",
        "id": 203726623,
        "sender_full_name": "simulacrum",
        "timestamp": 1594652804
    },
    {
        "content": "<p>The problem is going to be that we need <a href=\"https://github.com/rust-lang/rust/pull/74219\">https://github.com/rust-lang/rust/pull/74219</a> to merge first at least, so I'll be waiting on that</p>",
        "id": 203726687,
        "sender_full_name": "simulacrum",
        "timestamp": 1594652841
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> we need to make the pre-release testing post -- do you want to do that on inside rust or internals this time around?</p>",
        "id": 203827720,
        "sender_full_name": "simulacrum",
        "timestamp": 1594730349
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> internals this time</p>",
        "id": 203827739,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594730368
    },
    {
        "content": "<p>okay, do you want me to do it?</p>",
        "id": 203827748,
        "sender_full_name": "simulacrum",
        "timestamp": 1594730377
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> yeah, take care of the release today as well</p>",
        "id": 203827762,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594730390
    },
    {
        "content": "<p>I'll get less busy tomorrow :)</p>",
        "id": 203827774,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594730399
    },
    {
        "content": "<p>uh you mean master-&gt;beta promotion?</p>",
        "id": 203827822,
        "sender_full_name": "simulacrum",
        "timestamp": 1594730407
    },
    {
        "content": "<p>release is thursday right?</p>",
        "id": 203827831,
        "sender_full_name": "simulacrum",
        "timestamp": 1594730412
    },
    {
        "content": "<p>yeah</p>",
        "id": 203827862,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594730431
    },
    {
        "content": "<p>okay sounds good, can do that</p>",
        "id": 203827875,
        "sender_full_name": "simulacrum",
        "timestamp": 1594730439
    },
    {
        "content": "<p><a href=\"https://internals.rust-lang.org/t/1-45-0-pre-release-testing/12726\">https://internals.rust-lang.org/t/1-45-0-pre-release-testing/12726</a></p>",
        "id": 203828837,
        "sender_full_name": "simulacrum",
        "timestamp": 1594731081
    },
    {
        "content": "<p>conducting master-&gt;beta promotion</p>",
        "id": 203829095,
        "sender_full_name": "simulacrum",
        "timestamp": 1594731241
    },
    {
        "content": "<p>turns out toolstate is still not fixed - so waiting on that</p>",
        "id": 203848149,
        "sender_full_name": "simulacrum",
        "timestamp": 1594740829
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> , am I right in inferring here that the master-&gt;beta promotion has not occurred yet?</p>",
        "id": 203874056,
        "sender_full_name": "pnkfelix",
        "timestamp": 1594753765
    },
    {
        "content": "<p>it's sort of halfway?</p>",
        "id": 203874077,
        "sender_full_name": "simulacrum",
        "timestamp": 1594753772
    },
    {
        "content": "<p>heh. What does that mean?</p>",
        "id": 203874101,
        "sender_full_name": "pnkfelix",
        "timestamp": 1594753784
    },
    {
        "content": "<p>we pushed the branch up but then realized toolstate has not been fixed yet, so we can't actually do anything</p>",
        "id": 203874105,
        "sender_full_name": "simulacrum",
        "timestamp": 1594753788
    },
    {
        "content": "<p>But I assume that the point you've chosen for the beta is likely to be what ends up being the beta?</p>",
        "id": 203874181,
        "sender_full_name": "pnkfelix",
        "timestamp": 1594753810
    },
    {
        "content": "<p>Let me maybe explain why I ask</p>",
        "id": 203874203,
        "sender_full_name": "pnkfelix",
        "timestamp": 1594753822
    },
    {
        "content": "<p>I may opt to just re-promote master once toolstate is fixed, or do dedicated backports, not sure yet (either seems fine to me)</p>",
        "id": 203874257,
        "sender_full_name": "simulacrum",
        "timestamp": 1594753852
    },
    {
        "content": "<p>okay</p>",
        "id": 203883295,
        "sender_full_name": "pnkfelix",
        "timestamp": 1594758445
    },
    {
        "content": "<p>(sorry, I got <em>seriously</em> sidetracked by family stuff)</p>",
        "id": 203883342,
        "sender_full_name": "pnkfelix",
        "timestamp": 1594758460
    },
    {
        "content": "<p>the reason I ask is because issue <a href=\"https://github.com/rust-lang/rust/issues/73747\">#73747</a> only very recently got a PR to fix it (PR <a href=\"https://github.com/rust-lang/rust/issues/74340\">#74340</a>) and so I expect <a href=\"https://github.com/rust-lang/rust/issues/73747\">#73747</a> will become a stable-to-beta-regression</p>",
        "id": 203883443,
        "sender_full_name": "pnkfelix",
        "timestamp": 1594758494
    },
    {
        "content": "<p>but I figured I'd check if there's any reason to delay the promotion until after PR <a href=\"https://github.com/rust-lang/rust/issues/74340\">#74340</a> lands, to avoid that</p>",
        "id": 203883487,
        "sender_full_name": "pnkfelix",
        "timestamp": 1594758514
    },
    {
        "content": "<p>but really, it doesn't matter; we can always backport.</p>",
        "id": 203883501,
        "sender_full_name": "pnkfelix",
        "timestamp": 1594758520
    },
    {
        "content": "<p>yeah just beta-nominate/accept things, worst case we do a bit of extra work and then \"no-op\" backport them</p>",
        "id": 203884142,
        "sender_full_name": "simulacrum",
        "timestamp": 1594758791
    },
    {
        "content": "<p>have we approached the toolstate teams about fixing it?</p>",
        "id": 203894658,
        "sender_full_name": "DPC",
        "timestamp": 1594764667
    },
    {
        "content": "<p>it's being fixed yeah</p>",
        "id": 203906666,
        "sender_full_name": "simulacrum",
        "timestamp": 1594774707
    },
    {
        "content": "<p>let me track down the latest convo</p>",
        "id": 203906670,
        "sender_full_name": "simulacrum",
        "timestamp": 1594774714
    },
    {
        "content": "<p>huh maybe toolstate is broken again?</p>",
        "id": 203906724,
        "sender_full_name": "simulacrum",
        "timestamp": 1594774794
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/74240\">https://github.com/rust-lang/rust/pull/74240</a> is the rls/rustfmt fixe</p>",
        "id": 203906767,
        "sender_full_name": "simulacrum",
        "timestamp": 1594774806
    },
    {
        "content": "<p><a href=\"https://rust-lang-nursery.github.io/rust-toolstate/\">https://rust-lang-nursery.github.io/rust-toolstate/</a> doesn't seem to reflect that though?</p>",
        "id": 203906786,
        "sender_full_name": "simulacrum",
        "timestamp": 1594774819
    },
    {
        "content": "<p>I'm confused</p>",
        "id": 203906823,
        "sender_full_name": "simulacrum",
        "timestamp": 1594774869
    },
    {
        "content": "<p>hmmm</p>",
        "id": 203906899,
        "sender_full_name": "simulacrum",
        "timestamp": 1594774947
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>2020-07-14T14:05:11.0796179Z \u001b[0m\u001b[1m\u001b[38;5;9merror[E0635]\u001b[0m\u001b[0m\u001b[1m: unknown feature `const_transmute`\u001b[0m\n2020-07-14T14:05:11.0796697Z \u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--&gt; \u001b[0m\u001b[0m/cargo/registry/src/github.com-1285ae84e5963aae/rustc-ap-rustc_ast-664.0.0/lib.rs:13:12\u001b[0m\n2020-07-14T14:05:11.0797080Z \u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n2020-07-14T14:05:11.0797433Z \u001b[0m\u001b[1m\u001b[38;5;12m13\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m#![feature(const_transmute)]\u001b[0m\n2020-07-14T14:05:11.0798073Z \u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m           \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^\u001b[0m\n2020-07-14T14:05:11.0932281Z\n2020-07-14T14:05:11.2003941Z \u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: aborting due to previous error\u001b[0m\n</code></pre></div>\n\n\n<p>is the failure in the PR</p>",
        "id": 203906901,
        "sender_full_name": "simulacrum",
        "timestamp": 1594774957
    },
    {
        "content": "<p>oh I have a theory why this managed to land</p>",
        "id": 203906990,
        "sender_full_name": "simulacrum",
        "timestamp": 1594775055
    },
    {
        "content": "<p>aha, okay, so the stabilization of that feature landed in the same merge commit (rollup) which was <em>supposed</em> to unbreak rls/rustfmt (<a href=\"https://github.com/rust-lang/rust/pull/74245\">https://github.com/rust-lang/rust/pull/74245</a>)</p>",
        "id": 203907029,
        "sender_full_name": "simulacrum",
        "timestamp": 1594775111
    },
    {
        "content": "<p>so we \"assumed\" the fix was landed and closed issues, even though that wasn't the case</p>",
        "id": 203907038,
        "sender_full_name": "simulacrum",
        "timestamp": 1594775125
    },
    {
        "content": "<p>if this is the only problem I'm just going to re-add const_transmute temporarily</p>",
        "id": 203907063,
        "sender_full_name": "simulacrum",
        "timestamp": 1594775152
    },
    {
        "content": "<p>won't matter on beta anyway</p>",
        "id": 203907118,
        "sender_full_name": "simulacrum",
        "timestamp": 1594775179
    },
    {
        "content": "<p>fwiw from #wg-rustfmt on discord:</p>\n<div class=\"codehilite\"><pre><span></span><code>heads up that rustfmt and rls (because of rustfmt&#39;s dep tree) are broken on nightly. I don&#39;t think it got caught by the bot due to the fact that https://github.com/rust-lang/rust/issues/74081 was already open, so there&#39;s no tracking issue in rust-lang/rust for the broken toolstates\nGitHub\n`rustfmt` no longer builds after rust-lang/rust#74073 Â·\nguessing it&#39;s related to https://github.com/rust-lang/rust/pull/72920 landing. the rustc-ap crates (snapshots of rustc mods) that we use will get bumped within the next 12 hours or so which will allow us to update and get things sorted\n</code></pre></div>",
        "id": 203942584,
        "sender_full_name": "DPC",
        "timestamp": 1594812294
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> can we sneak in a release note for the <code>RUSTFLAGS=-Clto</code> incompatibility with bitcode? (<a href=\"https://github.com/rust-lang/rust/issues/71848\">#71848</a>)</p>",
        "id": 203982370,
        "sender_full_name": "cuviper",
        "timestamp": 1594832241
    },
    {
        "content": "<p>If we can get it on master we can link to it from the blog. Happy to r+ such a PR</p>",
        "id": 203982664,
        "sender_full_name": "simulacrum",
        "timestamp": 1594832399
    },
    {
        "content": "<p>We should have another rollup land before then</p>",
        "id": 203982726,
        "sender_full_name": "simulacrum",
        "timestamp": 1594832411
    },
    {
        "content": "<p>ok, see <a href=\"https://github.com/rust-lang/rust/issues/74374\">#74374</a></p>",
        "id": 203986898,
        "sender_full_name": "cuviper",
        "timestamp": 1594834362
    },
    {
        "content": "<p>I plan to start the release at 13 UTC</p>",
        "id": 204056510,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594887226
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> sounds good, we should update blog post to point at master for release notes btw</p>",
        "id": 204071958,
        "sender_full_name": "simulacrum",
        "timestamp": 1594899547
    },
    {
        "content": "<p><span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 204072568,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594900099
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> mind if I go ahead and do bootstrap bump?</p>",
        "id": 204079221,
        "sender_full_name": "simulacrum",
        "timestamp": 1594904468
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> sure</p>",
        "id": 204079264,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594904481
    },
    {
        "content": "<p>I'm updating the blog post and then I'll start the release process</p>",
        "id": 204079284,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594904490
    },
    {
        "content": "<p>sounds good</p>",
        "id": 204079295,
        "sender_full_name": "simulacrum",
        "timestamp": 1594904497
    },
    {
        "content": "<p>kicked off rcs</p>",
        "id": 204079708,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594904696
    },
    {
        "content": "<p>tag pushed</p>",
        "id": 204080181,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594904945
    },
    {
        "content": "<p>cargo tag pushed</p>",
        "id": 204081694,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594905535
    },
    {
        "content": "<p>rcs is compiling bootstrap</p>",
        "id": 204081709,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594905544
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> what's the latest way to publish cargo to <a href=\"http://crates.io\">crates.io</a>?</p>",
        "id": 204082050,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594905707
    },
    {
        "content": "<p>there should be a publish.py script in the cargo repo</p>",
        "id": 204082079,
        "sender_full_name": "simulacrum",
        "timestamp": 1594905719
    },
    {
        "content": "<p>which you run in the appropriate checkout</p>",
        "id": 204082137,
        "sender_full_name": "simulacrum",
        "timestamp": 1594905735
    },
    {
        "content": "<p>no need to bump versions etc</p>",
        "id": 204082146,
        "sender_full_name": "simulacrum",
        "timestamp": 1594905739
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/jCq83_DvxLN1ID9tyaB2gqbi/2020-07-16-15-22-34.png\">2020-07-16-15-22-34.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/jCq83_DvxLN1ID9tyaB2gqbi/2020-07-16-15-22-34.png\" title=\"2020-07-16-15-22-34.png\"><img src=\"/user_uploads/4715/jCq83_DvxLN1ID9tyaB2gqbi/2020-07-16-15-22-34.png\"></a></div>",
        "id": 204082180,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594905760
    },
    {
        "content": "<p>whelp then</p>",
        "id": 204082184,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594905762
    },
    {
        "content": "<p>oh hm maybe I lied</p>",
        "id": 204082202,
        "sender_full_name": "simulacrum",
        "timestamp": 1594905776
    },
    {
        "content": "<p>that's what <span class=\"user-mention\" data-user-id=\"120518\">@Eric Huss</span> told me last time.. hm</p>",
        "id": 204082232,
        "sender_full_name": "simulacrum",
        "timestamp": 1594905788
    },
    {
        "content": "<p>let me try and find that convo</p>",
        "id": 204082242,
        "sender_full_name": "simulacrum",
        "timestamp": 1594905793
    },
    {
        "content": "<p>the dev-deps you can comment out, but I think that's a separate error</p>",
        "id": 204082426,
        "sender_full_name": "simulacrum",
        "timestamp": 1594905889
    },
    {
        "content": "<p>maybe just leave it and leave a note in <a class=\"stream\" data-stream-id=\"246057\" href=\"/#narrow/stream/246057-t-cargo\">#t-cargo</a></p>",
        "id": 204082444,
        "sender_full_name": "simulacrum",
        "timestamp": 1594905900
    },
    {
        "content": "<p><span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 204082799,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594906059
    },
    {
        "content": "<p>left a note there</p>",
        "id": 204083140,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594906193
    },
    {
        "content": "<p>merged the blog</p>",
        "id": 204087396,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594908145
    },
    {
        "content": "<p><a href=\"https://blog.rust-lang.org/2020/07/16/Rust-1.45.0.html\">https://blog.rust-lang.org/2020/07/16/Rust-1.45.0.html</a> <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 204087709,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1594908312
    },
    {
        "content": "<p>Is there a typo in the word \"Inititally\"</p>",
        "id": 204088468,
        "sender_full_name": "Eh2406",
        "timestamp": 1594908669
    },
    {
        "content": "<p>fixed</p>",
        "id": 204093530,
        "sender_full_name": "XAMPPRocky",
        "timestamp": 1594910813
    }
]