[
    {
        "content": "<ul>\n<li>stable dev-static just started</li>\n<li>beta artifacts still pending (r+'d, waiting for next round of bors); see <a class=\"stream-topic\" data-stream-id=\"241545\" href=\"/#narrow/stream/241545-t-release/topic/rls.20beta.20promotion\">#t-release &gt; rls beta promotion</a> too</li>\n</ul>",
        "id": 272810620,
        "sender_full_name": "simulacrum",
        "timestamp": 1645540442
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116883\">@tmandry</span> do you think you'll have time to edit in a section about disabling incremental on 1.59 by default? We can probably pull some of it from the 1.52.1 blog post</p>",
        "id": 272810697,
        "sender_full_name": "simulacrum",
        "timestamp": 1645540469
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> when you say \"beta artifacts still pending\", is that in reference to the objects that are e.g. pulled down by <code>rustup update beta</code> ? Or a superset of that? (or a different set of things entirely)?</p>",
        "id": 272816982,
        "sender_full_name": "pnkfelix",
        "timestamp": 1645543185
    },
    {
        "content": "<p>I mean we don't have a set of 1.60 artifacts yet (<a href=\"https://github.com/rust-lang/rust/pull/94228\">https://github.com/rust-lang/rust/pull/94228</a> is in queue, not yet merged)</p>",
        "id": 272817069,
        "sender_full_name": "simulacrum",
        "timestamp": 1645543206
    },
    {
        "content": "<p>yes, those pulled down by rustup -- technically probably some that are not, too, but largely the same set.</p>",
        "id": 272817117,
        "sender_full_name": "simulacrum",
        "timestamp": 1645543227
    },
    {
        "content": "<p>I ask because I was seeking to answer someone's <a href=\"https://github.com/google/autocxx/issues/818#issuecomment-1047812873\">question about when</a> the \"fix\" for <a href=\"https://github.com/rust-lang/rust/issues/94124\">#94124</a> would hit beta rust channel</p>",
        "id": 272817148,
        "sender_full_name": "pnkfelix",
        "timestamp": 1645543239
    },
    {
        "content": "<p>and so I looked at the beta branch, saw that nightly had already been promoted, and asked myself \"wait, why doesn't rustup already reflect this state?\"</p>",
        "id": 272817193,
        "sender_full_name": "pnkfelix",
        "timestamp": 1645543260
    },
    {
        "content": "<p>yeah, <a href=\"https://github.com/rust-lang/rust/issues/94228\">#94228</a> needs to land for us to release a beta</p>",
        "id": 272817222,
        "sender_full_name": "simulacrum",
        "timestamp": 1645543272
    },
    {
        "content": "<p>Ah okay.</p>",
        "id": 272817297,
        "sender_full_name": "pnkfelix",
        "timestamp": 1645543301
    },
    {
        "content": "<p>though it'll contain what is a 'proper' fix, i.e., the patches we decided not to backport</p>",
        "id": 272817404,
        "sender_full_name": "simulacrum",
        "timestamp": 1645543329
    },
    {
        "content": "<p>that's right</p>",
        "id": 272817439,
        "sender_full_name": "pnkfelix",
        "timestamp": 1645543343
    },
    {
        "content": "<p>Its a little confusing to follow the thread of the conversation on <a href=\"https://github.com/google/autocxx/issues/818\">that person's issue</a> because I didn't actually answer their real question there</p>",
        "id": 272817603,
        "sender_full_name": "pnkfelix",
        "timestamp": 1645543408
    },
    {
        "content": "<p>I think they are perhaps under the false and easy to get impression we are landing patches onto 1.59 beta at this point, which won't happen</p>",
        "id": 272817804,
        "sender_full_name": "simulacrum",
        "timestamp": 1645543472
    },
    {
        "content": "<p>and so I'm working on a proper answer now. (Something of the form: \"We disabled incr-comp on stable; the nightly promotion to beta is expected to fix the problems you are observing without requiring us to disable incr-comp on beta channel.\")</p>",
        "id": 272817818,
        "sender_full_name": "pnkfelix",
        "timestamp": 1645543476
    },
    {
        "content": "<p>We should have a dev-static stable release for 1.59 in the next hour, probably sooner</p>",
        "id": 272817869,
        "sender_full_name": "simulacrum",
        "timestamp": 1645543494
    },
    {
        "content": "<p>after PR <a href=\"https://github.com/rust-lang/rust/issues/94228\">#94228</a> lands, when does the 1.60-beta become visible via rustup? Sometime after midnight in time-zone-xxx ?</p>",
        "id": 272818259,
        "sender_full_name": "pnkfelix",
        "timestamp": 1645543634
    },
    {
        "content": "<p>I'll probably kick off a release manually</p>",
        "id": 272818294,
        "sender_full_name": "simulacrum",
        "timestamp": 1645543650
    },
    {
        "content": "<p>so pretty soon</p>",
        "id": 272818300,
        "sender_full_name": "simulacrum",
        "timestamp": 1645543652
    },
    {
        "content": "<p>okay, great</p>",
        "id": 272818331,
        "sender_full_name": "pnkfelix",
        "timestamp": 1645543667
    },
    {
        "content": "<p>(well, soon after it lands. bors will take a while.)</p>",
        "id": 272818360,
        "sender_full_name": "simulacrum",
        "timestamp": 1645543677
    },
    {
        "content": "<p>(i'm super interested in this <a href=\"https://github.com/google/autocxx/issues/818\">https://github.com/google/autocxx/issues/818</a> issue because its a rare case of someone doing something (1.) in CI (2.) with the beta (3.) that exercises incr-comp.)</p>",
        "id": 272818473,
        "sender_full_name": "pnkfelix",
        "timestamp": 1645543709
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/241545-t-release/topic/release.20process/near/272818294\">said</a>:</p>\n<blockquote>\n<p>I'll probably kick off a release manually</p>\n</blockquote>\n<p>sorry if I'm being dense here: Is the production of artifacts for <code>rustup update beta</code> <em>always</em> a manual  process? (I guess I shouldn't be surprised if it is, if it is perhaps somewhat analogous to the stable release process...)</p>",
        "id": 272818797,
        "sender_full_name": "pnkfelix",
        "timestamp": 1645543827
    },
    {
        "content": "<p>no, there's a regular cron job that checks, I forget how often -- maybe once an hour, maybe once a day, for new artifacts</p>",
        "id": 272818848,
        "sender_full_name": "simulacrum",
        "timestamp": 1645543849
    },
    {
        "content": "<p>okay okay that's more what I would expect</p>",
        "id": 272818868,
        "sender_full_name": "pnkfelix",
        "timestamp": 1645543862
    },
    {
        "content": "<p>the beta cron is daily at 00:00 utc, finishing at 00:55 utc (considering the current duration of promote-release)</p>",
        "id": 272819184,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1645543978
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> <a href=\"https://dev-static.rust-lang.org/dist/2022-02-22/index.html\">https://dev-static.rust-lang.org/dist/2022-02-22/index.html</a> seems to be empty, but the s3 bucket does contain things -- any thoughts on what I'm doing wrong?</p>",
        "id": 272820873,
        "sender_full_name": "simulacrum",
        "timestamp": 1645544632
    },
    {
        "content": "<p>I'm seeing content correctly</p>",
        "id": 272820976,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1645544658
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/FXp1Fvo9nTrXhhge39-C8udy/Screenshot-from-2022-02-22-16-44-23.png\">Screenshot-from-2022-02-22-16-44-23.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/FXp1Fvo9nTrXhhge39-C8udy/Screenshot-from-2022-02-22-16-44-23.png\" title=\"Screenshot-from-2022-02-22-16-44-23.png\"><img src=\"/user_uploads/4715/FXp1Fvo9nTrXhhge39-C8udy/Screenshot-from-2022-02-22-16-44-23.png\"></a></div>",
        "id": 272821003,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1645544672
    },
    {
        "content": "<p>does the network tab show anything interesting?</p>",
        "id": 272821058,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1645544702
    },
    {
        "content": "<p>also note that cloudfront caches the api requests done behind the scenes, you might have hit a stale cache</p>",
        "id": 272821132,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1645544738
    },
    {
        "content": "<p>huh</p>",
        "id": 272821219,
        "sender_full_name": "simulacrum",
        "timestamp": 1645544765
    },
    {
        "content": "<p>my s3 response is empty:</p>\n<blockquote>\n<p><code>&lt;ListBucketResult xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\"&gt;&lt;Name&gt;dev-static-rust-lang-org&lt;/Name&gt;&lt;Prefix&gt;dist/2022-02-22&lt;/Prefix&gt;&lt;Marker&gt;&lt;/Marker&gt;&lt;MaxKeys&gt;1000&lt;/MaxKeys&gt;&lt;IsTruncated&gt;false&lt;/IsTruncated&gt;&lt;/ListBucketResult&gt;</code></p>\n</blockquote>",
        "id": 272821239,
        "sender_full_name": "simulacrum",
        "timestamp": 1645544773
    },
    {
        "content": "<p>I guess it'll eventually figure it out</p>",
        "id": 272821263,
        "sender_full_name": "simulacrum",
        "timestamp": 1645544789
    },
    {
        "content": "<p><a href=\"https://internals.rust-lang.org/t/rust-1-59-0-prerelease-testing/16196\">https://internals.rust-lang.org/t/rust-1-59-0-prerelease-testing/16196</a>, and will post inside rust pr shortly</p>",
        "id": 272821542,
        "sender_full_name": "simulacrum",
        "timestamp": 1645544897
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/blog.rust-lang.org/pull/937\">https://github.com/rust-lang/blog.rust-lang.org/pull/937</a>, and now that we don't have anyone else on Core I'll probably have to admin merge that -- <span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> can you give it a quick glance over?</p>",
        "id": 272822023,
        "sender_full_name": "simulacrum",
        "timestamp": 1645545066
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/241545-t-release/topic/release.20process/near/272821263\">said</a>:</p>\n<blockquote>\n<p>I guess it'll eventually figure it out</p>\n</blockquote>\n<p>is that a cache hit? it might be a stale cache</p>",
        "id": 272822093,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1645545094
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> left feedback, also I think my infra-admin privs should accidentally allow me to give you a green tick</p>",
        "id": 272822404,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1645545193
    },
    {
        "content": "<p>I tried clearing cache locally I think, and it doesn't seem to be a cache hit.</p>",
        "id": 272822556,
        "sender_full_name": "simulacrum",
        "timestamp": 1645545243
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> alright, fixed up that nit</p>",
        "id": 272822685,
        "sender_full_name": "simulacrum",
        "timestamp": 1645545304
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/241545-t-release/topic/release.20process/near/272822556\">said</a>:</p>\n<blockquote>\n<p>I tried clearing cache locally I think, and it doesn't seem to be a cache hit.</p>\n</blockquote>\n<p>speaking of cloudfront caches btw, not local caches</p>",
        "id": 272822723,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1645545317
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>x-cache: Hit from cloudfront\n</code></pre></div>",
        "id": 272822822,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1645545355
    },
    {
        "content": "<p>ah, yeah, my results are a hit there</p>",
        "id": 272823034,
        "sender_full_name": "simulacrum",
        "timestamp": 1645545427
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/241545-t-release/topic/release.20process/near/272810697\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"116883\">tmandry</span> do you think you'll have time to edit in a section about disabling incremental on 1.59 by default? We can probably pull some of it from the 1.52.1 blog post</p>\n</blockquote>\n<p>going to go ahead and work on this and push to the PR shortly</p>",
        "id": 272823743,
        "sender_full_name": "simulacrum",
        "timestamp": 1645545667
    },
    {
        "content": "<p>We have one report of possible release breakage that'll need new artifacts so far</p>",
        "id": 272853723,
        "sender_full_name": "simulacrum",
        "timestamp": 1645557676
    },
    {
        "content": "<p>I'll probably wait till tonight but try to do that</p>",
        "id": 272853729,
        "sender_full_name": "simulacrum",
        "timestamp": 1645557684
    },
    {
        "content": "<p><a href=\"https://internals.rust-lang.org/t/rust-1-59-0-prerelease-testing/16196\">https://internals.rust-lang.org/t/rust-1-59-0-prerelease-testing/16196</a></p>",
        "id": 272853879,
        "sender_full_name": "simulacrum",
        "timestamp": 1645557735
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/94265\">https://github.com/rust-lang/rust/pull/94265</a> is up, will r+ later to give some more time for folks to chime in on threads in case there's other stuff to backport</p>",
        "id": 272862969,
        "sender_full_name": "simulacrum",
        "timestamp": 1645562232
    },
    {
        "content": "<p>kicked off 1.60 beta</p>",
        "id": 272865214,
        "sender_full_name": "simulacrum",
        "timestamp": 1645563377
    },
    {
        "content": "<p>master bootstrap bump is up - <a href=\"https://github.com/rust-lang/rust/pull/94290\">https://github.com/rust-lang/rust/pull/94290</a></p>",
        "id": 272975893,
        "sender_full_name": "simulacrum",
        "timestamp": 1645635007
    },
    {
        "content": "<p>blog post updated, ready for another round of review</p>",
        "id": 273041867,
        "sender_full_name": "simulacrum",
        "timestamp": 1645672127
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/blog.rust-lang.org/pull/931\">https://github.com/rust-lang/blog.rust-lang.org/pull/931</a></p>",
        "id": 273041868,
        "sender_full_name": "simulacrum",
        "timestamp": 1645672128
    },
    {
        "content": "<p>I will likely start release tomorrow around <time datetime=\"2022-02-24T14:00:00Z\">2022-02-24T09:00:00-05:00</time>, though if that doesn't happen it'll be around <time datetime=\"2022-02-24T16:00:00Z\">2022-02-24T11:00:00-05:00</time> instead.</p>",
        "id": 273041901,
        "sender_full_name": "simulacrum",
        "timestamp": 1645672186
    },
    {
        "content": "<p>kicked off release</p>",
        "id": 273109462,
        "sender_full_name": "simulacrum",
        "timestamp": 1645718759
    },
    {
        "content": "<p>ok, blog is out</p>",
        "id": 273118670,
        "sender_full_name": "simulacrum",
        "timestamp": 1645722339
    },
    {
        "content": "<p>holding off on cargo tagging until <a href=\"http://crates.io\">crates.io</a> is back up</p>",
        "id": 273118690,
        "sender_full_name": "simulacrum",
        "timestamp": 1645722346
    },
    {
        "content": "<p>ok, made the <a href=\"http://crates.io\">crates.io</a> release.</p>",
        "id": 273121144,
        "sender_full_name": "simulacrum",
        "timestamp": 1645723326
    },
    {
        "content": "<p>er, cargo release.</p>",
        "id": 273121298,
        "sender_full_name": "simulacrum",
        "timestamp": 1645723402
    }
]