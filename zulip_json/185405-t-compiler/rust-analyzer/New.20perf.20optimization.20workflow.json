[
    {
        "content": "<p>PSA: I've pushed <a href=\"https://github.com/rust-analyzer/rust-analyzer/pull/8254\">https://github.com/rust-analyzer/rust-analyzer/pull/8254</a> to optimize debugging perf issues. The idea is that you write a <code>#[test]</code> that reproduces the perf problem exactly, with Cargo.toml and such, and then you have a fast iteration when applying changes.</p>",
        "id": 232399800,
        "sender_full_name": "matklad",
        "timestamp": 1617097949
    },
    {
        "content": "<p>I am somewhat emberrassed that it took me years to add that -- so far, I've been debugging perf by running <code>cargo xtask install &amp;&amp; code .</code>, which isn't very productive.</p>",
        "id": 232399879,
        "sender_full_name": "matklad",
        "timestamp": 1617098006
    },
    {
        "content": "<p>So, now instead of generating the pseudoproject for the completions benchmark, we can pick some nasty real crate?</p>",
        "id": 232402052,
        "sender_full_name": "Kirill Bulatov",
        "timestamp": 1617099129
    },
    {
        "content": "<p>I guess that's more for debugging specific issues rather than for benchmarkin</p>",
        "id": 232404640,
        "sender_full_name": "matklad",
        "timestamp": 1617100639
    },
    {
        "content": "<p>it's a replacement for <code>analysis stats</code>, which works for more fine-grained operations</p>",
        "id": 232404685,
        "sender_full_name": "matklad",
        "timestamp": 1617100679
    },
    {
        "content": "<p><code>analysis-bench</code>?</p>",
        "id": 232409902,
        "sender_full_name": "Laurențiu",
        "timestamp": 1617103780
    },
    {
        "content": "<p>Kind-of -- I think no one actually used analysis-bench</p>",
        "id": 232410690,
        "sender_full_name": "matklad",
        "timestamp": 1617104224
    },
    {
        "content": "<p>I actually used it a couple of times in <a href=\"https://github.com/rust-analyzer/rust-analyzer/issues/5397\">https://github.com/rust-analyzer/rust-analyzer/issues/5397</a></p>",
        "id": 232412641,
        "sender_full_name": "Laurențiu",
        "timestamp": 1617105437
    }
]