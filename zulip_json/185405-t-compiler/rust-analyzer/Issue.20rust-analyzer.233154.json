[
    {
        "content": "<p>Hello everyone! I'm looking into this issue <a href=\"https://github.com/rust-analyzer/rust-analyzer/issues/3154\">https://github.com/rust-analyzer/rust-analyzer/issues/3154</a> as part of Microsoft's Hack Week.</p>\n<p>Right now, I'm working on some repro steps and am writing up my understanding of the problem (I'll then post it in the issue and ask for feedback to ensure my understanding is correct)</p>\n<p>For now, is there a way to output what version/build of Rust rust-analyzer is using?</p>\n<p>For example, if I were running rustc 1.9.0-nightly (02310fd31 2016-03-19) on my system, is there a way to verify that rust-analyzer is using rustc 1.9.0-nightly (02310fd31 2016-03-19)?</p>",
        "id": 257438266,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1634159334
    },
    {
        "content": "<p>I tried setting RA_LOG=info and monitoring rust analyzer's output in VSCode, but I'm not seeing anything that shows the rust version/build used by rust-analyzer</p>",
        "id": 257438484,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1634159422
    },
    {
        "content": "<p>I don't think we output that information</p>",
        "id": 257449660,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1634164506
    },
    {
        "content": "<p>Only thing we log(on debug) is the target triple we run for I think</p>",
        "id": 257449693,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1634164527
    },
    {
        "content": "<p>In general we just use whatever invoking plain cargo in the workspace would use<del>(unless the user overwrite the cargo command in the settings)</del></p>",
        "id": 257449780,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1634164564
    },
    {
        "content": "<p>Would that be the <a href=\"http://rust-analyzer.cargo.target\">rust-analyzer.cargo.target</a> setting?</p>",
        "id": 257451594,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1634165656
    },
    {
        "content": "<p>Ye if that setting isn't set we query and log the found target, <a href=\"https://github.com/rust-analyzer/rust-analyzer/blob/1619fa9d8f80a4d00f71a6674835aa88dbc6c9e4/crates/project_model/src/cargo_workspace.rs#L411\">https://github.com/rust-analyzer/rust-analyzer/blob/1619fa9d8f80a4d00f71a6674835aa88dbc6c9e4/crates/project_model/src/cargo_workspace.rs#L411</a></p>",
        "id": 257451939,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1634165867
    },
    {
        "content": "<p>Oh I take it back you can't overwrite the cargo command we use for fetching metadata it seems(would be pointless anyways)</p>",
        "id": 257452126,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1634165993
    },
    {
        "content": "<p>Oh and we print out the cargo version(which I think is also the same as the rustc version) when we fail to fetch the metadata here <a href=\"https://github.com/rust-analyzer/rust-analyzer/blob/1619fa9d8f80a4d00f71a6674835aa88dbc6c9e4/crates/project_model/src/workspace.rs#L164-L170\">https://github.com/rust-analyzer/rust-analyzer/blob/1619fa9d8f80a4d00f71a6674835aa88dbc6c9e4/crates/project_model/src/workspace.rs#L164-L170</a><br>\nSo we could probably put an info level log for the version here as well if required</p>",
        "id": 257452803,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1634166324
    },
    {
        "content": "<p>excellent! that is what I was looking for, ty!</p>",
        "id": 257452834,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1634166341
    },
    {
        "content": "<p>Updated the issue with some analysis <a href=\"https://github.com/rust-analyzer/rust-analyzer/issues/3154#issuecomment-943650738\">https://github.com/rust-analyzer/rust-analyzer/issues/3154#issuecomment-943650738</a></p>",
        "id": 257589724,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1634239030
    }
]