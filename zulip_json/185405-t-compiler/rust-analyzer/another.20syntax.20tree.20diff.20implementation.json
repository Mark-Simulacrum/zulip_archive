[
    {
        "content": "<p>Hi, all. I'm currently working on this <a href=\"https://github.com/rust-analyzer/rust-analyzer/pull/11813\">PR</a>, and it's half done. It can generate the following diff result for now:<br>\nsource:<br>\n<a href=\"/user_uploads/4715/vRGCXj3Fvn0mCEWBY0u1s5_V/source.png\">source.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/vRGCXj3Fvn0mCEWBY0u1s5_V/source.png\" title=\"source.png\"><img src=\"/user_uploads/4715/vRGCXj3Fvn0mCEWBY0u1s5_V/source.png\"></a></div><p>destination:<br>\n<a href=\"/user_uploads/4715/qwthF2wjZzETbXKWCJjW0PBi/dst.png\">dst.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/qwthF2wjZzETbXKWCJjW0PBi/dst.png\" title=\"dst.png\"><img src=\"/user_uploads/4715/qwthF2wjZzETbXKWCJjW0PBi/dst.png\"></a></div><p>The red node in the source tree is marked as deletion. The green node in the destination tree is marked as insertion. After this PR is done, the result should be better.</p>\n<p>But I'm blocked by not knowing how to convert the insertion nodes to <code>TreeDiff::insertions</code>, since in the algorithm result, inserting a node just means to insert the node, not to insert the entire subtree. I have no idea how to convert the algorithm result to <code>TextEdit</code>. Does anyone have any idea?</p>",
        "id": 276591234,
        "sender_full_name": "yipinliu",
        "timestamp": 1648198827
    },
    {
        "content": "<p>Note that you don't necessarily have to use our current <code>TreeDiff</code> structure as the target output for the algorithm, we mainly need a way to turn it into a <code>TextEdit</code></p>",
        "id": 276595298,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1648201475
    },
    {
        "content": "<p>I don't know how the gumtree alogrithm works though so I can't really be much of help here otherwise right now.</p>",
        "id": 276595502,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1648201662
    }
]