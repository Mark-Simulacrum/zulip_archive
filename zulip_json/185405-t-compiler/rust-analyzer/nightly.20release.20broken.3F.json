[
    {
        "content": "<p>i think nightly release is broken, upon trying to update, r-a's vscode extenion throws here: </p>\n<p><a href=\"https://github.com/rust-analyzer/rust-analyzer/blob/c88277f67661957b9be5fd75a1cc1625e39746d7/editors/code/src/main.ts#L224\">https://github.com/rust-analyzer/rust-analyzer/blob/c88277f67661957b9be5fd75a1cc1625e39746d7/editors/code/src/main.ts#L224</a></p>\n<p>I think it is because it cannot find the <code>rust-analyzer.visix</code> in <a href=\"https://api.github.com/repos/rust-analyzer/rust-analyzer/releases/52561265\">https://api.github.com/repos/rust-analyzer/rust-analyzer/releases/52561265</a></p>\n<p>opened a gh issue: <a href=\"https://github.com/rust-analyzer/rust-analyzer/issues/10681\">https://github.com/rust-analyzer/rust-analyzer/issues/10681</a></p>",
        "id": 260080133,
        "sender_full_name": "jhgg",
        "timestamp": 1635902997
    },
    {
        "content": "<p>Good find, I triggered a rebuild</p>",
        "id": 260093211,
        "sender_full_name": "Laurențiu",
        "timestamp": 1635919790
    },
    {
        "content": "<p>Question: is anyone except me receiving email notifications for failed releases?</p>",
        "id": 260097266,
        "sender_full_name": "matklad",
        "timestamp": 1635924435
    },
    {
        "content": "<p>I only get mails for successful releases. But at least I get them twice.</p>",
        "id": 260097341,
        "sender_full_name": "Laurențiu",
        "timestamp": 1635924515
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/sCcCF8GXvWHc1O493dXsIX5o/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/sCcCF8GXvWHc1O493dXsIX5o/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/sCcCF8GXvWHc1O493dXsIX5o/image.png\"></a></div>",
        "id": 260097633,
        "sender_full_name": "matklad",
        "timestamp": 1635924832
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/KMky8yCWoLP6EeE5eINKMjkU/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/KMky8yCWoLP6EeE5eINKMjkU/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/KMky8yCWoLP6EeE5eINKMjkU/image.png\"></a></div><p>I think I only get them on my repos.</p>",
        "id": 260097686,
        "sender_full_name": "Laurențiu",
        "timestamp": 1635924871
    },
    {
        "content": "<p>It's not super clear how to extend the set of notifined folks here :(</p>",
        "id": 260097689,
        "sender_full_name": "matklad",
        "timestamp": 1635924873
    },
    {
        "content": "<p>Nithgly watch guard reporting in: another failure today<br>\n<a href=\"https://github.com/rust-analyzer/rust-analyzer/runs/4111945648?check_suite_focus=true\">https://github.com/rust-analyzer/rust-analyzer/runs/4111945648?check_suite_focus=true</a><br>\nraw logs: <a href=\"https://pipelines.actions.githubusercontent.com/im8Y4p8bIMrOSFxLCQbkSL1WW3XVXkJlLfASDRHj0jpwABgcgm/_apis/pipelines/1/runs/28723/signedlogcontent/6?urlExpires=2021-11-05T10%3A13%3A51.4472273Z&amp;urlSigningMethod=HMACV1&amp;urlSignature=G1ub7%2FcAIpgkglrsi6QPm0zHlErsheKg8mPFKan6wjQ%3D\">https://pipelines.actions.githubusercontent.com/im8Y4p8bIMrOSFxLCQbkSL1WW3XVXkJlLfASDRHj0jpwABgcgm/_apis/pipelines/1/runs/28723/signedlogcontent/6?urlExpires=2021-11-05T10%3A13%3A51.4472273Z&amp;urlSigningMethod=HMACV1&amp;urlSignature=G1ub7%2FcAIpgkglrsi6QPm0zHlErsheKg8mPFKan6wjQ%3D</a><br>\ndue to </p>\n<div class=\"codehilite\"><pre><span></span><code>2021-11-05T00:22:31.8356060Z Fail to upload &#39;/Users/runner/work/rust-analyzer/rust-analyzer/dist/rust-analyzer-x86_64-apple-darwin.gz&#39; due to &#39;nodename nor servname provided, or not known&#39;.\n2021-11-05T00:22:31.8396120Z System.Net.Http.HttpRequestException: nodename nor servname provided, or not known\n2021-11-05T00:22:31.8398110Z  ---&gt; System.Net.Sockets.SocketException (0xFFFDFFFF): nodename nor servname provided, or not known\n2021-11-05T00:22:31.8399680Z    at System.Net.Http.ConnectHelper.ConnectAsync(String host, Int32 port, CancellationToken cancellationToken)\n2021-11-05T00:22:31.8401210Z    --- End of inner exception stack trace ---\n2021-11-05T00:22:31.8403000Z    at GitHub.Services.Common.VssHttpRetryMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\n2021-11-05T00:22:31.8406000Z    at System.Net.Http.HttpClient.FinishSendAsyncBuffered(Task`1 sendTask, HttpRequestMessage request, CancellationTokenSource cts, Boolean disposeCts)\n2021-11-05T00:22:31.8408620Z    at GitHub.Services.WebApi.VssHttpClientBase.SendAsync(HttpRequestMessage message, HttpCompletionOption completionOption, Object userState, CancellationToken cancellationToken)\n2021-11-05T00:22:31.8412540Z    at GitHub.Services.FileContainer.Client.FileContainerHttpClient.UploadFileAsync(Int64 containerId, String itemPath, Stream fileStream, Byte[] contentId, Int64 fileLength, Boolean isGzipped, Guid scopeIdentifier, CancellationToken cancellationToken, Int32 chunkSize, Int32 chunkRetryTimes, Boolean uploadFirstChunk, Object userState)\n2021-11-05T00:22:31.8417330Z    at GitHub.Services.FileContainer.Client.FileContainerHttpClient.UploadFileAsync(Int64 containerId, String itemPath, Stream fileStream, Guid scopeIdentifier, CancellationToken cancellationToken, Int32 chunkSize, Boolean uploadFirstChunk, Object userState, Boolean compressStream)\n2021-11-05T00:22:31.8421190Z    at GitHub.Runner.Plugins.Artifact.FileContainerServer.UploadAsync(RunnerActionPluginExecutionContext context, Int32 uploaderId, CancellationToken token)\n2021-11-05T00:22:31.8423060Z File upload complete.\n2021-11-05T00:22:31.8426460Z Uploaded &#39;0&#39; bytes from &#39;/Users/runner/work/rust-analyzer/rust-analyzer/dist&#39; to server\n2021-11-05T00:23:01.9255550Z ##[error]nodename nor servname provided, or not known\n2021-11-05T00:23:01.9408420Z ##[error]Exit code 1 returned from process: file name &#39;/Users/runner/runners/2.284.0/bin/Runner.PluginHost&#39;, arguments &#39;action &quot;GitHub.Runner.Plugins.Artifact.PublishArtifact, Runner.Plugins&quot;&#39;.\n</code></pre></div>\n<p>Feels odd and random, but no proper idea on what's happening. Could it be some ssl troubles?</p>",
        "id": 260386638,
        "sender_full_name": "Kirill Bulatov",
        "timestamp": 1636107348
    },
    {
        "content": "<p>I've triggered a re-run</p>",
        "id": 260390586,
        "sender_full_name": "Laurențiu",
        "timestamp": 1636109680
    },
    {
        "content": "<p>That worked, thanks a lot.</p>\n<p>So, just a random thing, good, I'll wait a day more before alerting next time <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 260394393,
        "sender_full_name": "Kirill Bulatov",
        "timestamp": 1636112441
    },
    {
        "content": "<p>No, it's good that you've spotted it. Are you running the nightlies?</p>",
        "id": 260394838,
        "sender_full_name": "Laurențiu",
        "timestamp": 1636112816
    },
    {
        "content": "<p>I wonder if we should add exponential back-off to our nightly publishing?</p>",
        "id": 260396704,
        "sender_full_name": "matklad",
        "timestamp": 1636114122
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"203546\">Laurențiu</span> <a href=\"#narrow/stream/185405-t-compiler.2Frust-analyzer/topic/nightly.20release.20broken.3F/near/260394838\">said</a>:</p>\n<blockquote>\n<p>No, it's good that you've spotted it. Are you running the nightlies?</p>\n</blockquote>\n<p>Yes, for a year at least.</p>",
        "id": 260421591,
        "sender_full_name": "Kirill Bulatov",
        "timestamp": 1636126622
    },
    {
        "content": "<p>The last two nightly releases failed again, yesterday cause of a network error in the aarch64-apple-darwin dist, and today because of the same as posted above again</p>",
        "id": 260969576,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1636539662
    },
    {
        "content": "<p>Also with the aarch64-apple-darwin dist</p>",
        "id": 260969613,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1636539683
    },
    {
        "content": "<p>I just restarted it, thanks for spotting</p>",
        "id": 260969955,
        "sender_full_name": "Laurențiu",
        "timestamp": 1636539910
    },
    {
        "content": "<p>Seems like that target runner is working not so well on github the past days?</p>",
        "id": 260969992,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1636539943
    },
    {
        "content": "<p>Last three times, the very same target fails due to network, rather odd.<br>\nWe could mask the issue by adding partial restarts on failures like these.</p>",
        "id": 260976079,
        "sender_full_name": "Kirill Bulatov",
        "timestamp": 1636543475
    },
    {
        "content": "<p>We should add some kind of failure restart I think ye, iirc we already had the problem that the publishing step partially failed so that VSCode pulled the new client but was unable to pull the new server as that wasn't published which then soft-locked people's r-a until we published a new nightly. Guarding against that would be nice thing.</p>",
        "id": 261003329,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1636557097
    },
    {
        "content": "<p>can we kick nightly again it broke again :(</p>",
        "id": 262162642,
        "sender_full_name": "jhgg",
        "timestamp": 1637383131
    },
    {
        "content": "<p>I should've fixed it earlier, and it seems to work for me again</p>",
        "id": 262175003,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1637402859
    },
    {
        "content": "<p>That message is older, though.</p>",
        "id": 262175488,
        "sender_full_name": "Laurențiu",
        "timestamp": 1637403468
    },
    {
        "content": "<p>I also re-ran the release workflow (didn't notice you already did it)</p>",
        "id": 262175538,
        "sender_full_name": "Laurențiu",
        "timestamp": 1637403514
    },
    {
        "content": "<p>It's good that our GitHub upload action retries, the server closes the connection or return 500 very often.</p>",
        "id": 262175869,
        "sender_full_name": "Laurențiu",
        "timestamp": 1637403853
    },
    {
        "content": "<p>Looks like github changed something for the apple runners? For the last two nightlies , both apple jobs failed with the same error <a href=\"https://github.com/rust-analyzer/rust-analyzer/runs/4527916750?check_suite_focus=true\">https://github.com/rust-analyzer/rust-analyzer/runs/4527916750?check_suite_focus=true</a></p>",
        "id": 264984973,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1639561493
    },
    {
        "content": "<p><a href=\"https://github.com/actions/virtual-environments/issues/4060\">https://github.com/actions/virtual-environments/issues/4060</a></p>",
        "id": 264985557,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1639561902
    },
    {
        "content": "<p>Oh, I think I know where that comes from</p>",
        "id": 264995936,
        "sender_full_name": "Laurențiu",
        "timestamp": 1639567681
    },
    {
        "content": "<p>I'll put up a PR</p>",
        "id": 264995953,
        "sender_full_name": "Laurențiu",
        "timestamp": 1639567683
    },
    {
        "content": "<p>Heads-up: we now have this nice little button in the GitHub UI:</p>\n<p><a href=\"/user_uploads/4715/Iyo6xQzdVHs6CaJgHkGnnNTD/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/Iyo6xQzdVHs6CaJgHkGnnNTD/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/Iyo6xQzdVHs6CaJgHkGnnNTD/image.png\"></a></div>",
        "id": 264999331,
        "sender_full_name": "Laurențiu",
        "timestamp": 1639569802
    }
]