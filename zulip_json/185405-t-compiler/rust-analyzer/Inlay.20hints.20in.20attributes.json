[
    {
        "content": "<p>So interestingly enough, syn does lose some information in a very simple identity macro here <a href=\"/user_uploads/4715/Q0ADvjKFkEqFqdrgrveGStYP/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/Q0ADvjKFkEqFqdrgrveGStYP/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/Q0ADvjKFkEqFqdrgrveGStYP/image.png\"></a></div>",
        "id": 255087451,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1632763881
    },
    {
        "content": "<p>Macro definitions:<br>\n<a href=\"/user_uploads/4715/QXz6Ah7LFn4TzPaueioGJW-T/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/QXz6Ah7LFn4TzPaueioGJW-T/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/QXz6Ah7LFn4TzPaueioGJW-T/image.png\"></a></div>",
        "id": 255087465,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1632763887
    },
    {
        "content": "<p>Now this might be on me doing an incorrect assumption about the tokens though in the node descension</p>",
        "id": 255087678,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1632763961
    },
    {
        "content": "<p>forgot to add chain hints, but they also work in the first two but not the last one</p>",
        "id": 255087771,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1632763998
    },
    {
        "content": "<p>syn is full of <code>set_span</code>, apparently</p>",
        "id": 255089926,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1632764866
    },
    {
        "content": "<p>So I guess first step would be to implement those functions and then take another look at the problem</p>",
        "id": 255090386,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1632765011
    },
    {
        "content": "<p>working on that</p>",
        "id": 255090701,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1632765150
    },
    {
        "content": "<p><span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 255090868,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1632765233
    },
    {
        "content": "<p>Though I think that isn't the issue we are running into here specifically</p>",
        "id": 255091857,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1632765598
    },
    {
        "content": "<p><a href=\"https://github.com/rust-analyzer/rust-analyzer/pull/10378\">https://github.com/rust-analyzer/rust-analyzer/pull/10378</a> landed</p>",
        "id": 255095094,
        "sender_full_name": "Jonas Schievink  [he/him]",
        "timestamp": 1632766726
    },
    {
        "content": "<p>Ye it doesn't fix it it unfortunately</p>",
        "id": 255103593,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1632769896
    },
    {
        "content": "<p>Heh I think part of the problem is the fact that we only store one <code>TokenId</code> per delimiter</p>",
        "id": 255117790,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1632775849
    },
    {
        "content": "<p>At least judging from the debugging I'm doing it seems that that might be a problem here, which would also make some sense since both chaining hints and parameter hints work by descending nodes that end in a parentheses</p>",
        "id": 255117958,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1632775921
    },
    {
        "content": "<p>So I just realized something fun, this actually does work <a href=\"/user_uploads/4715/QG-WOXK1h2MDzxMGdA8ziCbn/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/QG-WOXK1h2MDzxMGdA8ziCbn/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/QG-WOXK1h2MDzxMGdA8ziCbn/image.png\"></a></div>",
        "id": 258967940,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1635172663
    },
    {
        "content": "<p>In fact, this worked with <span class=\"user-mention silent\" data-user-id=\"211727\">Jonas Schievink  [he/him]</span>'s PR <a href=\"https://github.com/rust-lang/ra/issues/10378\">ra#10378</a>, it just did not work for me, because the PR only implemented the span methods for 1.56, I was running the stable compiler at that point though which means I didn't run the fixed proc-macro server version <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 258968128,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1635172743
    }
]