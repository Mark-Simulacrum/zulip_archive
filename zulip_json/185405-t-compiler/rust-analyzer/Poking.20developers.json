[
    {
        "content": "<p>I think we don't control <code>REV</code> for rustup-bundled builds, and this makes <a href=\"https://github.com/rust-analyzer/rust-analyzer/pull/9937\">https://github.com/rust-analyzer/rust-analyzer/pull/9937</a> annoying for users installing it that way. Maybe it's not worth the trouble since we've got more than enough bugs already? <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 274708221,
        "sender_full_name": "Laurențiu",
        "timestamp": 1646841557
    },
    {
        "content": "<p>This definitelly shouldn't trigger for rustup builds. </p>\n<p>It still seem valuable to do this for from source builtds: ideally, this features should lead to 0 additional bugs open; instead, the devs should just fix the darn panics :)</p>",
        "id": 274708706,
        "sender_full_name": "matklad",
        "timestamp": 1646841706
    },
    {
        "content": "<p>I can't find it any more, but I think I saw someone complain about it</p>",
        "id": 274715058,
        "sender_full_name": "Laurențiu",
        "timestamp": 1646844222
    },
    {
        "content": "<p>Maybe check <code>CFG_RELEASE_CHANNEL</code>?  It is set to \"dev\" for source builds.</p>",
        "id": 274716976,
        "sender_full_name": "bjorn3",
        "timestamp": 1646844957
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>~/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/rust-analyzer --version                                                                                                                       ✔\nrust-analyzer 5fae65d 2022-03-08 dev\n</code></pre></div>",
        "id": 274719013,
        "sender_full_name": "Laurențiu",
        "timestamp": 1646845692
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">channel</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">env</span>::<span class=\"n\">var</span><span class=\"p\">(</span><span class=\"s\">\"RUST_ANALYZER_CHANNEL\"</span><span class=\"p\">).</span><span class=\"n\">unwrap_or_else</span><span class=\"p\">(</span><span class=\"o\">|</span><span class=\"n\">_</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"s\">\"dev\"</span><span class=\"p\">.</span><span class=\"n\">to_string</span><span class=\"p\">());</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 274719168,
        "sender_full_name": "Laurențiu",
        "timestamp": 1646845754
    },
    {
        "content": "<p>Okay, looks like this isn't set</p>",
        "id": 274719179,
        "sender_full_name": "Laurențiu",
        "timestamp": 1646845760
    }
]