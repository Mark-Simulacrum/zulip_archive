[
    {
        "content": "<p>I'm currently working on a way to look up item attributes applied to the code item, including ones derived from the parent items.<br>\nShort-term goal is to check for <code>allow(..)</code> attributes in items case diagnostic, but the long-term goal is to provide an interface to make this kind of information to any <code>hir</code> item that needs it.</p>\n<p>So far I'm struggling with finding a way to find a next parent item which has attributes, e.g. `function -&gt; function -&gt; impl block -&gt; mod -&gt; mod -&gt; crate root\".</p>\n<p>Code example: <a href=\"https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2018&amp;gist=259aadbe3bd5af7344c3c37302ae2d27\">https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2018&amp;gist=259aadbe3bd5af7344c3c37302ae2d27</a></p>\n<p>In this example, given the <code>InnerData</code> structure ID, I would want to sequentially get the IDs of the following items: <code>inner_foo</code> -&gt; <code>foo</code> -&gt; <code>impl Data</code> -&gt; <code>b</code> -&gt; <code>a</code> -&gt; <code>crate root</code>.<br>\nAnd of course, this structure can be split over multiple files, if that's important.</p>\n<p>Ideally, I would want to be able to do the least possible amount of work getting the parent, so that traversal could be efficiently finished once required item is found.</p>\n<p>Do you have any hints how to achieve this (or at least direction to think in)?</p>",
        "id": 215205568,
        "sender_full_name": "popzxc",
        "timestamp": 1604169625
    }
]