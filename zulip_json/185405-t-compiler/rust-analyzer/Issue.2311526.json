[
    {
        "content": "<p>Hey,<br>\nI was having a look at this issue: <a href=\"https://github.com/rust-analyzer/rust-analyzer/issues/11526\">https://github.com/rust-analyzer/rust-analyzer/issues/11526</a></p>\n<p>While trying to understand more, I noticed:<br>\n<a href=\"https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/ide_assists/src/utils.rs#L112\">https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/ide_assists/src/utils.rs#L112</a></p>\n<p>Over here <code>i</code> prints correctly as <code>fn a(a: *const ::core::primitive::i32)</code><br>\nWhile <code>sema.source(i)?.value</code> printed <code>fn a(a: *const::core::primitive::i32);</code><br>\nHinting that there is some problem in this conversion</p>\n<p>Then over <a href=\"https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/hir_def/src/src.rs#L23\">here</a><br>\nroot also prints similar to what <code>sema.source(i)?.value</code> printed, this comes from <code>parse_or_expand</code>, I tried to dig in more, but I feel I am kinda lost, can anyone help me point out where should I exactly be looking for this conversion?</p>",
        "id": 278452876,
        "sender_full_name": "Fenil Jain",
        "timestamp": 1649574544
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 278458926,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1649584121
    },
    {
        "content": "<p>I <em>think</em> the problem is here <a href=\"https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/ide_db/src/path_transform.rs#L213\">https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/ide_db/src/path_transform.rs#L213</a>, we reconstruct paths completely since we need to find paths that are reachable from that location again</p>",
        "id": 278459107,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1649584383
    },
    {
        "content": "<p>So the code there needs to check if where we insert the path requires spaces or leading colons to not clash with syntax</p>",
        "id": 278459124,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1649584420
    },
    {
        "content": "<p>Hey, I was looking at the code you pointed out, I left a bunch of print statements to understand how exactly data is flowing through the function, tho none of them printed indicating maybe this function is never called <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 278565867,
        "sender_full_name": "Fenil Jain",
        "timestamp": 1649688975
    },
    {
        "content": "<p>ah sorry I assumed the assist used that, will check again later</p>",
        "id": 278570937,
        "sender_full_name": "Lukas Wirth",
        "timestamp": 1649690799
    }
]