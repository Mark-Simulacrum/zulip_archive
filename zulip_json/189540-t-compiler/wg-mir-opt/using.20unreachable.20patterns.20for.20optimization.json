[
    {
        "content": "<p>Is there a tracking issue for using knowledge that a pattern is unreachable to perform optimizations? I was just checking the generated assembly for a function that I was trying to optimize and was surprised that it wasn't done already.</p>\n<p><a href=\"https://godbolt.org/z/xaxqTzzoo\">Godbolt</a> (top is with unreachable branch present generating worse assembly)</p>",
        "id": 264552528,
        "sender_full_name": "Jacob Pratt",
        "timestamp": 1639215215
    },
    {
        "content": "<p>I'm working on an patch that eliminates some unreachable stuff at monomorphization-time</p>",
        "id": 264554750,
        "sender_full_name": "nox",
        "timestamp": 1639218422
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/compare/nox/i-need-a-niche-but-i-have-no-dog#diff-74a0e452d84e41c5e5df5307518b967e87da0ad574c67a55b2d772800bc870f8\">https://github.com/rust-lang/rust/compare/nox/i-need-a-niche-but-i-have-no-dog#diff-74a0e452d84e41c5e5df5307518b967e87da0ad574c67a55b2d772800bc870f8</a></p>",
        "id": 264554756,
        "sender_full_name": "nox",
        "timestamp": 1639218442
    },
    {
        "content": "<p>There is also the MIR pass <code>unreachable_enum_branching</code> that already exists</p>",
        "id": 264554759,
        "sender_full_name": "nox",
        "timestamp": 1639218458
    },
    {
        "content": "<p>Oh, you mean unreachable as in \"rustc is too dumb to realise the match is already exhaustive and the catch all arm is useless\", sorry</p>",
        "id": 264554837,
        "sender_full_name": "nox",
        "timestamp": 1639218536
    },
    {
        "content": "<p>Yeah this isn't with enums, which I would imagine don't have this issue.</p>",
        "id": 264585369,
        "sender_full_name": "Jacob Pratt",
        "timestamp": 1639257597
    }
]