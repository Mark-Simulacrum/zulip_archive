[
    {
        "content": "<p><em>I originally asked this in <a class=\"stream\" data-stream-id=\"182449\" href=\"/#narrow/stream/182449-t-compiler.2Fhelp\">#t-compiler/help</a>, but I realized it might be a better fit for wg-mir-opt since it's optimization-adjacent.</em></p>\n<p>I'm working on a PR (<a href=\"https://github.com/rust-lang/rust/issues/83174\">#83174</a>) where I need to find all the use sites (e.g., <code>Location</code>s) of a <code>Local</code>. <span class=\"user-mention silent\" data-user-id=\"124288\">oli</span> said there is an existing pass for that, but they don't remember which one it is an suggested I look through the impls <a href=\"https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/mir/visit/trait.Visitor.html\">here</a>. I found several that seem close to what I want, but the one that seems like it would fully cover my use case is <a href=\"https://doc.rust-lang.org/nightly/nightly-rustc/rustc_mir/borrow_check/type_check/liveness/polonius/struct.UseFactsExtractor.html\">in the <code>rustc_mir::borrow_check::type_check::liveness::polonius</code> module</a>, and it is private to the <code>rustc_mir::borrow_check::type_check::liveness</code> module, which I don't think I can access from where I want to run this pass.</p>\n<p>Is it okay to make it <code>pub(in rustc_mir::borrow_check)</code>; or, is there a better pass I should be using?</p>\n<p>Thanks!</p>",
        "id": 252207511,
        "sender_full_name": "Noah Lev",
        "timestamp": 1630951666
    }
]