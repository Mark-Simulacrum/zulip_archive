[
    {
        "content": "<p>I think it might be a good idea to move the NLL warnings to deny; at least on Rust 2018... wdyt?</p>\n<p>cc <span class=\"user-mention\" data-user-id=\"116113\">@lqd</span></p>",
        "id": 171789079,
        "sender_full_name": "centril",
        "timestamp": 1564159885
    },
    {
        "content": "<p>interesting thought, cc <span class=\"user-group-mention\" data-user-group-id=\"491\">@WG-nll</span></p>",
        "id": 171789329,
        "sender_full_name": "lqd",
        "timestamp": 1564160089
    },
    {
        "content": "<p>I can't remember if we had outstanding or planned tasks, beyond the questions of \"should we do both 2015 and 2018 at the same time\"</p>",
        "id": 171789415,
        "sender_full_name": "lqd",
        "timestamp": 1564160146
    },
    {
        "content": "<p>seems like 2018 first from lang's meeting in <a href=\"https://github.com/rust-lang/rust/issues/57895#issuecomment-477740630\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/57895#issuecomment-477740630\">march</a></p>",
        "id": 171789507,
        "sender_full_name": "lqd",
        "timestamp": 1564160186
    },
    {
        "content": "<p>(Matthew will remember more of the blockers for this)</p>",
        "id": 171789798,
        "sender_full_name": "lqd",
        "timestamp": 1564160375
    },
    {
        "content": "<p>I'm thinking that it should be a minimal conservative next step since people using Rust 2018 likely saw migration errors when they switched editions</p>",
        "id": 171789801,
        "sender_full_name": "centril",
        "timestamp": 1564160378
    },
    {
        "content": "<p>I would rather not have edition differences.</p>",
        "id": 171789888,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1564160412
    },
    {
        "content": "<p>We can then follow up in two orthogonal directions:<br>\n- Move it to an Error on Rust 2018<br>\n- Move it to Deny on 2015</p>",
        "id": 171789922,
        "sender_full_name": "centril",
        "timestamp": 1564160441
    },
    {
        "content": "<p>for technical reasons or process reasons (eg speeding up the process) Matthew ?</p>",
        "id": 171789925,
        "sender_full_name": "lqd",
        "timestamp": 1564160448
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span>  can you elaborate on why not?</p>",
        "id": 171789928,
        "sender_full_name": "centril",
        "timestamp": 1564160450
    },
    {
        "content": "<p>Tech-wise it seems like a trivial change to <a href=\"https://github.com/rust-lang/rust/pull/60914/files\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/60914/files\">https://github.com/rust-lang/rust/pull/60914/files</a> would do?</p>",
        "id": 171789969,
        "sender_full_name": "centril",
        "timestamp": 1564160482
    },
    {
        "content": "<p>Because (a) we don't handle macros correctly and (b) I don't think that we should be abusing editions as a migration system.</p>",
        "id": 171790037,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1564160524
    },
    {
        "content": "<p>users can't manually deny/allow these warnings yet, right ?</p>",
        "id": 171790116,
        "sender_full_name": "lqd",
        "timestamp": 1564160578
    },
    {
        "content": "<p>ah it's not a lint</p>",
        "id": 171790137,
        "sender_full_name": "centril",
        "timestamp": 1564160594
    },
    {
        "content": "<p>(I feel some 2015 users asked for that recently-ish)</p>",
        "id": 171790142,
        "sender_full_name": "lqd",
        "timestamp": 1564160603
    },
    {
        "content": "<p>They're not lints, so no.</p>",
        "id": 171790150,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1564160610
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> asked for making them allow, or making them deny?</p>",
        "id": 171790162,
        "sender_full_name": "centril",
        "timestamp": 1564160625
    },
    {
        "content": "<p>It should not be possible to <code>allow</code> them, if we do make them lints.</p>",
        "id": 171790250,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1564160687
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"126931\">@centril</span> my recollection is they wanted to deny them, because it showed a soundness issue they'd rather not have</p>",
        "id": 171790255,
        "sender_full_name": "lqd",
        "timestamp": 1564160698
    },
    {
        "content": "<p>if they can't allow them, what's the difference between making them lints and hard errors ?</p>",
        "id": 171790284,
        "sender_full_name": "lqd",
        "timestamp": 1564160727
    },
    {
        "content": "<p>heh... we could have used the minimum lint infrastructure for this... =P</p>",
        "id": 171790288,
        "sender_full_name": "centril",
        "timestamp": 1564160733
    },
    {
        "content": "<p>(to make it a lint that cannot be allowed)</p>",
        "id": 171790294,
        "sender_full_name": "centril",
        "timestamp": 1564160748
    },
    {
        "content": "<p>To have warn/deny/forbid</p>",
        "id": 171790361,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1564160776
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> --cap-lints is also relevant here</p>",
        "id": 171790372,
        "sender_full_name": "centril",
        "timestamp": 1564160794
    },
    {
        "content": "<p>true</p>",
        "id": 171790378,
        "sender_full_name": "lqd",
        "timestamp": 1564160799
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> so the warning ignores --cap-lints also then?</p>",
        "id": 171790380,
        "sender_full_name": "centril",
        "timestamp": 1564160805
    },
    {
        "content": "<p>I don't think we had expected people to opt into the errors early on 2015, rather feared people would be upset their code started breaking :)</p>",
        "id": 171790421,
        "sender_full_name": "lqd",
        "timestamp": 1564160865
    },
    {
        "content": "<p>It respects --cap-lints warn, and treats --cap-lints allow as warn, I guess.</p>",
        "id": 171790434,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1564160875
    },
    {
        "content": "<p>ah; so it's basically exactly as the min-lint-levels infrastructure then</p>",
        "id": 171790502,
        "sender_full_name": "centril",
        "timestamp": 1564160908
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> should we perhaps try another crater run and see if anything changed since 2 months ago + if the blog post had any impact?</p>",
        "id": 171790567,
        "sender_full_name": "centril",
        "timestamp": 1564160967
    },
    {
        "content": "<p>I'm looking for something we can do to make some progress ^^</p>",
        "id": 171790576,
        "sender_full_name": "centril",
        "timestamp": 1564160978
    },
    {
        "content": "<p>Maybe it doesn't matter, if someone really wants to use cap-lints allow</p>",
        "id": 171790577,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1564160980
    },
    {
        "content": "<p>I think a lot of what we saw in the run was old crates, which should still fail today ?</p>",
        "id": 171790607,
        "sender_full_name": "lqd",
        "timestamp": 1564161002
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span>  yeah, and we'll have hard errors \"soon enough\" anyway</p>",
        "id": 171790659,
        "sender_full_name": "lqd",
        "timestamp": 1564161031
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> sure; but I would like to see if perhaps we've gotten closer to \"it is acceptable to make it a hard error\"</p>",
        "id": 171790698,
        "sender_full_name": "centril",
        "timestamp": 1564161069
    },
    {
        "content": "<p>Do y'all feel we are there yet?</p>",
        "id": 171790716,
        "sender_full_name": "centril",
        "timestamp": 1564161085
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"126931\">@centril</span> I mean, we could for sure</p>",
        "id": 171790738,
        "sender_full_name": "lqd",
        "timestamp": 1564161100
    },
    {
        "content": "<p>I don't expect a significant reduction in abandoned repos with an outdated URL dependency</p>",
        "id": 171790740,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1564161100
    },
    {
        "content": "<p>me neither tbh</p>",
        "id": 171790749,
        "sender_full_name": "lqd",
        "timestamp": 1564161108
    },
    {
        "content": "<p>I'm getting the sense that you don't think another year would change that substantially?</p>",
        "id": 171790804,
        "sender_full_name": "centril",
        "timestamp": 1564161129
    },
    {
        "content": "<p>but maybe there could be an effort of making PRs (seems like a tall order but you never know) to some crates I dunno</p>",
        "id": 171790806,
        "sender_full_name": "lqd",
        "timestamp": 1564161131
    },
    {
        "content": "<p>Maybe the <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> situation is better though.</p>",
        "id": 171790814,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1564161143
    },
    {
        "content": "<blockquote>\n<p>abandoned repos with an outdated URL dependency</p>\n</blockquote>\n<p>I largely don't care about abandonware ^^</p>",
        "id": 171790840,
        "sender_full_name": "centril",
        "timestamp": 1564161166
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span>  do you happen to remember if we have an issue regarding the work to do with macros, if any ? (I'm guessing you're on your phone, if so, I can search myself if you have a couple \"keywords\" from the top of your head)</p>",
        "id": 171790843,
        "sender_full_name": "lqd",
        "timestamp": 1564161169
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"126931\">@centril</span> I can look at the \"old\" results we have, sort out some of the more active crates, just to have some numbers wrt \"abandonware\" and so on</p>",
        "id": 171790971,
        "sender_full_name": "lqd",
        "timestamp": 1564161256
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> the crater queue is also empty atm so I think we can run another crater run in parallel</p>",
        "id": 171791003,
        "sender_full_name": "centril",
        "timestamp": 1564161304
    },
    {
        "content": "<p>true as well</p>",
        "id": 171791035,
        "sender_full_name": "lqd",
        "timestamp": 1564161331
    },
    {
        "content": "<p>I'm not expecting a big change tbh</p>",
        "id": 171791041,
        "sender_full_name": "lqd",
        "timestamp": 1564161341
    },
    {
        "content": "<p>oh please don't start crater runs just yet</p>",
        "id": 171791046,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1564161346
    },
    {
        "content": "<p>I need to deploy some changes</p>",
        "id": 171791052,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1564161350
    },
    {
        "content": "<p>(and yes, I have notifications every time someone writes crater on zulip :P)</p>",
        "id": 171791117,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1564161374
    },
    {
        "content": "<p>I was gonna ask :p</p>",
        "id": 171791124,
        "sender_full_name": "lqd",
        "timestamp": 1564161389
    },
    {
        "content": "<p>LOL :D</p>",
        "id": 171791137,
        "sender_full_name": "centril",
        "timestamp": 1564161398
    },
    {
        "content": "<p>Well if it's just a lint level difference, then I think it can just be hamdled by the lint level infrastructure.</p>",
        "id": 171791189,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1564161453
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> if you wanted to do both editions at the same time, we'd have to let 2015 as-is for a little while more</p>",
        "id": 171791357,
        "sender_full_name": "lqd",
        "timestamp": 1564161596
    },
    {
        "content": "<p>right ?</p>",
        "id": 171791392,
        "sender_full_name": "lqd",
        "timestamp": 1564161603
    },
    {
        "content": "<p>at least for a couple more releases, that is</p>",
        "id": 171791461,
        "sender_full_name": "lqd",
        "timestamp": 1564161663
    },
    {
        "content": "<p>cargo feature idea: suggest adding dependency replacements to cargo.toml for package versions known to be broken on your compiler version</p>",
        "id": 171791471,
        "sender_full_name": "Cam Cope",
        "timestamp": 1564161671
    },
    {
        "content": "<p>or opening issues on the repos we know will break, maybe PRs for the popular dependencies only requiring a minor rev update</p>",
        "id": 171791626,
        "sender_full_name": "lqd",
        "timestamp": 1564161804
    },
    {
        "content": "<p>(but if they're indeed inactive, maybe it wouldn't matter much anyway)</p>",
        "id": 171791710,
        "sender_full_name": "lqd",
        "timestamp": 1564161854
    },
    {
        "content": "<p>IMO our focus should first be on resolving <a href=\"https://github.com/rust-lang/rust/issues/34596\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/34596\">#34596</a> (in a manner acceptable to community/teams at large) before we make waves here</p>",
        "id": 171791728,
        "sender_full_name": "pnkfelix",
        "timestamp": 1564161880
    },
    {
        "content": "<p>(also we should be having this conversation with niko and felix present as well :)</p>",
        "id": 171791735,
        "sender_full_name": "lqd",
        "timestamp": 1564161884
    },
    {
        "content": "<p>(But I’m not really here)</p>",
        "id": 171791743,
        "sender_full_name": "pnkfelix",
        "timestamp": 1564161896
    },
    {
        "content": "<p>you need to enjoy your time off <span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> :)</p>",
        "id": 171791778,
        "sender_full_name": "lqd",
        "timestamp": 1564161940
    },
    {
        "content": "<p>interesting issue indeed</p>",
        "id": 171791839,
        "sender_full_name": "lqd",
        "timestamp": 1564161980
    },
    {
        "content": "<p>@lqd yeah, my idea is for the cases after all of that has been done, and you've either got an old cargo.lock or overly constrained transitive dependencies</p>",
        "id": 171791843,
        "sender_full_name": "Cam Cope",
        "timestamp": 1564161985
    },
    {
        "content": "<p>and it would prevent people from getting weird errors that have known fixes</p>",
        "id": 171791894,
        "sender_full_name": "Cam Cope",
        "timestamp": 1564162046
    },
    {
        "content": "<p>y'all can start crater runs now!</p>",
        "id": 171792022,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1564162179
    },
    {
        "content": "<p>maybe that can be an option; could be hard to be able to recommend alternative dependencies in a meaningful/useful way I dunno; seems unlikely we'd require this feature to change lints levels or have errors ?</p>",
        "id": 171792109,
        "sender_full_name": "lqd",
        "timestamp": 1564162216
    },
    {
        "content": "<p>I'm just thinking of a basic blacklist of package versions for each compiler version, and replacement recommendations if a fix was made. only for widely-used packages like url though</p>",
        "id": 171792447,
        "sender_full_name": "Cam Cope",
        "timestamp": 1564162488
    },
    {
        "content": "<p>at the very least I'll look at gathering more numbers about the previous results <span class=\"user-mention\" data-user-id=\"126931\">@centril</span>  (I think craterbot missed some commands while it was down, so the queue might not be <em>really</em> empty) -- until we know how to proceed wrt the lint, the topic of <a href=\"https://github.com/rust-lang/rust/issues/34596\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/34596\">#34596</a>, the possible remaining work on macros, which editions to do the change on, and so on</p>",
        "id": 171792750,
        "sender_full_name": "lqd",
        "timestamp": 1564162704
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> Alright; I'll reopen your PR for now and start crater</p>",
        "id": 171792972,
        "sender_full_name": "centril",
        "timestamp": 1564162891
    },
    {
        "content": "<p>under \"can't hurt\"</p>",
        "id": 171792975,
        "sender_full_name": "centril",
        "timestamp": 1564162903
    },
    {
        "content": "<p>Bummer, merge conflicts... will make a new PR instead then</p>",
        "id": 171793167,
        "sender_full_name": "centril",
        "timestamp": 1564163041
    },
    {
        "content": "<p>(If it’s not urgent, ie not right now, I can also take care of it; but it’s not super complicated as you’ve seen :)</p>",
        "id": 171793437,
        "sender_full_name": "lqd",
        "timestamp": 1564163222
    },
    {
        "content": "<p>Yeah, seems easy enough</p>",
        "id": 171793801,
        "sender_full_name": "centril",
        "timestamp": 1564163512
    },
    {
        "content": "<p>and not urgent either ^^</p>",
        "id": 171793845,
        "sender_full_name": "centril",
        "timestamp": 1564163524
    },
    {
        "content": "<blockquote>\n<p>IMO our focus should first be on resolving <a href=\"https://github.com/rust-lang/rust/issues/34596\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/34596\">#34596</a> (in a manner acceptable to community/teams at large) before we make waves here</p>\n</blockquote>\n<p>I was told some time ago that future-compat lints <em>are</em> shown when compiling dependencies. have I been lied to?</p>",
        "id": 171798639,
        "sender_full_name": "RalfJ",
        "timestamp": 1564165868
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120791\">@RalfJ</span> They most certainly are not</p>",
        "id": 171801098,
        "sender_full_name": "centril",
        "timestamp": 1564167705
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"126931\">@centril</span> some statistics about the root regressions of full NLLs <a href=\"https://hackmd.io/9oHJIGbFQ9WTR2hpLHO1DQ?view\" target=\"_blank\" title=\"https://hackmd.io/9oHJIGbFQ9WTR2hpLHO1DQ?view\">here</a> for the crates published on <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a></p>",
        "id": 172127698,
        "sender_full_name": "lqd",
        "timestamp": 1564580175
    },
    {
        "content": "<p>I'd like a crater run to be started to check what the impact of denying nll migration warnings just on rust 2018 is</p>",
        "id": 174976630,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1567692386
    },
    {
        "content": "<p>the latest crater run denying on both 2015 and 2018 showed a bunch of regressions (1600+), and there are concerns (for example mines, see #release on discord) about breaking that many crates</p>",
        "id": 174976740,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1567692467
    },
    {
        "content": "<p>if most of those of those regressions only happen on 2015 crates it might make a lot of sense to deny the warnings on 2018 asap (to prevent new regressions from appearing) and later discuss what to do with 2015</p>",
        "id": 174976861,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1567692542
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"126931\">@centril</span> <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span></p>",
        "id": 174976919,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1567692587
    },
    {
        "content": "<p>I would be fine with that, yes</p>",
        "id": 174979510,
        "sender_full_name": "simulacrum",
        "timestamp": 1567694090
    },
    {
        "content": "<p>that sounds smart</p>",
        "id": 174980141,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694403
    },
    {
        "content": "<p>I was thining that we should be making it a priority to tie this up</p>",
        "id": 174980148,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694410
    },
    {
        "content": "<p>and I agree that's a good step to take</p>",
        "id": 174980155,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694416
    },
    {
        "content": "<p>It sounds like <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> was against that historically based on Discord discussion</p>",
        "id": 174980215,
        "sender_full_name": "simulacrum",
        "timestamp": 1567694456
    },
    {
        "content": "<p>(to avoid edition divergence)</p>",
        "id": 174980235,
        "sender_full_name": "simulacrum",
        "timestamp": 1567694468
    },
    {
        "content": "<p>FWIW we can probably fairly easily determine which edition they are in w/o a crater run</p>",
        "id": 174980270,
        "sender_full_name": "simulacrum",
        "timestamp": 1567694487
    },
    {
        "content": "<p>I _suspect_ most are 2015</p>",
        "id": 174980304,
        "sender_full_name": "simulacrum",
        "timestamp": 1567694501
    },
    {
        "content": "<p>I think another possible step is to move the lint to deny by default on all editions</p>",
        "id": 174980382,
        "sender_full_name": "simulacrum",
        "timestamp": 1567694529
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> it's not really a lint</p>",
        "id": 174980422,
        "sender_full_name": "centril",
        "timestamp": 1567694561
    },
    {
        "content": "<p>well, whatever you call it, doesn't really matter</p>",
        "id": 174980443,
        "sender_full_name": "simulacrum",
        "timestamp": 1567694574
    },
    {
        "content": "<p>it is just a warning emitted unconditionally and not respecting the --cap-lints</p>",
        "id": 174980446,
        "sender_full_name": "centril",
        "timestamp": 1567694577
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> if you make it \"deny\" you make it an error everywhere</p>",
        "id": 174980467,
        "sender_full_name": "centril",
        "timestamp": 1567694587
    },
    {
        "content": "<p>we could plausibly change that</p>",
        "id": 174980480,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694594
    },
    {
        "content": "<p>i.e. migrate mode is over</p>",
        "id": 174980485,
        "sender_full_name": "centril",
        "timestamp": 1567694597
    },
    {
        "content": "<p>but in any case I think making it a hard error on 2018 as a step seems reasonable</p>",
        "id": 174980501,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694615
    },
    {
        "content": "<p>certainly at least to crater it seems good</p>",
        "id": 174980529,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694635
    },
    {
        "content": "<p>I'd personally like to go further and outright make it all hard errors everywhere</p>",
        "id": 174980585,
        "sender_full_name": "centril",
        "timestamp": 1567694652
    },
    {
        "content": "<p>since AST borrowck is a pretty bad maintenance burden atm</p>",
        "id": 174980607,
        "sender_full_name": "centril",
        "timestamp": 1567694674
    },
    {
        "content": "<p>yes, I was thinking I'd like to make it an end-of-year goal to see if we can get rid of AST borrowck</p>",
        "id": 174980632,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694699
    },
    {
        "content": "<p>Matthew's plan was for 1.40</p>",
        "id": 174980667,
        "sender_full_name": "centril",
        "timestamp": 1567694715
    },
    {
        "content": "<p>that's like... end of year, I think</p>",
        "id": 174980687,
        "sender_full_name": "centril",
        "timestamp": 1567694729
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> so people who switched to edition 2018 must have seen this warning, so I think it's safe to switch those to an error without crater also</p>",
        "id": 174980784,
        "sender_full_name": "centril",
        "timestamp": 1567694769
    },
    {
        "content": "<p>Matthew made a point re. macro hygiene tho</p>",
        "id": 174980811,
        "sender_full_name": "centril",
        "timestamp": 1567694787
    },
    {
        "content": "<p>it seems like one step might be to broadcast our intentions pretty loudly</p>",
        "id": 174980836,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694805
    },
    {
        "content": "<p>which is apt, but perhaps not too severe if on a temporary basis</p>",
        "id": 174980839,
        "sender_full_name": "centril",
        "timestamp": 1567694806
    },
    {
        "content": "<p>particularly for cases like url where there exist fixes</p>",
        "id": 174980847,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694813
    },
    {
        "content": "<p>but people need to cargo update</p>",
        "id": 174980851,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694815
    },
    {
        "content": "<p>i.e., if it comes down to a list of crates that can be fixed</p>",
        "id": 174980879,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694836
    },
    {
        "content": "<p>realistically, many of those are likely abandoned git repos, but yes</p>",
        "id": 174980882,
        "sender_full_name": "simulacrum",
        "timestamp": 1567694836
    },
    {
        "content": "<p>maybe we could also do some kind of \"email blast\" or other automated notification</p>",
        "id": 174980902,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694849
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> worth noting that we broadcasted as widely as we possibly can in <a href=\"https://blog.rust-lang.org/2019/07/04/Rust-1.36.0.html#nll-for-rust-2015\" target=\"_blank\" title=\"https://blog.rust-lang.org/2019/07/04/Rust-1.36.0.html#nll-for-rust-2015\">https://blog.rust-lang.org/2019/07/04/Rust-1.36.0.html#nll-for-rust-2015</a></p>",
        "id": 174980903,
        "sender_full_name": "centril",
        "timestamp": 1567694854
    },
    {
        "content": "<p>I don't think that's as wide as possible</p>",
        "id": 174980929,
        "sender_full_name": "simulacrum",
        "timestamp": 1567694872
    },
    {
        "content": "<p>I'm thinking a standalone blog post</p>",
        "id": 174980932,
        "sender_full_name": "simulacrum",
        "timestamp": 1567694876
    },
    {
        "content": "<p>well I suppose targeted emails is better :P</p>",
        "id": 174980935,
        "sender_full_name": "centril",
        "timestamp": 1567694879
    },
    {
        "content": "<p>confirm</p>",
        "id": 174980936,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694880
    },
    {
        "content": "<p>well, also</p>",
        "id": 174980949,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694883
    },
    {
        "content": "<p>it's about the things we say</p>",
        "id": 174980984,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694886
    },
    {
        "content": "<p>I mean that's a good 1st step :)</p>",
        "id": 174980985,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694889
    },
    {
        "content": "<p>but if we have a standalone blog post <em>and</em></p>",
        "id": 174980989,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694894
    },
    {
        "content": "<p>we advertise specific actions</p>",
        "id": 174980995,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694898
    },
    {
        "content": "<p>rethrowing my idea from #release, how bad would it be to allow those holes on MIR just for 2015?</p>",
        "id": 174981006,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1567694904
    },
    {
        "content": "<p>e.g., \"to check if you are affected, try this\"</p>",
        "id": 174981007,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694904
    },
    {
        "content": "<p>and \"here is how you fix the major things we know about\"</p>",
        "id": 174981014,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694910
    },
    {
        "content": "<p>that feels good to me</p>",
        "id": 174981021,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694914
    },
    {
        "content": "<blockquote>\n<p>rethrowing my idea from #release, how bad would it be to allow those holes on MIR just for 2015?</p>\n</blockquote>\n<p>very bad :)</p>",
        "id": 174981032,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694924
    },
    {
        "content": "<p>in partcular, it'd be hard to maintain multiple versions of the borrow checker</p>",
        "id": 174981040,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694934
    },
    {
        "content": "<p>(leaving aside the correctness concerns)</p>",
        "id": 174981047,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694940
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> did you see Felix's blog post?</p>",
        "id": 174981063,
        "sender_full_name": "centril",
        "timestamp": 1567694951
    },
    {
        "content": "<p>it has bunch of \"here's how you fix it\"</p>",
        "id": 174981073,
        "sender_full_name": "centril",
        "timestamp": 1567694961
    },
    {
        "content": "<p>I had forgotten it, but yes</p>",
        "id": 174981094,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694974
    },
    {
        "content": "<p>it's on felix's blog though, not <a href=\"http://blog.rust-lang.org\" target=\"_blank\" title=\"http://blog.rust-lang.org\">blog.rust-lang.org</a></p>",
        "id": 174981096,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1567694975
    },
    {
        "content": "<p>we can always re-broadcast that</p>",
        "id": 174981098,
        "sender_full_name": "centril",
        "timestamp": 1567694975
    },
    {
        "content": "<p>I think we would want to point into that post</p>",
        "id": 174981107,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567694983
    },
    {
        "content": "<p>(we link to Felix's blog post in the release blog post)</p>",
        "id": 174981111,
        "sender_full_name": "centril",
        "timestamp": 1567694989
    },
    {
        "content": "<p>my main point <span class=\"user-mention\" data-user-id=\"126931\">@centril</span> is that no <em>single</em> post is as loud as we can :)</p>",
        "id": 174981168,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567695004
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> yes yes, it's a good point :P</p>",
        "id": 174981182,
        "sender_full_name": "centril",
        "timestamp": 1567695015
    },
    {
        "content": "<p>but you're right that we should link to that post, definitely</p>",
        "id": 174981193,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567695026
    },
    {
        "content": "<p>I was just reminding y'alls of Felix's blog post is all :P</p>",
        "id": 174981197,
        "sender_full_name": "centril",
        "timestamp": 1567695029
    },
    {
        "content": "<p>I'm planning to try and followup with all or at least most of the root regressions and such over the next week or two to try and get them fixed (PRs, etc.)</p>",
        "id": 174981205,
        "sender_full_name": "simulacrum",
        "timestamp": 1567695034
    },
    {
        "content": "<p>that does leave the long tail of ~1000 or so dependent crates</p>",
        "id": 174981236,
        "sender_full_name": "simulacrum",
        "timestamp": 1567695058
    },
    {
        "content": "<p>(most of which are github repos)</p>",
        "id": 174981254,
        "sender_full_name": "simulacrum",
        "timestamp": 1567695069
    },
    {
        "content": "<p>are there particular holes which had fewer regressions?</p>",
        "id": 174981276,
        "sender_full_name": "centril",
        "timestamp": 1567695080
    },
    {
        "content": "<p>maybe we can close those specifically in the interim</p>",
        "id": 174981288,
        "sender_full_name": "centril",
        "timestamp": 1567695089
    },
    {
        "content": "<p>can we make a gist with the high-levle bullet points and plan? I'd like to run this by core team</p>",
        "id": 174981297,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567695095
    },
    {
        "content": "<p>like with the bind-by-move story</p>",
        "id": 174981301,
        "sender_full_name": "centril",
        "timestamp": 1567695096
    },
    {
        "content": "<p>Sure, yeah, though not sure how much that buys us</p>",
        "id": 174981302,
        "sender_full_name": "simulacrum",
        "timestamp": 1567695098
    },
    {
        "content": "<p>I can try and get a gist put together yes</p>",
        "id": 174981320,
        "sender_full_name": "simulacrum",
        "timestamp": 1567695110
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> the good morale from the appearance of progress? :P</p>",
        "id": 174981382,
        "sender_full_name": "centril",
        "timestamp": 1567695127
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> meanwhile, let's discuss 2018-to-error on T-lang today?</p>",
        "id": 174981431,
        "sender_full_name": "centril",
        "timestamp": 1567695165
    },
    {
        "content": "<p>it sounds like the tl;dr is sort of</p>\n<ul>\n<li>target 1.40 to finalize transition</li>\n<li>large number of affected crates at present</li>\n<li>our plan is to:<br>\n    - do some targeted fixes for specific root regressions and ensure new versions are available<br>\n    - blog post saying \"this is coming, take these steps to see if you are affected\"<br>\n        - check for these dependences, opt in to a hard fix<br>\n        - link to felix blog post with fixes</li>\n<li>some options under consideration:<br>\n    - hard error on 2018 first <br>\n    - hard error for some errors but not all<br>\n    - exempt specific crates temporarily?<br>\n?</li>\n</ul>",
        "id": 174981448,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567695182
    },
    {
        "content": "<p>I am not sure if 1.40 is realistic, but sounds plausible</p>",
        "id": 174981493,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567695219
    },
    {
        "content": "<p>I guess it is, that's end of year</p>",
        "id": 174981510,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567695230
    },
    {
        "content": "<p>additionally: possibly turn specific i-unsound issues into errors</p>",
        "id": 174981512,
        "sender_full_name": "centril",
        "timestamp": 1567695232
    },
    {
        "content": "<p>(we already closed 2 ones)</p>",
        "id": 174981567,
        "sender_full_name": "centril",
        "timestamp": 1567695246
    },
    {
        "content": "<p>yep</p>",
        "id": 174981570,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567695250
    },
    {
        "content": "<p>I guess the way to approach that might be to see if we can make all of them hard errors <em>except</em> a few key choices</p>",
        "id": 174981593,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567695266
    },
    {
        "content": "<p>i.e., those that affect the root deps</p>",
        "id": 174981612,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567695275
    },
    {
        "content": "<p>not sure if that makes any sense or not</p>",
        "id": 174981620,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567695281
    },
    {
        "content": "<p>like checking for specific crate names?</p>",
        "id": 174981633,
        "sender_full_name": "centril",
        "timestamp": 1567695291
    },
    {
        "content": "<p>oh, wow, I hadn't thought of going that far but... not the worst idea :)</p>",
        "id": 174981652,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567695302
    },
    {
        "content": "<p>I meant more like \"categories of errors\"</p>",
        "id": 174981677,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567695313
    },
    {
        "content": "<p>it's very naughty :P</p>",
        "id": 174981678,
        "sender_full_name": "centril",
        "timestamp": 1567695314
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> iirc there are just 4 NLL-fixed-by-NLL + I-unsound issues remaining</p>",
        "id": 174981844,
        "sender_full_name": "centril",
        "timestamp": 1567695396
    },
    {
        "content": "<p>so... it's not a whole lot :D</p>",
        "id": 174981850,
        "sender_full_name": "centril",
        "timestamp": 1567695401
    },
    {
        "content": "<p>great</p>",
        "id": 174981916,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567695450
    },
    {
        "content": "<p>( <a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3ANLL-fixed-by-NLL+label%3A%22I-unsound+%F0%9F%92%A5%22\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3ANLL-fixed-by-NLL+label%3A%22I-unsound+%F0%9F%92%A5%22\">https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3ANLL-fixed-by-NLL+label%3A%22I-unsound+%F0%9F%92%A5%22</a> )</p>",
        "id": 174982396,
        "sender_full_name": "centril",
        "timestamp": 1567695710
    },
    {
        "content": "<p>went ahead and nominated <a href=\"https://github.com/rust-lang/rust/pull/63565\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/63565\">https://github.com/rust-lang/rust/pull/63565</a> for t-lang</p>",
        "id": 174982540,
        "sender_full_name": "centril",
        "timestamp": 1567695775
    },
    {
        "content": "<p>one additional idea is to make this an error in nightly once we have fixes for all the root deps (but not let it ride into stable)</p>",
        "id": 174982759,
        "sender_full_name": "simulacrum",
        "timestamp": 1567695923
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/31567\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/31567\">#31567</a> was closed, but is still relevant here: it's the url issue.</p>",
        "id": 174982940,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1567696067
    },
    {
        "content": "<p>thanks</p>",
        "id": 174983058,
        "sender_full_name": "centril",
        "timestamp": 1567696129
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/38899\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/38899\">#38899</a> and <a href=\"https://github.com/rust-lang/rust/issues/31567\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/31567\">#31567</a> both look like they could be emulated in the MIR borrow checker. But <a href=\"https://github.com/rust-lang/rust/issues/27868\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/27868\">#27868</a> requires a borrow checker using a different CFG to reliable implement.</p>",
        "id": 174983499,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1567696432
    },
    {
        "content": "<p>One potential problem is that it loosely sounds like at least rusttype maintainers don't really want to release a patch release (<a href=\"https://gitlab.redox-os.org/redox-os/rusttype/issues/138#note_18122\" target=\"_blank\" title=\"https://gitlab.redox-os.org/redox-os/rusttype/issues/138#note_18122\">https://gitlab.redox-os.org/redox-os/rusttype/issues/138#note_18122</a>)</p>",
        "id": 174984086,
        "sender_full_name": "simulacrum",
        "timestamp": 1567696837
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> you might want to clarify that \"we\" == the compiler devs</p>",
        "id": 174984254,
        "sender_full_name": "centril",
        "timestamp": 1567696963
    },
    {
        "content": "<p>the comment might be interpreted as a random user wanting this for their own project</p>",
        "id": 174984288,
        "sender_full_name": "centril",
        "timestamp": 1567696995
    },
    {
        "content": "<p>good point</p>",
        "id": 174984291,
        "sender_full_name": "simulacrum",
        "timestamp": 1567696998
    },
    {
        "content": "<blockquote>\n<p>Sure if you insist, I've added a v0.2 branch.</p>\n</blockquote>\n<p>Success! <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 174984853,
        "sender_full_name": "centril",
        "timestamp": 1567697287
    },
    {
        "content": "<p>Now I just need to figure out pushing to gitlab</p>",
        "id": 174984945,
        "sender_full_name": "simulacrum",
        "timestamp": 1567697347
    },
    {
        "content": "<p>(well, and actually fix this code. I admit I don't fully understand how to do so)</p>",
        "id": 174986048,
        "sender_full_name": "simulacrum",
        "timestamp": 1567697958
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"126931\">@centril</span> one item for lang team, potentially, is some of the new NLL breakage could be made into a lint</p>",
        "id": 174987804,
        "sender_full_name": "simulacrum",
        "timestamp": 1567699001
    },
    {
        "content": "<p>specifically the assignment into field of moved value</p>",
        "id": 174987816,
        "sender_full_name": "simulacrum",
        "timestamp": 1567699014
    },
    {
        "content": "<p>Felix even writes that this is entirely sound</p>",
        "id": 174987823,
        "sender_full_name": "simulacrum",
        "timestamp": 1567699023
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> link?</p>",
        "id": 174987847,
        "sender_full_name": "centril",
        "timestamp": 1567699040
    },
    {
        "content": "<p>to Felix or ?</p>",
        "id": 174987870,
        "sender_full_name": "simulacrum",
        "timestamp": 1567699050
    },
    {
        "content": "<p>the issue/Felix's comment</p>",
        "id": 174987887,
        "sender_full_name": "centril",
        "timestamp": 1567699063
    },
    {
        "content": "<p><a href=\"http://blog.pnkfx.org/blog/2019/06/26/breaking-news-non-lexical-lifetimes-arrives-for-everyone/#Outlawed.partial.assignment.to.moved.values..for.now\" target=\"_blank\" title=\"http://blog.pnkfx.org/blog/2019/06/26/breaking-news-non-lexical-lifetimes-arrives-for-everyone/#Outlawed.partial.assignment.to.moved.values..for.now\">http://blog.pnkfx.org/blog/2019/06/26/breaking-news-non-lexical-lifetimes-arrives-for-everyone/#Outlawed.partial.assignment.to.moved.values..for.now</a>.</p>",
        "id": 174987976,
        "sender_full_name": "simulacrum",
        "timestamp": 1567699097
    },
    {
        "content": "<p>lemme try to recreate that one in the playground</p>",
        "id": 174988233,
        "sender_full_name": "centril",
        "timestamp": 1567699232
    },
    {
        "content": "<p>I didn't see too many of these in practice though fwiw</p>",
        "id": 174988481,
        "sender_full_name": "simulacrum",
        "timestamp": 1567699340
    },
    {
        "content": "<p><a href=\"https://gist.github.com/Mark-Simulacrum/ff49698b6bffc5a40bf9c20ec255d619\" target=\"_blank\" title=\"https://gist.github.com/Mark-Simulacrum/ff49698b6bffc5a40bf9c20ec255d619\">https://gist.github.com/Mark-Simulacrum/ff49698b6bffc5a40bf9c20ec255d619</a> <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span></p>",
        "id": 174988497,
        "sender_full_name": "simulacrum",
        "timestamp": 1567699352
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> so it looks like maybe crater is not properly updating github repos? e.g. <a href=\"https://crater-reports.s3.amazonaws.com/pr-63565/try%2375eff020d0923c035c2fe220db4a0465cd847048/gh/demostf.parser/log.txt\" target=\"_blank\" title=\"https://crater-reports.s3.amazonaws.com/pr-63565/try%2375eff020d0923c035c2fe220db4a0465cd847048/gh/demostf.parser/log.txt\">https://crater-reports.s3.amazonaws.com/pr-63565/try%2375eff020d0923c035c2fe220db4a0465cd847048/gh/demostf.parser/log.txt</a> checks out a commit from May 25th, and there are more recent commits</p>",
        "id": 174989517,
        "sender_full_name": "simulacrum",
        "timestamp": 1567700002
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> can you open an issue on crater and assign me to it?</p>",
        "id": 174991614,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1567701436
    },
    {
        "content": "<p>yes</p>",
        "id": 174991619,
        "sender_full_name": "simulacrum",
        "timestamp": 1567701442
    },
    {
        "content": "<p>A simplified version is <a href=\"https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=f70a27a3aefa97415df9dfd416bc3e68\" target=\"_blank\" title=\"https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=f70a27a3aefa97415df9dfd416bc3e68\">https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=f70a27a3aefa97415df9dfd416bc3e68</a></p>",
        "id": 174991741,
        "sender_full_name": "centril",
        "timestamp": 1567701516
    },
    {
        "content": "<p>we did decide previously on a language team meeting to ban this</p>",
        "id": 174991798,
        "sender_full_name": "centril",
        "timestamp": 1567701561
    },
    {
        "content": "<p>and they were few in practice.</p>",
        "id": 174991911,
        "sender_full_name": "centril",
        "timestamp": 1567701628
    },
    {
        "content": "<p>yeah, I was just thinking if we want to do things piecemeal that might be a good candidate</p>",
        "id": 174991937,
        "sender_full_name": "simulacrum",
        "timestamp": 1567701659
    },
    {
        "content": "<p>but I agree there's probably not much point</p>",
        "id": 174991951,
        "sender_full_name": "simulacrum",
        "timestamp": 1567701666
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span>  ah; but if we do it piecemeal then we should specifically turn that one into an error rather than a warning?</p>",
        "id": 174991997,
        "sender_full_name": "centril",
        "timestamp": 1567701718
    },
    {
        "content": "<p>(it's already a warning that ignores cap-lints)</p>",
        "id": 174992059,
        "sender_full_name": "centril",
        "timestamp": 1567701750
    },
    {
        "content": "<p>well, I think that's a bit up to us? Like, presumably we can say \"for now, we'll not turn on this bit of error\"</p>",
        "id": 174992065,
        "sender_full_name": "simulacrum",
        "timestamp": 1567701754
    },
    {
        "content": "<p>(whereas perhaps other bits are turned on)</p>",
        "id": 174992079,
        "sender_full_name": "simulacrum",
        "timestamp": 1567701766
    },
    {
        "content": "<p>but if it occurs less frequently then surely that's a reason to move ahead earlier with this bit?</p>",
        "id": 174992128,
        "sender_full_name": "centril",
        "timestamp": 1567701810
    },
    {
        "content": "<p>hm, I guess I could see that argument too. I was thinking along the lines of \"don't do a bunch of small things that aren't unsound\" -&gt; \"land this sooner\"</p>",
        "id": 174992268,
        "sender_full_name": "simulacrum",
        "timestamp": 1567701901
    },
    {
        "content": "<p>but if we're targeting 1.40 then I realized that's actually like ~3 weeks away or so realistically from compiler team's perspective</p>",
        "id": 174992304,
        "sender_full_name": "simulacrum",
        "timestamp": 1567701923
    },
    {
        "content": "<p>(since we're in 1.39 on nightly right now)</p>",
        "id": 174992316,
        "sender_full_name": "simulacrum",
        "timestamp": 1567701933
    },
    {
        "content": "<p>rusttype 0.2.4 is out so only nalgebra as other major root remains</p>",
        "id": 174992676,
        "sender_full_name": "simulacrum",
        "timestamp": 1567702194
    },
    {
        "content": "<p>updated gist</p>",
        "id": 174993158,
        "sender_full_name": "simulacrum",
        "timestamp": 1567702494
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> !</p>",
        "id": 174996788,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1567704710
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> converted <a href=\"https://github.com/rust-lang/rust/pull/63565\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/63565\">https://github.com/rust-lang/rust/pull/63565</a> into the PR for 2018 and then <a href=\"https://github.com/rust-lang/rust/pull/64221\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/64221\">https://github.com/rust-lang/rust/pull/64221</a> for 2015 one version later</p>",
        "id": 175072317,
        "sender_full_name": "centril",
        "timestamp": 1567781729
    },
    {
        "content": "<p>FWIW scope of impact may have been slightly misjudged due to (<a href=\"https://github.com/rust-lang/rustwide/commit/f83bedda664eaebaf3801471043a4c96246795ad\" target=\"_blank\" title=\"https://github.com/rust-lang/rustwide/commit/f83bedda664eaebaf3801471043a4c96246795ad\">https://github.com/rust-lang/rustwide/commit/f83bedda664eaebaf3801471043a4c96246795ad</a>) which affected unknown number of crates</p>",
        "id": 175075874,
        "sender_full_name": "simulacrum",
        "timestamp": 1567784082
    },
    {
        "content": "<p>so we may want to rerun crater on 2015 once that commit is deployed</p>",
        "id": 175075940,
        "sender_full_name": "simulacrum",
        "timestamp": 1567784129
    },
    {
        "content": "<p>(per our plans anyway, but just wanted to raise this here as well)</p>",
        "id": 175075957,
        "sender_full_name": "simulacrum",
        "timestamp": 1567784140
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> ugh; can I trust the results in <a href=\"https://github.com/rust-lang/rust/pull/63247\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/63247\">https://github.com/rust-lang/rust/pull/63247#</a> ?</p>",
        "id": 175084430,
        "sender_full_name": "centril",
        "timestamp": 1567790256
    },
    {
        "content": "<p>kind of, they're just maybe a bit outdated</p>",
        "id": 175084493,
        "sender_full_name": "simulacrum",
        "timestamp": 1567790287
    },
    {
        "content": "<p>which is in some sense always true :)</p>",
        "id": 175084500,
        "sender_full_name": "simulacrum",
        "timestamp": 1567790293
    },
    {
        "content": "<blockquote>\n<p><a href=\"https://github.com/rust-lang/rust/issues/38899\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/38899\">#38899</a> and <a href=\"https://github.com/rust-lang/rust/issues/31567\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/31567\">#31567</a> both look like they could be emulated in the MIR borrow checker. But <a href=\"https://github.com/rust-lang/rust/issues/27868\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/27868\">#27868</a> requires a borrow checker using a different CFG to reliable implement.</p>\n</blockquote>\n<p>I (and many others) would be really sad if we cannot remove the AST borrow checker for good eventually.<br>\nIt's not just that code itself, also things like e.g. static promotion of temporaries are currently duplicated because of our two borrow checkers.</p>",
        "id": 175801343,
        "sender_full_name": "RalfJ",
        "timestamp": 1568631115
    },
    {
        "content": "<p>I don't understand; we <em>have</em> moved to NLL by default everywhere. isn't <a href=\"https://github.com/rust-lang/rust/issues/27868\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/27868\">#27868</a> effectively resolved by that?</p>",
        "id": 175803348,
        "sender_full_name": "pnkfelix",
        "timestamp": 1568633183
    },
    {
        "content": "<p>and now we've gone from migrate mode to hard errors in 2018 edition. <span class=\"user-mention\" data-user-id=\"126931\">@centril</span> has stated they intend for the same to happen for 2015 edition in the next release cycle, and after that we will remove AST borrow-check. I guess I don't see why we are worrying about <a href=\"https://github.com/rust-lang/rust/issues/27868\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/27868\">#27868</a></p>",
        "id": 175803380,
        "sender_full_name": "pnkfelix",
        "timestamp": 1568633241
    },
    {
        "content": "<p>or .. that's what I thought. What version of nightly is the playground using ...</p>",
        "id": 175803440,
        "sender_full_name": "pnkfelix",
        "timestamp": 1568633290
    },
    {
        "content": "<p>ah, nightly from august 23rd, still</p>",
        "id": 175803454,
        "sender_full_name": "pnkfelix",
        "timestamp": 1568633314
    },
    {
        "content": "<p>I should go figure out what is blocking an upgrade there.</p>",
        "id": 175803464,
        "sender_full_name": "pnkfelix",
        "timestamp": 1568633327
    },
    {
        "content": "<blockquote>\n<p>I should go figure out what is blocking an upgrade there.</p>\n</blockquote>\n<p>(<span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span>  asked <span class=\"user-mention silent\" data-user-id=\"116155\">Jake Goulding</span> on discord infra about this, yesterday I think - no answer yet)</p>",
        "id": 175803715,
        "sender_full_name": "lqd",
        "timestamp": 1568633568
    },
    {
        "content": "<p>My y comment was in response to a \"can [we] allow those holes on 2015 inside the MIR borrowck\" comment on discord.</p>",
        "id": 175804873,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1568634875
    },
    {
        "content": "<blockquote>\n<p>My y comment was in response to a \"can [we] allow those holes on 2015 inside the MIR borrowck\" comment on discord.</p>\n</blockquote>\n<p>oh I see. well that would still be sad but less sad than keeping AST borrowck around.^^</p>",
        "id": 175805088,
        "sender_full_name": "RalfJ",
        "timestamp": 1568635119
    },
    {
        "content": "<p>okay now I've re-read more of this topic and see what <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> was responding to (it essentially starts <a href=\"#narrow/stream/122657-t-compiler.2Fwg-nll/topic/deny-nll-warning-lints/near/174981006\" title=\"#narrow/stream/122657-t-compiler.2Fwg-nll/topic/deny-nll-warning-lints/near/174981006\">here</a>)</p>",
        "id": 175806048,
        "sender_full_name": "pnkfelix",
        "timestamp": 1568636059
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120791\">@RalfJ</span>  Not to worry; in ~10 days NLL migrate mode warnings are gone; in a few days after that AST borrowck is history.</p>",
        "id": 175806545,
        "sender_full_name": "centril",
        "timestamp": 1568636541
    },
    {
        "content": "<p>we're scheduled to fully remove ast borrowck in 1.40, which'll be on master in 2 weeks or so</p>",
        "id": 175806581,
        "sender_full_name": "simulacrum",
        "timestamp": 1568636592
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> yea, 26th is release, +10 days from now</p>",
        "id": 175806616,
        "sender_full_name": "centril",
        "timestamp": 1568636641
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"120791\">RalfJ</span>  Not to worry; in ~10 days NLL migrate mode warnings are gone; in a few days after that AST borrowck is history.</p>\n</blockquote>\n<p>&lt;3</p>",
        "id": 175808195,
        "sender_full_name": "RalfJ",
        "timestamp": 1568637973
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span>  <a href=\"https://github.com/rust-lang/rust/pull/64221\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/64221\">https://github.com/rust-lang/rust/pull/64221</a> is ready for review now that master is at 1.40</p>",
        "id": 176575189,
        "sender_full_name": "centril",
        "timestamp": 1569424837
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"126931\">@centril</span> Are we just accepting the regressions caused by this? How many (latest versions of) <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> crates does this affect now?</p>",
        "id": 176595073,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1569437725
    },
    {
        "content": "<p>I believe based on the last crater run we have very few, or at least mostly non-core crate (i.e., few reverse deps) <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> regressions</p>",
        "id": 176595150,
        "sender_full_name": "simulacrum",
        "timestamp": 1569437774
    },
    {
        "content": "<p>I can try and dig in tonight probably -- however, I suspect it might not be worth it. Most of the crates which care have issued fixes and I filed a few PRs that got accepted and released for a few other of the central crates (rusttype, IIRC, nalgebra maybe... possibly a few more)</p>",
        "id": 176595305,
        "sender_full_name": "simulacrum",
        "timestamp": 1569437884
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> yes, the consensus of the lang team meeting was that we feel comfortable doing so in 1.40.</p>",
        "id": 176595357,
        "sender_full_name": "centril",
        "timestamp": 1569437931
    },
    {
        "content": "<p>(special blog post and such coming later...)</p>",
        "id": 176595367,
        "sender_full_name": "centril",
        "timestamp": 1569437941
    },
    {
        "content": "<p>I just don't want to start ripping out AST borrowck code and then have to beta backport a revert.</p>",
        "id": 176595401,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1569437967
    },
    {
        "content": "<p>ah, to be clear, there is no beta backport planned here</p>",
        "id": 176595505,
        "sender_full_name": "simulacrum",
        "timestamp": 1569438034
    },
    {
        "content": "<p>I mean to the 1.40 beta</p>",
        "id": 176595554,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1569438083
    },
    {
        "content": "<p>you mean if we make a patch now and then want to backport that to 1.39?</p>",
        "id": 176595691,
        "sender_full_name": "simulacrum",
        "timestamp": 1569438184
    },
    {
        "content": "<p>that seems unlikely -- I can't imagine us wanting to make fixes to ast borrowck in beta</p>",
        "id": 176595720,
        "sender_full_name": "simulacrum",
        "timestamp": 1569438212
    },
    {
        "content": "<p>No, I mean, we branch 1.40 and then change our minds.</p>",
        "id": 176595748,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1569438237
    },
    {
        "content": "<p>due to, e.g., concern over regressions.</p>",
        "id": 176595809,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1569438259
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> This is permanent, we're ripping out AST borrowck for good</p>",
        "id": 176596399,
        "sender_full_name": "centril",
        "timestamp": 1569438701
    },
    {
        "content": "<p>ah, sure -- yeah, I don't think that's going to happen personally</p>",
        "id": 176596499,
        "sender_full_name": "simulacrum",
        "timestamp": 1569438774
    },
    {
        "content": "<p>like everyone is pretty aware of the breakage here (lang, compiler)</p>",
        "id": 176596518,
        "sender_full_name": "simulacrum",
        "timestamp": 1569438789
    },
    {
        "content": "<p>We can make another crater run and I can try to squash some more regressions though I guess over the next ~6 weeks</p>",
        "id": 176596532,
        "sender_full_name": "simulacrum",
        "timestamp": 1569438809
    },
    {
        "content": "<p>1.40 beta will get one anyway</p>",
        "id": 176596553,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1569438823
    },
    {
        "content": "<p>yea; and we already have the old one</p>",
        "id": 176596576,
        "sender_full_name": "centril",
        "timestamp": 1569438838
    },
    {
        "content": "<p>I think some regressions will be fixed with time, and some are just abandonware</p>",
        "id": 176596635,
        "sender_full_name": "centril",
        "timestamp": 1569438853
    },
    {
        "content": "<p>sure, yeah, I'm just saying that if we want to keep \"track\" of progress -- I think a new run would have like 10x less regressions, but I could of course be wrong</p>",
        "id": 176596667,
        "sender_full_name": "simulacrum",
        "timestamp": 1569438874
    },
    {
        "content": "<p>I doubt we'll see that much movement so soon</p>",
        "id": 176596678,
        "sender_full_name": "centril",
        "timestamp": 1569438890
    },
    {
        "content": "<p>more likely in 1.40 beta because of time</p>",
        "id": 176596700,
        "sender_full_name": "centril",
        "timestamp": 1569438907
    },
    {
        "content": "<p>The <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> regressions are the only ones that I'm concerned about.</p>",
        "id": 176596850,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1569439006
    },
    {
        "content": "<p>beta crater runs also have the advantage of not counting crates that require nightly</p>",
        "id": 176596889,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1569439040
    },
    {
        "content": "<p>Sure -- I meant that the ~3 patches or so that I landed should've removed quite a lot of regressions</p>",
        "id": 176596897,
        "sender_full_name": "simulacrum",
        "timestamp": 1569439047
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> nice work on that.</p>\n<p>-- I think we (lang team) feel overall comfortable with moving ahead and I believe that's \"the feeling of the room\" here also?</p>",
        "id": 176597052,
        "sender_full_name": "centril",
        "timestamp": 1569439151
    },
    {
        "content": "<p>did someone notice changes of the stats <a href=\"https://hackmd.io/9oHJIGbFQ9WTR2hpLHO1DQ?view\" target=\"_blank\" title=\"https://hackmd.io/9oHJIGbFQ9WTR2hpLHO1DQ?view\">from the july run</a> where eg 50% of the <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> regressions were &gt;1y old (I had sent you this centril, not sure if you've seen), or was it relatively similar in the last run ?</p>",
        "id": 176597070,
        "sender_full_name": "lqd",
        "timestamp": 1569439166
    },
    {
        "content": "<p>we didn't get stats like that this run, though we could go back and collect them</p>",
        "id": 176597156,
        "sender_full_name": "simulacrum",
        "timestamp": 1569439205
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> well we added a bunch of crates from github</p>",
        "id": 176597160,
        "sender_full_name": "centril",
        "timestamp": 1569439207
    },
    {
        "content": "<p>ok, one wouldn't expect completely inactive crates, or ones with no releases in a year to suddenly all become active while also ignoring the lints</p>",
        "id": 176597286,
        "sender_full_name": "lqd",
        "timestamp": 1569439321
    },
    {
        "content": "<p>sure, yes -- a lot of them are not themselves broken but had a dep that was I think</p>",
        "id": 176597502,
        "sender_full_name": "simulacrum",
        "timestamp": 1569439453
    },
    {
        "content": "<p>or that was my impression anyway</p>",
        "id": 176597507,
        "sender_full_name": "simulacrum",
        "timestamp": 1569439460
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> </p>\n<blockquote>\n<p>File should be deleted</p>\n</blockquote>\n<p>Only the <code>.stderr</code> file?</p>",
        "id": 176597588,
        "sender_full_name": "centril",
        "timestamp": 1569439556
    },
    {
        "content": "<p>same for me</p>",
        "id": 176597593,
        "sender_full_name": "lqd",
        "timestamp": 1569439557
    },
    {
        "content": "<p>(or also <code>.rs</code>?)</p>",
        "id": 176597638,
        "sender_full_name": "centril",
        "timestamp": 1569439563
    },
    {
        "content": "<p>Just the <code>.migrate.stderr</code></p>",
        "id": 176597670,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1569439587
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> the scribble file has:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">// ignore-compare-mode-nll</span>\n<span class=\"c1\">// ignore-compare-mode-polonius</span>\n</pre></div>\n\n\n<p>if I add <code>// ignore-compare-mode-migrate</code>, won't the <code>.rs</code> file do nothing?</p>",
        "id": 176600217,
        "sender_full_name": "centril",
        "timestamp": 1569441546
    },
    {
        "content": "<p>There isn't a compare-mode migrate. The <code>.migrate.stderr</code> file came from when the test used revisions</p>",
        "id": 176600258,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1569441586
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> ah; you're saying I can just delete the file and <code>--bless</code> won't reappear it?</p>",
        "id": 176600373,
        "sender_full_name": "centril",
        "timestamp": 1569441620
    },
    {
        "content": "<p>Yes</p>",
        "id": 176600384,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1569441631
    },
    {
        "content": "<p>ah, got it</p>",
        "id": 176600390,
        "sender_full_name": "centril",
        "timestamp": 1569441639
    },
    {
        "content": "<p>will do</p>",
        "id": 176600394,
        "sender_full_name": "centril",
        "timestamp": 1569441641
    },
    {
        "content": "<p>Is anyone working on ripping out AST borrowck atm? I'll start with it otherwise</p>",
        "id": 176603425,
        "sender_full_name": "centril",
        "timestamp": 1569443896
    },
    {
        "content": "<p>I'm not yet. I have too much in-flight already.</p>",
        "id": 176603486,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1569443956
    },
    {
        "content": "<p>Aight; I'll give it a go</p>",
        "id": 176603505,
        "sender_full_name": "centril",
        "timestamp": 1569443974
    },
    {
        "content": "<p>maybe Niko or Felix wanted to do it :)</p>",
        "id": 176603759,
        "sender_full_name": "lqd",
        "timestamp": 1569444168
    },
    {
        "content": "<p>sounds lyk veri satisfying work</p>",
        "id": 176604062,
        "sender_full_name": "Tshepang Lekhonkhobe",
        "timestamp": 1569444390
    },
    {
        "content": "<p>indeed <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 176605279,
        "sender_full_name": "centril",
        "timestamp": 1569445368
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span>  <a href=\"https://github.com/rust-lang/rust/pull/64221#issuecomment-535348513\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/64221#issuecomment-535348513\">https://github.com/rust-lang/rust/pull/64221#issuecomment-535348513</a> -- had to bump iron &amp; webrender in cargotest, can you have a look again?</p>",
        "id": 176630891,
        "sender_full_name": "centril",
        "timestamp": 1569477195
    },
    {
        "content": "<p>(they were depending on an old version of url)</p>",
        "id": 176630900,
        "sender_full_name": "centril",
        "timestamp": 1569477214
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> btw, <a href=\"https://github.com/rust-lang/rust/pull/64790#discussion_r328502898\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/64790#discussion_r328502898\">https://github.com/rust-lang/rust/pull/64790#discussion_r328502898</a> probably belongs to <a href=\"https://github.com/rust-lang/rust/pull/64221\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/64221\">https://github.com/rust-lang/rust/pull/64221</a></p>",
        "id": 176665400,
        "sender_full_name": "centril",
        "timestamp": 1569509895
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> so I should remove <code>// ignore-compare-mode-nll</code> from that PR then ostensibly</p>",
        "id": 176666321,
        "sender_full_name": "centril",
        "timestamp": 1569510465
    },
    {
        "content": "<p>Yes exactly, I believe.</p>",
        "id": 176666506,
        "sender_full_name": "pnkfelix",
        "timestamp": 1569510596
    },
    {
        "content": "<p>will do</p>",
        "id": 176666598,
        "sender_full_name": "centril",
        "timestamp": 1569510625
    },
    {
        "content": "<p>It won't matter, of course, unless/until Polonius starts using compare-mode itself.</p>",
        "id": 176666642,
        "sender_full_name": "pnkfelix",
        "timestamp": 1569510665
    },
    {
        "content": "<p>but why make things hard for them.</p>",
        "id": 176666653,
        "sender_full_name": "pnkfelix",
        "timestamp": 1569510675
    },
    {
        "content": "<p>Yea, good point</p>",
        "id": 176666684,
        "sender_full_name": "centril",
        "timestamp": 1569510704
    },
    {
        "content": "<p>...and fixed</p>",
        "id": 176667474,
        "sender_full_name": "centril",
        "timestamp": 1569511248
    }
]