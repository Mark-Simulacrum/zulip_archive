[
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"*\">@everyone</span> its about time to start the weekly meeting</p>",
        "id": 129429406,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251061
    },
    {
        "content": "<p>o/</p>",
        "id": 129429434,
        "sender_full_name": "davidtwco",
        "timestamp": 1531251105
    },
    {
        "content": "<p><span class=\"emoji emoji-1f44b\" title=\"wave\">:wave:</span></p>",
        "id": 129429443,
        "sender_full_name": "lqd",
        "timestamp": 1531251112
    },
    {
        "content": "<p>If you have status to report please do add it to <a href=\"https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be\" target=\"_blank\" title=\"https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be\">the triage Paper</a>, though perhaps everyone has already done so...</p>",
        "id": 129429461,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251123
    },
    {
        "content": "<p>So lets see, I've been gone for a while</p>",
        "id": 129429592,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251244
    },
    {
        "content": "<p>You all did some great stuff in my absence</p>",
        "id": 129429599,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251259
    },
    {
        "content": "<p>I see that there was a lot of triaging effort</p>",
        "id": 129429605,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251270
    },
    {
        "content": "<p>(welcome back again :)</p>",
        "id": 129429615,
        "sender_full_name": "lqd",
        "timestamp": 1531251280
    },
    {
        "content": "<p>and the performance numbers are looking much better. Still not <em>great</em>, of course...</p>",
        "id": 129429634,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251306
    },
    {
        "content": "<p>welcome back <span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> :)</p>",
        "id": 129429637,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531251312
    },
    {
        "content": "<p>At least that's my reading of: <a href=\"https://perf.rust-lang.org/nll-dashboard.html\" target=\"_blank\" title=\"https://perf.rust-lang.org/nll-dashboard.html\">https://perf.rust-lang.org/nll-dashboard.html</a></p>",
        "id": 129429638,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251314
    },
    {
        "content": "<p>there have been a couple crater runs</p>",
        "id": 129429657,
        "sender_full_name": "lqd",
        "timestamp": 1531251349
    },
    {
        "content": "<p>wow 2,246.69% for tuple stress</p>",
        "id": 129429711,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531251373
    },
    {
        "content": "<p>it was 12000% :)</p>",
        "id": 129429717,
        "sender_full_name": "lqd",
        "timestamp": 1531251382
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> right so maybe lets talk about the crater runs</p>",
        "id": 129429723,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251394
    },
    {
        "content": "<p>and there's some in-progress work from <span class=\"user-mention\" data-user-id=\"120823\">@DPC</span> but unfortunately awaiting review/help from niko</p>",
        "id": 129429729,
        "sender_full_name": "lqd",
        "timestamp": 1531251414
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> sure</p>",
        "id": 129429732,
        "sender_full_name": "lqd",
        "timestamp": 1531251420
    },
    {
        "content": "<p>so as I mentioned in the dedicated topic, we have done 2 runs</p>",
        "id": 129429742,
        "sender_full_name": "lqd",
        "timestamp": 1531251433
    },
    {
        "content": "<p>one without 2 phase borrows and one with them</p>",
        "id": 129429746,
        "sender_full_name": "lqd",
        "timestamp": 1531251440
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> yeah some more work is left on that PR.</p>",
        "id": 129429749,
        "sender_full_name": "DPC",
        "timestamp": 1531251449
    },
    {
        "content": "<p>the dedicated topic is of course the one titled: crater-run-and-analysis</p>",
        "id": 129429754,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251455
    },
    {
        "content": "<p>the 1st one uncovered another ICE IIC, otherwise they were all known</p>",
        "id": 129429756,
        "sender_full_name": "lqd",
        "timestamp": 1531251460
    },
    {
        "content": "<p>for the 2nd run (nll-3) no new ICEs</p>",
        "id": 129429765,
        "sender_full_name": "lqd",
        "timestamp": 1531251475
    },
    {
        "content": "<p>okay that 's good news</p>",
        "id": 129429791,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251483
    },
    {
        "content": "<p>one of the known ICE was even fixed since the runs started</p>",
        "id": 129429809,
        "sender_full_name": "lqd",
        "timestamp": 1531251489
    },
    {
        "content": "<p>there were lots of \"regressions\" though</p>",
        "id": 129429816,
        "sender_full_name": "lqd",
        "timestamp": 1531251501
    },
    {
        "content": "<p>which one is the new ICE ? I.e. what is its issue number?</p>",
        "id": 129429824,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251512
    },
    {
        "content": "<p>(I cannot tell from a quick skim of <a href=\"https://github.com/rust-lang/rust/issues/52217\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/52217\">https://github.com/rust-lang/rust/issues/52217</a> )</p>",
        "id": 129429832,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251523
    },
    {
        "content": "<p>unfortunately I myself don't know, niko said so from simulacrum's report</p>",
        "id": 129429839,
        "sender_full_name": "lqd",
        "timestamp": 1531251538
    },
    {
        "content": "<p>air quotes on regressions because a lot of them are actually in upstream crates</p>",
        "id": 129429850,
        "sender_full_name": "lqd",
        "timestamp": 1531251567
    },
    {
        "content": "<p>eg servo's url = 200-300 regr</p>",
        "id": 129429857,
        "sender_full_name": "lqd",
        "timestamp": 1531251581
    },
    {
        "content": "<p>I've started looking at both the runs and started filing issues both for rustc bugs and diagnostics improvements</p>",
        "id": 129429911,
        "sender_full_name": "lqd",
        "timestamp": 1531251606
    },
    {
        "content": "<p>okay good.</p>",
        "id": 129429919,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251620
    },
    {
        "content": "<p>filtered nll-3 so we can dispatch some of the triage</p>",
        "id": 129429920,
        "sender_full_name": "lqd",
        "timestamp": 1531251625
    },
    {
        "content": "<p>the root regressions' deps are done</p>",
        "id": 129429922,
        "sender_full_name": "lqd",
        "timestamp": 1531251632
    },
    {
        "content": "<p>root regressions with local errors not yet, but I started</p>",
        "id": 129429930,
        "sender_full_name": "lqd",
        "timestamp": 1531251645
    },
    {
        "content": "<p>and that's pretty much it :)</p>",
        "id": 129429934,
        "sender_full_name": "lqd",
        "timestamp": 1531251655
    },
    {
        "content": "<p>okay</p>",
        "id": 129429947,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251679
    },
    {
        "content": "<p>(the crater topic has a summary issue from sunday with all relevant links, Paper has what I've done since sunday)</p>",
        "id": 129429952,
        "sender_full_name": "lqd",
        "timestamp": 1531251686
    },
    {
        "content": "<p>I could use another pair of eyes on the analyses though</p>",
        "id": 129430014,
        "sender_full_name": "lqd",
        "timestamp": 1531251741
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> Okay I'll try to add that to my own TODO list</p>",
        "id": 129430025,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251763
    },
    {
        "content": "<p>esp as some are weird to me, halfway between crate bugs, or feature requests of expansions to 2 phase borrows, etc</p>",
        "id": 129430029,
        "sender_full_name": "lqd",
        "timestamp": 1531251765
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> awesome thank you</p>",
        "id": 129430038,
        "sender_full_name": "lqd",
        "timestamp": 1531251780
    },
    {
        "content": "<p>So I think I want to take a moment to summarize <em>my</em> understanding of where we are right now</p>",
        "id": 129430045,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251786
    },
    {
        "content": "<p>which is probably going to sound somewhat similar to where we were before I went on leave</p>",
        "id": 129430062,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251811
    },
    {
        "content": "<p>As I see it, there are currently four sizable efforts in front of us</p>",
        "id": 129430078,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251838
    },
    {
        "content": "<p>Three of which one might argue block an attempt to release NLL as part of the next edition preview</p>",
        "id": 129430133,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251867
    },
    {
        "content": "<p>Those efforts, as I understand them, are: 1. Bringing NLL performance into a \"reasonable\" distance from AST-borrowck. (What is reasonable? We haven't committed to any target % that I know of.)</p>",
        "id": 129430171,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251921
    },
    {
        "content": "<p>2. Bringing NLL error diagnostic quality up to par with that of AST borrowck.</p>",
        "id": 129430182,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251946
    },
    {
        "content": "<p>3. Implementing the <code>-Z borrowck=migrate</code> mode that <span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span>  is working on (and then turning it on)</p>",
        "id": 129430238,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531251980
    },
    {
        "content": "<p>I think we also have specific GH issues marked for the next preview</p>",
        "id": 129430240,
        "sender_full_name": "lqd",
        "timestamp": 1531251985
    },
    {
        "content": "<p>eg maybe some of the known ICEs</p>",
        "id": 129430250,
        "sender_full_name": "lqd",
        "timestamp": 1531252009
    },
    {
        "content": "<p>4. Moving ahead with Polonius, with the hope that it will provide the more expressive form of NLL that we all have been hoping for without the same performance impact that we originally saw</p>",
        "id": 129430261,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252026
    },
    {
        "content": "<p>In case its not clear, the three issues that I see as \"blocking\" releasing NLL as part of an edition preview are 1, 2, and 3.</p>",
        "id": 129430273,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252049
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> That is good that they are appropriately marked. Are you aware of any that do not fall into categories 1, 2, or 3?</p>",
        "id": 129430282,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252074
    },
    {
        "content": "<p>I guess I could just skim them myself, so if you don't know offhand, that's okay, I'll find out. :)</p>",
        "id": 129430326,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252093
    },
    {
        "content": "<p>I don't know from the top of my head I'll check</p>",
        "id": 129430333,
        "sender_full_name": "lqd",
        "timestamp": 1531252113
    },
    {
        "content": "<p>anyway, I just wanted to lay all that out, mostly to say: Does that jibe with everyone elses' understanding of the situation?</p>",
        "id": 129430335,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252117
    },
    {
        "content": "<p>doesn't seem like they fall outside of 1 2 3 <a href=\"https://github.com/rust-lang/rust/milestone/52\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/milestone/52\">https://github.com/rust-lang/rust/milestone/52</a></p>",
        "id": 129430346,
        "sender_full_name": "lqd",
        "timestamp": 1531252153
    },
    {
        "content": "<p>Fixing ICEs is 2?</p>",
        "id": 129430358,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1531252186
    },
    {
        "content": "<p>it's my understanding of the work ahead, but I'm not sure about the \"blocking\" aspect though</p>",
        "id": 129430360,
        "sender_full_name": "lqd",
        "timestamp": 1531252188
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> ah that's a good point</p>",
        "id": 129430364,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252202
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> what's Polonius plan?</p>",
        "id": 129430428,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252255
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> hmm. ICE's aren't really a diagnostic quality thing. Or rather, they are at best the worst kind of diagnostic.</p>",
        "id": 129430436,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252262
    },
    {
        "content": "<p>it's a thing that will happen after edition 2018, right?</p>",
        "id": 129430442,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252267
    },
    {
        "content": "<p>because all you know is \"hmm my code broke the compiler\"</p>",
        "id": 129430447,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252271
    },
    {
        "content": "<p>or that's uncertain?</p>",
        "id": 129430448,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252272
    },
    {
        "content": "<p>then a point 5. fixing ICEs and bugs ?</p>",
        "id": 129430456,
        "sender_full_name": "lqd",
        "timestamp": 1531252287
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> From what I understand, Polonius is not near enough to completion for us to attempt to include it in the initial 2018 edition.</p>",
        "id": 129430469,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252315
    },
    {
        "content": "<p><span class=\"emoji emoji-1f44d\" title=\"+1\">:+1:</span></p>",
        "id": 129430519,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252335
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> but I also see no reason that we could not deploy it sometime during the lifecycle of the edition; it does not need to wait for a 2021 edition or whatever.</p>",
        "id": 129430522,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252341
    },
    {
        "content": "<p>yeah</p>",
        "id": 129430529,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252352
    },
    {
        "content": "<p>if it's released during the next 3 years will it technically be a part of rust 2018 :)</p>",
        "id": 129430530,
        "sender_full_name": "lqd",
        "timestamp": 1531252356
    },
    {
        "content": "<p>I didn't follow exactly what you mean in point 4.</p>",
        "id": 129430537,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252362
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> So, I know that some bugs are things that Niko has said \"this should not block us from releasing NLL as part of the 2nd preview\"</p>",
        "id": 129430541,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252380
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> what I meant in Point 4 is that there is still people working on Polonius itself. At least in theory.</p>",
        "id": 129430560,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252408
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> btw do you know if those in the preview 2 milestone are some of these non blocking ones ?</p>",
        "id": 129430573,
        "sender_full_name": "lqd",
        "timestamp": 1531252425
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> but such work is not meant to be coupled with the initial NLL that we deploy in the edition preview</p>",
        "id": 129430583,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252440
    },
    {
        "content": "<p>makes sense</p>",
        "id": 129430632,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252469
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> I don't know offhand, but I would hope not.</p>",
        "id": 129430654,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252522
    },
    {
        "content": "<p>alright</p>",
        "id": 129430659,
        "sender_full_name": "lqd",
        "timestamp": 1531252535
    },
    {
        "content": "<p>we can sync up with niko next week on that</p>",
        "id": 129430672,
        "sender_full_name": "lqd",
        "timestamp": 1531252561
    },
    {
        "content": "<p>@lqd that is, I would hope that any bug where Niko left a comment of the form \"this need not block the edition preview\" or \"this is [just] a RC blocker\" would be on the \"Rust 2018 release\" milestone</p>",
        "id": 129430715,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252574
    },
    {
        "content": "<p>yeah we can verify this later no worries</p>",
        "id": 129430721,
        "sender_full_name": "lqd",
        "timestamp": 1531252601
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> how are you feeling about the <code>-Z borrowck=migrate</code> task?</p>",
        "id": 129430728,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252616
    },
    {
        "content": "<p>what's the plan for this week ? I was myself thinking of continuing triaging (if someone wants to help do not hesitate)</p>",
        "id": 129430738,
        "sender_full_name": "lqd",
        "timestamp": 1531252631
    },
    {
        "content": "<p>the reason I ask is that, the other tasks on the list (1, 2, and now I guess 5 as well...), they are made up of many \"small\" bugs, and its possible that future rounds of triage could ... \"reprioritize\" them to be something for a later milestone. Maybe...</p>",
        "id": 129430750,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252662
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> I didn't do much today, tomorrow I will focus on it</p>",
        "id": 129430754,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252675
    },
    {
        "content": "<p>but if there are different tasks I can help as well, just let me know</p>",
        "id": 129430758,
        "sender_full_name": "lqd",
        "timestamp": 1531252681
    },
    {
        "content": "<p>the main problem is that I need to buffer all the errors on mir borrowck</p>",
        "id": 129430800,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252692
    },
    {
        "content": "<p>(I don't know how realistic such hypothesized reprioritization actually is; Niko is good about accurately capturing the situation for each bug)</p>",
        "id": 129430801,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252702
    },
    {
        "content": "<p>that happens in a LOT of places</p>",
        "id": 129430802,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252702
    },
    {
        "content": "<p>right now ...</p>",
        "id": 129430813,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252727
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>[santiago@archlinux rust1 (z-borrowck-migrate)]$ rg &quot;\\.emit\\(\\)&quot; src/librustc_mir\nsrc/librustc_mir/transform/qualify_consts.rs\n178:            err.emit();\n198:            err.emit();\n485:                    err.emit()\n516:                                    err.emit();\n666:                            err.emit();\n763:                            err.emit();\n786:                        .emit();\n805:                    err.emit();\n936:                            err.emit();\n963:                    err.emit();\n1005:                            .emit();\n1058:                    err.emit();\n\nsrc/librustc_mir/borrow_check/mod.rs\n294:        err.emit();\n327:                .emit();\n1365:                .emit();\n1883:        err.emit();\n\nsrc/librustc_mir/transform/check_unsafety.rs\n407:    db.emit();\n449:                    .emit();\n\nsrc/librustc_mir/monomorphize/collector.rs\n511:        diag.emit();\n\nsrc/librustc_mir/borrow_check/nll/mod.rs\n342:        err.emit();\n349:        err.emit();\n\nsrc/librustc_mir/hair/pattern/check_match.rs\n146:                    ).emit();\n152:                    ).emit();\n241:                    err.emit();\n304:            diag.emit();\n333:                        err.emit();\n390:                                        .emit();\n421:                                            .emit();\n441:                            err.emit();\n503:                .emit();\n537:                .emit();\n542:                .emit();\n548:                    .emit();\n606:                    .emit();\n617:                    .emit();\n648:                        .emit();\n\nsrc/librustc_mir/hair/pattern/mod.rs\n391:                                err.emit();\n\nsrc/librustc_mir/borrow_check/nll/region_infer/error_reporting/mod.rs\n257:        diag.emit();\n</pre></div>",
        "id": 129430816,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252732
    },
    {
        "content": "<p>all those cases are missing on my branch</p>",
        "id": 129430818,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252738
    },
    {
        "content": "<p>after that I guess would be easy :)</p>",
        "id": 129430831,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252746
    },
    {
        "content": "<p>I still need to see how to pass a buffer or reuse something on all those places</p>",
        "id": 129430848,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252769
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> okay, that answers my next question</p>",
        "id": 129430857,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252779
    },
    {
        "content": "<p>:)</p>",
        "id": 129430860,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252785
    },
    {
        "content": "<p>(namely, I was wondering how you were planning to rewrite each of those calls to <code>emit()</code>)</p>",
        "id": 129430869,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252793
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>-            err.emit();\n+            self.errors_buffer.push(err);\n</pre></div>",
        "id": 129430927,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252818
    },
    {
        "content": "<p>Its possible that you might be able to do something like <code>self.signal(err)</code></p>",
        "id": 129430940,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252845
    },
    {
        "content": "<p>santiago do you have the context we talked about before available at those locations ?</p>",
        "id": 129430947,
        "sender_full_name": "lqd",
        "timestamp": 1531252857
    },
    {
        "content": "<p>and then have <code>self</code> carry some boolean that decides whether to immediately emit or to buffer.</p>",
        "id": 129430960,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252872
    },
    {
        "content": "<p>@lqd that's basically the issue, I don't know what do I have</p>",
        "id": 129430963,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252881
    },
    {
        "content": "<p>it may be very easy</p>",
        "id": 129430968,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252885
    },
    {
        "content": "<p>I may need to pass some stuff around</p>",
        "id": 129430970,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252890
    },
    {
        "content": "<p>at the very least, that would allow the initial rewrite of those <code>emit()</code> calls to look trivial ... <em>if</em> an appropriate context is already lying around</p>",
        "id": 129430985,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252904
    },
    {
        "content": "<blockquote>\n<p>Its possible that you might be able to do something like <code>self.signal(err)</code></p>\n</blockquote>\n<p>explain more what do you mean?</p>",
        "id": 129430988,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252907
    },
    {
        "content": "<p>felix's suggestion sounds nice indeed</p>",
        "id": 129430989,
        "sender_full_name": "lqd",
        "timestamp": 1531252910
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> well, in the little diff you sketched out</p>",
        "id": 129431036,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252924
    },
    {
        "content": "<p>(but I don't know that code don't mind me ;)</p>",
        "id": 129431044,
        "sender_full_name": "lqd",
        "timestamp": 1531252930
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> you hard coded pushing onto the field for the buffer</p>",
        "id": 129431046,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252938
    },
    {
        "content": "<p>ahh you mean signal emits or stores depending on a bool flag?</p>",
        "id": 129431052,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252954
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> and I'm suggesting you move that decision out-of-line</p>",
        "id": 129431053,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252954
    },
    {
        "content": "<p>ok</p>",
        "id": 129431054,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252959
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> exactly.</p>",
        "id": 129431055,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252961
    },
    {
        "content": "<p>yeah sounds good</p>",
        "id": 129431059,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252968
    },
    {
        "content": "<p><span class=\"emoji emoji-1f44d\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 129431060,
        "sender_full_name": "lqd",
        "timestamp": 1531252969
    },
    {
        "content": "<p>It may not be as nice as we make it out to be</p>",
        "id": 129431063,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252974
    },
    {
        "content": "<p>but its worth a shot</p>",
        "id": 129431064,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531252978
    },
    {
        "content": "<p>that's probably harder though</p>",
        "id": 129431067,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531252981
    },
    {
        "content": "<p>for instance ... I have one context in Move errors and other one in other places</p>",
        "id": 129431085,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531253005
    },
    {
        "content": "<p>I guess we can talk about this later or tomorrow so we don't take over this meeting :)</p>",
        "id": 129431092,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531253023
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> well, either way you'll need some sort of contextual object, even if its only a reference to the buffer itself</p>",
        "id": 129431096,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253033
    },
    {
        "content": "<p>sure</p>",
        "id": 129431100,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253036
    },
    {
        "content": "<p>I just wanted to dig a little into the task</p>",
        "id": 129431140,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253044
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> well, either way you'll need some sort of contextual object, even if its only a reference to the buffer itself</p>\n</blockquote>\n<p>yep</p>",
        "id": 129431145,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531253049
    },
    {
        "content": "<p>because it was something that I know I spent some time looking at, ages ago</p>",
        "id": 129431152,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253055
    },
    {
        "content": "<p>and also beause</p>",
        "id": 129431154,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253061
    },
    {
        "content": "<p>its the one thing that I'm pretty sure <em>cannot</em> be \"reprioritized\"</p>",
        "id": 129431164,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253073
    },
    {
        "content": "<p>unless we did what Nicholas Nethercote suggested and just switch wholesale from AST-borrowck to NLL without running AST-borrowck at all, ever</p>",
        "id": 129431182,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253105
    },
    {
        "content": "<p>(but I don't see that happening, in particular for the reasons already stated by Niko here: <a href=\"https://github.com/rust-lang/rust/issues/46908#issuecomment-403061165\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/46908#issuecomment-403061165\">https://github.com/rust-lang/rust/issues/46908#issuecomment-403061165</a> )</p>",
        "id": 129431203,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253142
    },
    {
        "content": "<p>so okay</p>",
        "id": 129431205,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253145
    },
    {
        "content": "<p>@lqd asked about plans for this week</p>",
        "id": 129431247,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253168
    },
    {
        "content": "<p>If I am interpreting the triage Paper correclty</p>",
        "id": 129431270,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253213
    },
    {
        "content": "<p>it sounds like no one is currently looking at performance stuff, apart from <span class=\"user-mention\" data-user-id=\"116107\">@David Wood</span></p>",
        "id": 129431277,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253231
    },
    {
        "content": "<p>My current PR aims to reduce memory usage.</p>",
        "id": 129431297,
        "sender_full_name": "davidtwco",
        "timestamp": 1531253264
    },
    {
        "content": "<p>I've no idea if it achieves that because it ICEs fairly quickly.</p>",
        "id": 129431305,
        "sender_full_name": "davidtwco",
        "timestamp": 1531253279
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116107\">@David Wood</span> right, that falls into the performance bucket in my book. :)</p>",
        "id": 129431328,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253283
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> after I finish with this thing I can jump into performance stuff</p>",
        "id": 129431368,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531253333
    },
    {
        "content": "<p>unsure what's available to do there</p>",
        "id": 129431375,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531253339
    },
    {
        "content": "<p>do we have actionable issues for perf ?</p>",
        "id": 129431379,
        "sender_full_name": "lqd",
        "timestamp": 1531253344
    },
    {
        "content": "<p>if there's something defined ... what @lqd have said :)</p>",
        "id": 129431394,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531253360
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> <span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> that is indeed one of the problems: I'm not sure if we have any immediate ideas for something to do</p>",
        "id": 129431402,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253367
    },
    {
        "content": "<p>or if it's just let's profile and see what's going on</p>",
        "id": 129431406,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531253375
    },
    {
        "content": "<p>the nll runs seemed important with what was/could be lurking there :)</p>",
        "id": 129431410,
        "sender_full_name": "lqd",
        "timestamp": 1531253384
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> you mean the crater runs? Yes I agree</p>",
        "id": 129431465,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253405
    },
    {
        "content": "<p>yeah</p>",
        "id": 129431480,
        "sender_full_name": "lqd",
        "timestamp": 1531253413
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> do you have any notion of how much remaining triage work is left for you there?</p>",
        "id": 129431488,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253425
    },
    {
        "content": "<p>20-30 maybe</p>",
        "id": 129431507,
        "sender_full_name": "lqd",
        "timestamp": 1531253463
    },
    {
        "content": "<p>let met get you the link</p>",
        "id": 129431517,
        "sender_full_name": "lqd",
        "timestamp": 1531253471
    },
    {
        "content": "<p><a href=\"https://hackmd.io/2sR4vloZQhC8arJkFOFyLA?both\" target=\"_blank\" title=\"https://hackmd.io/2sR4vloZQhC8arJkFOFyLA?both\">https://hackmd.io/2sR4vloZQhC8arJkFOFyLA?both</a></p>",
        "id": 129431537,
        "sender_full_name": "lqd",
        "timestamp": 1531253514
    },
    {
        "content": "<p>theres around 30 in there and I've done a bunch already</p>",
        "id": 129431584,
        "sender_full_name": "lqd",
        "timestamp": 1531253528
    },
    {
        "content": "<p>eyeballing it, probably less than 15</p>",
        "id": 129431604,
        "sender_full_name": "lqd",
        "timestamp": 1531253540
    },
    {
        "content": "<p>okay</p>",
        "id": 129431609,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253543
    },
    {
        "content": "<p>but ofc if a pro like yourself could double check that'd be reassuring :)</p>",
        "id": 129431623,
        "sender_full_name": "lqd",
        "timestamp": 1531253567
    },
    {
        "content": "<p>So I think all these plans for this week sound good to me</p>",
        "id": 129431649,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253603
    },
    {
        "content": "<p><span class=\"emoji emoji-1f44d\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 129431654,
        "sender_full_name": "lqd",
        "timestamp": 1531253616
    },
    {
        "content": "<p>okay then I'm going to call it quits for this week's meeting. (and go check on whether my son has managed to fall asleep with all this noise from outside our apartment)</p>",
        "id": 129431878,
        "sender_full_name": "pnkfelix",
        "timestamp": 1531253874
    },
    {
        "content": "<p>good afternoon / evening everyone <span class=\"emoji emoji-1f44b\" title=\"wave\">:wave:</span></p>",
        "id": 129431929,
        "sender_full_name": "lqd",
        "timestamp": 1531253892
    },
    {
        "content": "<p><span class=\"emoji emoji-1f44b\" title=\"wave\">:wave:</span></p>",
        "id": 129431965,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1531253939
    }
]