[
    {
        "content": "<p><span class=\"emoji emoji-1f44b\" title=\"wave\">:wave:</span> hello dear friends in <span class=\"user-group-mention\" data-user-group-id=\"491\">@WG-compiler-nll</span></p>",
        "id": 132942425,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535484829
    },
    {
        "content": "<p><a href=\"https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be\" target=\"_blank\" title=\"https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be\">paper triage document is here</a></p>",
        "id": 132942476,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535484849
    },
    {
        "content": "<p>any chance <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> is around tonight? I'm not sure what time zone they are in, but I figured I'd check.</p>",
        "id": 132942536,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535484924
    },
    {
        "content": "<p>I'm here</p>",
        "id": 132942542,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535484934
    },
    {
        "content": "<p>okay great. there were some questions that came up when <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> and I were chatting earlier today</p>",
        "id": 132942597,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535484966
    },
    {
        "content": "<p>(they aren't on the agenda; we should probably go through the meeting agenda, and then if there's time after that I can pick your brain.)</p>",
        "id": 132942625,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485005
    },
    {
        "content": "<p>I'll be around after the meeting, so that should be fine.</p>",
        "id": 132942647,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535485030
    },
    {
        "content": "<p>so let's see.. overall status...</p>",
        "id": 132942661,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485063
    },
    {
        "content": "<p>perf is basically looking good, apart from UCD (and memory use)</p>",
        "id": 132942664,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485071
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"125250\">@Wesley Wiser</span>'s branch addresses the memory use problem</p>",
        "id": 132942670,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485078
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116925\">@mikhail-m1</span> was looking at what I think is the best fix for UCD perf</p>",
        "id": 132942711,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485091
    },
    {
        "content": "<p>so it's essentially down to correctness (sound, complete) + diagnostics</p>",
        "id": 132942722,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485110
    },
    {
        "content": "<p>(and njn has a quick fix PR for parts of <code>ucd</code>)</p>",
        "id": 132947620,
        "sender_full_name": "lqd",
        "timestamp": 1535485133
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+is%3Aissue+milestone%3A%22Rust+2018+RC%22+label%3AA-NLL\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+is%3Aissue+milestone%3A%22Rust+2018+RC%22+label%3AA-NLL\">this is the full list of milestone issues</a> -- some are unassigned. I've marked some of them with I-nominated and left some notes in the paper</p>",
        "id": 132947632,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485152
    },
    {
        "content": "<p>it's not clear that all of them belong on the milestone</p>",
        "id": 132947687,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485202
    },
    {
        "content": "<p>there are effectively three relevant milestones remaining at this point, right?</p>",
        "id": 132947741,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485242
    },
    {
        "content": "<p>RC, RC2, and Release. Do I have that right?</p>",
        "id": 132947755,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485258
    },
    {
        "content": "<p>(I want to make sure we're all on the same page)</p>",
        "id": 132947772,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485272
    },
    {
        "content": "<p>that is correct</p>",
        "id": 132947785,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485286
    },
    {
        "content": "<p>RC is still a week or two out I think?</p>",
        "id": 132947793,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485295
    },
    {
        "content": "<p>so it behooves us</p>",
        "id": 132947802,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485307
    },
    {
        "content": "<p>to probably deliberately move some number of these from RC to RC2 (at least)</p>",
        "id": 132947842,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485324
    },
    {
        "content": "<p>right?  I suspect <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> was already doing some of that</p>",
        "id": 132947859,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485338
    },
    {
        "content": "<p>it may make sense, yeah</p>",
        "id": 132947887,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485387
    },
    {
        "content": "<p>we can also wait to do that until closer</p>",
        "id": 132947890,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485392
    },
    {
        "content": "<p>Well</p>",
        "id": 132947894,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485398
    },
    {
        "content": "<p>I guess if <em>all</em> the issues are equally important</p>",
        "id": 132947901,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485406
    },
    {
        "content": "<p>then yes, it doesn't matter when we do that triaging</p>",
        "id": 132947911,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485419
    },
    {
        "content": "<p>but if some are more important than others ...</p>",
        "id": 132947920,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485428
    },
    {
        "content": "<p>yeah, it's fine to move to RC2, then we can always start in early  if we finish everything :)</p>",
        "id": 132947969,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485448
    },
    {
        "content": "<p>should we look at the \"nominated\" things?</p>",
        "id": 132947975,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485458
    },
    {
        "content": "<p>I would like to look at the nominated things, yes</p>",
        "id": 132947982,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485468
    },
    {
        "content": "<p>ok first one was How to split up user-based type annotations? (<a href=\"https://github.com/rust-lang/rust/issues/47184\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/47184\">#47184</a>)</p>",
        "id": 132947997,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485493
    },
    {
        "content": "<p>though I think we left some comments in thread</p>",
        "id": 132948004,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485500
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=+label%3AI-nominated+label%3AA-NLL+\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=+label%3AI-nominated+label%3AA-NLL+\">this is the (fixed) list</a>, right?</p>",
        "id": 132948015,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485510
    },
    {
        "content": "<p>the main thing to figure out was whether this can be split up</p>",
        "id": 132948018,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485512
    },
    {
        "content": "<p>er, yes; I was going off the notes in the paper</p>",
        "id": 132948024,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485522
    },
    {
        "content": "<p>or I guess you are probably using the link from the paper doc</p>",
        "id": 132948031,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485524
    },
    {
        "content": "<p>good idea</p>",
        "id": 132948033,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485526
    },
    {
        "content": "<p>in particular some of the issues are grouped together</p>",
        "id": 132948040,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485533
    },
    {
        "content": "<blockquote>\n<p>the main thing to figure out was whether this can be split up</p>\n</blockquote>\n<p>I think the answer to this <em>is</em> yes but i'm not sure if it makes sense to do so — in particular the constant stuff feels pretty separate</p>",
        "id": 132948110,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485584
    },
    {
        "content": "<p>I guess I could try to split out mentoring instructions, if someone thought they might be up for said work (<span class=\"user-mention\" data-user-id=\"116107\">@davidtwco</span>, are you looking for tasks right now? :)</p>",
        "id": 132948139,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485622
    },
    {
        "content": "<p>/me just noticed the words \"lazy\"</p>",
        "id": 132948149,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485630
    },
    {
        "content": "<p>I will need something to fix aforementioned laziness, yes.</p>",
        "id": 132948161,
        "sender_full_name": "davidtwco",
        "timestamp": 1535485646
    },
    {
        "content": "<p>well maybe we should look at the next few though</p>",
        "id": 132948174,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485662
    },
    {
        "content": "<p>e.g., there are a couple of tricky correctness-related problems:</p>\n<ul>\n<li>How to split up user-based type annotations? (<a href=\"https://github.com/rust-lang/rust/issues/47184\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/47184\">#47184</a>)</li>\n<li>atty regression (<a href=\"https://github.com/rust-lang/rust/issues/53569\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/53569\">#53569</a>)</li>\n<li>spurious outlives requirement in shred-0.7.0 <a href=\"https://github.com/rust-lang/rust/issues/53121\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/53121\">#53121</a></li>\n</ul>",
        "id": 132948227,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485685
    },
    {
        "content": "<p>I guess the atty one -- <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> you think you'll have time for that?</p>",
        "id": 132948302,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485756
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> I can do the minimization for <a href=\"https://github.com/rust-lang/rust/issues/52934\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/52934\">#52934</a> if you want to do more important things</p>",
        "id": 132948311,
        "sender_full_name": "lqd",
        "timestamp": 1535485778
    },
    {
        "content": "<p>I saw you <a href=\"#narrow/stream/122657-wg-nll/topic/.2353569.20even.20more.20dangly.20paths\" title=\"#narrow/stream/122657-wg-nll/topic/.2353569.20even.20more.20dangly.20paths\">opened a topic</a> for us to discuss the best fix :)</p>",
        "id": 132948312,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485779
    },
    {
        "content": "<p>(oh, meta point, I just realized I have a hard stop today at 16:00 -- in 10 minutes, that is)</p>",
        "id": 132948398,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485847
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> sure, feel free to add yourself to the assignees list for <a href=\"https://github.com/rust-lang/rust/issues/52934\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/52934\">#52934</a>. I'm going to keep it assigned to me but I'll try to ping anyone else who's assigned.</p>",
        "id": 132948416,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485870
    },
    {
        "content": "<p>I was curious to \"make a decision\" about two-phase borrows</p>",
        "id": 132948429,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485889
    },
    {
        "content": "<p>what else can I help with ?</p>",
        "id": 132948446,
        "sender_full_name": "lqd",
        "timestamp": 1535485908
    },
    {
        "content": "<p>I should be able to get a fix up for it soon if we can agree an approach. I was going to combine it with a diagnostic improvement, but that can wait.</p>",
        "id": 132948448,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535485912
    },
    {
        "content": "<blockquote>\n<p>I was curious to \"make a decision\" about two-phase borrows</p>\n</blockquote>\n<p>as in <a href=\"https://github.com/rust-lang/rust/issues/53723\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/53723\">#53723</a> ?</p>",
        "id": 132948489,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485924
    },
    {
        "content": "<p>in particular, the question is whether we think it's worth trying to do any expansions, yeah</p>",
        "id": 132948497,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485930
    },
    {
        "content": "<p>/me thinks we should focus on other things</p>",
        "id": 132948501,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485941
    },
    {
        "content": "<p>the borrowck=migrate mode gives us breathing room here</p>",
        "id": 132948511,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485956
    },
    {
        "content": "<p>in terms of future improvements</p>",
        "id": 132948515,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485964
    },
    {
        "content": "<p>certainly an expanded form would fix basically all of the \"unfortunate\" regressions we've seen on <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> — but I think most of them have \"complicating factors\" that would require an involved fix</p>",
        "id": 132948522,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485970
    },
    {
        "content": "<blockquote>\n<p>in terms of future improvements</p>\n</blockquote>\n<p>that's an interesting point</p>",
        "id": 132948525,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485979
    },
    {
        "content": "<p>I hadn't fully considered that</p>",
        "id": 132948533,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535485987
    },
    {
        "content": "<p>i.e. ICE's kill us</p>",
        "id": 132948541,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485993
    },
    {
        "content": "<p>and performance kills us</p>",
        "id": 132948543,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535485996
    },
    {
        "content": "<p>in the sense that borrowck=migrate doesn't mitigate those things</p>",
        "id": 132948549,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486004
    },
    {
        "content": "<p>yes</p>",
        "id": 132948550,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486008
    },
    {
        "content": "<p>and of course NLL-sound kills us too</p>",
        "id": 132948564,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486032
    },
    {
        "content": "<p>but in some ways we (as in the Rust compiler) has always had soundness bugs</p>",
        "id": 132948570,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486038
    },
    {
        "content": "<p>so I'm willing to let some of those slip through to be fixed later</p>",
        "id": 132948613,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486051
    },
    {
        "content": "<p>I think my playbook would be something like this:</p>\n<ul>\n<li>Get the current version humming and released (we're getting there...)</li>\n<li>One or both of:<br>\n    - Fix polonius and see how that goes<br>\n    - Investigate 2PB expansions</li>\n</ul>",
        "id": 132948615,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486060
    },
    {
        "content": "<blockquote>\n<p>i.e. ICE's kill us</p>\n</blockquote>\n<p>do we want to do another crater run now that the previous one's ICEs are fixed ?</p>",
        "id": 132948622,
        "sender_full_name": "lqd",
        "timestamp": 1535486084
    },
    {
        "content": "<blockquote>\n<p>and of course NLL-sound kills us too</p>\n</blockquote>\n<p>we're not really aware of any of these, right?</p>",
        "id": 132948623,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486085
    },
    {
        "content": "<blockquote>\n<p>do we want to do another crater run now that the previous one's ICEs are fixed </p>\n</blockquote>\n<p>I think we do, but we might want to wait until the user type annot thing is closer to done</p>",
        "id": 132948636,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486104
    },
    {
        "content": "<p>respecting type annotations is the big NLL-sound issue I know of</p>",
        "id": 132948641,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486107
    },
    {
        "content": "<p>ah, ok, yes</p>",
        "id": 132948646,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486117
    },
    {
        "content": "<p>in particular — I think the fix for that will involve touch some \"widely used\" code</p>",
        "id": 132948652,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486126
    },
    {
        "content": "<p>and could create ICEs</p>",
        "id": 132948655,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486131
    },
    {
        "content": "<p>(and you've already heard my crazy workarounds for the remaining type annotation cases)</p>",
        "id": 132948661,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486134
    },
    {
        "content": "<p>Also <a href=\"https://github.com/rust-lang/rust/issues/53695\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/53695\">#53695</a>, depending on what we decide.</p>",
        "id": 132948667,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535486147
    },
    {
        "content": "<p>/me not ready to surrender yet</p>",
        "id": 132948670,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486150
    },
    {
        "content": "<p>ah shall we move on to <a href=\"https://github.com/rust-lang/rust/issues/53695\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/53695\">#53695</a></p>",
        "id": 132948722,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486177
    },
    {
        "content": "<p>?</p>",
        "id": 132948723,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486178
    },
    {
        "content": "<p>(that is, put a pin in the 2PB discussion?)</p>",
        "id": 132948737,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486195
    },
    {
        "content": "<p>I think we settled it</p>",
        "id": 132948743,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486208
    },
    {
        "content": "<p>the only open question for me w/r/t 2PB is how much confusion we can mitigate with improved diagnostics</p>",
        "id": 132948754,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486223
    },
    {
        "content": "<p>(I'm gonna have to run, but I'll try to follow along)</p>",
        "id": 132948790,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486275
    },
    {
        "content": "<p>\"2PB == two-phase borrows\", for those who might not have realized :)</p>",
        "id": 132948880,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486349
    },
    {
        "content": "<p>ok that meeting is starting a bit late ;)</p>",
        "id": 132948982,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486443
    },
    {
        "content": "<p>what about this \"removing warnings (<a href=\"https://github.com/rust-lang/rust/issues/52768\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/52768\">#52768</a>)\"</p>",
        "id": 132948985,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486448
    },
    {
        "content": "<p>that warning is certainly an \"impl detail\" we should not expose to users</p>",
        "id": 132948991,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486463
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> can you say a bit more about this?</p>\n<blockquote>\n<p>But on the other hand, my diagnostic review (<a href=\"https://github.com/rust-lang/rust/issues/52663\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/52663\">#52663</a>) is revealing a couple of cases where a diagnostic is missing useful info that we used to report, and I <em>think</em> they correspond to these region errors that we are not reporting.</p>\n</blockquote>",
        "id": 132949011,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535486498
    },
    {
        "content": "<p>boy I wish I had included more context there</p>",
        "id": 132949068,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486549
    },
    {
        "content": "<p>but I think the summary is that</p>",
        "id": 132949071,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486556
    },
    {
        "content": "<p>we had some nice errors that were only reported in AST-borrowck at the time</p>",
        "id": 132949079,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486571
    },
    {
        "content": "<p>since then, we've turned back on at least one of those nice errors, I think ... maybe only in borrowck=migrate mode? Not sure</p>",
        "id": 132949091,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486593
    },
    {
        "content": "<p>let me see if I can find a specific link from <a href=\"https://github.com/rust-lang/rust/issues/52663\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/52663\">#52663</a></p>",
        "id": 132949100,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486612
    },
    {
        "content": "<p>oh right I think the devil is literally in the <code>&lt;details&gt;</code> here</p>",
        "id": 132949115,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486636
    },
    {
        "content": "<p>src/test/ui/issue-13058.nll.stderr was one I noted</p>",
        "id": 132949158,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486659
    },
    {
        "content": "<p>this is the comment collecting them in that issue: <a href=\"https://github.com/rust-lang/rust/issues/52663#issuecomment-409031734\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/52663#issuecomment-409031734\">https://github.com/rust-lang/rust/issues/52663#issuecomment-409031734</a></p>",
        "id": 132949184,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486710
    },
    {
        "content": "<p>so the questions I have are: 1. What does NLL currently do for those two cases in that comment, and 2. What does borrowck=migrate do for them.</p>",
        "id": 132949208,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486748
    },
    {
        "content": "<p>src/test/ui/issue-13058.nll.stderr is probably because NLL (or any MIR generation?) doesn't run if there are type errors.</p>",
        "id": 132949292,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535486838
    },
    {
        "content": "<p>so consider this case: <a href=\"https://play.rust-lang.org/?gist=8851ff9938c45d9180bd71cb584d6fbc&amp;version=nightly&amp;mode=debug&amp;edition=2015\" target=\"_blank\" title=\"https://play.rust-lang.org/?gist=8851ff9938c45d9180bd71cb584d6fbc&amp;version=nightly&amp;mode=debug&amp;edition=2015\">https://play.rust-lang.org/?gist=8851ff9938c45d9180bd71cb584d6fbc&amp;version=nightly&amp;mode=debug&amp;edition=2015</a></p>",
        "id": 132949299,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486857
    },
    {
        "content": "<p>On nightly for play, AST-borrowck includes message \"help: you can add a constraint to the return type to make it last less than <code>'static</code> and match the anonymous lifetime <a href=\"https://github.com/rust-lang/rust/issues/1\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/1\">#1</a> defined on the method body\"</p>",
        "id": 132949350,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486888
    },
    {
        "content": "<p>under NLL, it does not include that</p>",
        "id": 132949355,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486899
    },
    {
        "content": "<p>static-return-lifetime-infered.nll.stderr is indeed a regression.</p>",
        "id": 132949373,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535486933
    },
    {
        "content": "<p>BUT</p>",
        "id": 132949378,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486942
    },
    {
        "content": "<p>2018 edition: <a href=\"https://play.rust-lang.org/?gist=7c173cea49b300b334029b61c00bed6b&amp;version=nightly&amp;mode=debug&amp;edition=2018\" target=\"_blank\" title=\"https://play.rust-lang.org/?gist=7c173cea49b300b334029b61c00bed6b&amp;version=nightly&amp;mode=debug&amp;edition=2018\">https://play.rust-lang.org/?gist=7c173cea49b300b334029b61c00bed6b&amp;version=nightly&amp;mode=debug&amp;edition=2018</a></p>",
        "id": 132949383,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486945
    },
    {
        "content": "<p>i.e. borrowck=migrate</p>",
        "id": 132949388,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486951
    },
    {
        "content": "<p>includes the nice help</p>",
        "id": 132949390,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486955
    },
    {
        "content": "<p>So I don't think this needs to be a high priority item to resolve</p>",
        "id": 132949406,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486983
    },
    {
        "content": "<p>because of whatever hack I put in for borrowck=migrate</p>",
        "id": 132949412,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535486990
    },
    {
        "content": "<p>Ill transcribe this info onto  <a href=\"https://github.com/rust-lang/rust/issues/52768\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/52768\">#52768</a></p>",
        "id": 132949491,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535487046
    },
    {
        "content": "<p>I guess it could be useful to see how the wontfix/2PB error cases from the latest crater run would look with borrowck=migrate</p>",
        "id": 132949694,
        "sender_full_name": "lqd",
        "timestamp": 1535487355
    },
    {
        "content": "<p>has anyone been doing crater runs with 2018 edition turned on?</p>",
        "id": 132949750,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535487380
    },
    {
        "content": "<p>there's one running IIRC, <span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> right ?</p>",
        "id": 132949753,
        "sender_full_name": "lqd",
        "timestamp": 1535487395
    },
    {
        "content": "<p>because that should have that same effect (plus other stuff), right?</p>",
        "id": 132949754,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535487395
    },
    {
        "content": "<p>sure</p>",
        "id": 132949758,
        "sender_full_name": "lqd",
        "timestamp": 1535487409
    },
    {
        "content": "<p>yep, one edition crater run should be running, let me check</p>",
        "id": 132949768,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1535487424
    },
    {
        "content": "<p>yep it's running (I hate logging into the server to check legacy runs...)</p>",
        "id": 132949775,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1535487450
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> thank you</p>",
        "id": 132949786,
        "sender_full_name": "lqd",
        "timestamp": 1535487478
    },
    {
        "content": "<p>do we know when it will end approximately ?</p>",
        "id": 132949875,
        "sender_full_name": "lqd",
        "timestamp": 1535487556
    },
    {
        "content": "<p>(that is, I can manually check with borrowck=migrate until the results are available)</p>",
        "id": 132949887,
        "sender_full_name": "lqd",
        "timestamp": 1535487599
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> did you want to talk about more things ?</p>",
        "id": 132949983,
        "sender_full_name": "lqd",
        "timestamp": 1535487700
    },
    {
        "content": "<p>hmm. in 3/4 days it should be finished, but I'm not sure (there is no progress indicator for legacy runs, and it's running on a new temporary machine)</p>",
        "id": 132949992,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1535487716
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> did you want to talk about more things ?</p>\n</blockquote>\n<p>well there were like 10 nominated issues i think</p>",
        "id": 132950061,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535487769
    },
    {
        "content": "<p>(it would also be interesting to build servo with NLLs)</p>",
        "id": 132950072,
        "sender_full_name": "lqd",
        "timestamp": 1535487786
    },
    {
        "content": "<p>these are the nominated issues: <a href=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=+label%3AI-nominated+label%3AA-NLL+\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=+label%3AI-nominated+label%3AA-NLL+\">https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=+label%3AI-nominated+label%3AA-NLL+</a></p>",
        "id": 132950083,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535487803
    },
    {
        "content": "<p>we've touched on some of these already</p>",
        "id": 132950094,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535487825
    },
    {
        "content": "<p>e.g. everything that is about 2PB, I think we agreed we can afford to let that slide to later</p>",
        "id": 132950099,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535487841
    },
    {
        "content": "<p>sorry let me narrow focus to just the <em>open</em> nominated issues: <a href=\"https://github.com/rust-lang/rust/issues?q=label%3AI-nominated+label%3AA-NLL+is%3Aopen\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues?q=label%3AI-nominated+label%3AA-NLL+is%3Aopen\">https://github.com/rust-lang/rust/issues?q=label%3AI-nominated+label%3AA-NLL+is%3Aopen</a></p>",
        "id": 132950163,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535487882
    },
    {
        "content": "<p>so I think the main thing I wanted to talk about was  <del>#53595</del> <a href=\"https://github.com/rust-lang/rust/issues/53695\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/53695\">#53695</a></p>",
        "id": 132950187,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535487913
    },
    {
        "content": "<p>I'm not convinced that was what you intended to link to.</p>",
        "id": 132950207,
        "sender_full_name": "davidtwco",
        "timestamp": 1535487952
    },
    {
        "content": "<p>is that the good link ?</p>",
        "id": 132950208,
        "sender_full_name": "lqd",
        "timestamp": 1535487953
    },
    {
        "content": "<p>(which .... I don't think was discussed yet ... apart from my mentioning it above)</p>",
        "id": 132950209,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535487954
    },
    {
        "content": "<p>ugh</p>",
        "id": 132950211,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535487959
    },
    {
        "content": "<p>fixed</p>",
        "id": 132950255,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535487981
    },
    {
        "content": "<p>is this the one you wanted to discuss with <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> ?</p>",
        "id": 132950266,
        "sender_full_name": "lqd",
        "timestamp": 1535488006
    },
    {
        "content": "<p>no</p>",
        "id": 132950271,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488018
    },
    {
        "content": "<p>i mean, we <em>do</em> want to get <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> 's input on this too</p>",
        "id": 132950280,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488029
    },
    {
        "content": "<p>but the questions I was alluding to earlier were about something else</p>",
        "id": 132950289,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488040
    },
    {
        "content": "<p>The solution here is pretty clear, it's just whether we think that this should be allowed.</p>",
        "id": 132950300,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535488067
    },
    {
        "content": "<p>well, I'm also wondering : 1. <em>by when</em> do we need a decision on this, and 2. who should make the decision?</p>",
        "id": 132950346,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488092
    },
    {
        "content": "<p>Do we need the lang team involved? Or should we just trust our WG to make the right call here</p>",
        "id": 132950352,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488106
    },
    {
        "content": "<p>what is your immediate reaction to this question ?</p>",
        "id": 132950358,
        "sender_full_name": "lqd",
        "timestamp": 1535488138
    },
    {
        "content": "<p>Regarding the first Q, I personally don't think this has to be decided by RC. But I'd love to hear counter arguments.</p>",
        "id": 132950369,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488164
    },
    {
        "content": "<p>it certainly wouldn't hurt to ask t-lang in any case</p>",
        "id": 132950427,
        "sender_full_name": "lqd",
        "timestamp": 1535488213
    },
    {
        "content": "<p>Regarding the second Q: Well, I suppose we've been left in charge of even meatier Q's. :)</p>",
        "id": 132950435,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488228
    },
    {
        "content": "<p>this is just one of those ones that seems like a bikeshed type Q</p>",
        "id": 132950455,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488246
    },
    {
        "content": "<p>I don't think we need to decide. But I think that we should check if there's any disagreement about it first.</p>",
        "id": 132950462,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535488258
    },
    {
        "content": "<p>(you know, how everyone can have an opinion on something this \"simple\")</p>",
        "id": 132950465,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488260
    },
    {
        "content": "<p>So, lets say we add the fake read. is there any downside we can anticipate?</p>",
        "id": 132950484,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488301
    },
    {
        "content": "<p>Perf, maybe?</p>",
        "id": 132950574,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535488395
    },
    {
        "content": "<p>and should the fake read indeed occur after the whole <code>let PAT = EXPR;</code> is done?</p>",
        "id": 132950579,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488399
    },
    {
        "content": "<p>Well, it needs to occur at a point which is meaningfully later than the assign.</p>",
        "id": 132950596,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535488438
    },
    {
        "content": "<p>or should it somehow be intermixed. I'm thinking of a case like <code>let (x, y) = ...;</code>: should the fake read of <code>x</code> come before the initialization of <code>y</code></p>",
        "id": 132950633,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488444
    },
    {
        "content": "<p>I think that we already fail in that case</p>",
        "id": 132950647,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535488466
    },
    {
        "content": "<p>(to compile)</p>",
        "id": 132950653,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535488474
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> when you said earlier that the solution was clear in this case, were you thinking of the \"fake read\" solution as well ?</p>",
        "id": 132950660,
        "sender_full_name": "lqd",
        "timestamp": 1535488487
    },
    {
        "content": "<p>It's just <code>let [mut] x = ...</code> where this happens. (<em>quickly goes to check</em>)</p>",
        "id": 132950663,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535488495
    },
    {
        "content": "<p>Yes</p>",
        "id": 132950666,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535488501
    },
    {
        "content": "<p>I have to admit I find the fake read ... a bit hacky here</p>",
        "id": 132950708,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488557
    },
    {
        "content": "<p>do we have an idea on how much work would this be ? ie, if perf does turn out to regress, would we lose a couple hours or days ?</p>",
        "id": 132950750,
        "sender_full_name": "lqd",
        "timestamp": 1535488566
    },
    {
        "content": "<p>it just doesn't <em>feel</em> right to me. Its only a gut reaction</p>",
        "id": 132950756,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488573
    },
    {
        "content": "<p>(and/or if t-lang disagrees with this solution)</p>",
        "id": 132950774,
        "sender_full_name": "lqd",
        "timestamp": 1535488621
    },
    {
        "content": "<p>there's nothing <em>incorrect</em> about the code, right? Isn't this fake read akin to adding a lint?</p>",
        "id": 132950844,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1535488689
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116155\">@Jake Goulding</span> yeah I think that is part of why my gut is reacting</p>",
        "id": 132950854,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488704
    },
    {
        "content": "<p>like, if we're accepting the code</p>\n<div class=\"codehilite\"><pre><span></span>    let x;\n    {\n        let z = 0;\n        x = &amp;z\n    };\n</pre></div>\n\n\n<p>then why not accept the form where its in the initializer?</p>",
        "id": 132950865,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488739
    },
    {
        "content": "<p>It depends on the exact order that things happen in MIR. Whether this is a good enough reason to disallow it is perhaps up for debate.</p>",
        "id": 132950901,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535488778
    },
    {
        "content": "<p>ah true. We did after all, for example, put in FalseEdges in order to keep our options open in terms of what MIR we generate</p>",
        "id": 132950966,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488821
    },
    {
        "content": "<p>So its possible this is analogous to that ... ?</p>",
        "id": 132950976,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488837
    },
    {
        "content": "<p>There's also <code>let _ = ...</code>(or any pattern that doesn't bind and values or read any discriminant), but that seems more reasonable.</p>",
        "id": 132951027,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535488899
    },
    {
        "content": "<p>still, I think I'd need to see examples of the variants here, i.e. the cases where we accept and where we reject that otherwise look similar</p>",
        "id": 132951031,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488901
    },
    {
        "content": "<p>The <code>let _ = ...;</code> is a separate can of worms I think</p>",
        "id": 132951035,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488915
    },
    {
        "content": "<p>or at least its one that I believe <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> made a dedicated issue for somwhere...</p>",
        "id": 132951077,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535488932
    },
    {
        "content": "<p>I guess I'll write up cases we do and don't allow in the issue.</p>",
        "id": 132951094,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1535488960
    },
    {
        "content": "<p>sorry, had to drop off. I don't have a strong opinion here but I think writing up various examples and then cc'ing a wider group to get their take seems fine</p>",
        "id": 132951129,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535489016
    },
    {
        "content": "<p>in particular the differences when using initializer vs when using block were interesting to me</p>",
        "id": 132951140,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535489040
    },
    {
        "content": "<p>I think I tend towards \"this is ok\" personally but.. yeah.</p>",
        "id": 132951183,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535489053
    },
    {
        "content": "<p>not sure yet</p>",
        "id": 132951184,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535489057
    },
    {
        "content": "<blockquote>\n<p>or at least its one that I believe <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> made a dedicated issue for somwhere...</p>\n</blockquote>\n<p><a href=\"https://github.com/rust-lang/rust/issues/53114\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/53114\">#53114</a> is what I was thinking of here.</p>",
        "id": 132951235,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535489141
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> do you agree that we do not <em>need</em> to make a decision in time for RC ?</p>",
        "id": 132951473,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535489404
    },
    {
        "content": "<p>(in which case I'd argue that we should reassign it to RC 2 milestone)</p>",
        "id": 132951492,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535489421
    },
    {
        "content": "<p>(sorry I have to go, bbl)</p>",
        "id": 132951574,
        "sender_full_name": "lqd",
        "timestamp": 1535489529
    },
    {
        "content": "<p>I must myself go t osleep ... <span class=\"emoji emoji-1f62a\" title=\"sleepy\">:sleepy:</span></p>",
        "id": 132951590,
        "sender_full_name": "pnkfelix",
        "timestamp": 1535489557
    },
    {
        "content": "<p>o/</p>",
        "id": 132951623,
        "sender_full_name": "lqd",
        "timestamp": 1535489605
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> do you agree that we do not <em>need</em> to make a decision in time for RC ?</p>\n</blockquote>\n<p>yes I do</p>",
        "id": 132951638,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1535489630
    }
]