[
    {
        "content": "<p>hi all</p>",
        "id": 127617909,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227142
    },
    {
        "content": "<p>or rather</p>",
        "id": 127617914,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227146
    },
    {
        "content": "<p>o/</p>",
        "id": 127617916,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227149
    },
    {
        "content": "<p>hi <span class=\"user-mention\" data-user-id=\"*\">@all</span></p>",
        "id": 127617918,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227151
    },
    {
        "content": "<p>\\o</p>",
        "id": 127617924,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528227157
    },
    {
        "content": "<p>\\o</p>",
        "id": 127617935,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1528227169
    },
    {
        "content": "<p>o/</p>",
        "id": 127617942,
        "sender_full_name": "davidtwco",
        "timestamp": 1528227181
    },
    {
        "content": "<p>so here's the paper doc for the meeting, as usual: <a href=\"https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be\" target=\"_blank\" title=\"https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be\">https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be#</a></p>",
        "id": 127617960,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227210
    },
    {
        "content": "<p>Feel free to add any status updates to the first section</p>",
        "id": 127617972,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227235
    },
    {
        "content": "<p>o/</p>",
        "id": 127618028,
        "sender_full_name": "Keith Yeung",
        "timestamp": 1528227261
    },
    {
        "content": "<p>I'll call particular attention to this addition to the \"NLL stderr diagnostic devations\" paper doc: <a href=\"https://paper.dropbox.com/doc/NLL-stderr-diagnostic-deviations-KzroSvNgQ7lip3WQyiLTa#:uid=647910423141116858401682&amp;h2=Github-Issues-filed-for-distin\" target=\"_blank\" title=\"https://paper.dropbox.com/doc/NLL-stderr-diagnostic-deviations-KzroSvNgQ7lip3WQyiLTa#:uid=647910423141116858401682&amp;h2=Github-Issues-filed-for-distin\">https://paper.dropbox.com/doc/NLL-stderr-diagnostic-deviations-KzroSvNgQ7lip3WQyiLTa#:uid=647910423141116858401682&amp;h2=Github-Issues-filed-for-distin</a></p>",
        "id": 127618042,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227279
    },
    {
        "content": "<p>namely, its a second table that is like an inverse of the first</p>",
        "id": 127618055,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227299
    },
    {
        "content": "<p>its meant to help us actually attack the issues that the tests identified</p>",
        "id": 127618073,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227313
    },
    {
        "content": "<p>(I put that \"Last Known Investigators\" column in there as a way for people to say \"Hmm I wonder what the status is on this\" or even \"I wonder if I could help with this\", and then they'd know maybe who to ping about it.)</p>",
        "id": 127618175,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227422
    },
    {
        "content": "<p>So, having said all that</p>",
        "id": 127618187,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227436
    },
    {
        "content": "<p>Our priorities for this week</p>",
        "id": 127618189,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227442
    },
    {
        "content": "<p>so things that are all blank there are basically ... nobody has looked at it yet?</p>",
        "id": 127618196,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227452
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> I think so. there may be a few cases where I missed that someone had looked at it</p>",
        "id": 127618206,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227477
    },
    {
        "content": "<p>ok</p>",
        "id": 127618251,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227490
    },
    {
        "content": "<p>they aren't all of equal importance, too</p>",
        "id": 127618260,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227500
    },
    {
        "content": "<p>I was supposed to start with <a href=\"https://github.com/rust-lang/rust/issues/51195\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/51195\">https://github.com/rust-lang/rust/issues/51195</a></p>",
        "id": 127618261,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528227504
    },
    {
        "content": "<p>I can assign that to myself on github</p>",
        "id": 127618272,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528227526
    },
    {
        "content": "<p>unless <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> wants me to jump on something else</p>",
        "id": 127618282,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528227537
    },
    {
        "content": "<p>yeah and I think someone also had been looking at <a href=\"https://github.com/rust-lang/rust/issues/51000\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/51000\">https://github.com/rust-lang/rust/issues/51000</a></p>",
        "id": 127618283,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227538
    },
    {
        "content": "<p>so there are some omissions</p>",
        "id": 127618294,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227547
    },
    {
        "content": "<p>I think <span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> that issue is as good as any other — are you still doing the profiling bulds?</p>",
        "id": 127618297,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227572
    },
    {
        "content": "<p>we were working with Niko on that one</p>",
        "id": 127618299,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528227578
    },
    {
        "content": "<p>Look at it this way: If you poked at a bug and think you could help someone with it</p>",
        "id": 127618300,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227578
    },
    {
        "content": "<p>then please do add yourself to the appropriate cell in that column. :)</p>",
        "id": 127618307,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227594
    },
    {
        "content": "<blockquote>\n<p>I think <span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> that issue is as good as any other — are you still doing the profiling bulds?</p>\n</blockquote>\n<p>this thing is still building :(</p>",
        "id": 127618308,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528227598
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> in case it was not clear #51000 is the one we were working with Niko</p>",
        "id": 127618382,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528227635
    },
    {
        "content": "<p>I feel like #51000 may be a \"meh\" case</p>",
        "id": 127618392,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227660
    },
    {
        "content": "<p>I remember <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> said it will need a \"major\" refactor</p>",
        "id": 127618398,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528227667
    },
    {
        "content": "<p>what makes it \"MY EYES\" is the multi-line span</p>",
        "id": 127618400,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227670
    },
    {
        "content": "<p>So, diagnostics are definitely a big task, and an important one since Niko and I are now on the same page that when we deploy NLL, its going to be using the diagnostics that we are fixing now</p>",
        "id": 127618402,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227674
    },
    {
        "content": "<p>but that is only there because  the test is artificial</p>",
        "id": 127618407,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227682
    },
    {
        "content": "<p>I think that the fix is probably to make <code>Place</code> carry a span, and to convert MIR borrowck to use something else</p>",
        "id": 127618410,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227698
    },
    {
        "content": "<p>(i.e. in that discussion we had a week ago, we now agree that if we can do it, we want to set things up so that the end users will only see the error messages that we are working on right now.)</p>",
        "id": 127618416,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227706
    },
    {
        "content": "<p>But having said all that</p>",
        "id": 127618467,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227738
    },
    {
        "content": "<p>I actually would like <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> to say something about performance investigation</p>",
        "id": 127618476,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227753
    },
    {
        "content": "<p>because that's also super important, perhaps even more importnaat now</p>",
        "id": 127618484,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227765
    },
    {
        "content": "<p>because (I think) we might have diagnostics sort of under control (or at least on a  trajectory to be under control)</p>",
        "id": 127618497,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227784
    },
    {
        "content": "<p>but I don't know if performance has that same trajectory right now</p>",
        "id": 127618513,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227793
    },
    {
        "content": "<p>ok well you can take a look at the <a href=\"https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be\" target=\"_blank\" title=\"https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be\">profiling here</a></p>",
        "id": 127618524,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227815
    },
    {
        "content": "<p>that is for clap-rs</p>",
        "id": 127618591,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227874
    },
    {
        "content": "<p>obviously the heavy weight thing there is type-checking</p>",
        "id": 127618594,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227879
    },
    {
        "content": "<p>I spent a while digging into that and I believe there is room for substantial improvement</p>",
        "id": 127618596,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227888
    },
    {
        "content": "<p>but it's a non-trivial refactoring</p>",
        "id": 127618599,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227894
    },
    {
        "content": "<p>in short, looking at the <em>actual operations</em> that the type-check does, I found that if we were to canonicalize and query-ify them, we would only have to do about 6% of what we are doing now</p>",
        "id": 127618611,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227914
    },
    {
        "content": "<p>that said, it's not obvious that this will translate to 6% of the time we are spending</p>",
        "id": 127618613,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227927
    },
    {
        "content": "<p>but it's a good lead anyway and it's what I've been working towards</p>",
        "id": 127618617,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227939
    },
    {
        "content": "<p>I sort of estimate that if I keep devoting a lot of time into it, coudl have it done by next week</p>",
        "id": 127618621,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227949
    },
    {
        "content": "<p>the other things in the profile are smaller, but still significant</p>",
        "id": 127618669,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528227974
    },
    {
        "content": "<p>okay</p>",
        "id": 127618670,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227974
    },
    {
        "content": "<p>what is the \"this\" after <code>DataFlowResultsConsumer::analyze_results (7%</code> ?</p>",
        "id": 127618678,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528227995
    },
    {
        "content": "<p>er that was a mistake</p>",
        "id": 127618690,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228010
    },
    {
        "content": "<p>I originally wrote \"why is this so slow\"</p>",
        "id": 127618693,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228016
    },
    {
        "content": "<p>okay</p>",
        "id": 127618694,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228017
    },
    {
        "content": "<p>but I added a bit more detail below :)</p>",
        "id": 127618696,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228019
    },
    {
        "content": "<p>it still seems to me that 7% <strong>of total execution time</strong></p>",
        "id": 127618705,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228029
    },
    {
        "content": "<p>should not be spent walking those results</p>",
        "id": 127618709,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228033
    },
    {
        "content": "<p>granted, cargo check :)</p>",
        "id": 127618715,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228042
    },
    {
        "content": "<p>but for comparison</p>",
        "id": 127618725,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228055
    },
    {
        "content": "<p>the entire AST-based borrowck</p>",
        "id": 127618732,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228059
    },
    {
        "content": "<p>executes in 2% of total execution time</p>",
        "id": 127618733,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228062
    },
    {
        "content": "<p>and it does all this same work</p>",
        "id": 127618735,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228070
    },
    {
        "content": "<p>well, not entirely fair, I guess MIR is desugared and has \"Extra stuff \"</p>",
        "id": 127618779,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228084
    },
    {
        "content": "<p>but point stands :)</p>",
        "id": 127618783,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228087
    },
    {
        "content": "<p>the <code>visit_mir</code> calls</p>",
        "id": 127618791,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228110
    },
    {
        "content": "<p>the obvious big gorilla in that 7% is <code>access_place</code></p>",
        "id": 127618792,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228110
    },
    {
        "content": "<blockquote>\n<p>the <code>visit_mir</code> calls</p>\n</blockquote>\n<p>I have no idea what those are</p>",
        "id": 127618793,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228115
    },
    {
        "content": "<p>I can't figure it out</p>",
        "id": 127618794,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228119
    },
    {
        "content": "<p>those are isolated to just the ones during MIR-borrowck ?</p>",
        "id": 127618796,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228123
    },
    {
        "content": "<p>yes, and even more than that</p>",
        "id": 127618802,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228132
    },
    {
        "content": "<p>or are they all the <code>visit_mir</code> calls during the whole compile?</p>",
        "id": 127618803,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228133
    },
    {
        "content": "<p>they are <em>direct calls</em> from <code>do_mir_borrowck</code></p>",
        "id": 127618805,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228137
    },
    {
        "content": "<p>hmm</p>",
        "id": 127618809,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228144
    },
    {
        "content": "<p>no, all of this is contextual to mir-borrowck</p>",
        "id": 127618811,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228145
    },
    {
        "content": "<p>but I can't find any such calls</p>",
        "id": 127618814,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228148
    },
    {
        "content": "<p>I added <code>#[inline(never)]</code> because sometimes that creates direct calls</p>",
        "id": 127618817,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228156
    },
    {
        "content": "<p>where none existed</p>",
        "id": 127618819,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228158
    },
    {
        "content": "<p>so I added it in various places</p>",
        "id": 127618820,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228162
    },
    {
        "content": "<p>and I still can't find it</p>",
        "id": 127618821,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228164
    },
    {
        "content": "<p>so I am kind of confused</p>",
        "id": 127618826,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228168
    },
    {
        "content": "<p>it might be that the DWARF info is a bit messed up?</p>",
        "id": 127618830,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228176
    },
    {
        "content": "<p>the next step is to add in -Ztime-passes style instrumentation I guess</p>",
        "id": 127618840,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228189
    },
    {
        "content": "<p>and try to correlate it</p>",
        "id": 127618842,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228195
    },
    {
        "content": "<p>MoveData::gather_moves maybe ...</p>",
        "id": 127618892,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228206
    },
    {
        "content": "<p>well, I added <code>#[inline(never)]</code> to that</p>",
        "id": 127618897,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228214
    },
    {
        "content": "<p>and then there's nll::replace_regions_in_mir</p>",
        "id": 127618899,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228223
    },
    {
        "content": "<p>that one too</p>",
        "id": 127618900,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228228
    },
    {
        "content": "<p>both of them are present in the profile, but very small</p>",
        "id": 127618907,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228237
    },
    {
        "content": "<p>0% in both cases</p>",
        "id": 127618911,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228249
    },
    {
        "content": "<p>hmm okay so you already made them be out-of-line ?</p>",
        "id": 127618912,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228250
    },
    {
        "content": "<p>yes</p>",
        "id": 127618913,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228253
    },
    {
        "content": "<p>weird weird wierd</p>",
        "id": 127618914,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228255
    },
    {
        "content": "<p>clearly the answer is</p>",
        "id": 127618917,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228260
    },
    {
        "content": "<p>What if you added a panic/bug at the top of the function then checked the backtrace? Not sure if that is a sensible suggestion.</p>",
        "id": 127618919,
        "sender_full_name": "davidtwco",
        "timestamp": 1528228262
    },
    {
        "content": "<p>do we know how to / could we prototype a <code>do_dataflow</code> replacement in polonius ?</p>",
        "id": 127618925,
        "sender_full_name": "lqd",
        "timestamp": 1528228270
    },
    {
        "content": "<p>to cut-and-paste the method N tims</p>",
        "id": 127618926,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228272
    },
    {
        "content": "<p>:)</p>",
        "id": 127618928,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228275
    },
    {
        "content": "<p>this is my diff: <a href=\"https://gist.github.com/5607f3ce59fde68aae098cb1b45c216d\" target=\"_blank\" title=\"https://gist.github.com/5607f3ce59fde68aae098cb1b45c216d\">https://gist.github.com/5607f3ce59fde68aae098cb1b45c216d</a></p>",
        "id": 127618933,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228287
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116107\">@David Wood</span> the problem is that <code>visit_mir</code> is called from many places</p>",
        "id": 127618937,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228299
    },
    {
        "content": "<p>also, these hits are coming <em>directly</em> from <code>visit_mir</code></p>",
        "id": 127618942,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228317
    },
    {
        "content": "<p>not from some callee of it</p>",
        "id": 127618943,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228321
    },
    {
        "content": "<p>it itself is (I think) a generic fn</p>",
        "id": 127618985,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228326
    },
    {
        "content": "<p>I kinda think think the profile data is wonky somehow</p>",
        "id": 127618988,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228334
    },
    {
        "content": "<p>Ah, I figured that if it was called directly from <code>do_mir_borrowck</code> then you'd see that failure first.</p>",
        "id": 127618990,
        "sender_full_name": "davidtwco",
        "timestamp": 1528228335
    },
    {
        "content": "<p>oh, but I think it gets called before we get to MIR borrowck</p>",
        "id": 127618993,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228344
    },
    {
        "content": "<p>I guess we could set some flag</p>",
        "id": 127618996,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228349
    },
    {
        "content": "<p>and start ruling out known sources</p>",
        "id": 127618997,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228355
    },
    {
        "content": "<p>seems like a good task for somebody :)</p>",
        "id": 127619003,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228362
    },
    {
        "content": "<p>I can try doing it on the side, but I'm juggling already a few things...</p>",
        "id": 127619011,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228371
    },
    {
        "content": "<p>I can take a look.</p>",
        "id": 127619016,
        "sender_full_name": "davidtwco",
        "timestamp": 1528228378
    },
    {
        "content": "<p>This may seem obvious, but: make sure you can replicate the performance numbers first</p>",
        "id": 127619028,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228395
    },
    {
        "content": "<blockquote>\n<p>do we know how to / could we prototype a <code>do_dataflow</code> replacement in polonius ?</p>\n</blockquote>\n<p>I haven't really thought hard about that <span class=\"user-mention\" data-user-id=\"116113\">@lqd</span></p>",
        "id": 127619029,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228395
    },
    {
        "content": "<blockquote>\n<p>This may seem obvious, but: make sure you can replicate the performance numbers first</p>\n</blockquote>\n<p>I guess that was directed at <span class=\"user-mention\" data-user-id=\"116107\">@David Wood</span> ?</p>",
        "id": 127619033,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228410
    },
    {
        "content": "<p>No point in investigating if you don't see the evidence from the outset</p>",
        "id": 127619034,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228411
    },
    {
        "content": "<p>in which case, I definitely agree</p>",
        "id": 127619038,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228417
    },
    {
        "content": "<p>actualy</p>",
        "id": 127619040,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228419
    },
    {
        "content": "<p>Yes that was directed at <span class=\"user-mention\" data-user-id=\"116107\">@David Wood</span></p>",
        "id": 127619042,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228420
    },
    {
        "content": "<p>another good idae which I've not tried</p>",
        "id": 127619045,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228423
    },
    {
        "content": "<p>is to run this with cachegrind</p>",
        "id": 127619049,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228430
    },
    {
        "content": "<p>or whatever that tool is called</p>",
        "id": 127619050,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228433
    },
    {
        "content": "<p>so slow...</p>",
        "id": 127619094,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228448
    },
    {
        "content": "<p>not cachegrind really</p>",
        "id": 127619097,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228450
    },
    {
        "content": "<p>do_dataflow's 2% is not that significant compared to the rest</p>",
        "id": 127619099,
        "sender_full_name": "lqd",
        "timestamp": 1528228452
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> yeah I think it's prob not worth it just now</p>",
        "id": 127619107,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228462
    },
    {
        "content": "<p>Replicating the performance numbers would be profiling <code>clap-rs</code>?</p>",
        "id": 127619121,
        "sender_full_name": "davidtwco",
        "timestamp": 1528228482
    },
    {
        "content": "<p>Callgrind</p>",
        "id": 127619155,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228519
    },
    {
        "content": "<p>that's the one I meant</p>",
        "id": 127619158,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228522
    },
    {
        "content": "<p>yeah, if you gather some perf stats</p>",
        "id": 127619164,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228529
    },
    {
        "content": "<p>we can check if you see the same data :)</p>",
        "id": 127619167,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228534
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116107\">@David Wood</span> yes, profile clap-rs and make sure you observe similar issues</p>",
        "id": 127619169,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228537
    },
    {
        "content": "<p>I can start a callgrind run going anyway</p>",
        "id": 127619185,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228552
    },
    {
        "content": "<p>it takes a while, but that's ok, I got other stuff to do</p>",
        "id": 127619192,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228557
    },
    {
        "content": "<p>I assume we can't use chalk's SLG solver for the \"internal type-check\" ?</p>",
        "id": 127619245,
        "sender_full_name": "lqd",
        "timestamp": 1528228592
    },
    {
        "content": "<p>is anybody interested in trying to optimize <code>access_place</code> ?</p>",
        "id": 127619252,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228602
    },
    {
        "content": "<p>Well, wait</p>",
        "id": 127619254,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228611
    },
    {
        "content": "<p>before that</p>",
        "id": 127619259,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228612
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> nope :) anyway I doubt it would be faster yet, it's never been optimized</p>",
        "id": 127619261,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228614
    },
    {
        "content": "<blockquote>\n<p>before that</p>\n</blockquote>\n<p>ok</p>",
        "id": 127619264,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228618
    },
    {
        "content": "<p>does anyone want to volunteer to look at why inflate is so slow?</p>",
        "id": 127619272,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228627
    },
    {
        "content": "<p>(unless I missed that task being taken already?)</p>",
        "id": 127619275,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228635
    },
    {
        "content": "<p>ok, before <em>that</em>, let's make a list I guess?</p>",
        "id": 127619276,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228636
    },
    {
        "content": "<p>Ha ha</p>",
        "id": 127619278,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228640
    },
    {
        "content": "<p>hahaha</p>",
        "id": 127619286,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528228645
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> count with me on what you need</p>",
        "id": 127619292,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528228670
    },
    {
        "content": "<p>damn :)</p>",
        "id": 127619295,
        "sender_full_name": "lqd",
        "timestamp": 1528228677
    },
    {
        "content": "<p>if the diagnostic issue is less important ... of course :)</p>",
        "id": 127619344,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528228689
    },
    {
        "content": "<p>but I can jump in any of those if you want</p>",
        "id": 127619352,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528228705
    },
    {
        "content": "<p>I guess that list is complete?</p>",
        "id": 127619355,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228708
    },
    {
        "content": "<p>yes okay</p>",
        "id": 127619364,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228716
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>- profile the inflate case that is 1000% slower on the NLL dashboard\n- investigate optimizing `access_place`\n- reproduce and try to diagnose the mystery `visit_mir` case\n</pre></div>",
        "id": 127619366,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228716
    },
    {
        "content": "<p>i think so</p>",
        "id": 127619368,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228718
    },
    {
        "content": "<p>we might be able to optimize <code>do_dataflow</code> and eke out a few percent, but I think that energy is better spent on diagnostics</p>",
        "id": 127619396,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228750
    },
    {
        "content": "<p>I'm willing to take on <a href=\"https://github.com/rust-lang/rust/issues/51372\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/51372\">rust-lang/rust#51372</a> if no one else wants it</p>",
        "id": 127619409,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228782
    },
    {
        "content": "<p>(unrelated: we really do need to set up the GitHub linking bot for Zulip)</p>",
        "id": 127619472,
        "sender_full_name": "davidtwco",
        "timestamp": 1528228813
    },
    {
        "content": "<p>(oh, I forgot about that)</p>",
        "id": 127619512,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228890
    },
    {
        "content": "<p>(but man I do find the GH linking on Discord etc annoying, I wonder if the Zulip one is as intrusive)</p>",
        "id": 127619515,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228909
    },
    {
        "content": "<p>What system is better: To have people write their names next to items, or to have a mapping from name to item (like I started at the bottom)</p>",
        "id": 127619517,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228911
    },
    {
        "content": "<p>I think name next to item?</p>",
        "id": 127619524,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228921
    },
    {
        "content": "<p>at least it's more obvious what is not claimed</p>",
        "id": 127619569,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528228929
    },
    {
        "content": "<p>kay</p>",
        "id": 127619572,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228941
    },
    {
        "content": "<p>for open-ended things like <code>diagnostics</code></p>",
        "id": 127619599,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228990
    },
    {
        "content": "<p>I guess we can have multiple names</p>",
        "id": 127619603,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528228996
    },
    {
        "content": "<p>yeah, or people can add the issues they have in mind...</p>",
        "id": 127619610,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229010
    },
    {
        "content": "<p>I guess that <span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span>, if they are able to get perf up and going, would also be able to confirm the mystery <code>visit_mir</code> results</p>",
        "id": 127619625,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229041
    },
    {
        "content": "<p>yes</p>",
        "id": 127619670,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528229060
    },
    {
        "content": "<p>should we put you down <span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> to profile and investigate inflate?</p>",
        "id": 127619684,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229084
    },
    {
        "content": "<p>since you have that in progress</p>",
        "id": 127619688,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229092
    },
    {
        "content": "<p><span class=\"emoji emoji-1f44d\" title=\"+1\">:+1:</span></p>",
        "id": 127619690,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528229098
    },
    {
        "content": "<p>I guess we should tlak about diagnostics?</p>",
        "id": 127619693,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229101
    },
    {
        "content": "<p><span class=\"emoji emoji-1f44d\" title=\"+1\">:+1:</span></p>",
        "id": 127619706,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528229113
    },
    {
        "content": "<p>:)</p>",
        "id": 127619709,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528229116
    },
    {
        "content": "<p>we're sort of out of time, the main thing I wanted to say is that I have been poking at the region errors; <span class=\"user-mention\" data-user-id=\"116107\">@David Wood</span> might try to do a pairing session to follow up on that, if they can stay awake that late</p>",
        "id": 127619711,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229129
    },
    {
        "content": "<p>/me goes to bed at 8pm</p>",
        "id": 127619713,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229139
    },
    {
        "content": "<p>don't know how you people do that ;)</p>",
        "id": 127619714,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229143
    },
    {
        "content": "<p>(and then niko gets up at 4am)</p>",
        "id": 127619715,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229147
    },
    {
        "content": "<p>(he likes to leave out that detail)</p>",
        "id": 127619718,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229153
    },
    {
        "content": "<p>actually, I've been shifted later, more like 9pm-5am. Taking too damn long to clean up the kitchen these days.</p>",
        "id": 127619760,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229168
    },
    {
        "content": "<p>It's only 9pm here, so I should be around for a while yet.</p>",
        "id": 127619770,
        "sender_full_name": "davidtwco",
        "timestamp": 1528229186
    },
    {
        "content": "<p>ah yeah, I forget you're only 5h</p>",
        "id": 127619774,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229196
    },
    {
        "content": "<p>on my end for diagnostics</p>",
        "id": 127619785,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229226
    },
    {
        "content": "<p>I'm hoping to address a bunch of issues at once</p>",
        "id": 127619793,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229235
    },
    {
        "content": "<p>(ping <span class=\"user-mention\" data-user-id=\"116106\">@Reed Koser</span>, you around?)</p>",
        "id": 127619796,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229244
    },
    {
        "content": "<p>I've been trying to at least take notes on the ones that might get touched</p>",
        "id": 127619801,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229248
    },
    {
        "content": "<p>(also <span class=\"user-mention\" data-user-id=\"116108\">@Keith Yeung</span>)</p>",
        "id": 127619803,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229251
    },
    {
        "content": "<p>hello</p>",
        "id": 127619805,
        "sender_full_name": "Keith Yeung",
        "timestamp": 1528229257
    },
    {
        "content": "<p>i haven't been looking at the closure issues that i was supposed to look at, sorry</p>",
        "id": 127619859,
        "sender_full_name": "Keith Yeung",
        "timestamp": 1528229287
    },
    {
        "content": "<p>will try to find some time this week</p>",
        "id": 127619863,
        "sender_full_name": "Keith Yeung",
        "timestamp": 1528229293
    },
    {
        "content": "<p>there is one big question that maybe we could talk about as a group</p>",
        "id": 127619866,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229299
    },
    {
        "content": "<p>oh ok wasn't trying to shame you or anything ;)</p>",
        "id": 127619867,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229300
    },
    {
        "content": "<p>namely this one: <a href=\"https://github.com/rust-lang/rust/issues/51167\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/51167\">https://github.com/rust-lang/rust/issues/51167</a></p>",
        "id": 127619873,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229308
    },
    {
        "content": "<p>\"NLL: diagnostics deviate from source line order for no obvious reason\"</p>",
        "id": 127619876,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229314
    },
    {
        "content": "<p>was mostly just reaching out to see if we might ensure you were as busy as you want to be :)</p>",
        "id": 127619877,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229317
    },
    {
        "content": "<p>the basic issue in #51167 is that AST-borrowck would often present errors such that the ones that occur earlier in the source file likewise occur earlier in the stderr output</p>",
        "id": 127619905,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229359
    },
    {
        "content": "<p>NLL is failing to do this in some cases</p>",
        "id": 127619910,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229373
    },
    {
        "content": "<p>One can readily imagine that this is a \"natural\" consequence of an analysis that is just traversing a control-flow graph</p>",
        "id": 127619918,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229394
    },
    {
        "content": "<p>rather than the abstract syntax tree</p>",
        "id": 127619921,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229402
    },
    {
        "content": "<p>when we visit all the basic blocks... we probably do it in kinda random order ...</p>",
        "id": 127619951,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229403
    },
    {
        "content": "<p>so my question is:</p>",
        "id": 127619969,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229409
    },
    {
        "content": "<p>I bet if we walked in Reverse Post Order...</p>",
        "id": 127619970,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229409
    },
    {
        "content": "<p>Should we try to fix this? And if so, how?</p>",
        "id": 127619976,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229420
    },
    {
        "content": "<p>my take is that we should try but not too hard :)</p>",
        "id": 127619984,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229434
    },
    {
        "content": "<p>Hmm,  now that you say that <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> , maybe the simplest thing would be to just walk the basic blocks in source order ... ?</p>",
        "id": 127619991,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229442
    },
    {
        "content": "<p>like, if it's just a matter of \"walk basic blocks in RPO\", seems worth it</p>",
        "id": 127619993,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229443
    },
    {
        "content": "<p>e.g. sort by the span of the first statement in each one, or something like that?</p>",
        "id": 127620000,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229457
    },
    {
        "content": "<p>or that</p>",
        "id": 127620005,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229463
    },
    {
        "content": "<p>I'm ~around now, haven't read scrollback yet. Supposed to be doing real job things =P</p>",
        "id": 127620007,
        "sender_full_name": "Reed Koser",
        "timestamp": 1528229464
    },
    {
        "content": "<p>but RPO is usually source order</p>",
        "id": 127620012,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229466
    },
    {
        "content": "<p>and we have functions that will give it to you</p>",
        "id": 127620019,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229475
    },
    {
        "content": "<p>I suppose RPO is worth a shot</p>",
        "id": 127620024,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229480
    },
    {
        "content": "<p><a href=\"https://doc.rust-lang.org/nightly/nightly-rustc/rustc/mir/traversal/fn.reverse_postorder.html\" target=\"_blank\" title=\"https://doc.rust-lang.org/nightly/nightly-rustc/rustc/mir/traversal/fn.reverse_postorder.html\">https://doc.rust-lang.org/nightly/nightly-rustc/rustc/mir/traversal/fn.reverse_postorder.html</a></p>",
        "id": 127620029,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229487
    },
    {
        "content": "<p>since I don't actually care so much abourt this for our end users</p>",
        "id": 127620033,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229502
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116106\">@Reed Koser</span> ok :) I was going to suggest (based on our privmsgs) that you might be interested in looking at optimizing <code>access_place</code></p>",
        "id": 127620037,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229510
    },
    {
        "content": "<p>I really just care about it for our internal process of using diff against the AST-borrowck output</p>",
        "id": 127620039,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229517
    },
    {
        "content": "<p>This reminds me of the issue where we tried to suppress multiple errors occurring (<a href=\"https://github.com/rust-lang/rust/issues/45697\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/45697\">rust-lang/rust#45697</a>) - we added in a set to catch places that had errors reported but <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> suggested that it'd be nice if we saved the errors and reported them at once so that we could easier detect things like duplicates - this would have been another benefit of that, could sort the spans or something like that before reporting.</p>",
        "id": 127620041,
        "sender_full_name": "davidtwco",
        "timestamp": 1528229519
    },
    {
        "content": "<p>so if RPO handles <em>most</em> cases well, we should just turn that on and call it a day</p>",
        "id": 127620083,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229532
    },
    {
        "content": "<p>ah, interesting point</p>",
        "id": 127620084,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229533
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span>  Sounds good. If there's a github issue, throw it my way and I'll try to take a look at it. Have to figure out how the scheduling will work there, but I definitely want to find some time</p>",
        "id": 127620091,
        "sender_full_name": "Reed Koser",
        "timestamp": 1528229559
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116107\">@David Wood</span>  that's a good point</p>",
        "id": 127620093,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229562
    },
    {
        "content": "<p>there's times when i personally find it useful that we do not buffer the output</p>",
        "id": 127620100,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229579
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116106\">@Reed Koser</span> ok there isn't one but I can make one</p>",
        "id": 127620105,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229586
    },
    {
        "content": "<p>but as long as we provided a -Z flag to bring back non-buffered behavior</p>",
        "id": 127620115,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229597
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> well, it'd be per-fn I guess</p>",
        "id": 127620116,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229598
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> right, I just mean</p>",
        "id": 127620118,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229608
    },
    {
        "content": "<p>the lack of buffering</p>",
        "id": 127620120,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229612
    },
    {
        "content": "<p>is useful for correlating error output</p>",
        "id": 127620122,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229617
    },
    {
        "content": "<p>with debug! output</p>",
        "id": 127620124,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229620
    },
    {
        "content": "<p>Sounds good. If there isn't one already don't feel the need to put too much detail in, it's just nice to have for tracking reasons</p>",
        "id": 127620125,
        "sender_full_name": "Reed Koser",
        "timestamp": 1528229624
    },
    {
        "content": "<p>ah very true</p>",
        "id": 127620129,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229625
    },
    {
        "content": "<p>though I usually use <code>-Ztreat-err-as-bug</code> for that, in which case I would hope we would still abort... and/or we could have an option to disable buffering...</p>",
        "id": 127620180,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229658
    },
    {
        "content": "<p>anyway that's about all I have to say about diagnostics I think ...</p>",
        "id": 127620184,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229661
    },
    {
        "content": "<p>anyway</p>",
        "id": 127620185,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229662
    },
    {
        "content": "<p>callgrind finished btw... now if I can only figure out how to work with the results... I guess I need to run <code>kcachegrind</code></p>",
        "id": 127620214,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229712
    },
    {
        "content": "<p>I want to check one more time</p>",
        "id": 127620228,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229756
    },
    {
        "content": "<p>do we have any takers on looking at profiling inflate ?</p>",
        "id": 127620269,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229766
    },
    {
        "content": "<p>Santiago is doing it rn</p>",
        "id": 127620282,
        "sender_full_name": "lqd",
        "timestamp": 1528229780
    },
    {
        "content": "<p>oh sorry</p>",
        "id": 127620285,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229784
    },
    {
        "content": "<p>it was just important enough I wanted to make sure there was a name next to it on the Paper doc</p>",
        "id": 127620308,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229838
    },
    {
        "content": "<p>Am I still profiling <code>clap-rs</code> to reproduce niko's measurements or did someone else say they'd handle that?</p>",
        "id": 127620311,
        "sender_full_name": "davidtwco",
        "timestamp": 1528229848
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> better to make sure indeed :)</p>",
        "id": 127620365,
        "sender_full_name": "lqd",
        "timestamp": 1528229889
    },
    {
        "content": "<p>yep</p>",
        "id": 127620371,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528229896
    },
    {
        "content": "<p>I have it :)</p>",
        "id": 127620372,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528229899
    },
    {
        "content": "<p>as soon as I can compile :P</p>",
        "id": 127620382,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528229915
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116107\">@David Wood</span> to be clear: profiling to reproduce niko's measurments was (in my head) step one before trying to diangose the mystery <code>visit_mir</code> case.</p>",
        "id": 127620385,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229924
    },
    {
        "content": "<p>have been trying to compile rustc for hours</p>",
        "id": 127620391,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528229934
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116107\">@David Wood</span> so yeah, I say do keep doing that. But I will also put your name next to the item that says \"eproduce and try to diagnose the mystery visit_mir case\", okay ?</p>",
        "id": 127620409,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229958
    },
    {
        "content": "<p>Yeah, but I think <a href=\"#narrow/stream/122657-wg-nll/subject/weekly.20meeting.20June.205/near/127619625\" title=\"#narrow/stream/122657-wg-nll/subject/weekly.20meeting.20June.205/near/127619625\">it was later mentioned</a> that <span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> would do that.</p>",
        "id": 127620415,
        "sender_full_name": "davidtwco",
        "timestamp": 1528229966
    },
    {
        "content": "<p>I thought santiago was doing inflate</p>",
        "id": 127620422,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229980
    },
    {
        "content": "<p>/me goes to review the log</p>",
        "id": 127620428,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528229984
    },
    {
        "content": "<p>nah I think it two distinct things</p>",
        "id": 127620429,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528229984
    },
    {
        "content": "<p>I'm still happy to, just don't want to duplicate effort.</p>",
        "id": 127620437,
        "sender_full_name": "davidtwco",
        "timestamp": 1528229996
    },
    {
        "content": "<p>yeah, I think I'm not on that one :)</p>",
        "id": 127620493,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528230015
    },
    {
        "content": "<p>I think it makes sense for <span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> to focus on <code>inflate</code> and <span class=\"user-mention\" data-user-id=\"116107\">@David Wood</span> to focus on the mystery <code>visit_mir</code> case</p>",
        "id": 127620501,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230036
    },
    {
        "content": "<p><span class=\"emoji emoji-1f44d\" title=\"+1\">:+1:</span></p>",
        "id": 127620507,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528230045
    },
    {
        "content": "<p>btw I <em>think</em> callgrind also reproduced the same result:</p>\n<div class=\"codehilite\"><pre><span></span>6,000,525,213  &lt; /home/nmatsakis/versioned/rust-m/src/librustc_mir/util/collect_writes.rs:rustc_mir::borrow_check::do_mir_borrowck (7966x)\n2,361,456,991  *  /home/nmatsakis/versioned/rust-m/src/librustc/mir/visit.rs:rustc::mir::visit::Visitor::visit_mir [/home/nmatsakis/versioned/rust-m/build/x86_64-unknown-linux-gnu/stage2/lib/librustc_mir-320bbd82799b8bba.so]\n</pre></div>",
        "id": 127620520,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230059
    },
    {
        "content": "<p>I'm not 100% sure how to interpret that output ;) but I think it is listing the callers of <code>visit_mir</code></p>",
        "id": 127620525,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230075
    },
    {
        "content": "<p>oh I see, <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> did say \"I guess that @Santiago Pastorino, if they are able to get perf up and going, would also be able to confirm the mystery visit_mir results\"</p>",
        "id": 127620527,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230079
    },
    {
        "content": "<p>ahh hehe, didn't read that quite well :P</p>",
        "id": 127620545,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528230113
    },
    {
        "content": "<p>(just trying to confirm that <span class=\"user-mention\" data-user-id=\"116107\">@David Wood</span> 's interpretation was entirely reasonable)</p>",
        "id": 127620546,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230115
    },
    {
        "content": "<p>anyway, let's give that to <span class=\"user-mention\" data-user-id=\"116107\">@David Wood</span> I guess</p>",
        "id": 127620589,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528230128
    },
    {
        "content": "<p>okay great</p>",
        "id": 127620599,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230143
    },
    {
        "content": "<p>oh</p>",
        "id": 127620604,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230158
    },
    {
        "content": "<p>one more thing</p>",
        "id": 127620605,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230160
    },
    {
        "content": "<p>about logistics</p>",
        "id": 127620610,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230162
    },
    {
        "content": "<p>Niko: You're going to SF on Monday, right?</p>",
        "id": 127620616,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230169
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> where's more info about the <code>inflate</code> thing?</p>",
        "id": 127620634,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528230197
    },
    {
        "content": "<p>maybe I missed something from this meeting</p>",
        "id": 127620636,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528230206
    },
    {
        "content": "<p>can read the log :)</p>",
        "id": 127620639,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528230214
    },
    {
        "content": "<p>it's all in that gist</p>",
        "id": 127620645,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230235
    },
    {
        "content": "<p>there's not really more info</p>",
        "id": 127620646,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230237
    },
    {
        "content": "<p>basically <code>infate</code> is slow</p>",
        "id": 127620647,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230240
    },
    {
        "content": "<p>there’s little info besides: it’s slow and we don’t know why</p>",
        "id": 127620650,
        "sender_full_name": "lqd",
        "timestamp": 1528230241
    },
    {
        "content": "<p>much slower than anything else</p>",
        "id": 127620687,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230246
    },
    {
        "content": "<p>if you look at <a href=\"http://perf.rust-lang.org/nll-dashboard.html\" target=\"_blank\" title=\"http://perf.rust-lang.org/nll-dashboard.html\">http://perf.rust-lang.org/nll-dashboard.html</a></p>",
        "id": 127620692,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230251
    },
    {
        "content": "<p>Logistics: I expect that <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> might be very distracted with a Mozilla All-Hands</p>",
        "id": 127620694,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230261
    },
    {
        "content": "<p>next week</p>",
        "id": 127620697,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230264
    },
    {
        "content": "<p>you will see the NLL/regular ratio is 1000%</p>",
        "id": 127620698,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230264
    },
    {
        "content": "<p>whereas most things are like 200%</p>",
        "id": 127620701,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230269
    },
    {
        "content": "<p>that said, we should file some issues</p>",
        "id": 127620708,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230281
    },
    {
        "content": "<p>I'll do that real quick</p>",
        "id": 127620712,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230286
    },
    {
        "content": "<p>I on the other hand won't be there. Instead I'll be somewhere ... that may not have high quality internet access</p>",
        "id": 127620735,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230321
    },
    {
        "content": "<p>(My mother tells me that they have that fixed it now)</p>",
        "id": 127620738,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230330
    },
    {
        "content": "<p>(So we will see...)</p>",
        "id": 127620741,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230338
    },
    {
        "content": "<p>Anyway, I <em>hope</em> to be able to run the meeting in a week's time.</p>",
        "id": 127620748,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230353
    },
    {
        "content": "<p>but if I cannot, its possible that Niko won't be able to do it either. I'm not sure.</p>",
        "id": 127620793,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230375
    },
    {
        "content": "<p>we'll figure it out on Monday I guess.</p>",
        "id": 127620798,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230383
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> filed <a href=\"https://github.com/rust-lang/rust/issues/51377\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/51377\">https://github.com/rust-lang/rust/issues/51377</a></p>",
        "id": 127620820,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230420
    },
    {
        "content": "<p>That's everything I had to say. If anyone has any questions, drop a line in any of the appropriate channels (e.g. Zulip topics under wg-nll)</p>",
        "id": 127620843,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230454
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> filed <a href=\"https://github.com/rust-lang/rust/issues/51377\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/51377\">https://github.com/rust-lang/rust/issues/51377</a></p>\n</blockquote>\n<p><span class=\"emoji emoji-1f44d\" title=\"+1\">:+1:</span></p>",
        "id": 127620916,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1528230518
    },
    {
        "content": "<p>incidentally these meetings are not taking 30 minutes :)</p>",
        "id": 127620939,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230551
    },
    {
        "content": "<p>maybe that is unrealistic</p>",
        "id": 127620942,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230556
    },
    {
        "content": "<p>or maybe we can get faster</p>",
        "id": 127620945,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230558
    },
    {
        "content": "<p>but something to keep in mind</p>",
        "id": 127620947,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528230562
    },
    {
        "content": "<blockquote>\n<p>incidentally these meetings are not taking 30 minutes :)</p>\n</blockquote>\n<p>yeah I thought about forcing a hard ending right around the time that  you said \"I guess we need to talk about diagnostics.\" :)</p>",
        "id": 127621210,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230881
    },
    {
        "content": "<p>and I thought to myself \".... okay, lets do this thing.\"</p>",
        "id": 127621242,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528230930
    },
    {
        "content": "<blockquote>\n<p>and I thought to myself \".... okay, lets do this thing.\"</p>\n</blockquote>\n<p>sorry :)</p>",
        "id": 127622900,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1528233003
    },
    {
        "content": "<blockquote>\n<p>Should we try to fix [printing errors to match source order]?</p>\n</blockquote>\n<p>If you could just make it so that the \"most important\" or \"most fundamental\" error was the one that showed up first, that would be wonderful.</p>",
        "id": 127634689,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1528252921
    },
    {
        "content": "<p>That should be <em>trivial</em> to add <span class=\"emoji emoji-1f609\" title=\"wink\">:wink:</span></p>",
        "id": 127634733,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1528252943
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>Should we try to fix [printing errors to match source order]?</p>\n</blockquote>\n<p>If you could just make it so that the \"most important\" or \"most fundamental\" error was the one that showed up first, that would be wonderful.</p>\n</blockquote>\n<p>For end users, yes. But it wouldn't address the immediate issue I was getting at, which is trying to ease running <code>diff</code> between AST-borrowck and NLL.</p>",
        "id": 127645319,
        "sender_full_name": "pnkfelix",
        "timestamp": 1528274007
    }
]