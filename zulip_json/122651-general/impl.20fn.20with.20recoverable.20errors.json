[
    {
        "content": "<p>Hi guys, I am blocked, can you help me understand how I can solve the following?<br>\nI need that function dump(T) could return Result&lt;T, E&gt; or Option&lt;T&gt; to set the error flag if it returns the default value.<br>\n<a href=\"https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=35100865b8c83f80d4e531316e75c1b0\">https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=35100865b8c83f80d4e531316e75c1b0</a><br>\nThanks for your help!!</p>",
        "id": 273348103,
        "sender_full_name": "Guillermo Céspedes",
        "timestamp": 1645890836
    },
    {
        "content": "<p>Do you want <code>dump</code> to set <code>error_flag</code> to <code>true</code> if and only if <code>v</code> is equal to <code>V::default()</code>?</p>",
        "id": 273348364,
        "sender_full_name": "LegionMammal978",
        "timestamp": 1645891186
    },
    {
        "content": "<p>Or if and only if <code>v.into()</code> is equal to <code>R::default()</code>?</p>",
        "id": 273348598,
        "sender_full_name": "LegionMammal978",
        "timestamp": 1645891231
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"429617\">@LegionMammal978</span> if and only if v.into() is equal to R::default()</p>",
        "id": 273348795,
        "sender_full_name": "Guillermo Céspedes",
        "timestamp": 1645891503
    },
    {
        "content": "<p>So if you want to keep the generic <code>dump</code> function, then a solution with <code>TryFrom</code> would probably work: <a href=\"https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=dcd25dec6490fb64099676008c297c71\">https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=dcd25dec6490fb64099676008c297c71</a></p>",
        "id": 273349480,
        "sender_full_name": "LegionMammal978",
        "timestamp": 1645892454
    },
    {
        "content": "<p>If I were writing it, though, I'd just put the destructuring logic in the <code>match</code> statements: <a href=\"https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=aeb7697dc9c985ec396540f28e3b8269\">https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=aeb7697dc9c985ec396540f28e3b8269</a></p>",
        "id": 273349484,
        "sender_full_name": "LegionMammal978",
        "timestamp": 1645892459
    },
    {
        "content": "<p>Naively detecting <code>R::default()</code> would prevent <code>0</code> or <code>\"\"</code> from being retrieved from the map at all.</p>",
        "id": 273349504,
        "sender_full_name": "LegionMammal978",
        "timestamp": 1645892510
    },
    {
        "content": "<p>It's also possible with a more functional style, if that's what you prefer (although it's not for everyone): <a href=\"https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=6788defa76f50e8c402377de1e17cfb4\">https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=6788defa76f50e8c402377de1e17cfb4</a></p>",
        "id": 273349933,
        "sender_full_name": "LegionMammal978",
        "timestamp": 1645893012
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"429617\">@LegionMammal978</span> I will study the solutions you send me. I had not used TryFrom/TryInto before, your collaboration is very useful, I was trying to do it and I couldn't. Thank you for your time in explaining me!!</p>",
        "id": 273350497,
        "sender_full_name": "Guillermo Céspedes",
        "timestamp": 1645893718
    }
]