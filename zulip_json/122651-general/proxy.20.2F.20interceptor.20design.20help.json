[
    {
        "content": "<p>Client Client Client<br>\n   \\     |     /<br>\n    \\    |    /<br>\n       Proxy [1]<br>\n         |<br>\n         |<br>\n       Server<br>\n[1] I want the proxy to offload some of the server's logic - some stuff<br>\n    the server is currently handling is suboptimal and rewriting the server itself is <br>\n    pretty much impossible. So I was thinking intercept the traffic and not bother the <br>\n    server with some of the computation-heavy stuff</p>\n<div class=\"codehilite\"><pre><span></span><code>Is there something similar out there I could inspire myself with? I&#39;m struggling to come up with a design\nMy main concerns are:\n1. how do I store the connections?\n2. this example works well: https://github.com/tokio-rs/tokio/blob/master/examples/proxy.rs but then how does  message from one client can do some changes to the state of the proxy itself and send modified response to other client? I&#39;m trying to think of something idiomatic/acyclic...\n</code></pre></div>",
        "id": 214169463,
        "sender_full_name": "Wojciech Niedźwiedź",
        "timestamp": 1603363358
    }
]