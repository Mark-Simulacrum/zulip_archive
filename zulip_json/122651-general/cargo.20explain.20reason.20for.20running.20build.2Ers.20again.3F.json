[
    {
        "content": "<p>I have a crate with a <a href=\"http://build.rs\">build.rs</a> that cargo is rebuilding too often. Is there a flag I can pass cargo to tell me what \"rerun-if\" rule it is triggering on?</p>",
        "id": 266535785,
        "sender_full_name": "Evan Richter",
        "timestamp": 1641004787
    },
    {
        "content": "<p>You can use <code>CARGO_LOG=fingerprint=info</code> I think.</p>",
        "id": 266548005,
        "sender_full_name": "bjorn3",
        "timestamp": 1641026214
    },
    {
        "content": "<p>The environment variable to set is: <code>CARGO_LOG=cargo::core::compiler::fingerprint=trace</code></p>",
        "id": 266565710,
        "sender_full_name": "Eric Huss",
        "timestamp": 1641056580
    },
    {
        "content": "<p>Thanks, that seems to help!</p>\n<p>I just ran <code>cargo clean &amp;&amp; cargo check</code> then <span class=\"user-mention\" data-user-id=\"120518\">@Eric Huss</span>'s env var with another <code>cargo check</code>:  The log message seems to report that src/lib.rs or the <a href=\"http://build.rs\">build.rs</a> in the dependency is the reason for rebuilding:</p>\n<div class=\"codehilite\"><pre><span></span><code>2022-01-01T19:32:49Z INFO  cargo::core::compiler::fingerprint] fingerprint error for libafl_qemu v0.7.0 (/home/user/projects/libafl/libafl_qemu)/Check { test: false }/TargetInner { ..: lib_target(&quot;libafl_qemu&quot;, [&quot;cdylib&quot;, &quot;rlib&quot;], &quot;/home/user/projects/libafl/libafl_qemu/src/lib.rs&quot;, Edition2021) }\n[2022-01-01T19:32:49Z INFO  cargo::core::compiler::fingerprint]     err: current filesystem status shows we&#39;re outdated\n[2022-01-01T19:32:49Z INFO  cargo::core::compiler::fingerprint] fingerprint error for libafl_qemu v0.7.0 (/home/user/projects/libafl/libafl_qemu)/RunCustomBuild/TargetInner { ..: custom_build_target(&quot;build-script-build&quot;, &quot;/home/user/projects/libafl/libafl_qemu/build.rs&quot;, Edition2021) }\n[2022-01-01T19:32:49Z INFO  cargo::core::compiler::fingerprint]     err: current filesystem status shows we&#39;re outdated\n</code></pre></div>\n<p>However, both those files have timestamps of 4 days ago:</p>\n<div class=\"codehilite\"><pre><span></span><code>$ exa -l ../../libafl_qemu/build.rs\n.rw-r--r--  13k user 28 Dec  2021 build.rs\n$ exa -l ../../libafl_qemu/src/lib.rs\n.rw-r--r-- 2.6k user 28 Dec  2021 ../../libafl_qemu/src/lib.rs\n</code></pre></div>\n<p>Or am I misinterpreting <code>err: current filesystem status shows we're outdated</code>?</p>",
        "id": 266571902,
        "sender_full_name": "Evan Richter",
        "timestamp": 1641066073
    },
    {
        "content": "<p>The file that is \"newer\" is listed above those error messages.</p>",
        "id": 266572094,
        "sender_full_name": "Eric Huss",
        "timestamp": 1641066375
    },
    {
        "content": "<p>is that file a symlink? or is that just weird formatting?</p>",
        "id": 266572229,
        "sender_full_name": "The 8472",
        "timestamp": 1641066604
    },
    {
        "content": "<p>If it was it should say <code>l</code> before the permissions.</p>",
        "id": 266572246,
        "sender_full_name": "bjorn3",
        "timestamp": 1641066650
    },
    {
        "content": "<p>oh thank you! I see the <code>stale: missing</code> log now. It was pointing to a filepath that doesn't make sense. Now I know how to fix the build script <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 266574132,
        "sender_full_name": "Evan Richter",
        "timestamp": 1641069377
    }
]