[
    {
        "content": "<p>I was looking through the docs of <code>core::arch::wasm32</code>, and <code>memory_grow</code>'s signature was not what I expected. It had the const generic param inside the parentheses!</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">pub</span><span class=\"w\"> </span><span class=\"k\">fn</span> <span class=\"nf\">memory_grow</span><span class=\"p\">(</span><span class=\"k\">const</span><span class=\"w\"> </span><span class=\"n\">MEM</span>: <span class=\"kt\">u32</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">delta</span>: <span class=\"kt\">usize</span><span class=\"p\">)</span><span class=\"w\"> </span>-&gt; <span class=\"kt\">usize</span>\n</code></pre></div>\n<p>I tried making a function with a const param myself but it looked just as I would expect:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">pub</span><span class=\"w\"> </span><span class=\"k\">fn</span> <span class=\"nf\">foo</span><span class=\"o\">&lt;</span><span class=\"k\">const</span><span class=\"w\"> </span><span class=\"n\">N</span>: <span class=\"kt\">u32</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"n\">_x</span>: <span class=\"kp\">&amp;</span><span class=\"kt\">str</span><span class=\"p\">)</span><span class=\"w\"> </span>-&gt; <span class=\"kt\">u32</span>\n</code></pre></div>\n<p>any idea why it rendered like that?</p>",
        "id": 277366119,
        "sender_full_name": "Cyborus",
        "timestamp": 1648782975
    },
    {
        "content": "<p>probably related to the rustc_legacy_const_generics(0) attribute</p>",
        "id": 277367323,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1648784391
    },
    {
        "content": "<p>that’s right, it’s for stdarch intrinsics specifically, for compatibility reasons, <a href=\"https://github.com/rust-lang/rust/pull/89954\">https://github.com/rust-lang/rust/pull/89954</a></p>",
        "id": 277374522,
        "sender_full_name": "lqd",
        "timestamp": 1648793436
    }
]