[
    {
        "content": "<p>While waiting for <a href=\"https://github.com/rust-lang/rfcs/pull/2046\">https://github.com/rust-lang/rfcs/pull/2046</a> to land (for years...), I use loops with a break to mimic labeled break. (And get yelled at by clippy...) But as a result I found an unusual aspect of loop labels:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">fn</span> <span class=\"nf\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"na\">&#39;a</span>: <span class=\"nc\">loop</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"k\">break</span><span class=\"w\"> </span><span class=\"nl\">&#39;a</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"na\">&#39;a</span>: <span class=\"nc\">loop</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"k\">break</span><span class=\"w\"> </span><span class=\"nl\">&#39;a</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n\n\n<p>gives an error saying that the second <code>'a:</code> shadows another label in scope, but</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">fn</span> <span class=\"nf\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"na\">&#39;a</span>: <span class=\"nc\">loop</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"k\">break</span><span class=\"w\"> </span><span class=\"nl\">&#39;a</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"na\">&#39;b</span>: <span class=\"nc\">loop</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"k\">break</span><span class=\"w\"> </span><span class=\"nl\">&#39;a</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n\n\n<p>is not valid. Are there scoping rules for labels?</p>",
        "id": 207214223,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1597712661
    },
    {
        "content": "<p>A recent similar thread - <a href=\"#narrow/stream/122651-general/topic/loop.20label.20shadowing.20confusion/near/204634010\">https://rust-lang.zulipchat.com/#narrow/stream/122651-general/topic/loop.20label.20shadowing.20confusion/near/204634010</a></p>",
        "id": 207231696,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1597736674
    }
]