[
    {
        "content": "<p>I'm on macOS (aarch64-darwin to be precise) and rustc 1.55.0, and running the <code>backtrace</code> example from the <code>backtrace</code> crate (on HEAD as of writing) just shows up as <code>&lt;unknown&gt;</code>s, like so:</p>\n<div class=\"codehilite\"><pre><span></span><code>   0: &lt;unknown&gt;\n   1: &lt;unknown&gt;\n   2: &lt;unknown&gt;\n   3: &lt;unknown&gt;\n   4: &lt;unknown&gt;\n   5: &lt;unknown&gt;\n   6: &lt;unknown&gt;\n   7: &lt;unknown&gt;\n   8: &lt;unknown&gt;\n   9: &lt;unknown&gt;\n  10: &lt;unknown&gt;\n</code></pre></div>\n<p>is this a bug, or am I doing something wrong? I've set <code>RUST_BACKTRACE=1</code> in case that does something (although I don't think it does when using <code>backtrace</code>, only <code>std::backtrace</code>...)</p>",
        "id": 257460383,
        "sender_full_name": "Winter",
        "timestamp": 1634171415
    },
    {
        "content": "<p>Additionally, I've tried to use <code>backtrace::trace</code> and <code>backtrace::resolve_frame</code> to try to get any info on why this is failing, but <code>resolve_frame</code> doesn't seem to provide any failure info (it just doesn't call the callback)</p>",
        "id": 257460933,
        "sender_full_name": "Winter",
        "timestamp": 1634171831
    },
    {
        "content": "<p>I can also reproduce this behavior with <code>std::backtrace</code> (rustc <code>d7c97a02d1215e4ef26c31cb72dbaf16fd548b2c</code>)</p>",
        "id": 257462360,
        "sender_full_name": "Winter",
        "timestamp": 1634172870
    },
    {
        "content": "<p>also, if this is a bug (which I'm pretty sure it is by this point), where should I file it, <code>rust-lang/backtrace-rs</code> or <code>rust-lang/rust</code>? I think the former?</p>",
        "id": 257465130,
        "sender_full_name": "Winter",
        "timestamp": 1634174925
    },
    {
        "content": "<p>backtrace-rs is better, yeah</p>",
        "id": 257466469,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1634175827
    },
    {
        "content": "<p>thanks! <a href=\"https://github.com/rust-lang/backtrace-rs/issues/443\">https://github.com/rust-lang/backtrace-rs/issues/443</a></p>",
        "id": 257466793,
        "sender_full_name": "Winter",
        "timestamp": 1634176099
    },
    {
        "content": "<p><del>that's a terrible title honestly, but I can't think of a better one atm</del></p>",
        "id": 257466800,
        "sender_full_name": "Winter",
        "timestamp": 1634176110
    },
    {
        "content": "<p>FWIW your code snippet works (produces <code>name:</code> and <code>filename:</code> lines) on my machine:</p>\n<div class=\"codehilite\"><pre><span></span><code>rustc 1.55.0 (c8dfcfe04 2021-09-06)\nbinary: rustc\ncommit-hash: c8dfcfe046a7680554bf4eb612bad840e7631c4b\ncommit-date: 2021-09-06\nhost: x86_64-unknown-linux-gnu\nrelease: 1.55.0\nLLVM version: 12.0.1\n</code></pre></div>",
        "id": 257467654,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1634176708
    },
    {
        "content": "<p>My hunch is that this is some macOS specific issue.</p>",
        "id": 257468392,
        "sender_full_name": "Winter",
        "timestamp": 1634177177
    },
    {
        "content": "<p>What I'm not sure about is if this is an aarch64 issue or not.</p>",
        "id": 257468536,
        "sender_full_name": "Winter",
        "timestamp": 1634177310
    },
    {
        "content": "<p>changed the issue title to mention that it only fails on macOS (didn't want to say that without confirming even though I was pretty sure that was the case), thanks <span class=\"user-mention\" data-user-id=\"271719\">@Mario Carneiro</span></p>",
        "id": 257468717,
        "sender_full_name": "Winter",
        "timestamp": 1634177461
    }
]