[
    {
        "content": "<p>is it possible for rustc to do cross-language LTO with libraries built with a much newer LLVM version?</p>",
        "id": 273138876,
        "sender_full_name": "Collin Baker",
        "timestamp": 1645731541
    },
    {
        "content": "<p>this suggests pointing it to the newer LLVM's <a href=\"http://libLTO.so\">libLTO.so</a> would do the trick: <a href=\"https://doc.rust-lang.org/rustc/linker-plugin-lto.html#explicitly-specifying-the-linker-plugin-to-be-used-by-rustc\">https://doc.rust-lang.org/rustc/linker-plugin-lto.html#explicitly-specifying-the-linker-plugin-to-be-used-by-rustc</a></p>",
        "id": 273138936,
        "sender_full_name": "Collin Baker",
        "timestamp": 1645731561
    },
    {
        "content": "<p>but even passing <code>-Clinker-plugin-lto=\".../libLTO.so\"</code> I still get the error:</p>",
        "id": 273139079,
        "sender_full_name": "Collin Baker",
        "timestamp": 1645731606
    },
    {
        "content": "<p><code>error: failed to build archive: Not an int attribute (Producer: 'LLVM15.0.0git' Reader: 'LLVM 13.0.0-rust-1.59.0-beta')</code></p>",
        "id": 273139085,
        "sender_full_name": "Collin Baker",
        "timestamp": 1645731608
    },
    {
        "content": "<p>My understanding is that the version of LLVM used to build Rustc and used for your other languages need to match. But I'm not an expert.</p>",
        "id": 273141226,
        "sender_full_name": "Eh2406",
        "timestamp": 1645732539
    }
]