[
    {
        "content": "<p>im not really sure were to ask so im putting it in general.<br>\nWhen i put</p>\n<div class=\"codehilite\"><pre><span></span><code>#![cfg_attr(not(test), no_std)]\n</code></pre></div>\n<p>at the top of my <a href=\"http://lib.rs\">lib.rs</a> then only the </p>\n<div class=\"codehilite\"><pre><span></span><code>#[cfg(test)]\nmod tests {\n</code></pre></div>\n<p>section can use std. and all seems fine, developing on my system that does have std. i have also added some deps<br>\nbut once i tried to use this lib on a project that cross compiles to a target without std i got a load of errors as it seems some of my deps do need std. is there a way to test that the whole lib inc deps can function without std before targeting a non std target?</p>",
        "id": 270834891,
        "sender_full_name": "Will Salmon",
        "timestamp": 1644077404
    },
    {
        "content": "<p>You could try compiling with with <code>-Zbuild-std=core,alloc</code> (requires nightly)</p>",
        "id": 270835483,
        "sender_full_name": "The 8472",
        "timestamp": 1644078141
    },
    {
        "content": "<p>Or try <code>cargo check</code> for a target that doesn't have <code>std</code> at all, like one of the thumbs. You probably won't even need cross tools if you don't have any *-sys dependencies.</p>",
        "id": 270840840,
        "sender_full_name": "cuviper",
        "timestamp": 1644084530
    },
    {
        "content": "<p>I guess that's not \"before targeting a non std target\" but it's really the best way to be sure.</p>",
        "id": 270840866,
        "sender_full_name": "cuviper",
        "timestamp": 1644084591
    }
]