[
    {
        "content": "<p>Hi all,</p>\n<p>Is this a valid issue by any chance?</p>\n<div class=\"codehilite\"><pre><span></span><code>running 599 tests\n.................................................................................................... 100/599\n.................................................................................................... 200/599\n..................................i................................................................. 300/599\n.................................................................................................... 400/599\n...................................F................................................................ 500/599\n...................................................................................................\nfailures:\n\n---- src/string.rs - string::String (line 168) stdout ----\nthread &#39;rustc&#39; panicked at &#39;called `Option::unwrap()` on a `None` value&#39;, compiler/rustc_trait_selection/src/traits/error_reporting/suggestions.rs:696:8\n1\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\n\nerror: internal compiler error: unexpected panic\n\nnote: the compiler unexpectedly panicked. this is a bug.\n\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&amp;template=ice.md\n\nnote: rustc 1.56.0-beta.1 (e784c962e 2021-09-07) running on x86_64-unknown-linux-gnu\n\nnote: compiler flags: -Z crate-attr=doc(html_root_url=&quot;https://doc.rust-lang.org/nightly/&quot;) -Z force-unstable-if-unmarked -C codegen-units=1 -C embed-bi\ntcode=no --crate-type bin\n\nquery stack during panic:\n#0 [typeck] type-checking `main::_doctest_main_src_string_rs_168_0`\n#1 [typeck_item_bodies] type-checking all item bodies\nend of query stack\nerror: internal compiler error: trimmed_def_paths constructed\n  |\n  = note: delayed at    0: rustc_errors::Handler::delay_good_path_bug\n             1: rustc_middle::ty::print::pretty::trimmed_def_paths\n             2: rustc_data_structures::stack::ensure_sufficient_stack\n             3: rustc_query_system::query::plumbing::get_query_impl\n             4: rustc_query_system::query::plumbing::get_query\n             5: &lt;rustc_middle::ty::print::pretty::FmtPrinter&lt;F&gt; as rustc_middle::ty::print::Printer&gt;::print_def_path\n             6: rustc_middle::ty::print::pretty::PrettyPrinter::pretty_print_type\n             7: rustc_middle::ty::print::pretty::&lt;impl rustc_middle::ty::print::Print&lt;P&gt; for rustc_middle::ty::sty::TypeAndMut&gt;::print\n             8: rustc_middle::ty::print::pretty::PrettyPrinter::pretty_print_type\n             9: rustc_middle::ty::print::pretty::&lt;impl rustc_middle::ty::print::Print&lt;P&gt; for rustc_middle::ty::TraitPredicate&gt;::print\n            10: rustc_middle::ty::print::pretty::&lt;impl rustc_middle::ty::print::Print&lt;P&gt; for rustc_middle::ty::PredicateKind&gt;::print\n            11: &lt;rustc_middle::ty::print::pretty::FmtPrinter&lt;F&gt; as rustc_middle::ty::print::pretty::PrettyPrinter&gt;::in_binder\n            12: rustc_middle::ty::print::pretty::&lt;impl core::fmt::Display for rustc_middle::ty::Predicate&gt;::fmt\n            13: core::fmt::write\n                       at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/core/src/fmt/mod.rs:1150:17\n            14: core::fmt::Write::write_fmt\n                       at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/core/src/fmt/mod.rs:186:9\n            15: alloc::fmt::format\n                       at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/alloc/src/fmt.rs:583:5\n            16: &lt;rustc_infer::infer::InferCtxt as rustc_trait_selection::traits::error_reporting::InferCtxtExt&gt;::report_selection_error\n            17: &lt;rustc_infer::infer::InferCtxt as rustc_trait_selection::traits::error_reporting::InferCtxtPrivExt&gt;::report_fulfillment_error\n            18: &lt;rustc_infer::infer::InferCtxt as rustc_trait_selection::traits::error_reporting::InferCtxtExt&gt;::report_fulfillment_errors\n            19: rustc_typeck::check::fn_ctxt::checks::&lt;impl rustc_typeck::check::fn_ctxt::FnCtxt&gt;::check_argument_types\n            20: rustc_typeck::check::callee::&lt;impl rustc_typeck::check::fn_ctxt::FnCtxt&gt;::confirm_builtin_call\n            21: rustc_typeck::check::callee::&lt;impl rustc_typeck::check::fn_ctxt::FnCtxt&gt;::check_call\n            22: rustc_typeck::check::expr::&lt;impl rustc_typeck::check::fn_ctxt::FnCtxt&gt;::check_expr_kind\n            23: rustc_typeck::check::expr::&lt;impl rustc_typeck::check::fn_ctxt::FnCtxt&gt;::check_expr_with_expectation\n            24: rustc_typeck::check::fn_ctxt::checks::&lt;impl rustc_typeck::check::fn_ctxt::FnCtxt&gt;::check_stmt\n            25: rustc_typeck::check::fn_ctxt::checks::&lt;impl rustc_typeck::check::fn_ctxt::FnCtxt&gt;::check_block_with_expected\n            26: rustc_typeck::check::expr::&lt;impl rustc_typeck::check::fn_ctxt::FnCtxt&gt;::check_expr_with_expectation\n            27: rustc_typeck::check::expr::&lt;impl rustc_typeck::check::fn_ctxt::FnCtxt&gt;::check_return_expr\n            28: rustc_typeck::check::check::check_fn\n            29: rustc_infer::infer::InferCtxtBuilder::enter\n            30: rustc_typeck::check::typeck\n            31: rustc_query_system::query::plumbing::get_query_impl\n            32: &lt;rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine&gt;::typeck\n            33: rustc_middle::ty::&lt;impl rustc_middle::ty::context::TyCtxt&gt;::par_body_owners\n            34: rustc_typeck::check::typeck_item_bodies\n            35: rustc_query_system::query::plumbing::get_query_impl\n            36: &lt;rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine&gt;::typeck_item_bodies\n            37: rustc_session::utils::&lt;impl rustc_session::session::Session&gt;::time\n            38: rustc_typeck::check_crate\n            39: rustc_interface::passes::analysis\n            40: rustc_query_system::query::plumbing::get_query_impl\n            41: &lt;rustc_query_impl::Queries as rustc_middle::ty::query::QueryEngine&gt;::analysis\n            42: rustc_interface::passes::QueryContext::enter\n            43: rustc_interface::queries::&lt;impl rustc_interface::interface::Compiler&gt;::enter\n            44: rustc_span::with_source_map\n            45: scoped_tls::ScopedKey&lt;T&gt;::set\n            46: std::sys_common::backtrace::__rust_begin_short_backtrace\n            47: core::ops::function::FnOnce::call_once{{vtable.shim}}\n            48: &lt;alloc::boxed::Box&lt;F,A&gt; as core::ops::function::FnOnce&lt;Args&gt;&gt;::call_once\n                       at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/alloc/src/boxed.rs:1636:9\n            49: &lt;alloc::boxed::Box&lt;F,A&gt; as core::ops::function::FnOnce&lt;Args&gt;&gt;::call_once\n                       at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/alloc/src/boxed.rs:1636:9\n            50: std::sys::unix::thread::Thread::new::thread_start\n                       at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/sys/unix/thread.rs:106:17\n            51: start_thread\n            52: __clone\n</code></pre></div>",
        "id": 256924676,
        "sender_full_name": "Michael de Silva",
        "timestamp": 1633841398
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>thread &#39;rustc&#39; panicked at &#39;no warnings or errors encountered even though `delayed_good_path_bugs` issued&#39;, compiler/rustc_errors/src/lib.rs:1166:13\nstack backtrace:\n   0:     0x7fee770d94fc - std::backtrace_rs::backtrace::libunwind::trace::h51faa62df48810e4\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/../../backtrace/src/backtrace/libunwind.rs:90:5\n   1:     0x7fee770d94fc - std::backtrace_rs::backtrace::trace_unsynchronized::h91de4d8e16d607e4\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\n   2:     0x7fee770d94fc - std::sys_common::backtrace::_print_fmt::h71b0935f97e4322c\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/sys_common/backtrace.rs:67:5\n   3:     0x7fee770d94fc - &lt;std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display&gt;::fmt::h9a78218788c14e18\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/sys_common/backtrace.rs:46:22\n   4:     0x7fee7713720c - core::fmt::write::h3381b3176fe2b3d3\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/core/src/fmt/mod.rs:1150:17\n   5:     0x7fee770ca435 - std::io::Write::write_fmt::h1d5220480c7a2437\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/io/mod.rs:1667:15\n   6:     0x7fee770dca60 - std::sys_common::backtrace::_print::h4b77abc4d907ed0e\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/sys_common/backtrace.rs:49:5\n   7:     0x7fee770dca60 - std::sys_common::backtrace::print::hb170c60b542377ad\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/sys_common/backtrace.rs:36:9\n   8:     0x7fee770dca60 - std::panicking::default_hook::{{closure}}::h12bbda9af8901ee3\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/panicking.rs:210:50\n   9:     0x7fee770dc617 - std::panicking::default_hook::h8c6c66d3f3ba6768\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/panicking.rs:227:9\n  10:     0x7fee778b0861 - rustc_driver::DEFAULT_HOOK::{{closure}}::{{closure}}::h5d5f6bcd40777e95\n  11:     0x7fee770dd279 - std::panicking::rust_panic_with_hook::h36f2fa0bb09f4069\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/panicking.rs:628:17\n  12:     0x7fee770dcd30 - std::panicking::begin_panic_handler::{{closure}}::h9c42b65a42d06a7a\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/panicking.rs:521:13\n  13:     0x7fee770d99c4 - std::sys_common::backtrace::__rust_end_short_backtrace::hc791bddfe31e532c\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/sys_common/backtrace.rs:141:18\n  14:     0x7fee770dcc99 - rust_begin_unwind\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/panicking.rs:517:5\n  15:     0x7fee770a181b - std::panicking::begin_panic_fmt::h32ac317c038a272d\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/panicking.rs:460:5\n  16:     0x7fee79e0d54e - rustc_errors::HandlerInner::flush_delayed::hc1a0dc2a3b52b7c5\n  17:     0x7fee79e0be41 - &lt;rustc_errors::HandlerInner as core::ops::drop::Drop&gt;::drop::h6b6fa9db3b176321\n  18:     0x7fee793cfb16 - core::ptr::drop_in_place&lt;rustc_session::parse::ParseSess&gt;::h0f64c3a6d9ae48b4\n  19:     0x7fee793d1b0e - &lt;alloc::rc::Rc&lt;T&gt; as core::ops::drop::Drop&gt;::drop::h38ccacfabbb0cd9a\n  20:     0x7fee793a3a8d - core::ptr::drop_in_place&lt;rustc_interface::interface::Compiler&gt;::he462bcfe0a585c06\n  21:     0x7fee793a376c - rustc_span::with_source_map::h42000c6d4d4801a0\n  22:     0x7fee793b5858 - scoped_tls::ScopedKey&lt;T&gt;::set::h9c4e59a22d2be862\n  23:     0x7fee793a49db - std::sys_common::backtrace::__rust_begin_short_backtrace::hb112af792d752f1d\n  24:     0x7fee793a1b95 - core::ops::function::FnOnce::call_once{{vtable.shim}}::h9bf5ff18e54ee278\n  25:     0x7fee770e98c3 - &lt;alloc::boxed::Box&lt;F,A&gt; as core::ops::function::FnOnce&lt;Args&gt;&gt;::call_once::hbbbb32ef11ea0ad2\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/alloc/src/boxed.rs:1636:9\n  26:     0x7fee770e98c3 - &lt;alloc::boxed::Box&lt;F,A&gt; as core::ops::function::FnOnce&lt;Args&gt;&gt;::call_once::h3b8ef23699fc5385\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/alloc/src/boxed.rs:1636:9\n  27:     0x7fee770e98c3 - std::sys::unix::thread::Thread::new::thread_start::ha57f5cba35f709b7\n                               at /rustc/e784c962ea252f0874a4305168077e7048cb39e9/library/std/src/sys/unix/thread.rs:106:17\n  28:     0x7fee7700a299 - start_thread\n  29:     0x7fee76f1e353 - __clone\n  30:                0x0 - &lt;unknown&gt;\n\nerror: internal compiler error: unexpected panic\n\nnote: the compiler unexpectedly panicked. this is a bug.\n\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&amp;template=ice.md\n\nnote: rustc 1.56.0-beta.1 (e784c962e 2021-09-07) running on x86_64-unknown-linux-gnu\n\nnote: compiler flags: -Z crate-attr=doc(html_root_url=&quot;https://doc.rust-lang.org/nightly/&quot;) -Z force-unstable-if-unmarked -C codegen-units=1 -C embed-bitcode=no --crate-type bin\n\nquery stack during panic:\nend of query stack\nthread panicked while panicking. aborting.\nSome expected error codes were not found: [&quot;E0277&quot;]\n\nfailures:\n    src/string.rs - string::String (line 168)\n\ntest result: FAILED. 597 passed; 1 failed; 1 ignored; 0 measured; 0 filtered out; finished in 11.17s\n\nerror: test failed, to rerun pass &#39;--doc&#39;\n\n\ncommand did not execute successfully: &quot;/opt/code/rust-projects/rust/build/x86_64-unknown-linux-gnu/stage0/bin/cargo&quot; &quot;test&quot; &quot;--target&quot; &quot;x86_64-unknown-linux-gnu&quot; &quot;-Zbinary-dep-depinfo&quot; &quot;-j&quot; &quot;32&quot; &quot;--release&quot; &quot;--features&quot; &quot;panic-unwind backtrace compiler-builtins-c&quot; &quot;--manifest-path&quot; &quot;/opt/code/rust-projects/rust/library/test/Cargo.toml&quot; &quot;-p&quot; &quot;alloc&quot; &quot;--&quot; &quot;--quiet&quot;\nexpected success, got: exit status: 101\n\n\nBuild completed unsuccessfully in 0:00:13\n</code></pre></div>",
        "id": 256924744,
        "sender_full_name": "Michael de Silva",
        "timestamp": 1633841438
    },
    {
        "content": "<p>The  command I ran was <code>./x.py test --keep-stage 1 library/alloc/</code> on a fresh checkout from the master branch on Github.</p>",
        "id": 256924777,
        "sender_full_name": "Michael de Silva",
        "timestamp": 1633841508
    },
    {
        "content": "<p>Tests for <code>library/std</code> pass though.</p>",
        "id": 256924828,
        "sender_full_name": "Michael de Silva",
        "timestamp": 1633841532
    },
    {
        "content": "<p>Switched to the repo <code>beta</code> branch and tests for <code>library/alloc</code> are passing now.</p>",
        "id": 256927093,
        "sender_full_name": "Michael de Silva",
        "timestamp": 1633844086
    },
    {
        "content": "<p>Opened this issue: <a href=\"https://github.com/rust-lang/rust/issues/89725\">https://github.com/rust-lang/rust/issues/89725</a></p>",
        "id": 256929961,
        "sender_full_name": "Michael de Silva",
        "timestamp": 1633847188
    }
]