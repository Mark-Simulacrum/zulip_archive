[
    {
        "content": "<p>Looking to see if anyone has ran into a similar issue: While my <code>cargo build</code> succeeds, I have a particular <code>cargo doc</code> command, that when I run, it fails to import something that definitely exists with a <code>rustc --explain E0432</code> error. The command I'm running looks like: <code>cargo doc -p rome_formatter --no-deps --open</code></p>\n<p>(E0432 is the error people run into when they switch from edition <code>2018</code> back to <code>2015</code> and suddenly need to add <code>extern crate</code> before <code>use</code>. However, in my workspace, my crates's <code>Cargo.toml</code>'s all specify edition <code>2021</code> so I'm not even sure how to go about troubleshooting this.</p>\n<p>Note: vscode code navigation works, the imports are there, and <code>cargo build</code> succeeds, and I'm using <code>rustc 1.59.0 (9d1b2106e 2022-02-23)</code></p>\n<p>Any thoughts/recs would be greatly appreciated, thank you for your time!</p>\n<p>Repo: <a href=\"https://github.com/RustPhilly/tools/tree/feature/format-jsx-element\">https://github.com/RustPhilly/tools/tree/feature/format-jsx-element</a></p>",
        "id": 277075105,
        "sender_full_name": "Darrow O'Lykos [Rust Philly]",
        "timestamp": 1648594522
    },
    {
        "content": "<p>what is the error?</p>",
        "id": 277075979,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1648595268
    },
    {
        "content": "<p>in general the code rustdoc sees is not necessarily the same rustc sees because of <code>cfg(doc)</code></p>",
        "id": 277076038,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1648595285
    },
    {
        "content": "<p>Hi Josh, this is the error:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">cargo</span><span class=\"w\"> </span><span class=\"n\">doc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">rome_formatter</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">no</span><span class=\"o\">-</span><span class=\"n\">deps</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">open</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Checking</span><span class=\"w\"> </span><span class=\"n\">rome_js_syntax</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"p\">.</span><span class=\"mf\">1.4</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">/</span><span class=\"n\">Users</span><span class=\"o\">/</span><span class=\"n\">yeeter</span><span class=\"o\">/</span><span class=\"n\">projects</span><span class=\"o\">/</span><span class=\"n\">github</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">/</span><span class=\"n\">organizations</span><span class=\"o\">/</span><span class=\"n\">rust</span><span class=\"o\">-</span><span class=\"n\">philly</span><span class=\"o\">/</span><span class=\"n\">tools</span><span class=\"o\">/</span><span class=\"n\">crates</span><span class=\"o\">/</span><span class=\"n\">rome_js_syntax</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">error</span><span class=\"p\">[</span><span class=\"n\">E0432</span><span class=\"p\">]</span>: <span class=\"nc\">unresolved</span><span class=\"w\"> </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">rome_rowan</span>::<span class=\"n\">api</span>::<span class=\"n\">TriviaPieceKind</span><span class=\"err\">`</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"o\">-</span>-&gt; <span class=\"nc\">crates</span><span class=\"o\">/</span><span class=\"n\">rome_js_syntax</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">20</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"mi\">20</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"k\">use</span><span class=\"w\"> </span><span class=\"n\">rome_rowan</span>::<span class=\"n\">api</span>::<span class=\"n\">TriviaPieceKind</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"o\">^^^^^^^^^^^^^^^^^---------------</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"o\">|</span><span class=\"w\">                </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"o\">|</span><span class=\"w\">                </span><span class=\"n\">help</span>: <span class=\"nc\">a</span><span class=\"w\"> </span><span class=\"n\">similar</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"n\">exists</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">module</span>: <span class=\"err\">`</span><span class=\"n\">TriviaPiece</span><span class=\"err\">`</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">TriviaPieceKind</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">api</span><span class=\"err\">`</span><span class=\"w\"></span>\n\n<span class=\"n\">For</span><span class=\"w\"> </span><span class=\"n\">more</span><span class=\"w\"> </span><span class=\"n\">information</span><span class=\"w\"> </span><span class=\"n\">about</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kr\">try</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">rustc</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">explain</span><span class=\"w\"> </span><span class=\"n\">E0432</span><span class=\"err\">`</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"n\">error</span>: <span class=\"nc\">could</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">compile</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">rome_js_syntax</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">due</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">previous</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Do you mean that there is a <code>rustdoc</code> error somewhere that is different than this <code>rustc</code> error?, Or did you just want to see the full text of the error I was referencing?</p>\n<p>Thank you!</p>",
        "id": 277079347,
        "sender_full_name": "Darrow O'Lykos [Rust Philly]",
        "timestamp": 1648598217
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/6GJFWrCeRa1K0OlrPSPAKrBP/Screen-Shot-2022-03-29-at-7.57.54-PM.png\">Screen-Shot-2022-03-29-at-7.57.54-PM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/6GJFWrCeRa1K0OlrPSPAKrBP/Screen-Shot-2022-03-29-at-7.57.54-PM.png\" title=\"Screen-Shot-2022-03-29-at-7.57.54-PM.png\"><img src=\"/user_uploads/4715/6GJFWrCeRa1K0OlrPSPAKrBP/Screen-Shot-2022-03-29-at-7.57.54-PM.png\"></a></div><ul>\n<li>\n<p>As seen in this snippet, vscode can find the import OK. <br>\n-<code>cargo build</code> has no errors.</p>\n</li>\n<li>\n<p><code>edition=\"2021\"</code> is specified in both <code>Cargo.toml</code>s in <code>rome_js_syntax</code> crate <code>rome_rowan</code>.</p>\n</li>\n</ul>",
        "id": 277079725,
        "sender_full_name": "Darrow O'Lykos [Rust Philly]",
        "timestamp": 1648598473
    }
]