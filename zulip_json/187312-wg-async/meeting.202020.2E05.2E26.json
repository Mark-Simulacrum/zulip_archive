[
    {
        "content": "<p><span class=\"user-group-mention\" data-user-group-id=\"1172\">@WG-async-foundations</span> meeting in ~10 minutes</p>",
        "id": 198790405,
        "sender_full_name": "tmandry",
        "timestamp": 1590511791
    },
    {
        "content": "<p><span class=\"user-group-mention\" data-user-group-id=\"1172\">@WG-async-foundations</span> Okay, let's get started!</p>",
        "id": 198791735,
        "sender_full_name": "tmandry",
        "timestamp": 1590512473
    },
    {
        "content": "<p><a href=\"https://github.com/orgs/rust-lang/projects/2\">Project board</a></p>",
        "id": 198791752,
        "sender_full_name": "tmandry",
        "timestamp": 1590512484
    },
    {
        "content": "<p>3 things marked as Done this week:</p>\n<ul>\n<li>Rustc doesn't report line numbers for type errors within proc macro async fn within macro_rules macro <a href=\"https://github.com/rust-lang/rust/issues/68430\">#68430</a></li>\n<li>note_obligation_cause reporting for non-async/await not optimal <a href=\"https://github.com/rust-lang/rust/issues/70818\">#70818</a></li>\n<li>Draft RFC to add <code>Stream</code> to the standard library <a href=\"https://github.com/rust-lang/wg-async-foundations/issues/10\">rust-lang/wg-async-foundations#10</a></li>\n</ul>",
        "id": 198791877,
        "sender_full_name": "tmandry",
        "timestamp": 1590512541
    },
    {
        "content": "<p>General question: I have an issue I filed I would like added to the project board. When's the right time to talk about that?</p>",
        "id": 198791885,
        "sender_full_name": "Yoshua Wuyts [he/they]",
        "timestamp": 1590512551
    },
    {
        "content": "<p>Good question</p>",
        "id": 198791906,
        "sender_full_name": "tmandry",
        "timestamp": 1590512572
    },
    {
        "content": "<p>we go through <a href=\"https://github.com/search?q=org%3Arust-lang+is%3Aissue+label%3AA-async-await+is%3Aopen+-label%3AAsyncAwait-Triaged&amp;type=Issues\">uncategorized issues</a> at some point during the meeting, so if it's been tagged <code>A-async-await</code> we'll pick it up</p>",
        "id": 198791947,
        "sender_full_name": "tmandry",
        "timestamp": 1590512613
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116883\">@tmandry</span> re: the Draft RFC, we should maybe open an issue to add to the board</p>",
        "id": 198791957,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590512620
    },
    {
        "content": "<p>I would more call that \"in progress\" :)</p>",
        "id": 198791963,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590512624
    },
    {
        "content": "<p>even though the <em>PR</em> merged</p>",
        "id": 198791970,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590512630
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/187312-wg-async-foundations/topic/meeting.202020.2E05.2E26/near/198791963\">said</a>:</p>\n<blockquote>\n<p>I would more call that \"in progress\" :)</p>\n</blockquote>\n<p>yes, but we also made progress :)</p>",
        "id": 198792033,
        "sender_full_name": "tmandry",
        "timestamp": 1590512654
    },
    {
        "content": "<p>but yeah, I'll open an issue to track the RFC</p>",
        "id": 198792050,
        "sender_full_name": "tmandry",
        "timestamp": 1590512666
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116883\">tmandry</span> <a href=\"#narrow/stream/187312-wg-async-foundations/topic/meeting.202020.2E05.2E26/near/198791947\">said</a>:</p>\n<blockquote>\n<p>we go through <a href=\"https://github.com/search?q=org%3Arust-lang+is%3Aissue+label%3AA-async-await+is%3Aopen+-label%3AAsyncAwait-Triaged&amp;type=Issues\">uncategorized issues</a> at some point during the meeting, so if it's been tagged <code>A-async-await</code> we'll pick it up</p>\n</blockquote>\n<p>heh, yeah it's not been triaged yet even (: -- but I'll bring it up then. Thank you!</p>",
        "id": 198792079,
        "sender_full_name": "Yoshua Wuyts [he/they]",
        "timestamp": 1590512683
    },
    {
        "content": "<h1>In progress</h1>",
        "id": 198792133,
        "sender_full_name": "tmandry",
        "timestamp": 1590512713
    },
    {
        "content": "<p>I guess now would be a good time to talk about the RFC?</p>",
        "id": 198792146,
        "sender_full_name": "tmandry",
        "timestamp": 1590512726
    },
    {
        "content": "<p>in particular, what are the next steps? <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> were you planning to drive this forward or hoping someone else would pick it up?</p>",
        "id": 198792291,
        "sender_full_name": "tmandry",
        "timestamp": 1590512789
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> and I discussed me picking it up</p>",
        "id": 198792322,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1590512808
    },
    {
        "content": "<p>as I'm newer to the group - I'll likely flesh out the bullet points in draft form and get feedback from this group throughout the process</p>",
        "id": 198792385,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1590512848
    },
    {
        "content": "<p>That's great! I opened <a href=\"https://github.com/rust-lang/wg-async-foundations/issues/12\">rust-lang/wg-async-foundations#12</a>, added you, and added it to the project board</p>",
        "id": 198792530,
        "sender_full_name": "tmandry",
        "timestamp": 1590512927
    },
    {
        "content": "<p>w00t!!!</p>",
        "id": 198792541,
        "sender_full_name": "Nell Shamrell-Harrington",
        "timestamp": 1590512933
    },
    {
        "content": "<p>/me looks through the remaining in-progress issues</p>",
        "id": 198792599,
        "sender_full_name": "tmandry",
        "timestamp": 1590512982
    },
    {
        "content": "<p>..ok</p>",
        "id": 198792697,
        "sender_full_name": "tmandry",
        "timestamp": 1590513033
    },
    {
        "content": "<p>things seem to be making progress, nothing to call out</p>",
        "id": 198792711,
        "sender_full_name": "tmandry",
        "timestamp": 1590513048
    },
    {
        "content": "<h1>Claimed</h1>",
        "id": 198792753,
        "sender_full_name": "tmandry",
        "timestamp": 1590513077
    },
    {
        "content": "<blockquote>\n<p>Broken MIR: generator contains type &amp;str in MIR, but typeck only knows about {std:<span aria-label=\"future\" class=\"emoji emoji-1f52e\" role=\"img\" title=\"future\">:future:</span>:ResumeTy, impl std:<span aria-label=\"future\" class=\"emoji emoji-1f52e\" role=\"img\" title=\"future\">:future:</span>:Future, ()} <a href=\"https://github.com/rust-lang/rust/issues/71793\">#71793</a></p>\n</blockquote>",
        "id": 198792772,
        "sender_full_name": "tmandry",
        "timestamp": 1590513090
    },
    {
        "content": "<p>for this one, I did some investigating, but am setting it down now</p>",
        "id": 198792791,
        "sender_full_name": "tmandry",
        "timestamp": 1590513105
    },
    {
        "content": "<p>I guess the question is how to prioritize</p>",
        "id": 198792869,
        "sender_full_name": "tmandry",
        "timestamp": 1590513130
    },
    {
        "content": "<p>I think it's probably a relatively easy fix</p>",
        "id": 198792930,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513169
    },
    {
        "content": "<p>but</p>",
        "id": 198792942,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513177
    },
    {
        "content": "<p>you can't see it without unstable options today</p>",
        "id": 198792952,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513183
    },
    {
        "content": "<p>I'd put it as more of a bug for <a class=\"stream\" data-stream-id=\"189540\" href=\"/#narrow/stream/189540-t-compiler.2Fwg-mir-opt\">#t-compiler/wg-mir-opt</a></p>",
        "id": 198792966,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513191
    },
    {
        "content": "<p>than for us</p>",
        "id": 198792969,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513193
    },
    {
        "content": "<p>good point</p>",
        "id": 198792982,
        "sender_full_name": "tmandry",
        "timestamp": 1590513202
    },
    {
        "content": "<p>I am inclined to de-prioritize but put it as a blocker for enabling \"inline\"</p>",
        "id": 198793005,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513217
    },
    {
        "content": "<p>(cc <span class=\"user-mention\" data-user-id=\"125250\">@Wesley Wiser</span>, <span class=\"user-mention\" data-user-id=\"124288\">@oli</span> on these points)</p>",
        "id": 198793057,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513241
    },
    {
        "content": "<p>I don't know if they have any kind of triage process, but attaching it to the MIR inlining issue sounds good</p>",
        "id": 198793116,
        "sender_full_name": "tmandry",
        "timestamp": 1590513255
    },
    {
        "content": "<p>not that I know of</p>",
        "id": 198793125,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513262
    },
    {
        "content": "<p>We should have a <code>A-mir-opt-inlining</code> tag</p>",
        "id": 198793131,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1590513266
    },
    {
        "content": "<p>But no, we don't have a dedicated triage process</p>",
        "id": 198793146,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1590513275
    },
    {
        "content": "<p>okay. looks like it's already tagged.</p>",
        "id": 198793171,
        "sender_full_name": "tmandry",
        "timestamp": 1590513286
    },
    {
        "content": "<p>is there a tracking issue for inlining though..</p>",
        "id": 198793186,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513299
    },
    {
        "content": "<p>I'm not sure we would block turning on the inliner on this working vs just disabling inlining for generators.</p>",
        "id": 198793205,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1590513311
    },
    {
        "content": "<p>either way, that's for y'all to decide,</p>",
        "id": 198793243,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513340
    },
    {
        "content": "<p>though I think it'd be an easy fix</p>",
        "id": 198793247,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513343
    },
    {
        "content": "<p>(during inlining, I would convert <code>DROP</code> into no-op if the type is known to be <code>Copy</code>)</p>",
        "id": 198793262,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513351
    },
    {
        "content": "<p>(or do a peephole optimization pass afterwards)</p>",
        "id": 198793317,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513366
    },
    {
        "content": "<p>Hmm that might be worth pursuing separately from the inlining pass.</p>",
        "id": 198793366,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1590513397
    },
    {
        "content": "<blockquote>\n<p>More friendly error msg when await on NONE ASYNC fn/block or return a obj that implements deprecated Future <a href=\"https://github.com/rust-lang/rust/issues/66731\">#66731</a><br>\nAsync function leads to a \"more general type\" error <a href=\"https://github.com/rust-lang/rust/issues/71723\">#71723</a></p>\n</blockquote>",
        "id": 198793409,
        "sender_full_name": "tmandry",
        "timestamp": 1590513419
    },
    {
        "content": "<p>any updates for either of these before we move on? <span class=\"user-mention\" data-user-id=\"225192\">@Nell Shamrell-Harrington</span> / <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span></p>",
        "id": 198793435,
        "sender_full_name": "tmandry",
        "timestamp": 1590513433
    },
    {
        "content": "<p>hmm no</p>",
        "id": 198793486,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513456
    },
    {
        "content": "<p>(the follow up being: are you still planing to work on it?)</p>",
        "id": 198793615,
        "sender_full_name": "tmandry",
        "timestamp": 1590513503
    },
    {
        "content": "<p>I'll try to look today</p>",
        "id": 198793711,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513564
    },
    {
        "content": "<p>Sorry, something just came up locally and I have to step out</p>",
        "id": 198793727,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513574
    },
    {
        "content": "<p>I'll catch up in a bit</p>",
        "id": 198793740,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513583
    },
    {
        "content": "<p>I do have a PR in that area</p>",
        "id": 198793747,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513588
    },
    {
        "content": "<p>No problem, we can move on</p>",
        "id": 198793749,
        "sender_full_name": "tmandry",
        "timestamp": 1590513589
    },
    {
        "content": "<p>so it's a good time for me to investigate :)</p>",
        "id": 198793767,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1590513599
    },
    {
        "content": "<h1><a href=\"https://github.com/search?q=org%3Arust-lang+is%3Aissue+label%3AA-async-await+is%3Aopen+-label%3AAsyncAwait-Triaged&amp;type=Issues\">Uncategorized issues</a></h1>",
        "id": 198793834,
        "sender_full_name": "tmandry",
        "timestamp": 1590513616
    },
    {
        "content": "<blockquote>\n<p>Unhelpful error message for async method on invalid type <a href=\"https://github.com/rust-lang/rust/issues/72590\">#72590</a></p>\n</blockquote>",
        "id": 198793851,
        "sender_full_name": "tmandry",
        "timestamp": 1590513626
    },
    {
        "content": "<p>hmm</p>",
        "id": 198793940,
        "sender_full_name": "tmandry",
        "timestamp": 1590513684
    },
    {
        "content": "<p>this is a case of having extra errors that add confusion, in addition to the correct error</p>",
        "id": 198793966,
        "sender_full_name": "tmandry",
        "timestamp": 1590513708
    },
    {
        "content": "<p>it does only happen for async/await</p>",
        "id": 198794102,
        "sender_full_name": "tmandry",
        "timestamp": 1590513773
    },
    {
        "content": "<p>still, I'm not inclined to prioritize it over most issues, since there's still a correct error message in there..</p>",
        "id": 198794133,
        "sender_full_name": "tmandry",
        "timestamp": 1590513794
    },
    {
        "content": "<p>marked triaged</p>",
        "id": 198794268,
        "sender_full_name": "tmandry",
        "timestamp": 1590513848
    },
    {
        "content": "<blockquote>\n<p>LLVM error: \"Instruction does not dominate all uses!\" on Windows <a href=\"https://github.com/rust-lang/rust/issues/72470\">#72470</a></p>\n</blockquote>",
        "id": 198794270,
        "sender_full_name": "tmandry",
        "timestamp": 1590513852
    },
    {
        "content": "<p>This is an ICE, so obviously important</p>",
        "id": 198794341,
        "sender_full_name": "tmandry",
        "timestamp": 1590513899
    },
    {
        "content": "<p>But I'm not sure it should be owned by our team, necessarily</p>",
        "id": 198794405,
        "sender_full_name": "tmandry",
        "timestamp": 1590513927
    },
    {
        "content": "<p>nonetheless, I'll add it to our board</p>",
        "id": 198794441,
        "sender_full_name": "tmandry",
        "timestamp": 1590513949
    },
    {
        "content": "<p>Okay, that's all we have in the queue</p>",
        "id": 198794519,
        "sender_full_name": "tmandry",
        "timestamp": 1590513976
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"211722\">@Yoshua Wuyts</span> you said you wanted to add something?</p>",
        "id": 198794544,
        "sender_full_name": "tmandry",
        "timestamp": 1590513991
    },
    {
        "content": "<p>yay, yeah!</p>",
        "id": 198794576,
        "sender_full_name": "Yoshua Wuyts [he/they]",
        "timestamp": 1590514010
    },
    {
        "content": "<p>I filed <a href=\"https://github.com/rust-lang/wg-async-foundations/issues/11\">https://github.com/rust-lang/wg-async-foundations/issues/11</a> and noticed it hadn't been triaged yet</p>",
        "id": 198794595,
        "sender_full_name": "Yoshua Wuyts [he/they]",
        "timestamp": 1590514017
    },
    {
        "content": "<p><code>thread::block_on</code> wasn't merged in the stdlib because it needed an RFC</p>",
        "id": 198794628,
        "sender_full_name": "Yoshua Wuyts [he/they]",
        "timestamp": 1590514039
    },
    {
        "content": "<p>it seems like we should be the team to eventually drive that RFC</p>",
        "id": 198794647,
        "sender_full_name": "Yoshua Wuyts [he/they]",
        "timestamp": 1590514051
    },
    {
        "content": "<p>ah :) yeah, we don't triage new issues on that repo yet</p>",
        "id": 198794684,
        "sender_full_name": "tmandry",
        "timestamp": 1590514073
    },
    {
        "content": "<p>heh, gotcha (:</p>",
        "id": 198794748,
        "sender_full_name": "Yoshua Wuyts [he/they]",
        "timestamp": 1590514090
    },
    {
        "content": "<p>well I can add it to the board, the question is whether there is anyone who wants to push on it</p>",
        "id": 198794788,
        "sender_full_name": "tmandry",
        "timestamp": 1590514115
    },
    {
        "content": "<p>but yeah, umm, I was thinking we probably shouldn't take on too many things -- so perhaps if we can see Stream through to completion this could be a good one for after that</p>",
        "id": 198794801,
        "sender_full_name": "Yoshua Wuyts [he/they]",
        "timestamp": 1590514121
    },
    {
        "content": "<p>yep, makes sense to me</p>",
        "id": 198794865,
        "sender_full_name": "tmandry",
        "timestamp": 1590514154
    },
    {
        "content": "<p>yay cool!</p>",
        "id": 198794888,
        "sender_full_name": "Yoshua Wuyts [he/they]",
        "timestamp": 1590514166
    },
    {
        "content": "<p>/me wonders if it would make sense to have another board to track bigger \"projects\" like this</p>",
        "id": 198794941,
        "sender_full_name": "tmandry",
        "timestamp": 1590514190
    },
    {
        "content": "<p>I don't think it should be on our ongoing work board, actually</p>",
        "id": 198795028,
        "sender_full_name": "tmandry",
        "timestamp": 1590514212
    },
    {
        "content": "<p>until we start pushing on it</p>",
        "id": 198795053,
        "sender_full_name": "tmandry",
        "timestamp": 1590514222
    },
    {
        "content": "<p>but it would be nice to see what's coming up</p>",
        "id": 198795067,
        "sender_full_name": "tmandry",
        "timestamp": 1590514228
    },
    {
        "content": "<p>Anyway, we're at time – thanks all for coming</p>",
        "id": 198795112,
        "sender_full_name": "tmandry",
        "timestamp": 1590514249
    },
    {
        "content": "<p>If you're looking for something to work on, please check the <a href=\"https://github.com/orgs/rust-lang/projects/2\">project board</a>, and I'll be around to answer questions</p>",
        "id": 198795173,
        "sender_full_name": "tmandry",
        "timestamp": 1590514275
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116883\">@tmandry</span> as usual, thanks for running the meeting!</p>",
        "id": 198795235,
        "sender_full_name": "Yoshua Wuyts [he/they]",
        "timestamp": 1590514303
    }
]