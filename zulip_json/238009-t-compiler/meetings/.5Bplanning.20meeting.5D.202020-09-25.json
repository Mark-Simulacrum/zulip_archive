[
    {
        "content": "<p>Hey <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span> -- we have a <strong>planning meeting</strong> in about 20 minutes.</p>",
        "id": 211258884,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601041376
    },
    {
        "content": "<p>Actually, <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span>, scratch that, we have no proposed meetings.</p>",
        "id": 211259184,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601041546
    },
    {
        "content": "<p>we were going to talk about llvm?</p>",
        "id": 211259210,
        "sender_full_name": "simulacrum",
        "timestamp": 1601041557
    },
    {
        "content": "<p>What we <strong>do</strong> have is a lot of meetings that need minutes =) including one I said I would do</p>",
        "id": 211259217,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601041560
    },
    {
        "content": "<p>Oh, sorry, I didn't know about that or forgot about it</p>",
        "id": 211259272,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601041572
    },
    {
        "content": "<p>Was that discussed in yesterday's triage meeting?</p>",
        "id": 211259281,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601041577
    },
    {
        "content": "<p><a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202020-09-24.20.2354818/near/211136244\">https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202020-09-24.20.2354818/near/211136244</a></p>",
        "id": 211259305,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1601041588
    },
    {
        "content": "<p><a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202020-09-24.20.2354818/near/211137649\">https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202020-09-24.20.2354818/near/211137649</a></p>",
        "id": 211259416,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1601041648
    },
    {
        "content": "<p>I'm skimming now :)</p>",
        "id": 211259488,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601041679
    },
    {
        "content": "<p>OK, <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span>, apologies, last ping, but in ~10 minutes we will replace planning meeting with a discussion about LLVM 11. I'd appreciate if someone was able to collect a few notes -- e.g., the issues we've had or other data.</p>",
        "id": 211259628,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601041725
    },
    {
        "content": "<p>I've a conflicting meeting, sadly, so won't be able to be there.</p>",
        "id": 211259700,
        "sender_full_name": "nagisa",
        "timestamp": 1601041753
    },
    {
        "content": "<p>OK, <span class=\"user-mention\" data-user-id=\"123586\">@nagisa</span>, too bad. Any quick thoughts to share? (\"Revert!\" \"Don't revert!\")</p>",
        "id": 211260811,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601042222
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> are you around today?</p>",
        "id": 211260854,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601042240
    },
    {
        "content": "<p>also <span class=\"user-mention\" data-user-id=\"133224\">@Nikita Popov</span></p>",
        "id": 211260874,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601042245
    },
    {
        "content": "<p>OK, <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span>, \"planning meeting\" starting now, but the plan is to discuss LLVM, as there are no proposed meetings this go around.</p>",
        "id": 211261627,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601042555
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> do you have a convenient list of LLVM-related issues?</p>",
        "id": 211261663,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601042579
    },
    {
        "content": "<p>it's a meeting about planning the LLVM 11 plan</p>",
        "id": 211261670,
        "sender_full_name": "eddyb",
        "timestamp": 1601042581
    },
    {
        "content": "<p>Here's what I found:</p>\n<ul>\n<li>\n<p>PR that upgraded us to LLVM 11 <a href=\"https://github.com/rust-lang/rust/pull/73526\">https://github.com/rust-lang/rust/pull/73526</a></p>\n</li>\n<li>\n<p>Regressions I've found since then related to the upgrade<br>\n    - <a href=\"https://github.com/rust-lang/rust/issues/76042\">https://github.com/rust-lang/rust/issues/76042</a><br>\n    - <a href=\"https://github.com/rust-lang/rust/issues/76980\">https://github.com/rust-lang/rust/issues/76980</a></p>\n</li>\n</ul>\n<p>I'm still looking for other stuff.</p>",
        "id": 211261694,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1601042591
    },
    {
        "content": "<p>Performance impact?</p>",
        "id": 211261757,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601042628
    },
    {
        "content": "<p>I guess that's probably summarized in <a href=\"https://github.com/rust-lang/rust/issues/73526\">#73526</a></p>",
        "id": 211261783,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601042638
    },
    {
        "content": "<blockquote>\n<p>Final perf results are in and show a <a href=\"https://perf.rust-lang.org/compare.html?start=e482c86b9de32c6392cb83aa97d72e22425163f9&amp;end=7ce71c362be9a89e7897ac066aba6e3e6f747800&amp;stat=wall-time\">significant and sustained improvement in wall time for optimized builds on most benchmarks</a>. Thanks all!</p>\n</blockquote>",
        "id": 211261907,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601042685
    },
    {
        "content": "<p>(if <del>we're</del> you're gathering a list of LLVM related issues, be sure to catgorize whether the issue is <em>fixed</em> by the LLVM 11 upgrade or <em>broken</em> by it)</p>",
        "id": 211261934,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601042700
    },
    {
        "content": "<p>(e.g. <a href=\"https://github.com/rust-lang/rust/issues/73151\">#73151</a> is apparently fixed by the upgrade)</p>",
        "id": 211261990,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601042732
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211261663\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> do you have a convenient list of LLVM-related issues?</p>\n</blockquote>\n<p>I don't, but let me look on the previous weekly meeting agenda's</p>",
        "id": 211262032,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1601042757
    },
    {
        "content": "<p>Issues fixed by the upgrade aren't linked to the PR so I'm having a lot of trouble finding them</p>",
        "id": 211262139,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1601042796
    },
    {
        "content": "<p>I was honestly expecting to see more issues linking to PR <a href=\"https://github.com/rust-lang/rust/issues/73526\">#73526</a>. Maybe the fact that there are so few is a really good sign.</p>",
        "id": 211262144,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601042798
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125250\">Wesley Wiser</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211262139\">said</a>:</p>\n<blockquote>\n<p>Issues fixed by the upgrade aren't linked to the PR so I'm having a lot of trouble finding them</p>\n</blockquote>\n<p>I'll skim the closed issues tagged with A-LLVM</p>",
        "id": 211262253,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601042854
    },
    {
        "content": "<ul>\n<li><a href=\"https://github.com/rust-lang/rust/issues/76042\">#76042</a> -- we have a pending beta backport that will fix, right? (backport of <a href=\"https://github.com/rust-lang/rust/pull/77063\">https://github.com/rust-lang/rust/pull/77063</a>)</li>\n</ul>",
        "id": 211262274,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601042866
    },
    {
        "content": "<p>Yeah, that's correct.</p>",
        "id": 211262464,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1601042944
    },
    {
        "content": "<ul>\n<li><a href=\"https://github.com/rust-lang/rust/issues/76980\">#76980</a> doesn't seem to have a pending fix yet, but there is an MVCE</li>\n</ul>",
        "id": 211262482,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601042949
    },
    {
        "content": "<p>/me is going to take notes here: <a href=\"https://hackmd.io/j-O85DHLSU-IlOxACHt_Xw\">https://hackmd.io/j-O85DHLSU-IlOxACHt_Xw</a></p>",
        "id": 211262489,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601042951
    },
    {
        "content": "<p>I'm reading the <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202020-09-24.20.2354818/near/211140900\">discussion from previous meeting</a>, it seems like we don't think rc3 backport will fix</p>",
        "id": 211262775,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601043080
    },
    {
        "content": "<p>At least from our discussion on the initial PR to move to LLVM beta, the motivating factor seemed to be performance. There's no bug fixes called out in the discussion thread. <a href=\"https://zulip-archive.rust-lang.org/238009tcompilermeetings/14860weeklymeeting2020071654818.html#204093867\">https://zulip-archive.rust-lang.org/238009tcompilermeetings/14860weeklymeeting2020071654818.html#204093867</a></p>",
        "id": 211262844,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1601043119
    },
    {
        "content": "<p>I guess to me a revert doesn't seem necessary, if <a href=\"https://github.com/rust-lang/rust/issues/76980\">#76980</a> is the only known issue</p>",
        "id": 211262932,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601043147
    },
    {
        "content": "<p>I think though the concerns were also one of \"no doubt more problems will be found\"?</p>",
        "id": 211262970,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601043160
    },
    {
        "content": "<p>To clarify, you mean reverting back to LLVM 10 on the beta branch?</p>",
        "id": 211263022,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1601043185
    },
    {
        "content": "<p>but maybe I'm jumping the gun :)</p>",
        "id": 211263040,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601043192
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125250\">Wesley Wiser</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211263022\">said</a>:</p>\n<blockquote>\n<p>To clarify, you mean reverting back to LLVM 10 on the beta branch?</p>\n</blockquote>\n<p>correct</p>",
        "id": 211263057,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601043199
    },
    {
        "content": "<p>raw list of things that may be related (sorry that I didn't properly check those and neither  if you've already discussed them) but sharing ...</p>",
        "id": 211263061,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1601043200
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/76042\">#76042</a><br>\n<a href=\"https://github.com/rust-lang/rust/issues/76387\">#76387</a><br>\n<a href=\"https://github.com/rust-lang/rust/issues/76980\">#76980</a><br>\n<a href=\"https://github.com/rust-lang/rust/issues/76466\">#76466</a><br>\n<a href=\"https://github.com/rust-lang/rust/issues/76247\">#76247</a></p>\n<p><a href=\"https://github.com/rust-lang/rust/issues/74498\">#74498</a> (llvm 9)</p>",
        "id": 211263068,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1601043201
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/76387\">#76387</a> is reported against LLVM 10, unsure if it's fixed by LLVM 11.</p>",
        "id": 211263228,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1601043264
    },
    {
        "content": "<p>(apparently I jumped back so far that I'm looking at bugs that were fixed by the LLVM 10 upgrade...)</p>",
        "id": 211263233,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601043266
    },
    {
        "content": "<p>(such as issue <a href=\"https://github.com/rust-lang/rust/issues/72176\">#72176</a>)</p>",
        "id": 211263243,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601043272
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/76247\">#76247</a> is reported against LLVM 10 as well, no indication if it's fixed by LLVM 11.</p>",
        "id": 211263477,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1601043378
    },
    {
        "content": "<p>(are you investigating the others? should we divvy them up?)</p>",
        "id": 211263926,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601043581
    },
    {
        "content": "<p>hmm what are we doing about <a href=\"https://github.com/rust-lang/rust/issues/76387\">#76387</a>? Are we going to backport <span class=\"user-mention\" data-user-id=\"125294\">@Aaron Hill</span> 's proposed patch to LLVM?</p>",
        "id": 211264056,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601043629
    },
    {
        "content": "<p>One of the reviewers said they'd take a look at my patch</p>",
        "id": 211264095,
        "sender_full_name": "Aaron Hill",
        "timestamp": 1601043651
    },
    {
        "content": "<p>oh did I say we'd just wait another week there? I think I said that yesterday. :)</p>",
        "id": 211264102,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601043656
    },
    {
        "content": "<p>when does the bacport decision need to be made by?</p>",
        "id": 211264108,
        "sender_full_name": "Aaron Hill",
        "timestamp": 1601043660
    },
    {
        "content": "<p>(since it did seem like review was progressing)</p>",
        "id": 211264118,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601043664
    },
    {
        "content": "<ul>\n<li><a href=\"https://github.com/rust-lang/rust/issues/76042\">#76042</a></li>\n<li><a href=\"https://github.com/rust-lang/rust/issues/76980\">#76980</a></li>\n<li><a href=\"https://github.com/rust-lang/rust/issues/76466\">#76466</a></li>\n</ul>\n<p>seem to be the known issues specifically introduced by the LLVM 11 upgrade. The others are probably still broken but not caused by the LLVM 11 upgrade.</p>",
        "id": 211264137,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1601043671
    },
    {
        "content": "<p>the backport decision for small-ish things like <a href=\"https://github.com/rust-lang/rust/issues/76387\">#76387</a> can wait a while yet. Its this bigger question of whether to back out the whole LLVM11 upgrade that we need to decide sooner, due to all the fallout that would result</p>",
        "id": 211264205,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601043706
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/76466\">#76466</a> is a bit concerning to me as it's not clear from the issue if upstream is even aware of the issue.</p>",
        "id": 211264212,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1601043709
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/74498\">#74498</a> regressed on llvm 9 upgrade, so too old</p>",
        "id": 211264222,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1601043715
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125250\">Wesley Wiser</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211264212\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/rust-lang/rust/issues/76466\">#76466</a> is a bit concerning to me as it's not clear from the issue if upstream is even aware of the issue.</p>\n</blockquote>\n<p>yeah it sort of looks like \"no\"</p>",
        "id": 211264393,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601043806
    },
    {
        "content": "<p>(anyone have a 32-bit windows VM handy to try to replicate the problem? of <a href=\"https://github.com/rust-lang/rust/issues/76466\">#76466</a>?)</p>",
        "id": 211264440,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601043840
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125250\">Wesley Wiser</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211264212\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/rust-lang/rust/issues/76466\">#76466</a> is a bit concerning to me as it's not clear from the issue if upstream is even aware of the issue.</p>\n</blockquote>\n<p>should we ping llvm crew?</p>",
        "id": 211264489,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1601043848
    },
    {
        "content": "<p>I'm not certain we've gotten local duplication of the problem as described</p>",
        "id": 211264528,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601043871
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211264440\">said</a>:</p>\n<blockquote>\n<p>(anyone have a 32-bit windows VM handy to try to replicate the problem? of <a href=\"https://github.com/rust-lang/rust/issues/76466\">#76466</a>?)</p>\n</blockquote>\n<p>(hmm, actually, the original bug reporter said they were on windows 64-bit. so now I'm definitely confused...)</p>",
        "id": 211264651,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601043941
    },
    {
        "content": "<p>it seems like lld is having some issues to split when there are spaces</p>",
        "id": 211264797,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1601044021
    },
    {
        "content": "<p>from skimming the comments for <a href=\"https://github.com/rust-lang/rust/issues/76960\">#76960</a>, it seems like we haven't reported an upstream bug report there (nor for <a href=\"https://github.com/rust-lang/rust/issues/76466\">#76466</a>, as noted above)</p>",
        "id": 211264824,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601044037
    },
    {
        "content": "<blockquote>\n<p>should we ping llvm crew?</p>\n</blockquote>\n<p>I guess that would be a right thing to do then, right?<br>\n(To debug LLD and file a bug upstream)</p>",
        "id": 211264965,
        "sender_full_name": "Léo Lanteri Thauvin",
        "timestamp": 1601044108
    },
    {
        "content": "<p>also regarding <a href=\"https://github.com/rust-lang/rust/issues/76960\">#76960</a>: does the vk-shader-macros crate work on stable?</p>",
        "id": 211265013,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601044131
    },
    {
        "content": "<p>(i'm going to infer \"yes\" based on its use of <code>proc-macro-hack</code> crate)</p>",
        "id": 211265137,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601044200
    },
    {
        "content": "<p>my own investigation found that <a href=\"https://github.com/rust-lang/rust/issues/73151\">#73151</a> and <a href=\"https://github.com/rust-lang/rust/issues/73396\">#73396</a> were both fixed by the LLVM 11 upgrade</p>",
        "id": 211265478,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601044346
    },
    {
        "content": "<p>now, for <a href=\"https://github.com/rust-lang/rust/issues/73151\">#73151</a>, someone did file a request for the LLVM fix to be backported to LLVM 10 (and that backport did happen, back in mid June)</p>",
        "id": 211265573,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601044400
    },
    {
        "content": "<p>but our discussion here isn't about reverting to LLVM 10 and then upgrading to latest 10.x, is it?</p>",
        "id": 211265609,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601044424
    },
    {
        "content": "<p>I don't think so</p>",
        "id": 211265680,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601044452
    },
    {
        "content": "<p>that seems to inject yet more uncertainty</p>",
        "id": 211265687,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601044456
    },
    {
        "content": "<p>are there still pending investigations or have we bottomed that out?</p>",
        "id": 211265707,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601044467
    },
    {
        "content": "<p>(seems like the latter)</p>",
        "id": 211265758,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601044499
    },
    {
        "content": "<p>I was trying to find if <a href=\"https://github.com/rust-lang/rust/issues/76466\">#76466</a> had an upstream bug but I couldn't find one (open or closed).</p>",
        "id": 211265789,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1601044517
    },
    {
        "content": "<p>Hi! When the LLVM 11 upgrade landed, I believe the plan was to revert it from the beta branch if there's too many issues, as it landed directly before branching. Now, what constitutes \"too many issues\"...</p>",
        "id": 211266010,
        "sender_full_name": "Nikita Popov",
        "timestamp": 1601044652
    },
    {
        "content": "<p>It seems like that is the judgement call we have to make now, I guess</p>",
        "id": 211266031,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601044670
    },
    {
        "content": "<p>(side note that it'd be nice if we could write out some of our reasoning to start to develop a kind of \"decision tree\" via precedent...)</p>",
        "id": 211266098,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601044692
    },
    {
        "content": "<p>one question I don't really know is how many folks are hitting these issues</p>",
        "id": 211266116,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601044706
    },
    {
        "content": "<p>can I get a quick confirmation that my hackmd has collected a summary of all the data? <a href=\"https://hackmd.io/j-O85DHLSU-IlOxACHt_Xw\">https://hackmd.io/j-O85DHLSU-IlOxACHt_Xw</a></p>",
        "id": 211266173,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601044740
    },
    {
        "content": "<p>Even ignoring the performance wins, my intuition from reading over the bugs that were <em>fixed</em> by the LLVM 11 upgrade leads me to think that we should stick with it.</p>",
        "id": 211266306,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601044803
    },
    {
        "content": "<p>That looks correct to me.</p>",
        "id": 211266324,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1601044808
    },
    {
        "content": "<p>when I last compared the hackmd to the zulip stream it looked fairly complete</p>",
        "id": 211266514,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601044921
    },
    {
        "content": "<p>there are definitely many advantages</p>",
        "id": 211266594,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601044949
    },
    {
        "content": "<p>I have a general bias for \"track LLVM\"</p>",
        "id": 211266610,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601044955
    },
    {
        "content": "<p>I do have one slight misgiving that we haven't raised here</p>",
        "id": 211266632,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601044969
    },
    {
        "content": "<p>LLVM 11 still hasn't been released, right?</p>",
        "id": 211266637,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601044976
    },
    {
        "content": "<p>I think <a href=\"https://github.com/rust-lang/rust/issues/76466\">https://github.com/rust-lang/rust/issues/76466</a> is the one that worries me the most. If it's as simple as \"building rust in paths with spaces is broken on windows\", that seems potentially far-reaching.</p>",
        "id": 211266646,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601044981
    },
    {
        "content": "<p>but if so then the reported regression case is <em>way</em> too complex</p>",
        "id": 211266691,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601045013
    },
    {
        "content": "<blockquote>\n<p>32-bit Windows specific</p>\n</blockquote>",
        "id": 211266727,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601045031
    },
    {
        "content": "<p>that should go in the notes I guess</p>",
        "id": 211266734,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601045034
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211266637\">said</a>:</p>\n<blockquote>\n<p>LLVM 11 still hasn't been released, right?</p>\n</blockquote>\n<p>Not that I know of...</p>",
        "id": 211266819,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601045063
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211266637\">said</a>:</p>\n<blockquote>\n<p>LLVM 11 still hasn't been released, right?</p>\n</blockquote>\n<p>the reason I ask, is that I think a significant number of developers opt to use the system LLVM. When we planned out this upgrade, our hope was that LLVM 11  itself would be released by the time of our own update hit stable, right?</p>",
        "id": 211266820,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601045063
    },
    {
        "content": "<p>my memory is that we did <em>not</em> say that an LLVM 11 delay in release would be automatic grounds for backing out the upgrade</p>",
        "id": 211266863,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601045087
    },
    {
        "content": "<p>I think we probably did hope for that. On the other hand, aren't those developers building LLVM <em>now</em>?</p>",
        "id": 211266893,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601045106
    },
    {
        "content": "<p>you mean rustc developers, right?</p>",
        "id": 211266914,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601045114
    },
    {
        "content": "<p>but still: I would like to understand if we are going to be causing serious problems for those people using system LLVM?</p>",
        "id": 211266918,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601045115
    },
    {
        "content": "<p>yes, I do mean rustc developers</p>",
        "id": 211266929,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601045120
    },
    {
        "content": "<p>I don't know what their workflow is</p>",
        "id": 211266934,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601045124
    },
    {
        "content": "<p>because this backport doesn't seem to effect them -- they are building nightly, not older betas?</p>",
        "id": 211266969,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601045134
    },
    {
        "content": "<p>I just know some people, when I mention LLVM builds being an issue for bootstrap times, they respond with \"I'm using system LLVM\"</p>",
        "id": 211266998,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601045147
    },
    {
        "content": "<p>I see</p>",
        "id": 211267019,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601045154
    },
    {
        "content": "<p>hmm, you have a good point: What <strong>are</strong> those people doing today...?</p>",
        "id": 211267093,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601045169
    },
    {
        "content": "<p>I'm not sure I understand the issue there, as system LLVM (&gt;= 8 I think) is supported.</p>",
        "id": 211267105,
        "sender_full_name": "Nikita Popov",
        "timestamp": 1601045176
    },
    {
        "content": "<p>We don't depend on features of particular LLVM versions when we do these upgrades?</p>",
        "id": 211267168,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601045205
    },
    {
        "content": "<p>okay then never mind, I guess.</p>",
        "id": 211267182,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601045215
    },
    {
        "content": "<p>The concern regarding rustc + system llvm interaction usually with regards to cross-language LTO, as clang / the LTO plugin needs to use the same LLVM versions.</p>",
        "id": 211267184,
        "sender_full_name": "Nikita Popov",
        "timestamp": 1601045217
    },
    {
        "content": "<p>concern withdrawn then.</p>",
        "id": 211267279,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601045267
    },
    {
        "content": "<p>And you are right, LLVM 11 is not released yet, though expected soon(TM) -- how much time is there until the stable release again?</p>",
        "id": 211267347,
        "sender_full_name": "Nikita Popov",
        "timestamp": 1601045284
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211266646\">said</a>:</p>\n<blockquote>\n<p>I think <a href=\"https://github.com/rust-lang/rust/issues/76466\">https://github.com/rust-lang/rust/issues/76466</a> is the one that worries me the most. If it's as simple as \"building rust in paths with spaces is broken on windows\", that seems potentially far-reaching.</p>\n</blockquote>\n<p>this probably deserves some dedicated investigation</p>",
        "id": 211267369,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601045294
    },
    {
        "content": "<p>just over 2 weeks till stable release</p>",
        "id": 211267395,
        "sender_full_name": "simulacrum",
        "timestamp": 1601045306
    },
    {
        "content": "<p>heh. some <em>quick</em> dedicated investigation then</p>",
        "id": 211267439,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601045335
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"133224\">@Nikita Popov</span> </p>\n<blockquote>\n<ul>\n<li>LLVM 11 is not yet released, so this means that folks using cross-language LTO have to match our custom LLVM version of clang, and can't use a normal release</li>\n</ul>\n</blockquote>\n<p>accurate summary?</p>",
        "id": 211267484,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601045360
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211267439\">said</a>:</p>\n<blockquote>\n<p>heh. some <em>quick</em> dedicated investigation then</p>\n</blockquote>\n<p>if someone has access to a 32 bit windows machine I guess it'd be fairly simple. I have no idea how common 32 bit windows is</p>",
        "id": 211267519,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601045381
    },
    {
        "content": "<p>Maybe <span class=\"user-mention\" data-user-id=\"224872\">@Ryan Levick</span> can help <span aria-label=\"point up\" class=\"emoji emoji-1f446\" role=\"img\" title=\"point up\">:point_up:</span> :)</p>",
        "id": 211267545,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1601045398
    },
    {
        "content": "<p>(by the way, the topic from this point on was largely forked into a discussion of the LLD bug. So we ended moving that thread over here: <a href=\"#narrow/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths/near/211268555\">https://rust-lang.zulipchat.com/#narrow/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths/near/211268555</a> ; but some of it contains little bits of content as we wrapped up the meeting, like the rough consensus that we would <em>not</em> be rolling back the LLVM upgrade.</p>",
        "id": 211667622,
        "sender_full_name": "pnkfelix",
        "timestamp": 1601405741
    }
]