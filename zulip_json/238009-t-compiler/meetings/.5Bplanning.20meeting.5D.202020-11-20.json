[
    {
        "content": "<p>hi <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span> ! Planning meeting now</p>",
        "id": 217411861,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605884705
    },
    {
        "content": "<p>so lets see, lets start off with </p>\n<h2>Announcements ?</h2>",
        "id": 217411919,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605884735
    },
    {
        "content": "<p>seems like we don't have any, which is for the best since we're getting a late start. <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 217412099,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605884807
    },
    {
        "content": "<p>here's the set of unscheduled proposals: <a href=\"https://github.com/rust-lang/compiler-team/issues?q=is%3Aopen+label%3Ameeting-proposal+-label%3Ameeting-scheduled\">https://github.com/rust-lang/compiler-team/issues?q=is%3Aopen+label%3Ameeting-proposal+-label%3Ameeting-scheduled</a></p>",
        "id": 217412185,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605884848
    },
    {
        "content": "<p>there's only one, and I wrote it an hour ago</p>",
        "id": 217412207,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605884862
    },
    {
        "content": "<p>heh</p>",
        "id": 217412232,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605884873
    },
    {
        "content": "<p>I had in mind to file something but I didn't get time to do the prep...which is ok, it can wait until the next round</p>",
        "id": 217412277,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605884884
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/compiler-team/issues/389\">compiler-team#389</a>: \"perf.rlo discussion\"</p>",
        "id": 217412296,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605884887
    },
    {
        "content": "<p>what is it?</p>",
        "id": 217412312,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605884896
    },
    {
        "content": "<p>a working group / org proposal</p>",
        "id": 217412354,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605884910
    },
    {
        "content": "<p>I mean, it looks like we've got time to discuss even ad hoc proposals right now</p>",
        "id": 217412357,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605884911
    },
    {
        "content": "<p>really I need to develop the proposal <em>first</em></p>",
        "id": 217412368,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605884915
    },
    {
        "content": "<p>The WG review?</p>",
        "id": 217412371,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605884917
    },
    {
        "content": "<p>before talking about a meeting</p>",
        "id": 217412378,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605884922
    },
    {
        "content": "<p>okay I trust you to make that call</p>",
        "id": 217412424,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605884946
    },
    {
        "content": "<p>(not sure where/when I should mention it, but this week I started work on Rust-GPU, which will probably mean less involvement than e.g. pre-May, but also I will try to catch up with Rust things that I've had to neglect in the past few months, now that I have something resembling spare time instead of a milestone hanging above my head)</p>",
        "id": 217412479,
        "sender_full_name": "eddyb",
        "timestamp": 1605884972
    },
    {
        "content": "<p>heh: <em>because</em>  you started work on something, you have spare time?</p>",
        "id": 217412542,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605884998
    },
    {
        "content": "<p>On the one hand that sounds nonsensical. And yet I think I know exactly what you mean.</p>",
        "id": 217412614,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885015
    },
    {
        "content": "<p>it's more that I've moved on from the milestone-based thing that was taking up all my time before</p>",
        "id": 217412631,
        "sender_full_name": "eddyb",
        "timestamp": 1605885025
    },
    {
        "content": "<p>gotcha</p>",
        "id": 217412648,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885031
    },
    {
        "content": "<p>so re the perf.rlo discussion</p>",
        "id": 217412699,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885051
    },
    {
        "content": "<p>I spoke about this briefly in the meeting yesterday</p>",
        "id": 217412727,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885065
    },
    {
        "content": "<p>and <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> pointed out that the charter of the \"compiler perf wg\" was recently revised</p>",
        "id": 217412887,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885132
    },
    {
        "content": "<p>or rather... well, what niko said was that the \"contents\" of that wg were amended</p>",
        "id": 217412917,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885148
    },
    {
        "content": "<p>but I have no idea what <em>that</em> means</p>",
        "id": 217412925,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885151
    },
    {
        "content": "<p>but it couldn't have been a mere typo for charter</p>",
        "id": 217412951,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885166
    },
    {
        "content": "<p>ah, just people</p>",
        "id": 217412972,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885173
    },
    {
        "content": "<p>(there is a charter?)</p>",
        "id": 217412984,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885180
    },
    {
        "content": "<p>ah okay</p>",
        "id": 217412985,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885181
    },
    {
        "content": "<p>so</p>",
        "id": 217412992,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605885184
    },
    {
        "content": "<p>that's the point, maybe</p>",
        "id": 217412997,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885185
    },
    {
        "content": "<p>I think that the charter changed</p>",
        "id": 217413009,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605885188
    },
    {
        "content": "<p>implicitly :)</p>",
        "id": 217413012,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605885190
    },
    {
        "content": "<p>niko wants  it to have a charter formalized. maybe. :)</p>",
        "id": 217413028,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885196
    },
    {
        "content": "<p>the original goal of the group as I understood it was to <em>improve compiler perf</em>, more or less</p>",
        "id": 217413035,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605885203
    },
    {
        "content": "<p>but how I understood the revised membership, it was more like <em>track compiler perf</em></p>",
        "id": 217413050,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605885211
    },
    {
        "content": "<p>or maybe <em>work on perf-r.l.o</em></p>",
        "id": 217413066,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605885217
    },
    {
        "content": "<p>I do think it'd be great for us to agree on that and write it down</p>",
        "id": 217413108,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605885234
    },
    {
        "content": "<p>whichever way it is</p>",
        "id": 217413115,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605885237
    },
    {
        "content": "<p>\"improve compiler perf\" is one of those things that's laudable but also incredibly open ended</p>",
        "id": 217413126,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885241
    },
    {
        "content": "<p>Yeah</p>",
        "id": 217413204,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885259
    },
    {
        "content": "<p>while \"track compiler perf\" is actually tractable in its scope</p>",
        "id": 217413216,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885262
    },
    {
        "content": "<p>I think the intent is for both to be in scope, but I could see that being the wrong approach</p>",
        "id": 217413246,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885275
    },
    {
        "content": "<p>and also pretty much a pre-req</p>",
        "id": 217413249,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885276
    },
    {
        "content": "<p>for improvement</p>",
        "id": 217413262,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885282
    },
    {
        "content": "<p>(depending on how much a fan one is of data-driven decision making, that is.)</p>",
        "id": 217413280,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885295
    },
    {
        "content": "<p>not like the WG (AFAIK) is actually \"active\" in the sense that to my knowledge there's not really coordination going on within the WG</p>",
        "id": 217413306,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885313
    },
    {
        "content": "<p>I guess the perf triage reports</p>",
        "id": 217413312,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885316
    },
    {
        "content": "<p>that is certainly an important activity</p>",
        "id": 217413343,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885337
    },
    {
        "content": "<p>so, here's my question: Is it premature to have a T-compiler design meeting about this topic?</p>",
        "id": 217413392,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885357
    },
    {
        "content": "<p>or is it the <em>perfect</em> time to have such a meeting?</p>",
        "id": 217413415,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885363
    },
    {
        "content": "<p>hm, so \"this\" is a bit vague there</p>",
        "id": 217413464,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885374
    },
    {
        "content": "<p>in terms of spelling out what we see as the desirata</p>",
        "id": 217413469,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885378
    },
    {
        "content": "<p>ah sorry</p>",
        "id": 217413490,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885388
    },
    {
        "content": "<p>so <a href=\"https://github.com/rust-lang/compiler-team/issues/389\">https://github.com/rust-lang/compiler-team/issues/389</a> offers more details</p>",
        "id": 217413524,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605885398
    },
    {
        "content": "<p>\"this topic\" being \"perf.rlo\" itself</p>",
        "id": 217413528,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885399
    },
    {
        "content": "<blockquote>\n<p>Let's review the <a href=\"http://perf.rust-lang.org\">perf.rust-lang.org</a> web site. Specifically, lets spell out the goals and how they should be prioritized, and then use that prioritization to figure out what changes we might make.</p>\n</blockquote>",
        "id": 217413536,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605885403
    },
    {
        "content": "<blockquote>\n<p>For example, I think the compare page shows too many benchmarks without a clear indication of which ones are important and which ones can be ignored.</p>\n</blockquote>",
        "id": 217413543,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605885408
    },
    {
        "content": "<p>I think the issue's suggested topic's make sense</p>",
        "id": 217413575,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885423
    },
    {
        "content": "<p>they're not really about the WG though, as I see it</p>",
        "id": 217413588,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885429
    },
    {
        "content": "<p>right</p>",
        "id": 217413597,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885432
    },
    {
        "content": "<p>the reason I bring up the WG</p>",
        "id": 217413605,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885436
    },
    {
        "content": "<p>it is potentially setting some <em>goals</em> for a project group</p>",
        "id": 217413612,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605885439
    },
    {
        "content": "<p>is maybe the WG would prefer to have time to iterate on its own</p>",
        "id": 217413624,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885447
    },
    {
        "content": "<p>with these things in mind</p>",
        "id": 217413636,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885452
    },
    {
        "content": "<p>or perhaps the WG would prefer to have input from T-compiler</p>",
        "id": 217413653,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885463
    },
    {
        "content": "<p>Hm so I think we're continuously -- though slowly -- iterating on perf.rlo</p>",
        "id": 217413660,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885465
    },
    {
        "content": "<p>even if that input comes from a point of a somewhat ad-hoc discussion</p>",
        "id": 217413684,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885479
    },
    {
        "content": "<p>but input on what we consider <em>important</em> is definitely something to consider, I think</p>",
        "id": 217413743,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885491
    },
    {
        "content": "<p>e.g., I have been thinking about hiding incremental runs by default</p>",
        "id": 217413768,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885510
    },
    {
        "content": "<p>Oh interesting</p>",
        "id": 217413781,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885517
    },
    {
        "content": "<p>even though one might hope incremental runs are the common case?</p>",
        "id": 217413809,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885534
    },
    {
        "content": "<p>because IMO optimizing end-to-end perf on a clean run is more important, though that might in part be because incremental usually is not <em>individually</em> impacted</p>",
        "id": 217413814,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885538
    },
    {
        "content": "<p>I do think that the incremental runs are given too much weight in the presentation</p>",
        "id": 217413853,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885563
    },
    {
        "content": "<p>i.e., we rarely have fixes/changes to incremental behavior in specific, but because it takes less time, as a % change, it is larger</p>",
        "id": 217413854,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885564
    },
    {
        "content": "<p>since typically there is only one line dedicated to a full run</p>",
        "id": 217413876,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885574
    },
    {
        "content": "<p>but maybe that's getting into the weeds for this meeting</p>",
        "id": 217413893,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885585
    },
    {
        "content": "<p>and 2 or more lines dedicated to various incremental runs</p>",
        "id": 217413914,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885600
    },
    {
        "content": "<p>I think we should optimize the presentation for the runs users actually do most often: incremental debug builds and non-incremental release builds. I'm not aware of anyone that uses non-incremental debug builds for example.</p>",
        "id": 217413981,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1605885620
    },
    {
        "content": "<p>that's an interesting idea</p>",
        "id": 217414009,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885642
    },
    {
        "content": "<p>many people do non-incr debug builds constantly in CI, if they don't cache</p>",
        "id": 217414016,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885649
    },
    {
        "content": "<p>but -- it's unclear how we decide these things, anyway</p>",
        "id": 217414035,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885660
    },
    {
        "content": "<p>So while we could continue to spitball here about this topic</p>",
        "id": 217414038,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885662
    },
    {
        "content": "<p>Oh, interesting</p>",
        "id": 217414042,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1605885664
    },
    {
        "content": "<p>e.g., I could imagine discussing it in a meeting</p>",
        "id": 217414052,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885666
    },
    {
        "content": "<p>I think we would be better off planning a meeting for it</p>",
        "id": 217414071,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885676
    },
    {
        "content": "<p>but I'm not sure we'd get much out of that, other than talking to each other about it</p>",
        "id": 217414079,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885683
    },
    {
        "content": "<p>so that people have time to prepare (and show up, if they're absent here but would like to try to attend a meeting on this topic)</p>",
        "id": 217414096,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885692
    },
    {
        "content": "<p>but more important to me was the bigger idea</p>",
        "id": 217414139,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885712
    },
    {
        "content": "<p>of specifying what the high-level goals are</p>",
        "id": 217414189,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885726
    },
    {
        "content": "<p>i.e. what are we hoping to learn from perf.rlo</p>",
        "id": 217414209,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885737
    },
    {
        "content": "<p>I think just taking time to talk about it seems useful, I'd be content to leave the <em>decisions</em> to those people who are implementing it :)</p>",
        "id": 217414215,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605885743
    },
    {
        "content": "<p>(and I fully expect there to be conflicting goals)</p>",
        "id": 217414235,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885753
    },
    {
        "content": "<p>Yes, I think I would actually set the goal slightly differently</p>",
        "id": 217414242,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885761
    },
    {
        "content": "<p>something similar to the \"areas of performance\" or whatever we had a while back</p>",
        "id": 217414264,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885771
    },
    {
        "content": "<p>i.e., \"What would it mean for compiler performance work to be successful in 2021?\" or something like that</p>",
        "id": 217414301,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885787
    },
    {
        "content": "<p>that sounds like  a potentially broader topic than what I was envisaging, but maybe that's for the best</p>",
        "id": 217414384,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885831
    },
    {
        "content": "<p>I think sort of that topic is what we need answers for to make informed decisions on what to track in perf.rlo or work on in the compiler, in some sense</p>",
        "id": 217414469,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885861
    },
    {
        "content": "<p>yes, okay</p>",
        "id": 217414500,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885877
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-11-20/near/217414301\">said</a>:</p>\n<blockquote>\n<p>i.e., \"What would it mean for compiler performance work to be successful in 2021?\" or something like that</p>\n</blockquote>\n<p>I think we could easily fill a meeting slot just talking about this without any mention of perf.rlo at all.</p>",
        "id": 217414514,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1605885885
    },
    {
        "content": "<p>right, I would not expect those goals to include perf.rlo in specific</p>",
        "id": 217414559,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885909
    },
    {
        "content": "<p>(though figuring out whether we met them likely does need tracking of some kind)</p>",
        "id": 217414575,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885921
    },
    {
        "content": "<p>but I figure that starting from the top-level and then digging into the \"how do we do that\" is better</p>",
        "id": 217414606,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885942
    },
    {
        "content": "<p>since I'm not even clear on the goals overall yet, beyond the vague \"faster?\"</p>",
        "id": 217414631,
        "sender_full_name": "simulacrum",
        "timestamp": 1605885956
    },
    {
        "content": "<p>are any of the people who prepared recent perf triage reports here? <span class=\"user-mention\" data-user-id=\"224872\">@Ryan Levick</span> or <span class=\"user-mention\" data-user-id=\"118594\">@ecstatic-morse</span> ?</p>",
        "id": 217414744,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605885997
    },
    {
        "content": "<p>this proposal feels  abit like a \"roadmap-y\" meeting</p>",
        "id": 217414749,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886002
    },
    {
        "content": "<p>I'm a bit curious if users feel the compiler is getting faster or not. We know empirically it is but is that actually perceptible to people? Perhaps Rust projects are getting bigger at about the same rate we're making the compiler faster?</p>",
        "id": 217414767,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1605886008
    },
    {
        "content": "<p>there is some data from the survey about this</p>",
        "id": 217414788,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886018
    },
    {
        "content": "<p>I agree it's roadmap-y</p>",
        "id": 217414794,
        "sender_full_name": "simulacrum",
        "timestamp": 1605886022
    },
    {
        "content": "<p>we're still crunching it but I <em>believe</em> it showed a general feeling that the compiler is getting \"very mildly\" faster</p>",
        "id": 217414826,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886037
    },
    {
        "content": "<p>I and <span class=\"user-mention\" data-user-id=\"224872\">@Ryan Levick</span> have done perf triage the last ~3-4 times</p>",
        "id": 217414832,
        "sender_full_name": "simulacrum",
        "timestamp": 1605886041
    },
    {
        "content": "<p>does roadmap-y mean we should be taking the blog post survey route here?</p>",
        "id": 217414852,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886054
    },
    {
        "content": "<p>no, what I meant more is</p>",
        "id": 217414864,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886063
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-11-20/near/217414826\">said</a>:</p>\n<blockquote>\n<p>we're still crunching it but I <em>believe</em> it showed a general feeling that the compiler is getting \"very mildly\" faster</p>\n</blockquote>\n<p>At least we're making some progress then :)</p>",
        "id": 217414870,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1605886068
    },
    {
        "content": "<p>if we accept that one of our \"2021 roadmap goals\" will be improved compiler perf</p>",
        "id": 217414882,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886074
    },
    {
        "content": "<p>it'd be nice to drill into that -- what <em>aspects</em> of perf and can we establish particular goals or benchmarks we'll use?</p>",
        "id": 217414935,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886087
    },
    {
        "content": "<p>or maybe \"overall strategy\"</p>",
        "id": 217414953,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886094
    },
    {
        "content": "<p>Oh okay <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> so you can give feedback on this I hope: How long is it taking to generate the perf triage report? I'm guessing, based on how big it is and that it seems to be hand-written, that it takes too long</p>",
        "id": 217414954,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886095
    },
    {
        "content": "<p>I would say about an hour a week?</p>",
        "id": 217414976,
        "sender_full_name": "simulacrum",
        "timestamp": 1605886105
    },
    {
        "content": "<p>e.g., I think that <span class=\"user-mention\" data-user-id=\"120989\">@njn</span>'s work has really focused on like \"sanding down the hotspots\" via overall profiling</p>",
        "id": 217414981,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886107
    },
    {
        "content": "<p>it's not too bad, identifying the preliminary report is automated now, just need to click on links and check if they're real regressions</p>",
        "id": 217415030,
        "sender_full_name": "simulacrum",
        "timestamp": 1605886131
    },
    {
        "content": "<p>one thing I'm not sure about is how to properly integrate the new hardware counter stuff into perf.r-l.o</p>",
        "id": 217415254,
        "sender_full_name": "eddyb",
        "timestamp": 1605886233
    },
    {
        "content": "<p>collecting it alongside the existing data would probably take too much time overall?</p>",
        "id": 217415297,
        "sender_full_name": "eddyb",
        "timestamp": 1605886254
    },
    {
        "content": "<p>for the <code>-check</code> runs, at least, it <em>should</em> be much more accurate for the \"per-query diff\" view</p>",
        "id": 217415391,
        "sender_full_name": "eddyb",
        "timestamp": 1605886300
    },
    {
        "content": "<p>whereas today, you could see the opposite in that view, compared to the change in <code>instructions:u</code> totals</p>",
        "id": 217415433,
        "sender_full_name": "eddyb",
        "timestamp": 1605886322
    },
    {
        "content": "<p>I expect to replace seconds with the instructions</p>",
        "id": 217415593,
        "sender_full_name": "simulacrum",
        "timestamp": 1605886384
    },
    {
        "content": "<p>you observed a 15x slowdown at some point in the past, <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> ; is that still representative slowdown today?</p>",
        "id": 217415610,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886391
    },
    {
        "content": "<p>sorry, that doesn't ring a bell</p>",
        "id": 217415658,
        "sender_full_name": "eddyb",
        "timestamp": 1605886414
    },
    {
        "content": "<p><a href=\"#narrow/stream/247081-t-compiler.2Fperformance/topic/hardware.20counter.20%28rdpmc%29.20measurements/near/205826150\">https://rust-lang.zulipchat.com/#narrow/stream/247081-t-compiler.2Fperformance/topic/hardware.20counter.20%28rdpmc%29.20measurements/near/205826150</a></p>",
        "id": 217415689,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886427
    },
    {
        "content": "<p>in any case, I think that's too fine grained perhaps?</p>",
        "id": 217415692,
        "sender_full_name": "simulacrum",
        "timestamp": 1605886427
    },
    {
        "content": "<p>actually this is probably in the weeds</p>",
        "id": 217415836,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886468
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> oh that's the cost of measuring time, compared to measuring instructions. and it's the overhead compared to a non-<code>-Z self-profile</code> run</p>",
        "id": 217415855,
        "sender_full_name": "eddyb",
        "timestamp": 1605886478
    },
    {
        "content": "<p>(oh, compared to <em>non-Zself-profile</em>; okay)</p>",
        "id": 217415911,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886497
    },
    {
        "content": "<p>tho I haven't measured the overhead from writing the actual events</p>",
        "id": 217415919,
        "sender_full_name": "eddyb",
        "timestamp": 1605886499
    },
    {
        "content": "<p>It seems clear that various parties present could find value in one or more meetings on this topic, yes?</p>",
        "id": 217415979,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886526
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> the numbers are a bit hard to compare but basically using hardware counters is cheaper than <code>std::time::Instant::elapsed()</code></p>",
        "id": 217415983,
        "sender_full_name": "eddyb",
        "timestamp": 1605886528
    },
    {
        "content": "<p>(okay that does not surprise me)</p>",
        "id": 217416009,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886541
    },
    {
        "content": "<p>and so closer to a non-<code>-Z self-profile</code> run</p>",
        "id": 217416011,
        "sender_full_name": "eddyb",
        "timestamp": 1605886542
    },
    {
        "content": "<p>(but also: still in weeds)</p>",
        "id": 217416034,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886551
    },
    {
        "content": "<p>I agree, just felt bad for misleading people with my past terse comments about overhead <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 217416113,
        "sender_full_name": "eddyb",
        "timestamp": 1605886567
    },
    {
        "content": "<p>it was my fault, I should have PM'ed you</p>",
        "id": 217416134,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886577
    },
    {
        "content": "<p>instead of exacerbating the mislead</p>",
        "id": 217416219,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886620
    },
    {
        "content": "<p>SO</p>",
        "id": 217416229,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886623
    },
    {
        "content": "<p>heh we're kind of having an ad-hoc meading right now :)</p>",
        "id": 217416235,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886627
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> one of the problems is we can't use it everywhere because of the single-threaded limitation. so no <code>-debug</code> or <code>-opt</code></p>",
        "id": 217416264,
        "sender_full_name": "eddyb",
        "timestamp": 1605886642
    },
    {
        "content": "<p>yes but I think a meeting we actually prepare for would be better</p>",
        "id": 217416266,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886643
    },
    {
        "content": "<p>though I don't mind if we spitball ideas</p>",
        "id": 217416293,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886657
    },
    {
        "content": "<p>So I think the roadmap style meeting is the right thing</p>",
        "id": 217416303,
        "sender_full_name": "simulacrum",
        "timestamp": 1605886661
    },
    {
        "content": "<p>I'm not sure about others at this point</p>",
        "id": 217416339,
        "sender_full_name": "simulacrum",
        "timestamp": 1605886681
    },
    {
        "content": "<p>okay. When shall we have it?</p>",
        "id": 217416354,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886682
    },
    {
        "content": "<p>I would propose we skip next week</p>",
        "id": 217416400,
        "sender_full_name": "simulacrum",
        "timestamp": 1605886691
    },
    {
        "content": "<p>oh yes</p>",
        "id": 217416416,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886697
    },
    {
        "content": "<p>agree 100%</p>",
        "id": 217416421,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886699
    },
    {
        "content": "<p>is that thanksgiving?</p>",
        "id": 217416442,
        "sender_full_name": "eddyb",
        "timestamp": 1605886709
    },
    {
        "content": "<p>thursday is</p>",
        "id": 217416453,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886717
    },
    {
        "content": "<p>many people take the friday off</p>",
        "id": 217416472,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886725
    },
    {
        "content": "<p>which gives us Dec 4th, 11th, 18th</p>",
        "id": 217416478,
        "sender_full_name": "simulacrum",
        "timestamp": 1605886728
    },
    {
        "content": "<p>to finish digesting food</p>",
        "id": 217416481,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886730
    },
    {
        "content": "<p>Next Friday is Black Friday. Meetings are 100% off <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 217416515,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1605886747
    },
    {
        "content": "<p>I think an early meeting on this topic could be good</p>",
        "id": 217416547,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886763
    },
    {
        "content": "<p>I would suggest the 4th, I think I could prepare something by then</p>",
        "id": 217416571,
        "sender_full_name": "simulacrum",
        "timestamp": 1605886772
    },
    {
        "content": "<p>because it might be the kind of meeting that we want to spawn off follow-up meetings</p>",
        "id": 217416574,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886773
    },
    {
        "content": "<p>Dec 4th works for me</p>",
        "id": 217416630,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886799
    },
    {
        "content": "<p>the other relevant thing I could add (if anyone is taking notes for a future perf meeting) is I was supposed to work on some trait system optimizations this year, before getting into the weeds of hardware counters, and in the meanwhile <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> has made the original problems pretty much go away (in the process of adding support for GATs, I believe)</p>",
        "id": 217416632,
        "sender_full_name": "eddyb",
        "timestamp": 1605886800
    },
    {
        "content": "<p>oh that reminds me</p>",
        "id": 217416697,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886813
    },
    {
        "content": "<p>carl lerche keeps mentioning</p>",
        "id": 217416705,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886818
    },
    {
        "content": "<p>that they would really like to see the ability to return async blocks from traits</p>",
        "id": 217416740,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886835
    },
    {
        "content": "<p>I'll be honest,  I don't know what that exactly means</p>",
        "id": 217416794,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886859
    },
    {
        "content": "<p>because I don't do enough programming with async (yet)</p>",
        "id": 217416837,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886883
    },
    {
        "content": "<p>and I don't know how much of it would be a lang team MCP/RFC vs compiler internals work</p>",
        "id": 217416902,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886915
    },
    {
        "content": "<p>it means named impl trait</p>",
        "id": 217416904,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886916
    },
    {
        "content": "<p>and we have a plan for it</p>",
        "id": 217416911,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886919
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span>, <span class=\"user-mention\" data-user-id=\"124288\">@oli</span>, <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> and I sat down and drew up some docs</p>",
        "id": 217416983,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886935
    },
    {
        "content": "<p>I've been meaning to push that forward</p>",
        "id": 217416992,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886940
    },
    {
        "content": "<p>in particular, to identify a \"minimal subset\" we could stabilize right now</p>",
        "id": 217417017,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886948
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> okay maybe you can just point me at where those discussions are happening</p>",
        "id": 217417040,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886957
    },
    {
        "content": "<p>(or rather, we identified such a subset already)</p>",
        "id": 217417048,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886961
    },
    {
        "content": "<p>they happened some time back</p>",
        "id": 217417061,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886968
    },
    {
        "content": "<p>but I'd be happy to share the notes with you if you wanted to push it along</p>",
        "id": 217417079,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605886975
    },
    {
        "content": "<p>so I can relay things to carl to make them feel like things aren't stagnant</p>",
        "id": 217417098,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886982
    },
    {
        "content": "<p>Sure, sharing the notes would be good.</p>",
        "id": 217417118,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605886990
    },
    {
        "content": "<p>it's on my list of features, like min const generics, that we can make incremental progress on</p>",
        "id": 217417159,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605887013
    },
    {
        "content": "<p>anyway, not something for this steering meeting cycle</p>",
        "id": 217417176,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887023
    },
    {
        "content": "<p>or maybe those 2 features <em>are</em> the list</p>",
        "id": 217417185,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605887026
    },
    {
        "content": "<p>(you could consider adding specialization...but I wouldn't yet)</p>",
        "id": 217417218,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605887042
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> what exactly were you suggesting you would prepare in time for a December 4th meeting? An agenda? a roadmap blog post?</p>",
        "id": 217417382,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887106
    },
    {
        "content": "<p>agenda</p>",
        "id": 217417393,
        "sender_full_name": "simulacrum",
        "timestamp": 1605887110
    },
    {
        "content": "<p>not sure what you mean by blog post</p>",
        "id": 217417431,
        "sender_full_name": "simulacrum",
        "timestamp": 1605887123
    },
    {
        "content": "<p>well</p>",
        "id": 217417442,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887126
    },
    {
        "content": "<p>My impression is that every year</p>",
        "id": 217417459,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887135
    },
    {
        "content": "<p>for forming the overall project roadmap</p>",
        "id": 217417467,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887139
    },
    {
        "content": "<p>the community posts a bunch of blog posts about what they'd like to see in Rust for the coming year</p>",
        "id": 217417496,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887153
    },
    {
        "content": "<p>we've already done that?</p>",
        "id": 217417532,
        "sender_full_name": "simulacrum",
        "timestamp": 1605887164
    },
    {
        "content": "<p>have we?</p>",
        "id": 217417571,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887171
    },
    {
        "content": "<p>indeed, earlier this year</p>",
        "id": 217417584,
        "sender_full_name": "simulacrum",
        "timestamp": 1605887176
    },
    {
        "content": "<p>(somewhat concerning you weren't aware :)</p>",
        "id": 217417597,
        "sender_full_name": "simulacrum",
        "timestamp": 1605887185
    },
    {
        "content": "<p>yeah I've been distracted</p>",
        "id": 217417611,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887192
    },
    {
        "content": "<p><a href=\"https://blog.rust-lang.org/2020/09/03/Planning-2021-Roadmap.html\">https://blog.rust-lang.org/2020/09/03/Planning-2021-Roadmap.html</a></p>",
        "id": 217417616,
        "sender_full_name": "simulacrum",
        "timestamp": 1605887196
    },
    {
        "content": "<p>oh look at that</p>",
        "id": 217417630,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887201
    },
    {
        "content": "<p>I guess I knew about this</p>",
        "id": 217417688,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887227
    },
    {
        "content": "<p>in terms of e.g. discussing a 2021 edition</p>",
        "id": 217417703,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887235
    },
    {
        "content": "<p>in any case, that work is ongoing, but current thinking suggests that there's no strong expectation of incorporating team-specific details at such a fine granularity</p>",
        "id": 217417731,
        "sender_full_name": "simulacrum",
        "timestamp": 1605887249
    },
    {
        "content": "<p>gotcha</p>",
        "id": 217417764,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887266
    },
    {
        "content": "<p>by the way, are the links collected from the google form on that Planning blog post available somewhere?</p>",
        "id": 217417961,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887347
    },
    {
        "content": "<p>I can share them privately, yeah</p>",
        "id": 217417997,
        "sender_full_name": "simulacrum",
        "timestamp": 1605887368
    },
    {
        "content": "<p>(PM me)</p>",
        "id": 217418043,
        "sender_full_name": "simulacrum",
        "timestamp": 1605887393
    },
    {
        "content": "<p>interesting, we aren't assuming they can be publicly disseminated</p>",
        "id": 217418099,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887405
    },
    {
        "content": "<p>I can understand that precaution</p>",
        "id": 217418124,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887413
    },
    {
        "content": "<p>I think they can, just don't want to deal with that too much</p>",
        "id": 217418163,
        "sender_full_name": "simulacrum",
        "timestamp": 1605887433
    },
    {
        "content": "<p>were there any other meetings?</p>",
        "id": 217418191,
        "sender_full_name": "simulacrum",
        "timestamp": 1605887445
    },
    {
        "content": "<p>I think that's it. December 4th: establish performance goals for 2021</p>",
        "id": 217418289,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887481
    },
    {
        "content": "<p>(right?)</p>",
        "id": 217418303,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887485
    },
    {
        "content": "<p>so now I guess we can go back to spitballing about performance again.</p>",
        "id": 217418452,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887538
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> can you put that on the calendar?</p>",
        "id": 217418507,
        "sender_full_name": "simulacrum",
        "timestamp": 1605887557
    },
    {
        "content": "<p>(bye in advance to everyone in <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span>!)</p>",
        "id": 217418514,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887561
    },
    {
        "content": "<p>Yes I will do so now, thanks <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span></p>",
        "id": 217418539,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887566
    },
    {
        "content": "<p>oh</p>",
        "id": 217418672,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887631
    },
    {
        "content": "<p>should the meeting be on zulip or zoom?</p>",
        "id": 217418690,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887641
    },
    {
        "content": "<p>(I assume we'll keep it at the standing time slot)</p>",
        "id": 217418744,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887650
    },
    {
        "content": "<p>and absent someone pushing for zoom, I guess I'll stick with zullp.</p>",
        "id": 217418789,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887674
    },
    {
        "content": "<p>I think zulip is fine for this</p>",
        "id": 217418838,
        "sender_full_name": "simulacrum",
        "timestamp": 1605887692
    },
    {
        "content": "<p>I wonder if there's a way we could make a hybrid zoom+zulip discussion work</p>",
        "id": 217418878,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887705
    },
    {
        "content": "<p>where someone on zoom just has the job of representing the zulip thread</p>",
        "id": 217418909,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887718
    },
    {
        "content": "<p>probably bonkers.</p>",
        "id": 217418921,
        "sender_full_name": "pnkfelix",
        "timestamp": 1605887721
    },
    {
        "content": "<p>bonkers :)</p>",
        "id": 217418932,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1605887725
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125250\">Wesley Wiser</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-11-20/near/217413981\">said</a>:</p>\n<blockquote>\n<p>I think we should optimize the presentation for the runs users actually do most often: incremental debug builds and non-incremental release builds. I'm not aware of anyone that uses non-incremental debug builds for example.</p>\n</blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-11-20/near/217414016\">said</a>:</p>\n<blockquote>\n<p>many people do non-incr debug builds constantly in CI, if they don't cache</p>\n</blockquote>\n<p>I think 'incremental' is being used in two different ways here: <span class=\"user-mention\" data-user-id=\"125250\">@Wesley Wiser</span> is using it to mean 'any build using the incremental system, including full builds', and <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> means 'a build with no incremental cache, even if it uses the incremental system'. The second one is a lot more common than the first.</p>",
        "id": 217440153,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1605896756
    },
    {
        "content": "<p>Well no, not quite, though it might not matter too much.</p>",
        "id": 217440294,
        "sender_full_name": "simulacrum",
        "timestamp": 1605896822
    },
    {
        "content": "<p>I think <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> is saying that some users disable incremental compilation for debug builds because they use a clean CI image so the cache isn't persisted between runs and so the time spent doing incremental things is wasted.</p>",
        "id": 217440318,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1605896832
    },
    {
        "content": "<p>Non local crates never use incremental</p>",
        "id": 217440337,
        "sender_full_name": "simulacrum",
        "timestamp": 1605896844
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125250\">Wesley Wiser</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-11-20/near/217440318\">said</a>:</p>\n<blockquote>\n<p>I think <span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> is saying that some users disable incremental compilation for debug builds because they use a clean CI image so the cache isn't persisted between runs and so the time spent doing incremental things is wasted.</p>\n</blockquote>\n<p>hmm, ok - I havne't seen people doing that but it seems reasonable</p>",
        "id": 217440394,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1605896871
    },
    {
        "content": "<p>the cases I care about the most are 'incremental, no cache' and 'incremental, small changes'</p>",
        "id": 217440485,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1605896901
    },
    {
        "content": "<p>My argument was that essentially all patches landing in the compiler today don't target incremental compilation specifically, but rather the non-incr clean case - and for those patches, looking at changes to incremental performance is almost certainly not worth it. The exception is if you manage to depend on an unexpected piece of state in incremental, but for most of those we should have dedicated tests and can catch them after the patch lands in perf triage (for example).</p>",
        "id": 217448043,
        "sender_full_name": "simulacrum",
        "timestamp": 1605900586
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> Showing incremental opt builds seems like a waste of time (I only learned this week that opt builds are non-incremental by default)</p>",
        "id": 217488688,
        "sender_full_name": "njn",
        "timestamp": 1605941543
    },
    {
        "content": "<p>It might even be worth disabling them (e.g. in favor of more runs on those benchmarks) to save time.... I guess rustc developers use them</p>",
        "id": 217497282,
        "sender_full_name": "simulacrum",
        "timestamp": 1605957212
    }
]