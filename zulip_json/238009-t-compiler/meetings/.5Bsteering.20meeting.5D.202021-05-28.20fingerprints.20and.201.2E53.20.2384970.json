[
    {
        "content": "<p>Hi <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span> , we'll be starting our steering meeting in about five minutes. The topic(s) of discussion will be what to do for incr-comp on 1.53, and the beta-backports associated with the incr-comp fingerprint issues, as we laid out in yesterday's meeting <a class=\"stream-topic\" data-stream-id=\"238009\" href=\"/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-05-27.20.2354818\">#t-compiler/meetings &gt; [weekly] 2021-05-27 #54818</a></p>",
        "id": 240607311,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210193
    },
    {
        "content": "<p><a href=\"https://hackmd.io/vXRZ4RiNRKWVlDChmsCriA?view\">https://hackmd.io/vXRZ4RiNRKWVlDChmsCriA?view</a></p>",
        "id": 240607404,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622210255
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"119031\">@Esteban Küber</span> . Also, <a href=\"https://github.com/rust-lang/rust/issues/84970\">#84970</a> has a table with the relevant PR's that we should discuss re beta-backports; i think the ones we will be discussing are the ones that have \"1.54\" in the 5th column of the table, namely: PR's <a href=\"https://github.com/rust-lang/rust/issues/85211\">#85211</a> <a href=\"https://github.com/rust-lang/rust/issues/83901\">#83901</a> and <a href=\"https://github.com/rust-lang/rust/issues/85186\">#85186</a></p>",
        "id": 240607601,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210344
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"125294\">@Aaron Hill</span> should <a href=\"https://github.com/rust-lang/rust/issues/85702\">#85702</a> be in the table that <span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> mentioned?</p>",
        "id": 240607853,
        "sender_full_name": "mw",
        "timestamp": 1622210453
    },
    {
        "content": "<p>it sounds like it</p>",
        "id": 240608141,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210578
    },
    {
        "content": "<p>though its a PR, with no issue</p>",
        "id": 240608210,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210616
    },
    {
        "content": "<p>I added a row nonetheless</p>",
        "id": 240608412,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210703
    },
    {
        "content": "<p>It seems to be a follow up. <span class=\"user-mention\" data-user-id=\"125294\">@Aaron Hill</span>, could you confirm?</p>",
        "id": 240608417,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622210704
    },
    {
        "content": "<p>I think <span class=\"user-mention\" data-user-id=\"125294\">@Aaron Hill</span> discovered the problem before anybody else ran into it</p>",
        "id": 240608420,
        "sender_full_name": "mw",
        "timestamp": 1622210706
    },
    {
        "content": "<p>should we take a few minutes to read the hackmd? there's a lot there to digest</p>",
        "id": 240608427,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622210711
    },
    {
        "content": "<p>Yes yes</p>",
        "id": 240608440,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210715
    },
    {
        "content": "<p>or rather</p>",
        "id": 240608451,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210719
    },
    {
        "content": "<p>I wanted to ask first</p>",
        "id": 240608458,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210722
    },
    {
        "content": "<p>Does anyone want to argue for us to start by talking about the set of PR's, and whether to consider backporting them to 1.53</p>",
        "id": 240608519,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210746
    },
    {
        "content": "<p>(this would be <em>regardless</em> of what we decide to do w.r.t. RUSTC_FORCE_INCREMENTAL in 1.53)</p>",
        "id": 240608594,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210767
    },
    {
        "content": "<p>I'm fine with either ordering, but we should decide which one so that the reading of the document happens right before that conversation</p>",
        "id": 240608646,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210796
    },
    {
        "content": "<p>No responses ==&gt; I decide ==&gt; We're starting with the hackmd</p>",
        "id": 240608681,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210819
    },
    {
        "content": "<p>I think we should go the other way and talk about the backports last.</p>",
        "id": 240608716,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1622210835
    },
    {
        "content": "<p>I think so too</p>",
        "id": 240608761,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622210862
    },
    {
        "content": "<p>we are going to get stuck in the weeds</p>",
        "id": 240608769,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622210865
    },
    {
        "content": "<p>So lets take five minutes now to read the hackmd. I'm only allocating 5 mins on the assumption that we can all just read the newly added stuff starting from <a href=\"https://hackmd.io/vXRZ4RiNRKWVlDChmsCriA?view#Arguments-and-narratives\">https://hackmd.io/vXRZ4RiNRKWVlDChmsCriA?view#Arguments-and-narratives</a></p>",
        "id": 240608782,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210868
    },
    {
        "content": "<p>I wanted to add one thing</p>",
        "id": 240608790,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622210871
    },
    {
        "content": "<p>in the hackmd, I added one line to the introduction</p>",
        "id": 240608805,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622210879
    },
    {
        "content": "<p>that I think is relevant</p>",
        "id": 240608812,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622210881
    },
    {
        "content": "<ul>\n<li>We could do nothing at all: Just let the current 1.53-beta follow the train into stable. The main issue with this is that it means there is a risk that stable users will hit one of the three bugs that are known and only have fixes on 1.54-nightly, and will get a corresponding ICE.<br>\n     * The current best predictor of such outcomes is from users of the current beta. We have had <em>very few</em> reports of ICE's on the current beta, if I understand the situation correctly.<br>\n     * But \"very few\" != \"zero\". In particular, Carol Nichols did report [yesterday][carol-yesterday] that she hit one of the ICE's while using the beta. (She is someone who switched from stable to beta because 1.52.x-stable with incr-comp forced on was constantly ICE'ing for her.)<br>\n     * There is also discussion in <a href=\"#narrow/stream/182449-t-compiler.2Fhelp/topic/Incremental.20compilation.20issue\">Zulip suggesting that x.py users are hitting problems with beta</a></li>\n</ul>",
        "id": 240608852,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622210885
    },
    {
        "content": "<p>note that last bullet</p>",
        "id": 240608860,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622210889
    },
    {
        "content": "<p>I didn't know about that</p>",
        "id": 240608883,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210904
    },
    {
        "content": "<p>reading status emojis here. <span aria-label=\"book\" class=\"emoji emoji-1f4d6\" role=\"img\" title=\"book\">:book:</span> =&gt; started reading, <span aria-label=\"checkered flag\" class=\"emoji emoji-1f3c1\" role=\"img\" title=\"checkered flag\">:checkered_flag:</span> =&gt; done reading</p>",
        "id": 240609031,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622210983
    },
    {
        "content": "<p>Okay looks like we're all done</p>",
        "id": 240609618,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211227
    },
    {
        "content": "<p>There's a pattern to how I like to run doc-based meetings</p>",
        "id": 240609640,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211238
    },
    {
        "content": "<p>First thing is: Are there any questions about what's written on the doc itself? I.e. clarification requests, or things people didn't understand?</p>",
        "id": 240609726,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211260
    },
    {
        "content": "<p>(Note \"not understand\" != \"don't agree with\")</p>",
        "id": 240609744,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211271
    },
    {
        "content": "<p>I'll take that as \"no questions\"; interrupt if I am wrong</p>",
        "id": 240609818,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211302
    },
    {
        "content": "<p>Some people who voted and wrote yesterday are not present here</p>",
        "id": 240609872,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211330
    },
    {
        "content": "<p>In particular <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span></p>",
        "id": 240609879,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211334
    },
    {
        "content": "<p>I am nonetheless tempted to open with a second straw poll</p>",
        "id": 240609923,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211358
    },
    {
        "content": "<p>One thing about the argument in favor of disabling in 1.53 with the assumption that all these ICEs have been fixed by 1.54 to preserve \"our image\" (which I agree with): we might have that image hit regardless if there are latent ICEs that haven't yet been reported and that won't be until 1.54 sees wide adoption. <span class=\"user-mention\" data-user-id=\"125250\">@Wesley Wiser</span>  Is the argument that there's low likelihood of this? (feel free to punt this until <em>after</em> if this doesn't qualify as a question in your eyes)</p>",
        "id": 240609924,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622211359
    },
    {
        "content": "<p>to bascially see if anyone  changed their mind, i.e. if we might have consensus amongst the people here</p>",
        "id": 240609992,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211377
    },
    {
        "content": "<p>so lets see, maybe just <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span> / <span aria-label=\"thumbs down\" class=\"emoji emoji-1f44e\" role=\"img\" title=\"thumbs down\">:thumbs_down:</span> / <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span>  on each option</p>",
        "id": 240610046,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211401
    },
    {
        "content": "<p>Option: Make RUST_FORCE_INCREMENTAL part of the 1.53-stable release (i.e. disable incr-comp unless user opts in, just like 1.52.1)</p>",
        "id": 240610112,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211432
    },
    {
        "content": "<p>Option: Let 1.53-stable proceed in state that it has for 1.53-beta: incr-comp is back on in standard set of profiles</p>",
        "id": 240610185,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211470
    },
    {
        "content": "<p>Option: Try to implement pnkfelix's \"why not both\" idea for 1.53</p>",
        "id": 240610274,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211497
    },
    {
        "content": "<p>the second option would also include a better error message and lots of communication trying to explain the issue, right?</p>",
        "id": 240610328,
        "sender_full_name": "mw",
        "timestamp": 1622211528
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119031\">@Esteban Küber</span> I think my feeling is there isn't a way to be 100% sure that won't happen but shipping another release with known issues still lurking will look very bad if those issues turn out to be serious. I think most people understand the software will always have bugs but we need to make sure we're making carefully calculated decisions about which ones are ok to ship with and which aren't.</p>",
        "id": 240610368,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1622211549
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"124287\">mw</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202021-05-28.20fingerprints.20and.201.2E53.20.2384970/near/240610328\">said</a>:</p>\n<blockquote>\n<p>the second option would also include a better error message and lots of communication trying to explain the issue, right?</p>\n</blockquote>\n<p>I don't know if the error message would get further improvement; I was under impression we were happy with status there</p>",
        "id": 240610390,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211561
    },
    {
        "content": "<p>Oh there is another option that no one has said</p>",
        "id": 240610448,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211594
    },
    {
        "content": "<p>Option: Disable the fingerprint check</p>",
        "id": 240610459,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211600
    },
    {
        "content": "<p>that would probably be very bad</p>",
        "id": 240610513,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211608
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> re:error at most, we could change it to not be a delay_span_bug and instead be a regular error. It's a cop-out, but no longer an ICE...</p>",
        "id": 240610563,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622211630
    },
    {
        "content": "<p>in terms of the message it sends about our engineering process</p>",
        "id": 240610565,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211630
    },
    {
        "content": "<p>Felix's option seems a bit too risky to me, especially given the time frame</p>",
        "id": 240610626,
        "sender_full_name": "mw",
        "timestamp": 1622211662
    },
    {
        "content": "<p>I might have favored that initially but I think at this point I would not do it :)</p>",
        "id": 240610635,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622211665
    },
    {
        "content": "<p>(disabling the fingerprint check)</p>",
        "id": 240610648,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622211673
    },
    {
        "content": "<p>and I think I'm happy we didn't do it</p>",
        "id": 240610678,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622211688
    },
    {
        "content": "<p>I'm not sure I want to do that [disable the check] at this time but I think, given that some users have _downgraded_ to effectively do the same thing, we should perhaps reflect on our engineering standards vs our users.</p>",
        "id": 240610684,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1622211691
    },
    {
        "content": "<p>I guess I am not unhappy that some users have downgraded</p>",
        "id": 240610717,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622211709
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119031\">@Esteban Küber</span> I think you're the only one who read the doc but who has not put a <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span> on any Options?</p>",
        "id": 240610745,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211719
    },
    {
        "content": "<p>I feel like that's a valid response</p>",
        "id": 240610797,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622211729
    },
    {
        "content": "<p>If we were going to disable it, we should have done that on the dot release.</p>",
        "id": 240610807,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622211733
    },
    {
        "content": "<p>and it doens't necessarily mean we should do anything differently</p>",
        "id": 240610823,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622211742
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> that seems correct. I'm still arguing with myself</p>",
        "id": 240610837,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622211747
    },
    {
        "content": "<p>Well, we can either</p>",
        "id": 240610887,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211770
    },
    {
        "content": "<p>(i.e., I think it's right for the most recent release to be the most correct, and I think it's ok if some people choose to wait it out with an older one while we sort things out)</p>",
        "id": 240610891,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622211771
    },
    {
        "content": "<p>I <em>think</em> that outright disabling this can cause us to be in the same (if smaller) situation in 1.55</p>",
        "id": 240610903,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622211777
    },
    {
        "content": "<p>have esteban type out their internal dialogue</p>",
        "id": 240610906,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211779
    },
    {
        "content": "<p>or we could have people say why they changed their vote</p>",
        "id": 240610933,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211791
    },
    {
        "content": "<p>(Am I the only one who changed their vote?)</p>",
        "id": 240610944,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211798
    },
    {
        "content": "<p>but I agree that we send \"the message\" that we take this seriously by outright diabling it</p>",
        "id": 240610958,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622211807
    },
    {
        "content": "<p>What was your vote before and what is it now, <span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> ?</p>",
        "id": 240610971,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622211811
    },
    {
        "content": "<p>Yesterday it was \"let incr-comp stay on in 1.53-stable\"</p>",
        "id": 240610987,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211822
    },
    {
        "content": "<p>if we <em>make people disable</em> incr-compilation in their envs, they might forget to ever reenable it</p>",
        "id": 240610999,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622211828
    },
    {
        "content": "<p>today it is \"disable incr-comp on 1.53-stable\"</p>",
        "id": 240611008,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211834
    },
    {
        "content": "<p>I guess I still feel that we sent a strong message of \"correctness first\" and I don't see why we would go back on that, given that we still have bug reports coming in on beta</p>",
        "id": 240611017,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622211837
    },
    {
        "content": "<p>Yes, that is my main concern too</p>",
        "id": 240611126,
        "sender_full_name": "mw",
        "timestamp": 1622211880
    },
    {
        "content": "<p>I think the likely best course of action is the consensus position here: disable in 1.53 like in 1.52.1</p>",
        "id": 240611127,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622211881
    },
    {
        "content": "<p>hold on</p>",
        "id": 240611140,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211888
    },
    {
        "content": "<p>lets get our numbers straight</p>",
        "id": 240611149,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211892
    },
    {
        "content": "<p>1.52.1 is the current stable</p>",
        "id": 240611165,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211901
    },
    {
        "content": "<p>1.53-beta is the current beta</p>",
        "id": 240611185,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211910
    },
    {
        "content": "<p>sorry, brain fart</p>",
        "id": 240611187,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622211911
    },
    {
        "content": "<p>shift everything I said one</p>",
        "id": 240611207,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622211921
    },
    {
        "content": "<p>the reason I've been writing 1.53-stable</p>",
        "id": 240611220,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211930
    },
    {
        "content": "<p>is that I want to be clear</p>",
        "id": 240611224,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211932
    },
    {
        "content": "<p>that right now, I am only voting for porting the RUST_FORCE_INCREMENTAL env var to 1.53-stable on its own</p>",
        "id": 240611248,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211948
    },
    {
        "content": "<p>i.e. as part of the beta-&gt;stable transition</p>",
        "id": 240611261,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211956
    },
    {
        "content": "<p>I have not yet been convinced to put RUST_FORCE_INCREMENTAL into the current 1.53-beta channel</p>",
        "id": 240611316,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622211972
    },
    {
        "content": "<p>yes</p>",
        "id": 240611342,
        "sender_full_name": "mw",
        "timestamp": 1622211983
    },
    {
        "content": "<p>we should enabled it as much as possible to get testing and bug reports</p>",
        "id": 240611401,
        "sender_full_name": "mw",
        "timestamp": 1622212008
    },
    {
        "content": "<p>I think we get more value out of <code>beta</code> and <code>nighty</code> by not having the RUST_FORCE_INCREMENTAL patch there but I agree it should be applied during the beta-&gt;stable transition</p>",
        "id": 240611431,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1622212021
    },
    {
        "content": "<p>if you use beta or nightly you have already opted into helping with testing</p>",
        "id": 240611462,
        "sender_full_name": "mw",
        "timestamp": 1622212034
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202021-05-28.20fingerprints.20and.201.2E53.20.2384970/near/240611316\">said</a>:</p>\n<blockquote>\n<p>I have not yet been convinced to put RUST_FORCE_INCREMENTAL into the current 1.53-beta channel</p>\n</blockquote>\n<p>What's your thinking on this? Why not?</p>",
        "id": 240611465,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622212035
    },
    {
        "content": "<p>okay. It seems now <span class=\"user-mention\" data-user-id=\"119031\">@Esteban Küber</span> has voted, and everyone present is in agreement</p>",
        "id": 240611467,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212035
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125250\">Wesley Wiser</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202021-05-28.20fingerprints.20and.201.2E53.20.2384970/near/240611431\">said</a>:</p>\n<blockquote>\n<p>I think we get more value out of <code>beta</code> and <code>nighty</code> by not having the RUST_FORCE_INCREMENTAL patch there but I agree it should be applied during the beta-&gt;stable transition</p>\n</blockquote>\n<p>this is why</p>",
        "id": 240611499,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212051
    },
    {
        "content": "<p>that, and my belief that some users may well shift to beta</p>",
        "id": 240611521,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212061
    },
    {
        "content": "<p>rather than try to use RUSTC_FORCE_INCREMENTAL</p>",
        "id": 240611540,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212068
    },
    {
        "content": "<p>Ah! I see, I concur.</p>",
        "id": 240611560,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622212078
    },
    {
        "content": "<p>The patch is also small so it seems quite unlikely there is a bug in it that we could catch with testing in beta. (So there is little risk in applying it during the transition to stable.)</p>",
        "id": 240611617,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1622212089
    },
    {
        "content": "<p>I definitely think my twitter poll results</p>",
        "id": 240611620,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212090
    },
    {
        "content": "<p>support <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> 's claim</p>",
        "id": 240611634,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212095
    },
    {
        "content": "<p>which claim speciically?</p>",
        "id": 240611653,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622212106
    },
    {
        "content": "<p>that it tends to be too hard for people to add the env var</p>",
        "id": 240611665,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212111
    },
    {
        "content": "<p>i.e. we cannot rely on that as the only path</p>",
        "id": 240611679,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212119
    },
    {
        "content": "<p>Ah. I doubt people will do that</p>",
        "id": 240611684,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622212121
    },
    {
        "content": "<p>(and we don't rely on it as the only path)</p>",
        "id": 240611688,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212123
    },
    {
        "content": "<p>if it were me, I would just use 1.51.0</p>",
        "id": 240611695,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622212126
    },
    {
        "content": "<p>much easier :)</p>",
        "id": 240611715,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622212137
    },
    {
        "content": "<p>I find it fascinating</p>",
        "id": 240611731,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212145
    },
    {
        "content": "<p>that you would downgrade to previous release rather than take on beta</p>",
        "id": 240611759,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212160
    },
    {
        "content": "<p>..or that, I suppose</p>",
        "id": 240611776,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622212170
    },
    {
        "content": "<p>you just don't think the codegen issues are likely to bite you?</p>",
        "id": 240611785,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212173
    },
    {
        "content": "<p>point is, I'd do something in rustup</p>",
        "id": 240611788,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622212175
    },
    {
        "content": "<p>Okay, yes</p>",
        "id": 240611796,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212179
    },
    {
        "content": "<p>But also, yes, these are bugs that have been there since time immemorial</p>",
        "id": 240611815,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622212190
    },
    {
        "content": "<p>I'm not amending my vote :)</p>",
        "id": 240611827,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622212197
    },
    {
        "content": "<p>\"If I've been using Rust for 30 releases and I haven't seen it break my binaries yet ... \"</p>",
        "id": 240611828,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1622212197
    },
    {
        "content": "<p>as I said, I think we started on this path and we should see it throgh</p>",
        "id": 240611897,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622212213
    },
    {
        "content": "<p>So it sounds like we don't need to discuss this further</p>",
        "id": 240611906,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212218
    },
    {
        "content": "<p><em>however</em>, I consider the actual risk of 1.51.0 fairly low for any given project</p>",
        "id": 240611942,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622212232
    },
    {
        "content": "<p>unless people want to argue for putting RUSTC_FORCE_INCREMENTAL onto 1.53-beta now?</p>",
        "id": 240611943,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212233
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202021-05-28.20fingerprints.20and.201.2E53.20.2384970/near/240611942\">said</a>:</p>\n<blockquote>\n<p><em>however</em>, I consider the actual risk of 1.51.0 fairly low for any given project</p>\n</blockquote>\n<p>that's true, especially since most users don't have incr turned on for release mode, and likewise for CI</p>",
        "id": 240612013,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212264
    },
    {
        "content": "<p>and so perhaps we can move onto the backport questions?</p>",
        "id": 240612048,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212282
    },
    {
        "content": "<p>well, they do have it turned on for CI but that's another story :P</p>",
        "id": 240612071,
        "sender_full_name": "mw",
        "timestamp": 1622212291
    },
    {
        "content": "<p>People <em>do</em> have incremental turned on for CI?</p>",
        "id": 240612108,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212309
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119031\">@Esteban Küber</span> I think has been arguing to me that people don't</p>",
        "id": 240612118,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212318
    },
    {
        "content": "<p>if you run <code>cargo test</code> you get incremental</p>",
        "id": 240612179,
        "sender_full_name": "mw",
        "timestamp": 1622212330
    },
    {
        "content": "<p>They probably shouldn't but a lot of people seem to do so</p>",
        "id": 240612189,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1622212336
    },
    {
        "content": "<p>they'll always start with an empty cache so it should not matter</p>",
        "id": 240612228,
        "sender_full_name": "mw",
        "timestamp": 1622212355
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"124287\">@mw</span> but they aren't working from a clean checkout in their CI?</p>",
        "id": 240612233,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212357
    },
    {
        "content": "<p>oh oh oh</p>",
        "id": 240612235,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212359
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"124287\">@mw</span> c'mon!</p>",
        "id": 240612248,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212364
    },
    {
        "content": "<p>it's just a waste of resources</p>",
        "id": 240612250,
        "sender_full_name": "mw",
        "timestamp": 1622212365
    },
    {
        "content": "<p>I've seen CI with incr-comp enabled, and it's caused issues in the past. This happens with worker env reuse.</p>",
        "id": 240612267,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622212373
    },
    {
        "content": "<p>Heh we're talking about something totally different then</p>",
        "id": 240612273,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212376
    },
    {
        "content": "<p>yes, sorry</p>",
        "id": 240612293,
        "sender_full_name": "mw",
        "timestamp": 1622212386
    },
    {
        "content": "<p>in terms of i.e. risk of hitting this issue</p>",
        "id": 240612295,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212386
    },
    {
        "content": "<p>but yes I agree with that assessment then</p>",
        "id": 240612332,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212403
    },
    {
        "content": "<p>next</p>",
        "id": 240612367,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212419
    },
    {
        "content": "<p>the PR's that have only hit 1.54 so far</p>",
        "id": 240612383,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212425
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202021-05-28.20fingerprints.20and.201.2E53.20.2384970/near/240607601\">said</a>:</p>\n<blockquote>\n<p>Thanks <span class=\"user-mention silent\" data-user-id=\"119031\">Esteban Küber</span> . Also, <a href=\"https://github.com/rust-lang/rust/issues/84970\">#84970</a> has a table with the relevant PR's that we should discuss re beta-backports; i think the ones we will be discussing are the ones that have \"1.54\" in the 5th column of the table, namely: PR's <a href=\"https://github.com/rust-lang/rust/issues/85211\">#85211</a> <a href=\"https://github.com/rust-lang/rust/issues/83901\">#83901</a> and <a href=\"https://github.com/rust-lang/rust/issues/85186\">#85186</a></p>\n</blockquote>\n<p>this</p>",
        "id": 240612466,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212448
    },
    {
        "content": "<p>it seems simplest to just go in the order given above</p>",
        "id": 240612504,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212468
    },
    {
        "content": "<p>treat them all as implicitly beta-nominated</p>",
        "id": 240612523,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212477
    },
    {
        "content": "<p>lets look at <a href=\"https://github.com/rust-lang/rust/issues/85211\">#85211</a> first</p>",
        "id": 240612539,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212483
    },
    {
        "content": "<p>I think it's fine to backport this. The change is small and has a regression test and we haven't seen it causing issues so far, I think</p>",
        "id": 240612683,
        "sender_full_name": "mw",
        "timestamp": 1622212549
    },
    {
        "content": "<p>yeah, it looks bigger than it really is</p>",
        "id": 240612700,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212560
    },
    {
        "content": "<p>since it 1. has an alpha-renaming and 2. moves some code around</p>",
        "id": 240612755,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212567
    },
    {
        "content": "<p>I'm going to ask a dumb Q</p>",
        "id": 240612860,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212628
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"124287\">@mw</span> it seems like this change is revising the ordering of <em>when</em> the <code>span.ctxt</code>/<code>SyntaxContext::root()</code> <em>gets</em> encoded</p>",
        "id": 240612922,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212662
    },
    {
        "content": "<p><del>why isn't there a corresponding place where that change in order has to be aaccounted for in decoding?</del></p>",
        "id": 240613003,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212686
    },
    {
        "content": "<p>is our rmeta structured in a self-describing way where you don't need to know the order at that level, or something?</p>",
        "id": 240613055,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212713
    },
    {
        "content": "<p>oh wait, no</p>",
        "id": 240613069,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212719
    },
    {
        "content": "<p>what am I talking about, its the first thing in the diff</p>",
        "id": 240613090,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212727
    },
    {
        "content": "<p>The patch is small but it's one of those that look like they could have subtle impact</p>",
        "id": 240613104,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622212740
    },
    {
        "content": "<p>but I don't know this code well enough to judge that</p>",
        "id": 240613128,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622212754
    },
    {
        "content": "<p>I'm willing to backport it, I think</p>",
        "id": 240613154,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212769
    },
    {
        "content": "<p>yes, the whole thing is rather subtle</p>",
        "id": 240613156,
        "sender_full_name": "mw",
        "timestamp": 1622212770
    },
    {
        "content": "<p>the existence of a regression test gives me some amount of confidence</p>",
        "id": 240613174,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212779
    },
    {
        "content": "<p>that these code paths are getting exercised</p>",
        "id": 240613181,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212785
    },
    {
        "content": "<p>o/ - sorry couldn't be here earlier, reading back scroll now though</p>",
        "id": 240613274,
        "sender_full_name": "simulacrum",
        "timestamp": 1622212818
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"124287\">@mw</span> new dumb Q</p>",
        "id": 240613304,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212835
    },
    {
        "content": "<p><em>All</em> these PRs are subtle :)</p>",
        "id": 240613319,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622212842
    },
    {
        "content": "<p>let's hear it :)</p>",
        "id": 240613323,
        "sender_full_name": "mw",
        "timestamp": 1622212844
    },
    {
        "content": "<p>was the comment revised to explain <em>why</em> the context needs to come first now?</p>",
        "id": 240613336,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212851
    },
    {
        "content": "<p>OMG</p>",
        "id": 240613371,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212871
    },
    {
        "content": "<p>again</p>",
        "id": 240613376,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212873
    },
    {
        "content": "<p>first part of diff</p>",
        "id": 240613379,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212875
    },
    {
        "content": "<p>/me facepalms self</p>",
        "id": 240613392,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212884
    },
    {
        "content": "<p>yes, the comment is consistent with the state of the code, I think</p>",
        "id": 240613416,
        "sender_full_name": "mw",
        "timestamp": 1622212896
    },
    {
        "content": "<p>The tests are a +1 from me but since this doesn't fix an issue most users are actually going to run into (since incr is disabled by default) and it's suble, that's a -1 for me.</p>",
        "id": 240613439,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1622212906
    },
    {
        "content": "<p>(the PR description I mean)</p>",
        "id": 240613451,
        "sender_full_name": "mw",
        "timestamp": 1622212908
    },
    {
        "content": "<p>the real point is why the DUMMY_SP needs a context in the the first place</p>",
        "id": 240613512,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212922
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125250\">Wesley Wiser</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202021-05-28.20fingerprints.20and.201.2E53.20.2384970/near/240613439\">said</a>:</p>\n<blockquote>\n<p>The tests are a +1 from me but since this doesn't fix an issue most users are actually going to run into (since incr is disabled by default) and it's suble, that's a -1 for me.</p>\n</blockquote>\n<p>users who use RUSTC_FORCE_INCREMENTAL could hit it</p>",
        "id": 240613546,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212938
    },
    {
        "content": "<p>If others think we should backport, that's fine with me but I wouldn't personally backport.</p>",
        "id": 240613548,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1622212939
    },
    {
        "content": "<p>I feel like if we decide to just keep incremental disabled</p>",
        "id": 240613581,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622212955
    },
    {
        "content": "<p>I'm somewhat inclined not to backport anything :)</p>",
        "id": 240613595,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622212961
    },
    {
        "content": "<p>well</p>",
        "id": 240613616,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212974
    },
    {
        "content": "<p>Right, if we have already decided to disable incr. comp. then I'm against backporting</p>",
        "id": 240613619,
        "sender_full_name": "mw",
        "timestamp": 1622212974
    },
    {
        "content": "<p>an argument for backporting, especially today</p>",
        "id": 240613629,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212980
    },
    {
        "content": "<p>is for the users who are hitting bugs</p>",
        "id": 240613634,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212984
    },
    {
        "content": "<p>on the beta today</p>",
        "id": 240613638,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212987
    },
    {
        "content": "<p>i.e. they switched to the beta</p>",
        "id": 240613650,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622212994
    },
    {
        "content": "<p>and if a backport to beta fixes things for them</p>",
        "id": 240613667,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213002
    },
    {
        "content": "<p>then we should prioritize it</p>",
        "id": 240613681,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213009
    },
    {
        "content": "<p>Another argument in favor: those of us using x.py are relying on beta :)</p>",
        "id": 240613686,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622213011
    },
    {
        "content": "<p>Right. So the real question then is</p>",
        "id": 240613713,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213020
    },
    {
        "content": "<p>which of these PR's</p>",
        "id": 240613720,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213023
    },
    {
        "content": "<p>fixes 1. Carol's bug and 2. x.py bug</p>",
        "id": 240613737,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213029
    },
    {
        "content": "<p>I don't know how much info <span class=\"user-mention\" data-user-id=\"224872\">@rylev</span> has about the problems they were hitting (e.g., the error message)</p>",
        "id": 240613830,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622213057
    },
    {
        "content": "<p>I think the one we are talking about right now came from errors during bootstrapping, right?</p>",
        "id": 240613832,
        "sender_full_name": "mw",
        "timestamp": 1622213059
    },
    {
        "content": "<blockquote>\n<p>x.py bug</p>\n</blockquote>\n<p>Is that the issue <code>rylev</code> reported in <code>t-compiler/help</code>?</p>",
        "id": 240613836,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1622213060
    },
    {
        "content": "<p>yeah I think so</p>",
        "id": 240613851,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213068
    },
    {
        "content": "<p>yes, though others chimed in too</p>",
        "id": 240613859,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622213069
    },
    {
        "content": "<p><a class=\"stream-topic\" data-stream-id=\"182449\" href=\"/#narrow/stream/182449-t-compiler.2Fhelp/topic/Incremental.20compilation.20issue\">#t-compiler/help &gt; Incremental compilation issue</a></p>",
        "id": 240613882,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622213079
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/85211\">#85211</a> fixes <a href=\"https://github.com/rust-lang/rust/issues/85197\">#85197</a></p>",
        "id": 240613895,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213087
    },
    {
        "content": "<p>which is bootstrapping rustc</p>",
        "id": 240613906,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213092
    },
    {
        "content": "<blockquote>\n<p>tm: I did briefly use incremental mode for rustc development today but that was proven to be rather unsuccessful. At glance most issues looked like those that are already fixed but fixes are not yet available in bootstrap version of the compiler.</p>\n<p>lqd: I've also hit a few incremental issues locally, requiring cleaning here and there. And just now, two of the variations of <a href=\"https://github.com/rust-lang/rust/issues/83311\">#83311</a> happened ^^ (on opt_def_kind fingerprints)</p>\n</blockquote>",
        "id": 240613923,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622213104
    },
    {
        "content": "<p>That to me seems like a very strong sign that we should backport</p>",
        "id": 240613927,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213105
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202021-05-28.20fingerprints.20and.201.2E53.20.2384970/near/240613830\">said</a>:</p>\n<blockquote>\n<p>I don't know how much info <span class=\"user-mention silent\" data-user-id=\"224872\">rylev</span> has about the problems they were hitting (e.g., the error message)</p>\n</blockquote>\n<p>I somehow missed your request for me to show the code that's hitting this error. I can push my code now</p>",
        "id": 240613971,
        "sender_full_name": "rylev",
        "timestamp": 1622213126
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202021-05-28.20fingerprints.20and.201.2E53.20.2384970/near/240613927\">said</a>:</p>\n<blockquote>\n<p>That to me seems like a very strong sign that we should backport</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"125250\">@Wesley Wiser</span> given that, do you still think you personally would not backport?</p>",
        "id": 240614019,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213155
    },
    {
        "content": "<p>Do we have many reports about the <code>optimized_mir</code> issue?</p>",
        "id": 240614121,
        "sender_full_name": "mw",
        "timestamp": 1622213193
    },
    {
        "content": "<p>I don't really feel strongly one way or the other about this patch so I don't want to stand in the way <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 240614125,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1622213194
    },
    {
        "content": "<p>I encountered optimized_mir which according to the summary table would be fixed by <a href=\"https://github.com/rust-lang/rust/issues/85211\">#85211</a> and evaluate_obligation that would be fixed by <a href=\"https://github.com/rust-lang/rust/issues/85186\">#85186</a>.</p>",
        "id": 240614234,
        "sender_full_name": "tm",
        "timestamp": 1622213248
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"352985\">@tm</span> recently?</p>",
        "id": 240614561,
        "sender_full_name": "mw",
        "timestamp": 1622213340
    },
    {
        "content": "<p>it seems like we have soft no's on <a href=\"https://github.com/rust-lang/rust/issues/85211\">#85211</a> from <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> and <span class=\"user-mention\" data-user-id=\"125250\">@Wesley Wiser</span></p>",
        "id": 240614725,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213380
    },
    {
        "content": "<p>and strong yes's on <a href=\"https://github.com/rust-lang/rust/issues/85211\">#85211</a> from <span class=\"user-mention\" data-user-id=\"119031\">@Esteban Küber</span> and <span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span></p>",
        "id": 240614749,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213392
    },
    {
        "content": "<p>soft yes from me</p>",
        "id": 240614754,
        "sender_full_name": "mw",
        "timestamp": 1622213395
    },
    {
        "content": "<p>(and possibly niko's soft no switched to soft yes based on x.py thing?)</p>",
        "id": 240614850,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213427
    },
    {
        "content": "<p>Consensus seems to be we should backport it then.</p>",
        "id": 240614874,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1622213436
    },
    {
        "content": "<p>okay. lets say backport approved</p>",
        "id": 240614890,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213444
    },
    {
        "content": "<p>and try to move along</p>",
        "id": 240614893,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213447
    },
    {
        "content": "<p>with so much copious time left</p>",
        "id": 240614910,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213453
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"124287\">@mw</span> yesterday while working on rustc with x.py</p>",
        "id": 240614945,
        "sender_full_name": "tm",
        "timestamp": 1622213466
    },
    {
        "content": "<p>next in table is PR <a href=\"https://github.com/rust-lang/rust/issues/83901\">#83901</a></p>",
        "id": 240614946,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213466
    },
    {
        "content": "<p>I think we should backport, and we should likely extend crater in the future to run <em>twice</em> to catch issues here? (pie in the sky thoughts)</p>",
        "id": 240614972,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622213478
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/83901\">#83901</a> fixes issue <a href=\"https://github.com/rust-lang/rust/issues/85019\">#85019</a></p>",
        "id": 240614998,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213496
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202021-05-28.20fingerprints.20and.201.2E53.20.2384970/near/240614850\">said</a>:</p>\n<blockquote>\n<p>(and possibly niko's soft no switched to soft yes based on x.py thing?)</p>\n</blockquote>\n<p>I am a soft yes I think</p>",
        "id": 240615030,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622213515
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"119031\">Esteban Küber</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202021-05-28.20fingerprints.20and.201.2E53.20.2384970/near/240614972\">said</a>:</p>\n<blockquote>\n<p>I think we should backport, and we should likely extend crater in the future to run <em>twice</em> to catch issues here? (pie in the sky thoughts)</p>\n</blockquote>\n<p>is this exposed by a no-change to source build?</p>",
        "id": 240615078,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213525
    },
    {
        "content": "<p>Detail: it introduces a small expected perf regression</p>",
        "id": 240615084,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622213527
    },
    {
        "content": "<p>I think the perf regression is unavoidable</p>",
        "id": 240615132,
        "sender_full_name": "mw",
        "timestamp": 1622213558
    },
    {
        "content": "<p>seems pretty sad that it hurts non-incremental, too, if it's only needed for incremental</p>",
        "id": 240615165,
        "sender_full_name": "simulacrum",
        "timestamp": 1622213572
    },
    {
        "content": "<p>(not sure that's true)</p>",
        "id": 240615185,
        "sender_full_name": "simulacrum",
        "timestamp": 1622213579
    },
    {
        "content": "<p>There was also a larger perf win from some related earlier work which offsets some of that. (iirc)</p>",
        "id": 240615215,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1622213593
    },
    {
        "content": "<p>the crate-hash is used by non-incremental code too, so you don't have to be sad <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span>  :)</p>",
        "id": 240615256,
        "sender_full_name": "mw",
        "timestamp": 1622213615
    },
    {
        "content": "<p>Is <code>untracked_crate</code> meant to collect things that shoud not affect incr?</p>",
        "id": 240615295,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213629
    },
    {
        "content": "<p>(I'm just curious if a future PR should move the attributes to a different place)</p>",
        "id": 240615423,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213682
    },
    {
        "content": "<p>anyway I think we should backport this too</p>",
        "id": 240615514,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213720
    },
    {
        "content": "<p>anyone want to object?</p>",
        "id": 240615543,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213735
    },
    {
        "content": "<p>last up is PR <a href=\"https://github.com/rust-lang/rust/issues/85186\">#85186</a></p>",
        "id": 240615636,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213766
    },
    {
        "content": "<p>this is the one that Aaron1011 was worried about</p>",
        "id": 240615724,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213821
    },
    {
        "content": "<p>the issue this fixed is coming up quite frequently, right?</p>",
        "id": 240615765,
        "sender_full_name": "mw",
        "timestamp": 1622213843
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/85360\">https://github.com/rust-lang/rust/issues/85360</a> might be evidence it's not a complete fix?</p>",
        "id": 240615820,
        "sender_full_name": "simulacrum",
        "timestamp": 1622213878
    },
    {
        "content": "<p>I'm also concerned with backporting this one. The code seems pretty subtle and the patch is fairly large.</p>",
        "id": 240615883,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1622213898
    },
    {
        "content": "<p>I don't understand any of that code at all <span aria-label=\"grimacing\" class=\"emoji emoji-1f62c\" role=\"img\" title=\"grimacing\">:grimacing:</span></p>",
        "id": 240615893,
        "sender_full_name": "mw",
        "timestamp": 1622213903
    },
    {
        "content": "<p>I'm kind of against backporting this too</p>",
        "id": 240615925,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213916
    },
    {
        "content": "<p>I know both <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> and <span class=\"user-mention\" data-user-id=\"232957\">@Jack Huey</span> said they are confident in it</p>",
        "id": 240615948,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213926
    },
    {
        "content": "<p>A quarter of it introduces code that is purely for test introspection, but the remaining is still subtle...</p>",
        "id": 240616025,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622213964
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"124287\">mw</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202021-05-28.20fingerprints.20and.201.2E53.20.2384970/near/240615765\">said</a>:</p>\n<blockquote>\n<p>the issue this fixed is coming up quite frequently, right?</p>\n</blockquote>\n<p>Do you have more details on why you think this? I honestly have no intuition</p>",
        "id": 240616028,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622213966
    },
    {
        "content": "<p>This is what <span class=\"user-mention\" data-user-id=\"224872\">@rylev</span> hit, it seems to me</p>",
        "id": 240616085,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622213986
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> it just seems to be the issue that I see come up the most</p>",
        "id": 240616194,
        "sender_full_name": "mw",
        "timestamp": 1622214017
    },
    {
        "content": "<p>I am pretty confident in that fix, but I thnk there could be other issues</p>",
        "id": 240616208,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622214022
    },
    {
        "content": "<p>mm</p>",
        "id": 240616221,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214026
    },
    {
        "content": "<p>I had, at least, a vague sense that users of 1.53 beta and 1.54 nightly don't really hit verification bugs routinely any more (e.g., on every build)</p>",
        "id": 240616232,
        "sender_full_name": "simulacrum",
        "timestamp": 1622214030
    },
    {
        "content": "<p>/me is confirming he's still seeing the issue after a rebase with the latest master</p>",
        "id": 240616238,
        "sender_full_name": "rylev",
        "timestamp": 1622214032
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"224872\">@rylev</span></p>",
        "id": 240616259,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214040
    },
    {
        "content": "<p>but I could be entirely wrong.</p>",
        "id": 240616281,
        "sender_full_name": "simulacrum",
        "timestamp": 1622214048
    },
    {
        "content": "<p>okay, well, given that there are still holes here</p>",
        "id": 240616287,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214051
    },
    {
        "content": "<p>I haven't had the time this week to dig into the one unfixed, trait-related issue, nor <a href=\"https://github.com/rust-lang/rust/issues/85360\">#85360</a></p>",
        "id": 240616340,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622214067
    },
    {
        "content": "<p>... there's an argument that says \"patching some of the holes still provides value\"</p>",
        "id": 240616356,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214074
    },
    {
        "content": "<p>but overall I think most of us are not comfortable with the risk on this one</p>",
        "id": 240616392,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214087
    },
    {
        "content": "<p>We're over time. We can either let this wait until thursday</p>",
        "id": 240616427,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214101
    },
    {
        "content": "<p>or make a decision</p>",
        "id": 240616431,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214103
    },
    {
        "content": "<p>I'm okay revisiting on Thursday. Yeah?</p>",
        "id": 240616448,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214114
    },
    {
        "content": "<p>I thnk we shuld just say no</p>",
        "id": 240616455,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622214116
    },
    {
        "content": "<p>Yeah, a lot of the PR is testing infra. So a smaller diff could be backported</p>",
        "id": 240616458,
        "sender_full_name": "Jack Huey",
        "timestamp": 1622214119
    },
    {
        "content": "<p>heh he</p>",
        "id": 240616459,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214120
    },
    {
        "content": "<p>If niko says \"just say no\", I listen</p>",
        "id": 240616523,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214133
    },
    {
        "content": "<p>we decided not to enable incremental precisely so we don't have to rush and backport things :)</p>",
        "id": 240616541,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622214141
    },
    {
        "content": "<p>niko:felix :: nancy:ronald</p>",
        "id": 240616554,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214147
    },
    {
        "content": "<p>what a weird picture</p>",
        "id": 240616598,
        "sender_full_name": "mw",
        "timestamp": 1622214169
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202021-05-28.20fingerprints.20and.201.2E53.20.2384970/near/240616541\">said</a>:</p>\n<blockquote>\n<p>we decided not to enable incremental precisely so we don't have to rush and backport things :)</p>\n</blockquote>\n<p>yes but x.py is still an important customer</p>",
        "id": 240616637,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214183
    },
    {
        "content": "<p>(is it possible to make x.py use nightly instead of beta?)</p>",
        "id": 240616647,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622214184
    },
    {
        "content": "<p>hmm that would be an interesting option to provide</p>",
        "id": 240616673,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214195
    },
    {
        "content": "<p>maybe we should look into that</p>",
        "id": 240616682,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214200
    },
    {
        "content": "<p>okay we're over time, as I said before</p>",
        "id": 240616695,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214205
    },
    {
        "content": "<p>maybe not set cfg(bootstap)</p>",
        "id": 240616707,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622214207
    },
    {
        "content": "<p>thank you <strong>so</strong> much everyone  for coming today</p>",
        "id": 240616718,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214213
    },
    {
        "content": "<p>or we could provide an option to disable fingerprint verification in x.py?</p>",
        "id": 240616736,
        "sender_full_name": "mw",
        "timestamp": 1622214225
    },
    {
        "content": "<p>that is easier and makes sense :)</p>",
        "id": 240616808,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622214245
    },
    {
        "content": "<p>because at that point YOLO?</p>",
        "id": 240616816,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214247
    },
    {
        "content": "<p>I guess I get it</p>",
        "id": 240616841,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214257
    },
    {
        "content": "<p>/me just doesn't use incremental</p>",
        "id": 240616847,
        "sender_full_name": "simulacrum",
        "timestamp": 1622214260
    },
    {
        "content": "<p>I think it's fine for e.g. <span class=\"user-mention\" data-user-id=\"224872\">@rylev</span> hacking on a branch to not have fingerprint verification</p>",
        "id": 240616851,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1622214262
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> just says no too :)</p>",
        "id": 240616875,
        "sender_full_name": "mw",
        "timestamp": 1622214273
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202021-05-28.20fingerprints.20and.201.2E53.20.2384970/near/240616847\">said</a>:</p>\n<blockquote>\n<p>/me just doesn't use incremental</p>\n</blockquote>\n<p>you and I have big rigs next to us</p>",
        "id": 240616899,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214282
    },
    {
        "content": "<p>(then again, rylev works for Mr Bigrig)</p>",
        "id": 240616948,
        "sender_full_name": "pnkfelix",
        "timestamp": 1622214302
    },
    {
        "content": "<p>yeah, this is true</p>",
        "id": 240616952,
        "sender_full_name": "simulacrum",
        "timestamp": 1622214303
    },
    {
        "content": "<p>/me has 32 GB RAM, and an i7-9700 - not <em>that</em> small. Incremental still makes a big difference</p>",
        "id": 240617240,
        "sender_full_name": "rylev",
        "timestamp": 1622214424
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> I can't reproduce the incremental issue after rebasing. I was originally branched of master from ~3 days ago.</p>",
        "id": 240617794,
        "sender_full_name": "rylev",
        "timestamp": 1622214647
    },
    {
        "content": "<p><span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span>‍♀️</p>",
        "id": 240617812,
        "sender_full_name": "rylev",
        "timestamp": 1622214658
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"224872\">@rylev</span> that changes the equation slightly <span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span></p>",
        "id": 240618263,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1622214852
    },
    {
        "content": "<p>I haven't really been following this super closely, but is the following an option: enable incremental by default in 1.53, but if the compiler detects a fingerprint failure, it automatically restarts a full compilation with incr comp disabled and emits a message asking the user to file an issue.</p>\n<p>Benefits:</p>\n<ul>\n<li>nobody needs to manually disable or enable anything</li>\n<li>those who would not have seen a fingerprint failure anyway don't suffer slowdowns</li>\n<li>those who would see a fingerprint failure don't get an ICE and don't have to take any special action to clear the cache or upgrade to beta/nightly or disable incremental</li>\n<li>the message asking the user to file an issue would hopefully allow us to continue finding bugs and fixing them</li>\n</ul>\n<p>Disadvantages:</p>\n<ul>\n<li>some compile times will be 2x slower (whenever there would have been ICE)</li>\n</ul>",
        "id": 240666585,
        "sender_full_name": "mark-i-m",
        "timestamp": 1622240155
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"198054\">@mark-i-m</span> that was brought up a while ago and people said it was too complicated to be worth it (I think <span class=\"user-mention\" data-user-id=\"124287\">@mw</span> ?). The compiler already suggests cleaning the incremental cache and filing a bug report.</p>",
        "id": 240704316,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1622297604
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"198054\">@mark-i-m</span> Yes, that is the option that <span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> suggested. I don't necessarily think that it would be too complicated to be worth it but I do think that it's a bit too risky to implement in such a short time frame.</p>",
        "id": 240809155,
        "sender_full_name": "mw",
        "timestamp": 1622451903
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span> <span class=\"user-mention\" data-user-id=\"124287\">@mw</span> I see. That seems a bit surprising (I thought it would be a fairly simple check implemented in cargo -- if fingerprint error, clear cache and restart), but I suppose there are other complexities involved too. In any case, I appreciate the thoughtful discussion the team has done on this issue!</p>",
        "id": 240881435,
        "sender_full_name": "mark-i-m",
        "timestamp": 1622506556
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"198054\">@mark-i-m</span> it would be quite easy to do through cargo I think, previously people assumed it would happen in rustc itself</p>",
        "id": 240882905,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1622508034
    }
]