[
    {
        "content": "<p>Hi <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span> , its time for our weekly steering meeting. Add a <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span> to show you're here!</p>",
        "id": 276622720,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648216875
    },
    {
        "content": "<p>We're doing something a little different today; I made the choice at the planning meeting to schedule two related topics in the same slot</p>",
        "id": 276622812,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648216913
    },
    {
        "content": "<p>but its possible that was a mistake; each of these docs seem like they could fill up a whole hour! <span aria-label=\"lol\" class=\"emoji emoji-1f606\" role=\"img\" title=\"lol\">:lol:</span></p>",
        "id": 276622883,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648216934
    },
    {
        "content": "<p>so, here's my plan: We'll spend ~20 minutes reading both docs (I'll post the links in a second)</p>",
        "id": 276622918,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648216952
    },
    {
        "content": "<p>(fyi the link in the zulip title for <a href=\"https://github.com/rust-lang/compiler-team/issues/498\">compiler-team#498</a> is broken, links to <a href=\"https://github.com/rust-lang/rust/issues/498\">rust#498</a> instead)</p>",
        "id": 276622968,
        "sender_full_name": "Michael Goulet (compiler-errors)",
        "timestamp": 1648216978
    },
    {
        "content": "<p>(if people finish early, we'll figure that out; we'll do the usual marking of <span aria-label=\"book\" class=\"emoji emoji-1f4d6\" role=\"img\" title=\"book\">:book:</span> when peopl start reading and <span aria-label=\"checkered flag\" class=\"emoji emoji-1f3c1\" role=\"img\" title=\"checkered flag\">:checkered_flag:</span> when they finish.)</p>",
        "id": 276622984,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648216985
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"426609\">Michael Goulet (compiler-errors)</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276622968\">said</a>:</p>\n<blockquote>\n<p>(fyi the link in the zulip title for <a href=\"https://github.com/rust-lang/compiler-team/issues/498\">compiler-team#498</a> is broken, links to <a href=\"https://github.com/rust-lang/rust/issues/498\">rust#498</a> instead)</p>\n</blockquote>\n<p>yeah I couldn't fit both of them in the space provided and keep the standard format for the topic title</p>",
        "id": 276623047,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648217019
    },
    {
        "content": "<p>will we discuss each in turn, or together?</p>",
        "id": 276623062,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648217029
    },
    {
        "content": "<p>anyway, here's the crucial thing: When we're done reading, we'll do a quick poll to see which doc people want to dive into most. that wll dictate whether we divide time evenly between the two, or bias the time dedicated to each.</p>",
        "id": 276623164,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648217067
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276623062\">said</a>:</p>\n<blockquote>\n<p>will we discuss each in turn, or together?</p>\n</blockquote>\n<p>my plan is to discuss each in turn</p>",
        "id": 276623181,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648217078
    },
    {
        "content": "<p>so, having said that, here are the links. Remember, we're aiming for 20 minutes to read both. So if you have an idea of one you're more interested in, maybe start with that one first.</p>",
        "id": 276623235,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648217108
    },
    {
        "content": "<ul>\n<li><a href=\"https://hackmd.io/qLk-wnwtStOhCOBeF5YuOw?view\">Formal methods</a></li>\n<li><a href=\"https://hackmd.io/naxjPGp3SL-5EIOjIknCfQ?view\">Stable MIR librarification</a></li>\n</ul>\n<p>As usual: Mark <span aria-label=\"book\" class=\"emoji emoji-1f4d6\" role=\"img\" title=\"book\">:book:</span> when you start reading, and leave it marked. Mark <span aria-label=\"checkered flag\" class=\"emoji emoji-1f3c1\" role=\"img\" title=\"checkered flag\">:checkered_flag:</span> when you're done.</p>",
        "id": 276623313,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648217153
    },
    {
        "content": "<p>(you can leave questions about the content inline on the doc, or add it to the end... oh that reminds me,I should add a section to each for those questions</p>",
        "id": 276623437,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648217204
    },
    {
        "content": "<p>TIL, <code>:::info</code>, neat</p>",
        "id": 276623446,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648217210
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> I left comments inline on the MIR doc -- do you want me to also append them to the text? I'm a bit confused :)</p>",
        "id": 276624842,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648217785
    },
    {
        "content": "<p>I'm taking the approach similar to lang team meetings.</p>",
        "id": 276624880,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648217801
    },
    {
        "content": "<p>I feel like the stuff I put inline was not just clarifications :)</p>",
        "id": 276624915,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648217814
    },
    {
        "content": "<p>so if you have comments inline, we'll address them first</p>",
        "id": 276624916,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648217815
    },
    {
        "content": "<p>so I could move them to paragraphs at the end</p>",
        "id": 276624937,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648217823
    },
    {
        "content": "<p>but if they represent big picture topics, then you probably should move them</p>",
        "id": 276624964,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648217830
    },
    {
        "content": "<p>\"Post Meeting Questions/Discussion Topics below Here\"</p>",
        "id": 276624987,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648217838
    },
    {
        "content": "<p>what confused me was the word \"post\" here</p>",
        "id": 276624993,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648217842
    },
    {
        "content": "<p>that was a mistake, yes</p>",
        "id": 276625004,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648217848
    },
    {
        "content": "<p>I'll just rdelete that word</p>",
        "id": 276625018,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648217854
    },
    {
        "content": "<p>okay, we're starting to come close to the finish line, both with respect to time and with respect to the number of people who have clicked <span aria-label=\"checkered flag\" class=\"emoji emoji-1f3c1\" role=\"img\" title=\"checkered flag\">:checkered_flag:</span> above</p>",
        "id": 276625803,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218225
    },
    {
        "content": "<p>So now time for that quick poll I mentioned early. I'm going to write down three separate messages; add a <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span> to the single message that best corresponds to how <em>you</em> think time should be spent in the remainder of this meeting. (This is to decide how to timebox; we will discuss both documents no matter what.)</p>",
        "id": 276625949,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218291
    },
    {
        "content": "<p>Option 1. We should spend the bulk of our time discussing \"Formal Methods\"</p>",
        "id": 276625991,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218306
    },
    {
        "content": "<p>Option 2. We should spend the bulk of our time discussing \"Stable MIR librarification\"</p>",
        "id": 276626019,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218321
    },
    {
        "content": "<p>Option 3. We should divide our time equally between the two docs</p>",
        "id": 276626061,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218340
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276625991\">said</a>:</p>\n<blockquote>\n<p>Option 1. We should spend the bulk of our time discussing \"Formal Methods\"</p>\n</blockquote>\n<p>(I'm still reading this, but it seems higher-level -- great summary! -- and like several parts of it might apply more to a lang discussion, etc; the MIR doc seems a bit more concrete and obvious)</p>",
        "id": 276626191,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648218392
    },
    {
        "content": "<p>Yes, I think there are many great follow-up items to discuss in \"Formal Methods\", but I do not know how much of it is good for T-compiler today, vs T-lang in the short term at least</p>",
        "id": 276626245,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218422
    },
    {
        "content": "<p>vs the MIR doc has specific goals <em>for this meeting</em></p>",
        "id": 276626275,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218437
    },
    {
        "content": "<p>it feels like we should carve up the formal methods doc into a series of meetings :)</p>",
        "id": 276626294,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648218453
    },
    {
        "content": "<p>I think there's enough signal in the <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span> 's that have been posted so far that we can take action accordingly</p>",
        "id": 276626333,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218469
    },
    {
        "content": "<p>So here's my plan: we spend 10 minutes at most talking about the points raised in the \"Formal Methods\" doc. At the end of 10 minutes, or when we've exhausted our talking points (whichever comes first), we switch over</p>",
        "id": 276626437,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218504
    },
    {
        "content": "<p>so, lets get started</p>",
        "id": 276626463,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218517
    },
    {
        "content": "<p>first, I like to go over the in-line questions to see if anything needs clearing up</p>",
        "id": 276626500,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218538
    },
    {
        "content": "<p><span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span> I intentionally made the FM document a higher level and more open-ended proposal, I wasn't trying to impose my specific vision for how things should go, but rather present some of the issues we encounter</p>",
        "id": 276626501,
        "sender_full_name": "Xavier Denis",
        "timestamp": 1648218539
    },
    {
        "content": "<p>(In case it wasn't clear, I think the doc is super useful)</p>",
        "id": 276626563,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648218573
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"312719\">@Xavier Denis</span> right, its a great starting point to have open-ended discussions.</p>",
        "id": 276626566,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218575
    },
    {
        "content": "<p>And I agree there are parts which are more t-lang, but also I think a lot of it actually is related more to APIs and how rustc chooses to implement things :)</p>",
        "id": 276626579,
        "sender_full_name": "Xavier Denis",
        "timestamp": 1648218580
    },
    {
        "content": "<p>so the first two inline comments are skippable</p>",
        "id": 276626678,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218606
    },
    {
        "content": "<p>the third inline comment was from me: I wanted to know more about why cargo is hard to work with</p>",
        "id": 276626720,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218625
    },
    {
        "content": "<p>since my impression was that its way easier to hack on than rustc is</p>",
        "id": 276626744,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218635
    },
    {
        "content": "<p>Is the issue that it has less investment in documentation/mentorship/reviewers than rustc has?</p>",
        "id": 276626785,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218656
    },
    {
        "content": "<p>I think the problem is using cargo for your own rustc driver?</p>",
        "id": 276626798,
        "sender_full_name": "oli",
        "timestamp": 1648218659
    },
    {
        "content": "<p>Is it about hacking on cargo's code base or just getting the tool to do what you want?</p>",
        "id": 276626799,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1648218660
    },
    {
        "content": "<p>yea its using cargo for a custom rustc driver</p>",
        "id": 276626819,
        "sender_full_name": "Xavier Denis",
        "timestamp": 1648218668
    },
    {
        "content": "<p>ah! thank you, okay</p>",
        "id": 276626834,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218675
    },
    {
        "content": "<p>I was assuming this was related also to things like \"we want theMIR from all dependencies\"</p>",
        "id": 276626840,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648218678
    },
    {
        "content": "<p>yea, additionally</p>",
        "id": 276626854,
        "sender_full_name": "Xavier Denis",
        "timestamp": 1648218684
    },
    {
        "content": "<p>which (iiuc) is non-trivial to accomplish</p>",
        "id": 276626858,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648218688
    },
    {
        "content": "<p>Miri does that, but yea, it's not fun</p>",
        "id": 276626924,
        "sender_full_name": "oli",
        "timestamp": 1648218716
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276626840\">said</a>:</p>\n<blockquote>\n<p>I was assuming this was related also to things like \"we want theMIR from all dependencies\"</p>\n</blockquote>\n<p>okay. I assume the stable-MIR work would actually help a lot with this specific thing</p>",
        "id": 276626933,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218718
    },
    {
        "content": "<p>yea, MIRI and i believe Prusti rely on getting all MIR for everything, so did MIRAI at one point</p>",
        "id": 276626978,
        "sender_full_name": "Xavier Denis",
        "timestamp": 1648218724
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"124288\">oli</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276626924\">said</a>:</p>\n<blockquote>\n<p>Miri does that, but yea, it's not fun</p>\n</blockquote>\n<p>(I actually commented about this in the other doc, in that I was proposing we ought to factor that logic out; I'm not sure how tenable that is; we can discuss it then, though)</p>",
        "id": 276627026,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648218744
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276626933\">said</a>:</p>\n<blockquote>\n<p>okay. I assume the stable-MIR work would actually help a lot with this specific thing</p>\n</blockquote>\n<p>(if stable-MIR is designed appropirately, that is)</p>",
        "id": 276627030,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218746
    },
    {
        "content": "<p>okay, next inlineQ</p>",
        "id": 276627116,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218784
    },
    {
        "content": "<p>is there anything interesting to note about <em>why</em> adding \"external specifications\" for <code>Index</code>/<code>Add</code>/<code>Eq</code> is highly brittle and has sub-par UX?</p>",
        "id": 276627181,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218809
    },
    {
        "content": "<p>I guess you don't get span info about specific subparts of the source definitions.</p>",
        "id": 276627211,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218825
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"124288\">oli</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276626924\">said</a>:</p>\n<blockquote>\n<p>Miri does that, but yea, it's not fun</p>\n</blockquote>\n<p>it's a huge pile of hacks, indeed.<br>\nbut maybe that's just something we can turn into a reusable library? at least parts of it are fairly generic, though it also makes some assumptions about the driver<br>\nEDIT: what Niko said :D</p>",
        "id": 276627225,
        "sender_full_name": "RalfJ",
        "timestamp": 1648218830
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276627181\">said</a>:</p>\n<blockquote>\n<p>is there anything interesting to note about <em>why</em> adding \"external specifications\" for <code>Index</code>/<code>Add</code>/<code>Eq</code> is highly brittle and has sub-par UX?</p>\n</blockquote>\n<p>hmm, it's a bit tricky to get into it</p>",
        "id": 276627294,
        "sender_full_name": "Xavier Denis",
        "timestamp": 1648218847
    },
    {
        "content": "<p>okay, maybe we can follow-up async about that</p>",
        "id": 276627321,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218859
    },
    {
        "content": "<p>in a separate thread in the formal-methods stream</p>",
        "id": 276627345,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218869
    },
    {
        "content": "<p>Is that the same issue that clippy solves with diagnostic items?</p>",
        "id": 276627352,
        "sender_full_name": "oli",
        "timestamp": 1648218873
    },
    {
        "content": "<p>doesn't TypeScript have 'external type definitions' for JS libraries? I wondered if that might be a good template for 'external specifications'</p>",
        "id": 276627364,
        "sender_full_name": "RalfJ",
        "timestamp": 1648218879
    },
    {
        "content": "<p>Paths of traits and such being unstable? Because they can move around while the reexports make it fine for users</p>",
        "id": 276627384,
        "sender_full_name": "oli",
        "timestamp": 1648218887
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"124288\">oli</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276627384\">said</a>:</p>\n<blockquote>\n<p>Paths being unstable?</p>\n</blockquote>\n<p>oh I hadn't thought of that, of course that is a problem, yes</p>",
        "id": 276627431,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218906
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"124288\">oli</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276627384\">said</a>:</p>\n<blockquote>\n<p>Paths being unstable?</p>\n</blockquote>\n<p>that's part of it, but the real issue is that we end up needing to 'add' bits to traits / methods from stdlib</p>",
        "id": 276627495,
        "sender_full_name": "Xavier Denis",
        "timestamp": 1648218935
    },
    {
        "content": "<p>In an ideal world we could provide a wholly custom definition of the Index trait, which has those extra bits (Specifications) baked in</p>",
        "id": 276627583,
        "sender_full_name": "Xavier Denis",
        "timestamp": 1648218964
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"312719\">Xavier Denis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276627495\">said</a>:</p>\n<blockquote>\n<p>that's part of it, but the real issue is that we end up needing to 'add' bits to traits / methods from stdlib</p>\n</blockquote>\n<p>I guess I'm suprised augmentation of \"just\" the traits+methods is hard</p>",
        "id": 276627600,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648218970
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"120791\">RalfJ</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276627364\">said</a>:</p>\n<blockquote>\n<p>doesn't TypeScript have 'external type definitions' for JS libraries? I wondered if that might be a good template for 'external specifications'</p>\n</blockquote>\n<p>Yes. <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html\">https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html</a></p>",
        "id": 276627614,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1648218978
    },
    {
        "content": "<p>yea, so that's basically what we want</p>",
        "id": 276627645,
        "sender_full_name": "Xavier Denis",
        "timestamp": 1648218997
    },
    {
        "content": "<p>I'm going to skip over <span class=\"user-mention\" data-user-id=\"120791\">@RalfJ</span> 's various inline corrections to teh doc, though I think those were extremely valuable</p>",
        "id": 276627662,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219005
    },
    {
        "content": "<p>(i.e. thank you very much for that <span class=\"user-mention\" data-user-id=\"120791\">@RalfJ</span> )</p>",
        "id": 276627676,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219017
    },
    {
        "content": "<p>Hmm... yea, we don't have a good story for overwriting the result of hir lowering or even later queries for just some specific items</p>",
        "id": 276627680,
        "sender_full_name": "oli",
        "timestamp": 1648219020
    },
    {
        "content": "<p>one thing that I didn't <em>quite</em> get from the doc</p>",
        "id": 276627734,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219050
    },
    {
        "content": "<p>but which seems like a good topic to raise</p>",
        "id": 276627738,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219054
    },
    {
        "content": "<p>is that it'd be useful to allow tools to add custom metadata</p>",
        "id": 276627757,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219063
    },
    {
        "content": "<p>into the crate metadata</p>",
        "id": 276627767,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219070
    },
    {
        "content": "<p>(to enable modular analyses etc)</p>",
        "id": 276627779,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219076
    },
    {
        "content": "<p>why that would be useful?</p>",
        "id": 276627787,
        "sender_full_name": "Xavier Denis",
        "timestamp": 1648219079
    },
    {
        "content": "<p><a href=\"https://hackmd.io/qLk-wnwtStOhCOBeF5YuOw?view#Support-for-custom-metadata-in-crates-\">https://hackmd.io/qLk-wnwtStOhCOBeF5YuOw?view#Support-for-custom-metadata-in-crates-</a></p>",
        "id": 276627841,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219088
    },
    {
        "content": "<p>is that not addressed in thedoc?</p>",
        "id": 276627862,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219097
    },
    {
        "content": "<p>well, lol, you tell me, but i'm assuming that for some bits of analysis, you might like to record some of the things you inferred about a fn for callers to use etc</p>",
        "id": 276627879,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219104
    },
    {
        "content": "<p>because that would be tremendously useful, and currently I build and maintain a custom metadata file for creusot</p>",
        "id": 276627898,
        "sender_full_name": "Xavier Denis",
        "timestamp": 1648219112
    },
    {
        "content": "<p>(I know some people mentioned that to me before)</p>",
        "id": 276627907,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219115
    },
    {
        "content": "<p>or are you thinking of something more general than what's laid out in there, <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> ?</p>",
        "id": 276627912,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219117
    },
    {
        "content": "<p><code>*.cmeta</code> (like <code>rmeta</code>)</p>",
        "id": 276627916,
        "sender_full_name": "Xavier Denis",
        "timestamp": 1648219120
    },
    {
        "content": "<p>oh, maybe I just missed it, sorry</p>",
        "id": 276627941,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219130
    },
    {
        "content": "<p>nm.</p>",
        "id": 276627965,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219139
    },
    {
        "content": "<p>or maybe you're talking about metadata constructed <em>by</em> rustc, not external tools?</p>",
        "id": 276627968,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219142
    },
    {
        "content": "<p>this also plays into the cargo issues since cargo doesn't clean / invalidate it</p>",
        "id": 276627982,
        "sender_full_name": "Xavier Denis",
        "timestamp": 1648219150
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"312719\">Xavier Denis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276627787\">said</a>:</p>\n<blockquote>\n<p>why that would be useful?</p>\n</blockquote>\n<p>(sorry, misread this as asking <em>me</em> why it would be useful...)</p>",
        "id": 276628003,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219157
    },
    {
        "content": "<p>Okay, so I've now gone through all the inline comments, and there were no questions added to the big section at the edn</p>",
        "id": 276628060,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219189
    },
    {
        "content": "<p>And we're also near the end of the 10 minute time box</p>",
        "id": 276628090,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219201
    },
    {
        "content": "<p>I think the right next step here is to open up a dedicated follow-up thread in <a class=\"stream\" data-stream-id=\"183875\" href=\"/#narrow/stream/183875-wg-formal-methods\">#wg-formal-methods</a></p>",
        "id": 276628149,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219215
    },
    {
        "content": "<p>I just created <a class=\"stream-topic\" data-stream-id=\"183875\" href=\"/#narrow/stream/183875-wg-formal-methods/topic/formal.20methods.20doc.20follow-up.20discussion\">#wg-formal-methods &gt; formal methods doc follow-up discussion</a></p>",
        "id": 276628220,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219254
    },
    {
        "content": "<p>so if people want to carry on discussion there, I think that's one way to go</p>",
        "id": 276628249,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219266
    },
    {
        "content": "<p>lets move over to the stable-MIR doc now</p>",
        "id": 276628275,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219277
    },
    {
        "content": "<p>inline comment first, lets see</p>",
        "id": 276628306,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219290
    },
    {
        "content": "<p>celina had noted that <code>--emit=mir</code> doesn't really suffice for real tools (that was from when we were drafting the doc, andI tried to reflect it in the text)</p>",
        "id": 276628413,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219327
    },
    {
        "content": "<p>but <span class=\"user-mention\" data-user-id=\"120791\">@RalfJ</span> added another detail here that I didn't quite grok</p>",
        "id": 276628426,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219336
    },
    {
        "content": "<p>well --emit=mir does not emit all the MIR</p>",
        "id": 276628443,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219348
    },
    {
        "content": "<p>let me look at the issue they linked</p>",
        "id": 276628444,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219349
    },
    {
        "content": "<p>oh I see</p>",
        "id": 276628462,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219361
    },
    {
        "content": "<p>it doesnt emit MIR for shims, in particular drop shims</p>",
        "id": 276628467,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219363
    },
    {
        "content": "<p>which are just regular MIR functions but hard to debug on the MIR level due to this</p>",
        "id": 276628485,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219374
    },
    {
        "content": "<p>Okay, so the problem is even worse than I had realized. :)</p>",
        "id": 276628489,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219377
    },
    {
        "content": "<p>All the more reason that approach does not suffice today</p>",
        "id": 276628512,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219389
    },
    {
        "content": "<p>(I fixed <code>-Zdump-mir</code> years ago to include shims, but had no idea how to fix --emit=mir)</p>",
        "id": 276628517,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219392
    },
    {
        "content": "<p>Ralf asked what a \"representation invariant\" was in this context</p>",
        "id": 276628558,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219419
    },
    {
        "content": "<p>I could have just said \"invariants\"</p>",
        "id": 276628573,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219425
    },
    {
        "content": "<p>I was trying to just point out that I don't think a set of type signatures suffices</p>",
        "id": 276628606,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219442
    },
    {
        "content": "<p>and I assume at least many FM tools would prefer to treat shims just like regular functions so we surely want their MIR emitted. Miri definitely does, the MIR there has the same rules for UB and so on as all the other MIR.</p>",
        "id": 276628661,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219449
    },
    {
        "content": "<p>you want to also dictate what the rules are for valid values of those types</p>",
        "id": 276628678,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219456
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276628573\">said</a>:</p>\n<blockquote>\n<p>I could have just said \"invariants\"</p>\n</blockquote>\n<p>that doesnt help?^^</p>",
        "id": 276628687,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219459
    },
    {
        "content": "<p>oh. well that's part of MIR semantics</p>",
        "id": 276628711,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219473
    },
    {
        "content": "<p>I dont think you would want to single out the validity invariant part of that</p>",
        "id": 276628726,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219484
    },
    {
        "content": "<p>I assume it's things like</p>",
        "id": 276628732,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219486
    },
    {
        "content": "<p>\"this is an index into that vector, must be in-bounds\"</p>",
        "id": 276628741,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219491
    },
    {
        "content": "<p>(at the simple level)</p>",
        "id": 276628749,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219496
    },
    {
        "content": "<p><a href=\"https://en.wikipedia.org/wiki/Class_invariant\">https://en.wikipedia.org/wiki/Class_invariant</a></p>",
        "id": 276628751,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219497
    },
    {
        "content": "<p>up to and including more complex things</p>",
        "id": 276628759,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219501
    },
    {
        "content": "<p>some of that falls into MIR semantics, but other parts do not</p>",
        "id": 276628794,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219517
    },
    {
        "content": "<p>so you are thinking users should annotate invariants to types and we want to emit them?</p>",
        "id": 276628809,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219525
    },
    {
        "content": "<p>no</p>",
        "id": 276628822,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219530
    },
    {
        "content": "<p>that seems more like something for the other doc <em>confused</em></p>",
        "id": 276628824,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219532
    },
    {
        "content": "<p>that's not what I'm saying</p>",
        "id": 276628840,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219539
    },
    {
        "content": "<p>for the MIR datatypes themselves</p>",
        "id": 276628848,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219541
    },
    {
        "content": "<p>e.g., <code>struct BasicBlock(u32)</code> &lt;-- that <code>u32</code> is not \"some random u32\"</p>",
        "id": 276628869,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219553
    },
    {
        "content": "<p>I'm saying that type definitions do not suffice when you want to write a spec, that's all</p>",
        "id": 276628881,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219556
    },
    {
        "content": "<p>I dont follow</p>",
        "id": 276628951,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219567
    },
    {
        "content": "<p>you usually need to further constrain the domain</p>",
        "id": 276628962,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219570
    },
    {
        "content": "<p>'validity invariants' are just part of the MIR semantics</p>",
        "id": 276628976,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219576
    },
    {
        "content": "<p>no</p>",
        "id": 276629000,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219583
    },
    {
        "content": "<p>so I dont see much value in encoding them here unless we want to somehow encode the entire semantics</p>",
        "id": 276629011,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219588
    },
    {
        "content": "<p>you're thinking about the program being compiled</p>",
        "id": 276629013,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219589
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> is talking about the <em>MIR data structures themselves</em>, I believe</p>",
        "id": 276629035,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219600
    },
    {
        "content": "<p>yes</p>",
        "id": 276629042,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219605
    },
    {
        "content": "<p>basically this is so obvious that you are not getting it</p>",
        "id": 276629050,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219608
    },
    {
        "content": "<p>yes</p>",
        "id": 276629059,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219612
    },
    {
        "content": "<p>oh. so basically, have a sufficiently strongly typed representation?</p>",
        "id": 276629097,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219624
    },
    {
        "content": "<p>My claim is that most type systems cannot encode the invariants strongly enough</p>",
        "id": 276629143,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219642
    },
    {
        "content": "<p>there's a lot of stuff that we don't say</p>",
        "id": 276629173,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219654
    },
    {
        "content": "<p>most of which is pretty obvious</p>",
        "id": 276629186,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219660
    },
    {
        "content": "<p>fair (dependent types can but let's not go there)</p>",
        "id": 276629188,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219661
    },
    {
        "content": "<p>(but worth saying)</p>",
        "id": 276629209,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219670
    },
    {
        "content": "<p>I think that is what <span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> is saying :)</p>",
        "id": 276629221,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219674
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"120791\">RalfJ</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276629188\">said</a>:</p>\n<blockquote>\n<p>fair (dependent types can but let's not go there)</p>\n</blockquote>\n<p>right. I don't want to depend (hah!) on a dependent type system</p>",
        "id": 276629240,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219681
    },
    {
        "content": "<p>right, so basically -- the information we currently have encoded in the MIR validator?</p>",
        "id": 276629306,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219691
    },
    {
        "content": "<p>(the validator is incomplete ofc, but conceptually)</p>",
        "id": 276629323,
        "sender_full_name": "RalfJ",
        "timestamp": 1648219700
    },
    {
        "content": "<p>sounds correct</p>",
        "id": 276629337,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219709
    },
    {
        "content": "<p>maybe. I don't know how far that goes, but its probably the right idea</p>",
        "id": 276629343,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219710
    },
    {
        "content": "<p>okay, so, next inline comment</p>",
        "id": 276629365,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219718
    },
    {
        "content": "<p>niko noted there's overlap here with chalk-ty, and a bunch of other teams too</p>",
        "id": 276629407,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219736
    },
    {
        "content": "<p>and basically, yes: I totally should have included references to those teams in this doc</p>",
        "id": 276629440,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219750
    },
    {
        "content": "<p>celina and I did discuss this</p>",
        "id": 276629468,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219764
    },
    {
        "content": "<p>we don't know whether the products that come from those teams will be \"the right thing\" to solve the problems here, but if they <em>are</em> suitable, then that's awesome and we should use them.</p>",
        "id": 276629528,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219797
    },
    {
        "content": "<p>I expect there to be significant overlap, and maybe that implies some amount of coordination that I failed to account for here.</p>",
        "id": 276629607,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219826
    },
    {
        "content": "<p>it's unclear to me whether there will want to be a separate representation of types (just as I believe we probably want a separate representation of MIR, geared for stability and simplicity), but I think that will become much more clear over time...</p>",
        "id": 276629692,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219868
    },
    {
        "content": "<p>celina had noted that \"codegen and our tool sometimes require info from the HIR rathe r than the MIR\"</p>",
        "id": 276629708,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219876
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"133247\">@bjorn3</span> had commented that they thought the LLVM backend no longer needed referecnes to HIR</p>",
        "id": 276629765,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219899
    },
    {
        "content": "<p>Added a reply for that.<br>\nEdit: race :)</p>",
        "id": 276629766,
        "sender_full_name": "bjorn3",
        "timestamp": 1648219899
    },
    {
        "content": "<p>...but I definitely think that the formality repo and this repo ought to be coordinated</p>",
        "id": 276629792,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219906
    },
    {
        "content": "<p>but I think the overall point still stands (I think celina was referring to kani in their comment)</p>",
        "id": 276629805,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219910
    },
    {
        "content": "<p>and I tried to reflect that in this doc by saying that you can view \"stable-MIR\" as a <em>codegen backend</em>, from some perspectives</p>",
        "id": 276629911,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648219938
    },
    {
        "content": "<p>If chalk-ty or whatever is suitable for use in stable-MIR, that's great! However, I think we should probably design data structures/APIs/format/whatever to be maximally convenient for the downstream tools to use.</p>",
        "id": 276629968,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1648219961
    },
    {
        "content": "<p>Since we're not actually using stable-MIR as part of the normal compiler pipeline, it doesn't need to be micro-optimized like many of our current data structures are.</p>",
        "id": 276630043,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1648219992
    },
    {
        "content": "<p>I agree</p>",
        "id": 276630054,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648219997
    },
    {
        "content": "<p>where, once you have stable-MIR in your hands, you shoudn't need the original source or the HIR etc. (You might need <em>other</em> libraries, either in source form, or some sort of compiled form, in order to e.g. generate final code. But the stable-MIR should capture everything relvenat from the original input crate source code)</p>",
        "id": 276630062,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220001
    },
    {
        "content": "<p>I'm going to skip the next few inline comments from Celina; they were left over from document drafting</p>",
        "id": 276630207,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220051
    },
    {
        "content": "<p>Niko rightfully said they cannot own but they are interested</p>",
        "id": 276630235,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220064
    },
    {
        "content": "<p>How would we write/validate stableMIR-&gt;stableMIR transformations? Would there be library support for that?</p>",
        "id": 276630288,
        "sender_full_name": "Daniel Schwartz-Narbonne",
        "timestamp": 1648220088
    },
    {
        "content": "<p>so this is as good a time as any to ask: Who <em>is</em> interested in participating here? As in, attending regular meetings, that level of participation</p>",
        "id": 276630301,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220093
    },
    {
        "content": "<p>\"and opinionated\" :D</p>",
        "id": 276630304,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220094
    },
    {
        "content": "<p>I'm interrested</p>",
        "id": 276630326,
        "sender_full_name": "Daniel Schwartz-Narbonne",
        "timestamp": 1648220103
    },
    {
        "content": "<p>oh, lets go with <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span> on this message</p>",
        "id": 276630352,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220121
    },
    {
        "content": "<p>As author of cg_clif I'm interested depending on when the meetings would be.</p>",
        "id": 276630371,
        "sender_full_name": "bjorn3",
        "timestamp": 1648220133
    },
    {
        "content": "<p>I dont think I can commit to many meetings, and there are many aspects to this I have no stakes in (like the exact data format and encoding). but I am interested and rather opinionated on anything related to describing the operational semantics of any variant of MIR. ;)</p>",
        "id": 276630421,
        "sender_full_name": "RalfJ",
        "timestamp": 1648220152
    },
    {
        "content": "<p>I'm hoping we can tailor meeting times to meet the needs of participants</p>",
        "id": 276630436,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220159
    },
    {
        "content": "<p>I don’t know that I’ll have time to actively participate (at least at first) but I’m interested in being a fly on the wall</p>",
        "id": 276630489,
        "sender_full_name": "davidtwco",
        "timestamp": 1648220167
    },
    {
        "content": "<p>I suspect that both Ralf and I fall into a category that's like</p>",
        "id": 276630502,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220173
    },
    {
        "content": "<p>\"stakeholders\"</p>",
        "id": 276630508,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220175
    },
    {
        "content": "<p>or \"reviewers\"</p>",
        "id": 276630521,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220180
    },
    {
        "content": "<p>i.e., consulted on questions, and maybe attending design meetings, that sort of thing</p>",
        "id": 276630546,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220190
    },
    {
        "content": "<p>that's right, i think we're going to have some people who will drive the work, and others who will consult/observe</p>",
        "id": 276630561,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220200
    },
    {
        "content": "<p>(\"types team\" deep dive meeting format might be relevant)</p>",
        "id": 276630594,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220214
    },
    {
        "content": "<p>and maybe I should have asked for that level of fine-grain expectation in my poll above</p>",
        "id": 276630598,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220217
    },
    {
        "content": "<p>do we have owner(s) in mind?</p>",
        "id": 276630638,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220231
    },
    {
        "content": "<p>If you're interested in <em>driving</em> the work forward, add onto the <span aria-label=\"car\" class=\"emoji emoji-1f697\" role=\"img\" title=\"car\">:car:</span> here</p>",
        "id": 276630661,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220241
    },
    {
        "content": "<p>( I like your emoji, hence the <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span>, not to be confused with signing up :) )</p>",
        "id": 276630717,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220273
    },
    {
        "content": "<p>(yes, I understand that you didn't click the <span aria-label=\"car\" class=\"emoji emoji-1f697\" role=\"img\" title=\"car\">:car:</span>  ) <span aria-label=\"lol\" class=\"emoji emoji-1f606\" role=\"img\" title=\"lol\">:lol:</span></p>",
        "id": 276630812,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220299
    },
    {
        "content": "<p>Did you see <a href=\"https://hackmd.io/naxjPGp3SL-5EIOjIknCfQ?both#Unstable-implementation-details\">https://hackmd.io/naxjPGp3SL-5EIOjIknCfQ?both#Unstable-implementation-details</a> ?</p>",
        "id": 276630917,
        "sender_full_name": "bjorn3",
        "timestamp": 1648220338
    },
    {
        "content": "<p>ah crap we didn't get to the big questions at the end</p>",
        "id": 276630969,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220365
    },
    {
        "content": "<p>um, lets look over those quickly then</p>",
        "id": 276630995,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220373
    },
    {
        "content": "<p>it seems like we don't have time, but they are prob good things to do in followup meetings</p>",
        "id": 276631026,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220385
    },
    {
        "content": "<p>with the \"core group\"</p>",
        "id": 276631032,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220388
    },
    {
        "content": "<p>so, yes: formality/chalk-ty are clearly related work and we should figure out how to delegate as much as possible</p>",
        "id": 276631046,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220396
    },
    {
        "content": "<p>I'm going to skip niko's specific discussino of exposing as queries first; I think that can be handled in follow up async dsicussion</p>",
        "id": 276631179,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220424
    },
    {
        "content": "<p>btw is 'formality' an alias for the RFMIG?</p>",
        "id": 276631215,
        "sender_full_name": "RalfJ",
        "timestamp": 1648220433
    },
    {
        "content": "<p>no</p>",
        "id": 276631251,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220450
    },
    {
        "content": "<p><a href=\"https://github.com/nikomatsakis/a-mir-formality\">https://github.com/nikomatsakis/a-mir-formality</a></p>",
        "id": 276631268,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220457
    },
    {
        "content": "<blockquote>\n<p>would we expose analyses on stable mir?</p>\n</blockquote>",
        "id": 276631274,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220460
    },
    {
        "content": "<p>This is a reasonable question</p>",
        "id": 276631296,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220466
    },
    {
        "content": "<p>(I'm kind of looking ahead to it being a rust-lang repo)</p>",
        "id": 276631310,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220471
    },
    {
        "content": "<p>I had intended for the doc to imply that we <em>were</em> separating MIR for analysis from MIR for optimizations and codegen</p>",
        "id": 276631403,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220506
    },
    {
        "content": "<p>since it was saying that the compiler would keep its own local definition of MIR</p>",
        "id": 276631432,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220520
    },
    {
        "content": "<p>but I guess that needs to be more clearly spelled out, and maybe it has implications for <em>who</em> will benefit from this</p>",
        "id": 276631557,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220550
    },
    {
        "content": "<p>well, the borrow checker is still (today) implemented in terms of MIR</p>",
        "id": 276631595,
        "sender_full_name": "tmandry",
        "timestamp": 1648220563
    },
    {
        "content": "<p>regarding \"Unstable Implementation details\" ...</p>",
        "id": 276631599,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220564
    },
    {
        "content": "<p>..but as pointed out elsewhere, you do have these different phases</p>",
        "id": 276631611,
        "sender_full_name": "tmandry",
        "timestamp": 1648220569
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116883\">@tmandry</span> are you saying that you'd like to know whether the output from teh borrowck-analysis can be attached to stable-MIR ?</p>",
        "id": 276631716,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220610
    },
    {
        "content": "<p>basically, yes</p>",
        "id": 276631741,
        "sender_full_name": "tmandry",
        "timestamp": 1648220622
    },
    {
        "content": "<p>I think that is an open question that should be determined by the wg</p>",
        "id": 276631836,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220644
    },
    {
        "content": "<p>I think that should be a goal, but a longer term one -- that said, this is part of the reason that I'm advocating for starting from a query-like interface</p>",
        "id": 276631873,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220654
    },
    {
        "content": "<p>but also, I think it woud be a good thing for the answer to be \"yes\"</p>",
        "id": 276631887,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220659
    },
    {
        "content": "<p>i.e., I should expect <code>stable-mir</code> to eventually grow a <code>stable-borrow-check</code> query :)</p>",
        "id": 276631907,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220664
    },
    {
        "content": "<p>(and probably other related queries, like trait solving or type checking details)</p>",
        "id": 276631969,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220687
    },
    {
        "content": "<p>I want to address <span class=\"user-mention\" data-user-id=\"133247\">@bjorn3</span> 's question about unstable implementation details, at least in the abstract</p>",
        "id": 276631989,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220695
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276631907\">said</a>:</p>\n<blockquote>\n<p>i.e., I should expect <code>stable-mir</code> to eventually grow a <code>stable-borrow-check</code> query :)</p>\n</blockquote>\n<p>then the question (for me) we would be whether to use that in rustc so we exercise a single code path as much as possible</p>",
        "id": 276632048,
        "sender_full_name": "tmandry",
        "timestamp": 1648220720
    },
    {
        "content": "<p>I <em>suspect</em> the answer there is going to have to be \"sem ver\", or something.</p>",
        "id": 276632058,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220723
    },
    {
        "content": "<p>i.e., we have to let the rust compiler grow and change</p>",
        "id": 276632102,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220744
    },
    {
        "content": "<p>Does attaching the stable-MIR interface to the query system create other (unwanted) stability issues? We've been talking a bit about different ways of structuring the query system which would definitely affect rustc-drivers. I guess the long term vision is not to require building a rustc-driver though?</p>",
        "id": 276632240,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1648220782
    },
    {
        "content": "<p>I'm very hestitant about commiting to coupling the product here to the query system</p>",
        "id": 276632294,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220802
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116883\">tmandry</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276632048\">said</a>:</p>\n<blockquote>\n<p>then the question (for me) we would be whether to use that in rustc so we exercise a single code path as much as possible</p>\n</blockquote>\n<p>I would expect it to \"copy\" the format of the data, just as we are copying the MIR</p>",
        "id": 276632296,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220803
    },
    {
        "content": "<p>as in, I don't see why we would make the decision right now in this meeting to do that, couple it to the query system</p>",
        "id": 276632329,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220821
    },
    {
        "content": "<p>I'm wondering if the MVP we should shoot for here is <code>--emit stable-mir</code> or similar?</p>",
        "id": 276632355,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1648220831
    },
    {
        "content": "<p>I'm advocating for that as a first MVP deliverable, not necessawrily the ultimate interface</p>",
        "id": 276632363,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220835
    },
    {
        "content": "<p>I think that <code>--emit stable-mir</code> iwll not be as useful and will be harder</p>",
        "id": 276632389,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220845
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276632296\">said</a>:</p>\n<blockquote>\n<p>I would expect it to \"copy\" the format of the data, just as we are copying the MIR</p>\n</blockquote>\n<p>oh, I see. thanks for the clarification</p>",
        "id": 276632391,
        "sender_full_name": "tmandry",
        "timestamp": 1648220846
    },
    {
        "content": "<p>but lt's discuss later :)</p>",
        "id": 276632394,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220848
    },
    {
        "content": "<p>okay. I think that's the right answer: The stakeholders and the drivers should decide that on their own</p>",
        "id": 276632454,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220869
    },
    {
        "content": "<p>( that said, I do believe we should be thinking about better integration, because eventually I think these tools will be invoked <em>by rustc</em> )</p>",
        "id": 276632464,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220875
    },
    {
        "content": "<p>we are now seven minues over time</p>",
        "id": 276632470,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220880
    },
    {
        "content": "<p>so lets figure out the follow up steps</p>",
        "id": 276632545,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220898
    },
    {
        "content": "<p>(e.g., as things users wrote in their cargo.toml etc, or triggered by the presence of particular annotations)</p>",
        "id": 276632553,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220901
    },
    {
        "content": "<p>I think it looks like I'm the compiler-team member who will be driving this</p>",
        "id": 276632582,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220914
    },
    {
        "content": "<p>(and we will want them to integrate with incremental recompilation etc)</p>",
        "id": 276632584,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220915
    },
    {
        "content": "<p><span aria-label=\"zip it\" class=\"emoji emoji-1f910\" role=\"img\" title=\"zip it\">:zip_it:</span></p>",
        "id": 276632641,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220936
    },
    {
        "content": "<p>I think the most importat next step is: Form a WG</p>",
        "id": 276632674,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220953
    },
    {
        "content": "<p>and then, see if there are other stakeholders</p>",
        "id": 276632710,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220964
    },
    {
        "content": "<p>who should join it</p>",
        "id": 276632719,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220968
    },
    {
        "content": "<p>(as advisors/consultants, etc)</p>",
        "id": 276632738,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648220976
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276632674\">said</a>:</p>\n<blockquote>\n<p>I think the most importat next step is: Form a WG</p>\n</blockquote>\n<p>(initiative?)</p>",
        "id": 276632790,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648220997
    },
    {
        "content": "<p>we can also see if there is external interest in other people to drive work foward. But for this meeting, I wanted to find out which compiler team members would want to drive, and which would want to consult. I think we have that answer now.</p>",
        "id": 276632853,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648221009
    },
    {
        "content": "<p>just thinking that the initiative phase structure may be useful here in some sense :)</p>",
        "id": 276632854,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648221010
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276632790\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202022-03-25.20compiler-team.23488.2C.20.23498/near/276632674\">said</a>:</p>\n<blockquote>\n<p>I think the most importat next step is: Form a WG</p>\n</blockquote>\n<p>(initiative?)</p>\n</blockquote>\n<p>Okay maybe that's a better model. <span class=\"user-mention\" data-user-id=\"442621\">@Celina V.</span> , you and I should review that question</p>",
        "id": 276632955,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648221050
    },
    {
        "content": "<p>so <span class=\"user-mention\" data-user-id=\"442621\">@Celina V.</span> and I will figure out whether an initiative or a WG makes the most sense for this.</p>",
        "id": 276632998,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648221066
    },
    {
        "content": "<p>(In terms of having a deliverable, with goals etc, the initiative makes sense. In terms of having long-term maintenance concerns, doesn't a WG make sense?)</p>",
        "id": 276633073,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648221096
    },
    {
        "content": "<p>not a big difference</p>",
        "id": 276633079,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648221098
    },
    {
        "content": "<p>so, per <em>my</em> definitions</p>",
        "id": 276633107,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648221109
    },
    {
        "content": "<p>WG do NOT do maintenance</p>",
        "id": 276633113,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648221112
    },
    {
        "content": "<p>teams do maintenance :)</p>",
        "id": 276633118,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648221115
    },
    {
        "content": "<p>ah</p>",
        "id": 276633122,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648221115
    },
    {
        "content": "<p>i.e., I would expect the initiative would be to deliver this thing</p>",
        "id": 276633169,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648221124
    },
    {
        "content": "<p>if it is accepted, it becomes an ongoing team</p>",
        "id": 276633180,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648221129
    },
    {
        "content": "<p>probably a subteam of compiler team</p>",
        "id": 276633192,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648221133
    },
    {
        "content": "<p>okay. Yes, I think I have different mental model of what WG denotes.</p>",
        "id": 276633228,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648221151
    },
    {
        "content": "<p>anyway</p>",
        "id": 276633249,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648221158
    },
    {
        "content": "<p>I think of \"WG\" as being like async or something -- pursuing some set of initiatives, kind of just an \"umbrella initiative\"</p>",
        "id": 276633271,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648221167
    },
    {
        "content": "<p>I think <span class=\"user-mention\" data-user-id=\"442621\">@Celina V.</span> and I have our marching orders.</p>",
        "id": 276633272,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648221168
    },
    {
        "content": "<p>but I realize we all use the terms our own way :)</p>",
        "id": 276633293,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648221177
    },
    {
        "content": "<p>/me thinks about writing an RFC...</p>",
        "id": 276633309,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1648221182
    },
    {
        "content": "<p>and I want to thank all of you for participating, I'm sorry we ran too long!</p>",
        "id": 276633318,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648221186
    },
    {
        "content": "<p>Thanks also to <span class=\"user-mention\" data-user-id=\"312719\">@Xavier Denis</span> and <span class=\"user-mention\" data-user-id=\"442621\">@Celina V.</span> for all your work on these docs today</p>",
        "id": 276633384,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648221213
    },
    {
        "content": "<p>Thanks for the great feedback. Cheers!</p>",
        "id": 276633494,
        "sender_full_name": "Celina V.",
        "timestamp": 1648221249
    },
    {
        "content": "<p>Bye all!</p>",
        "id": 276633516,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648221259
    },
    {
        "content": "<p>(Oh, and, I think everyone who put a <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span> on my poll above can expect to get pinged inthe future once <span class=\"user-mention\" data-user-id=\"442621\">@Celina V.</span> and <span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> figure out the initiative/WG question.)</p>",
        "id": 276633601,
        "sender_full_name": "pnkfelix",
        "timestamp": 1648221294
    },
    {
        "content": "<p>Just to follow up here: I created the <a class=\"stream\" data-stream-id=\"320896\" href=\"/#narrow/stream/320896-project-stable-mir\">#project-stable-mir</a> zulip stream and am working on defining the <a href=\"https://github.com/rust-lang/team/pull/729\">team</a> and its <a href=\"https://hackmd.io/WBVP4ROORRiJGGpEaLPc6g\">charter</a>.</p>",
        "id": 277905237,
        "sender_full_name": "pnkfelix",
        "timestamp": 1649175746
    },
    {
        "content": "<p>I only added <span class=\"user-mention\" data-user-id=\"124288\">@oli</span> <span class=\"user-mention\" data-user-id=\"442621\">@Celina V.</span> and myself as members to the team and to the <a class=\"stream\" data-stream-id=\"320896\" href=\"/#narrow/stream/320896-project-stable-mir\">#project-stable-mir</a> stream. The draft charter explicitly distinguishes between \"shippers\" and \"stakeholders\"</p>",
        "id": 277905394,
        "sender_full_name": "pnkfelix",
        "timestamp": 1649175817
    },
    {
        "content": "<p>(and I didn't want to blanket-add the stakeholders without their permission. However, I did say I would ping those stakeholders, so here goes: <span class=\"user-mention\" data-user-id=\"133247\">@bjorn3</span> , <span class=\"user-mention\" data-user-id=\"324174\">@Daniel Schwartz-Narbonne</span> , <span class=\"user-mention\" data-user-id=\"312719\">@Xavier Denis</span> , <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> , and <span class=\"user-mention\" data-user-id=\"120791\">@RalfJ</span> are all welcome to join the <a class=\"stream\" data-stream-id=\"320896\" href=\"/#narrow/stream/320896-project-stable-mir\">#project-stable-mir</a> stream. And also, if you would like me to make you a member of the project-group itself on the <a href=\"https://github.com/rust-lang/team/pull/729\">teams PR</a>, feel free to let me know.</p>",
        "id": 277905642,
        "sender_full_name": "pnkfelix",
        "timestamp": 1649175927
    }
]