[
    {
        "content": "<p>hi <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span> , we're starting today's steering meeting now</p>",
        "id": 218843523,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094223
    },
    {
        "content": "<p>We have an agenda, or at least some notes, prepared for us thanks to <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> : <a href=\"https://docs.google.com/document/d/1DzQtKpudHqCiYPuRrFPMkhMCaQ884uG_8dh3Vufv9Vc/edit\">https://docs.google.com/document/d/1DzQtKpudHqCiYPuRrFPMkhMCaQ884uG_8dh3Vufv9Vc/edit</a></p>",
        "id": 218843650,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094270
    },
    {
        "content": "<p>I don't remember: Did we establish that we would have this meeting over Zulip?</p>",
        "id": 218843715,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094296
    },
    {
        "content": "<p>(vs zoom?)</p>",
        "id": 218843726,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094299
    },
    {
        "content": "<p>I think Zulip is fine</p>",
        "id": 218843733,
        "sender_full_name": "simulacrum",
        "timestamp": 1607094304
    },
    {
        "content": "<p>Okay, lets go with zulip then</p>",
        "id": 218843773,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094327
    },
    {
        "content": "<p>so yeah, lets all maybe take five minutes right now to read the doc</p>",
        "id": 218843916,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094380
    },
    {
        "content": "<p>and then we can talk about it</p>",
        "id": 218843928,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094387
    },
    {
        "content": "<p>You all should be able to edit / leave comments btw</p>",
        "id": 218843965,
        "sender_full_name": "simulacrum",
        "timestamp": 1607094412
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> seems like this \"A cold-cache (fresh checkout) should produce a  [...]\" was an unfinished sentence</p>",
        "id": 218844126,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094485
    },
    {
        "content": "<p>ha! Nice fix!</p>",
        "id": 218844167,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094505
    },
    {
        "content": "<p>yeah not sure what I was thinking</p>",
        "id": 218844169,
        "sender_full_name": "simulacrum",
        "timestamp": 1607094506
    },
    {
        "content": "<p>probably some other metric</p>",
        "id": 218844182,
        "sender_full_name": "simulacrum",
        "timestamp": 1607094510
    },
    {
        "content": "<p>I think its worth clarifying something up front: You would prefer the improvements here to be \"general\" in this sense that they would apply to other projects of rustc's size/structure, and/or would apply to a snapshot of rustc taken today, right?</p>",
        "id": 218844415,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094624
    },
    {
        "content": "<p>I think sort of</p>",
        "id": 218844431,
        "sender_full_name": "simulacrum",
        "timestamp": 1607094636
    },
    {
        "content": "<p>I would focus 100% on rustc itself</p>",
        "id": 218844442,
        "sender_full_name": "simulacrum",
        "timestamp": 1607094642
    },
    {
        "content": "<p>when I first read this, I was thinking it might be more narrow, as in a solution of restructuring the rustc repo (e.g. fine-grain librarification) could address at least some of these issues</p>",
        "id": 218844471,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094657
    },
    {
        "content": "<p>e.g., if it means we have some hacks that we \"know\" are true in rustc, I would be fine with that</p>",
        "id": 218844476,
        "sender_full_name": "simulacrum",
        "timestamp": 1607094660
    },
    {
        "content": "<p>but restructuring the rustc repo doesn't fix the problem for other projects</p>",
        "id": 218844504,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094675
    },
    {
        "content": "<p>but I would expect the majority of the work to yield steps, at least, that others could follow</p>",
        "id": 218844518,
        "sender_full_name": "simulacrum",
        "timestamp": 1607094685
    },
    {
        "content": "<p>Oh I see</p>",
        "id": 218844532,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094692
    },
    {
        "content": "<p>e.g. restructuring is something others can do, and we can say that's recommended</p>",
        "id": 218844535,
        "sender_full_name": "simulacrum",
        "timestamp": 1607094694
    },
    {
        "content": "<p>So restructuring <em>can</em> be part of the plan, okay.</p>",
        "id": 218844583,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094713
    },
    {
        "content": "<p>that helps me understand, thanks.</p>",
        "id": 218844645,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094726
    },
    {
        "content": "<p>I suspect that there could be wins from making some things around queries non-generic</p>",
        "id": 218844651,
        "sender_full_name": "mw",
        "timestamp": 1607094730
    },
    {
        "content": "<p>and <code>rustc_middle</code> would profit from better CGU partitioning</p>",
        "id": 218844753,
        "sender_full_name": "mw",
        "timestamp": 1607094785
    },
    {
        "content": "<p>(hey all, sorry, I'm in a meeting that's running over)</p>",
        "id": 218844792,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607094802
    },
    {
        "content": "<p>Yep, both of those seem like specific steps that we can also use to document some general steps</p>",
        "id": 218844799,
        "sender_full_name": "simulacrum",
        "timestamp": 1607094804
    },
    {
        "content": "<p>Okay, put a <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span>  on this comment if you are finshed reading, and put a <span aria-label=\"thumbs down\" class=\"emoji emoji-1f44e\" role=\"img\" title=\"thumbs down\">:thumbs_down:</span> if you need more time. (and I'll assume non-responses are <span aria-label=\"thumbs down\" class=\"emoji emoji-1f44e\" role=\"img\" title=\"thumbs down\">:thumbs_down:</span> )</p>",
        "id": 218844802,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094805
    },
    {
        "content": "<p>We should make an effort to document things that we change that aren't just making rustc itself faster in <span class=\"user-mention silent\" data-user-id=\"120989\">njn</span>'s <a href=\"https://nnethercote.github.io/perf-book/title-page.html\">perf book</a>.</p>",
        "id": 218844999,
        "sender_full_name": "davidtwco",
        "timestamp": 1607094889
    },
    {
        "content": "<p>e.g. changing how we structure our crate graph, etc.</p>",
        "id": 218845058,
        "sender_full_name": "davidtwco",
        "timestamp": 1607094908
    },
    {
        "content": "<p>njn's book is focused on object code performance, not build times, right?</p>",
        "id": 218845128,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094937
    },
    {
        "content": "<p>(or is it both?)</p>",
        "id": 218845142,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607094941
    },
    {
        "content": "<p>it has a chapter on compile times</p>",
        "id": 218845178,
        "sender_full_name": "mw",
        "timestamp": 1607094956
    },
    {
        "content": "<p><a href=\"https://nnethercote.github.io/perf-book/compile-times.html\">https://nnethercote.github.io/perf-book/compile-times.html</a></p>",
        "id": 218845179,
        "sender_full_name": "mw",
        "timestamp": 1607094957
    },
    {
        "content": "<p>okay so I think we're only waiting for <span class=\"user-mention\" data-user-id=\"255061\">@LÃ©o Lanteri Thauvin</span> and <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> to finish reading at this point</p>",
        "id": 218845316,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095009
    },
    {
        "content": "<p>sorry don't block on me</p>",
        "id": 218845330,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607095016
    },
    {
        "content": "<p>I will catch up</p>",
        "id": 218845337,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607095018
    },
    {
        "content": "<p>I can't focus right now</p>",
        "id": 218845358,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607095027
    },
    {
        "content": "<p>Lets go ahead and get started on discussion</p>",
        "id": 218845426,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095060
    },
    {
        "content": "<p>if the PGO work I've been discussing with <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> and others bares fruit, the bootstrap compiler would also become faster (~15%)</p>",
        "id": 218845435,
        "sender_full_name": "mw",
        "timestamp": 1607095063
    },
    {
        "content": "<p>wait, I had thought PGO wasn't showing so much of a win in many cases?</p>",
        "id": 218845464,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095081
    },
    {
        "content": "<p>what happened?</p>",
        "id": 218845497,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095084
    },
    {
        "content": "<p>wall-time improvements look pretty promising: <a href=\"https://perf.rust-lang.org/compare.html?start=pgo-2020-10-30-none-20&amp;end=pgo-2020-10-30-both-20&amp;stat=wall-time\">https://perf.rust-lang.org/compare.html?start=pgo-2020-10-30-none-20&amp;end=pgo-2020-10-30-both-20&amp;stat=wall-time</a></p>",
        "id": 218845589,
        "sender_full_name": "mw",
        "timestamp": 1607095124
    },
    {
        "content": "<p>(am I misremembering, about PGO not showing a benefit in the past?)</p>",
        "id": 218845649,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095149
    },
    {
        "content": "<p>well anyway that is promising</p>",
        "id": 218845716,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095178
    },
    {
        "content": "<p>pure instruction counts look less good because PGO often improves caching and branch prediction</p>",
        "id": 218845760,
        "sender_full_name": "mw",
        "timestamp": 1607095197
    },
    {
        "content": "<p>maybe I'm thinking of PGO not meeting expectations on Firefox or something</p>",
        "id": 218845861,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095224
    },
    {
        "content": "<p>anyway</p>",
        "id": 218845863,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095226
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218845861\">said</a>:</p>\n<blockquote>\n<p>maybe I'm thinking of PGO not meeting expectations on Firefox or something</p>\n</blockquote>\n<p>Yes, I think that improved after they adapted their training sets</p>",
        "id": 218845929,
        "sender_full_name": "mw",
        "timestamp": 1607095257
    },
    {
        "content": "<p>Okay. <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> , am I right that the main actions proposed by the doc are the two bullets below the \"We should aim for: ...\" ?</p>",
        "id": 218846075,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095316
    },
    {
        "content": "<p>Kind of -- not sure I'd call them actions, more goals</p>",
        "id": 218846158,
        "sender_full_name": "simulacrum",
        "timestamp": 1607095343
    },
    {
        "content": "<p>namely: 1. turn on incr-comp for contributors, and 2. make it easier/possible to build <em>just</em> individual components (like rustdoc, test suite, std lib)</p>",
        "id": 218846164,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095347
    },
    {
        "content": "<p>but yes, in some sense</p>",
        "id": 218846170,
        "sender_full_name": "simulacrum",
        "timestamp": 1607095349
    },
    {
        "content": "<p>I guess I see them as strategies (or tactics? Still need to make that distinction clear in my head) for acheiving the end goal of better build times.</p>",
        "id": 218846244,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095393
    },
    {
        "content": "<p>yes that's accurate</p>",
        "id": 218846272,
        "sender_full_name": "simulacrum",
        "timestamp": 1607095410
    },
    {
        "content": "<p>What are blockers for incremental? One big one is that we still don't have a great story around fixing bugs there</p>",
        "id": 218846302,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095424
    },
    {
        "content": "<p>i.e. we count ourselves lucky when we get a bug report that we can actually reproduce</p>",
        "id": 218846328,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095437
    },
    {
        "content": "<p>that isn't an objection <em>per se</em>  to turning it on by default</p>",
        "id": 218846431,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095469
    },
    {
        "content": "<p>yeah -- I think digging in here might be useful -- I've not heard a lot from incr WG though I know y'all have been meeting a bunch lately</p>",
        "id": 218846445,
        "sender_full_name": "simulacrum",
        "timestamp": 1607095475
    },
    {
        "content": "<p>the main thing I have personally experienced is that incremental kinda feels lackluster a lot of the time</p>",
        "id": 218846494,
        "sender_full_name": "simulacrum",
        "timestamp": 1607095499
    },
    {
        "content": "<p>but we don't want to be in a situation where we are repeatedly telling new people \"oh, that ICE? yeah, you need to clean your build dir first\"</p>",
        "id": 218846501,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095502
    },
    {
        "content": "<p>I've usually turned incremental on when building rustc and don't run into many bugs</p>",
        "id": 218846570,
        "sender_full_name": "mw",
        "timestamp": 1607095539
    },
    {
        "content": "<p>as in, turning incremental on doesn't actually yield the \"feel\" of an incremental environment ?</p>",
        "id": 218846574,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095541
    },
    {
        "content": "<p>but I'm not building rustc that often these days</p>",
        "id": 218846598,
        "sender_full_name": "mw",
        "timestamp": 1607095549
    },
    {
        "content": "<p>I've pretty much only used <code>-i</code> when building rustc for the last year or two.</p>",
        "id": 218846663,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1607095566
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218846494\">said</a>:</p>\n<blockquote>\n<p>the main thing I have personally experienced is that incremental kinda feels lackluster a lot of the time</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> what did \"lackluster\" here mean?</p>",
        "id": 218846708,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095584
    },
    {
        "content": "<p>Yes, it doesn't feel like a big win</p>",
        "id": 218846723,
        "sender_full_name": "simulacrum",
        "timestamp": 1607095589
    },
    {
        "content": "<p>okay</p>",
        "id": 218846727,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095591
    },
    {
        "content": "<p>Maybe I just have good hardware -- I've heard differently</p>",
        "id": 218846740,
        "sender_full_name": "simulacrum",
        "timestamp": 1607095599
    },
    {
        "content": "<p>but I never felt a marked difference with it on</p>",
        "id": 218846753,
        "sender_full_name": "simulacrum",
        "timestamp": 1607095606
    },
    {
        "content": "<p>no I think the wg-incr-comp agrees that it doesn't seem to yield the benefits you would expect</p>",
        "id": 218846788,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095619
    },
    {
        "content": "<p>and the clean build <em>is</em> slower by our benchmarks, so I'm always kinda \"meh\" on turning it on</p>",
        "id": 218846797,
        "sender_full_name": "simulacrum",
        "timestamp": 1607095622
    },
    {
        "content": "<p>yeah, I think it performs worse on rustc than on \"regular\" crates</p>",
        "id": 218846815,
        "sender_full_name": "mw",
        "timestamp": 1607095631
    },
    {
        "content": "<p>for me the felt difference is a lot bigger when I work on crates that don't require rustc_middle to be rebuilt</p>",
        "id": 218846903,
        "sender_full_name": "mw",
        "timestamp": 1607095671
    },
    {
        "content": "<p>that might be my problem -- I usually end up touching middle or even parser in some of my work :)</p>",
        "id": 218846971,
        "sender_full_name": "simulacrum",
        "timestamp": 1607095686
    },
    {
        "content": "<p>I've definitely found it to be <em>very effective</em> sometimes -- but also sometimes completely ineffective</p>",
        "id": 218847047,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607095721
    },
    {
        "content": "<p>but, I guess, my concrete question for incr WG is: can we pull off these subminute recompiles?</p>",
        "id": 218847052,
        "sender_full_name": "simulacrum",
        "timestamp": 1607095723
    },
    {
        "content": "<p>like, is that a feasible goal?</p>",
        "id": 218847084,
        "sender_full_name": "simulacrum",
        "timestamp": 1607095735
    },
    {
        "content": "<p>one of the reasons I ask is because it's a key part -- imo -- of delivering e.g. documentation building quickly after edits to docs to users</p>",
        "id": 218847153,
        "sender_full_name": "simulacrum",
        "timestamp": 1607095763
    },
    {
        "content": "<p>I know I'm always super frustrated to type up some comments on a rustc_middle function for example</p>",
        "id": 218847330,
        "sender_full_name": "simulacrum",
        "timestamp": 1607095824
    },
    {
        "content": "<p>so if I recall correctly, one of the issues there is that the spans all change when you change comments, right?</p>",
        "id": 218847433,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095868
    },
    {
        "content": "<p>I know there's been some work in that space</p>",
        "id": 218847468,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095883
    },
    {
        "content": "<p>to make span changes not cause the rest of the stuff to have to be rebuilt</p>",
        "id": 218847525,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095916
    },
    {
        "content": "<p>or at least ideas thrown around</p>",
        "id": 218847532,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095921
    },
    {
        "content": "<p>but I don't remember what's actually happened at this point</p>",
        "id": 218847581,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095927
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"125250\">@Wesley Wiser</span> do you remember?</p>",
        "id": 218847598,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607095937
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248906\">@cjgillot</span> is currently working on this (<a href=\"https://github.com/rust-lang/rust/issues/72015\">#72015</a> and it's sub prs)</p>",
        "id": 218847617,
        "sender_full_name": "lcnr",
        "timestamp": 1607095944
    },
    {
        "content": "<p>or at least has previously</p>",
        "id": 218847630,
        "sender_full_name": "lcnr",
        "timestamp": 1607095949
    },
    {
        "content": "<p>the big issue here is that only changing some of the spans caused some ~5% perf regressions or so without any incremental benefits iirc</p>",
        "id": 218847715,
        "sender_full_name": "lcnr",
        "timestamp": 1607095981
    },
    {
        "content": "<p>so they pretty much had to change all in one go which was both enormous and still had a small perf impact i think</p>",
        "id": 218847833,
        "sender_full_name": "lcnr",
        "timestamp": 1607096022
    },
    {
        "content": "<p>The concrete proposal being made here, I guess, is that we try to focus compiler team implementation/design bandwidth on this goal of incremental performance / rustc build times. I'm not quite sure what that <em>means</em> -- maybe e.g. we'd focus in on prioritizing incremental bugs (both ICE and perf)</p>",
        "id": 218847900,
        "sender_full_name": "simulacrum",
        "timestamp": 1607096045
    },
    {
        "content": "<p>its a good idea</p>",
        "id": 218847948,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096077
    },
    {
        "content": "<p>one thing I <em>do</em> know from the recent wg-incr-comp meetings</p>",
        "id": 218847975,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096091
    },
    {
        "content": "<p>is that all the members are swamped</p>",
        "id": 218847983,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096096
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> I know there's tracking issues for that but I wasn't aware there was progress being made on them.</p>",
        "id": 218847984,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1607096097
    },
    {
        "content": "<p>with things not related to incr-comp</p>",
        "id": 218847992,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096102
    },
    {
        "content": "<p>I am very in favor of this as a focus</p>",
        "id": 218848011,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096111
    },
    {
        "content": "<p>so progress on the tasks there themselves is also lackluster</p>",
        "id": 218848018,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096114
    },
    {
        "content": "<p>is it other compiler tasks, or just other things?</p>",
        "id": 218848034,
        "sender_full_name": "simulacrum",
        "timestamp": 1607096121
    },
    {
        "content": "<p>basically \"can we meaningfully prioritize\"</p>",
        "id": 218848050,
        "sender_full_name": "simulacrum",
        "timestamp": 1607096128
    },
    {
        "content": "<p>Beyond what's in the doc, it seems to pay multiple dividends (e.g., there is a \"positive feedback\" where making rustc compile faster will yield more people to help make it compile faster)</p>",
        "id": 218848078,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096139
    },
    {
        "content": "<p>But yeah the tactics is the big question, how do we organize to be successful at this goal?</p>",
        "id": 218848115,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096157
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218848034\">said</a>:</p>\n<blockquote>\n<p>is it other compiler tasks, or just other things?</p>\n</blockquote>\n<p>At least for myself, it's a bit of both. But I'm starting to find more time for incr comp things.</p>",
        "id": 218848176,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1607096169
    },
    {
        "content": "<p>at least the <em>metrics</em> are <em>relatively</em> clear -- but actually it'd be good to define specific workloads I think</p>",
        "id": 218848179,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096170
    },
    {
        "content": "<p>editing a comment in <code>rustc_middle</code> seems very plausible</p>",
        "id": 218848191,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096176
    },
    {
        "content": "<p>I guess my experience is that perf wins don't come until you can profile and stare at the actual code path</p>",
        "id": 218848225,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096190
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218848034\">said</a>:</p>\n<blockquote>\n<p>is it other compiler tasks, or just other things?</p>\n</blockquote>\n<p>Likewise to <span class=\"user-mention silent\" data-user-id=\"125250\">Wesley Wiser</span> , but for me, it's mostly life getting in the way but occasionally other PRs.</p>",
        "id": 218848233,
        "sender_full_name": "davidtwco",
        "timestamp": 1607096198
    },
    {
        "content": "<p>but ok I see we're talking more about <em>distractions</em>...</p>",
        "id": 218848298,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096230
    },
    {
        "content": "<p>I feel like having a dedicated working group is certainly a start</p>",
        "id": 218848387,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096272
    },
    {
        "content": "<p>I've not been following along but how much of a \"roadmap\" does the working group have?</p>",
        "id": 218848413,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096283
    },
    {
        "content": "<p>(no judgement any which way)</p>",
        "id": 218848465,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096291
    },
    {
        "content": "<p>mmm, I don't think we have a roadmap</p>",
        "id": 218848471,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096295
    },
    {
        "content": "<p>more a set of tasks that we're all working on</p>",
        "id": 218848490,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096308
    },
    {
        "content": "<p>and checking in with eachother about</p>",
        "id": 218848504,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096314
    },
    {
        "content": "<p>what sort of tasks?</p>",
        "id": 218848523,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096323
    },
    {
        "content": "<p>and triaging the archive of issues</p>",
        "id": 218848525,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096324
    },
    {
        "content": "<p>(like, specific issues?)</p>",
        "id": 218848593,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096352
    },
    {
        "content": "<p>/me pulls up notes from last meeting</p>",
        "id": 218848653,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096375
    },
    {
        "content": "<p>specific features</p>",
        "id": 218848703,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096394
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218848523\">said</a>:</p>\n<blockquote>\n<p>what sort of tasks?</p>\n</blockquote>\n<p>I suppose this is the time to post this since that's what I'm working on:</p>\n<blockquote>\n<p>Don't want to derail the discussion too much - not sure if the discussion is intended to be focused on \"should this be the goal\" or \"how can we achieve this goal\", but as an intermediate goal:</p>\n<p>We could consider turning on Split DWARF for rustc by default too - might help cut down on link times. I've been intending to do this once Split DWARF lands and gets into the bootstrap compiler.</p>\n</blockquote>",
        "id": 218848789,
        "sender_full_name": "davidtwco",
        "timestamp": 1607096421
    },
    {
        "content": "<p>(like, <span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> has been working on PR <a href=\"https://github.com/rust-lang/rust/issues/76896\">#76896</a> for a while, whch avoids making local copies fo inline fns in debug mode)</p>",
        "id": 218848799,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096427
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218848653\">said</a>:</p>\n<blockquote>\n<p>/me pulls up notes from last meeting</p>\n</blockquote>\n<p>Those notes, for those who are interested: <a href=\"https://hackmd.io/WCuUWLCAQ2WTjUQyZeSCgg\">https://hackmd.io/WCuUWLCAQ2WTjUQyZeSCgg</a></p>",
        "id": 218848931,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096483
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218848799\">said</a>:</p>\n<blockquote>\n<p>(like, <span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> has been working on PR <a href=\"https://github.com/rust-lang/rust/issues/76896\">#76896</a> for a while, whch avoids making local copies fo inline fns in debug mode)</p>\n</blockquote>\n<p>well I'm not really working on that, just did the PR and failed on CI and didn't have time to repro it</p>",
        "id": 218848959,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1607096494
    },
    {
        "content": "<p>:)</p>",
        "id": 218848976,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096501
    },
    {
        "content": "<p>Yep, I think split dwarf and other measures that we may not be able to stabilize but can definitely turn on for local compiles is absolutely in scope</p>",
        "id": 218848997,
        "sender_full_name": "simulacrum",
        "timestamp": 1607096508
    },
    {
        "content": "<p>You were the lucky one with the first item on those notes</p>",
        "id": 218849000,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096509
    },
    {
        "content": "<p>But the point is</p>",
        "id": 218849082,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096530
    },
    {
        "content": "<p>I think its safe to say we don't have a roadmap</p>",
        "id": 218849093,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096536
    },
    {
        "content": "<p>OK. I guess I'm thinking that there are two basic discussions we could have</p>\n<ul>\n<li>figuring out if there are ways to make more time for people to focus</li>\n<li>looking at what the roadmap / organization of working group should be</li>\n</ul>",
        "id": 218849167,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096567
    },
    {
        "content": "<p>the former seems kind of hard to do, unless it's a matter of rustc-related tasks that we can \"reapportion\"</p>",
        "id": 218849202,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096584
    },
    {
        "content": "<p>it's necessarily going to be kind of personal :)</p>",
        "id": 218849218,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096592
    },
    {
        "content": "<p>maybe s/working group/team, in some sense</p>",
        "id": 218849257,
        "sender_full_name": "simulacrum",
        "timestamp": 1607096614
    },
    {
        "content": "<p>(though I think that it'd be interesting to try and do some 1:1 conversations around this, I've wanted us to get better at mentoring people in these respects, or e.g. in working with employers to get paid time...)</p>",
        "id": 218849279,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096625
    },
    {
        "content": "<p>e.g. I think there's a big question of \"Can compiler team <em>as a whole</em> roadmap productively?\"</p>",
        "id": 218849293,
        "sender_full_name": "simulacrum",
        "timestamp": 1607096636
    },
    {
        "content": "<p>mm, well, I debated the choice of words though</p>",
        "id": 218849300,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096640
    },
    {
        "content": "<p>(I don't know)</p>",
        "id": 218849361,
        "sender_full_name": "simulacrum",
        "timestamp": 1607096655
    },
    {
        "content": "<p>we're at the 45 min mark</p>",
        "id": 218849400,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096669
    },
    {
        "content": "<p>and</p>",
        "id": 218849409,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096671
    },
    {
        "content": "<p>my hunch is that it's better to talk about <em>wg</em> but there is a good question of managing the set of wgs and relative priorities</p>",
        "id": 218849412,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096672
    },
    {
        "content": "<p>Changes from <a href=\"https://github.com/rust-lang/rust/pull/77307\">#77307</a> also looked quite promising in terms of bootstrap times.</p>",
        "id": 218849414,
        "sender_full_name": "tm",
        "timestamp": 1607096673
    },
    {
        "content": "<p>WhileI think there's useful stuff to talk about w.r.t. incr-comp</p>",
        "id": 218849429,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096679
    },
    {
        "content": "<p>there is also the other bullet that <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> put on here</p>",
        "id": 218849438,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096687
    },
    {
        "content": "<blockquote>\n<p>Contributors aiming to edit specific components (rustdoc, test suite, standard library) can build just those components, at the cost of some network usage.</p>\n</blockquote>",
        "id": 218849481,
        "sender_full_name": "simulacrum",
        "timestamp": 1607096711
    },
    {
        "content": "<p>This is sort of \"just\" rustbuild</p>",
        "id": 218849521,
        "sender_full_name": "simulacrum",
        "timestamp": 1607096722
    },
    {
        "content": "<p>/me contemplates a rebranding frm \"incremental wg\" to \"project fast bootstrap\"</p>",
        "id": 218849595,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096752
    },
    {
        "content": "<p>but it kinda gets into our guarantees around ABI etc, I've long wanted to sit down with someone and work out exactly what we need for reliable linkage and such</p>",
        "id": 218849599,
        "sender_full_name": "simulacrum",
        "timestamp": 1607096754
    },
    {
        "content": "<p>(I would like that very much)</p>",
        "id": 218849687,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096777
    },
    {
        "content": "<p>to the point, I'd like us to have a way to signal when an ABI-breaking change occurs and track that</p>",
        "id": 218849722,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096795
    },
    {
        "content": "<p>but it is tricky</p>",
        "id": 218849728,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096798
    },
    {
        "content": "<p>it's not something the compiler can do alone, changes to stdlib etc apply too</p>",
        "id": 218849747,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096806
    },
    {
        "content": "<p>yep</p>",
        "id": 218849766,
        "sender_full_name": "simulacrum",
        "timestamp": 1607096815
    },
    {
        "content": "<p>but such changes are still rare, right?</p>",
        "id": 218849791,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096829
    },
    {
        "content": "<p>I don't know</p>",
        "id": 218849802,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096835
    },
    {
        "content": "<p>e.g., adding a field to some stdlib struct?</p>",
        "id": 218849810,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096839
    },
    {
        "content": "<p>I would like to also consider e.g. matklad's musings on whether std and rustc need such a tight coupling</p>",
        "id": 218849831,
        "sender_full_name": "simulacrum",
        "timestamp": 1607096845
    },
    {
        "content": "<p>probably occurs in every release right now, though not every nightly</p>",
        "id": 218849838,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096850
    },
    {
        "content": "<p>I  would think the problem is tracking them. But your point is that maybe they are also happening too often?</p>",
        "id": 218849868,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096860
    },
    {
        "content": "<p>but yeah, also: I wouldn't be surprised if its every release.</p>",
        "id": 218849896,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096873
    },
    {
        "content": "<p>but I also would think that from nightly-to-nightly its often fine</p>",
        "id": 218849969,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096890
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218849293\">said</a>:</p>\n<blockquote>\n<p>e.g. I think there's a big question of \"Can compiler team <em>as a whole</em> roadmap productively?\"</p>\n</blockquote>\n<p>so to this point, one thing we could be talking about is whether we can recruit more people (and broader mindset) to \"incremental wg / project fast bootstrap\", I guess</p>",
        "id": 218850048,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096921
    },
    {
        "content": "<p>right, yes, that would seem potentially beneficial</p>",
        "id": 218850070,
        "sender_full_name": "simulacrum",
        "timestamp": 1607096936
    },
    {
        "content": "<p>specifically more compiler team contributors, probably, though I think it's good to think about new folks</p>",
        "id": 218850102,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607096948
    },
    {
        "content": "<p>e.g. I could imagine that we say that work on non-incr/bootstrap speed is going to be deprioritized in review queues, though that may be stronger than we want</p>",
        "id": 218850150,
        "sender_full_name": "simulacrum",
        "timestamp": 1607096967
    },
    {
        "content": "<p>a mix would be good</p>",
        "id": 218850152,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607096968
    },
    {
        "content": "<p>I would very much like it if we were able to fulfill the vision of having the compiler team manage its set of active projects (with perhaps the expectation that compiler team contributors get involved in <em>some</em> active project etc)</p>",
        "id": 218850284,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097012
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218850150\">said</a>:</p>\n<blockquote>\n<p>e.g. I could imagine that we say that work on non-incr/bootstrap speed is going to be deprioritized in review queues, though that may be stronger than we want</p>\n</blockquote>\n<p>this is interesting. I wouldn't want to deprioritize for a whole year</p>",
        "id": 218850294,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097018
    },
    {
        "content": "<p>but for a month?</p>",
        "id": 218850307,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097025
    },
    {
        "content": "<p>could be very interesting</p>",
        "id": 218850316,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097028
    },
    {
        "content": "<p>I don't think that this should be the <em>only</em> project (e.g., I intend to keep pushing on RFC 2229, chalk integration), but I do think it is an important one</p>",
        "id": 218850328,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097036
    },
    {
        "content": "<p>I'm mostly thinking that if we dropped a bunch of other stuff for a month, how much could we improve the cycle time for compiler dev</p>",
        "id": 218850384,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097065
    },
    {
        "content": "<p>in a month</p>",
        "id": 218850393,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097070
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218850150\">said</a>:</p>\n<blockquote>\n<p>e.g. I could imagine that we say that work on non-incr/bootstrap speed is going to be deprioritized in review queues, though that may be stronger than we want</p>\n</blockquote>\n<p>I would .. hmm. I wouldn't put it like this, but I do think that thinking about review speed and tying to active projects etc is a good idea.</p>",
        "id": 218850396,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097071
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> I do think that <strong>sprints</strong> are a great way to build momentum</p>",
        "id": 218850443,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097098
    },
    {
        "content": "<p>though people mean many different things when they say sprints</p>",
        "id": 218850458,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097106
    },
    {
        "content": "<p>one thing we've done in polonius wg from time to time that I found super helpful was</p>",
        "id": 218850478,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097114
    },
    {
        "content": "<p>scheduling a week</p>",
        "id": 218850486,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097117
    },
    {
        "content": "<p>right -- in some sense, e.g., if we can expect say a 25% improvement from a month's time of \"all hands on deck\" then we absolutely should do that in jan/feb, right?</p>",
        "id": 218850493,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097121
    },
    {
        "content": "<p>where we all cleared our calendars</p>",
        "id": 218850531,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097124
    },
    {
        "content": "<p>and put in like 4 hours each morning</p>",
        "id": 218850547,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097131
    },
    {
        "content": "<p>that sounds nice</p>",
        "id": 218850600,
        "sender_full_name": "mw",
        "timestamp": 1607097157
    },
    {
        "content": "<p>I suspect that a full month may be too tall of an ask, but that we might be able to manage a push for 1 week (which generates follow-up items that are then prioritized somewhat less so over the next 3 weeks)</p>",
        "id": 218850610,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097164
    },
    {
        "content": "<p>yeah I think that makes sense too</p>",
        "id": 218850633,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097177
    },
    {
        "content": "<p>if we synchronzied it right</p>",
        "id": 218850671,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097195
    },
    {
        "content": "<p>so that its a week of hacking</p>",
        "id": 218850680,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097198
    },
    {
        "content": "<p>I think it'd be great  to try to figure out those week sprints perhaps at our planning meetings?</p>",
        "id": 218850692,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097204
    },
    {
        "content": "<p>followed by one or more weeks of review/polish</p>",
        "id": 218850704,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097209
    },
    {
        "content": "<p>so lets try to work out what the concrete outcomes here are</p>",
        "id": 218850875,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097270
    },
    {
        "content": "<p>I think that's a really great idea and I would definitely be willing to block off time for that. A whole month would probably be difficult but I could certainly do a week.</p>",
        "id": 218850881,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1607097272
    },
    {
        "content": "<p>I want to first double-check about the linkage stuff for just building individual components</p>",
        "id": 218850971,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097305
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> it sounds like there's more research that would need to be done here, right?</p>",
        "id": 218851007,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097322
    },
    {
        "content": "<p>sort of -- I think probably a 1:1 session to talk through some things might even be enough</p>",
        "id": 218851065,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097345
    },
    {
        "content": "<p>okay. I'd like to have it in scope for 2021.</p>",
        "id": 218851108,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097360
    },
    {
        "content": "<p>mostly again needs a block out of time :)</p>",
        "id": 218851118,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097362
    },
    {
        "content": "<p>but I'd also like to figure out <em>when</em> that discussion should happen, roughly</p>",
        "id": 218851179,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097377
    },
    {
        "content": "<p>e.g. do we table it until later, like March or April</p>",
        "id": 218851216,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097392
    },
    {
        "content": "<p>I think I cannot commit to more until January</p>",
        "id": 218851223,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097397
    },
    {
        "content": "<p>so that we can focus on the stuff for first bullet until then</p>",
        "id": 218851246,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097402
    },
    {
        "content": "<p>I expect this to happen in parallel, roughly</p>",
        "id": 218851274,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097412
    },
    {
        "content": "<p>In my head, this whole conversation is <em>about</em> January</p>",
        "id": 218851286,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097417
    },
    {
        "content": "<p>incremental is sort of \"in component\"</p>",
        "id": 218851294,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097421
    },
    {
        "content": "<p>mmm</p>",
        "id": 218851318,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097429
    },
    {
        "content": "<p>I don't know if there's a benefit to doing them in parallel?</p>",
        "id": 218851330,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097437
    },
    {
        "content": "<p>hm not sure I follow</p>",
        "id": 218851368,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097452
    },
    {
        "content": "<p>If we want to see a payoff for the time invested within next year, it would be better to do it earlier in the year. So I would advocate for January or possibly February instead of March or April.</p>",
        "id": 218851374,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1607097453
    },
    {
        "content": "<p>Well, if we had infinite dev resources</p>",
        "id": 218851393,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097460
    },
    {
        "content": "<p>Yeah, I think earlier is better than later</p>",
        "id": 218851395,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097462
    },
    {
        "content": "<p>then doing them in parallel would make perfect sense</p>",
        "id": 218851409,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097467
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218851286\">said</a>:</p>\n<blockquote>\n<p>In my head, this whole conversation is <em>about</em> January</p>\n</blockquote>\n<p>definitely not December :)</p>",
        "id": 218851412,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097467
    },
    {
        "content": "<p>but we don't</p>",
        "id": 218851418,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097469
    },
    {
        "content": "<p>but I agree that they don't <em>need</em> to happen in parallel</p>",
        "id": 218851421,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097470
    },
    {
        "content": "<p>and given the resources we do have</p>",
        "id": 218851450,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097479
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125250\">Wesley Wiser</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218850881\">said</a>:</p>\n<blockquote>\n<p>I think that's a really great idea and I would definitely be willing to block off time for that. A whole month would probably be difficult but I could certainly do a week.</p>\n</blockquote>\n<p>Ps, this is why in polonius we do a week, much easier for folks who are not full time :)</p>",
        "id": 218851513,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097489
    },
    {
        "content": "<p>I think it will be better for groups to focus on one bullet or the other</p>",
        "id": 218851528,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097494
    },
    {
        "content": "<p>I could see e.g. focusing on the separate components in January and incr in Feb</p>",
        "id": 218851570,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097511
    },
    {
        "content": "<p>interesting</p>",
        "id": 218851591,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097517
    },
    {
        "content": "<p>(Idea:</p>",
        "id": 218851615,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097525
    },
    {
        "content": "<p>We could make this a regular compiler team thing?</p>",
        "id": 218851637,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097532
    },
    {
        "content": "<p>you think we'll get more payoff from doing separate components first?</p>",
        "id": 218851640,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097533
    },
    {
        "content": "<p>I think so yes</p>",
        "id": 218851668,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097542
    },
    {
        "content": "<p>I'm contemplating like \"first week of every month is hack week, where the team as a whole picks a project\"</p>",
        "id": 218851670,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097543
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> you mean sprints?</p>",
        "id": 218851678,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097545
    },
    {
        "content": "<p>the other 3 weeks are your own ;)</p>",
        "id": 218851696,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097551
    },
    {
        "content": "<p>that's interesting</p>",
        "id": 218851718,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097559
    },
    {
        "content": "<p>that's probably too ambitious but maybe a mildly scaled back version</p>",
        "id": 218851731,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097564
    },
    {
        "content": "<p>e.g., we have some such weeks</p>",
        "id": 218851737,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097568
    },
    {
        "content": "<p>separate components already cuts build times strongly for a good portion of people (e.g., a rustdoc dev only changing rustdoc)</p>",
        "id": 218851767,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097580
    },
    {
        "content": "<p>this is all intermixed with our schedules for design meetings and what not</p>",
        "id": 218851793,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097590
    },
    {
        "content": "<p>and incremental <em>sort of</em> only matters for compiler devs (obviously important)</p>",
        "id": 218851802,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097592
    },
    {
        "content": "<p>e.g. if you change a crate that has a &lt;1 minute rebuild time from clean, then incremental isn't going to be a huge win I imagine</p>",
        "id": 218851914,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097624
    },
    {
        "content": "<p>I don't know</p>",
        "id": 218851932,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097632
    },
    {
        "content": "<p>7 seconds vs 14 is big to me</p>",
        "id": 218851944,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097638
    },
    {
        "content": "<p>whereas if we can get a compiler rebuild from 5 minutes to 1 minute, that seems big</p>",
        "id": 218851948,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097638
    },
    {
        "content": "<p>anyway</p>",
        "id": 218852025,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097666
    },
    {
        "content": "<p>we're over time</p>",
        "id": 218852036,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097672
    },
    {
        "content": "<p>and we haven't actually made a concrete plan</p>",
        "id": 218852052,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097679
    },
    {
        "content": "<p>I like Niko's idea of sprint weeks, maybe scheduled at planning meetings</p>",
        "id": 218852088,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097696
    },
    {
        "content": "<p>but it sounds like <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> is optimistic that we could see real progress in January on the indivdual component builds</p>",
        "id": 218852122,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097709
    },
    {
        "content": "<p>if we focus on it.</p>",
        "id": 218852129,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097711
    },
    {
        "content": "<p>right?</p>",
        "id": 218852133,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097712
    },
    {
        "content": "<p>yes</p>",
        "id": 218852143,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097715
    },
    {
        "content": "<p>okay.</p>",
        "id": 218852198,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097724
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218852088\">said</a>:</p>\n<blockquote>\n<p>I like Niko's idea of sprint weeks, maybe scheduled at planning meetings</p>\n</blockquote>\n<p>yeah i'm into this idea, I think monthly is too much, but maybe every 2 months, or quarterly, or something</p>",
        "id": 218852233,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097732
    },
    {
        "content": "<p>as in 1 sprint/month is too frequent?</p>",
        "id": 218852279,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097748
    },
    {
        "content": "<p>if we're going to do it, I think they should be scheduled at fixed times, like our meeting slots, so people can play way ahead</p>",
        "id": 218852293,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097756
    },
    {
        "content": "<p>or <em>planning</em> them each month is too frequent?</p>",
        "id": 218852305,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097761
    },
    {
        "content": "<p>maybe, maybe not</p>",
        "id": 218852308,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097762
    },
    {
        "content": "<p>I was thinking holding them would be too much but I could be persuaded otherwise</p>",
        "id": 218852334,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097775
    },
    {
        "content": "<p>one thing I will add:</p>",
        "id": 218852363,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097785
    },
    {
        "content": "<p>I think good outcome right now is to plan to plan at the next planning meeting</p>",
        "id": 218852370,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097787
    },
    {
        "content": "<p>I know that many employers give 20% time and they are happy for people to 'save it' and use it in a block</p>",
        "id": 218852396,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097795
    },
    {
        "content": "<p>so e.g. I've talked to employers who say that they'd be happy to have people spend 1 week / month on open source</p>",
        "id": 218852420,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097807
    },
    {
        "content": "<p>or no, wait</p>",
        "id": 218852425,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097808
    },
    {
        "content": "<p>we don't have a planning meeting in decebmer</p>",
        "id": 218852440,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097815
    },
    {
        "content": "<p>we cancelled it yesterday</p>",
        "id": 218852452,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097818
    },
    {
        "content": "<p><span aria-label=\"lol\" class=\"emoji emoji-1f606\" role=\"img\" title=\"lol\">:lol:</span></p>",
        "id": 218852460,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097822
    },
    {
        "content": "<p>lol</p>",
        "id": 218852480,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097830
    },
    {
        "content": "<p>okay</p>",
        "id": 218852522,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097842
    },
    {
        "content": "<p>um</p>",
        "id": 218852524,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097842
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218852420\">said</a>:</p>\n<blockquote>\n<p>so e.g. I've talked to employers who say that they'd be happy to have people spend 1 week / month on open source</p>\n</blockquote>\n<p>some kind of sprint-like structure could really optimize for this :)</p>",
        "id": 218852543,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097844
    },
    {
        "content": "<p>we'll make a concrete plan at some point this month</p>",
        "id": 218852583,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097852
    },
    {
        "content": "<p>I think we can maybe just, uh, schedule last week of Jan or something</p>",
        "id": 218852595,
        "sender_full_name": "simulacrum",
        "timestamp": 1607097857
    },
    {
        "content": "<p>for when we will focus on each of these two bullets</p>",
        "id": 218852604,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097860
    },
    {
        "content": "<p>yeah</p>",
        "id": 218852605,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097860
    },
    {
        "content": "<p>it won't take long to decide</p>",
        "id": 218852612,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097865
    },
    {
        "content": "<p>I think it should be a schedule like \"last week of every month\" except Dec</p>",
        "id": 218852634,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097881
    },
    {
        "content": "<p>either at a triage meeting or at one of the friday meetings</p>",
        "id": 218852637,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097883
    },
    {
        "content": "<p>but we can start with Jan :)</p>",
        "id": 218852658,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097890
    },
    {
        "content": "<p>ideally we'd have people sign up, and we would obviously not expect 100% participation</p>",
        "id": 218852706,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097915
    },
    {
        "content": "<p>anyway I'm getting ahead of myself but I'm excited :)</p>",
        "id": 218852720,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097921
    },
    {
        "content": "<p>/me wonders why \"last week of month\" is better than \"first week of month\"</p>",
        "id": 218852723,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097922
    },
    {
        "content": "<p>it doesn't matter, but first week of jan is bad :)</p>",
        "id": 218852752,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097934
    },
    {
        "content": "<p>well, this Jan anyway</p>",
        "id": 218852762,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097938
    },
    {
        "content": "<p>clearly \"second week of month\" is the ideal compromise</p>",
        "id": 218852764,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097939
    },
    {
        "content": "<p>sure, but you've already said we'd cancel last week of december</p>",
        "id": 218852797,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097950
    },
    {
        "content": "<p>last week may be bad because of how the human brain works</p>",
        "id": 218852807,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097954
    },
    {
        "content": "<p>in particular:</p>",
        "id": 218852822,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097960
    },
    {
        "content": "<p>I would like to suggest that we try to do the planning for the sprint at least 2 weeks in advance. That way, if need be, we can use up to two Friday meetings to finalize the details. I think going into the week with things still undecided would likely hurt productivity a lot.</p>",
        "id": 218852833,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1607097963
    },
    {
        "content": "<p>actually i'm now wondering if 2nd week of month <strong>is</strong> ideal</p>",
        "id": 218852869,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607097966
    },
    {
        "content": "<p>I can imagine people have something due in February (or whatever)</p>",
        "id": 218852872,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097966
    },
    {
        "content": "<p>and they have to cancel sprint to finish it</p>",
        "id": 218852887,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097970
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125250\">Wesley Wiser</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218852833\">said</a>:</p>\n<blockquote>\n<p>I would like to suggest that we try to do the planning for the sprint at least 2 weeks in advance. That way, if need be, we can use up to two Friday meetings to finalize the details. I think going into the week with things still undecided would likely hurt productivity a lot.</p>\n</blockquote>\n<p>yes, this was a thought I had about last week</p>",
        "id": 218852920,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097983
    },
    {
        "content": "<p>i.e., that gives you time in that month to plan</p>",
        "id": 218852933,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097992
    },
    {
        "content": "<p>clearly <em>3rd</em> week is ideal :)</p>",
        "id": 218852943,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607097997
    },
    {
        "content": "<p>I see</p>",
        "id": 218852948,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607098000
    },
    {
        "content": "<p>Okay then maybe 3rd week of month</p>",
        "id": 218852962,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607098006
    },
    {
        "content": "<p>heh</p>",
        "id": 218852972,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607098008
    },
    {
        "content": "<p>you start planning or the Jan sprint in Jan</p>",
        "id": 218852985,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607098012
    },
    {
        "content": "<p>people will definitely fail to plan to Feb sprint in Jan</p>",
        "id": 218852999,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607098019
    },
    {
        "content": "<p>etc</p>",
        "id": 218853003,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607098021
    },
    {
        "content": "<p>s/people/Niko/</p>",
        "id": 218853012,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607098026
    },
    {
        "content": "<p>ok I have to go :)</p>",
        "id": 218853033,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1607098035
    },
    {
        "content": "<p>alright. we'll finalize all this later</p>",
        "id": 218853037,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607098037
    },
    {
        "content": "<p>thanks to everyone in <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span> for attending!!!</p>",
        "id": 218853049,
        "sender_full_name": "pnkfelix",
        "timestamp": 1607098045
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218849521\">said</a>:</p>\n<blockquote>\n<p>This is sort of \"just\" rustbuild</p>\n</blockquote>\n<p>well, for tools specifically I think it would be a giant boost not to have to require building rustc first, cc <a href=\"https://github.com/rust-lang/rust/pull/79540\">https://github.com/rust-lang/rust/pull/79540</a></p>",
        "id": 218855856,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1607099277
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218851767\">said</a>:</p>\n<blockquote>\n<p>separate components already cuts build times strongly for a good portion of people (e.g., a rustdoc dev only changing rustdoc)</p>\n</blockquote>\n<p>oh oops I didn't read far enough <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 218856239,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1607099431
    },
    {
        "content": "<p>another thing is that the conversation has focused really strongly on incremental builds - which definitely do matter - but not talked much about full/first-time builds</p>",
        "id": 218856627,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1607099606
    },
    {
        "content": "<p>for rustdoc specifically I guess that will matter less once rustc is downloaded from CI</p>",
        "id": 218856735,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1607099646
    },
    {
        "content": "<p>but in general I think it's an area we should work on, and it would help incremental builds too</p>",
        "id": 218856788,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1607099671
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.20meeting.5D.202020-12-04.20--.20Performance.20Goals.20for.202020/near/218849722\">said</a>:</p>\n<blockquote>\n<p>to the point, I'd like us to have a way to signal when an ABI-breaking change occurs and track that</p>\n</blockquote>\n<p>this would be amazing <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span> I really hate having to tell people \"sometimes incremental just breaks when bootstrapping\"</p>",
        "id": 218858098,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1607100229
    }
]