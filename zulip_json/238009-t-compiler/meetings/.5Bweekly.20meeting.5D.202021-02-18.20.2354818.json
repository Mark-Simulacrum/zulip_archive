[
    {
        "content": "<p>Hi <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span>; the triage meeting will happen in about 1h15<br>\n<em>WG-prioritization</em> has done pre-triage in <a class=\"stream\" data-stream-id=\"245100\" href=\"/#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts\">#t-compiler/wg-prioritization/alerts</a> and prepared the <a href=\"https://hackmd.io/deNj8imkTaSwe4MloUeZDw?view\">meeting agenda</a></p>\n<p>We will have checkins from:</p>\n<ul>\n<li>@_<em>WG-mir-opt</em>  checkin by <span class=\"user-mention\" data-user-id=\"124288\">@oli</span> </li>\n<li>@_<em>WG-polonius</em>  checkin by <span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> and <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span></li>\n</ul>",
        "id": 226811531,
        "sender_full_name": "apiraino",
        "timestamp": 1613656072
    },
    {
        "content": "<p>Hi <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span> ! The Thursday triage meeting is starting now. Add a <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span> to say hello (and show you're here).</p>",
        "id": 226822702,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660469
    },
    {
        "content": "<p>quick question, if I wanted to nominate a PR of mine for quick discussion, the label isn't enough right? do I have to/should I edit the agenda?</p>",
        "id": 226822705,
        "sender_full_name": "eddyb",
        "timestamp": 1613660470
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> the nomination would be sufficient for getting it into the agenda <em>eventually</em></p>",
        "id": 226822790,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660497
    },
    {
        "content": "<p>(not really discussion, more of a heads-up/checking if anyone strongly prefers/depends on the old behavior)</p>",
        "id": 226822794,
        "sender_full_name": "eddyb",
        "timestamp": 1613660500
    },
    {
        "content": "<p>but if you want it today, you should add the label <em>and</em> put it on the agenda.</p>",
        "id": 226822847,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660518
    },
    {
        "content": "<p>thanks!</p>",
        "id": 226822907,
        "sender_full_name": "eddyb",
        "timestamp": 1613660526
    },
    {
        "content": "<p>So, lets spent 8-10 minutes on </p>\n<h2>Announcements</h2>",
        "id": 226822983,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660553
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"119009\">eddyb</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-02-18.20.2354818/near/226822794\">said</a>:</p>\n<blockquote>\n<p>(not really discussion, more of a heads-up/checking if anyone strongly prefers/depends on the old behavior)</p>\n</blockquote>\n<p>You could also just mention in the announcements section if you just want to let people know about it.</p>",
        "id": 226822993,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1613660557
    },
    {
        "content": "<p>That's right, you can just say it <em>now</em>, <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> :)</p>",
        "id": 226823037,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660574
    },
    {
        "content": "<ul>\n<li>We have no steering meeting tomorrow (Friday). We spent last week's planning meeting doing ad-hoc planning for the March sprint.</li>\n</ul>",
        "id": 226823102,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660594
    },
    {
        "content": "<p>alright, that's easier:</p>\n<ul>\n<li>Print -Ztime-passes (and misc stats/logs) on stderr, not stdout. <a href=\"https://github.com/rust-lang/rust/issues/82256\">#82256</a></li>\n</ul>",
        "id": 226823151,
        "sender_full_name": "eddyb",
        "timestamp": 1613660610
    },
    {
        "content": "<ul>\n<li>pnkfelix drafted a <a href=\"https://github.com/rust-lang/blog.rust-lang.org/pull/782\">blog post</a> announcing the March sprint. He hopes to publish tonight; if you want to chime in, throw a comment up on linked draft.</li>\n</ul>",
        "id": 226823154,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660612
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"119009\">eddyb</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-02-18.20.2354818/near/226823151\">said</a>:</p>\n<blockquote>\n<ul>\n<li>Print -Ztime-passes (and misc stats/logs) on stderr, not stdout. <a href=\"https://github.com/rust-lang/rust/issues/82256\">#82256</a></li>\n</ul>\n</blockquote>\n<p>I think keeping logging-like output on stderr makes more sense, but maybe people have opinions?</p>",
        "id": 226823300,
        "sender_full_name": "eddyb",
        "timestamp": 1613660654
    },
    {
        "content": "<p>(<span class=\"user-mention\" data-user-id=\"124288\">@oli</span> suggested I bring it up)</p>",
        "id": 226823324,
        "sender_full_name": "eddyb",
        "timestamp": 1613660662
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"119009\">eddyb</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-02-18.20.2354818/near/226823151\">said</a>:</p>\n<blockquote>\n<p>alright, that's easier:</p>\n<ul>\n<li>Print -Ztime-passes (and misc stats/logs) on stderr, not stdout. <a href=\"https://github.com/rust-lang/rust/issues/82256\">#82256</a></li>\n</ul>\n</blockquote>\n<p>anyone up for a religious war about stdout vs stderr?</p>",
        "id": 226823343,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660668
    },
    {
        "content": "<p>I think it's just good to get everyone informed, it doesn't need a discussion I think</p>",
        "id": 226823399,
        "sender_full_name": "oli",
        "timestamp": 1613660693
    },
    {
        "content": "<p>so if someone's workflow/scripts break, they know why</p>",
        "id": 226823454,
        "sender_full_name": "oli",
        "timestamp": 1613660715
    },
    {
        "content": "<p>its sort of a shame that we've ended up in a two-party system where you have to choose between just those</p>",
        "id": 226823457,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660718
    },
    {
        "content": "<p>where's the green party of I/O ?</p>",
        "id": 226823502,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660734
    },
    {
        "content": "<p>dtrace</p>",
        "id": 226823525,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1613660741
    },
    {
        "content": "<p>you can always just write random files in the current working dir,</p>",
        "id": 226823559,
        "sender_full_name": "eddyb",
        "timestamp": 1613660756
    },
    {
        "content": "<p>That sounds like the anarchist party :p</p>",
        "id": 226823627,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1613660769
    },
    {
        "content": "<p>(and then that working dir ends up being inside <code>~/.cargo/cache</code>)</p>",
        "id": 226823640,
        "sender_full_name": "eddyb",
        "timestamp": 1613660774
    },
    {
        "content": "<p>anyway, I think I agree with <span class=\"user-mention\" data-user-id=\"124288\">@oli</span>  here</p>",
        "id": 226823722,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660806
    },
    {
        "content": "<p>anyway don't mean to derail anything, hope that was enough <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 226823763,
        "sender_full_name": "eddyb",
        "timestamp": 1613660820
    },
    {
        "content": "<p><span aria-label=\"ship\" class=\"emoji emoji-1f6a2\" role=\"img\" title=\"ship\">:ship:</span> it</p>",
        "id": 226823780,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1613660827
    },
    {
        "content": "<p>next up</p>",
        "id": 226823796,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660832
    },
    {
        "content": "<h3>MCP/FCP status</h3>",
        "id": 226823817,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660843
    },
    {
        "content": "<ul>\n<li>New MCPs (take a look, see if you like them!)<ul>\n<li>\"Never Rollup When Changing the <code>compiler</code> Directory\" <a href=\"https://github.com/rust-lang/compiler-team/issues/407\">compiler-team#407</a></li>\n</ul>\n</li>\n</ul>",
        "id": 226823837,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660854
    },
    {
        "content": "<ul>\n<li>Old MCPs (not seconded, take a look)<ul>\n<li>\"MCP: More Cranelift-friendly portable SIMD intrinsics\" <a href=\"https://github.com/rust-lang/compiler-team/issues/381\">compiler-team#381</a></li>\n<li>\"Debuggable Macro Expansions\" <a href=\"https://github.com/rust-lang/compiler-team/issues/386\">compiler-team#386</a></li>\n<li>\"Move query implementation outside rustc_middle\" <a href=\"https://github.com/rust-lang/compiler-team/issues/388\">compiler-team#388</a></li>\n<li>\"Uplift the <code>invalid_atomic_ordering</code> lint from clippy to rustc\" <a href=\"https://github.com/rust-lang/compiler-team/issues/390\">compiler-team#390</a></li>\n<li>\"Staged queries\" <a href=\"https://github.com/rust-lang/compiler-team/issues/391\">compiler-team#391</a></li>\n<li>\"Do not traverse the HIR to generate metadata\" <a href=\"https://github.com/rust-lang/compiler-team/issues/392\">compiler-team#392</a></li>\n<li>\"Embed version numbers in backport nominations and regression labels\" <a href=\"https://github.com/rust-lang/compiler-team/issues/393\">compiler-team#393</a></li>\n<li>\"Add different entry points for x.py\" <a href=\"https://github.com/rust-lang/compiler-team/issues/396\">compiler-team#396</a></li>\n<li>\"rustdoc is using rustc_ast_pretty, would it be possible to make it somewhat \"stable\"?\" <a href=\"https://github.com/rust-lang/compiler-team/issues/403\">compiler-team#403</a></li>\n</ul>\n</li>\n</ul>",
        "id": 226823872,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660868
    },
    {
        "content": "<ul>\n<li>Pending FCP requests (check your boxes!)<ul>\n<li>No pending FCP requests this time.</li>\n</ul>\n</li>\n</ul>",
        "id": 226823971,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660900
    },
    {
        "content": "<ul>\n<li>Things in FCP (make sure you're good with it)<ul>\n<li>\"Distribute rustc_codegen_cranelift as rustup component\" <a href=\"https://github.com/rust-lang/compiler-team/issues/405\">compiler-team#405</a></li>\n<li>\"Demote x86_64-rumprun-netbsd target\" <a href=\"https://github.com/rust-lang/rust/issues/81514\">rust#81514</a></li>\n</ul>\n</li>\n</ul>",
        "id": 226823989,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660908
    },
    {
        "content": "<ul>\n<li>Accepted MCPs<ul>\n<li>No new accepted proposals this time.</li>\n</ul>\n</li>\n</ul>",
        "id": 226824003,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660916
    },
    {
        "content": "<ul>\n<li>Finalized FCPs (disposition merge)<ul>\n<li>\"Add an impl of Error on <code>Arc&lt;impl Error&gt;</code>.\" <a href=\"https://github.com/rust-lang/rust/pull/80553\">rust#80553</a></li>\n<li>\"Allow leading | anywhere we allow or-patterns\" <a href=\"https://github.com/rust-lang/rust/issues/81415\">rust#81415</a></li>\n</ul>\n</li>\n</ul>",
        "id": 226824018,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660925
    },
    {
        "content": "<h3>WG checkins</h3>",
        "id": 226824045,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660933
    },
    {
        "content": "<p><span class=\"user-group-mention\" data-user-group-id=\"1162\">@WG-mir-opt</span> checkin by <span class=\"user-mention\" data-user-id=\"124288\">@oli</span>:</p>\n<ul>\n<li>Prevent query cycles in the MIR inliner <a href=\"https://github.com/rust-lang/rust/pull/68828\">https://github.com/rust-lang/rust/pull/68828</a><br>\n    * This is done by finding recursion sites in unoptimized MIR right before the unoptimized MIR body is stolen from its query in order to get optimized. Hopefully this is the last large barrier in enabling MIR inlining by default.</li>\n<li>Duplicate MIR of <code>const fn</code> (one optimized version for runtime and one unoptimized version for CTFE): <a href=\"https://github.com/rust-lang/rust/pull/78407\">https://github.com/rust-lang/rust/pull/78407</a><br>\n    * This allows CTFE to detect more UB (since the UB didn't get optimized away) and generally looks like a good entry point for static analyses that want to consume MIR.</li>\n<li>General trend: some intrinsics are lowered to dedicated MIR statements right after borrowck is done. This makes it easier to write optimizations around these intrinsics and makes it clear that some intrinsics cannot possibly unwind, because MIR statements cannot unwind.</li>\n</ul>",
        "id": 226824061,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613660941
    },
    {
        "content": "<p>/me is reading over <span class=\"user-mention\" data-user-id=\"124288\">@oli</span> 's update and thinking about the lang team meeting yesterday about work with MIR being done by various formal methods people</p>",
        "id": 226824261,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661012
    },
    {
        "content": "<p><span class=\"user-group-mention\" data-user-group-id=\"1184\">@WG-polonius</span> checkin by <span class=\"user-mention\" data-user-id=\"116113\">@lqd</span>:</p>\n<blockquote>\n<p>a small update this time: <br>\n- more work has been done on sharing results between the quick <code>LocationInsensitive</code> pre-pass and the full location-sensitive analysis that follows, to limit the costlier work done in the full analysis by using the information gathered in the pre-pass<br>\n- unfortunately no news on the future sprint yet, or reviews/progress on the already completed work for the sprint that we mentioned at the previous check-in</p>\n</blockquote>",
        "id": 226824302,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661030
    },
    {
        "content": "<p>is <span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> here? Does one actually observe benefits yet from the aforementioned sharing of results?</p>",
        "id": 226824470,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661103
    },
    {
        "content": "<p>I guess I can follow-up with <span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> in person</p>",
        "id": 226824510,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661122
    },
    {
        "content": "<p>here -ish</p>",
        "id": 226824555,
        "sender_full_name": "lqd",
        "timestamp": 1613661125
    },
    {
        "content": "<p>yes we do, mostly in efficiency</p>",
        "id": 226824588,
        "sender_full_name": "lqd",
        "timestamp": 1613661139
    },
    {
        "content": "<p>okay. very cool</p>",
        "id": 226824598,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661143
    },
    {
        "content": "<p>I'll follow-up later</p>",
        "id": 226824609,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661147
    },
    {
        "content": "<p>it cuts on the work to be done drastically -- said work is still very costly don't get me wrong ;)</p>",
        "id": 226824615,
        "sender_full_name": "lqd",
        "timestamp": 1613661149
    },
    {
        "content": "<p>yeah let's</p>",
        "id": 226824622,
        "sender_full_name": "lqd",
        "timestamp": 1613661152
    },
    {
        "content": "<h2>Beta-nominations</h2>\n<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler\">T-compiler</a></p>",
        "id": 226824660,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661172
    },
    {
        "content": "<ul>\n<li>\"Identify unreachable subpatterns more reliably\" <a href=\"https://github.com/rust-lang/rust/pull/80632\">rust#80632</a><ul>\n<li>opened by <span class=\"user-mention\" data-user-id=\"245339\">@Nadrieril</span> </li>\n<li>reviewed by <span class=\"user-mention\" data-user-id=\"121053\">@varkor</span> </li>\n<li>Fixes <a href=\"https://github.com/rust-lang/rust/issues/80501\">rust#80501</a>, a <code>P-medium</code> regression causing a spurious \"unreachable code\" error</li>\n<li><span class=\"user-mention\" data-user-id=\"224872\">@rylev</span> comments on <a href=\"https://github.com/rust-lang/rust/pull/80632#issuecomment-776591352\">a 1% perf loss</a> that the author seems not to be able to reproduce</li>\n</ul>\n</li>\n</ul>",
        "id": 226824687,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661183
    },
    {
        "content": "<p>Clarification: its a spurious \"unreachable code\" <em>lint</em>, not necessarily hard error, right?</p>",
        "id": 226824794,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661222
    },
    {
        "content": "<p>is anyone out there doing <code>#[forbid(unreachable_code)]</code> ?</p>",
        "id": 226824853,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661232
    },
    {
        "content": "<p>My first instinct is to let this one ride the trains. Can someone convince me why it should be backported to beta?</p>",
        "id": 226824986,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661273
    },
    {
        "content": "<p>I think it's too big to backport for the little gain it brings us</p>",
        "id": 226825058,
        "sender_full_name": "oli",
        "timestamp": 1613661304
    },
    {
        "content": "<p>right. In particular, the spurious lints are only happening when there are interactions with macros, right?</p>",
        "id": 226825207,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661351
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-02-18.20.2354818/near/226824794\">said</a>:</p>\n<blockquote>\n<p>Clarification: its a spurious \"unreachable code\" <em>lint</em>, not necessarily hard error, right?</p>\n</blockquote>\n<p>yes, it's a lint, and it doesn't affect codegen, only diagnostics</p>",
        "id": 226825230,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1613661358
    },
    {
        "content": "<p>I nominated b/c it was a stable/stable regression fwiw</p>",
        "id": 226825312,
        "sender_full_name": "simulacrum",
        "timestamp": 1613661379
    },
    {
        "content": "<p>the author didn't know how to nominate, so we missed it before release</p>",
        "id": 226825338,
        "sender_full_name": "simulacrum",
        "timestamp": 1613661392
    },
    {
        "content": "<p>The patch is fairly large even ignoring the test changes and the code is complex. I'd also vote to let this ride the trains.</p>",
        "id": 226825339,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1613661392
    },
    {
        "content": "<p>but I'm happy to let it ride</p>",
        "id": 226825368,
        "sender_full_name": "simulacrum",
        "timestamp": 1613661402
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> sure, I'm fine that it got nominated, its good to discuss these things</p>",
        "id": 226825411,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661423
    },
    {
        "content": "<p>(and I guess you are pointing out that in an ideal world, it would have been nominated well before this hit stable, right?)</p>",
        "id": 226825466,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661445
    },
    {
        "content": "<p>well, yeah, but also just that maybe there's education/tooling work to do</p>",
        "id": 226825546,
        "sender_full_name": "simulacrum",
        "timestamp": 1613661478
    },
    {
        "content": "<p>seems good to teach people how to nominate</p>",
        "id": 226825600,
        "sender_full_name": "simulacrum",
        "timestamp": 1613661485
    },
    {
        "content": "<p>gotcha</p>",
        "id": 226825605,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661488
    },
    {
        "content": "<p>actually that <em>is</em> interesting</p>",
        "id": 226825636,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661501
    },
    {
        "content": "<p>like, the description did link to a ticket that was tagged as a regression</p>",
        "id": 226825665,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661513
    },
    {
        "content": "<p>so presumably a bot could prompt with \"if you would like to nominate for a backport, here's how to do it\", right?</p>",
        "id": 226825690,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661530
    },
    {
        "content": "<p>that would be pretty nifty</p>",
        "id": 226825726,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661546
    },
    {
        "content": "<p>yeah, something like that</p>",
        "id": 226825738,
        "sender_full_name": "simulacrum",
        "timestamp": 1613661550
    },
    {
        "content": "<p>good idea</p>",
        "id": 226825742,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1613661554
    },
    {
        "content": "<p>or... just auto nominate</p>",
        "id": 226825747,
        "sender_full_name": "simulacrum",
        "timestamp": 1613661555
    },
    {
        "content": "<p>too bad I don't know how to implement anything like that</p>",
        "id": 226825752,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661558
    },
    {
        "content": "<p>anyway, food for someone with time :)</p>",
        "id": 226825764,
        "sender_full_name": "simulacrum",
        "timestamp": 1613661567
    },
    {
        "content": "<p>I'll file a triagebot issue</p>",
        "id": 226825785,
        "sender_full_name": "simulacrum",
        "timestamp": 1613661576
    },
    {
        "content": "<p>declining to backport</p>",
        "id": 226825804,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661585
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-libs-impl\">T-libs-impl</a></p>\n<ul>\n<li>No beta nominations for <code>T-libs-impl</code> this time.</li>\n</ul>",
        "id": 226825838,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661594
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc\">T-rustdoc</a></p>\n<ul>\n<li>\"rustdoc: treat edition 2021 as unstable\" <a href=\"https://github.com/rust-lang/rust/pull/82207\">rust#82207</a><ul>\n<li>This ensures that <code>--edition=2021</code> requires <code>-Z unstable-options</code> in rustdoc</li>\n<li>r'ed by <span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span></li>\n</ul>\n</li>\n</ul>",
        "id": 226825850,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661601
    },
    {
        "content": "<p><span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span></p>",
        "id": 226825983,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1613661643
    },
    {
        "content": "<p>what release started accepting <code>--edition=2021</code> ?</p>",
        "id": 226826061,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661673
    },
    {
        "content": "<p>that wasn't phrased well</p>",
        "id": 226826080,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661682
    },
    {
        "content": "<p>Whenever it was first added by <span class=\"user-mention\" data-user-id=\"310399\">@Mara</span> I believe</p>",
        "id": 226826104,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1613661692
    },
    {
        "content": "<p>what I'm trying to ask is: Could this possibly break anything in stable?</p>",
        "id": 226826108,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661692
    },
    {
        "content": "<p>I need to check which version that landed in</p>",
        "id": 226826155,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1613661709
    },
    {
        "content": "<p>I guess maybe it doesn't matter, we probably should backport this as far as it needs to go</p>",
        "id": 226826251,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661734
    },
    {
        "content": "<p>and just accept any fallout</p>",
        "id": 226826259,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661738
    },
    {
        "content": "<p>it's only <em>rustdoc</em> that accepted it, right?</p>",
        "id": 226826346,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1613661781
    },
    {
        "content": "<p>not <em>rustc</em>?</p>",
        "id": 226826353,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1613661784
    },
    {
        "content": "<p>seems pretty unlikely to cause significant fallout</p>",
        "id": 226826375,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1613661792
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/79576\">https://github.com/rust-lang/rust/pull/79576</a> landed in 1.51</p>",
        "id": 226826387,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1613661798
    },
    {
        "content": "<p>well, this code is only changing <code>rustdoc</code></p>",
        "id": 226826395,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661802
    },
    {
        "content": "<p>I don't know what <code>rustc</code> currently does here</p>",
        "id": 226826408,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661807
    },
    {
        "content": "<p>Rustc requires unstable-options</p>",
        "id": 226826449,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1613661825
    },
    {
        "content": "<p>The problem came up because rustdoc was rewriting edition parsing</p>",
        "id": 226826485,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1613661837
    },
    {
        "content": "<p>okay</p>",
        "id": 226826566,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661854
    },
    {
        "content": "<p>(as it has a nasty habit of doing)</p>",
        "id": 226826576,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1613661858
    },
    {
        "content": "<p>this all sounds good then</p>",
        "id": 226826579,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661860
    },
    {
        "content": "<p>I mean, apart from whatever problems we might have with <code>rustdoc</code> divering from <code>rustc</code> in this or other ways</p>",
        "id": 226826623,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661881
    },
    {
        "content": "<p>that's a different topic</p>",
        "id": 226826633,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661886
    },
    {
        "content": "<p>in terms of <em>this PR</em>, sounds like backport approved</p>",
        "id": 226826669,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661906
    },
    {
        "content": "<p>/me glances at <a href=\"https://github.com/rust-lang/rust/issues/75100\">https://github.com/rust-lang/rust/issues/75100</a></p>",
        "id": 226826718,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1613661931
    },
    {
        "content": "<h2>Stable-nominations</h2>\n<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler\">T-compiler</a></p>",
        "id": 226826727,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661937
    },
    {
        "content": "<ul>\n<li>\"Identify unreachable subpatterns more reliably\" <a href=\"https://github.com/rust-lang/rust/pull/80632\">rust#80632</a><ul>\n<li>see beta nomination <span aria-label=\"point up\" class=\"emoji emoji-1f446\" role=\"img\" title=\"point up\">:point_up:</span></li>\n</ul>\n</li>\n</ul>",
        "id": 226826765,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661951
    },
    {
        "content": "<p>we already declined</p>",
        "id": 226826774,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661955
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-libs-impl\">T-libs-impl</a></p>\n<ul>\n<li>No stable nominations for <code>T-libs-impl</code> this time.</li>\n</ul>\n<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc\">T-rustdoc</a></p>\n<ul>\n<li>No stable nominations for <code>T-rustdoc</code> this time.</li>\n</ul>",
        "id": 226826806,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661963
    },
    {
        "content": "<p>workflow Question for you all</p>",
        "id": 226826862,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661975
    },
    {
        "content": "<p>Should we revise things so that we look at each backport nomination</p>",
        "id": 226826895,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661988
    },
    {
        "content": "<p>PR by PR, and consider the beta+stable at the same time</p>",
        "id": 226826915,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613661996
    },
    {
        "content": "<p>rather than doing all the betas, and then the stables, and thus often post the same PR twice, sometimes after its left our L1 brain cache?</p>",
        "id": 226826964,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662024
    },
    {
        "content": "<p>it always seems a bit silly to hit the same PR twice</p>",
        "id": 226827017,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1613662044
    },
    {
        "content": "<p>historically we had so many things to get through, it was more important to me to ensure that we addressed all the betas</p>",
        "id": 226827025,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662048
    },
    {
        "content": "<p>I feel like that's how we often work <em>in practice</em> so adjusting the agenda to reflect that makes sense to me.</p>",
        "id": 226827036,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1613662055
    },
    {
        "content": "<p>we can still do that</p>",
        "id": 226827043,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1613662058
    },
    {
        "content": "<p>and thus I thought it was better to put off the stable backport list</p>",
        "id": 226827047,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662059
    },
    {
        "content": "<p>like, we can sort the betas first</p>",
        "id": 226827059,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1613662063
    },
    {
        "content": "<p>now i'm searching for the right emojis to indicate \"backport to beta\" vs \"backport to stable\"</p>",
        "id": 226827119,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1613662084
    },
    {
        "content": "<p>why is there no β emoji :P</p>",
        "id": 226827158,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1613662092
    },
    {
        "content": "<p>/me focuses on the important problems</p>",
        "id": 226827203,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1613662112
    },
    {
        "content": "<p>okay. I'll try to follow up with <span class=\"user-mention\" data-user-id=\"250987\">@apiraino</span> and <span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> about revising the agenda template and construction docs accordingly.</p>",
        "id": 226827209,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662115
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-02-18.20.2354818/near/226826915\">said</a>:</p>\n<blockquote>\n<p>PR by PR, and consider the beta+stable at the same time</p>\n</blockquote>\n<p>ok, so merging the two backports blocks into one (saying this is for <code>beta</code> this is for <code>stable</code>)</p>",
        "id": 226827219,
        "sender_full_name": "apiraino",
        "timestamp": 1613662118
    },
    {
        "content": "<p>the biggest point <span class=\"user-mention\" data-user-id=\"250987\">@apiraino</span> is to avoid the duplicate listing of the same PR</p>",
        "id": 226827285,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662148
    },
    {
        "content": "<p>I will however note</p>",
        "id": 226827321,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662165
    },
    {
        "content": "<p>well, this is just my own idiosyncracy</p>",
        "id": 226827338,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662173
    },
    {
        "content": "<p>that I will inevitably end up posting the PR link twice</p>",
        "id": 226827368,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662183
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-02-18.20.2354818/near/226827321\">said</a>:</p>\n<blockquote>\n<p>I will however note</p>\n</blockquote>\n<p>sometimes backports are beta approved <em>and</em> stable rejected</p>",
        "id": 226827369,
        "sender_full_name": "apiraino",
        "timestamp": 1613662184
    },
    {
        "content": "<p>so that I get two sets of the <span aria-label=\"back\" class=\"emoji emoji-1f519\" role=\"img\" title=\"back\">:back:</span> / <span aria-label=\"hand\" class=\"emoji emoji-270b\" role=\"img\" title=\"hand\">:hand:</span> / <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span> emoji-votes</p>",
        "id": 226827471,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662208
    },
    {
        "content": "<p>right</p>",
        "id": 226827495,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662215
    },
    {
        "content": "<p>exactly</p>",
        "id": 226827503,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662221
    },
    {
        "content": "<p>okay</p>",
        "id": 226827506,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662222
    },
    {
        "content": "<p>anyway</p>",
        "id": 226827512,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662223
    },
    {
        "content": "<h2>PRs S-waiting-on-team</h2>\n<p><a href=\"https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler\">T-compiler</a></p>\n<ul>\n<li>No PRs waiting on <code>T-compiler</code> this time.</li>\n</ul>",
        "id": 226827538,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662235
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-libs-impl\">T-libs-impl</a></p>",
        "id": 226827546,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662241
    },
    {
        "content": "<ul>\n<li>\"Implement String::remove_matches\" <a href=\"https://github.com/rust-lang/rust/pull/71780\">rust#71780</a><ul>\n<li>Opened by <span class=\"user-mention silent\" data-user-id=\"385834\">Josh Cotton</span> </li>\n<li>Should close <a href=\"https://github.com/rust-lang/rust/issues/50206\">rust#50206</a>, a 2018 feature request from <span class=\"user-mention\" data-user-id=\"119167\">@Corey Farwell</span>: add the possibility to remove all matches for a pattern in a string</li>\n<li>Zulip discussion at <a href=\"#narrow/stream/219381-t-libs/topic/Implement.20String.3A.3Amatches.20.2371780\">this link</a></li>\n<li>PR work stopped around July 2020, original PR author not having time anymore</li>\n<li>assigned to <span class=\"user-mention\" data-user-id=\"204346\">@Ashley Mannix</span>, will have a look at it</li>\n<li>Notable comments and reviews:<ul>\n<li>reviewed by <a href=\"https://github.com/rust-lang/rust/pull/71780#pullrequestreview-406679167\">@_**kennytm**</a> and (partially) also by <a href=\"https://github.com/rust-lang/rust/pull/71780#pullrequestreview-419824557\">@_**David Tolnay**</a></li>\n<li><span class=\"user-mention silent\" data-user-id=\"118772\">Lukas Kalbertodt</span> <a href=\"https://github.com/rust-lang/rust/pull/71780#issuecomment-663841852\">also left comments</a></li>\n<li><span class=\"user-mention silent\" data-user-id=\"222471\">BurntSushi</span> comments that <a href=\"https://github.com/rust-lang/rust/pull/71780#issuecomment-664358236\">the pattern API would need a redesign</a> to support this</li>\n<li>also <a href=\"https://github.com/rust-lang/rust/pull/71780#issuecomment-688250368\">this comment</a> by @boats</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>",
        "id": 226827567,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662253
    },
    {
        "content": "<blockquote>\n<p>assigned to @Ashley Mannix, will have a look at it</p>\n</blockquote>\n<p>note: this is the important bit</p>",
        "id": 226827618,
        "sender_full_name": "apiraino",
        "timestamp": 1613662276
    },
    {
        "content": "<p>(this isn't really our team's wheelhouse. But it <em>is</em> an interesting conversation, I thought.)</p>",
        "id": 226827622,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662277
    },
    {
        "content": "<h2>Issues of Note</h2>",
        "id": 226827661,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662295
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-02-18.20.2354818/near/226827622\">said</a>:</p>\n<blockquote>\n<p>(this isn't really our team's wheelhouse. But it <em>is</em> an interesting conversation, I thought.)</p>\n</blockquote>\n<p>one does see some clamoring for GAT's in there, in particular</p>",
        "id": 226827701,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662311
    },
    {
        "content": "<h2>Issues of Note</h2>\n<h3>Short Summary</h3>\n<ul>\n<li><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical\">0 T-compiler P-critical issues</a><ul>\n<li><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee\">0 of those are unassigned</a></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high\">67 T-compiler P-high issues</a><ul>\n<li><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee\">41 of those are unassigned</a></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta\">0 P-critical, 1 P-high, 1 P-medium, 0 P-low regression-from-stable-to-beta</a></li>\n<li><a href=\"https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly\">0 P-critical, 1 P-high, 1 P-medium, 0 P-low regression-from-stable-to-nightly</a></li>\n<li><a href=\"https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable\">0 P-critical, 41 P-high, 89 P-medium, 10 P-low regression-from-stable-to-stable</a></li>\n</ul>",
        "id": 226827770,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662329
    },
    {
        "content": "<h3>P-critical</h3>\n<p><a href=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-compiler\">T-compiler</a></p>\n<ul>\n<li>No <code>P-critical</code> issues for <code>T-compiler</code> this time.</li>\n</ul>\n<p><a href=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-libs-impl\">T-libs-impl</a></p>\n<ul>\n<li>No <code>P-critical</code> issues for <code>T-libs-impl</code> this time.</li>\n</ul>\n<p><a href=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc\">T-rustdoc</a></p>\n<ul>\n<li>No <code>P-critical</code> issues for <code>T-rustdoc</code> this time.</li>\n</ul>",
        "id": 226827791,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662337
    },
    {
        "content": "<h3>P-high regressions</h3>\n<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-libs+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core\">P-high beta regressions</a></p>",
        "id": 226827808,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662345
    },
    {
        "content": "<ul>\n<li>\"Starting with nightly-2021-01-13 (1.51) rustc fails to build archives on Windows 7\" <a href=\"https://github.com/rust-lang/rust/issues/81051\">rust#81051</a><ul>\n<li>Issue first seemed to be only affect Win7 but it is actually an LLVM issue</li>\n<li>Win7 (x86_64-pc-windows-gnu) is still <a href=\"https://doc.rust-lang.org/nightly/rustc/platform-support.html#tier-1\">Tier 1 platform</a>: a side question about this issue could be if it should be demoted</li>\n<li>the problem disappears if reverting to <a href=\"https://github.com/rust-lang/rust/issues/81051#issuecomment-769520843\">nightly-2021-01-12</a> or up to LLVM <a href=\"https://github.com/rust-lang/llvm-project/commit/6ec777c\">commit 6ec777c</a> </li>\n<li><span class=\"user-mention\" data-user-id=\"120828\">@moxian</span> <a href=\"https://github.com/rust-lang/rust/issues/81051#issuecomment-774638526\">debugged the issue</a> and provides significant data and points to rollup PR <a href=\"https://github.com/rust-lang/rust/pull/80960\">#80960</a></li>\n<li>more debugging <a href=\"https://github.com/rust-lang/rust/issues/81051#issuecomment-779556314\">at this comment</a></li>\n<li><span class=\"user-mention\" data-user-id=\"138448\">@cuviper</span> comments this bug looks similar to LLVM <a href=\"https://bugs.llvm.org/show_bug.cgi?id=48378\">#48378</a></li>\n</ul>\n</li>\n</ul>",
        "id": 226827824,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662354
    },
    {
        "content": "<p>(has MS stopped supporting Win7 ?)</p>",
        "id": 226827901,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662388
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-02-18.20.2354818/near/226827901\">said</a>:</p>\n<blockquote>\n<p>(has MS stopped supporting Win7 ?)</p>\n</blockquote>\n<p>for the public yes, they have (iiuc) special paid support programs</p>",
        "id": 226827947,
        "sender_full_name": "apiraino",
        "timestamp": 1613662418
    },
    {
        "content": "<p>I see, support ended 14 jan 2020</p>",
        "id": 226828043,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662450
    },
    {
        "content": "<p>There is definitely a desire from folks on the Windows Rust team (e.g., <span class=\"user-mention\" data-user-id=\"274471\">@Arlie Davis</span> ) to not have non-supported Windows versions in the main line Rust distribution.</p>",
        "id": 226828112,
        "sender_full_name": "rylev",
        "timestamp": 1613662480
    },
    {
        "content": "<p>golly, I feel like it was yesterday we demoted Windows XP</p>",
        "id": 226828148,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662493
    },
    {
        "content": "<p>But that might be complicated by some users of Rust who still ship on Win7 (e.g., FireFox)</p>",
        "id": 226828162,
        "sender_full_name": "rylev",
        "timestamp": 1613662500
    },
    {
        "content": "<p>yes I suspect there are customers who are relying on continued Windows 7 support</p>",
        "id": 226828193,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662515
    },
    {
        "content": "<p>Extended support until 2023, 2024 for Windows pos ready 7</p>",
        "id": 226828245,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1613662544
    },
    {
        "content": "<p>I would assume we can build Windows 7 binaries atop Windows 10 hosts?</p>",
        "id": 226828263,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662554
    },
    {
        "content": "<p>(paid special support)</p>",
        "id": 226828271,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1613662558
    },
    {
        "content": "<p>/me really wishes building your own std lib was easier in Rust</p>",
        "id": 226828283,
        "sender_full_name": "rylev",
        "timestamp": 1613662561
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-02-18.20.2354818/near/226828263\">said</a>:</p>\n<blockquote>\n<p>I would assume we can build Windows 7 binaries atop Windows 10 hosts?</p>\n</blockquote>\n<p>yes</p>",
        "id": 226828341,
        "sender_full_name": "rylev",
        "timestamp": 1613662574
    },
    {
        "content": "<blockquote>\n<p>Speaking for the Windows team at Microsoft, Windows 7 has reached End of Life. We're not interested in providing any further support for Win 7 development.</p>\n</blockquote>\n<blockquote>\n<p>You may still be able to target Windows 7, by cross-compiling (compiling on a modern Windows version, or by compiling on Linux targeting Windows).</p>\n</blockquote>\n<p>From <span class=\"user-mention\" data-user-id=\"274471\">@Arlie Davis</span> in the linked issue.</p>",
        "id": 226828359,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1613662581
    },
    {
        "content": "<p>We could simply revert that change in our LLVM fork... at risk of reassuming whatever bug that was meant to fix</p>",
        "id": 226828361,
        "sender_full_name": "cuviper",
        "timestamp": 1613662581
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-02-18.20.2354818/near/226828263\">said</a>:</p>\n<blockquote>\n<p>I would assume we can build Windows 7 binaries atop Windows 10 hosts?</p>\n</blockquote>\n<p>(I ask this because it seems relevant for trying to ensure that our own CI hosts are themselves using non-EOL'ed OSes.)</p>",
        "id": 226828400,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662600
    },
    {
        "content": "<p>Do we know what diff in LLVM it was, <span class=\"user-mention\" data-user-id=\"138448\">@cuviper</span>?</p>",
        "id": 226828436,
        "sender_full_name": "nagisa",
        "timestamp": 1613662616
    },
    {
        "content": "<p>Yes, it's listed in the issue</p>",
        "id": 226828492,
        "sender_full_name": "cuviper",
        "timestamp": 1613662641
    },
    {
        "content": "<p>anyway this deserves some sort of dedicated MCP or RFC</p>",
        "id": 226828513,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662647
    },
    {
        "content": "<p>I was just surprised by it</p>",
        "id": 226828532,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662657
    },
    {
        "content": "<p>as for <a href=\"https://github.com/rust-lang/rust/issues/81051\">#81051</a></p>",
        "id": 226828632,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662689
    },
    {
        "content": "<p>it has no owner currently</p>",
        "id": 226828639,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662693
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-02-18.20.2354818/near/226828532\">said</a>:</p>\n<blockquote>\n<p>I was just surprised by it</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"250987\">@apiraino</span>  self note: goto last Rust 2020 poll and check how many win7 rust users out there</p>",
        "id": 226828752,
        "sender_full_name": "apiraino",
        "timestamp": 1613662751
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"138448\">cuviper</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-02-18.20.2354818/near/226828492\">said</a>:</p>\n<blockquote>\n<p>Yes, it's listed in the issue</p>\n</blockquote>\n<p>I infer this is what is referenced: <a href=\"https://github.com/rust-lang/llvm-project/commit/6ec777c\">https://github.com/rust-lang/llvm-project/commit/6ec777c</a></p>",
        "id": 226828758,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662752
    },
    {
        "content": "<p>Yes</p>",
        "id": 226828809,
        "sender_full_name": "cuviper",
        "timestamp": 1613662772
    },
    {
        "content": "<p>\"PR42623: Avoid setting the delete-on-close bit if a TempFile doesn't reside on a local drive\"</p>",
        "id": 226828820,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662775
    },
    {
        "content": "<p>Yeah, I was just looking at it. It seems fine to revert to me, given that people with remote disks weren't complaining about things not working too much, before.</p>",
        "id": 226828846,
        "sender_full_name": "nagisa",
        "timestamp": 1613662787
    },
    {
        "content": "<p>And IIRC rustc itself doesn't work very well on remote filesystems, anyway.</p>",
        "id": 226828965,
        "sender_full_name": "nagisa",
        "timestamp": 1613662818
    },
    {
        "content": "<p>right that was more what I was guessing</p>",
        "id": 226828989,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662829
    },
    {
        "content": "<p>as the reason we don't see complaints</p>",
        "id": 226829002,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662835
    },
    {
        "content": "<p>There are a number of issues about builds not working on remote filesystems IIRC due to file locking.</p>",
        "id": 226829042,
        "sender_full_name": "nagisa",
        "timestamp": 1613662861
    },
    {
        "content": "<p>Hmm, I think there was a rust bug about virtualized filesystems, like across wsl, that I wonder might have been fixed here. I don't think that was just locking.</p>",
        "id": 226829143,
        "sender_full_name": "cuviper",
        "timestamp": 1613662909
    },
    {
        "content": "<p>the linked review on <a href=\"http://llvm.org\">llvm.org</a> lists other stuff that is more troubling</p>",
        "id": 226829162,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662915
    },
    {
        "content": "<p>\"this wasn't about the occasional temp file not getting deleted. It was to work around surprising behavior on Windows when a temp file is mapped into memory, which, as I recall, was the underlying cause in what appeared to be cache corruption for LTO.\"</p>",
        "id": 226829225,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613662927
    },
    {
        "content": "<p>I think we should figure out the way forward outside the meeting.</p>",
        "id": 226829351,
        "sender_full_name": "nagisa",
        "timestamp": 1613662985
    },
    {
        "content": "<p>Anyone want to own this bug?</p>",
        "id": 226829381,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663000
    },
    {
        "content": "<p>(I suspect \"ownership\" is going to mean \"do research to decide whether to land the revert\")</p>",
        "id": 226829448,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663030
    },
    {
        "content": "<p>wow this is quite a game of chicken</p>",
        "id": 226829752,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663128
    },
    {
        "content": "<p>I'm not going to assign this randomly, but I'm not going to self-assign either</p>",
        "id": 226829818,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663151
    },
    {
        "content": "<p>I guess we'll talk about it again next week</p>",
        "id": 226829834,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663157
    },
    {
        "content": "<p>With my release hat on, I think we can't have such a major regression</p>",
        "id": 226829846,
        "sender_full_name": "cuviper",
        "timestamp": 1613663162
    },
    {
        "content": "<p>so that puts a deadline in front of us</p>",
        "id": 226829970,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663197
    },
    {
        "content": "<p>Reverting to the former buggy state seems better than not working at all</p>",
        "id": 226829971,
        "sender_full_name": "cuviper",
        "timestamp": 1613663198
    },
    {
        "content": "<p>I think I agree with that too</p>",
        "id": 226829994,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663207
    },
    {
        "content": "<p>How prevalent are platform flags in llvm?</p>",
        "id": 226830050,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1613663225
    },
    {
        "content": "<p>so we cherry-pick a revert and open a bug to investigate fallout?</p>",
        "id": 226830065,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663229
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-02-18.20.2354818/near/226830065\">said</a>:</p>\n<blockquote>\n<p>so we cherry-pick a revert and open a bug to investigate fallout?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"138448\">@cuviper</span> can I assign you to own this much of it?</p>",
        "id": 226830157,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663272
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119031\">@Esteban Küber</span> are you suggesting runtime detection to skip that stuff on win7?</p>",
        "id": 226830247,
        "sender_full_name": "cuviper",
        "timestamp": 1613663295
    },
    {
        "content": "<p>It wouldn't be the first time we did something like that</p>",
        "id": 226830307,
        "sender_full_name": "cuviper",
        "timestamp": 1613663315
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> I can own that much</p>",
        "id": 226830378,
        "sender_full_name": "cuviper",
        "timestamp": 1613663348
    },
    {
        "content": "<p>Yep, that's exactly what I'm suggesting</p>",
        "id": 226830514,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1613663396
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"138448\">cuviper</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-02-18.20.2354818/near/226830247\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"119031\">Esteban Küber</span> are you suggesting runtime detection to skip that stuff on win7?</p>\n</blockquote>\n<p>FYI this is exactly why Microsoft folks are hoping we can drop Win7 - We don't support it any more and yet everyone will pay a runtime cost for feature detection</p>",
        "id": 226830770,
        "sender_full_name": "rylev",
        "timestamp": 1613663477
    },
    {
        "content": "<p>right, but the problem is, we just can't? It seems wrong at least for us to drop it when some people <em>can</em> <strong>pay</strong> $$$ to get continued support for Windows 7?</p>",
        "id": 226830869,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663515
    },
    {
        "content": "<p>Win POSReady7 is supported until October this year</p>",
        "id": 226830974,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1613663542
    },
    {
        "content": "<p>Let alone the pilaid extended support for the base system</p>",
        "id": 226831006,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1613663557
    },
    {
        "content": "<p>I'm struggling with that acronym</p>",
        "id": 226831014,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663559
    },
    {
        "content": "<p>how did that get past marketing?</p>",
        "id": 226831033,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663567
    },
    {
        "content": "<p>Point of sales I think</p>",
        "id": 226831040,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1613663568
    },
    {
        "content": "<p>Point of saleyou dirty mind</p>",
        "id": 226831051,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1613663572
    },
    {
        "content": "<p>nonetheless</p>",
        "id": 226831067,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663577
    },
    {
        "content": "<p>See also <a href=\"https://github.com/rust-lang/release-team/issues/2\">https://github.com/rust-lang/release-team/issues/2</a></p>",
        "id": 226831084,
        "sender_full_name": "cuviper",
        "timestamp": 1613663581
    },
    {
        "content": "<p>anyway</p>",
        "id": 226831131,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663601
    },
    {
        "content": "<p>assigned to <span class=\"user-mention\" data-user-id=\"138448\">@cuviper</span> as discussed above</p>",
        "id": 226831151,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663606
    },
    {
        "content": "<p>I'm sure there will be much more discussion of how to go about demoting Windows 7</p>",
        "id": 226831186,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663622
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-libs+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core\">Unassigned P-high nightly regressions</a></p>\n<ul>\n<li>No unassigned <code>P-high</code> nightly regressions this time.</li>\n</ul>",
        "id": 226831221,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663636
    },
    {
        "content": "<h2>Performance logs</h2>\n<blockquote>\n<p><a href=\"https://github.com/rust-lang/rustc-perf/blob/master/triage/2021-02-16.md\">2021-02-16 Full triage logs</a></p>\n</blockquote>\n<p>A mostly quiet week, though with an excellent improvement in bootstrap times,<br>\nshaving off a couple percent off the total and 10% off of rustc_middle due to<br>\nchanges in the code being compiled.</p>\n<p>Triage done by <strong>@simulacrum</strong>.</p>\n<p>1 Regressions, 2 Improvements, 1 Mixed</p>",
        "id": 226831272,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663644
    },
    {
        "content": "<h4>Regressions</h4>\n<p>Initialize BTree nodes directly in the heap <a href=\"https://github.com/rust-lang/rust/issues/81494\">#81494</a></p>\n<ul>\n<li>Moderate regression in <a href=\"https://perf.rust-lang.org/compare.html?start=7e0241c63755ea28045d512b742f50b307874419&amp;end=3c10a880eca60379343a6c6d19dd5bda38ead55d&amp;stat=instructions:u\">instruction counts</a> (up to 1.3% on <code>full</code> builds of <code>cargo-debug</code>)</li>\n<li>Not really expected, but this is aiming for optimizing initialization of large<br>\n  k/v pairs, so perhaps worth it. Left a nag.</li>\n</ul>",
        "id": 226831292,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663652
    },
    {
        "content": "<h4>Improvements</h4>\n<ul>\n<li>[experiment] remove <code>#[inline]</code> from rustc_query_system::plumbing <a href=\"https://github.com/rust-lang/rust/issues/81892\">#81892</a></li>\n<li>directly expose copy and copy_nonoverlapping intrinsics <a href=\"https://github.com/rust-lang/rust/issues/81238\">#81238</a></li>\n</ul>",
        "id": 226831384,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663678
    },
    {
        "content": "<h4>Mixed</h4>\n<ul>\n<li>Check the result cache before the DepGraph when ensuring queries <a href=\"https://github.com/rust-lang/rust/issues/81855\">#81855</a></li>\n</ul>",
        "id": 226831404,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663687
    },
    {
        "content": "<h4>Nags requiring follow up</h4>\n<p>Investigations pending:</p>\n<ul>\n<li><a href=\"https://github.com/rust-lang/rust/pull/81494#issuecomment-779938322\">https://github.com/rust-lang/rust/pull/81494#issuecomment-779938322</a></li>\n<li><a href=\"https://github.com/rust-lang/rust/pull/81855#issuecomment-779950478\">https://github.com/rust-lang/rust/pull/81855#issuecomment-779950478</a><ul>\n<li>comment by <a href=\"https://github.com/cjgillot\">@cjgillot</a>: \"Follow-up PR <a href=\"https://github.com/rust-lang/rust/issues/82197\">#82197</a> recovers the expected perf gain.\"</li>\n</ul>\n</li>\n</ul>\n<p>From last week:</p>\n<ul>\n<li>Waiting on more investigation in <a href=\"https://github.com/rust-lang/rust/issues/81476\">#81476</a>.</li>\n<li>Need to follow up on the regressions reported this week.</li>\n</ul>",
        "id": 226831436,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663699
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/81494#issuecomment-780561128\">candidate</a> for TWIR:</p>\n<blockquote>\n<p>confirming that \"strictly less work\" takes ~3% more time.</p>\n</blockquote>",
        "id": 226831536,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663735
    },
    {
        "content": "<p>(c'mon, I can't be the only one tickled by that line)</p>",
        "id": 226831694,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663785
    },
    {
        "content": "<p>anyway it looks like investigations are moving forward, which makes me happy: It means the peformance triage is providing value.</p>",
        "id": 226831776,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663822
    },
    {
        "content": "<h2>Nominated Issues</h2>",
        "id": 226831832,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663845
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler\">T-compiler</a></p>\n<ul>\n<li>\"<code>undefined reference to</code> linker error when using dylibs\" <a href=\"https://github.com/rust-lang/rust/issues/82151\">rust#82151</a><ul>\n<li>opened by <span class=\"user-mention\" data-user-id=\"253053\">@Alex Kornitzer</span>, reports that working code on x86_64-unknown-linux-gnu not compiling anymore after updating the MongoDB crate (compiled as dynamic library)</li>\n<li><span class=\"user-mention\" data-user-id=\"256313\">@Hameer Abbasi</span> did <a href=\"https://github.com/rust-lang/rust/issues/82151#issuecomment-780520981\">some bisecting</a> but the trail seems to go back to 2018 </li>\n<li>a minimal mcve <a href=\"https://github.com/rust-lang/rust/issues/82151#issuecomment-779368017\">is found at this comment</a></li>\n<li>issue seems to warrant high priority but since it looks like to be there since long, we are not sure about the implications/impact</li>\n</ul>\n</li>\n</ul>",
        "id": 226831846,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663851
    },
    {
        "content": "<p>eek</p>",
        "id": 226831884,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663867
    },
    {
        "content": "<p>we're almost out of time</p>",
        "id": 226832072,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663924
    },
    {
        "content": "<p>I guess I'd suggest we leave this nominated for discussion next week</p>",
        "id": 226832104,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663933
    },
    {
        "content": "<p>but also: I'd like to better understand if we think this is a \"user error\" (in terms of whatever this mix is of staticlib and dylib), or legit rustc bug</p>",
        "id": 226832172,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613663956
    },
    {
        "content": "<blockquote>\n<p>Mixed:    Check the result cache before the DepGraph when ensuring queries <a href=\"https://github.com/rust-lang/rust/issues/81855\">#81855</a></p>\n</blockquote>\n<p>fyi this one is my fault, it would have been strictly an improvement if not for</p>\n<blockquote>\n<p>[experiment] remove #[inline] from rustc_query_system::plumbing <a href=\"https://github.com/rust-lang/rust/issues/81892\">#81892</a></p>\n</blockquote>",
        "id": 226832375,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1613664012
    },
    {
        "content": "<p>in any case: Thanks to everyone in <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span> for attending!</p>",
        "id": 226832394,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613664016
    },
    {
        "content": "<p>stay safe, stay healthy, keep your eye out for spare <span aria-label=\"medicine\" class=\"emoji emoji-1f48a\" role=\"img\" title=\"medicine\">:medicine:</span> on the street</p>",
        "id": 226832528,
        "sender_full_name": "pnkfelix",
        "timestamp": 1613664041
    },
    {
        "content": "<p>Draft for next week's agenda: <a href=\"https://hackmd.io/6zs4_EhdRiSR2HdQBcRH1Q?view\">https://hackmd.io/6zs4_EhdRiSR2HdQBcRH1Q?view</a></p>\n<p>Scheduled checkins:</p>\n<ul>\n<li>@_<em>WG-rfc-2229</em>  by <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> </li>\n<li>@_<em>wg-polymorphization</em> by <span class=\"user-mention\" data-user-id=\"116107\">@davidtwco</span></li>\n</ul>",
        "id": 226845716,
        "sender_full_name": "apiraino",
        "timestamp": 1613668446
    }
]