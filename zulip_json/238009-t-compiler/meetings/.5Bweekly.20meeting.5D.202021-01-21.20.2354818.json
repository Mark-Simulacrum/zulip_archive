[
    {
        "content": "<p>Hi <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span>; the triage meeting will happen in about 1h</p>",
        "id": 223511388,
        "sender_full_name": "apiraino",
        "timestamp": 1611237819
    },
    {
        "content": "<p><em>WG-prioritization</em> has done pre-triage in <a class=\"stream\" data-stream-id=\"245100\" href=\"/#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts\">#t-compiler/wg-prioritization/alerts</a><br>\n<span class=\"user-group-mention\" data-user-group-id=\"2403\">@WG-prioritization</span> has prepared the <a href=\"https://hackmd.io/33X8izU-S2G-i-dIPBQS1w?view\">meeting agenda</a></p>",
        "id": 223511407,
        "sender_full_name": "apiraino",
        "timestamp": 1611237826
    },
    {
        "content": "<p>We will have checkins from:</p>\n<ul>\n<li><span class=\"user-group-mention\" data-user-group-id=\"692\">@WG-traits</span> by <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> and <span class=\"user-mention\" data-user-id=\"232957\">@Jack Huey</span></li>\n</ul>",
        "id": 223511413,
        "sender_full_name": "apiraino",
        "timestamp": 1611237831
    },
    {
        "content": "<p>I wrote a brief paragraph, but <span class=\"user-mention\" data-user-id=\"232957\">@Jack Huey</span> you should feel free to edit/expand</p>",
        "id": 223512675,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611238376
    },
    {
        "content": "<p>I added a short bit about the sprint week</p>",
        "id": 223516591,
        "sender_full_name": "Jack Huey",
        "timestamp": 1611240056
    },
    {
        "content": "<p>Hi <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span>! Add a <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span> emoji to show you're here :)</p>",
        "id": 223519364,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241237
    },
    {
        "content": "<p>we will start off with 5 minutes for ...</p>\n<h2>Announcements</h2>",
        "id": 223519410,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241252
    },
    {
        "content": "<p>we have no design meeting scheduled for tomorrow</p>",
        "id": 223519616,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241331
    },
    {
        "content": "<p>(that's deliberate)</p>",
        "id": 223519628,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241338
    },
    {
        "content": "<p>we <em>will</em> have the sprint planning meeting next week. Which reminds me that I need to get going in preparation work for that.</p>",
        "id": 223519692,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241371
    },
    {
        "content": "<ul>\n<li>New MCPs (take a look, see if you like them!)<ul>\n<li>No new proposals this time.</li>\n</ul>\n</li>\n</ul>",
        "id": 223519793,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241415
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-01-21.20.2354818/near/223519692\">said</a>:</p>\n<blockquote>\n<p>we <em>will</em> have the sprint planning meeting next week. Which reminds me that I need to get going in preparation work for that.</p>\n</blockquote>\n<p>(is this on the calendar?)</p>",
        "id": 223519827,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611241435
    },
    {
        "content": "<p>uh oh</p>",
        "id": 223519883,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241445
    },
    {
        "content": "<p>or, no</p>",
        "id": 223519915,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241459
    },
    {
        "content": "<p>no uh oh</p>",
        "id": 223519917,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241461
    },
    {
        "content": "<p>well</p>",
        "id": 223519936,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611241477
    },
    {
        "content": "<p>I see one:)</p>",
        "id": 223519942,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611241481
    },
    {
        "content": "<p>Its on <em>a</em> calendar</p>",
        "id": 223519953,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241487
    },
    {
        "content": "<p>it seems to be on the compiler team calendar for me</p>",
        "id": 223519974,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611241498
    },
    {
        "content": "<p>okay phew</p>",
        "id": 223519991,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241504
    },
    {
        "content": "<p>Weird, I don't see it on mine</p>",
        "id": 223520003,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611241512
    },
    {
        "content": "<p>oh, maybe there's more than one? :)</p>",
        "id": 223520022,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611241521
    },
    {
        "content": "<p>uh oh again</p>",
        "id": 223520098,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241555
    },
    {
        "content": "<p>here is <a href=\"https://calendar.google.com/event?action=TEMPLATE&amp;tmeid=NXIyaXJxNHAzdGFvaHZsZjNrcDlub2IwYnUgNnU1cnJ0Y2U2bHJ0djA3cGZpM2RhbWdqdXNAZw&amp;tmsrc=6u5rrtce6lrtv07pfi3damgjus%40group.calendar.google.com\">event</a> that I have on my calendar for it</p>",
        "id": 223520195,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241589
    },
    {
        "content": "<p>we should work outside of this meeting to figure out whether people can see that. <span class=\"user-mention\" data-user-id=\"125250\">@Wesley Wiser</span> , can you and I look into that afterward?</p>",
        "id": 223520237,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241608
    },
    {
        "content": "<p>I have it on a public calendar</p>",
        "id": 223520299,
        "sender_full_name": "oliver",
        "timestamp": 1611241632
    },
    {
        "content": "<ul>\n<li>Old MCPs (not seconded, take a look)<ul>\n<li>\"MCP: move compiler/ crates to stable Rust\" <a href=\"https://github.com/rust-lang/compiler-team/issues/358\">compiler-team#358</a></li>\n<li>\"Add 32-bit and 64-bit stderr/stdout files for ui tests\" <a href=\"https://github.com/rust-lang/compiler-team/issues/365\">compiler-team#365</a></li>\n<li>\"Add a <code>NOOP_METHOD_CALL</code> lint for methods which should never be directly called\" <a href=\"https://github.com/rust-lang/compiler-team/issues/375\">compiler-team#375</a></li>\n<li>\"MCP: More Cranelift-friendly portable SIMD intrinsics\" <a href=\"https://github.com/rust-lang/compiler-team/issues/381\">compiler-team#381</a></li>\n<li>\"Debuggable Macro Expansions\" <a href=\"https://github.com/rust-lang/compiler-team/issues/386\">compiler-team#386</a></li>\n<li>\"Move query implementation outside rustc_middle\" <a href=\"https://github.com/rust-lang/compiler-team/issues/388\">compiler-team#388</a></li>\n<li>\"Uplift the <code>invalid_atomic_ordering</code> lint from clippy to rustc\" <a href=\"https://github.com/rust-lang/compiler-team/issues/390\">compiler-team#390</a></li>\n<li>\"Staged queries\" <a href=\"https://github.com/rust-lang/compiler-team/issues/391\">compiler-team#391</a></li>\n<li>\"Do not traverse the HIR to generate metadata\" <a href=\"https://github.com/rust-lang/compiler-team/issues/392\">compiler-team#392</a></li>\n<li>\"Embed version numbers in backport nominations and regression labels\" <a href=\"https://github.com/rust-lang/compiler-team/issues/393\">compiler-team#393</a></li>\n<li>\"Add different entry points for x.py\" <a href=\"https://github.com/rust-lang/compiler-team/issues/396\">compiler-team#396</a></li>\n</ul>\n</li>\n</ul>",
        "id": 223520318,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241640
    },
    {
        "content": "<p>Yeah, let's do that. Maybe it's just my calendar that's broken.</p>",
        "id": 223520348,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611241649
    },
    {
        "content": "<p>(I don't remember if we have much of a formal structure for getting through stalled MCP's. E.g. we don't really have a system in place for proposing that one be closed, right?)</p>",
        "id": 223520434,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241682
    },
    {
        "content": "<p>(we don't need to solve that problem now, but as that \"Old MCP's\" list grows, its going to be more of a problem.)</p>",
        "id": 223520506,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241701
    },
    {
        "content": "<ul>\n<li>Pending FCP requests (check your boxes!)<ul>\n<li>No pending FCP requests this time.</li>\n</ul>\n</li>\n</ul>",
        "id": 223520539,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241720
    },
    {
        "content": "<p>maybe we should file a design meeting to do a \"mcp triage\"</p>",
        "id": 223520543,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611241725
    },
    {
        "content": "<p>I will go ahead and do that</p>",
        "id": 223520560,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611241730
    },
    {
        "content": "<ul>\n<li>Things in FCP (make sure you're good with it)<ul>\n<li>\"rustc: Stabilize <code>-Zrun-dsymutil</code> as <code>-Csplit-debuginfo</code>\" <a href=\"https://github.com/rust-lang/rust/pull/79570\">rust#79570</a></li>\n</ul>\n</li>\n</ul>",
        "id": 223520564,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241731
    },
    {
        "content": "<ul>\n<li>Accepted MCPs<ul>\n<li>\"Drop official support for Windows XP\" <a href=\"https://github.com/rust-lang/compiler-team/issues/378\">compiler-team#378</a></li>\n</ul>\n</li>\n</ul>",
        "id": 223520596,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241744
    },
    {
        "content": "<ul>\n<li>Finalized FCPs (disposition merge)<ul>\n<li>[T-compiler,T-infra,T-release] \"Drop official support for Windows XP\" <a href=\"https://github.com/rust-lang/compiler-team/issues/378\">compiler-team#378</a></li>\n<li>[T-libs] \"Tracking Issue for <code>panic_any</code>\" <a href=\"https://github.com/rust-lang/rust/issues/78500\">rust#78500</a></li>\n</ul>\n</li>\n</ul>",
        "id": 223520626,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241757
    },
    {
        "content": "<h3>WG checkins</h3>\n<p><span class=\"user-group-mention\" data-user-group-id=\"692\">@WG-traits</span> checkin by @nikomatsakis and @Jack Huey:</p>\n<blockquote>\n<p>Last week we held a meeting to discuss our next steps. <br>\nWe were looking specifically at \"async fn in traits\" and what it would take to support that within the compiler.<br>\nWe identified a path of incremental support by enabling other features.<br>\nThere are <a href=\"https://hackmd.io/j8KTAWU2TzC-STlsB8ZSVQ\">meeting notes</a> available here and a recording will be posted.<br>\nWe've also been making progress towards refactoring and type library work;<br>\nthe <a href=\"https://zulip-archive.rust-lang.org/144729wgtraits/40141meeting20210112.html\">2021-01-12 meeting</a><br>\ncontains a good summary. -nikomatsakis<br>\nWe're also planning to try out the \"sprint week\" instead of the 6 week sprints we have been using so far. We haven't set the dates yet, though.</p>\n</blockquote>",
        "id": 223520670,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241780
    },
    {
        "content": "<h2>Beta-nominations</h2>\n<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler\">T-compiler</a></p>",
        "id": 223520711,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241803
    },
    {
        "content": "<ul>\n<li>\"Make hitting the recursion limit in projection non-fatal\" <a href=\"https://github.com/rust-lang/rust/pull/81055\">rust#81055</a><ul>\n<li>Opened by <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span></li>\n<li>Assigned to <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> not yet r'ed</li>\n<li>This patch goes with merged PR <a href=\"https://github.com/rust-lang/rust/issues/80953\">#80953</a> (infinite loop bug in caching normalization of projections) making reaching the recursion limit not fatal.</li>\n<li>This should fix regression not caught in <a href=\"https://github.com/rust-lang/rust/issues/80953#issuecomment-759347129\">the crater run</a> and appeared in stable 1.49 and that breaks compiling production code</li>\n<li>related to PR <a href=\"https://github.com/rust-lang/rust/pull/80246\">#80246</a> already merged</li>\n</ul>\n</li>\n</ul>",
        "id": 223520773,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241817
    },
    {
        "content": "<p>I wanted to check my understanding here: The goal in making the error immediate was to address anticipated case where rustc could effectively diverge?</p>",
        "id": 223521075,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241931
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> is that right? Does the change in <a href=\"https://github.com/rust-lang/rust/issues/81055\">#81055</a> re-introduce a scenario where compiler could diverge <em>today</em>? Or is it only in some future scenario that rustc could diverge?</p>",
        "id": 223521193,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611241976
    },
    {
        "content": "<p>It's only future scenarios where rustc could diverge.</p>",
        "id": 223521249,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1611242003
    },
    {
        "content": "<p>Well, cases that I'm not aware of, at least.</p>",
        "id": 223521303,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1611242033
    },
    {
        "content": "<p>...</p>",
        "id": 223521356,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242044
    },
    {
        "content": "<p>cases you're <em>not</em> aware of?</p>",
        "id": 223521392,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242052
    },
    {
        "content": "<p>(I'm ok with the code change, super nervous about the implications)</p>",
        "id": 223521533,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1611242105
    },
    {
        "content": "<p>Are the future scenarios spelled out on one of the related tickets?</p>",
        "id": 223521551,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242110
    },
    {
        "content": "<p>Yes, this may introduce divergence, but I'm not aware of how exactly that could happen.</p>",
        "id": 223521608,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1611242126
    },
    {
        "content": "<p>Ah, so we don't have a concrete known scenario</p>",
        "id": 223521656,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242143
    },
    {
        "content": "<p>just a worry/concern</p>",
        "id": 223521670,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242148
    },
    {
        "content": "<p>Yes</p>",
        "id": 223521683,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1611242153
    },
    {
        "content": "<p>Okay. That is in some ways less troubling, and in some ways more troubling. :)</p>",
        "id": 223521775,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242170
    },
    {
        "content": "<p>I'm fine with backport. Anyone object?</p>",
        "id": 223521846,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242194
    },
    {
        "content": "<p>Well, I don't think anyone can make definitive statements about the trait system.</p>",
        "id": 223521884,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1611242208
    },
    {
        "content": "<p>(as implemented by Rustc)</p>",
        "id": 223521916,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1611242218
    },
    {
        "content": "<p>and you didn't mark <a href=\"https://github.com/rust-lang/rust/issues/81055\">#81055</a> as fixing <a href=\"https://github.com/rust-lang/rust/issues/80953\">#80953</a> because ... I assume there's a better fix you have in mind for the long term on main branch, but this fix is best for beta backport. Right?</p>",
        "id": 223522137,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242296
    },
    {
        "content": "<p>I didn't mark it as fixing the issue because gnerally we wait until the backport until we close the issue.</p>",
        "id": 223522272,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1611242350
    },
    {
        "content": "<p>oh oh okay</p>",
        "id": 223522293,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242357
    },
    {
        "content": "<p>good point</p>",
        "id": 223522302,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242359
    },
    {
        "content": "<p>Okay. Backport approved.</p>",
        "id": 223522329,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242367
    },
    {
        "content": "<ul>\n<li>\"rustc_parse_format: Fix character indices in find_skips\" <a href=\"https://github.com/rust-lang/rust/pull/81071\">rust#81071</a><ul>\n<li>opened by <span class=\"user-mention\" data-user-id=\"119169\">@osa1</span> </li>\n<li>fixes <a href=\"https://github.com/rust-lang/rust/issues/81006\">#81006</a>, a <code>P-medium</code> issue, incorrect format string/argument mismatch triggering an ICE </li>\n<li>r'ed by <span class=\"user-mention\" data-user-id=\"119031\">@Esteban Küber</span>, <a href=\"https://github.com/rust-lang/rust/pull/81071#issuecomment-761605595\">suggests beta backport</a> to deploy the patch sooner and reduce user experiencing this error</li>\n</ul>\n</li>\n</ul>",
        "id": 223522403,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242394
    },
    {
        "content": "<p>This seems fine</p>",
        "id": 223522548,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242442
    },
    {
        "content": "<p>Only reason to back port is the current ice doesn't give context to the user</p>",
        "id": 223522694,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1611242496
    },
    {
        "content": "<p>it's \"just\" a diagnostics issue, so there is no backport pressure, but it's not dangerous to backport and good to have</p>",
        "id": 223522750,
        "sender_full_name": "oli",
        "timestamp": 1611242518
    },
    {
        "content": "<p>okay, backport approved.</p>",
        "id": 223523077,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242630
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3Alibs-impl\">libs-impl</a></p>\n<ul>\n<li>No beta nominations for <code>libs-impl</code> this time.</li>\n</ul>\n<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc\">T-rustdoc</a></p>\n<ul>\n<li>No beta nominations for <code>T-rustdoc</code> this time.</li>\n</ul>",
        "id": 223523157,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242650
    },
    {
        "content": "<h2>Stable-nominations</h2>\n<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler\">T-compiler</a></p>",
        "id": 223523175,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242659
    },
    {
        "content": "<ul>\n<li>\"Make hitting the recursion limit in projection non-fatal\" <a href=\"https://github.com/rust-lang/rust/pull/81055\">rust#81055</a><ul>\n<li>same as beta nomination</li>\n</ul>\n</li>\n</ul>",
        "id": 223523196,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242666
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> how bad is the situation here?</p>",
        "id": 223523284,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242704
    },
    {
        "content": "<p>I can prioritize this review</p>",
        "id": 223523366,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611242736
    },
    {
        "content": "<p>Do we know if the problem here is largely isolated to wundergraph, or if there's a bunch of other crates this affects?</p>",
        "id": 223523377,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242741
    },
    {
        "content": "<p>the <em>diff</em> is small :P</p>",
        "id": 223523403,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611242752
    },
    {
        "content": "<p>If we're going to backport to beta, I don't see why we wouldn't to stable as well and let the release team decide if it's worth the point release <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 223523412,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611242755
    },
    {
        "content": "<p>yes, in <em>this</em> case the risk factor seems low enough that given that we already approved beta backport, a stable backport isn't absurd</p>",
        "id": 223523574,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242809
    },
    {
        "content": "<p>but then again, given that the situation we're worried about is injecting compiler divergence</p>",
        "id": 223523654,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242839
    },
    {
        "content": "<p>maybe that is a reason to <em>not</em> approve stable backport, just so this at least rides the beta train ?</p>",
        "id": 223523689,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242855
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> you checked off <span aria-label=\"back\" class=\"emoji emoji-1f519\" role=\"img\" title=\"back\">:back:</span> above, can you weigh in with your thoughts on the point I just raised?</p>",
        "id": 223523966,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242957
    },
    {
        "content": "<p>I am pondering</p>",
        "id": 223523989,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611242972
    },
    {
        "content": "<p>I checked <span aria-label=\"back\" class=\"emoji emoji-1f519\" role=\"img\" title=\"back\">:back:</span> but -- I do think the potential interactions here are subtle</p>",
        "id": 223524005,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611242980
    },
    {
        "content": "<p>are you essentially, like <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> ,  not worried about divergence in any current scenario, and thus this should be fine for stable?</p>",
        "id": 223524011,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611242982
    },
    {
        "content": "<p>I think I may be happier to remove it</p>",
        "id": 223524015,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611242985
    },
    {
        "content": "<p>I am not as confident as <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span>, but that's because it's been a while since I had my head in this code</p>",
        "id": 223524109,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611243007
    },
    {
        "content": "<p>and I need to do a bit of digging</p>",
        "id": 223524121,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611243012
    },
    {
        "content": "<p>(I was in fact trying to load this code up in vscode when you pinged :)</p>",
        "id": 223524144,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611243019
    },
    {
        "content": "<p>okay. How about this: We'll leave beta nominated</p>",
        "id": 223524147,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243020
    },
    {
        "content": "<p>or sorry</p>",
        "id": 223524166,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243027
    },
    {
        "content": "<p>leave it stable-nominated</p>",
        "id": 223524181,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243031
    },
    {
        "content": "<p>we'll keep the beta-backport approval, and plan to talk about the stable nomination next week</p>",
        "id": 223524241,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243052
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3Alibs-impl\">libs-impl</a></p>\n<ul>\n<li>No stable nominations for <code>libs-impl</code> this time.</li>\n</ul>\n<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc\">T-rustdoc</a></p>\n<ul>\n<li>No stable nominations for <code>T-rustdoc</code> this time.</li>\n</ul>",
        "id": 223524259,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243062
    },
    {
        "content": "<h2>PRs S-waiting-on-team</h2>\n<p><a href=\"https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler\">T-compiler</a></p>",
        "id": 223524278,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243070
    },
    {
        "content": "<ul>\n<li>\"MIR-OPT: Pass to deduplicate blocks\" <a href=\"https://github.com/rust-lang/rust/pull/77551\">rust#77551</a><ul>\n<li><span class=\"user-mention\" data-user-id=\"124288\">@oli</span> has some thoughts about <a href=\"https://github.com/rust-lang/rust/pull/77551#issuecomment-721142677\">merging this PR</a> (the performance diff seems to be a net negative)</li>\n<li><a href=\"https://github.com/rust-lang/rust/pull/77551#issuecomment-752986652\">previous discussion</a></li>\n<li><span class=\"user-mention\" data-user-id=\"124288\">@oli</span> suggests to <a href=\"https://github.com/rust-lang/rust/pull/77551#issuecomment-753640105\">put it into mir-opt-level=3 and merge</a>, then re-evaluate the spans and other performance improvements</li>\n</ul>\n</li>\n</ul>",
        "id": 223524301,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243080
    },
    {
        "content": "<p>I don't think much has happened here since the last time we talked about this. This should perhaps be retagged as <code>waiting-on-author</code></p>",
        "id": 223524491,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611243146
    },
    {
        "content": "<p>does anyone object to <span class=\"user-mention\" data-user-id=\"124288\">@oli</span> 's plan here?</p>",
        "id": 223524509,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243153
    },
    {
        "content": "<p>No</p>",
        "id": 223524543,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611243168
    },
    {
        "content": "<p>I'm ok with it</p>",
        "id": 223524563,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611243178
    },
    {
        "content": "<p>In any case, I think <span class=\"user-mention\" data-user-id=\"125250\">@Wesley Wiser</span> has the right idea: <span class=\"user-mention\" data-user-id=\"124288\">@oli</span> was shepherding this and gave that plan to the author</p>",
        "id": 223524597,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243191
    },
    {
        "content": "<p>so we should let the author own the work of following-through on that. We don't need to sign off on <span class=\"user-mention\" data-user-id=\"124288\">@oli</span> 's suggestion</p>",
        "id": 223524645,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243214
    },
    {
        "content": "<p>okay I just retagged it as S-waiting-on-author</p>",
        "id": 223524701,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243240
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3Alibs-impl\">libs-impl</a></p>\n<ul>\n<li>No PRs waiting on <code>libs-impl</code> this time.</li>\n</ul>",
        "id": 223524759,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243249
    },
    {
        "content": "<h2>Issues of Note</h2>\n<h3>Short Summary</h3>\n<ul>\n<li><a href=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AT-compiler+label%3AP-critical+\">0 T-compiler P-critical issues</a><ul>\n<li><a href=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee\">0 of those are unassigned</a></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AT-compiler+label%3AP-high+\">60 T-compiler P-high issues</a><ul>\n<li><a href=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee\">38 of those are unassigned</a></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta\">0 P-critical, 3 P-high, 3 P-medium, 0 P-low regression-from-stable-to-beta</a></li>\n<li><a href=\"https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly\">0 P-critical, 0 P-high, 6 P-medium, 1 P-low regression-from-stable-to-nightly</a></li>\n<li><a href=\"https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable\">0 P-critical, 38 P-high, 84 P-medium, 9 P-low regression-from-stable-to-stable</a></li>\n</ul>",
        "id": 223524791,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243260
    },
    {
        "content": "<h3>P-critical</h3>\n<p><a href=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-compiler\">T-compiler</a></p>\n<ul>\n<li>No <code>P-critical</code> issues for <code>T-compiler</code> this time.</li>\n</ul>\n<p><a href=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3Alibs-impl\">libs-impl</a></p>\n<ul>\n<li>No <code>P-critical</code> issues for <code>libs-impl</code> this time.</li>\n</ul>\n<p><a href=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc\">T-rustdoc</a></p>\n<ul>\n<li>No <code>P-critical</code> issues for <code>T-rustdoc</code> this time.</li>\n</ul>",
        "id": 223524819,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243269
    },
    {
        "content": "<h3>P-high regressions</h3>\n<p><a href=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high\">P-high beta regressions</a></p>",
        "id": 223524842,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243277
    },
    {
        "content": "<ul>\n<li>\"Cross-compiling Rust to s390x yields a faulty toolchain\" <a href=\"https://github.com/rust-lang/rust/issues/80810\">rust#80810</a><ul>\n<li>Opened by <a href=\"https://github.com/Jakob-Naucke\">Jakob-Naucke</a></li>\n<li>Assigned to <span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span></li>\n<li>mentioned last week</li>\n<li>seems to affect specific s390x or to be related to endianess</li>\n<li>Need to checked against PR <a href=\"https://github.com/rust-lang/rust/pull/80732\">#80732</a> (ready for review)</li>\n</ul>\n</li>\n</ul>",
        "id": 223524861,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243289
    },
    {
        "content": "<p>sigh I meant to spend machine cycles on this and didn't follow through. (Was trying to hack on compiler for some lang team stuff... need cloning machine.)</p>",
        "id": 223524940,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243324
    },
    {
        "content": "<p>PR <a href=\"https://github.com/rust-lang/rust/issues/80732\">#80732</a> did have an error compiling salsa</p>",
        "id": 223525099,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243377
    },
    {
        "content": "<p>so we should take care about merging it too eagerly</p>",
        "id": 223525129,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243389
    },
    {
        "content": "<p>(or rather, it cannot be merged until that is addressed in some manner.)</p>",
        "id": 223525201,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243421
    },
    {
        "content": "<p>anyway I'll look into <a href=\"https://github.com/rust-lang/rust/issues/80810\">#80810</a></p>",
        "id": 223525221,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243430
    },
    {
        "content": "<ul>\n<li>\"regression 1.50: Borrow checker reports function param as not living long enough\" <a href=\"https://github.com/rust-lang/rust/issues/80949\">rust#80949</a><ul>\n<li>opened by <span class=\"user-mention\" data-user-id=\"224872\">@rylev</span>, emerged in crater run for 1.50</li>\n<li><a href=\"https://github.com/rust-lang/rust/issues/80949#issuecomment-759432282\">Smallest MCVE found</a> points to PR <a href=\"https://github.com/rust-lang/rust/pull/78373\">#78373</a></li>\n<li><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> comments that pr <a href=\"https://github.com/rust-lang/rust/issues/78373\">#78373</a> <a href=\"https://github.com/rust-lang/rust/issues/80949#issuecomment-760019484\">caused MIR to have one fewer basic block</a> which reduced borrowck precision</li>\n<li><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> added <a href=\"http://the%20question%20of%20a%20revert%20for%20later,%20after%20we%20get%20more%20data%20about%20impact%20regression%20has%20on%20ecosystem\">more details to the PR</a></li>\n</ul>\n</li>\n</ul>",
        "id": 223525265,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243448
    },
    {
        "content": "<p>ooh there's some pretty pictures of MIR in the issue now</p>",
        "id": 223525347,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243480
    },
    {
        "content": "<p>I didn't have time this week to do anything after the write-up.</p>",
        "id": 223525491,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1611243536
    },
    {
        "content": "<p>I appreciate the time you took to make that writeup</p>",
        "id": 223525522,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243548
    },
    {
        "content": "<p>me too!</p>",
        "id": 223525548,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611243557
    },
    {
        "content": "<p>What are our options here. I think I tried to ask last week if we would revert <a href=\"https://github.com/rust-lang/rust/issues/78373\">#78373</a> if we didn't find a better fix... but I don't remember what conclusion was</p>",
        "id": 223526167,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243810
    },
    {
        "content": "<p>(of course leaks are also bad, as we discussed last week)</p>",
        "id": 223526300,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243852
    },
    {
        "content": "<p>the truth is that I didn't do any follow-up here</p>",
        "id": 223526336,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611243868
    },
    {
        "content": "<p>but I think I could carve some time to do that</p>",
        "id": 223526356,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611243874
    },
    {
        "content": "<p>and form an opinion</p>",
        "id": 223526365,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611243876
    },
    {
        "content": "<p>(i.e., I will add to my calendar now)</p>",
        "id": 223526373,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611243880
    },
    {
        "content": "<p>I think we should plan to revert <a href=\"https://github.com/rust-lang/rust/issues/78373\">#78373</a> in the short term</p>",
        "id": 223526387,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243884
    },
    {
        "content": "<p>IIRC, we had wanted to not revert - I at least felt that this is probably not worth reverting</p>",
        "id": 223526402,
        "sender_full_name": "simulacrum",
        "timestamp": 1611243889
    },
    {
        "content": "<p>the leak <em>should</em> be addressed</p>",
        "id": 223526413,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243894
    },
    {
        "content": "<p>given the PR is a potential soundness hole</p>",
        "id": 223526435,
        "sender_full_name": "simulacrum",
        "timestamp": 1611243901
    },
    {
        "content": "<p>but we don't need to prioritize it over breakage like this...</p>",
        "id": 223526460,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243910
    },
    {
        "content": "<p>heh so it seems like <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> and I have divergent opinions</p>",
        "id": 223526489,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243924
    },
    {
        "content": "<p>hm, I think that tradeoff is not so clear to me :)</p>",
        "id": 223526499,
        "sender_full_name": "simulacrum",
        "timestamp": 1611243929
    },
    {
        "content": "<p>to be clear, I <em>do</em> want the soundness hole to be plugged eventually</p>",
        "id": 223526535,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243943
    },
    {
        "content": "<p>and the leakage resolved</p>",
        "id": 223526546,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243948
    },
    {
        "content": "<p>I guess we need to go back to asking what the impact of the breakage from <a href=\"https://github.com/rust-lang/rust/issues/78373\">#78373</a> here is</p>",
        "id": 223526638,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611243969
    },
    {
        "content": "<p>I guess it's been open long-term so it may ultimately not matter.</p>",
        "id": 223526646,
        "sender_full_name": "simulacrum",
        "timestamp": 1611243972
    },
    {
        "content": "<p>i.e., we can wait and revert in the meantime</p>",
        "id": 223526667,
        "sender_full_name": "simulacrum",
        "timestamp": 1611243987
    },
    {
        "content": "<p>if we do revert</p>",
        "id": 223526673,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611243989
    },
    {
        "content": "<p>I would want to prioritize fixing the problem here</p>",
        "id": 223526689,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611243998
    },
    {
        "content": "<p>also I am loving the diagrams</p>",
        "id": 223526734,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244019
    },
    {
        "content": "<p>I guess I think that in general we should get in the habit of reverting as a rule</p>",
        "id": 223526769,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244035
    },
    {
        "content": "<p>(we've said this before)</p>",
        "id": 223526794,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244046
    },
    {
        "content": "<p>right. Its not saying the PR should never have happened, nor that we won't try to do it again</p>",
        "id": 223526823,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244058
    },
    {
        "content": "<p>just that we would rather make it more approximately perfect before landing. :)</p>",
        "id": 223526935,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244098
    },
    {
        "content": "<p>but we don't have a good idea of whether there was really that many crates impacted by <a href=\"https://github.com/rust-lang/rust/issues/78373\">#78373</a> in this manner in the first place</p>",
        "id": 223527003,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244136
    },
    {
        "content": "<p>ok - I guess - the bug has been around for a while</p>",
        "id": 223527006,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244137
    },
    {
        "content": "<p>next release is February 11th 2021 UTC ?</p>",
        "id": 223527034,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244147
    },
    {
        "content": "<p>that likely means that we're not accumulating more cases rapidly this would break, if we had to accept some breakage</p>",
        "id": 223527071,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244162
    },
    {
        "content": "<p>so I am ok reverting</p>",
        "id": 223527089,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244168
    },
    {
        "content": "<p>okay. Lets revert, I think that's simplest option for us to take immediately</p>",
        "id": 223527111,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244180
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-01-21.20.2354818/near/223527034\">said</a>:</p>\n<blockquote>\n<p>next release is February 11th 2021 UTC ?</p>\n</blockquote>\n<p>correct</p>",
        "id": 223527125,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244185
    },
    {
        "content": "<p>it would be good to revert on master, I think, and backport that to beta. I like keeping beta as just a series of backports without dedicated PRs if at all possible.</p>",
        "id": 223527243,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244221
    },
    {
        "content": "<p>yes that sounds good</p>",
        "id": 223527289,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244241
    },
    {
        "content": "<p>is this on beta already?</p>",
        "id": 223527296,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244245
    },
    {
        "content": "<p>(I guess that implies it is)</p>",
        "id": 223527310,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244251
    },
    {
        "content": "<p>yes, we'd need to backport a revert</p>",
        "id": 223527312,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244253
    },
    {
        "content": "<p>in any case, that makes sense to me</p>",
        "id": 223527328,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244258
    },
    {
        "content": "<p>Lets talk about the next (final) two issues together, they are related.</p>",
        "id": 223527353,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244266
    },
    {
        "content": "<ul>\n<li>\"regression 1.50: deny after forbid breaks build\" <a href=\"https://github.com/rust-lang/rust/issues/80988\">rust#80988</a><ul>\n<li>Opened by <span class=\"user-mention\" data-user-id=\"224872\">@rylev</span>, emerged in crater run for 1.50 </li>\n<li>possibly related to issue <a href=\"https://github.com/rust-lang/rust/issues/77713\">#77713</a></li>\n<li><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> self assigns this issue, points to PR <a href=\"https://github.com/rust-lang/rust/pull/78864\">#78864</a> and figures out <a href=\"https://github.com/rust-lang/rust/issues/80988#issuecomment-761622611\">the root cause</a></li>\n<li>discussed in the <a href=\"https://github.com/rust-lang/rust/issues/80988#issuecomment-763096218\">T-lang meeting</a>, the decision would be to close this</li>\n<li><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> <a href=\"https://github.com/rust-lang/rust/issues/80988#issuecomment-763874759\">comments</a> that the specific issue discussed in the RFC is probably best dealt in issue <a href=\"https://github.com/rust-lang/rust/issues/81218\">#81218</a></li>\n</ul>\n</li>\n<li>\"beta regression: forbid(warnings) interacts poorly with common derives.\" <a href=\"https://github.com/rust-lang/rust/issues/81218\">rust#81218</a><br>\n    - see :point_up_2: but to address specifically <code>forbid</code> and <code>derive</code> interacting surprisingly</li>\n</ul>",
        "id": 223527355,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244267
    },
    {
        "content": "<p>ah - before we move on - should we assign someone to revert?</p>",
        "id": 223527384,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244280
    },
    {
        "content": "<p>oh</p>",
        "id": 223527392,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244284
    },
    {
        "content": "<p>good idea</p>",
        "id": 223527398,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244286
    },
    {
        "content": "<p>I can do it</p>",
        "id": 223527416,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244293
    },
    {
        "content": "<p>i just self-assigned <a href=\"https://github.com/rust-lang/rust/issues/80949\">#80949</a></p>",
        "id": 223527470,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244316
    },
    {
        "content": "<p>so, onto <a href=\"https://github.com/rust-lang/rust/issues/80988\">#80988</a> and <a href=\"https://github.com/rust-lang/rust/issues/81218\">#81218</a></p>",
        "id": 223527544,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244335
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/81218\">#81218</a> seems bad</p>",
        "id": 223527708,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244412
    },
    {
        "content": "<p>The lang team in essence concluded that <code>#[forbid(warnings)]</code> is largely an anti-pattern.</p>",
        "id": 223527715,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244414
    },
    {
        "content": "<p>do you mean -- by virtue of the system we approved</p>",
        "id": 223527839,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244451
    },
    {
        "content": "<p>or explicitly</p>",
        "id": 223527858,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244457
    },
    {
        "content": "<p>(i.e., did this happen at a meeting I missed)</p>",
        "id": 223527891,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244465
    },
    {
        "content": "<p>not sure which system you refer to. yes, this week</p>",
        "id": 223527908,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244472
    },
    {
        "content": "<p>I think the message was: People often do a blanket choice of trying to error on all warnings, and then allowing particular ones.</p>",
        "id": 223527991,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244503
    },
    {
        "content": "<p>(reading now)</p>",
        "id": 223528062,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244529
    },
    {
        "content": "<p>for a long time, due to a bug in how forbid dealt with lint-groups, that strategy worked</p>",
        "id": 223528073,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244533
    },
    {
        "content": "<p>and the conclusion of the lang team was that it never should have worked: Someone who wants to allow specific warnings should be using <code>#[deny(warnings)]</code> not <code>#[forbid(warnings)]</code></p>",
        "id": 223528204,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244574
    },
    {
        "content": "<p>but I also think that the lang team, in saying that, was <em>not</em> saying that the breakage from <a href=\"https://github.com/rust-lang/rust/issues/81218\">#81218</a> was acceptable.</p>",
        "id": 223528254,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244594
    },
    {
        "content": "<p>the lang team was instead saying that we should deal with <a href=\"https://github.com/rust-lang/rust/issues/81218\">#81218</a> via a narrow change, potentially specific to derive.</p>",
        "id": 223528392,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244645
    },
    {
        "content": "<p>(at least, that's my memory, mixed with my reading of <span class=\"user-mention silent\" data-user-id=\"125270\">scottmcm</span> 's summary of the matter.)</p>",
        "id": 223528427,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244663
    },
    {
        "content": "<p>(It is worth noting that we would need to work in ecosystem to try to do so, which is not infeasible, I guess)</p>",
        "id": 223528442,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244667
    },
    {
        "content": "<p>e.g. serde at least generates allows, including for clippy lint</p>",
        "id": 223528465,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244679
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-01-21.20.2354818/near/223528442\">said</a>:</p>\n<blockquote>\n<p>(It is worth noting that we would need to work in ecosystem to try to do so, which is not infeasible, I guess)</p>\n</blockquote>\n<p>making something specific to derive would require ecosystem work?</p>",
        "id": 223528518,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244688
    },
    {
        "content": "<p>question</p>",
        "id": 223528544,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244698
    },
    {
        "content": "<p>well, or some kind of hygiene, I guess</p>",
        "id": 223528554,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244702
    },
    {
        "content": "<p>okay, yeah.</p>",
        "id": 223528574,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244710
    },
    {
        "content": "<p>in the past, when serde inserted <code>#[allow]</code>, did that -- indeed -- cause the lint to be allowed?</p>",
        "id": 223528576,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244712
    },
    {
        "content": "<p>or was the <code>#[allow]</code> simply ignored (and hence lint would still be forbid)</p>",
        "id": 223528584,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244716
    },
    {
        "content": "<p>it caused it to be allowed, I'm pretty sure</p>",
        "id": 223528609,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244726
    },
    {
        "content": "<p>shoot I have to go right now</p>",
        "id": 223528668,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244749
    },
    {
        "content": "<p>could we just <em>lint</em> instead of error about the fact that we are ignoring an <code>allow</code>?</p>",
        "id": 223528672,
        "sender_full_name": "oli",
        "timestamp": 1611244750
    },
    {
        "content": "<p>the meeting time is up anyway</p>",
        "id": 223528705,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244765
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"124288\">oli</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-01-21.20.2354818/near/223528672\">said</a>:</p>\n<blockquote>\n<p>could we just <em>lint</em> instead of error about the fact that we are ignoring an <code>allow</code>?</p>\n</blockquote>\n<p>this is why I was asking</p>",
        "id": 223528734,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244778
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"124288\">oli</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-01-21.20.2354818/near/223528672\">said</a>:</p>\n<blockquote>\n<p>could we just <em>lint</em> instead of error about the fact that we are ignoring an <code>allow</code>?</p>\n</blockquote>\n<p>we could, but then you would (presumably) run into errors inside the derive, if the allow was ignored</p>",
        "id": 223528761,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244795
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"125250\">@Wesley Wiser</span> can you run through remainder of agenda? If not, I can come back later and look at it asynchronously</p>",
        "id": 223528768,
        "sender_full_name": "pnkfelix",
        "timestamp": 1611244799
    },
    {
        "content": "<p>it seems like we could, and it would fix the immediate error, but it might then still have problems because the lint would trigger an error</p>",
        "id": 223528769,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244800
    },
    {
        "content": "<p>unless the assumption is that derives incorrectly apply allows</p>",
        "id": 223528851,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244811
    },
    {
        "content": "<p>this is a pain in the neck :P</p>",
        "id": 223528906,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244830
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> when you said \"this would require changes in the ecosystem\", what were you envisioning? some kind of opt-in, or some way for derive code to choose not to use an allow?</p>",
        "id": 223528970,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244856
    },
    {
        "content": "<p>or changing the code derive generates to not trigger the lint?</p>",
        "id": 223529013,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244873
    },
    {
        "content": "<p>well, for example, we can edit the lints that are being allowed to not lint inside macros</p>",
        "id": 223529020,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244875
    },
    {
        "content": "<p>and then remove the allows</p>",
        "id": 223529030,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244882
    },
    {
        "content": "<p>or we can change the code derive generates, sure</p>",
        "id": 223529047,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244891
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-01-21.20.2354818/near/223529030\">said</a>:</p>\n<blockquote>\n<p>and then remove the allows</p>\n</blockquote>\n<p>so, this part we could fix by making it a lint to try to override a forbid</p>",
        "id": 223529094,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244908
    },
    {
        "content": "<p>right. we already have lots of lints that are skipped if reported in macros that are defined in other crates</p>",
        "id": 223529101,
        "sender_full_name": "oli",
        "timestamp": 1611244912
    },
    {
        "content": "<p>which arguably makes sense</p>",
        "id": 223529121,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244919
    },
    {
        "content": "<p>(though I think we previously decided on error)</p>",
        "id": 223529191,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244936
    },
    {
        "content": "<p>it is already crate-local, i.e. it is a forbid by default lint to which cap lints applies</p>",
        "id": 223529207,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244940
    },
    {
        "content": "<p>(not implemented as a lint but that's not too important)</p>",
        "id": 223529237,
        "sender_full_name": "simulacrum",
        "timestamp": 1611244956
    },
    {
        "content": "<p>right, I was saying it could be a \"warn by default\" lint basically</p>",
        "id": 223529306,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244981
    },
    {
        "content": "<p>anyway, I don't know we want to go there</p>",
        "id": 223529321,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611244986
    },
    {
        "content": "<p>conceivably though, as a lint, it too could be supressed on macro-generated code</p>",
        "id": 223529372,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611245001
    },
    {
        "content": "<p>in a somewhat consistent way</p>",
        "id": 223529387,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611245008
    },
    {
        "content": "<p>i.e., it's ok for macros to introduce allow, it just has no effect</p>",
        "id": 223529410,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611245014
    },
    {
        "content": "<blockquote>\n<p>unless the assumption is that derives incorrectly apply allows</p>\n</blockquote>\n<p>if this is not the assumption, then you would violate the forbidden lint anyway</p>",
        "id": 223529431,
        "sender_full_name": "simulacrum",
        "timestamp": 1611245025
    },
    {
        "content": "<p>my point is that if we make those two changes</p>",
        "id": 223529534,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611245048
    },
    {
        "content": "<p>so you would essentially just say \"lints do not carry into macros\"</p>",
        "id": 223529543,
        "sender_full_name": "simulacrum",
        "timestamp": 1611245052
    },
    {
        "content": "<p>we don't need to make changes in the ecosystem</p>",
        "id": 223529547,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611245053
    },
    {
        "content": "<p>yes, that is true</p>",
        "id": 223529554,
        "sender_full_name": "simulacrum",
        "timestamp": 1611245057
    },
    {
        "content": "<p>anyway, I think we want to move this into the issue by now</p>",
        "id": 223529563,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611245061
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-01-21.20.2354818/near/223528768\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"125250\">Wesley Wiser</span> can you run through remainder of agenda? If not, I can come back later and look at it asynchronously</p>\n</blockquote>\n<p>Apologies, had to take a call.</p>",
        "id": 223529566,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611245062
    },
    {
        "content": "<p>(I have to drop)</p>",
        "id": 223529734,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1611245150
    },
    {
        "content": "<p>I do as well, <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span></p>",
        "id": 223529800,
        "sender_full_name": "simulacrum",
        "timestamp": 1611245165
    },
    {
        "content": "<p>I'll run through the remaining items in case anyone is still sticking around.</p>",
        "id": 223529842,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611245182
    },
    {
        "content": "<h2>Performance logs</h2>\n<p><a href=\"https://github.com/rust-lang/rustc-perf/blob/master/triage/2021-01-20.md\">2021-01-20 Triage full log</a></p>\n<p>A busy week with more performance gains than regressions. These changes included one very large <a href=\"https://github.com/rust-lang/rust/issues/79670\">perf gain</a> and one very large <a href=\"https://github.com/rust-lang/rust/issues/78407\">perf regression</a> in stress test benchmarks that seem to only produce mild perf changes in real world use cases. </p>\n<p>Triage done by <strong>@rylev</strong>.</p>\n<p>3 Regressions, 5 Improvements, 4 Mixed<br>\n2 of them in rollups</p>",
        "id": 223529913,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611245216
    },
    {
        "content": "<p>Please see the triage log for the full details.</p>",
        "id": 223529948,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611245234
    },
    {
        "content": "<h4>Nags requiring follow up</h4>\n<ul>\n<li>Still need a follow up to one of last weeks <a href=\"https://github.com/rust-lang/rust/pull/80441\">perf regressions</a></li>\n</ul>",
        "id": 223529988,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611245259
    },
    {
        "content": "<p>Looks like the PR author has responded so I assume \"needs follow up\" means \"needs follow up from the perf triage team\"</p>",
        "id": 223530124,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611245314
    },
    {
        "content": "<h2>Nominated Issues</h2>\n<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler\">T-compiler</a></p>\n<ul>\n<li>No nominated issues for <code>T-compiler</code> this time.</li>\n</ul>",
        "id": 223530192,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611245346
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-nominated+label%3Alibs-impl\">libs-impl</a></p>\n<ul>\n<li>No nominated issues for <code>libs-impl</code> this time.</li>\n</ul>",
        "id": 223530203,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611245356
    },
    {
        "content": "<p>That's good as we're already well over time <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 223530227,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611245368
    },
    {
        "content": "<p>Small thing from me: I'm looking for feedback in <a class=\"stream-topic\" data-stream-id=\"131828\" href=\"/#narrow/stream/131828-t-compiler/topic/split.20dwarf.20and.20dependencies\">#t-compiler &gt; split dwarf and dependencies</a>, if anyone has time to go take a look.</p>",
        "id": 223530242,
        "sender_full_name": "davidtwco",
        "timestamp": 1611245372
    },
    {
        "content": "<p>I saw there was a bit of discussion in the linked issue. Perhaps it would be worth nominating for discussion next week?</p>",
        "id": 223530362,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611245418
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler\">RFC</a></p>\n<ul>\n<li>\"RFC: Checking conditional compilation at compile time\" <a href=\"https://github.com/rust-lang/rfcs/pull/3013\">rfcs#3013</a><ul>\n<li><a href=\"https://github.com/rust-lang/rfcs/pull/3013#pullrequestreview-568757930\">review by</a> by <span class=\"user-mention\" data-user-id=\"125250\">@Wesley Wiser</span> </li>\n<li>RFC author implemented new suggestions</li>\n</ul>\n</li>\n</ul>",
        "id": 223530382,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611245428
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125250\">Wesley Wiser</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-01-21.20.2354818/near/223530362\">said</a>:</p>\n<blockquote>\n<p>I saw there was a bit of discussion in the linked issue. Perhaps it would be worth nominating for discussion next week?</p>\n</blockquote>\n<p>That's a good idea</p>",
        "id": 223530391,
        "sender_full_name": "davidtwco",
        "timestamp": 1611245432
    },
    {
        "content": "<p>As noted I left a review on the RFC but I don't think it's been resolved yet. The RFC looks good to me other than that so I plan to start an FCP merge when that is addressed.</p>",
        "id": 223530568,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611245500
    },
    {
        "content": "<p>And that's the agenda</p>",
        "id": 223530599,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611245512
    },
    {
        "content": "<p>Thanks to anyone still here for attending. Have a great week! <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span></p>",
        "id": 223530668,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1611245526
    },
    {
        "content": "<p>Next meeting agenda draft is available here:<br>\n<a href=\"https://hackmd.io/jqGjB9zRSw6fL75yCHmLfA?view\">https://hackmd.io/jqGjB9zRSw6fL75yCHmLfA?view</a></p>\n<p>We will have checkins from:</p>\n<ul>\n<li><span class=\"user-group-mention\" data-user-group-id=\"1172\">@WG-async-foundations</span>   by <span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span>  and <span class=\"user-mention silent\" data-user-id=\"116883\">tmandry</span> </li>\n<li><span class=\"user-group-mention\" data-user-group-id=\"1187\">@WG-diagnostics</span> by <span class=\"user-mention silent\" data-user-id=\"119031\">Esteban Küber</span> and <span class=\"user-mention silent\" data-user-id=\"124288\">oli</span></li>\n</ul>",
        "id": 223538467,
        "sender_full_name": "apiraino",
        "timestamp": 1611248484
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202021-01-21.20.2354818/near/223523377\">said</a>:</p>\n<blockquote>\n<p>Do we know if the problem here is largely isolated to wundergraph, or if there's a bunch of other crates this affects?</p>\n</blockquote>\n<p>To just skim in here: <code>wundergraph</code> is just one crate where this actual happens, but the underlying code/trait complex is coming to large parts from diesel (everything, but the <code>HandleDelete</code> trait). So <code>wundergraph</code> is only triggering this, but the original cause is in diesel.</p>",
        "id": 223542333,
        "sender_full_name": "weiznich",
        "timestamp": 1611249990
    }
]