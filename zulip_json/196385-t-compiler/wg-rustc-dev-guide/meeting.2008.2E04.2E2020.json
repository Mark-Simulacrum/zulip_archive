[
    {
        "content": "<p>Hi <span class=\"user-group-mention\" data-user-group-id=\"1380\">@WG-rustc-dev-guide</span> ! We have a sync meeting today.</p>",
        "id": 205939368,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596564250
    },
    {
        "content": "<p>I'm not sure we have a lot to talk about</p>",
        "id": 205939383,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596564257
    },
    {
        "content": "<p>this is news to me <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 205939420,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596564274
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span> we've been trying to have meetings every 3 weeks... but they are sometimes not very eventful if not much has happened or needs discussion -- which is totally fine</p>",
        "id": 205939549,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596564348
    },
    {
        "content": "<p>If there is anything that anyone wants to discuss, please feel free to bring it up</p>",
        "id": 205939627,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596564375
    },
    {
        "content": "<p>I'd still like to get some help with <a href=\"https://github.com/rust-lang/rustc-dev-guide/pull/807\">https://github.com/rust-lang/rustc-dev-guide/pull/807</a> if possible</p>",
        "id": 205939628,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596564375
    },
    {
        "content": "<p>I posted <a href=\"https://github.com/rust-lang/rustc-dev-guide/pull/807#issuecomment-662216183\">https://github.com/rust-lang/rustc-dev-guide/pull/807#issuecomment-662216183</a> and never got a response</p>",
        "id": 205939662,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596564395
    },
    {
        "content": "<p>Sorry, I forgot to mention this above, but the meeting starts in ~1.5 h (at 7:30 UTC)</p>",
        "id": 205939730,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596564431
    },
    {
        "content": "<p>Maybe that's something we should discuss: recommendations and how to decide which ones to make in the guide</p>",
        "id": 205939860,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596564489
    },
    {
        "content": "<p>I think the current recommendations are pretty good :)</p>",
        "id": 205940142,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596564647
    },
    {
        "content": "<p>I do want to turn off building rustdoc by default at some point, I don't think there's a config.toml option for that</p>",
        "id": 205940169,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596564664
    },
    {
        "content": "<p><span class=\"user-group-mention\" data-user-group-id=\"1380\">@WG-rustc-dev-guide</span> <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span></p>",
        "id": 205949981,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596569628
    },
    {
        "content": "<p>to be honest I don't have much to discuss</p>",
        "id": 205950084,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596569668
    },
    {
        "content": "<p>but happy to go over stuff others have</p>",
        "id": 205950103,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596569679
    },
    {
        "content": "<p>if anyone has suggestions on <a href=\"https://github.com/rust-lang/rustc-dev-guide/pull/807#issuecomment-662216183\">https://github.com/rust-lang/rustc-dev-guide/pull/807#issuecomment-662216183</a> I'm happy to hear them :)</p>",
        "id": 205950182,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596569719
    },
    {
        "content": "<p>maybe that would also need an mcp (??) stages seems to be very confusing for people</p>",
        "id": 205950212,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596569735
    },
    {
        "content": "<p>checking ...</p>",
        "id": 205950217,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596569737
    },
    {
        "content": "<p>yeah, <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 205950351,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596569803
    },
    {
        "content": "<p>so this is very confusing and whatever could be done to make things better is a win</p>",
        "id": 205950375,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596569817
    },
    {
        "content": "<p>I guess it may need and MCP yeah</p>",
        "id": 205950384,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596569824
    },
    {
        "content": "<p>reading the whole PR right now ...</p>",
        "id": 205950422,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596569856
    },
    {
        "content": "<p>oh well I don't know if I'd recommend that <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 205950514,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596569890
    },
    {
        "content": "<p>it was pretty clear that the changes in the PR are not very helpful</p>",
        "id": 205950522,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596569899
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rustc-dev-guide/pull/807#issuecomment-662216183\">https://github.com/rust-lang/rustc-dev-guide/pull/807#issuecomment-662216183</a></p>",
        "id": 205950548,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596569922
    },
    {
        "content": "<p>Sorry! I'm here</p>",
        "id": 205950599,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596569949
    },
    {
        "content": "<p>hehehe</p>",
        "id": 205950600,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596569950
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span> have you thought what to do with <a href=\"https://github.com/rust-lang/rustc-dev-guide/pull/807/files#r458488472\">https://github.com/rust-lang/rustc-dev-guide/pull/807/files#r458488472</a> ?</p>",
        "id": 205950640,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596569972
    },
    {
        "content": "<p>yeah, with the new scheme I proposed it would be part of the <code>stage0-toolchain</code></p>",
        "id": 205950685,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596569998
    },
    {
        "content": "<p>the thing I <em>don't</em> know is what to call the compiler built by <code>build --stage 0 src/rustc</code></p>",
        "id": 205950771,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570018
    },
    {
        "content": "<p>one thing I wonder ...</p>",
        "id": 205950779,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570024
    },
    {
        "content": "<blockquote>\n<p>Like most other bootstrapping compilers, <code>rustc</code> is compiled in stages.<br>\n_Unlike_ most other compilers, where <code>stage0</code> refers to the bootstrap compiler</p>\n</blockquote>",
        "id": 205950783,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570025
    },
    {
        "content": "<p>it will end up as part of stage1-toolchain, but that seems confusing since you passed <code>--stage 0</code> on the command line</p>",
        "id": 205950801,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570037
    },
    {
        "content": "<p>can't we make it do what most other bootstrapping compilers do?</p>",
        "id": 205950803,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570039
    },
    {
        "content": "<p>I guess <code>build --stage 0 ...</code> doesn't make sense in an schema like that</p>",
        "id": 205950851,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570066
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205950803\">said</a>:</p>\n<blockquote>\n<p>can't we make it do what most other bootstrapping compilers do?</p>\n</blockquote>\n<p>well it's not clear that my description there is accurate</p>",
        "id": 205950861,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570070
    },
    {
        "content": "<p>I was actually wondering if we could do away with the terminology of \"stages\" altogether</p>",
        "id": 205950865,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570074
    },
    {
        "content": "<p>we just number all the steps from 0 to 15 (or whatever)</p>",
        "id": 205950896,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570091
    },
    {
        "content": "<p>if you consider <code>stage0/rustc</code> to be 'the stage0 compiler' then stage0 does mean bootstrap</p>",
        "id": 205950922,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570109
    },
    {
        "content": "<p>and you would say <code>./x.py build --step 12</code> to stop after step 12</p>",
        "id": 205950931,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570114
    },
    {
        "content": "<p>but as <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> has mentioned many times 'the stage N compiler' is extremely ambigous</p>",
        "id": 205950992,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570131
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"198054\">mark-i-m</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205950931\">said</a>:</p>\n<blockquote>\n<p>and you would say <code>./x.py build --step 12</code> to stop after step 12</p>\n</blockquote>\n<p>now you have to remember numbers instead of file paths <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>",
        "id": 205951018,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570145
    },
    {
        "content": "<p>hehe :)</p>",
        "id": 205951034,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570153
    },
    {
        "content": "<p>and it's not clear what the numbering should be for steps that don't depend on each other, like rustdoc and cargo</p>",
        "id": 205951043,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570159
    },
    {
        "content": "<p>yes, but the meaning is unambiguous</p>",
        "id": 205951048,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570163
    },
    {
        "content": "<p>I see value in the stages nomenclature is just that there are a lot of confusing things</p>",
        "id": 205951069,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570176
    },
    {
        "content": "<p>and in practice, you only have to remember 1 or 2 numbers I imagine</p>",
        "id": 205951072,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570179
    },
    {
        "content": "<p>depending on what you work on</p>",
        "id": 205951138,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570217
    },
    {
        "content": "<p>I don't think I'd prefer numbers even over the current mess <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 205951156,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570230
    },
    {
        "content": "<p>hehe yeah me neither to be honest</p>",
        "id": 205951208,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570244
    },
    {
        "content": "<p>it's too hard to remember them offhand if you're trying to help with a part of the compiler you don't touch often</p>",
        "id": 205951212,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570247
    },
    {
        "content": "<p>the problem I have is that I'm not even sure what is so confusing</p>",
        "id": 205951221,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570255
    },
    {
        "content": "<p>I guess the problem is with tools and with the fact that when you do -stage N src/rustc you're building N+1 compiler?</p>",
        "id": 205951252,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570286
    },
    {
        "content": "<p>the thing that confuses people I think is that <code>build --stage 1 src/rustc</code> builds the rust compiler <em>twice</em></p>",
        "id": 205951257,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570288
    },
    {
        "content": "<p>yeah</p>",
        "id": 205951263,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570297
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> I would say for me, it comes down to two things:</p>\n<ol>\n<li>nobody understands why all the steps are needed or what they are</li>\n</ol>",
        "id": 205951274,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570302
    },
    {
        "content": "<ol start=\"2\">\n<li>The naming of things makes it hard to understand the dependency structure of bootstrapping</li>\n</ol>",
        "id": 205951336,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570324
    },
    {
        "content": "<p>there are two things, fixing <code>x.py</code> and explaining everything a bit better</p>",
        "id": 205951371,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570358
    },
    {
        "content": "<p>e.g. when I say \"stage 1 rustc\" what does that require?</p>",
        "id": 205951420,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570365
    },
    {
        "content": "<p>well 'stage 1 rustc' is ambiguous in and of itself</p>",
        "id": 205951471,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570396
    },
    {
        "content": "<p>you can clarify by explaining everything perfect in the guide but if the command is a mess, the situation is still problematic</p>",
        "id": 205951474,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570397
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 205951493,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570408
    },
    {
        "content": "<p>it could mean either 'the compiler building stage1 artifacts' or 'the compiler that is a stage1 artifact'</p>",
        "id": 205951508,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570419
    },
    {
        "content": "<p>So if we don't want to go to only numbers, maybe we should get rid of the numbers altogether?</p>",
        "id": 205951543,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570440
    },
    {
        "content": "<p>the first thing is to clarify <code>--stage 1</code></p>",
        "id": 205951544,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570441
    },
    {
        "content": "<p>what does that mean?</p>",
        "id": 205951549,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570445
    },
    {
        "content": "<p>build stage 1?</p>",
        "id": 205951557,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570448
    },
    {
        "content": "<p>build with stage 1?</p>",
        "id": 205951568,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570453
    },
    {
        "content": "<p>i.e. instead of calling it stage 0 1 2 etc...</p>",
        "id": 205951581,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570459
    },
    {
        "content": "<p>call it beta-rustc, dev-rustc, prod-rustc?</p>",
        "id": 205951645,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570483
    },
    {
        "content": "<p>I think it depends on the thing you're building <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 205951656,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570486
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"119009\">eddyb</span> was describing it in terms of linking I think</p>",
        "id": 205951688,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570506
    },
    {
        "content": "<p>right, but can't that be changed?</p>",
        "id": 205951691,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570506
    },
    {
        "content": "<p>where 'stage0 libstd' and 'stage0 rustc artifacts' are linked together</p>",
        "id": 205951717,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570521
    },
    {
        "content": "<p>to produce stage 1 rustc, correct?</p>",
        "id": 205951772,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570555
    },
    {
        "content": "<p>right and in the last step you're linking everything and producing next stage :)</p>",
        "id": 205951791,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570561
    },
    {
        "content": "<p>to produce <code>stage1/rustc</code>, yes</p>",
        "id": 205951794,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570563
    },
    {
        "content": "<p>but it gets confusing because the libstd rustc is <em>linked</em> to is not the same one it uses to <em>compile</em> new programs</p>",
        "id": 205951815,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570578
    },
    {
        "content": "<p>the linked libstd is <code>--stage 0 library/std</code> while the compile std is <code>--stage 1 library/std</code></p>",
        "id": 205951839,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570593
    },
    {
        "content": "<p>and that one must be used with the stage 1 rustc, correct?</p>",
        "id": 205951919,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570620
    },
    {
        "content": "<p>i mean the stage 1 std</p>",
        "id": 205951933,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570631
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205951839\">said</a>:</p>\n<blockquote>\n<p>the linked libstd is <code>--stage 0 library/std</code> while the compile std is <code>--stage 1 library/std</code></p>\n</blockquote>\n<p>yep but that's work of the guide to explain that</p>",
        "id": 205951939,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570635
    },
    {
        "content": "<p>I meant, you would never understand this if you don't understand that the compiler compiles itself</p>",
        "id": 205951953,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570648
    },
    {
        "content": "<p>I mean... it's hard to understand even if you do know that <span aria-label=\"stuck out tongue\" class=\"emoji emoji-1f61d\" role=\"img\" title=\"stuck out tongue\">:stuck_out_tongue:</span></p>",
        "id": 205951989,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570672
    },
    {
        "content": "<p>what I meant is ... in the command arguments I wouldn't try to fix that problem :)</p>",
        "id": 205952003,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570680
    },
    {
        "content": "<p>I think if we described stages in terms of 'things linked together' it would help</p>",
        "id": 205952026,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570694
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"198054\">mark-i-m</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205951989\">said</a>:</p>\n<blockquote>\n<p>I mean... it's hard to understand even if you do know that :P</p>\n</blockquote>\n<p>yeah I know, but I blame other things :)</p>",
        "id": 205952037,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570700
    },
    {
        "content": "<p>as opposed to 'things run together'</p>",
        "id": 205952042,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570700
    },
    {
        "content": "<p>Well, I agree, but I also think that the naming of things greatly impacts how you think of things intuitively</p>",
        "id": 205952139,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570734
    },
    {
        "content": "<p>in my opinion <code>build --stage N</code> should always mean build (whatever you're building) for stage N</p>",
        "id": 205952159,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570747
    },
    {
        "content": "<p>for example if we called them \"link-stages\" instead, would that be better?</p>",
        "id": 205952161,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570748
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205952159\">said</a>:</p>\n<blockquote>\n<p>in my opinion <code>build --stage N</code> should always mean build (whatever you're building) for stage N</p>\n</blockquote>\n<p>so no build next compiler, build just N</p>",
        "id": 205952190,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570765
    },
    {
        "content": "<p>I think we should get <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> or <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> to give an opinion on this</p>",
        "id": 205952203,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570773
    },
    {
        "content": "<p>I've been told I have bad opinions <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 205952214,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570778
    },
    {
        "content": "<p>that would mean that --stage 0 src/rustc doesn't make any sense</p>",
        "id": 205952218,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570780
    },
    {
        "content": "<p>I probably have bad opinions too</p>",
        "id": 205952253,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570798
    },
    {
        "content": "<p>:)</p>",
        "id": 205952259,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570799
    },
    {
        "content": "<p>Lol, and yet somehow we're the ones writing the dev guide <span aria-label=\"stuck out tongue\" class=\"emoji emoji-1f61d\" role=\"img\" title=\"stuck out tongue\">:stuck_out_tongue:</span></p>",
        "id": 205952291,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570820
    },
    {
        "content": "<p><span aria-label=\"joy\" class=\"emoji emoji-1f602\" role=\"img\" title=\"joy\">:joy:</span></p>",
        "id": 205952307,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570830
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205952159\">said</a>:</p>\n<blockquote>\n<p>in my opinion <code>build --stage N</code> should always mean build (whatever you're building) for stage N</p>\n</blockquote>\n<p>my main question is this <span aria-label=\"point up\" class=\"emoji emoji-1f446\" role=\"img\" title=\"point up\">:point_up:</span></p>",
        "id": 205952322,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570839
    },
    {
        "content": "<p>do you think this make sense or no?</p>",
        "id": 205952372,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570846
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205952190\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205952159\">said</a>:</p>\n<blockquote>\n<p>in my opinion <code>build --stage N</code> should always mean build (whatever you're building) for stage N</p>\n</blockquote>\n<p>so no build next compiler, build just N</p>\n</blockquote>\n<p>I think it would make more sense for <code>--stage N</code> to mean  'things run together', yeah, but that's not how x.py currently works</p>",
        "id": 205952386,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570851
    },
    {
        "content": "<p>let me try to find the discussion with <span class=\"user-mention silent\" data-user-id=\"119009\">eddyb</span></p>",
        "id": 205952412,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570870
    },
    {
        "content": "<p>ohh yeah, I'm talking about changing the meaning of it</p>",
        "id": 205952417,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570873
    },
    {
        "content": "<p>to mean that <code>--stage N</code> means build stage N whatever that is for the thing you're building</p>",
        "id": 205952478,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596570896
    },
    {
        "content": "<p><del>time for another MCP</del></p>",
        "id": 205952635,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596570976
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> so you mean that <code>--stage 1 rustc</code> would build the master branch with the nightly and stop?</p>",
        "id": 205952673,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596570996
    },
    {
        "content": "<p>right</p>",
        "id": 205952680,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596571002
    },
    {
        "content": "<p>sorry, I mean build master with beta and stop</p>",
        "id": 205952713,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571021
    },
    {
        "content": "<p>yes</p>",
        "id": 205952732,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596571031
    },
    {
        "content": "<p>i.e. it would compile rustc exactly once</p>",
        "id": 205952733,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571031
    },
    {
        "content": "<p>right, which do not make a lot of sense in general</p>",
        "id": 205952755,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596571042
    },
    {
        "content": "<p>or yeah :)</p>",
        "id": 205952759,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596571045
    },
    {
        "content": "<p>depending on what you're doing</p>",
        "id": 205952764,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596571051
    },
    {
        "content": "<p>that still means <code>--stage 1 libstd</code> builds libstd twice</p>",
        "id": 205952829,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596571077
    },
    {
        "content": "<p>yes</p>",
        "id": 205952875,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571086
    },
    {
        "content": "<p>because rustc depends on being linked with the <em>nightly</em> libstd, not the <em>beta</em> libstd</p>",
        "id": 205952888,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596571093
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205952829\">said</a>:</p>\n<blockquote>\n<p>that still means <code>--stage 1 libstd</code> builds libstd twice</p>\n</blockquote>\n<p>yes</p>",
        "id": 205952910,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596571108
    },
    {
        "content": "<p>but what's wrong with that? :)</p>",
        "id": 205952928,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596571115
    },
    {
        "content": "<p>well wait</p>",
        "id": 205952940,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571122
    },
    {
        "content": "<p>we would build std with beta and link that with the compiler also built with beta</p>",
        "id": 205952981,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571143
    },
    {
        "content": "<p>but we would have to compile std again to be able to link anything produced with the new compiler</p>",
        "id": 205953011,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571161
    },
    {
        "content": "<p>to be able to compile anything other than <code>#[no_core]</code>, you mean</p>",
        "id": 205953054,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596571182
    },
    {
        "content": "<p>I have another meeting now, will read the logs after it</p>",
        "id": 205953058,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596571184
    },
    {
        "content": "<p>so we only need to build std twice if we want to use the new compiler for something... iirc the tests do not all need core</p>",
        "id": 205953127,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571205
    },
    {
        "content": "<p>(but I'm not sure)</p>",
        "id": 205953152,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571214
    },
    {
        "content": "<p>ideally, yes, but not currently</p>",
        "id": 205953161,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596571216
    },
    {
        "content": "<p>ah, ok</p>",
        "id": 205953176,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571221
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/73519\">https://github.com/rust-lang/rust/issues/73519</a></p>",
        "id": 205953178,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596571221
    },
    {
        "content": "<p>So I don't really like the \"stage\" based naming</p>",
        "id": 205953302,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571277
    },
    {
        "content": "<p>I feel like the definition of \"stage\" is too arbitrary. what is a \"stage\"?</p>",
        "id": 205953359,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571303
    },
    {
        "content": "<p>we could have <code>--link-stage</code> and <code>--run-stage</code> maybe</p>",
        "id": 205953374,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596571309
    },
    {
        "content": "<p>where <code>--link-stage</code> is an alias for <code>--stage</code> currently and <code>--run-stage</code> is the new thing we're talking about</p>",
        "id": 205953437,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596571326
    },
    {
        "content": "<p>hmm interesting</p>",
        "id": 205953438,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571327
    },
    {
        "content": "<p>but that's probably a nightmare to maintain in bootstrap haha</p>",
        "id": 205953495,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596571368
    },
    {
        "content": "<p>I'm still having a bit of a hard time conceptuallizing what --run-stage means exactly</p>",
        "id": 205953677,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571458
    },
    {
        "content": "<p>other than \"build it exactly N times\"</p>",
        "id": 205953703,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571476
    },
    {
        "content": "<p>which is different from \"build stuff that can be used together\"</p>",
        "id": 205953719,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571488
    },
    {
        "content": "<p>--run-stage to me means 'rustc is the beginning of the stage and not the end'</p>",
        "id": 205953786,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596571530
    },
    {
        "content": "<p>we're moving the fenceposts</p>",
        "id": 205953800,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596571538
    },
    {
        "content": "<p>ugh I had this whole discussion with eddyb and I can't find it again</p>",
        "id": 205953878,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596571565
    },
    {
        "content": "<p>ayyy here it is <a href=\"https://discordapp.com/channels/442252698964721669/443151243398086667/729451651500474530\">https://discordapp.com/channels/442252698964721669/443151243398086667/729451651500474530</a></p>",
        "id": 205953998,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596571642
    },
    {
        "content": "<p>that whole thread is just me getting more and more confused lol</p>",
        "id": 205954254,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596571801
    },
    {
        "content": "<p>Any thoughts about getting rid of the numbering altogether?</p>",
        "id": 205954371,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571863
    },
    {
        "content": "<p>I still think having a bad numbering is better than no number at all :/</p>",
        "id": 205954407,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596571881
    },
    {
        "content": "<p>I think I disagree</p>",
        "id": 205954435,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571900
    },
    {
        "content": "<p>I would rather have only numbers or no numbers</p>",
        "id": 205954448,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571910
    },
    {
        "content": "<p>but no ambiguity</p>",
        "id": 205954453,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571917
    },
    {
        "content": "<p>otherwise, we have to figure out where to put the boundaries between numbers</p>",
        "id": 205954518,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596571934
    },
    {
        "content": "<p>well, for now I think we should document that <code>--stage</code> means <code>--link-stage</code></p>",
        "id": 205954718,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596572081
    },
    {
        "content": "<p>and we can worry about making it less confusing later</p>",
        "id": 205954727,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596572089
    },
    {
        "content": "<p>I guess that seems reasonable</p>",
        "id": 205954798,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596572124
    },
    {
        "content": "<p>Though, I do think de-confus-ifying it would be a massively helpful</p>",
        "id": 205954837,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596572148
    },
    {
        "content": "<p>I'll make a PR adding that as an alias too</p>",
        "id": 205955038,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596572241
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205954718\">said</a>:</p>\n<blockquote>\n<p>well, for now I think we should document that <code>--stage</code> means <code>--link-stage</code></p>\n</blockquote>\n<p>or we should just rename that thing</p>",
        "id": 205955632,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596572546
    },
    {
        "content": "<p>one of the main things is that <code>--stage</code> is confusing so using a more clear name would be better imo</p>",
        "id": 205955668,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596572580
    },
    {
        "content": "<p>I need to think about this more... I would be interested in seeing what the rest of the compiler team thinks</p>",
        "id": 205955706,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596572608
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205955632\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205954718\">said</a>:</p>\n<blockquote>\n<p>well, for now I think we should document that <code>--stage</code> means <code>--link-stage</code></p>\n</blockquote>\n<p>or we should just rename that thing</p>\n</blockquote>\n<p>I was just thinking about this - part of the problem is it means different things in different contexts</p>",
        "id": 205955875,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596572685
    },
    {
        "content": "<p><code>test --stage 1</code> means 'run <code>stage1/rustc</code>'</p>",
        "id": 205955896,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596572702
    },
    {
        "content": "<p>which is built by <code>build --stage 0 src/rustc</code></p>",
        "id": 205955917,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596572713
    },
    {
        "content": "<p>so just a hard rename won't help</p>",
        "id": 205955932,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596572720
    },
    {
        "content": "<p>because now it implies the wrong thing for tests</p>",
        "id": 205955945,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596572730
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205955896\">said</a>:</p>\n<blockquote>\n<p><code>test --stage 1</code> means 'run <code>stage1/rustc</code>'</p>\n</blockquote>\n<p>but that's test argument, it could totally be named differently</p>",
        "id": 205956044,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596572764
    },
    {
        "content": "<p>ah hmm</p>",
        "id": 205956064,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596572771
    },
    {
        "content": "<p>yeah I was considering that <code>doc --stage N</code> be renamed as well</p>",
        "id": 205956076,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596572781
    },
    {
        "content": "<p>right now it's off-by-one with the rest of the compiler</p>",
        "id": 205956092,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596572788
    },
    {
        "content": "<p>in that <code>--stage 0</code> runs the <em>beta</em> rustdoc, not the one in tree</p>",
        "id": 205956120,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596572807
    },
    {
        "content": "<p>right</p>",
        "id": 205956423,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596572978
    },
    {
        "content": "<p>Ok, does this look correct?</p>\n<p>EDIT: IT is NOT. See below ...</p>",
        "id": 205961261,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596575402
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/D0lnw8xg6AXPqUHuRhrIjEmC/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/D0lnw8xg6AXPqUHuRhrIjEmC/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/D0lnw8xg6AXPqUHuRhrIjEmC/image.png\"></a></div>",
        "id": 205961300,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596575405
    },
    {
        "content": "<p>And my understanding is that <code>--link-stage</code> corresponds to rows, whereas the hypothetical <code>--run-stage</code> corresponds to columns, right?</p>",
        "id": 205961405,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596575476
    },
    {
        "content": "<p>yes, exactly! <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span></p>",
        "id": 205961647,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596575625
    },
    {
        "content": "<p>Or am I confusing myself and bootstrap stages actually correspond to columns?</p>",
        "id": 205961754,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596575645
    },
    {
        "content": "<p>err yeah that one</p>",
        "id": 205961763,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596575655
    },
    {
        "content": "<p>can you add labels for the columns too?</p>",
        "id": 205961772,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596575664
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"198054\">mark-i-m</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205961405\">said</a>:</p>\n<blockquote>\n<p>And my understanding is that <code>--link-stage</code> corresponds to rows, whereas the hypothetical <code>--run-stage</code> corresponds to columns, right?</p>\n</blockquote>\n<p>And this is backwards</p>",
        "id": 205961853,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596575723
    },
    {
        "content": "<p>right</p>",
        "id": 205961873,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596575735
    },
    {
        "content": "<p>I know I said it before, but this is a chart for the <em><code>build</code></em> subcommand, test and doc use stages differently <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 205961969,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596575776
    },
    {
        "content": "<p>Huh? Doesn't test N just test the results of build stage N?</p>",
        "id": 205962043,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596575832
    },
    {
        "content": "<p>no, it tests stage N - 1</p>",
        "id": 205962254,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596575961
    },
    {
        "content": "<p><code>x.py test --stage 1 src/test/ui</code> is running <code>stage1/rustc</code></p>",
        "id": 205962270,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596575976
    },
    {
        "content": "<p>which is built using <code>build --stage 0 rustc</code></p>",
        "id": 205962278,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596575984
    },
    {
        "content": "<p>?</p>",
        "id": 205962361,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596576024
    },
    {
        "content": "<p>It sounds like that's testing <code>stage1/rustc</code> to me?</p>",
        "id": 205962380,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596576038
    },
    {
        "content": "<p><span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span> I didn't come up with this scheme</p>",
        "id": 205962382,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596576039
    },
    {
        "content": "<p>yes, but stage1/rustc is uplifted from stage0 artifacts</p>",
        "id": 205962397,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596576054
    },
    {
        "content": "<p>right, but we're not testing the beta compiler, which would be \"stage 0 rustc\"</p>",
        "id": 205962460,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596576103
    },
    {
        "content": "<p>we're actually testing the code built from the tip of master</p>",
        "id": 205962484,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596576119
    },
    {
        "content": "<p>which is stage N, not N-1, right?</p>",
        "id": 205962543,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596576135
    },
    {
        "content": "<p>well that's what I mean by numbered differently than <code>build</code></p>",
        "id": 205962563,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596576149
    },
    {
        "content": "<p>oh, I see, I'm thinking in rows instead of columns again</p>",
        "id": 205962576,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596576159
    },
    {
        "content": "<p>one sec, let me update the figure</p>",
        "id": 205962600,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596576178
    },
    {
        "content": "<p>yes that's what's so frustrating, <code>test</code> uses rows and <code>build</code> uses columns</p>",
        "id": 205962601,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596576178
    },
    {
        "content": "<p>I think <code>doc</code> uses rows too</p>",
        "id": 205962624,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596576196
    },
    {
        "content": "<p>maybe the challenge then is to come up with good names for the rows and columns</p>",
        "id": 205962629,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596576198
    },
    {
        "content": "<p>having names for them is actually really helpful even if it's only rows and columns lol</p>",
        "id": 205962659,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596576216
    },
    {
        "content": "<p>actually yes</p>",
        "id": 205962678,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596576232
    },
    {
        "content": "<p>I think <code>--run-stage</code> and <code>--link-stage</code> are decent for them</p>",
        "id": 205962757,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596576273
    },
    {
        "content": "<p>Ok, here is attempt 2</p>",
        "id": 205964676,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596577403
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/CnQwAcJeKBYiZVY5Q3rgNSQE/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/CnQwAcJeKBYiZVY5Q3rgNSQE/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/CnQwAcJeKBYiZVY5Q3rgNSQE/image.png\"></a></div>",
        "id": 205964677,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596577404
    },
    {
        "content": "<p>Indeed, I feel like it makes way more sense to just use run-stages</p>",
        "id": 205964872,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596577544
    },
    {
        "content": "<p>(i.e. rows)</p>",
        "id": 205964886,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596577558
    },
    {
        "content": "<p>this looks great :D</p>",
        "id": 205964942,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596577579
    },
    {
        "content": "<p>I would change the doc wording to 'document using the rustdoc from row N'</p>",
        "id": 205965028,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596577612
    },
    {
        "content": "<p>since you might not be documenting everything</p>",
        "id": 205965037,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596577617
    },
    {
        "content": "<p>sorry, I didn't catch that last part. What do you mean?</p>",
        "id": 205965142,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596577669
    },
    {
        "content": "<p>well documenting everything isn't really what I mean</p>",
        "id": 205965589,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596577996
    },
    {
        "content": "<p>more like the source for the docs doesn't change between stages</p>",
        "id": 205965602,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596578011
    },
    {
        "content": "<p>the only thing that changes is which rustdoc you use</p>",
        "id": 205965606,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596578017
    },
    {
        "content": "<p>I see</p>",
        "id": 205965932,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596578279
    },
    {
        "content": "<p>yeah, that makes sense</p>",
        "id": 205965972,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596578283
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/mNELUk-LsFawVyh3VMaXojVP/diagram.pdf\">diagram.pdf</a></p>",
        "id": 205966086,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596578366
    },
    {
        "content": "<p>Updated ^^^</p>",
        "id": 205966096,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596578374
    },
    {
        "content": "<p>Currently, it's in latex, but maybe we should use something like mermaid instead</p>",
        "id": 205966191,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596578414
    },
    {
        "content": "<p>In any case, I'm more on board with changing everything to use run-stages now...</p>",
        "id": 205966291,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596578475
    },
    {
        "content": "<p>Umm... I guess we never said this, but thanks for the interesting meeting <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span></p>",
        "id": 205968792,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596580141
    },
    {
        "content": "<p><span aria-label=\"stuck out tongue\" class=\"emoji emoji-1f61d\" role=\"img\" title=\"stuck out tongue\">:stuck_out_tongue:</span></p>",
        "id": 205968806,
        "sender_full_name": "mark-i-m",
        "timestamp": 1596580149
    },
    {
        "content": "<p>no problem :)</p>",
        "id": 205968927,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596580232
    },
    {
        "content": "<p>I seem to have a habit of making things <em>interesting</em> wherever I go <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 205968939,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596580244
    },
    {
        "content": "<p>opened <a href=\"https://github.com/rust-lang/rust/pull/75167\">https://github.com/rust-lang/rust/pull/75167</a> with the <code>--run-stage</code> and <code>--link-stage</code> aliases</p>",
        "id": 205974714,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1596585014
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"198054\">mark-i-m</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205964677\">said</a>:</p>\n<blockquote>\n<p><a href=\"/user_uploads/4715/CnQwAcJeKBYiZVY5Q3rgNSQE/image.png\">image.png</a></p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"198054\">@mark-i-m</span> <span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span> all this is awesome <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span> <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span></p>",
        "id": 206080966,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596663135
    },
    {
        "content": "<p>so ... I need to leave the meeting for it to be productive <span aria-label=\"stuck out tongue\" class=\"emoji emoji-1f61b\" role=\"img\" title=\"stuck out tongue\">:stuck_out_tongue:</span></p>",
        "id": 206080992,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596663153
    },
    {
        "content": "<p>but yes, in my opinion this looks great</p>",
        "id": 206081017,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596663169
    },
    {
        "content": "<p>and an idea like this will improve things a lot</p>",
        "id": 206081052,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596663198
    },
    {
        "content": "<p>unsure what the <span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> and <span class=\"user-mention silent\" data-user-id=\"119009\">eddyb</span> thinks about all this but I hope it makes sense and we can make such a change</p>",
        "id": 206081078,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1596663215
    },
    {
        "content": "<p>Did anyone ever follow-up with a PR adding the diagram? I don't have time today but I'd hate for it to get lost</p>",
        "id": 206479144,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1597075727
    },
    {
        "content": "<p>No I don't think we did</p>",
        "id": 206510906,
        "sender_full_name": "mark-i-m",
        "timestamp": 1597092242
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span> where do you think we should add it?</p>",
        "id": 206510980,
        "sender_full_name": "mark-i-m",
        "timestamp": 1597092281
    },
    {
        "content": "<p>In the bootstrapping chapter or else where? or multiple places?</p>",
        "id": 206511011,
        "sender_full_name": "mark-i-m",
        "timestamp": 1597092302
    },
    {
        "content": "<p>I think the bootstrapping chapter would be fine. Hopefully after the defaults PR this is no longer something that's commonly modified.</p>",
        "id": 206515032,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1597094522
    },
    {
        "content": "<p>It would be great to redo the wall of text at the same time too, every time I read it my eyes glaze over haha</p>",
        "id": 206517626,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1597096044
    },
    {
        "content": "<p>The one that's called 'stages of bootstrap' or something</p>",
        "id": 206517643,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1597096062
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205974714\">said</a>:</p>\n<blockquote>\n<p>opened <a href=\"https://github.com/rust-lang/rust/pull/75167\">https://github.com/rust-lang/rust/pull/75167</a> with the <code>--run-stage</code> and <code>--link-stage</code> aliases</p>\n</blockquote>\n<p>so ... this ended up not going anywhere</p>",
        "id": 208627536,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598915915
    },
    {
        "content": "<p>maybe <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> lost track of it in notifications?</p>",
        "id": 208627560,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598915936
    },
    {
        "content": "<p>If you think the entire idea is bad let me know, I have the same question as I did in <a href=\"https://github.com/rust-lang/rust/pull/75167#issuecomment-674427093\">https://github.com/rust-lang/rust/pull/75167#issuecomment-674427093</a> of <em>why</em> you think the current behavior is consistent</p>",
        "id": 208627593,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598915977
    },
    {
        "content": "<p>I still need to sit down and write that up</p>",
        "id": 208627734,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916077
    },
    {
        "content": "<p>I feel like my answer is <em>probably</em> that I don't necessarily see it as consistent but I just know what to reach for when because the cases I invoke I either initially made do what I expect or just learned them</p>",
        "id": 208627875,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916197
    },
    {
        "content": "<p>i.e. I can't explain the system but having written it and used my cases enough I personally can use it well</p>",
        "id": 208627902,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916228
    },
    {
        "content": "<p>(sort of our standard problem when designing for \"new\" people unfamiliar, by the time they are feeling sufficiently comfortable to suggest concrete changes we can't easily accommodate that)</p>",
        "id": 208628030,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916342
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span> one of my thoughts was to stop changing x.py for these incremental edits, add something like y.py and map everything to the old system</p>",
        "id": 208628110,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916386
    },
    {
        "content": "<p>(with y.py as explicitly unstable)</p>",
        "id": 208628118,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916397
    },
    {
        "content": "<p>I am hesitant to edit the thing everyone uses more than like, once a cycle, but I think we should have a way to experiment without touching normal workflows</p>",
        "id": 208628203,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916460
    },
    {
        "content": "<p>Hmm ... One of the reasons for --run-stage was specifically so people didn't have to change their workflows</p>",
        "id": 208628281,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598916499
    },
    {
        "content": "<p>So we can start trying to teach the new mental model without preventing people from getting work done</p>",
        "id": 208628305,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598916520
    },
    {
        "content": "<p>One of the reasons I'm really hesitant is that all of this feels like it's a very incremental change and there's going to 4-5 more in the pipeline and I sort of want to have more of a flag day rather than incrementally landing them</p>",
        "id": 208628339,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916554
    },
    {
        "content": "<p>I can make one giant PR if you want :P</p>",
        "id": 208628368,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598916578
    },
    {
        "content": "<p>I'm a little worried about bikeshedding but I'm willing to put the time in</p>",
        "id": 208628386,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598916594
    },
    {
        "content": "<p>My understanding continues to be that the run stage and link stage aren't really good to switch to, they're behavior will change</p>",
        "id": 208628397,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916599
    },
    {
        "content": "<p>well - I don't think I ever heard your opinion on the diagram, does this look like an accurate description of the current behavior? <br>\n<span class=\"user-mention silent\" data-user-id=\"198054\">mark-i-m</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/205964677\">said</a>:</p>\n<blockquote>\n<p><a href=\"/user_uploads/4715/CnQwAcJeKBYiZVY5Q3rgNSQE/image.png\">image.png</a></p>\n</blockquote>",
        "id": 208628487,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598916645
    },
    {
        "content": "<p>because according to that model, the only thing that would happen is we'd transition out <code>--build-stage</code> and everything would use <code>--run-stage</code></p>",
        "id": 208628516,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598916670
    },
    {
        "content": "<p>I personally am thinking we try to explicitly MCP a group of people who would make a full proposal</p>",
        "id": 208628518,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916671
    },
    {
        "content": "<p>but the <em>meaning</em> of --run-stage wouldn't change</p>",
        "id": 208628540,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598916694
    },
    {
        "content": "<p>I can't comment on the image because I don't think in those terms</p>",
        "id": 208628559,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916710
    },
    {
        "content": "<p>Like, I don't try to think \"what am I testing\" usually</p>",
        "id": 208628616,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916725
    },
    {
        "content": "<p>It's too intuitive for me (I just don't think)</p>",
        "id": 208628634,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916742
    },
    {
        "content": "<p>this makes it hard to have discussions about what <code>--stage</code> means <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 208628650,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598916765
    },
    {
        "content": "<p>Right, sure</p>",
        "id": 208628676,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916780
    },
    {
        "content": "<p>I'm saying that I'm not a good person perhaps to discuss this with</p>",
        "id": 208628714,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916822
    },
    {
        "content": "<p>hmm ... maybe me and <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> and maybe another few people from rustc-dev-guide could be that MCP team</p>",
        "id": 208628776,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598916863
    },
    {
        "content": "<p>if <span class=\"user-mention silent\" data-user-id=\"119009\">eddyb</span> and I can agree on something about stages I think other most people will be able to agree as well <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span> we disagree on a lot</p>",
        "id": 208628819,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598916909
    },
    {
        "content": "<p>Like, I'm still in the \"what we have is not bad\" essentially phase, kinda like what Niko talked about at RustConf</p>",
        "id": 208628829,
        "sender_full_name": "simulacrum",
        "timestamp": 1598916922
    },
    {
        "content": "<p>I think what we have is really really hard to teach</p>",
        "id": 208628851,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598916944
    },
    {
        "content": "<p>it might be easy to use, but it's hard to get a good consistent mental model</p>",
        "id": 208628864,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598916955
    },
    {
        "content": "<p>dreaming about a world in which that's the most pressing thing I have to deal with</p>",
        "id": 208628865,
        "sender_full_name": "eddyb",
        "timestamp": 1598916958
    },
    {
        "content": "<p>(not saying it's not important, it's just... I wish I could get around to stuff like that sooner instead of being constantly buried under piles of other things)</p>",
        "id": 208628942,
        "sender_full_name": "eddyb",
        "timestamp": 1598916988
    },
    {
        "content": "<p>yeah that's fair</p>",
        "id": 208628952,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598916993
    },
    {
        "content": "<p>blocking everyone constantly isn't fair either</p>",
        "id": 208628961,
        "sender_full_name": "eddyb",
        "timestamp": 1598917007
    },
    {
        "content": "<p>in the meantime, do either of you have objections to adding that diagram to rustc-dev-guide?</p>",
        "id": 208628971,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598917016
    },
    {
        "content": "<p>no changes to x.py at all, just trying to teach the mental model <em>I</em> have of it?</p>",
        "id": 208628991,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598917032
    },
    {
        "content": "<p>(link so you don't have to scroll: <a href=\"user_uploads/4715/BmwEV3c3tuDuh_0Hg6urEjUq/image.png\">image.png</a>)</p>\n<div class=\"message_inline_image\"><a href=\"user_uploads/4715/BmwEV3c3tuDuh_0Hg6urEjUq/image.png\" title=\"image.png\"><img src=\"user_uploads/4715/BmwEV3c3tuDuh_0Hg6urEjUq/image.png\"></a></div>",
        "id": 208629014,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598917048
    },
    {
        "content": "<p>I mean no?</p>",
        "id": 208629089,
        "sender_full_name": "simulacrum",
        "timestamp": 1598917084
    },
    {
        "content": "<p>But like I can't evaluate whether it's good teaching material or what</p>",
        "id": 208629102,
        "sender_full_name": "simulacrum",
        "timestamp": 1598917098
    },
    {
        "content": "<p>I'm not the right person to ask</p>",
        "id": 208629115,
        "sender_full_name": "simulacrum",
        "timestamp": 1598917109
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> do you have a few seconds to look over it?</p>",
        "id": 208629152,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598917140
    },
    {
        "content": "<p>uhh</p>",
        "id": 208629157,
        "sender_full_name": "eddyb",
        "timestamp": 1598917144
    },
    {
        "content": "<p>OHHHHHHH</p>",
        "id": 208629171,
        "sender_full_name": "eddyb",
        "timestamp": 1598917155
    },
    {
        "content": "<p>I try to not explain x.py</p>",
        "id": 208629175,
        "sender_full_name": "simulacrum",
        "timestamp": 1598917158
    },
    {
        "content": "<p>I only saw run-stage</p>",
        "id": 208629181,
        "sender_full_name": "eddyb",
        "timestamp": 1598917163
    },
    {
        "content": "<p>and was disappointed for a bit</p>",
        "id": 208629183,
        "sender_full_name": "eddyb",
        "timestamp": 1598917170
    },
    {
        "content": "<p>Just tell people \"do this\"</p>",
        "id": 208629185,
        "sender_full_name": "simulacrum",
        "timestamp": 1598917172
    },
    {
        "content": "<p>this is actually a galaxy brain way to show the two sides of it</p>",
        "id": 208629196,
        "sender_full_name": "eddyb",
        "timestamp": 1598917187
    },
    {
        "content": "<p>okay I'm impressed</p>",
        "id": 208629247,
        "sender_full_name": "eddyb",
        "timestamp": 1598917209
    },
    {
        "content": "<p>yay! <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 208629260,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598917231
    },
    {
        "content": "<p>I'll make a PR with this then :) and I can finally get rid of the wall of text under 'stages of bootstrapping'</p>",
        "id": 208629278,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598917247
    },
    {
        "content": "<p>don't give me all the credit, <span class=\"user-mention\" data-user-id=\"198054\">@mark-i-m</span> made the diagram :)</p>",
        "id": 208629308,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598917277
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"198054\">@mark-i-m</span> thank you, this is great :D</p>",
        "id": 208629326,
        "sender_full_name": "eddyb",
        "timestamp": 1598917295
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span> looking at this table it's very easy to say that for developing rustc you want the first two rows, and for a full distro build you want the first 3 rows</p>",
        "id": 208629691,
        "sender_full_name": "eddyb",
        "timestamp": 1598917577
    },
    {
        "content": "<p>and we can include language like that</p>",
        "id": 208629698,
        "sender_full_name": "eddyb",
        "timestamp": 1598917587
    },
    {
        "content": "<p>or even something on the right side of the table to indicate how much you normally want</p>",
        "id": 208629708,
        "sender_full_name": "eddyb",
        "timestamp": 1598917604
    },
    {
        "content": "<p>Yes! The rows/columns terminology makes it so much easier to talk about</p>",
        "id": 208629721,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598917622
    },
    {
        "content": "<p>I might add some sort of \"building everything [and its dependencies] but maybe that's obvious</p>",
        "id": 208629749,
        "sender_full_name": "simulacrum",
        "timestamp": 1598917668
    },
    {
        "content": "<p>I would put that in the overview I think, not necessarily in the diagram</p>",
        "id": 208629810,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598917696
    },
    {
        "content": "<p>we could make it clear that we always build all dependencies</p>",
        "id": 208629812,
        "sender_full_name": "eddyb",
        "timestamp": 1598917698
    },
    {
        "content": "<p>sure</p>",
        "id": 208629816,
        "sender_full_name": "simulacrum",
        "timestamp": 1598917701
    },
    {
        "content": "<p>yeah, it could be wherever we say what the arrows are</p>",
        "id": 208629839,
        "sender_full_name": "eddyb",
        "timestamp": 1598917717
    },
    {
        "content": "<p>I just know that people have complained to me in the past about \"wait but why is X being built\" and I have to say \"we always build deps\"</p>",
        "id": 208629855,
        "sender_full_name": "simulacrum",
        "timestamp": 1598917731
    },
    {
        "content": "<p>/me weeps about fragile build systems that don't even do this</p>",
        "id": 208629886,
        "sender_full_name": "eddyb",
        "timestamp": 1598917765
    },
    {
        "content": "<p>\"what if <code>--keep-stage</code> was the default\"</p>",
        "id": 208629898,
        "sender_full_name": "eddyb",
        "timestamp": 1598917779
    },
    {
        "content": "<p>At my work <code>x.py clean &amp;&amp; x.py build</code> is the default <span aria-label=\"cry\" class=\"emoji emoji-1f622\" role=\"img\" title=\"cry\">:cry:</span></p>",
        "id": 208629975,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598917813
    },
    {
        "content": "<p>(thankfully, this is rare, at least in intention, e.g. <code>Makefile</code>s tend to be written with dependencies in mind, and especially with more parallelism nowadays, a bunch of bugs get found through sheer bruteforce)</p>",
        "id": 208629978,
        "sender_full_name": "eddyb",
        "timestamp": 1598917816
    },
    {
        "content": "<p>btw I would probably just call \"link-stage\" only \"build\" or \"compile\" (i.e. \"linked together\" could just be \"compiled together\", but maybe that's ambiguous?) and \"run-stage\" only \"run\"</p>",
        "id": 208630165,
        "sender_full_name": "eddyb",
        "timestamp": 1598917955
    },
    {
        "content": "<p>I think \"compiled together \" is more ambiguous than \"linked together\"</p>",
        "id": 208630200,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598917990
    },
    {
        "content": "<p>but it doesn't really matter, it's all aesthetics, the <em>shape</em> of the table is already useful</p>",
        "id": 208630205,
        "sender_full_name": "eddyb",
        "timestamp": 1598917995
    },
    {
        "content": "<p>you know, for all my talk of fenceposts, I never once thought about a 2D view, just two 1D views</p>",
        "id": 208630240,
        "sender_full_name": "eddyb",
        "timestamp": 1598918027
    },
    {
        "content": "<p>in retrospective, it makes sense that two correlated 1D views could be represented in 2D with a \"diagonal-centric\" table</p>",
        "id": 208630311,
        "sender_full_name": "eddyb",
        "timestamp": 1598918078
    },
    {
        "content": "<p>I think this is part of the reason gcc doesn't have this problem, they <em>only</em> have the diagonals</p>",
        "id": 208630341,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598918115
    },
    {
        "content": "<p>So they don't have to care about which view you use</p>",
        "id": 208630354,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598918127
    },
    {
        "content": "<p>because they have to allow building all the runtime dependencies with older compilers?</p>",
        "id": 208630364,
        "sender_full_name": "eddyb",
        "timestamp": 1598918145
    },
    {
        "content": "<p>e.g. they do to libraries what we do with build scripts? (build only with beta rustc)</p>",
        "id": 208630378,
        "sender_full_name": "eddyb",
        "timestamp": 1598918159
    },
    {
        "content": "<p>AFAIK the standard library isn't compiled separately</p>",
        "id": 208630474,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598918219
    },
    {
        "content": "<p>GCC + header includes all happens at the same time</p>",
        "id": 208630486,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598918232
    },
    {
        "content": "<p>It doesn't make sense to say \"only compile libc\"</p>",
        "id": 208630498,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598918246
    },
    {
        "content": "<p>mhmm</p>",
        "id": 208630574,
        "sender_full_name": "eddyb",
        "timestamp": 1598918284
    },
    {
        "content": "<p>And they're a <em>very</em> monolithic compiler so they don't have to worry about tools lol</p>",
        "id": 208630596,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598918312
    },
    {
        "content": "<p>what I mean I guess is that any runtime support code they might have is built with whatever they're building GCC with</p>",
        "id": 208630598,
        "sender_full_name": "eddyb",
        "timestamp": 1598918313
    },
    {
        "content": "<p>I shouldn't have said \"libraries\" because most of those are just not rebuilt AFAIK</p>",
        "id": 208630611,
        "sender_full_name": "eddyb",
        "timestamp": 1598918326
    },
    {
        "content": "<p>you can get our table but you replace <code>std</code> with <em>an entire distro</em></p>",
        "id": 208630628,
        "sender_full_name": "eddyb",
        "timestamp": 1598918350
    },
    {
        "content": "<p>Yeah that sounds about right</p>",
        "id": 208630646,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598918371
    },
    {
        "content": "<p>(and this does happen sometimes, especially for cross-compiling, but it's usually the distro packaging system that handles the builds, not anything as small/self-contained as <code>x.py</code>)</p>",
        "id": 208630671,
        "sender_full_name": "eddyb",
        "timestamp": 1598918399
    },
    {
        "content": "<p>I'm so glad I found something everyone understands :D</p>",
        "id": 208630794,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598918475
    },
    {
        "content": "<p>(well, except <span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> :P)</p>",
        "id": 208630823,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598918514
    },
    {
        "content": "<p>I think it helps with the case when you can't just go \"use this command\"</p>",
        "id": 208630895,
        "sender_full_name": "eddyb",
        "timestamp": 1598918552
    },
    {
        "content": "<p>no more inherently ambiguous terminology, just point at the table :D</p>",
        "id": 208630905,
        "sender_full_name": "eddyb",
        "timestamp": 1598918566
    },
    {
        "content": "<p>Exactly, for when you <em>need</em> a mental model</p>",
        "id": 208630908,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598918570
    },
    {
        "content": "<p>It would be good to label this with the directories too, that seems not too hard to add</p>",
        "id": 208630977,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598918636
    },
    {
        "content": "<p>Like stage0-rustc would be the rustc in the \"stage 0\" column</p>",
        "id": 208631044,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598918666
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"198054\">@mark-i-m</span> I know you said you've been busy lately, if you send me the Tex source I can add those labels :)</p>",
        "id": 208631075,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598918705
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rustc-dev-guide/pull/843\">https://github.com/rust-lang/rustc-dev-guide/pull/843</a></p>",
        "id": 208635022,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598922742
    },
    {
        "content": "<p>this is great IMO <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span></p>",
        "id": 208697630,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1598971715
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span> Here is the tex: <a href=\"https://gist.github.com/mark-i-m/e0c885f7b585f02232962b5be0d457f8\">https://gist.github.com/mark-i-m/e0c885f7b585f02232962b5be0d457f8</a></p>",
        "id": 208733060,
        "sender_full_name": "mark-i-m",
        "timestamp": 1598987183
    },
    {
        "content": "<p>Sorry for the late reply</p>",
        "id": 208733076,
        "sender_full_name": "mark-i-m",
        "timestamp": 1598987190
    },
    {
        "content": "<p>thanks! and no problem, I just pinged last night</p>",
        "id": 208733189,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1598987231
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"198054\">mark-i-m</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.2008.2E04.2E2020/near/208733060\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> Here is the tex: <a href=\"https://gist.github.com/mark-i-m/e0c885f7b585f02232962b5be0d457f8\">https://gist.github.com/mark-i-m/e0c885f7b585f02232962b5be0d457f8</a></p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"198054\">@mark-i-m</span> how do I generate the PNG from this? I tried pdflatex + <code>convert</code> but it came out really blurry: <a href=\"/user_uploads/4715/LlrK7WuBTjG6jCVBnU488NSF/stages.png\">stages.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/LlrK7WuBTjG6jCVBnU488NSF/stages.png\" title=\"stages.png\"><img src=\"/user_uploads/4715/LlrK7WuBTjG6jCVBnU488NSF/stages.png\"></a></div>",
        "id": 209295792,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1599485461
    },
    {
        "content": "<p>I opened it in Firefox and took a screenshot <span aria-label=\"stuck out tongue\" class=\"emoji emoji-1f61b\" role=\"img\" title=\"stuck out tongue\">:stuck_out_tongue:</span></p>",
        "id": 209301872,
        "sender_full_name": "mark-i-m",
        "timestamp": 1599489089
    },
    {
        "content": "<p>you opened the <em>PDF</em> in firefox?</p>",
        "id": 209302021,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1599489197
    },
    {
        "content": "<p>that works too haha</p>",
        "id": 209302026,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1599489202
    },
    {
        "content": "<p>yes, that's right <span aria-label=\"stuck out tongue\" class=\"emoji emoji-1f61b\" role=\"img\" title=\"stuck out tongue\">:stuck_out_tongue:</span></p>",
        "id": 209328455,
        "sender_full_name": "mark-i-m",
        "timestamp": 1599513925
    },
    {
        "content": "<p>opened <em>yet another</em> pr for stages: <a href=\"https://github.com/rust-lang/rustc-dev-guide/pull/857\">https://github.com/rust-lang/rustc-dev-guide/pull/857</a></p>",
        "id": 209463523,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1599615062
    },
    {
        "content": "<p>lmk if it makes sense</p>",
        "id": 209463537,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1599615084
    }
]