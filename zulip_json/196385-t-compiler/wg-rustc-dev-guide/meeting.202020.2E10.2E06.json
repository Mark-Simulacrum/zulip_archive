[
    {
        "content": "<p><span class=\"user-group-mention\" data-user-group-id=\"1380\">@WG-rustc-dev-guide</span> according to the agenda we have a meeting at <time datetime=\"2020-10-06T19:30:00Z\">2020-10-06T19:30:00+00:00</time></p>",
        "id": 212468931,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602010129
    },
    {
        "content": "<p>who is around to participate? do someone have things to discuss?</p>",
        "id": 212468970,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602010161
    },
    {
        "content": "<p>I can join, but have nothing to discuss</p>",
        "id": 212469033,
        "sender_full_name": "Tshepang Lekhonkhobe",
        "timestamp": 1602010195
    },
    {
        "content": "<p>I finally got the bootstrapping pr merged <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 212469129,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602010224
    },
    {
        "content": "<p>which one is that</p>",
        "id": 212469156,
        "sender_full_name": "Tshepang Lekhonkhobe",
        "timestamp": 1602010240
    },
    {
        "content": "<p>... there's been much activity on that front that it was hard to keep up</p>",
        "id": 212469216,
        "sender_full_name": "Tshepang Lekhonkhobe",
        "timestamp": 1602010273
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rustc-dev-guide/pull/857\">https://github.com/rust-lang/rustc-dev-guide/pull/857</a></p>",
        "id": 212469250,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602010294
    },
    {
        "content": "<p>From like 2 months ago lol</p>",
        "id": 212469264,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602010302
    },
    {
        "content": "<p>It doesn't have the nice diagram <span class=\"user-mention silent\" data-user-id=\"198054\">mark-i-m</span> made unfortunately but I got tired of fighting that fight</p>",
        "id": 212469400,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602010354
    },
    {
        "content": "<p>I also got a <code>A-contributor-roadblock</code> label added to rust-lang/rust: <a href=\"https://github.com/rust-lang/rust/labels/A-contributor-roadblock\">https://github.com/rust-lang/rust/labels/A-contributor-roadblock</a></p>",
        "id": 212469628,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602010459
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.202020.2E10.2E06/near/212469400\">said</a>:</p>\n<blockquote>\n<p>It doesn't have the nice diagram <span class=\"user-mention silent\" data-user-id=\"198054\">mark-i-m</span> made unfortunately but I got tired of fighting that fight</p>\n</blockquote>\n<p>why it doesn't have it?</p>",
        "id": 212469688,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602010496
    },
    {
        "content": "<p>And added <code>x.py setup</code> which I'm very proud of :) there's already like 4 PRs for it from people other than me</p>",
        "id": 212469710,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602010504
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.202020.2E10.2E06/near/212469710\">said</a>:</p>\n<blockquote>\n<p>And added <code>x.py setup</code> which I'm very proud of :) there's already like 4 PRs for it from people other than me</p>\n</blockquote>\n<p>link?</p>",
        "id": 212469742,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602010521
    },
    {
        "content": "<blockquote>\n<p>why doesn't it have it</p>\n</blockquote>\n<p><a href=\"#narrow/stream/182449-t-compiler.2Fhelp/topic/stage1.20compiler.20without.20std\">https://rust-lang.zulipchat.com/#narrow/stream/182449-t-compiler.2Fhelp/topic/stage1.20compiler.20without.20std</a></p>",
        "id": 212469785,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602010546
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.202020.2E10.2E06/near/212469742\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.202020.2E10.2E06/near/212469710\">said</a>:</p>\n<blockquote>\n<p>And added <code>x.py setup</code> which I'm very proud of :) there's already like 4 PRs for it from people other than me</p>\n</blockquote>\n<p>link?</p>\n</blockquote>\n<p><a href=\"https://github.com/rust-lang/rust/pull/76631\">https://github.com/rust-lang/rust/pull/76631</a></p>",
        "id": 212469947,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602010630
    },
    {
        "content": "<p>docs for it at <a href=\"https://github.com/rust-lang/rustc-dev-guide/pull/899\">https://github.com/rust-lang/rustc-dev-guide/pull/899</a> / <a href=\"https://rustc-dev-guide.rust-lang.org/getting-started.html?highlight=setup#configuring-the-compiler\">https://rustc-dev-guide.rust-lang.org/getting-started.html?highlight=setup#configuring-the-compiler</a>, but the docs mostly just say 'run it and it will explain what it does'</p>",
        "id": 212470039,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602010672
    },
    {
        "content": "<p>about the dev-guide itself: the problem I've been seeing lately is there's so much info people have trouble finding it</p>",
        "id": 212470427,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602010876
    },
    {
        "content": "<p>e.g. <span class=\"user-mention\" data-user-id=\"337739\">@Cass</span> didn't see the section on worktrees and was throwing away her build cache every time she switched between PRs</p>",
        "id": 212470476,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602010911
    },
    {
        "content": "<p>not sure how to improve that ... maybe we should have separate table of contents for 'start here' and the reference section?</p>",
        "id": 212470607,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602010975
    },
    {
        "content": "<p>Hello! I mean to do <a href=\"https://github.com/rust-lang/rustc-dev-guide/issues/892\">https://github.com/rust-lang/rustc-dev-guide/issues/892</a> but I haven't finished with the survey answer translations yet, those'll be done by tomorrow and then I'll start on the issue.</p>",
        "id": 212472349,
        "sender_full_name": "I単aki Garay",
        "timestamp": 1602011842
    },
    {
        "content": "<p>thanks so much! That sounds great :)</p>",
        "id": 212472428,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602011878
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.202020.2E10.2E06/near/212470607\">said</a>:</p>\n<blockquote>\n<p>not sure how to improve that ... maybe we should have separate table of contents for 'start here' and the reference section?</p>\n</blockquote>\n<p>hehe, I've thought about a page that's like a TL;DR the Rustc Dev Guide or a summary of it with links to the guide</p>",
        "id": 212473884,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602012606
    },
    {
        "content": "<p>but yeah, what you're saying a compressed TOC that points to every single corner of the guide</p>",
        "id": 212473923,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602012627
    },
    {
        "content": "<p><span class=\"user-group-mention\" data-user-group-id=\"1380\">@WG-rustc-dev-guide</span> right now is the meeting time but I don't know if there's anything else to talk about?</p>",
        "id": 212474271,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602012833
    },
    {
        "content": "<p>oh oops I misread, I thought you said the meeting started 40 minutes ago <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 212474388,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602012876
    },
    {
        "content": "<p>hehe when I saw you going over everything I was guessing that :P</p>",
        "id": 212474420,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602012895
    },
    {
        "content": "<p>anyway, it's fine :)</p>",
        "id": 212474432,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602012900
    },
    {
        "content": "<p>I'm pinging just in case you want to mention something else or anyone else in the group want mention something</p>",
        "id": 212474521,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602012939
    },
    {
        "content": "<p>not directly related to the dev-guide, but I'm also proud of <a href=\"https://github.com/tokio-rs/tracing/pull/990\">https://github.com/tokio-rs/tracing/pull/990</a></p>",
        "id": 212474667,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602012992
    },
    {
        "content": "<p>it will warn if you try to use <code>RUSTC_LOG=debug</code> with <code>debug = false</code></p>",
        "id": 212474694,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602013005
    },
    {
        "content": "<p>great!!!</p>",
        "id": 212475803,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602013612
    },
    {
        "content": "<p>that's pretty close to merging I think, maybe sometime this week and then I can bump the dependency for rustc</p>",
        "id": 212475874,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602013658
    },
    {
        "content": "<p>talking about tracing, is there somewhere a write-up why it's considered the new hotness</p>",
        "id": 212475991,
        "sender_full_name": "Tshepang Lekhonkhobe",
        "timestamp": 1602013717
    },
    {
        "content": "<p>no, but there's an issue open for that ;) <a href=\"https://github.com/rust-lang/rustc-dev-guide/issues/892\">https://github.com/rust-lang/rustc-dev-guide/issues/892</a></p>",
        "id": 212476020,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602013738
    },
    {
        "content": "<p>the main difference I think is that you can group logs together with a drop guard</p>",
        "id": 212476040,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602013756
    },
    {
        "content": "<p>so you can say 'all these logs are related to this query' without having to stare at it really hard</p>",
        "id": 212476066,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602013773
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/75143\">https://github.com/rust-lang/rust/pull/75143</a></p>",
        "id": 212476094,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602013793
    },
    {
        "content": "<p>I don't understand... I need some basic explanation, and api docs didn't help</p>",
        "id": 212476276,
        "sender_full_name": "Tshepang Lekhonkhobe",
        "timestamp": 1602013893
    },
    {
        "content": "<p>maybe the picture will help:<br>\n<a href=\"https://user-images.githubusercontent.com/332036/89291343-aa40de00-d65a-11ea-9f6c-ea06c1806327.png\">https://user-images.githubusercontent.com/332036/89291343-aa40de00-d65a-11ea-9f6c-ea06c1806327.png</a></p>\n<div class=\"message_inline_image\"><a href=\"https://user-images.githubusercontent.com/332036/89291343-aa40de00-d65a-11ea-9f6c-ea06c1806327.png\"><img src=\"https://user-images.githubusercontent.com/332036/89291343-aa40de00-d65a-11ea-9f6c-ea06c1806327.png\"></a></div>",
        "id": 212476296,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602013910
    },
    {
        "content": "<p>also in general, not just as regards the compiler</p>",
        "id": 212476297,
        "sender_full_name": "Tshepang Lekhonkhobe",
        "timestamp": 1602013911
    },
    {
        "content": "<p>or <a href=\"/user_uploads/4715/tGOVMLe6WS0WN9aD_tQD62p8/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/tGOVMLe6WS0WN9aD_tQD62p8/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/tGOVMLe6WS0WN9aD_tQD62p8/image.png\"></a></div>",
        "id": 212476398,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602013962
    },
    {
        "content": "<p>is that an example from the tracing repo</p>",
        "id": 212476497,
        "sender_full_name": "Tshepang Lekhonkhobe",
        "timestamp": 1602014028
    },
    {
        "content": "<p>from the PR I linked</p>",
        "id": 212476508,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602014033
    },
    {
        "content": "<p>it shows how grouping them together makes it easier to read</p>",
        "id": 212476564,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602014044
    },
    {
        "content": "<p>I have nothing to compare it to... I think I should have a look at tracing repo examples</p>",
        "id": 212476824,
        "sender_full_name": "Tshepang Lekhonkhobe",
        "timestamp": 1602014196
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119529\">@Tshepang Lekhonkhobe</span> I would say that the short answer to why tracing is desireable is spans. They will help both 'zone in' on info in a specific debug session, and will also help understand what the compiler does concurrently.</p>",
        "id": 212477231,
        "sender_full_name": "I単aki Garay",
        "timestamp": 1602014367
    },
    {
        "content": "<p>so even shorter, its easier to filter the information in logs to be the correct information you want when debugging</p>",
        "id": 212477585,
        "sender_full_name": "I単aki Garay",
        "timestamp": 1602014479
    },
    {
        "content": "<p>Catching up a bit late (sorry, I had another meeting... things have been busy)...</p>",
        "id": 212486076,
        "sender_full_name": "mark-i-m",
        "timestamp": 1602018588
    },
    {
        "content": "<p>Agree with everything said above. I'm a bit out-of-the-loop on a bunch of stuff now. The progress on the bootstrapping stuff is really nice <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 212486370,
        "sender_full_name": "mark-i-m",
        "timestamp": 1602018675
    },
    {
        "content": "<p>Also, the tracing stuff mentioned by <span class=\"user-mention\" data-user-id=\"209053\">@I単aki Garay</span> looks cool too <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 212486434,
        "sender_full_name": "mark-i-m",
        "timestamp": 1602018708
    },
    {
        "content": "<p>Regarding the diagram: it feels like the root of the problem is how different artifacts and commands relate to the stage numbers. For example, the compiler depends on the previous compiler + std; std depends on the previous compiler  only; some the tools depend on the compiler by _linking_ to it in addition to being compiled by it; tests depend on the compiler you are testing; docs depend on something else (I don't remember).</p>\n<p>AFAICT, the reason the diagram was such a hit with some is that</p>\n<ul>\n<li>many people only care about std and rustc and didn't want all the details about tools, docs, etc.</li>\n<li>no matter how many times we define it \"stage N\" vs \"stage N artifacts\" is still confusing. Instead, the diagram visually shows how many compilers are built and how.</li>\n<li>it provides a relatively simple framework to understand why stuff is being built when it is (e.g. need to be ABI compatible).</li>\n</ul>\n<p>Now, I'm not sure if the diagram is still accurate given the recent changes to bootstrapping and the defaults, but I think any diagram that satisfies the above details will make people happy.</p>\n<p>Moreover, I suspect that what might be most useful is for there to be two parts of the bootstrapping chapter: one for most people that just want to understand the basics enough to use x.py. I think this can have a diagram like the above that only talks about rustc and std and says \"but read the other part for more details about tools, docs, etc\". And the second part would go into all the gory details by fleshing out the simple diagram... In other words, it would start with the simple diagram as a base, and then explain all the missing parts. Until we get to a full view.</p>",
        "id": 212489812,
        "sender_full_name": "mark-i-m",
        "timestamp": 1602020595
    },
    {
        "content": "<blockquote>\n<p>Now, I'm not sure if the diagram is still accurate given the recent changes to bootstrapping and the defaults, but I think any diagram that satisfies the above details will make people happy.</p>\n</blockquote>\n<p>the diagram is still accurate, the labels are not</p>",
        "id": 212490222,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602020831
    },
    {
        "content": "<p>in particular '<code>x.py build</code> builds everything in column N' is no longer true - it doesn't build <code>rustc</code></p>",
        "id": 212490252,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602020850
    },
    {
        "content": "<blockquote>\n<p>I suspect that what might be most useful is for there to be two parts of the bootstrapping chapter: one for most people that just want to understand the basics enough to use x.py ... and the second part would go into all the gory details</p>\n</blockquote>\n<p>yeah, I like that idea</p>",
        "id": 212490441,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602020952
    },
    {
        "content": "<p>and that would address <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> 's concern that we're <em>over</em> documenting and getting lost in the weeds at places</p>",
        "id": 212490467,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602020972
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.202020.2E10.2E06/near/212490252\">said</a>:</p>\n<blockquote>\n<p>in particular '<code>x.py build</code> builds everything in column N' is no longer true - it doesn't build <code>rustc</code></p>\n</blockquote>\n<p>So it builds <code>std</code> from column N?</p>",
        "id": 212509192,
        "sender_full_name": "mark-i-m",
        "timestamp": 1602037837
    },
    {
        "content": "<p>yes, std and tools currently</p>",
        "id": 212510190,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602039161
    },
    {
        "content": "<p>I made an MCP not to build tools but there were objections after the fact so that's stalled</p>",
        "id": 212510195,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602039177
    },
    {
        "content": "<p><a href=\"#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Don't.20build.20tools.20by.20default.20with.20.60x.2Epy.20b.E2.80.A6.20compiler-team.23351\">https://rust-lang.zulipchat.com/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Don't.20build.20tools.20by.20default.20with.20.60x.2Epy.20b.E2.80.A6.20compiler-team.23351</a></p>",
        "id": 212510203,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602039194
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.202020.2E10.2E06/near/212490441\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>I suspect that what might be most useful is for there to be two parts of the bootstrapping chapter: one for most people that just want to understand the basics enough to use x.py ... and the second part would go into all the gory details</p>\n</blockquote>\n<p>yeah, I like that idea</p>\n</blockquote>\n<p>I like the idea too</p>",
        "id": 212572903,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602083473
    },
    {
        "content": "<p>in particular, we could have a getting started chapter that more or less explains the basics of everything to get started working</p>",
        "id": 212572976,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602083509
    },
    {
        "content": "<p>and the first part could go there with other things</p>",
        "id": 212573000,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602083516
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.202020.2E10.2E06/near/212470607\">said</a>:</p>\n<blockquote>\n<p>not sure how to improve that ... maybe we should have separate table of contents for 'start here' and the reference section?</p>\n</blockquote>\n<p>like <span aria-label=\"point up\" class=\"emoji emoji-1f446\" role=\"img\" title=\"point up\">:point_up:</span></p>",
        "id": 212573193,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602083577
    },
    {
        "content": "<p>and then the rest of the guide should be about details</p>",
        "id": 212573236,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602083589
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> <a href=\"#narrow/stream/196385-t-compiler.2Fwg-rustc-dev-guide/topic/meeting.202020.2E10.2E06/near/212572976\">said</a>:</p>\n<blockquote>\n<p>in particular, we could have a getting started chapter that more or less explains the basics of everything to get started working</p>\n</blockquote>\n<p>or call it overview, unsure, but some very high level chapter that have kind of a TOC to every single corner and explain basic things to get one up and running quickly</p>",
        "id": 212573308,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602083624
    },
    {
        "content": "<p>and that also help one to search for specific things quickly</p>",
        "id": 212573404,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602083651
    },
    {
        "content": "<p>most of the books around, in this sections have an explanation about what each other section of the book is about, so maybe something like that fixes what <span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span> was describing</p>",
        "id": 212573493,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1602083680
    }
]