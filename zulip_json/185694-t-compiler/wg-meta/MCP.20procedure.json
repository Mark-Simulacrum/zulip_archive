[
    {
        "content": "<p>So <span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> there are two things I don't like about MCPs \"as practiced today\". </p>\n<p>The first is that we often put the design in an \"out of line hackmd or gist\", and the template is maybe too wordy. I find it's kind of hard to find the actual proposal in there, it's often just a short little link. Worse, when the proposal is <strong>accepted</strong>, we don't have a good like \"record\" of accepted proposals.</p>\n<p>The second is that it seems to be nobody's job to tag and close the issues when the FCP ends. I often go over them during compiler-team meetings. I think that <a class=\"stream\" data-stream-id=\"227806\" href=\"/#narrow/stream/227806-t-compiler.2Fwg-prioritization\">#t-compiler/wg-prioritization</a> could perhaps handle this though. </p>\n<p>I think my proposal is that:</p>\n<ul>\n<li>we modify the template to be shorter and to tell people to copy-and-paste the proposal at the end, after a <code>&lt;br&gt;</code> section or something</li>\n<li>when a MCP is accepted, we tag it with \"MCP accepted\" and we close it</li>\n</ul>\n<p>Now we have a record (in the form of the issue header) of the MCP.</p>",
        "id": 199761808,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591283660
    },
    {
        "content": "<p>This also fits with what we've been discussing in the lang team process.</p>",
        "id": 199761834,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591283670
    },
    {
        "content": "<p>I would flip the proposal to be the first thing in the issue description rather than the last thing</p>",
        "id": 199762000,
        "sender_full_name": "simulacrum",
        "timestamp": 1591283733
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/185694-t-compiler.2Fwg-meta/topic/MCP.20procedure/near/199761808\">said</a>:</p>\n<blockquote>\n<p>So <span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> there are two things I don't like about MCPs \"as practiced today\". </p>\n<p>The first is that we often put the design in an \"out of line hackmd or gist\", and the template is maybe too wordy. I find it's kind of hard to find the actual proposal in there, it's often just a short little link. Worse, when the proposal is <strong>accepted</strong>, we don't have a good like \"record\" of accepted proposals.</p>\n<p>The second is that it seems to be nobody's job to tag and close the issues when the FCP ends. I often go over them during compiler-team meetings. I think that <a class=\"stream\" data-stream-id=\"227806\" href=\"/#narrow/stream/227806-t-compiler.2Fwg-prioritization\">#t-compiler/wg-prioritization</a> could perhaps handle this though. </p>\n<p>I think my proposal is that:</p>\n<ul>\n<li>we modify the template to be shorter and to tell people to copy-and-paste the proposal at the end, after a <code>&lt;br&gt;</code> section or something</li>\n<li>when a MCP is accepted, we tag it with \"MCP accepted\" and we close it</li>\n</ul>\n<p>Now we have a record (in the form of the issue header) of the MCP.</p>\n</blockquote>\n<p>I think we can definitely do that work</p>",
        "id": 199762146,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591283771
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/185694-t-compiler.2Fwg-meta/topic/MCP.20procedure/near/199762000\">said</a>:</p>\n<blockquote>\n<p>I would flip the proposal to be the first thing in the issue description rather than the last thing</p>\n</blockquote>\n<p>yeah I considered that -- seems ok</p>",
        "id": 199762208,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591283795
    },
    {
        "content": "<p>the main reason I was thinking \"end\" is that it gives us a chance to explain what the issue is first, but that's not necessary I guess</p>",
        "id": 199762267,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591283815
    },
    {
        "content": "<p>couldn't we just have a template that is more like a link to some explanations/rules/etc and then the proposal per se?</p>",
        "id": 199762338,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591283841
    },
    {
        "content": "<p>I think the template would be like</p>\n<h2>Proposal</h2>\n<p>(insert your proposal here)</p>\n<h2>Process</h2>\n<p>This is a Major Change Proposal. It is used to propose a change to the compiler. It works like this:</p>\n<ul>\n<li>Open this issue. A zulip stream will be automatically created for discussing the issue.</li>\n<li>To approve the proposal, a compiler team member/contributor can write <code>@rustbot second</code>. The issue then goes into FCP for 10 days.</li>\n<li>At the end of the 10 days, the MCP is approved, and the issue will (eventually) be closed.</li>\n</ul>\n<p><strong>Note that this issue is meant to be used for status updates, not discussion. Discussion takes place on Zulip.</strong> You can <a href=\"http://XXX\">read more about Major Change Proposals on forge</a>.</p>",
        "id": 199762924,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591284068
    },
    {
        "content": "<p>short and simple enough</p>",
        "id": 199762941,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591284074
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 199769078,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591286393
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/185694-t-compiler.2Fwg-meta/topic/MCP.20procedure/near/199761808\">said</a>:</p>\n<blockquote>\n<p>The second is that it seems to be nobody's job to tag and close the issues when the FCP ends. I often go over them during compiler-team meetings. I think that <a class=\"stream\" data-stream-id=\"227806\" href=\"/#narrow/stream/227806-t-compiler.2Fwg-prioritization\">#t-compiler/wg-prioritization</a> could perhaps handle this though. </p>\n</blockquote>\n<p>can you explain also the different states and when things change from one to another?</p>",
        "id": 199769249,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591286441
    },
    {
        "content": "<p>I don't remember if just one person seconding a proposal is what we need to call it accepted and then tag and close or what's the thing we need to do</p>",
        "id": 199769353,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591286477
    },
    {
        "content": "<p>in any case, we have our prioritization procedure, I'm going to write something about this there and maybe once done you can take a look at it to confirm if it's right or not</p>",
        "id": 199769505,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591286523
    },
    {
        "content": "<p>so about accepted MCPs, what I can do after weekly meetings is ... go over the list that are seconded and if we're over 10 days just tag them with <code>major-change-accepted</code> and close them</p>",
        "id": 199909808,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591378556
    },
    {
        "content": "<p>also, there are a lot of accepted and closed issues with no <code>major-change-accepted</code> tag</p>",
        "id": 199909879,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591378582
    },
    {
        "content": "<p>I can also go over them and tag now</p>",
        "id": 199909894,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591378595
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> please confirm that this is correct</p>",
        "id": 199909899,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591378601
    },
    {
        "content": "<p>actually, maybe we should more clearly state that the waiting period is 10 days + remaining days for next weekly meeting, so it may even be 16 days</p>",
        "id": 199909952,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591378642
    },
    {
        "content": "<p>it may be good idea to make this clear, so people know what to expect :)</p>",
        "id": 199910122,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591378722
    },
    {
        "content": "<p>I think the waiting period is 10 days</p>",
        "id": 199921487,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591384291
    },
    {
        "content": "<p>somewhere in those 10 days, a meeting occurs</p>",
        "id": 199921505,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591384306
    },
    {
        "content": "<p>I also think it's fine if we close them on some schedule so sometimes they stay \"open\" longer</p>",
        "id": 199921560,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591384326
    },
    {
        "content": "<p>ideally, we'd post a comment after 10 days</p>",
        "id": 199921581,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591384340
    },
    {
        "content": "<p>(automatically)</p>",
        "id": 199921592,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591384346
    },
    {
        "content": "<p>although the question is:</p>",
        "id": 199921594,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591384348
    },
    {
        "content": "<p>it's possible that during those 10 days someone may have raised a concern</p>",
        "id": 199921610,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591384356
    },
    {
        "content": "<p>we don't have automation around that right now</p>",
        "id": 199921631,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591384369
    },
    {
        "content": "<p>it's never happened yet :)</p>",
        "id": 199921638,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591384372
    },
    {
        "content": "<p>and it could sort of happen on zulip</p>",
        "id": 199921646,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591384378
    },
    {
        "content": "<p>I guess that we could/should clarify the \"process\" there if we want</p>",
        "id": 199921682,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591384407
    },
    {
        "content": "<p>we could also post a comment saying something like</p>\n<blockquote>\n<p>The 10 days have expired. Assuming no objections were raised here or on Zulip, the MCP is accepted, and someone will come along and close the issue in a few days.</p>\n</blockquote>",
        "id": 199921708,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591384433
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 199934184,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591391160
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/185694-t-compiler.2Fwg-meta/topic/MCP.20procedure/near/199921505\">said</a>:</p>\n<blockquote>\n<p>somewhere in those 10 days, a meeting occurs</p>\n</blockquote>\n<p>what I meant is that, given that we will close after a weekly meeting it may end being more than 10 days</p>",
        "id": 199934256,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591391191
    },
    {
        "content": "<p>but yeah, ideally we would be doing that in 10 days or we would be automating it</p>",
        "id": 199934278,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591391211
    },
    {
        "content": "<p>anyway, should I label closed accepted proposals?</p>",
        "id": 199934289,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591391221
    },
    {
        "content": "<p>yes please</p>",
        "id": 200150260,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591647237
    },
    {
        "content": "<p>I forgot we had a label!</p>",
        "id": 200150270,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591647242
    },
    {
        "content": "<p>Posted a new template: <a href=\"https://github.com/rust-lang/compiler-team/pull/305\">https://github.com/rust-lang/compiler-team/pull/305</a></p>",
        "id": 200151490,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591647890
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span>, <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span>, take a look maybe?</p>",
        "id": 200151507,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591647898
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span>, I've seen you have done some reviews already but looks good</p>",
        "id": 200153086,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591648723
    },
    {
        "content": "<p>thanks for adding the \"accepted\" labels btw</p>",
        "id": 200153140,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591648759
    },
    {
        "content": "<p>btw unsure about <code>T-compiler</code> labels there, there are some with <code>T-compiler</code> and others without it</p>",
        "id": 200153772,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591649112
    },
    {
        "content": "<p>but also I was wondering isn't everything <code>T-compiler</code> there?</p>",
        "id": 200153804,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591649134
    },
    {
        "content": "<p>maybe it's irrelevant, unsure :)</p>",
        "id": 200153834,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591649156
    },
    {
        "content": "<p>yeah we should just add it in the template</p>",
        "id": 200154593,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591649595
    },
    {
        "content": "<p>the only reason to have it is</p>",
        "id": 200154597,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591649598
    },
    {
        "content": "<p>if you do rfcbot fcp merge</p>",
        "id": 200154605,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591649601
    },
    {
        "content": "<p>it is needed</p>",
        "id": 200154609,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1591649603
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> , on the subject of the MCP procedure: How hard would it be to automatically add a link to the associated Zulip thread from the MCP issue? Right now the template references \"A Zulip topic in the stream <code>#t-compiler/major changes</code> will be created for this issue\", but there's no standard place for a link to that Zulip topic, let alone a bot-generated link</p>",
        "id": 200546846,
        "sender_full_name": "pnkfelix",
        "timestamp": 1591883629
    },
    {
        "content": "<p>I'm not sure what's the bot that does that exactly but I guess it should be easy to do it</p>",
        "id": 200547086,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591883745
    },
    {
        "content": "<p>I guess <span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span>  implemented this ?</p>",
        "id": 200547162,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591883767
    },
    {
        "content": "<p>generating the link proved pretty hard when I was initially doing this</p>",
        "id": 200547275,
        "sender_full_name": "simulacrum",
        "timestamp": 1591883834
    },
    {
        "content": "<p>I may have been missing something though</p>",
        "id": 200547289,
        "sender_full_name": "simulacrum",
        "timestamp": 1591883838
    },
    {
        "content": "<p>ohh really?</p>",
        "id": 200547461,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591883894
    },
    {
        "content": "<p>I'd have thought that it was gonna be easy</p>",
        "id": 200547488,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1591883906
    },
    {
        "content": "<p>Should MCPs be created for compiler team RFCs?</p>",
        "id": 202561843,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1593606358
    },
    {
        "content": "<p>I'm not sure that many compiler team members are subscribed to the rfcs repo to receive the relevant notifications automatically.</p>",
        "id": 202561906,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1593606386
    },
    {
        "content": "<p>And regular \"ping @rust-lang/compiler\" is such an old way to ping people that most of them developed immunity to it long ago.</p>",
        "id": 202561989,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1593606469
    },
    {
        "content": "<p>I feel like it doesn't make sense to make both, but I think you could easily open a topic in the <a class=\"stream\" data-stream-id=\"233931\" href=\"/#narrow/stream/233931-t-compiler.2Fmajor-changes\">#t-compiler/major changes</a> stream if you wanted to help draw attention to it</p>",
        "id": 202574357,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1593613281
    },
    {
        "content": "<p>Ok, it looks like RFC as a process is effectively retired for the compiler team now.<br>\nAll T-Compiler PRs to the RFC repo are stalled for months - <a href=\"https://github.com/rust-lang/rfcs/pulls?q=is%3Apr+is%3Aopen+label%3AT-compiler+sort%3Aupdated-desc\">https://github.com/rust-lang/rfcs/pulls?q=is%3Apr+is%3Aopen+label%3AT-compiler+sort%3Aupdated-desc</a> (except for the aarch64 tier, which is mostly about infra).</p>",
        "id": 209026435,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1599165470
    },
    {
        "content": "<p>I'll submit the one that I care about (\"Linking modifiers for native libraries\") as an MCP instead.</p>",
        "id": 209026529,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1599165508
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"123856\">@Vadim Petrochenkov</span> that...is probably correct</p>",
        "id": 209105073,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1599232234
    },
    {
        "content": "<p>I didn't even realize those RFCs were there -- or at least I forgot -- I'm sorry</p>",
        "id": 209105089,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1599232244
    },
    {
        "content": "<p>maybe we should add them to the triage meeting...</p>",
        "id": 209105108,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1599232252
    },
    {
        "content": "<p>Another update: accepted MCPs live forever.</p>",
        "id": 218339758,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1606767428
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/compiler-team/issues/356\">https://github.com/rust-lang/compiler-team/issues/356</a> (\"Accept RFC 2951 \"Linking modifiers for native libraries\"\") was accepted month ago, but the PR still open and the RFC is still open too.</p>",
        "id": 218339818,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1606767462
    },
    {
        "content": "<p>I was waiting just to test how long can an MCP be in this state, but waiting for a month should probably be enough.</p>",
        "id": 218340042,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1606767557
    },
    {
        "content": "<p>normally they get closed as part of triage process, I think</p>",
        "id": 218494460,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1606863731
    },
    {
        "content": "<p>not sure why this one is still open..</p>",
        "id": 218494462,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1606863734
    },
    {
        "content": "<p>but thanks! closed and marked as accepted</p>",
        "id": 218494488,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1606863755
    },
    {
        "content": "<p>which PR is it?</p>",
        "id": 218494510,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1606863783
    },
    {
        "content": "<p>I meant the MCP issue, not PR, apologies.</p>",
        "id": 218495795,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1606864528
    },
    {
        "content": "<p>The RFC PR (<a href=\"https://github.com/rust-lang/rfcs/pull/2951\">https://github.com/rust-lang/rfcs/pull/2951</a>) is still open though.</p>",
        "id": 218495823,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1606864545
    },
    {
        "content": "<p>Sigh, the RFC PR (<a href=\"https://github.com/rust-lang/rfcs/pull/2951\">https://github.com/rust-lang/rfcs/pull/2951</a>) was closed rather than merged, no tracking issue was created.</p>",
        "id": 224386202,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1611864783
    },
    {
        "content": "<p>I've reopened the RFC so someone with write rights to the RFC repo could merge it, and created a tracking issue (<a href=\"https://github.com/rust-lang/rust/issues/81490\">https://github.com/rust-lang/rust/issues/81490</a>).</p>",
        "id": 224386330,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1611864847
    },
    {
        "content": "<p>ping <span class=\"user-group-mention\" data-user-group-id=\"492\">@T-compiler</span> members with write rights to the RFC repo regarding ^^^</p>\n<p>(I had the rights in the past, but apparently they were removed during some rights management reform. Regardless, it wouldn't seem right to merge my own RFC.)</p>",
        "id": 224692767,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1612164382
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"123856\">@Vadim Petrochenkov</span> i'll take care of it</p>",
        "id": 224764626,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1612201872
    },
    {
        "content": "<p>apologies for the misunderstanding :)</p>",
        "id": 224764692,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1612201903
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/185694-t-compiler.2Fwg-meta/topic/MCP.20procedure/near/224764626\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"123856\">Vadim Petrochenkov</span> i'll take care of it</p>\n</blockquote>\n<p>ping <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> (it's been a month)</p>",
        "id": 228855274,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1614894026
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"123856\">@Vadim Petrochenkov</span> whoops, totally forgot</p>",
        "id": 228872924,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614902515
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"123856\">@Vadim Petrochenkov</span> fixed</p>",
        "id": 229018697,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1614975765
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 229025522,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1614978675
    }
]