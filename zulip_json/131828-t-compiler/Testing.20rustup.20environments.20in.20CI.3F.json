[
    {
        "content": "<p>Is there a good way to test rustup-like environments in the compiler's CI? <a href=\"https://github.com/rust-lang/rust/pull/90782\">#90782</a> adds code to the compiler that tries to find an external tool that can either be on PATH or come with the <code>rust-mingw</code> rustup component. It would be great if we could add a test that the compiler finds the tool from the rustup component. Do we have any provisions for that? Is it even feasible?</p>",
        "id": 266928408,
        "sender_full_name": "mw",
        "timestamp": 1641385373
    },
    {
        "content": "<p>rustup isn't installed in CI, so there presently isn't a mechanism to test something like that.</p>",
        "id": 266948015,
        "sender_full_name": "Eric Huss",
        "timestamp": 1641396098
    },
    {
        "content": "<p>you could add a run-make test that adds the tool to PATH maybe</p>",
        "id": 266952980,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1641398364
    },
    {
        "content": "<p>AFAIK components aren't available in <code>./x.py t</code>, you need <code>./x.py dist</code> to  create them.</p>",
        "id": 267013310,
        "sender_full_name": "mati865",
        "timestamp": 1641429959
    }
]