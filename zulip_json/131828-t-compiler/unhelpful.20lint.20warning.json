[
    {
        "content": "<p>Working on a lexer and i got this lint warning which is pretty unhelpful:</p>\n<div class=\"codehilite\"><pre><span></span><code>warning[E0170]: pattern binding `c` is named the same as one of the variants of the type `AsciiChar`\n  --&gt; crates\\ptx\\src\\lexer.rs:23:22\n   |\n23 | fn is_ident_continue(c: AsciiChar) -&gt; bool {\n   |                      ^ help: to match on the variant, qualify the path: `AsciiChar::c`\n   |\n   = note: `#[warn(bindings_with_variant_name)]` on by default\n</code></pre></div>\n<p>Should i open a diagnostics issue for this? Its not particularly helpful for lowercase variants or function parameters, and the suggestion is just wrong altogether</p>",
        "id": 252352995,
        "sender_full_name": "Riccardo D'Ambrosio",
        "timestamp": 1631040492
    },
    {
        "content": "<p>yes, definitely file an issue</p>",
        "id": 252353211,
        "sender_full_name": "simulacrum",
        "timestamp": 1631040583
    },
    {
        "content": "<p>Hmm, I actually think this lint is ok</p>",
        "id": 252353302,
        "sender_full_name": "Gary Guo",
        "timestamp": 1631040607
    },
    {
        "content": "<p>sounds good, ill get some reproducible code and file one</p>",
        "id": 252353340,
        "sender_full_name": "Riccardo D'Ambrosio",
        "timestamp": 1631040626
    },
    {
        "content": "<p>its great for match arms, but its pretty unhelpful for function args</p>",
        "id": 252353388,
        "sender_full_name": "Riccardo D'Ambrosio",
        "timestamp": 1631040645
    },
    {
        "content": "<p>and it just doesnt make sense at all for function args</p>",
        "id": 252353420,
        "sender_full_name": "Riccardo D'Ambrosio",
        "timestamp": 1631040659
    },
    {
        "content": "<p>I think enum isn't the best choice here TBH, and the lower case variant names certainly made things worse</p>",
        "id": 252353710,
        "sender_full_name": "Gary Guo",
        "timestamp": 1631040775
    },
    {
        "content": "<p>that's entirely a separate thing though, right?</p>",
        "id": 252353780,
        "sender_full_name": "simulacrum",
        "timestamp": 1631040803
    },
    {
        "content": "<p>True</p>",
        "id": 252353793,
        "sender_full_name": "Gary Guo",
        "timestamp": 1631040808
    },
    {
        "content": "<p>The lint isn't very useful for function args, but I think it's needed for <code>let</code></p>",
        "id": 252353823,
        "sender_full_name": "Gary Guo",
        "timestamp": 1631040823
    },
    {
        "content": "<p>There's a separate lint (I forget the name) for violating style conventions</p>",
        "id": 252353824,
        "sender_full_name": "simulacrum",
        "timestamp": 1631040826
    },
    {
        "content": "<p>Especially since we are getting <code>let else</code> syntax.</p>",
        "id": 252353857,
        "sender_full_name": "Gary Guo",
        "timestamp": 1631040842
    },
    {
        "content": "<p>I think in refutable pattern bindings it makes sense to lint, but in irrefutable cases it doesn't make sense to ask you to avoid enum variant names</p>",
        "id": 252353951,
        "sender_full_name": "simulacrum",
        "timestamp": 1631040869
    },
    {
        "content": "<p>Well, in the <code>let</code> scenario, the programmer might be meaning the enum variant name but forgetting to write <code>else</code> block I suppose?</p>",
        "id": 252354248,
        "sender_full_name": "Gary Guo",
        "timestamp": 1631040925
    },
    {
        "content": "<p>yeah, and the suggestion is just plain wrong, im not saying to remove it altogether, just to not suggest this in patterns like that</p>",
        "id": 252354368,
        "sender_full_name": "Riccardo D'Ambrosio",
        "timestamp": 1631040948
    },
    {
        "content": "<p>Definitely seems reasonable to have a better error message in these cases</p>",
        "id": 252354545,
        "sender_full_name": "simulacrum",
        "timestamp": 1631040987
    },
    {
        "content": "<p>here is a reproducible test case <a href=\"https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2018&amp;gist=e6829290d29151853fdd98844ba6391c\">https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2018&amp;gist=e6829290d29151853fdd98844ba6391c</a></p>",
        "id": 252354645,
        "sender_full_name": "Riccardo D'Ambrosio",
        "timestamp": 1631041036
    },
    {
        "content": "<p>It's less clear on 'you might be thinking this is a variant' is useful, though; forgetting else or similar seems pretty unlikely to me, but not sure. Conflicts with variable names and enum variants should be pretty rare anyway outside violating the styleguide (on naming enum variants)</p>",
        "id": 252354696,
        "sender_full_name": "simulacrum",
        "timestamp": 1631041059
    },
    {
        "content": "<p>opened an issue <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> <a href=\"https://github.com/rust-lang/rust/issues/88730\">https://github.com/rust-lang/rust/issues/88730</a></p>",
        "id": 252355408,
        "sender_full_name": "Riccardo D'Ambrosio",
        "timestamp": 1631041303
    }
]