[
    {
        "content": "<p>This is a follow-up to <a href=\"https://github.com/rust-lang/rust/pull/86267\">https://github.com/rust-lang/rust/pull/86267</a>.<br>\nThere we decided to add the plugin flag on nightly, to be able to use enzyme.<br>\nNow I would like to ask to also expose the related -DLLVM_ENABLE_PLUGINS=ON in the llvm section of our build-config tool.<br>\nIt would probably be <code>--enable-llvm-plugins</code>, similar to the <code>--enable-llvm-assertions</code> flag.<br>\n( If there is a way to already do so by other flags which I missed, please let me know).</p>\n<p>I would argue that it does not need any commitment from our side. If LLVM decides to drop it's plugin interface all plugins will stop working, no matter if they previously were building llvm as a part of rusts build process, or if they have been manually calling cmake / ninja.<br>\nThe result would therefore be the same. However, if we add this flag to our llvm section, we would not need to add custom patches before our build process or re-building llvm with our own flags.</p>\n<p>Sorry for not having mentioned this request in the clang post, I just noticed it due to still failing tests.<br>\nAs you can see here (<a href=\"https://enzyme.mit.edu/Installation/\">https://enzyme.mit.edu/Installation/</a>) this should be all that's required for us.</p>\n<p>Dropped in favor of a more general solution.</p>",
        "id": 246346174,
        "sender_full_name": "Manuel Drehwald",
        "timestamp": 1626558559
    }
]