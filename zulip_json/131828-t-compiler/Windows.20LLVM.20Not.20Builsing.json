[
    {
        "content": "<p>I remember asking about this a while back, but I can't seem to find it now. Are there any special requirements to build LLVM from source on windows? A simple git clone and x.py build gets me a bunch of cmake errors. I had to resort to freeing up 100gb to compile LLVM from vcpkg, but I feel like I'm doing something wrong.</p>",
        "id": 209915728,
        "sender_full_name": "Quy Nguyen",
        "timestamp": 1599976998
    },
    {
        "content": "<p>Knowing what errors they were would help?</p>",
        "id": 209915923,
        "sender_full_name": "Jubilee",
        "timestamp": 1599977369
    },
    {
        "content": "<p>Ah yes, that would probably be helpful. (Thought I included them).</p>\n<div class=\"codehilite\"><pre><span></span><code>librustc_llvm-1e5f6b2d41c05068.rlib(MachineBasicBlock.cpp.obj) : error LNK2019: unresolved external symbol __imp_rint referenced in function &quot;public: void __cdecl llvm::MachineBasicBlock::print(class llvm::raw_ostream &amp;,class llvm::ModuleSlotTracker &amp;,class llvm::SlotIndexes const *,bool)const &quot; (?print@MachineBasicBlock@llvm@@QEBAXAEAVraw_ostream@2@AEAVModuleSlotTracker@2@PEBVSlotIndexes@2@_N@Z)\n          librustc_llvm-1e5f6b2d41c05068.rlib(BranchProbability.cpp.obj) : error LNK2001: unresolved external symbol __imp_rint\n          librustc_llvm-1e5f6b2d41c05068.rlib(SimplifyLibCalls.cpp.obj) : error LNK2019: unresolved external symbol __imp_log2 referenced in function &quot;private: class llvm::Value * __cdecl llvm::LibCallSimplifier::replacePowWithExp(class llvm::CallInst *,class llvm::IRBuilder&lt;class llvm::ConstantFolder,class llvm::IRBuilderDefaultInserter&gt; &amp;)&quot; (?replacePowWithExp@LibCallSimplifier@llvm@@AEAAPEAVValue@2@PEAVCallInst@2@AEAV?$IRBuilder@VConstantFolder@llvm@@VIRBuilderDefaultInserter@2@@2@@Z)\n          librustc_llvm-1e5f6b2d41c05068.rlib(ConstantFolding.cpp.obj) : error LNK2001: unresolved external symbol __imp_log2\n          librustc_llvm-1e5f6b2d41c05068.rlib(SimplifyLibCalls.cpp.obj) : error LNK2019: unresolved external symbol __imp_log2f referenced in function &quot;private: class llvm::Value * __cdecl llvm::LibCallSimplifier::replacePowWithExp(class llvm::CallInst *,class llvm::IRBuilder&lt;class llvm::ConstantFolder,class llvm::IRBuilderDefaultInserter&gt; &amp;)&quot; (?replacePowWithExp@LibCallSimplifier@llvm@@AEAAPEAVValue@2@PEAVCallInst@2@AEAV?$IRBuilder@VConstantFolder@llvm@@VIRBuilderDefaultInserter@2@@2@@Z)\n          librustc_llvm-1e5f6b2d41c05068.rlib(ConstantFolding.cpp.obj) : error LNK2019: unresolved external symbol __imp_feclearexcept referenced in function &quot;class llvm::Constant * __cdecl `anonymous namespace&#39;::ConstantFoldBinaryFP(double (__cdecl*)(double,double),double,double,class llvm::Type *)&quot; (?ConstantFoldBinaryFP@?A0xa3245e41@@YAPEAVConstant@llvm@@P6ANNN@ZNNPEAVType@3@@Z)\n          librustc_llvm-1e5f6b2d41c05068.rlib(InstrProf.cpp.obj) : error LNK2019: unresolved external symbol __imp_strncpy referenced in function &quot;public: void __cdecl llvm::OverlapStats::dump(class llvm::raw_fd_ostream &amp;)const &quot; (?dump@OverlapStats@llvm@@QEBAXAEAVraw_fd_ostream@2@@Z)\n          librustc_llvm-1e5f6b2d41c05068.rlib(WindowsResource.cpp.obj) : error LNK2001: unresolved external symbol __imp_strncpy\n          librustc_llvm-1e5f6b2d41c05068.rlib(XCOFFObjectWriter.cpp.obj) : error LNK2001: unresolved external symbol __imp_strncpy\n          librustc_llvm-1e5f6b2d41c05068.rlib(WinCOFFObjectWriter.cpp.obj) : error LNK2019: unresolved external symbol __imp__time64 referenced in function &quot;public: virtual unsigned __int64 __cdecl `anonymous namespace&#39;::WinCOFFObjectWriter::writeObject(class llvm::MCAssembler &amp;,class llvm::MCAsmLayout const &amp;)&quot; (?writeObject@WinCOFFObjectWriter@?A0x108a2793@@UEAA_KAEAVMCAssembler@llvm@@AEBVMCAsmLayout@4@@Z)\n          librustc_llvm-1e5f6b2d41c05068.rlib(Program.cpp.obj) : error LNK2019: unresolved external symbol __imp__setmode referenced in function &quot;class std::error_code __cdecl llvm::sys::ChangeStdinToBinary(void)&quot; (?ChangeStdinToBinary@sys@llvm@@YA?AVerror_code@std@@XZ)\n          librustc_llvm-1e5f6b2d41c05068.rlib(Process.cpp.obj) : error LNK2019: unresolved external symbol __imp__heapwalk referenced in function &quot;public: static unsigned __int64 __cdecl llvm::sys::Process::GetMallocUsage(void)&quot; (?GetMallocUsage@Process@sys@llvm@@SA_KXZ)\n          librustc_llvm-1e5f6b2d41c05068.rlib(Process.cpp.obj) : error LNK2019: unresolved external symbol __imp_close referenced in function &quot;public: static class std::error_code __cdecl llvm::sys::Process::SafelyCloseFileDescriptor(int)&quot; (?SafelyCloseFileDescriptor@Process@sys@llvm@@SA?AVerror_code@std@@H@Z)\n          librustc_llvm-1e5f6b2d41c05068.rlib(Path.cpp.obj) : error LNK2001: unresolved external symbol __imp_close\n          OLDNAMES.lib(close.obi) : error LNK2001: unresolved external symbol __imp_close\n          librustc_llvm-1e5f6b2d41c05068.rlib(Path.cpp.obj) : error LNK2019: unresolved external symbol __imp__chsize_s referenced in function &quot;class std::error_code __cdecl llvm::sys::fs::resize_file(int,unsigned __int64)&quot; (?resize_file@fs@sys@llvm@@YA?AVerror_code@std@@H_K@Z)\n          librustc_llvm-1e5f6b2d41c05068.rlib(Path.cpp.obj) : error LNK2019: unresolved external symbol __imp_read referenced in function &quot;class std::error_code __cdecl llvm::sys::fs::copy_file_internal(int,int)&quot; (?copy_file_internal@fs@sys@llvm@@YA?AVerror_code@std@@HH@Z)\n          OLDNAMES.lib(read.obi) : error LNK2001: unresolved external symbol __imp_read\n          librustc_llvm-1e5f6b2d41c05068.rlib(Path.cpp.obj) : error LNK2019: unresolved external symbol __imp_write referenced in function &quot;class std::error_code __cdecl llvm::sys::fs::copy_file_internal(int,int)&quot; (?copy_file_internal@fs@sys@llvm@@YA?AVerror_code@std@@HH@Z)\n          librustc_llvm-1e5f6b2d41c05068.rlib(raw_ostream.cpp.obj) : error LNK2001: unresolved external symbol __imp_write\n          librustc_llvm-1e5f6b2d41c05068.rlib(ErrorHandling.cpp.obj) : error LNK2001: unresolved external symbol __imp_write\n          OLDNAMES.lib(write.obi) : error LNK2001: unresolved external symbol __imp_write\n          librustc_llvm-1e5f6b2d41c05068.rlib(Errno.cpp.obj) : error LNK2019: unresolved external symbol __imp_strerror_s referenced in function &quot;class std::basic_string&lt;char,struct std::char_traits&lt;char&gt;,class std::allocator&lt;char&gt; &gt; __cdecl llvm::sys::StrError(int)&quot; (?StrError@sys@llvm@@YA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@H@Z)\n          librustc_llvm-1e5f6b2d41c05068.rlib(raw_ostream.cpp.obj) : error LNK2019: unresolved external symbol __imp_lseek referenced in function &quot;public: __cdecl llvm::raw_fd_ostream::raw_fd_ostream(int,bool,bool)&quot; (??0raw_fd_ostream@llvm@@QEAA@H_N0@Z)\n          OLDNAMES.lib(lseek.obi) : error LNK2001: unresolved external symbol __imp_lseek\n          librustc_llvm-1e5f6b2d41c05068.rlib(NativeFormatting.cpp.obj) : error LNK2019: unresolved external symbol __imp__fpclass referenced in function &quot;void __cdecl llvm::write_double(class llvm::raw_ostream &amp;,double,enum llvm::FloatStyle,class llvm::Optional&lt;unsigned __int64&gt;)&quot; (?write_double@llvm@@YAXAEAVraw_ostream@1@NW4FloatStyle@1@V?$Optional@_K@1@@Z)\n          librustc_llvm-1e5f6b2d41c05068.rlib(JSON.cpp.obj) : error LNK2019: unresolved external symbol __imp_modf referenced in function &quot;public: class llvm::Optional&lt;__int64&gt; __cdecl llvm::json::Value::getAsInteger(void)const &quot; (?getAsInteger@Value@json@llvm@@QEBA?AV?$Optional@_J@3@XZ)\n          librustc_llvm-1e5f6b2d41c05068.rlib(Chrono.cpp.obj) : error LNK2019: unresolved external symbol __imp__localtime64_s referenced in function &quot;class llvm::raw_ostream &amp; __cdecl llvm::operator&lt;&lt;(class llvm::raw_ostream &amp;,class std::chrono::time_point&lt;struct std::chrono::system_clock,class std::chrono::duration&lt;__int64,struct std::ratio&lt;1,1000000000&gt; &gt; &gt;)&quot; (??6llvm@@YAAEAVraw_ostream@0@AEAV10@V?$time_point@Usystem_clock@chrono@std@@V?$duration@_JU?$ratio@$00$0DLJKMKAA@@std@@@23@@chrono@std@@@Z)\n          C:\\Users\\quydx\\Documents\\Code\\rust\\build\\x86_64-pc-windows-msvc\\stage0-rustc\\x86_64-pc-windows-msvc\\release\\deps\\rustc_driver-f94565c51c798522.dll : fatal error LNK1120: 17 unresolved externals\n</code></pre></div>",
        "id": 209916135,
        "sender_full_name": "Quy Nguyen",
        "timestamp": 1599977813
    },
    {
        "content": "<p>I've checked the prereqs on the rustc dev guide and I think I meet all of them.</p>",
        "id": 209916198,
        "sender_full_name": "Quy Nguyen",
        "timestamp": 1599977900
    },
    {
        "content": "<p>woo linker errors</p>",
        "id": 209916327,
        "sender_full_name": "Jubilee",
        "timestamp": 1599978241
    },
    {
        "content": "<p>ths has the flavor of \"MSVC tools were missing\"<br>\n<a href=\"https://docs.microsoft.com/en-us/cpp/error-messages/tool-errors/linker-tools-error-lnk2001?view=vs-2019\">https://docs.microsoft.com/en-us/cpp/error-messages/tool-errors/linker-tools-error-lnk2001?view=vs-2019</a></p>",
        "id": 209916427,
        "sender_full_name": "Jubilee",
        "timestamp": 1599978389
    }
]