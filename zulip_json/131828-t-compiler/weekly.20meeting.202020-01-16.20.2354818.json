[
    {
        "content": "<p>Hi <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span> ; the triage meeting will be starting in 36 minutes</p>",
        "id": 185818648,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579184657
    },
    {
        "content": "<p>pre-triage took place last night in a <a href=\"#narrow/stream/131828-t-compiler/topic/pre-meeting.20triage.202020-01-16.20.2354818/near/185779917\" title=\"#narrow/stream/131828-t-compiler/topic/pre-meeting.20triage.202020-01-16.20.2354818/near/185779917\">parallel topic</a></p>",
        "id": 185818671,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579184682
    },
    {
        "content": "<p>today we are scheduled to hear from <span class=\"user-group-mention\" data-user-group-id=\"491\">@WG-nll</span> and <span class=\"user-group-mention\" data-user-group-id=\"1117\">@WG-parallel-rustc</span></p>",
        "id": 185818695,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579184709
    },
    {
        "content": "<p>I can give the update from parallel most likely (though current status is a bit unclear there)</p>",
        "id": 185818717,
        "sender_full_name": "simulacrum",
        "timestamp": 1579184729
    },
    {
        "content": "<p>also i have made a hackmd for the <a href=\"https://hackmd.io/ruw4k37lSJ6RDVOFfhdQ7Q?edit\" target=\"_blank\" title=\"https://hackmd.io/ruw4k37lSJ6RDVOFfhdQ7Q?edit\">agenda today</a></p>",
        "id": 185818960,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579184896
    },
    {
        "content": "<p>I suspect WG-nll doesn't have anything to report but let me ping <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> just in case I'm wrong. (I do know there is at least one open bug (<a href=\"https://github.com/rust-lang/rust/issues/68090\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/68090\">#68090</a>)  that I looked at during pre-triage last night,</p>",
        "id": 185819268,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579185110
    },
    {
        "content": "<p>I have filled in a blob of text for parallel in the agenda, feel free to copy/paste if I'm not around</p>",
        "id": 185819810,
        "sender_full_name": "simulacrum",
        "timestamp": 1579185524
    },
    {
        "content": "<p>Hi <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span>! Add a <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span> emoji to show you're here :)</p>",
        "id": 185822192,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579186959
    },
    {
        "content": "<blockquote>\n<p>I suspect WG-nll doesn't have anything to report but let me ping <span class=\"user-mention silent\" data-user-id=\"116118\">Matthew Jasper</span> just in case I'm wrong. (I do know there is at least one open bug (<a href=\"https://github.com/rust-lang/rust/issues/68090\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/68090\">#68090</a>)  that I looked at during pre-triage last night,</p>\n</blockquote>\n<p>we hvae a few things</p>",
        "id": 185822196,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579186967
    },
    {
        "content": "<p>We'll start with five minutes for ...</p>",
        "id": 185822204,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579186975
    },
    {
        "content": "<h1>Announcements</h1>",
        "id": 185822206,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579186977
    },
    {
        "content": "<ul>\n<li>Tomorrow we have a planning meeting scheduled</li>\n</ul>",
        "id": 185822225,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579186990
    },
    {
        "content": "<ul>\n<li>I'll add a sad one: In case anyone's not aware, Mozilla had a round of layoffs where about 6% of the work force (70 people) were let go.</li>\n</ul>",
        "id": 185822242,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187009
    },
    {
        "content": "<p>(No one who works on Rust was affected)</p>",
        "id": 185822354,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579187052
    },
    {
        "content": "<p>sstangl was let go, though. (Works on cranelift)</p>",
        "id": 185822394,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187089
    },
    {
        "content": "<p>I was going to say, although <a href=\"https://news.ycombinator.com/item?id=22060115\" target=\"_blank\" title=\"https://news.ycombinator.com/item?id=22060115\">sstangl was</a> :( :(</p>",
        "id": 185822407,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579187098
    },
    {
        "content": "<p>but the cranelift backend for Rust seems unaffected?</p>",
        "id": 185822431,
        "sender_full_name": "centril",
        "timestamp": 1579187111
    },
    {
        "content": "<blockquote>\n<p>but the cranelift backend for Rust seems unaffected?</p>\n</blockquote>\n<p>mostly because it's entirely 3rd party AFAIK</p>",
        "id": 185822454,
        "sender_full_name": "eddyb",
        "timestamp": 1579187131
    },
    {
        "content": "<p>(for better or worse...)</p>",
        "id": 185822460,
        "sender_full_name": "eddyb",
        "timestamp": 1579187138
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> how are the propopals looking for the planning meeting?</p>",
        "id": 185822573,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187197
    },
    {
        "content": "<p>I haven't looked, tbh, I've been quite busy</p>",
        "id": 185822627,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579187223
    },
    {
        "content": "<p>proposals: <a href=\"https://github.com/rust-lang/compiler-team/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+is%3Aopen+label%3Ameeting-proposal++-label%3Ameeting-scheduled\" target=\"_blank\" title=\"https://github.com/rust-lang/compiler-team/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+is%3Aopen+label%3Ameeting-proposal++-label%3Ameeting-scheduled\">https://github.com/rust-lang/compiler-team/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+is%3Aopen+label%3Ameeting-proposal++-label%3Ameeting-scheduled</a></p>",
        "id": 185822635,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187228
    },
    {
        "content": "<p><del>I don't see anything new</del> (I stand corrected)</p>",
        "id": 185822654,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579187242
    },
    {
        "content": "<p>(parser library-ification <a href=\"https://github.com/rust-lang/compiler-team/issues/237\" target=\"_blank\" title=\"https://github.com/rust-lang/compiler-team/issues/237\">compiler-team#237</a> was opened 6 days ago)</p>",
        "id": 185822660,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187257
    },
    {
        "content": "<p>I was thinking about maybe opening some sort of proposal for some kind of \"how are things going\" sort of check-in, but I couldn't quite narrow it down :)</p>",
        "id": 185822667,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579187263
    },
    {
        "content": "<p>I just think it's good for us to chat every once in a while ..</p>",
        "id": 185822760,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579187296
    },
    {
        "content": "<p>Well if anyone has a topic they want to put forth, this is the best time to write up a proposal</p>",
        "id": 185822771,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187300
    },
    {
        "content": "<p>okay, with that, lets move on with the agenda: <a href=\"https://hackmd.io/ruw4k37lSJ6RDVOFfhdQ7Q?both\" target=\"_blank\" title=\"https://hackmd.io/ruw4k37lSJ6RDVOFfhdQ7Q?both\">hackmd</a></p>",
        "id": 185822810,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187331
    },
    {
        "content": "<p>first, <a href=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=label%3Abeta-nominated+label%3AT-compiler\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=label%3Abeta-nominated+label%3AT-compiler\">beta nominations</a></p>",
        "id": 185822844,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187350
    },
    {
        "content": "<p>there are two</p>",
        "id": 185822857,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187363
    },
    {
        "content": "<p>beta-nom 1/2: \"Do not ICE on unicode next point\" <a href=\"https://github.com/rust-lang/rust/issues/68084\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/68084\">#68084</a></p>",
        "id": 185822885,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187386
    },
    {
        "content": "<p>(For the Unicode one, there's a tiny change that can be backported instead of the whole thing)</p>",
        "id": 185822893,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1579187393
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119031\">@Esteban Küber</span> is there already an isolated commit for that?</p>",
        "id": 185822970,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187421
    },
    {
        "content": "<p>perhaps <a href=\"https://github.com/rust-lang/rust/commit/fcd850fc5db2501d14b2e0cbfac8aa890d700e55\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/commit/fcd850fc5db2501d14b2e0cbfac8aa890d700e55\">fcd850fc5db2501d14b2e0cbfac8aa890d700e55</a></p>",
        "id": 185822993,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187444
    },
    {
        "content": "<p>omg i didn't know commit hash's were linkified. so cool.</p>",
        "id": 185823009,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187460
    },
    {
        "content": "<p>doesn't look like there's an isolated commit?</p>",
        "id": 185823064,
        "sender_full_name": "centril",
        "timestamp": 1579187495
    },
    {
        "content": "<p>No, sadly I didn't have the foresight of leaving it in its own commit because I didn't realize it would be enough of a fix beforehand</p>",
        "id": 185823071,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1579187508
    },
    {
        "content": "<p>is the one I linked not the right one?</p>",
        "id": 185823078,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187514
    },
    {
        "content": "<p>If you intend to backport a specific commit, please leave a comment pointing to a hash of that commit, ideally verified to backport cleanly</p>",
        "id": 185823144,
        "sender_full_name": "simulacrum",
        "timestamp": 1579187540
    },
    {
        "content": "<p>No, there's a comment in the or to the relevant part of the diff</p>",
        "id": 185823150,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1579187545
    },
    {
        "content": "<p>ah this you mean then? <a href=\"https://github.com/rust-lang/rust/pull/68084/files#r365393957\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/68084/files#r365393957\">https://github.com/rust-lang/rust/pull/68084/files#r365393957</a></p>",
        "id": 185823192,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187569
    },
    {
        "content": "<p>presumably we can squash all commits and backport that?</p>",
        "id": 185823203,
        "sender_full_name": "centril",
        "timestamp": 1579187578
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"126931\">@centril</span> why ... would that be any better ?</p>",
        "id": 185823255,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187618
    },
    {
        "content": "<p>The only reason I bring it up is due to the possibility of the full or not meeting cleanly</p>",
        "id": 185823259,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1579187621
    },
    {
        "content": "<p>well we're getting in the weeds</p>",
        "id": 185823266,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187626
    },
    {
        "content": "<p>If it does, there's no issue, just add a comment to ping me if it doesn't merge cleanly and I can help make a minified berdion</p>",
        "id": 185823340,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1579187654
    },
    {
        "content": "<p>It seems like people are generally in favor of backporting this. We don't need to synchronously debate methodology</p>",
        "id": 185823357,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187663
    },
    {
        "content": "<p>beta-nom 2/2: \"expect <code>fn</code> after <code>const unsafe</code> / <code>const extern</code>\" <a href=\"https://github.com/rust-lang/rust/issues/68073\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/68073\">#68073</a></p>",
        "id": 185823422,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187724
    },
    {
        "content": "<p>definitely looks low risk</p>",
        "id": 185823511,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187775
    },
    {
        "content": "<p>beta-accepted</p>",
        "id": 185823527,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187789
    },
    {
        "content": "<p>next, stable nominations</p>",
        "id": 185823563,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187815
    },
    {
        "content": "<p>its actually the same pair of PR's.</p>",
        "id": 185823581,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187822
    },
    {
        "content": "<p>stable-nom 1/2: \"Do not ICE on unicode next point\" <a href=\"https://github.com/rust-lang/rust/issues/68084\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/68084\">#68084</a></p>",
        "id": 185823608,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187839
    },
    {
        "content": "<p>We should probably try to be clear about whether we are talking about backporting the whole PR or just the hypothetical one line change</p>",
        "id": 185823721,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187895
    },
    {
        "content": "<p>I have no problem with just the one line change for stable-backport</p>",
        "id": 185823737,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187912
    },
    {
        "content": "<p>the PR as a whole ... seems a bit more aggressive, and if we can avoid that, we probably should, no?</p>",
        "id": 185823805,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187944
    },
    {
        "content": "<p>does anyone disagree? Anyone want to argue for backporting the PR as a whole?</p>",
        "id": 185823845,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187965
    },
    {
        "content": "<p>Agreed</p>",
        "id": 185823849,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579187966
    },
    {
        "content": "<p>okay that's good enough for me</p>",
        "id": 185823878,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187987
    },
    {
        "content": "<p>stable-accepted for one line change</p>",
        "id": 185823888,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579187994
    },
    {
        "content": "<p>stable-nom 2/2: \"expect <code>fn</code> after <code>const unsafe</code> / <code>const extern</code>\" <a href=\"https://github.com/rust-lang/rust/issues/68073\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/68073\">#68073</a></p>",
        "id": 185824037,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188070
    },
    {
        "content": "<p>yeah this again looks super low risk, good good</p>",
        "id": 185824066,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188094
    },
    {
        "content": "<p>stable-accepted</p>",
        "id": 185824071,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188099
    },
    {
        "content": "<p>okay, next, for waiting on team, we still have \"PowerPC C ZST ABI fixes\" <a href=\"https://github.com/rust-lang/rust/issues/64259\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/64259\">#64259</a></p>",
        "id": 185824181,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188167
    },
    {
        "content": "<p>is <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> here?</p>",
        "id": 185824193,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188182
    },
    {
        "content": "<p>oh noes</p>",
        "id": 185824201,
        "sender_full_name": "eddyb",
        "timestamp": 1579188191
    },
    {
        "content": "<p>oh man, I remember <em>this</em> PR</p>",
        "id": 185824213,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188203
    },
    {
        "content": "<p>how is this not resolved yet :(</p>",
        "id": 185824226,
        "sender_full_name": "eddyb",
        "timestamp": 1579188211
    },
    {
        "content": "<p>did I somehow promise to do something and forgot?</p>",
        "id": 185824240,
        "sender_full_name": "eddyb",
        "timestamp": 1579188223
    },
    {
        "content": "<p>well we've got, you know, a lot of stuff going on. :)</p>",
        "id": 185824245,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188226
    },
    {
        "content": "<p>I don't think this is your fault at all <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span></p>",
        "id": 185824251,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188233
    },
    {
        "content": "<p>last I remember we were going to make the PR mildly less aggressive and land?</p>",
        "id": 185824304,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188246
    },
    {
        "content": "<blockquote>\n<p>I don't think this is your fault at all <span class=\"user-mention silent\" data-user-id=\"119009\">eddyb</span></p>\n</blockquote>\n<p>I did, you know, block it :P</p>",
        "id": 185824311,
        "sender_full_name": "eddyb",
        "timestamp": 1579188250
    },
    {
        "content": "<p>we sort of started a side channel zulip discussion <a href=\"#narrow/stream/131828-t-compiler/topic/PowerPC%20C%20ABI%20fixes%20PR%20%2364259/near/180146128\" title=\"#narrow/stream/131828-t-compiler/topic/PowerPC%20C%20ABI%20fixes%20PR%20%2364259/near/180146128\">here</a></p>",
        "id": 185824330,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188267
    },
    {
        "content": "<p>(I'm probably out of date, it looks like there are also a <a href=\"https://github.com/rust-lang/rust/pull/64259#issuecomment-551623206\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/64259#issuecomment-551623206\">lot of comments</a> on the issue itself that I don't think I read)</p>",
        "id": 185824376,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188303
    },
    {
        "content": "<blockquote>\n<p>last I remember we were going to make the PR mildly less aggressive and land?</p>\n</blockquote>\n<p>did we ever tell the PR author that? or were we doing to adapt the PR ourselves to make it less aggressive?</p>",
        "id": 185824400,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188314
    },
    {
        "content": "<p>well anyway its something to think about. But I don't think its ultra-high priority ...</p>",
        "id": 185824421,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188331
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> do you want me to assign it to myself?</p>",
        "id": 185824444,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188356
    },
    {
        "content": "<p>sure, I don't mind that</p>",
        "id": 185824507,
        "sender_full_name": "eddyb",
        "timestamp": 1579188371
    },
    {
        "content": "<p>or do you want to continue having responsibility/privilege of blocking it ? :)</p>",
        "id": 185824515,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188376
    },
    {
        "content": "<p>okay I'll swipe it then.</p>",
        "id": 185824541,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188387
    },
    {
        "content": "<p>I can go and try to make that PR (it should be like a two-line change, after all), but there's a risk I'll forget again</p>",
        "id": 185824593,
        "sender_full_name": "eddyb",
        "timestamp": 1579188419
    },
    {
        "content": "<blockquote>\n<p>did we ever tell the PR author that? or were we doing to adapt the PR ourselves to make it less aggressive?</p>\n</blockquote>\n<p>I don't know but at this point I'd be in favor of just pushing a commit and landing it</p>",
        "id": 185824604,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188423
    },
    {
        "content": "<p>(I'd push a commit to the existing PR, probably, but the main thing is to send a nice message to the author)</p>",
        "id": 185824649,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188444
    },
    {
        "content": "<p>I would not touch the original PR itself, feels like it could be misinterpreted</p>",
        "id": 185824671,
        "sender_full_name": "eddyb",
        "timestamp": 1579188457
    },
    {
        "content": "<p>Well lets maybe just try to be nice to the author by some means</p>",
        "id": 185824689,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188476
    },
    {
        "content": "<p>some people would take offense at having their work re-appropriated in a different PR</p>",
        "id": 185824761,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188491
    },
    {
        "content": "<p>It's hard to predict, yes. I think it's fine either way.</p>",
        "id": 185824799,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188510
    },
    {
        "content": "<p>while others, as you note, would take offense at having their own PR re-appropriated via 3rd party commits</p>",
        "id": 185824809,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188515
    },
    {
        "content": "<p>I guess I would say do this:</p>",
        "id": 185824841,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188534
    },
    {
        "content": "<p>what I think should land is much smaller than the original PR, as opposed to being a tweak to it, so that's part of why I want to leave the PR alone</p>",
        "id": 185824881,
        "sender_full_name": "eddyb",
        "timestamp": 1579188559
    },
    {
        "content": "<p>anyway <a href=\"https://www.youtube.com/watch?v=8UGtlUMMkOU\" target=\"_blank\" title=\"https://www.youtube.com/watch?v=8UGtlUMMkOU\">lets push things forward</a> (in terms of this meeting)</p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"8UGtlUMMkOU\" href=\"https://www.youtube.com/watch?v=8UGtlUMMkOU\" target=\"_blank\" title=\"https://www.youtube.com/watch?v=8UGtlUMMkOU\"><img src=\"https://i.ytimg.com/vi/8UGtlUMMkOU/default.jpg\"></a></div>",
        "id": 185824890,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188568
    },
    {
        "content": "<blockquote>\n<p>some people would take offense at having their work re-appropriated in a different PR</p>\n</blockquote>\n<p>my experience is that this is unlikely to be the case</p>",
        "id": 185824893,
        "sender_full_name": "centril",
        "timestamp": 1579188568
    },
    {
        "content": "<ul>\n<li>make the branch</li>\n<li>leave a commit saying \"we'd be more comfortable taking this simple step, wdyt? sorry it's been so long, if we don't hear from you in N days, we'll land it.\"</li>\n<li>if they take the commit, great, else land it in a PR of its own, and cc them.</li>\n</ul>",
        "id": 185824897,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188571
    },
    {
        "content": "<p>(typically, I find that people are happy if you revive their old work)</p>",
        "id": 185824939,
        "sender_full_name": "centril",
        "timestamp": 1579188598
    },
    {
        "content": "<blockquote>\n<ul>\n<li>make the branch</li>\n<li>leave a commit saying \"we'd be more comfortable taking this simple step, wdyt? sorry it's been so long, if we don't hear from you in N days, we'll land it.\"</li>\n<li>if they take the commit, great, else land it in a PR of its own, and cc them.</li>\n</ul>\n</blockquote>\n<p>it wouldn't be a commit on top of the PR, it would be a tiny commit replacing the PR, though</p>",
        "id": 185825016,
        "sender_full_name": "eddyb",
        "timestamp": 1579188627
    },
    {
        "content": "<p>seems fine</p>",
        "id": 185825028,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188637
    },
    {
        "content": "<p>maybe just alter the final point :)</p>",
        "id": 185825047,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188650
    },
    {
        "content": "<p>okay, so, <a href=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler\">nominated issues</a></p>",
        "id": 185825054,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188657
    },
    {
        "content": "<p>there are a lot on that list</p>",
        "id": 185825058,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188661
    },
    {
        "content": "<p>anyway I think the author won't care that much, just open a separate PR and cc them and be nice about it</p>",
        "id": 185825067,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188665
    },
    {
        "content": "<p>but there are <a href=\"https://hackmd.io/ruw4k37lSJ6RDVOFfhdQ7Q?both#Nominated-Issues\" target=\"_blank\" title=\"https://hackmd.io/ruw4k37lSJ6RDVOFfhdQ7Q?both#Nominated-Issues\">three I have singled out</a> to cover first:</p>",
        "id": 185825095,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188684
    },
    {
        "content": "<p>nom 1: “SystemV ABI Mismatch on x86 with a repr(C) enum for extern “C”/FFI functions.” <a href=\"https://github.com/rust-lang/rust/issues/68190\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/68190\">#68190</a></p>",
        "id": 185825112,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188697
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/issues/46123\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/46123\">#46123</a> added support for a specified layout of certain non-C-like enums</p>",
        "id": 185825226,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188753
    },
    {
        "content": "<p>and the problem seems to be with whether the resulting layout+ABI is compatible with SystemV (on x86_64)</p>",
        "id": 185825281,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188789
    },
    {
        "content": "<p>do we believe the problem is SysV ABIs being incorrectly implemented?</p>",
        "id": 185825378,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188845
    },
    {
        "content": "<p>anyway I wanted to bring it up because I didn't know how to prioritize this yesterday</p>",
        "id": 185825379,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188848
    },
    {
        "content": "<p>it sounds like it</p>",
        "id": 185825402,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188866
    },
    {
        "content": "<p>ughhhhh</p>",
        "id": 185825403,
        "sender_full_name": "eddyb",
        "timestamp": 1579188866
    },
    {
        "content": "<blockquote>\n<p>anyway I think the author won't care that much, just open a separate PR and cc them and be nice about it</p>\n</blockquote>\n<p>you can always add the author as a git <code>Co-author</code> so they still feel they contributed to the new PR</p>",
        "id": 185825409,
        "sender_full_name": "varkor",
        "timestamp": 1579188874
    },
    {
        "content": "<p>this is getting into \"I really wish ABIs wouldn't try to be clever around unions\" territory</p>",
        "id": 185825439,
        "sender_full_name": "eddyb",
        "timestamp": 1579188900
    },
    {
        "content": "<p>you can understand it though, right?</p>",
        "id": 185825466,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188916
    },
    {
        "content": "<p>like, I can easily see people designing the ABI striving to put things in registers whenever possible</p>",
        "id": 185825488,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188936
    },
    {
        "content": "<p>it doesn't make me any happier :P</p>",
        "id": 185825511,
        "sender_full_name": "eddyb",
        "timestamp": 1579188951
    },
    {
        "content": "<p>anyway</p>",
        "id": 185825516,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188955
    },
    {
        "content": "<p>so there are two questions</p>\n<ul>\n<li>which ABIs are affected here? only SysV?</li>\n<li>how do we prioritize SysV bugs? (relates to tiers etc, a conversation which I still feel never fully resolved, cc <span class=\"user-mention\" data-user-id=\"239881\">@Josh Triplett</span> =) )</li>\n</ul>",
        "id": 185825525,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188968
    },
    {
        "content": "<p>Do we agree this is P-high ?</p>",
        "id": 185825533,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188969
    },
    {
        "content": "<p>I honestly don't know what tier SystemV is</p>",
        "id": 185825581,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188972
    },
    {
        "content": "<p>I'm glad <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> doesn't seem to know either</p>",
        "id": 185825594,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188982
    },
    {
        "content": "<p>I have no idea either =)</p>",
        "id": 185825595,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579188983
    },
    {
        "content": "<p>well, glad/scared</p>",
        "id": 185825599,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579188987
    },
    {
        "content": "<p>SysV is the ABI linux uses :P</p>",
        "id": 185825608,
        "sender_full_name": "eddyb",
        "timestamp": 1579188995
    },
    {
        "content": "<p>sounds important then :)</p>",
        "id": 185825626,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579189006
    },
    {
        "content": "<p>okay that answers that then</p>",
        "id": 185825631,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189009
    },
    {
        "content": "<p>P-high.</p>",
        "id": 185825656,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189023
    },
    {
        "content": "<p>I think more accurately, it's <em>the</em> x64 non-windows ABI</p>",
        "id": 185825659,
        "sender_full_name": "eddyb",
        "timestamp": 1579189024
    },
    {
        "content": "<p>do we want to talk about who is going to investgiate this?</p>",
        "id": 185825689,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579189040
    },
    {
        "content": "<p>it sounds like the diagnosis is .. fairly clear, but I'm not sure <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> how easy you think it will be to fix</p>",
        "id": 185825718,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579189055
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> what about OS X ?</p>",
        "id": 185825733,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189063
    },
    {
        "content": "<p>feels weird to think about SysV running on x64, but I assume it must've happened for everyone (other than Microsoft) to copy the ABI</p>",
        "id": 185825741,
        "sender_full_name": "eddyb",
        "timestamp": 1579189066
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> SysV. we don't implement any x64 ABI other than sysv and win64</p>",
        "id": 185825827,
        "sender_full_name": "eddyb",
        "timestamp": 1579189088
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> do you think you have bandwidth to look at this?</p>",
        "id": 185825839,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189094
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> can you elaborate on the t-lang component?</p>",
        "id": 185825842,
        "sender_full_name": "centril",
        "timestamp": 1579189095
    },
    {
        "content": "<p>fwiw we do have a <a href=\"https://forge.rust-lang.org/release/platform-support.html\" target=\"_blank\" title=\"https://forge.rust-lang.org/release/platform-support.html\">page about tiers here</a></p>",
        "id": 185825845,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579189097
    },
    {
        "content": "<p>(but I think we should take some notes on \"Questions we should be able to quickly answer\" and make sure they are covered well on the page)</p>",
        "id": 185825863,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579189115
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> I'm not sure I do but this sounds important enough, and the hard part will be choosing a solution</p>",
        "id": 185825877,
        "sender_full_name": "eddyb",
        "timestamp": 1579189126
    },
    {
        "content": "<blockquote>\n<p>can you elaborate on the t-lang component?</p>\n</blockquote>\n<p>I don't personally think there is one</p>",
        "id": 185825879,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579189128
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> can you elaborate on the t-lang component?</p>\n</blockquote>\n<p>The T-lang comment was based on my (potentially mis)impression that this was something with #[repr(...)] that could be resolved at a language level</p>",
        "id": 185825907,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189150
    },
    {
        "content": "<p>but I'm <em>happy</em> to remove the T-lang label</p>",
        "id": 185825939,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189164
    },
    {
        "content": "<p>hang on a second...</p>",
        "id": 185825946,
        "sender_full_name": "eddyb",
        "timestamp": 1579189170
    },
    {
        "content": "<p>lmao <a href=\"https://github.com/rust-lang/rust/blob/master/src/librustc_target/abi/call/x86_64.rs#L67\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/blob/master/src/librustc_target/abi/call/x86_64.rs#L67\">https://github.com/rust-lang/rust/blob/master/src/librustc_target/abi/call/x86_64.rs#L67</a></p>",
        "id": 185825961,
        "sender_full_name": "eddyb",
        "timestamp": 1579189183
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> okay, this is a silly situation where nobody changed the code when we spec'd the behavior</p>",
        "id": 185826034,
        "sender_full_name": "eddyb",
        "timestamp": 1579189209
    },
    {
        "content": "<p>so it still does the naive thing</p>",
        "id": 185826044,
        "sender_full_name": "eddyb",
        "timestamp": 1579189216
    },
    {
        "content": "<blockquote>\n<p>lmao <a href=\"https://github.com/rust-lang/rust/blob/master/src/librustc_target/abi/call/x86_64.rs#L67\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/blob/master/src/librustc_target/abi/call/x86_64.rs#L67\">https://github.com/rust-lang/rust/blob/master/src/librustc_target/abi/call/x86_64.rs#L67</a></p>\n</blockquote>\n<p>Okay then that's enough for me to decide <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> is the right person to drive resolution here</p>",
        "id": 185826068,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189231
    },
    {
        "content": "<p>if only via mentorship</p>",
        "id": 185826071,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189234
    },
    {
        "content": "<p>this also means every ABI should be checked for handling enums as unions...</p>",
        "id": 185826077,
        "sender_full_name": "eddyb",
        "timestamp": 1579189237
    },
    {
        "content": "<p>let's move on?</p>",
        "id": 185826109,
        "sender_full_name": "centril",
        "timestamp": 1579189264
    },
    {
        "content": "<p>don’t we have codegen tests for those?</p>",
        "id": 185826118,
        "sender_full_name": "nagisa",
        "timestamp": 1579189271
    },
    {
        "content": "<p>yep, lets move on</p>",
        "id": 185826122,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189272
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"123586\">@nagisa</span> apparently nothing that could be passed in registers :/ (or if it's only a codegen test and not a real FFI test, the expected LLVM IR is wrong)</p>",
        "id": 185826140,
        "sender_full_name": "eddyb",
        "timestamp": 1579189288
    },
    {
        "content": "<p>nom 2. \"Project fails to link when using dylibs and the -Zshare-generics flag\" <a href=\"https://github.com/rust-lang/rust/issues/67276\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/67276\">#67276</a></p>",
        "id": 185826171,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189305
    },
    {
        "content": "<p>oh maybe this is resolved now/soon</p>",
        "id": 185826250,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189328
    },
    {
        "content": "<p>has a PR since 3 hours</p>",
        "id": 185826278,
        "sender_full_name": "oli",
        "timestamp": 1579189336
    },
    {
        "content": "<p>I left nominated ... why did I ...</p>",
        "id": 185826293,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189340
    },
    {
        "content": "<p>let's make it p-high</p>",
        "id": 185826336,
        "sender_full_name": "mw",
        "timestamp": 1579189354
    },
    {
        "content": "<p>it's a regression and there's a probable fix, so not much harm in that</p>",
        "id": 185826378,
        "sender_full_name": "mw",
        "timestamp": 1579189372
    },
    {
        "content": "<p>okay</p>",
        "id": 185826404,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189387
    },
    {
        "content": "<p>nom 3. \"Recent nightly doesn’t support array length from indirectly referenced trait constant\" <a href=\"https://github.com/rust-lang/rust/issues/67743\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/67743\">#67743</a></p>",
        "id": 185826427,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189400
    },
    {
        "content": "<p>has a PR since 30 mins</p>",
        "id": 185826432,
        "sender_full_name": "oli",
        "timestamp": 1579189406
    },
    {
        "content": "<p>I nominated it because its blocking ...</p>",
        "id": 185826437,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189411
    },
    {
        "content": "<p>/me looks</p>",
        "id": 185826441,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189414
    },
    {
        "content": "<p>heh</p>",
        "id": 185826452,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189422
    },
    {
        "content": "<p>okay then</p>",
        "id": 185826461,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189426
    },
    {
        "content": "<p>well there are all the other nominated issues. but there are nominated PR's, lets maybe focus on those</p>",
        "id": 185826565,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189465
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AT-compiler+label%3AI-nominated\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AT-compiler+label%3AI-nominated\">nominated PRs</a></p>",
        "id": 185826592,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189475
    },
    {
        "content": "<p>(thank you to whomever filled in that part of the hackmd)</p>",
        "id": 185826607,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189486
    },
    {
        "content": "<p>nom PR 1/4: \"Added tvOS as targets\" <a href=\"https://github.com/rust-lang/rust/issues/68191\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/68191\">#68191</a></p>",
        "id": 185826620,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189500
    },
    {
        "content": "<p>what is our stability story for targets?</p>",
        "id": 185826667,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189527
    },
    {
        "content": "<p>not sure why it is nominated. We either add the targets if the implementation is good enough or we don’t.</p>",
        "id": 185826669,
        "sender_full_name": "nagisa",
        "timestamp": 1579189530
    },
    {
        "content": "<p>we've been very accepting of tier 3 target additions</p>",
        "id": 185826694,
        "sender_full_name": "nagisa",
        "timestamp": 1579189546
    },
    {
        "content": "<p>i.e. is there a mechanism for adding targets unstably?</p>",
        "id": 185826699,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189551
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119031\">@Esteban Küber</span> elaborate?</p>",
        "id": 185826704,
        "sender_full_name": "centril",
        "timestamp": 1579189554
    },
    {
        "content": "<blockquote>\n<p>i.e. is there a mechanism for adding targets unstably?</p>\n</blockquote>\n<p>we just add them, and are free to remove them at any time</p>",
        "id": 185826766,
        "sender_full_name": "centril",
        "timestamp": 1579189571
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> there is no stability mechanism like APIs have, but tier3 targets are effectively unstable</p>",
        "id": 185826795,
        "sender_full_name": "nagisa",
        "timestamp": 1579189586
    },
    {
        "content": "<p>but they still end up in stable channel?</p>",
        "id": 185826814,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189598
    },
    {
        "content": "<p>I'm going to start tagging questions in a hackmd for \"questions we have about tiers\", but yes, this is what we have done traditionally</p>",
        "id": 185826834,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579189615
    },
    {
        "content": "<p>(am I wrong for having a gut reaction to that?)</p>",
        "id": 185826837,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189617
    },
    {
        "content": "<p>not even tier 1 targets are stable</p>",
        "id": 185826849,
        "sender_full_name": "centril",
        "timestamp": 1579189625
    },
    {
        "content": "<p>okay well if its what we do, its what we do.</p>",
        "id": 185826856,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189629
    },
    {
        "content": "<p>Use isn't possible because you need libcore equivalent</p>",
        "id": 185826859,
        "sender_full_name": "simulacrum",
        "timestamp": 1579189631
    },
    {
        "content": "<p>Or so I assume</p>",
        "id": 185826882,
        "sender_full_name": "simulacrum",
        "timestamp": 1579189650
    },
    {
        "content": "<p>I didn't feel comfortable approving on my own</p>",
        "id": 185826906,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1579189667
    },
    {
        "content": "<p>I guess we're in the weeds. And this doesn't need further discussion as a team?</p>",
        "id": 185826914,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189672
    },
    {
        "content": "<p>(and I mean that in a practical sense because we're demoting a tier 1 target)</p>",
        "id": 185826915,
        "sender_full_name": "centril",
        "timestamp": 1579189673
    },
    {
        "content": "<p>I've reassigned the PR to <span class=\"user-mention\" data-user-id=\"123586\">@nagisa</span></p>",
        "id": 185826991,
        "sender_full_name": "centril",
        "timestamp": 1579189691
    },
    {
        "content": "<p>I guess if people are interested or have expertise, they can go comment directly on the PR or allocate a zulip topic</p>",
        "id": 185826993,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189692
    },
    {
        "content": "<p>nom PR 2/4: \"Change opt-level from 2 back to 3\" <a href=\"https://github.com/rust-lang/rust/issues/67878\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/67878\">#67878</a></p>",
        "id": 185827030,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189717
    },
    {
        "content": "<p>(hackmd for <a href=\"https://hackmd.io/7TnobidqT8-e6dX2ANLh4A\" target=\"_blank\" title=\"https://hackmd.io/7TnobidqT8-e6dX2ANLh4A\">questions that arise about tiers</a>)</p>",
        "id": 185827054,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579189732
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> btw earlier I was looking for this issue, which keeps growing in the number of random things we get wrong in ABIs, to some extent or another <a href=\"https://github.com/rust-lang/rust/issues/65111\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/65111\">https://github.com/rust-lang/rust/issues/65111</a></p>",
        "id": 185827066,
        "sender_full_name": "eddyb",
        "timestamp": 1579189741
    },
    {
        "content": "<p>re <a href=\"https://github.com/rust-lang/rust/issues/67878\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/67878\">#67878</a>: there's still some active investigation going on.</p>",
        "id": 185827119,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189776
    },
    {
        "content": "<p>Mainly needs an answer about whether we care about the size increase</p>",
        "id": 185827123,
        "sender_full_name": "simulacrum",
        "timestamp": 1579189777
    },
    {
        "content": "<p>I think x86 tier 1 targets should come first personally</p>",
        "id": 185827147,
        "sender_full_name": "centril",
        "timestamp": 1579189793
    },
    {
        "content": "<p>since that's most users</p>",
        "id": 185827152,
        "sender_full_name": "centril",
        "timestamp": 1579189798
    },
    {
        "content": "<p>so this would benefit more users than it would harm</p>",
        "id": 185827208,
        "sender_full_name": "centril",
        "timestamp": 1579189807
    },
    {
        "content": "<p>Size increase will likely come from more inlining</p>",
        "id": 185827211,
        "sender_full_name": "nagisa",
        "timestamp": 1579189808
    },
    {
        "content": "<p>(so my conclusion is let's r+)</p>",
        "id": 185827232,
        "sender_full_name": "centril",
        "timestamp": 1579189830
    },
    {
        "content": "<p>I think I agree with <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> that this is the important Q to answer: \" is it spread out across all of libcore/std or a few functions getting significantly larger?\"</p>",
        "id": 185827240,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189838
    },
    {
        "content": "<p>While embedded definitely cares about it, I think there’s something to say about them having their own tools to override this.</p>",
        "id": 185827245,
        "sender_full_name": "nagisa",
        "timestamp": 1579189843
    },
    {
        "content": "<p>Seems probable. To be clear, the situation was something like:</p>\n<ul>\n<li>we optimize libstd more (perhaps do more inlining)</li>\n<li>this in turn increases size of all binaries</li>\n</ul>",
        "id": 185827247,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579189845
    },
    {
        "content": "<p>Yes</p>",
        "id": 185827256,
        "sender_full_name": "simulacrum",
        "timestamp": 1579189854
    },
    {
        "content": "<p>We can probably also optimize only on x86, I guess</p>",
        "id": 185827287,
        "sender_full_name": "simulacrum",
        "timestamp": 1579189873
    },
    {
        "content": "<p>that's an interesting approach</p>",
        "id": 185827301,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189889
    },
    {
        "content": "<p>one could make the argument that embedded platforms should have an <code>-Copt-level=s</code> libstd anyway?</p>",
        "id": 185827311,
        "sender_full_name": "mw",
        "timestamp": 1579189894
    },
    {
        "content": "<p>How many embedded targets we distribute libstd for? I believe its just thumb?</p>",
        "id": 185827315,
        "sender_full_name": "nagisa",
        "timestamp": 1579189898
    },
    {
        "content": "<p>especially since that target might get more testing within LLVM, right?</p>",
        "id": 185827324,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189907
    },
    {
        "content": "<p>Thumb and llvm</p>",
        "id": 185827337,
        "sender_full_name": "simulacrum",
        "timestamp": 1579189913
    },
    {
        "content": "<p>Er, wasm</p>",
        "id": 185827343,
        "sender_full_name": "simulacrum",
        "timestamp": 1579189918
    },
    {
        "content": "<p>(and thus we might trust opt-level=3 more there than other less tested targets)</p>",
        "id": 185827352,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189922
    },
    {
        "content": "<p>although that makes test suites and stuff more fragile ostensibly if we diverge</p>",
        "id": 185827396,
        "sender_full_name": "centril",
        "timestamp": 1579189930
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"124287\">@mw</span> I wonder how well that works (<code>opt-level=s/z</code>, that is). I've tried it out on a large WASM project and it made things slightly worse, instead</p>",
        "id": 185827403,
        "sender_full_name": "eddyb",
        "timestamp": 1579189932
    },
    {
        "content": "<p>Anyway</p>",
        "id": 185827410,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189938
    },
    {
        "content": "<p>sounds definitely like a better approach to override those targets to <code>opt-level-s</code> as @mw proposes.</p>",
        "id": 185827415,
        "sender_full_name": "nagisa",
        "timestamp": 1579189941
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> do you think the PR author will be happy to do the investigation you requested?</p>",
        "id": 185827433,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579189958
    },
    {
        "content": "<p>yes, whatever produces the smallest libstd, anyway</p>",
        "id": 185827440,
        "sender_full_name": "mw",
        "timestamp": 1579189962
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> Not sure. I would not have the time myself.</p>\n<p>I do lean towards just landing it</p>",
        "id": 185827458,
        "sender_full_name": "simulacrum",
        "timestamp": 1579189982
    },
    {
        "content": "<p>I think that having distinct optimization levels for targets sounds reasonable.</p>",
        "id": 185827460,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579189982
    },
    {
        "content": "<p>It's basically a variation of <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span>'s suggestion</p>",
        "id": 185827465,
        "sender_full_name": "mw",
        "timestamp": 1579189984
    },
    {
        "content": "<p>(and we can explore minimizing size via different opt-levels for some targets at a later point)</p>",
        "id": 185827486,
        "sender_full_name": "simulacrum",
        "timestamp": 1579190007
    },
    {
        "content": "<p>compiletest is going to be so happy with this =P</p>",
        "id": 185827492,
        "sender_full_name": "centril",
        "timestamp": 1579190011
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> Not sure. I would not have the time myself.</p>\n<p>I do lean towards just landing it</p>\n</blockquote>\n<p>We could just land and let people who care do the investigation in parallel</p>",
        "id": 185827497,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190013
    },
    {
        "content": "<p>But I also think we could land it</p>",
        "id": 185827499,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579190016
    },
    {
        "content": "<p>Yes, basically what <span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> just said</p>",
        "id": 185827512,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579190024
    },
    {
        "content": "<p>i.e. I suspect this code size need not block movement</p>",
        "id": 185827515,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190027
    },
    {
        "content": "<p>land it and if people complain, then we try to reduce</p>",
        "id": 185827521,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579190031
    },
    {
        "content": "<p>or, e.g., I could imagine we make opt-level=3 only apply to the compiler at least :)</p>",
        "id": 185827525,
        "sender_full_name": "simulacrum",
        "timestamp": 1579190033
    },
    {
        "content": "<p>any objections to just landing?</p>",
        "id": 185827527,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190033
    },
    {
        "content": "<p>6 minutes <span aria-label=\"alarm clock\" class=\"emoji emoji-23f0\" role=\"img\" title=\"alarm clock\">:alarm_clock:</span></p>",
        "id": 185827568,
        "sender_full_name": "oli",
        "timestamp": 1579190043
    },
    {
        "content": "<p>seems like we're just landing it</p>",
        "id": 185827583,
        "sender_full_name": "centril",
        "timestamp": 1579190057
    },
    {
        "content": "<p>okay lets assume that's  happening</p>",
        "id": 185827589,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190059
    },
    {
        "content": "<p>PR nom 3/4: \"Fix some of the rustfmt fallout in Miri\" <a href=\"https://github.com/rust-lang/rust/issues/67833\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/67833\">#67833</a></p>",
        "id": 185827605,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190074
    },
    {
        "content": "<p>I will write up relevant commentary</p>",
        "id": 185827607,
        "sender_full_name": "simulacrum",
        "timestamp": 1579190076
    },
    {
        "content": "<p>that one was left over I think</p>",
        "id": 185827625,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190088
    },
    {
        "content": "<p>TLDR: do we accept <code>#[rustfmt::skip]</code> PRs just like we did accept tidy bailouts?</p>",
        "id": 185827640,
        "sender_full_name": "oli",
        "timestamp": 1579190097
    },
    {
        "content": "<p>though I was hoping to move forward with a suggestion I had made to <span class=\"user-mention\" data-user-id=\"120791\">@RalfJ</span> on another workaround</p>",
        "id": 185827656,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190105
    },
    {
        "content": "<p>(and open issues on rustfmt, or point to existing ones)</p>",
        "id": 185827676,
        "sender_full_name": "oli",
        "timestamp": 1579190117
    },
    {
        "content": "<p>I'm personally fine with accepting them <em>if</em> they link to open issues</p>",
        "id": 185827700,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190135
    },
    {
        "content": "<p>/me would rather use <code>#[rustfmt::skip]</code> than to use Felix's suggestion :P</p>",
        "id": 185827705,
        "sender_full_name": "centril",
        "timestamp": 1579190138
    },
    {
        "content": "<p>but I would also be fine with saying we won't objecrt.</p>",
        "id": 185827709,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190143
    },
    {
        "content": "<blockquote>\n<p>/me would rather use <code>#[rustfmt::skip]</code> than to use Felix's suggestion :P</p>\n</blockquote>\n<p>you mean my more recent suggestion?</p>",
        "id": 185827719,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190152
    },
    {
        "content": "<p>I think we shouldn't do this</p>",
        "id": 185827725,
        "sender_full_name": "centril",
        "timestamp": 1579190154
    },
    {
        "content": "<p>We can always revert and nix all the <code>#[rustfmt::skip]</code> attributes</p>",
        "id": 185827769,
        "sender_full_name": "oli",
        "timestamp": 1579190163
    },
    {
        "content": "<p>(of a flag to preserve brace style?)</p>",
        "id": 185827772,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190164
    },
    {
        "content": "<p>I just kind of don't care this much</p>",
        "id": 185827776,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579190165
    },
    {
        "content": "<p>But I think \"land rustfmt::skip with a link to an issue\" is a reasonable compromise</p>",
        "id": 185827800,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579190179
    },
    {
        "content": "<p>(<span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span>  this one: <code>let val; ...; val = expr</code>)</p>",
        "id": 185827801,
        "sender_full_name": "centril",
        "timestamp": 1579190179
    },
    {
        "content": "<p>we should be using this dogfooding to provide feedback, I think</p>",
        "id": 185827815,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579190187
    },
    {
        "content": "<blockquote>\n<p>(<span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span>  this one: <code>let val; ...; val = expr</code>)</p>\n</blockquote>\n<p>oh yeah that one is getting GC'ed like the garbage it is</p>",
        "id": 185827832,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190198
    },
    {
        "content": "<p>okay then lets just say we won't accept this PR then</p>",
        "id": 185827847,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190209
    },
    {
        "content": "<p>less churn</p>",
        "id": 185827854,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190213
    },
    {
        "content": "<p>I think filing issues for outright bugs is fine, but I would like us not to have <code>skip</code>s</p>",
        "id": 185827904,
        "sender_full_name": "centril",
        "timestamp": 1579190238
    },
    {
        "content": "<p>nom PR 4/4: \"windows-gnu: prefer system crt libraries if they are available\" <a href=\"https://github.com/rust-lang/rust/issues/67429\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/67429\">#67429</a></p>",
        "id": 185827913,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190241
    },
    {
        "content": "<p>heck if I know what status is here</p>",
        "id": 185827937,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190256
    },
    {
        "content": "<p>Waiting for the review I guess?</p>",
        "id": 185827960,
        "sender_full_name": "mati865",
        "timestamp": 1579190270
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> do you want to hand this off to someone else?</p>",
        "id": 185828044,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190302
    },
    {
        "content": "<p>It was supposed to be discussed 2 weeks ago on the meeting  ^^</p>",
        "id": 185828051,
        "sender_full_name": "mati865",
        "timestamp": 1579190303
    },
    {
        "content": "<p>SGTM, altohugh I feel like the alternative of including headers could also be a reasonable solution</p>",
        "id": 185828060,
        "sender_full_name": "nagisa",
        "timestamp": 1579190310
    },
    {
        "content": "<p>also why do we even keep distributing our own copy if we just gonna use system ones anyway?</p>",
        "id": 185828134,
        "sender_full_name": "nagisa",
        "timestamp": 1579190347
    },
    {
        "content": "<p>looks like this needs reviewer reassignment in any case?</p>",
        "id": 185828136,
        "sender_full_name": "centril",
        "timestamp": 1579190350
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"123586\">@nagisa</span>  do you want r?</p>",
        "id": 185828169,
        "sender_full_name": "centril",
        "timestamp": 1579190367
    },
    {
        "content": "<blockquote>\n<p>SGTM, altohugh I feel like the alternative of including headers could also be a reasonable solution</p>\n</blockquote>\n<p>I think that would make using system libraries (like libpng, or zlib) impossible.</p>",
        "id": 185828184,
        "sender_full_name": "mati865",
        "timestamp": 1579190373
    },
    {
        "content": "<blockquote>\n<p>It was supposed to be discussed 2 weeks ago on the meeting  ^^</p>\n</blockquote>\n<p>we don't get to every nominated issue. And also the nominated PR's are... not always handled well...</p>",
        "id": 185828213,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190388
    },
    {
        "content": "<blockquote>\n<p>okay then lets just say we won't accept this PR then</p>\n</blockquote>\n<p>(I'm not entirely comfortable with this outcome yet, for the record, but I'll leave a comment on PR, dont' want to continue debating now)</p>",
        "id": 185828226,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579190393
    },
    {
        "content": "<blockquote>\n<p>okay then lets just say we won't accept this PR then</p>\n</blockquote>\n<p>(I'm not entirely comfortable with this outcome yet, for the record, but I'll leave a comment on PR, dont' want to continue debating now)</p>",
        "id": 185828312,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1579190413
    },
    {
        "content": "<p>well time is up. <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span></p>",
        "id": 185828324,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190417
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"126931\">@centril</span> no, I don’t windows much</p>",
        "id": 185828338,
        "sender_full_name": "nagisa",
        "timestamp": 1579190421
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>It was supposed to be discussed 2 weeks ago on the meeting  ^^</p>\n</blockquote>\n<p>we don't get to every nominated issue. And also the nominated PR's are... not always handled well...</p>\n</blockquote>\n<p>I think it was missed because had no <code>T-compiler</code> label.</p>",
        "id": 185828343,
        "sender_full_name": "mati865",
        "timestamp": 1579190423
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"123586\">@nagisa</span>  ok hmm; who would be appropriate here? Alex?</p>",
        "id": 185828370,
        "sender_full_name": "centril",
        "timestamp": 1579190442
    },
    {
        "content": "<p>Probably.</p>",
        "id": 185828383,
        "sender_full_name": "nagisa",
        "timestamp": 1579190448
    },
    {
        "content": "<p>I doubt matthew wants to review this</p>",
        "id": 185828386,
        "sender_full_name": "centril",
        "timestamp": 1579190449
    },
    {
        "content": "<p>it can wait another week</p>",
        "id": 185828466,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190486
    },
    {
        "content": "<p>WG checkins</p>",
        "id": 185828478,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190495
    },
    {
        "content": "<p>reassigned for now</p>",
        "id": 185828481,
        "sender_full_name": "centril",
        "timestamp": 1579190496
    },
    {
        "content": "<p>after meeting is over, so much fun</p>",
        "id": 185828483,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190501
    },
    {
        "content": "<p>i gotta run <span aria-label=\"running\" class=\"emoji emoji-1f3c3\" role=\"img\" title=\"running\">:running:</span> <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span></p>",
        "id": 185828516,
        "sender_full_name": "oli",
        "timestamp": 1579190520
    },
    {
        "content": "<p>you can see WG checkins here: <a href=\"https://hackmd.io/ruw4k37lSJ6RDVOFfhdQ7Q?both#WG-checkins\" target=\"_blank\" title=\"https://hackmd.io/ruw4k37lSJ6RDVOFfhdQ7Q?both#WG-checkins\">https://hackmd.io/ruw4k37lSJ6RDVOFfhdQ7Q?both#WG-checkins</a></p>",
        "id": 185828577,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190525
    },
    {
        "content": "<p>sorry for mismanaging time once again</p>",
        "id": 185828604,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190540
    },
    {
        "content": "<p>and thank you to everyone in <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span> for attending!!</p>",
        "id": 185828623,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579190551
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> I only just now caught up to this mention. (Also, I'm a little behind dealing with the target tier RFC, but I still intend to go back and incorporate feedback and post a new version.)</p>",
        "id": 186416759,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1579802641
    },
    {
        "content": "<p>Regarding the sysv ABI, yes, it's a high priority as it's the ABI for non-Windows platforms on x86, so it affects tier 1 targets.</p>",
        "id": 186416880,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1579802695
    },
    {
        "content": "<p>It's absolutely P-high.</p>",
        "id": 186416891,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1579802704
    },
    {
        "content": "<p>Reading the issue, I think the assessment of the bug is accurate.</p>",
        "id": 186417425,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1579803046
    },
    {
        "content": "<p>And yeah, some of the historical cleverness of ABIs may not be warranted today, but we have to match it precisely nonetheless.</p>",
        "id": 186417445,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1579803066
    },
    {
        "content": "<p>(for reference, the above was responding to a ping regarding issue <a href=\"https://github.com/rust-lang/rust/issues/68190\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/issues/68190\">#68190</a> )</p>",
        "id": 186423385,
        "sender_full_name": "pnkfelix",
        "timestamp": 1579806593
    },
    {
        "content": "<p>Right. I should have quoted the context I was replying to.</p>",
        "id": 186431647,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1579811144
    }
]