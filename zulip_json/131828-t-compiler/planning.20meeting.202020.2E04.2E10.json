[
    {
        "content": "<p>Hey <span class=\"user-group-mention\" data-user-group-id=\"897\">@T-compiler/meeting</span> -- today is a planning meeting for our design meeting schedule over the next 3 weeks. As of this moment, we have <a href=\"https://github.com/rust-lang/compiler-team/issues?q=is%3Aissue+is%3Aopen+label%3Ameeting-proposal+-label%3Ameeting-scheduled\" title=\"https://github.com/rust-lang/compiler-team/issues?q=is%3Aissue+is%3Aopen+label%3Ameeting-proposal+-label%3Ameeting-scheduled\">two meeting proposals</a></p>",
        "id": 193571574,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586527217
    },
    {
        "content": "<p>But before we get to that, any....</p>\n<h1>Announcements</h1>",
        "id": 193571645,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586527249
    },
    {
        "content": "<ul>\n<li>I opened <a href=\"https://github.com/rust-lang/rfcs/pull/2904\" title=\"https://github.com/rust-lang/rfcs/pull/2904\">Major Change RFC</a></li>\n</ul>",
        "id": 193571690,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586527268
    },
    {
        "content": "<ul>\n<li>I've picked up the python 3 transition work that <span class=\"user-mention\" data-user-id=\"210316\">@GuillaumeGomez</span> started and hope to finish that soon, so if for some odd reason you care, now you know! :)</li>\n</ul>",
        "id": 193571724,
        "sender_full_name": "simulacrum",
        "timestamp": 1586527288
    },
    {
        "content": "<p>there were leftover no,minations from yesterday</p>",
        "id": 193572176,
        "sender_full_name": "pnkfelix",
        "timestamp": 1586527540
    },
    {
        "content": "<ul>\n<li>Speaking of Major Changes, we have three <a href=\"https://github.com/rust-lang/compiler-team/issues?q=is%3Aopen+is%3Aissue+label%3Amajor-change+\" title=\"https://github.com/rust-lang/compiler-team/issues?q=is%3Aopen+is%3Aissue+label%3Amajor-change+\">pending proposals</a>. I'm going to create a stream and a bit more stuff around them, but the idea is that if folks thing it's a good idea, they should \"second\" the proposal and we'll announce them at triage meetings.</li>\n</ul>",
        "id": 193572180,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586527542
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/131828-t-compiler/topic/planning.20meeting.202020.2E04.2E10/near/193572176\" title=\"#narrow/stream/131828-t-compiler/topic/planning.20meeting.202020.2E04.2E10/near/193572176\">said</a>:</p>\n<blockquote>\n<p>there were leftover no,minations from yesterday</p>\n</blockquote>\n<p>(but I suspect we are better off letting them wait until next week's thurday meeting)</p>",
        "id": 193572248,
        "sender_full_name": "pnkfelix",
        "timestamp": 1586527573
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> I definitely care! Thanks a lot for helping me on this! If you need a hand, don't hesitate to ask. :)</p>",
        "id": 193572249,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1586527574
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/131828-t-compiler/topic/planning.20meeting.202020.2E04.2E10/near/193572176\" title=\"#narrow/stream/131828-t-compiler/topic/planning.20meeting.202020.2E04.2E10/near/193572176\">said</a>:</p>\n<blockquote>\n<p>there were leftover no,minations from yesterday</p>\n</blockquote>\n<p>do we want to try and cover those today?</p>",
        "id": 193572256,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586527576
    },
    {
        "content": "<p>I'm sort of inclined to just use this meeting for its intended purpose unless there's urgency</p>",
        "id": 193572280,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586527595
    },
    {
        "content": "<p>(Speaking of which, shall we get started?)</p>",
        "id": 193572294,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586527605
    },
    {
        "content": "<p>We can decide at the end I guess whether to cover nominations</p>",
        "id": 193572303,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586527611
    },
    {
        "content": "<p>i basically wanted to give <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> a chance to chime in and argue that some of them should be discussed</p>",
        "id": 193572304,
        "sender_full_name": "pnkfelix",
        "timestamp": 1586527612
    },
    {
        "content": "<p>/poll Meeting proposals</p>",
        "id": 193572322,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586527630
    },
    {
        "content": "<p>oh I was a bit slow with announcing this:</p>\n<ul>\n<li>I've just opened <a href=\"https://github.com/rust-lang/rust/issues/70989\" title=\"https://github.com/rust-lang/rust/issues/70989\">#70989</a> so that PR CI will tell you if the new <code>mir-opt</code> tests are failing for 32-bits</li>\n</ul>",
        "id": 193572329,
        "sender_full_name": "eddyb",
        "timestamp": 1586527635
    },
    {
        "content": "<p>(which may become a common problem now)</p>",
        "id": 193572347,
        "sender_full_name": "eddyb",
        "timestamp": 1586527651
    },
    {
        "content": "<p>/me was still writing that PR's description</p>",
        "id": 193572356,
        "sender_full_name": "eddyb",
        "timestamp": 1586527658
    },
    {
        "content": "<p>Regarding <a href=\"https://github.com/rust-lang/compiler-team/issues/177\" title=\"https://github.com/rust-lang/compiler-team/issues/177\">compiler-team#177</a>, <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span>, we published your post, and there were some answers in internals, I don't think there are any other updates or developments?</p>",
        "id": 193572478,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586527716
    },
    {
        "content": "<p>Wait, we have <em>too few</em> meeting proposals? That's a first? :D</p>",
        "id": 193572495,
        "sender_full_name": "centril",
        "timestamp": 1586527723
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"126931\">centril</span> <a href=\"#narrow/stream/131828-t-compiler/topic/planning.20meeting.202020.2E04.2E10/near/193572495\" title=\"#narrow/stream/131828-t-compiler/topic/planning.20meeting.202020.2E04.2E10/near/193572495\">said</a>:</p>\n<blockquote>\n<p>Wait, we have <em>too few</em> meeting proposals? That's a first? :D</p>\n</blockquote>\n<p>(maybe a third? its happened before I think)</p>",
        "id": 193572524,
        "sender_full_name": "pnkfelix",
        "timestamp": 1586527744
    },
    {
        "content": "<p>yeah I think sideeffect is basically stalled, I don't think anyone in internals had any solid ideas on how to do better</p>",
        "id": 193572529,
        "sender_full_name": "simulacrum",
        "timestamp": 1586527747
    },
    {
        "content": "<p>/poll Folks who have conflicts with dates?</p>",
        "id": 193572531,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586527747
    },
    {
        "content": "<p>Just to have an easy summary of who's around, feel free to vote for weeks that you have a conflict :)</p>",
        "id": 193572570,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586527769
    },
    {
        "content": "<p>(May 1 is international worker's day, so that's definitely a conflict ^^ -- I shall be out demonstrating <span aria-label=\"megaphone\" class=\"emoji emoji-1f4e3\" role=\"img\" title=\"megaphone\">:megaphone:</span>)</p>",
        "id": 193572600,
        "sender_full_name": "centril",
        "timestamp": 1586527786
    },
    {
        "content": "<p>(depending on the Corona virus)</p>",
        "id": 193572616,
        "sender_full_name": "centril",
        "timestamp": 1586527798
    },
    {
        "content": "<p>May 2020 or May 2021?</p>",
        "id": 193572741,
        "sender_full_name": "eddyb",
        "timestamp": 1586527866
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span>  both <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 193572756,
        "sender_full_name": "centril",
        "timestamp": 1586527877
    },
    {
        "content": "<p>OK, it seems like the first question to decide then is what week to use for <a href=\"https://github.com/rust-lang/compiler-team/issues/267\" title=\"https://github.com/rust-lang/compiler-team/issues/267\">compiler-team#267</a> -- I wonder if <span class=\"user-mention\" data-user-id=\"119235\">@David Tolnay</span> or other libs folks would be around</p>",
        "id": 193572759,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586527881
    },
    {
        "content": "<p>ah I had forgotten about all the may holidays from my time in France</p>",
        "id": 193572768,
        "sender_full_name": "pnkfelix",
        "timestamp": 1586527887
    },
    {
        "content": "<p>April 24?</p>",
        "id": 193572783,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586527908
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> already? :D</p>",
        "id": 193572784,
        "sender_full_name": "centril",
        "timestamp": 1586527908
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> <span class=\"user-mention\" data-user-id=\"119235\">@David Tolnay</span> has told me they can make this slot any week, I think</p>",
        "id": 193572868,
        "sender_full_name": "simulacrum",
        "timestamp": 1586527950
    },
    {
        "content": "<p>OK, let's just say Apr 24 then.</p>",
        "id": 193572933,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528017
    },
    {
        "content": "<p>I was <em>supposed</em> to be on vacation in Ireland that day, but... <em>that's</em> not a problem anymore.</p>",
        "id": 193573033,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528058
    },
    {
        "content": "<p>In case we pick May 1st and have the meeting then: My view on the proposal: it seems like a solid idea <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 193573040,
        "sender_full_name": "centril",
        "timestamp": 1586528068
    },
    {
        "content": "<p>OK, the other question is llvm.sideeffect. I personally feel like, in the absence of any new developments, I don't feel the need for a meeting at the moment.</p>",
        "id": 193573212,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528165
    },
    {
        "content": "<p>In terms of actionable steps, from skimming the thread,</p>",
        "id": 193573225,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528175
    },
    {
        "content": "<p>it does seem like we could land a simple mitigation that literally just detects infinite loops?</p>",
        "id": 193573240,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528185
    },
    {
        "content": "<p>since apparently that's a common idiom in some contexts</p>",
        "id": 193573252,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528194
    },
    {
        "content": "<p>that's a rough idea I've had yeah</p>",
        "id": 193573258,
        "sender_full_name": "simulacrum",
        "timestamp": 1586528198
    },
    {
        "content": "<p>I think that's accurate; still, sorta discontent with not fixing that soundness hole <span aria-label=\"frown\" class=\"emoji emoji-1f641\" role=\"img\" title=\"frown\">:frown:</span></p>",
        "id": 193573269,
        "sender_full_name": "centril",
        "timestamp": 1586528204
    },
    {
        "content": "<p>I was skeptical before that it would be that useful in pratcice, but if it's common in embedded environments, seems fine.</p>",
        "id": 193573294,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528218
    },
    {
        "content": "<p>I have not had time to prototype that, but I think we should do so if it is performance free (I expect it should be)</p>",
        "id": 193573298,
        "sender_full_name": "simulacrum",
        "timestamp": 1586528220
    },
    {
        "content": "<p>Presumably</p>",
        "id": 193573310,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528225
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span>  the idea doesn't involve MIR or frontend changes, right?</p>",
        "id": 193573333,
        "sender_full_name": "centril",
        "timestamp": 1586528226
    },
    {
        "content": "<p>nah, just an adjustment to the backend I think</p>",
        "id": 193573361,
        "sender_full_name": "simulacrum",
        "timestamp": 1586528240
    },
    {
        "content": "<p>Like, those loops should literally not exist today</p>",
        "id": 193573364,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528241
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> ah ok, great</p>",
        "id": 193573384,
        "sender_full_name": "centril",
        "timestamp": 1586528256
    },
    {
        "content": "<p>(well rustc_codegen_ssa IIRC, but same thing)</p>",
        "id": 193573401,
        "sender_full_name": "simulacrum",
        "timestamp": 1586528268
    },
    {
        "content": "<p>Maybe we should advertise this soundness hole more <del>clearly</del> broadly; I feel that it's common in practice to hit</p>",
        "id": 193573457,
        "sender_full_name": "centril",
        "timestamp": 1586528289
    },
    {
        "content": "<p>OK. So maybe we're just done here.</p>",
        "id": 193573459,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528290
    },
    {
        "content": "<p>Well, we have lints for the recursive case, right?</p>",
        "id": 193573488,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528306
    },
    {
        "content": "<p>And we would eliminate the <code>loop { }</code> case</p>",
        "id": 193573492,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528311
    },
    {
        "content": "<p>we try to lint on recursion, and we would fix the trivial loop {} case</p>",
        "id": 193573505,
        "sender_full_name": "simulacrum",
        "timestamp": 1586528321
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> it doesn't always work I think</p>",
        "id": 193573524,
        "sender_full_name": "centril",
        "timestamp": 1586528332
    },
    {
        "content": "<p>note though that you can write code which <em>we</em> think is not trivial loop {} but LLVM sees as such</p>",
        "id": 193573534,
        "sender_full_name": "simulacrum",
        "timestamp": 1586528335
    },
    {
        "content": "<p>i don't know aggressive the recusion detection is</p>",
        "id": 193573537,
        "sender_full_name": "pnkfelix",
        "timestamp": 1586528338
    },
    {
        "content": "<p>well, it couldn't possibly... (halting problem)</p>",
        "id": 193573538,
        "sender_full_name": "centril",
        "timestamp": 1586528339
    },
    {
        "content": "<p>certainly not inter-procedural, right?</p>",
        "id": 193573551,
        "sender_full_name": "pnkfelix",
        "timestamp": 1586528344
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/131828-t-compiler/topic/planning.20meeting.202020.2E04.2E10/near/193573488\" title=\"#narrow/stream/131828-t-compiler/topic/planning.20meeting.202020.2E04.2E10/near/193573488\">said</a>:</p>\n<blockquote>\n<p>Well, we have lints for the recursive case, right?</p>\n</blockquote>\n<p>I used to hit this somewhat often, but I don't anymore ever since</p>\n<p>(a) the lints trigger<br>\nand (b) I started writing <code>T::foo(self)</code> instead of <code>(**self).foo</code> when implementing traits for <code>&amp;T</code></p>",
        "id": 193573554,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528346
    },
    {
        "content": "<p>the recursion lint is pretty limited in that it doesn't look at the callgraph at all, just self-recursion</p>",
        "id": 193573565,
        "sender_full_name": "eddyb",
        "timestamp": 1586528352
    },
    {
        "content": "<p>sure, I'm just saying that self-recursion is the only case where I personally ever hit it</p>",
        "id": 193573593,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528369
    },
    {
        "content": "<p>and it's polymorphic so no trait method resolution (except for a special-case)</p>",
        "id": 193573600,
        "sender_full_name": "eddyb",
        "timestamp": 1586528374
    },
    {
        "content": "<p>I'm curious to know if other folks hit the problem in other contexts</p>",
        "id": 193573605,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528377
    },
    {
        "content": "<p>it'd be good to try collecting examples</p>",
        "id": 193573616,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528388
    },
    {
        "content": "<p>since another actionable step would be seeing if we can extend or detect those sorts of cases</p>",
        "id": 193573677,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528408
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> it will never catch a \"visitor pattern\" type thing, for example, being infinitely recursive</p>",
        "id": 193573678,
        "sender_full_name": "eddyb",
        "timestamp": 1586528408
    },
    {
        "content": "<p>Also, should we use this meeting slot today to do some triage?</p>",
        "id": 193573685,
        "sender_full_name": "centril",
        "timestamp": 1586528412
    },
    {
        "content": "<p>(as long as there is more than one <code>visit_...</code> method :P)</p>",
        "id": 193573699,
        "sender_full_name": "eddyb",
        "timestamp": 1586528426
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"126931\">centril</span> <a href=\"#narrow/stream/131828-t-compiler/topic/planning.20meeting.202020.2E04.2E10/near/193573685\" title=\"#narrow/stream/131828-t-compiler/topic/planning.20meeting.202020.2E04.2E10/near/193573685\">said</a>:</p>\n<blockquote>\n<p>Also, should we use this meeting slot today to do some triage?</p>\n</blockquote>\n<p>we're only 20min in, and we're all here, sounds good</p>",
        "id": 193573729,
        "sender_full_name": "eddyb",
        "timestamp": 1586528455
    },
    {
        "content": "<p>Regarding triage, I'd rather not, because I've got a lot of things I'd like to do today. Did you mean discussing nominated issues?</p>",
        "id": 193573730,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528457
    },
    {
        "content": "<p>triage ... of P-high issues?</p>",
        "id": 193573743,
        "sender_full_name": "pnkfelix",
        "timestamp": 1586528465
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> p-high issues, nominated, etc.</p>",
        "id": 193573752,
        "sender_full_name": "centril",
        "timestamp": 1586528476
    },
    {
        "content": "<p>seems like the people who can and want to stay can do so</p>",
        "id": 193573754,
        "sender_full_name": "pnkfelix",
        "timestamp": 1586528479
    },
    {
        "content": "<p>but niko's time in particular is pretty <del>valuable</del> scarce, so I'm fine with letting them go</p>",
        "id": 193573779,
        "sender_full_name": "pnkfelix",
        "timestamp": 1586528501
    },
    {
        "content": "<p>fair 'nuff</p>",
        "id": 193573812,
        "sender_full_name": "eddyb",
        "timestamp": 1586528523
    },
    {
        "content": "<p>seems fine to me</p>",
        "id": 193573899,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1586528574
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> do you want to drive?</p>",
        "id": 193574036,
        "sender_full_name": "centril",
        "timestamp": 1586528643
    },
    {
        "content": "<p>sure okay, this is going to be somewhat ad hoc</p>",
        "id": 193574074,
        "sender_full_name": "pnkfelix",
        "timestamp": 1586528660
    },
    {
        "content": "<p>lets maybe create a fresh topic</p>",
        "id": 193574107,
        "sender_full_name": "pnkfelix",
        "timestamp": 1586528682
    },
    {
        "content": "<p>over here: <a href=\"#narrow/stream/131828-t-compiler/topic/ad.20hoc.20triage.20meeting.202020.2E04.2E10/near/193574123\" title=\"#narrow/stream/131828-t-compiler/topic/ad.20hoc.20triage.20meeting.202020.2E04.2E10/near/193574123\">https://rust-lang.zulipchat.com/#narrow/stream/131828-t-compiler/topic/ad.20hoc.20triage.20meeting.202020.2E04.2E10/near/193574123</a></p>",
        "id": 193574144,
        "sender_full_name": "pnkfelix",
        "timestamp": 1586528706
    }
]