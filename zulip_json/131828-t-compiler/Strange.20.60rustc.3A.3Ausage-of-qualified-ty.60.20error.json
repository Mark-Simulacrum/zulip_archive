[
    {
        "content": "<p>I'm making some changes in <code>src/tools/clippy/clippy_lints/src/modulo_arithmetic.rs</code>, which includes this line:</p>\n<div class=\"codehilite\"><pre><span></span><code>use rustc_middle::ty;\n</code></pre></div>\n<p>I get this compile error:</p>\n<div class=\"codehilite\"><pre><span></span><code>error: usage of qualified `ty::Ty&lt;&#39;_&gt;`\n  --&gt; src/tools/clippy/clippy_lints/src/modulo_arithmetic.rs:80:33\n   |\n80 | fn might_have_negative_value(t: ty::Ty&lt;&#39;_&gt;) -&gt; bool {\n   |                                 ^^^^^^^^^^ help: try using it unqualified: `Ty&lt;&#39;_&gt;`\n   |\n   = note: `-D rustc::usage-of-qualified-ty` implied by `-D warnings`\n</code></pre></div>\n<p>which seems weird. I follow the advice, and then I get this error, unsurprisingly:</p>\n<div class=\"codehilite\"><pre><span></span><code>error[E0412]: cannot find type `Ty` in this scope\n  --&gt; src/tools/clippy/clippy_lints/src/modulo_arithmetic.rs:80:33\n   |\n80 | fn might_have_negative_value(t: Ty&lt;&#39;_&gt;) -&gt; bool {\n   |                                 ^^ not found in this scope\n   |\nhelp: consider importing one of these items\n   |\n1  | use crate::modulo_arithmetic::ty::Ty;\n   |\n1  | use rustc_ast::Ty;\n   |\n1  | use rustc_hir::Ty;\n   |\n1  | use rustc_middle::ty::Ty;\n   |\n</code></pre></div>\n<p>Is this a bug? Am I misunderstanding what it's telling me?</p>",
        "id": 269204119,
        "sender_full_name": "nnethercote",
        "timestamp": 1643080354
    },
    {
        "content": "<p>the idea is that it should be convention to use</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">use</span><span class=\"w\"> </span><span class=\"n\">rustc_middle</span>::<span class=\"n\">ty</span>::<span class=\"p\">{</span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">TyCtxt</span><span class=\"p\">};</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 269217181,
        "sender_full_name": "lcnr",
        "timestamp": 1643094838
    },
    {
        "content": "<p>i thought that the lint was supposed to mention this <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 269217238,
        "sender_full_name": "lcnr",
        "timestamp": 1643094857
    },
    {
        "content": "<p>Oh, I see. Yes, a clearer message would help a lot!</p>",
        "id": 269483879,
        "sender_full_name": "nnethercote",
        "timestamp": 1643231941
    },
    {
        "content": "<p>I filed <a href=\"https://github.com/rust-lang/rust/pull/93357\">https://github.com/rust-lang/rust/pull/93357</a></p>",
        "id": 269520041,
        "sender_full_name": "nnethercote",
        "timestamp": 1643252676
    }
]