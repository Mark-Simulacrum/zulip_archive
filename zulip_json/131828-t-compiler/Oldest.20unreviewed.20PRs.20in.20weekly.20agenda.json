[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> figured a new thread would be better</p>",
        "id": 250155868,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629484402
    },
    {
        "content": "<p>so, for <a href=\"https://github.com/rust-lang/triagebot/issues/1461\">triagebot#1461</a></p>",
        "id": 250155908,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629484424
    },
    {
        "content": "<p>I wonder how difficult it would be to, for each PR that is \"waiting-on-review\", figure out when the last comment from the assigned reviewer is, and use that?</p>",
        "id": 250156005,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629484461
    },
    {
        "content": "<p>Or even the last comment</p>",
        "id": 250157009,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629485016
    },
    {
        "content": "<p>It's difficult as-is, since because the triage team updates the waiting-on-review label periodically, PRs that are otherwise \"stale\" have a newer update date</p>",
        "id": 250157138,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629485083
    },
    {
        "content": "<p>Nonetheless, we also probably want to filter on <em>not</em> <code>T-libs</code>, <code>T-libs-api</code></p>",
        "id": 250158688,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629485946
    },
    {
        "content": "<p>you mean, ignore comments from members of those teams?</p>",
        "id": 250159951,
        "sender_full_name": "pnkfelix",
        "timestamp": 1629486586
    },
    {
        "content": "<p>I mean, labels</p>",
        "id": 250160051,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629486622
    },
    {
        "content": "<p>but I guess theoretically there could be <code>T-lib-api</code> and <code>T-compiler</code></p>",
        "id": 250160068,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629486638
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232957\">Jack Huey</span> <a href=\"#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/250156005\">said</a>:</p>\n<blockquote>\n<p>I wonder how difficult it would be to, for each PR that is \"waiting-on-review\", figure out when the last comment from the assigned reviewer is, and use that?</p>\n</blockquote>\n<p>note: would also need to check last <em>review</em>, since that's tracked separately</p>",
        "id": 250160196,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629486722
    },
    {
        "content": "<p>I realize that triagebot doesn't use the github graphql API, but theoretically, this would get us all the info we need:</p>\n<div class=\"codehilite\" data-code-language=\"graphql\"><pre><span></span><code>{\n  repository(owner: \"rust-lang\", name: \"rust\") {\n    pullRequests(states: OPEN, first: 100, labels: \"S-waiting-on-review\", orderBy: { field: CREATED_AT, direction: ASC }) {\n      totalCount\n      nodes {\n        number\n        labels(first: 10) {\n          nodes {\n            name\n          }\n        }\n        isDraft\n        assignees(first: 100) {\n          nodes {\n            login\n          }\n        }\n        comments(first: 100, orderBy: { field: UPDATED_AT, direction: DESC }) {\n          nodes {\n            author {\n              login\n            }\n            updatedAt\n          }\n        }\n        reviews(last: 5) {\n          nodes {\n            author {\n              login\n            }\n            updatedAt\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre></div>",
        "id": 250160320,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629486781
    },
    {
        "content": "<p>Also note that unless we paginate, we can only \"sort\" through the oldest 100 open PRs tagged waiting-on-review; this could theoretically be changed to 100 least recently updated</p>",
        "id": 250160584,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629486956
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232957\">Jack Huey</span> <a href=\"#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/250156005\">said</a>:</p>\n<blockquote>\n<p>I wonder how difficult it would be to, for each PR that is \"waiting-on-review\", figure out when the last comment from the assigned reviewer is, and use that?</p>\n</blockquote>\n<p>yes, this is what I first thought we should be doing, then people started talking about last updated and guessed that that was good enough</p>",
        "id": 250162340,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1629487756
    },
    {
        "content": "<p>in any case, the automation based on comments shouldn't be very hard but is something that we need to implement the infrastructure for that on triagebot</p>",
        "id": 250162388,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1629487786
    },
    {
        "content": "<p>is not as easy as just adding a query to it</p>",
        "id": 250162400,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1629487796
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232957\">Jack Huey</span> <a href=\"#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/250158688\">said</a>:</p>\n<blockquote>\n<p>Nonetheless, we also probably want to filter on <em>not</em> <code>T-libs</code>, <code>T-libs-api</code></p>\n</blockquote>\n<p>yeah, I've left more or less the same the link provided is doing but it's easy to filter those out or include whatever we want</p>",
        "id": 250162488,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1629487831
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232957\">Jack Huey</span> <a href=\"#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/250157009\">said</a>:</p>\n<blockquote>\n<p>Or even the last comment</p>\n</blockquote>\n<p>Might need to ignore bot comments (e.g. bors merge conflict) and author comments</p>",
        "id": 250172920,
        "sender_full_name": "Gary Guo",
        "timestamp": 1629493814
    },
    {
        "content": "<p>And triage team comments as well.<br>\nIt's somewhat annoying that they are breaking the \"least recently updated\" sorting on purpose, but apparently there are reasons.</p>",
        "id": 250179443,
        "sender_full_name": "Vadim Petrochenkov",
        "timestamp": 1629498143
    },
    {
        "content": "<p>Okay, so I played around with this today</p>",
        "id": 250397091,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629745569
    },
    {
        "content": "<p>I basically made a comparison</p>",
        "id": 250397144,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629745590
    },
    {
        "content": "<p>On one hand, we just look least recently updated of -T:lib, -T:libs-api,+waiting-on-review,-is:draft</p>",
        "id": 250397357,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629745679
    },
    {
        "content": "<p>The other, we look at +waiting-on-review,-is:draft,(-T:libs,-T:libs-api)||+T-compiler. And sort based on the oldest PRs based on either last comment from the assigned reviewer or <em>any</em> review.</p>",
        "id": 250397632,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629745798
    },
    {
        "content": "<p>The former:</p>\n<div class=\"codehilite\"><pre><span></span><code>[{&#39;assignees&#39;: {&#39;matthewjasper&#39;}, &#39;pr&#39;: 83744},\n {&#39;assignees&#39;: {&#39;wesleywiser&#39;}, &#39;pr&#39;: 87867},\n {&#39;assignees&#39;: {&#39;matthewjasper&#39;}, &#39;pr&#39;: 86748},\n {&#39;assignees&#39;: {&#39;nikomatsakis&#39;}, &#39;pr&#39;: 84944},\n {&#39;assignees&#39;: {&#39;estebank&#39;}, &#39;pr&#39;: 86360}]\n</code></pre></div>",
        "id": 250397693,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629745811
    },
    {
        "content": "<p>The latter:</p>\n<div class=\"codehilite\"><pre><span></span><code>[{&#39;assignees&#39;: {&#39;matthewjasper&#39;}, &#39;pr&#39;: 83744},\n {&#39;assignees&#39;: {&#39;matthewjasper&#39;}, &#39;pr&#39;: 84267},\n {&#39;assignees&#39;: {&#39;nikomatsakis&#39;}, &#39;pr&#39;: 84944},\n {&#39;assignees&#39;: {&#39;nikomatsakis&#39;}, &#39;pr&#39;: 83850},\n {&#39;assignees&#39;: {&#39;steveklabnik&#39;}, &#39;pr&#39;: 85223}]\n</code></pre></div>",
        "id": 250397718,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629745821
    },
    {
        "content": "<p>Note that the latter are on average much \"older\" than the former</p>",
        "id": 250398307,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629746110
    },
    {
        "content": "<p>A bit more data.<br>\nFormer:</p>\n<div class=\"codehilite\"><pre><span></span><code>[{&#39;assignee&#39;: &#39;matthewjasper&#39;, &#39;pr&#39;: 83744, &#39;updated&#39;: &#39;2021-08-04&#39;},\n {&#39;assignee&#39;: &#39;wesleywiser&#39;, &#39;pr&#39;: 87867, &#39;updated&#39;: &#39;2021-08-08&#39;},\n {&#39;assignee&#39;: &#39;matthewjasper&#39;, &#39;pr&#39;: 86748, &#39;updated&#39;: &#39;2021-08-09&#39;},\n {&#39;assignee&#39;: &#39;nikomatsakis&#39;, &#39;pr&#39;: 84944, &#39;updated&#39;: &#39;2021-08-09&#39;},\n {&#39;assignee&#39;: &#39;estebank&#39;, &#39;pr&#39;: 86360, &#39;updated&#39;: &#39;2021-08-09&#39;},\n {&#39;assignee&#39;: &#39;scottmcm&#39;, &#39;pr&#39;: 86844, &#39;updated&#39;: &#39;2021-08-09&#39;},\n {&#39;assignee&#39;: &#39;wesleywiser&#39;, &#39;pr&#39;: 87835, &#39;updated&#39;: &#39;2021-08-10&#39;},\n {&#39;assignee&#39;: &#39;joshtriplett&#39;, &#39;pr&#39;: 87910, &#39;updated&#39;: &#39;2021-08-11&#39;},\n {&#39;assignee&#39;: &#39;estebank&#39;, &#39;pr&#39;: 87830, &#39;updated&#39;: &#39;2021-08-11&#39;},\n {&#39;assignee&#39;: &#39;kennytm&#39;, &#39;pr&#39;: 87882, &#39;updated&#39;: &#39;2021-08-11&#39;}]\n</code></pre></div>\n<p>Latter</p>\n<div class=\"codehilite\"><pre><span></span><code>[{&#39;assignee&#39;: &#39;matthewjasper&#39;, &#39;pr&#39;: 83744, &#39;updated&#39;: &#39;2021-04-01&#39;},\n {&#39;assignee&#39;: &#39;matthewjasper&#39;, &#39;pr&#39;: 84267, &#39;updated&#39;: &#39;2021-04-17&#39;},\n {&#39;assignee&#39;: &#39;nikomatsakis&#39;, &#39;pr&#39;: 84944, &#39;updated&#39;: &#39;2021-05-05&#39;},\n {&#39;assignee&#39;: &#39;nikomatsakis&#39;, &#39;pr&#39;: 83850, &#39;updated&#39;: &#39;2021-05-13&#39;},\n {&#39;assignee&#39;: &#39;steveklabnik&#39;, &#39;pr&#39;: 85223, &#39;updated&#39;: &#39;2021-05-16&#39;},\n {&#39;assignee&#39;: &#39;matthewjasper&#39;, &#39;pr&#39;: 85558, &#39;updated&#39;: &#39;2021-05-21&#39;},\n {&#39;assignee&#39;: &#39;nikomatsakis&#39;, &#39;pr&#39;: 85021, &#39;updated&#39;: &#39;2021-05-21&#39;},\n {&#39;assignee&#39;: &#39;estebank&#39;, &#39;pr&#39;: 85556, &#39;updated&#39;: &#39;2021-05-21&#39;},\n {&#39;assignee&#39;: &#39;estebank&#39;, &#39;pr&#39;: 85690, &#39;updated&#39;: &#39;2021-05-25&#39;},\n {&#39;assignee&#39;: &#39;wesleywiser&#39;, &#39;pr&#39;: 85013, &#39;updated&#39;: &#39;2021-05-27&#39;}]\n</code></pre></div>",
        "id": 250399541,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629746735
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> around?</p>",
        "id": 250811704,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629999882
    },
    {
        "content": "<p>It would be nice to \"upgrade\" this list in time for next week's triage meeting</p>",
        "id": 250811861,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629999955
    },
    {
        "content": "<p>I have a working python script to do this</p>",
        "id": 250811954,
        "sender_full_name": "Jack Huey",
        "timestamp": 1629999985
    },
    {
        "content": "<p>But obviously need to port into triagebot</p>",
        "id": 250811997,
        "sender_full_name": "Jack Huey",
        "timestamp": 1630000007
    },
    {
        "content": "<p>But, since it uses graphql, it needs a \"new\" api there</p>",
        "id": 250812078,
        "sender_full_name": "Jack Huey",
        "timestamp": 1630000052
    },
    {
        "content": "<p>(I don't think <em>not</em> using graphql here is a good option, given that under the above constraints, we actually need data about the comments for all issues)</p>",
        "id": 250812267,
        "sender_full_name": "Jack Huey",
        "timestamp": 1630000130
    },
    {
        "content": "<p>So, I guess a few options:<br>\n1) Don't use graphql, change to use REST queries, which requires send 1+n queries, where n is the number of issues that we \"care\" about based on labels and draft. If we wanted to filter by only \"old\" PRs with the created date, then that's potentially reasonable. Filtering by updated isn't a great option as we've seen.<br>\n2) Treat the script I created as \"opaque\", i.e. feed a token and maybe whatever else we want configurable, get back a list of issues + metadata<br>\n3) Treat the graphql query opaquely, but dispatch the query in Rust. The only hiccup here is we actually have to paginate since there are too many issues that github won't return them all at once. Not a big deal though.<br>\n4) Put the \"proper\" infrastructure in place to generalize the query for potential future graphql queries<br>\n4b) Port all the queries to GraphQL</p>",
        "id": 250813195,
        "sender_full_name": "Jack Huey",
        "timestamp": 1630000501
    },
    {
        "content": "<p>my vote is to support GraphQL (4), I expect there will be more queries that need it in the future</p>",
        "id": 250813284,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1630000556
    },
    {
        "content": "<p>My vote depends on who's doing the work here :) I think adding proper graphql query support is best long-term (<a href=\"https://github.com/obmarg/cynic\">cynic</a> looks interesting). But if doing that is going to end up taking lots of time/is blocked on somebody having time to do it, I think it makes more sense to do 2 or 3.</p>",
        "id": 250813952,
        "sender_full_name": "Jack Huey",
        "timestamp": 1630000819
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232957\">Jack Huey</span> <a href=\"#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/250811704\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> around?</p>\n</blockquote>\n<p><span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span> just saw your message</p>",
        "id": 250834309,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1630009335
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232957\">Jack Huey</span> <a href=\"#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/250813952\">said</a>:</p>\n<blockquote>\n<p>My vote depends on who's doing the work here :) I think adding proper graphql query support is best long-term (<a href=\"https://github.com/obmarg/cynic\">cynic</a> looks interesting). But if doing that is going to end up taking lots of time/is blocked on somebody having time to do it, I think it makes more sense to do 2 or 3.</p>\n</blockquote>\n<p>agreed, the problem is finding someone with time to do this stuff</p>",
        "id": 250834613,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1630009462
    },
    {
        "content": "<p>I wasn't going to jump into this issue but ended helping <span class=\"user-mention\" data-user-id=\"250987\">@apiraino</span> because I saw that a naive solution was already a supported use case by the existing infrastructure</p>",
        "id": 250834683,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1630009502
    },
    {
        "content": "<p>Okay I'm going to spend like an hour or so trying to get cynic implemented. If not, I'll just fall back to porting the python script to rust with the opaque query</p>",
        "id": 250852014,
        "sender_full_name": "Jack Huey",
        "timestamp": 1630017671
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> <a href=\"https://github.com/rust-lang/triagebot/pull/1466\">https://github.com/rust-lang/triagebot/pull/1466</a></p>",
        "id": 251030187,
        "sender_full_name": "Jack Huey",
        "timestamp": 1630128577
    },
    {
        "content": "<p>That was actually more work than I was expecting</p>",
        "id": 251030192,
        "sender_full_name": "Jack Huey",
        "timestamp": 1630128585
    },
    {
        "content": "<p>Okay I did some cleanups <a href=\"https://github.com/rust-lang/triagebot/pull/1467\">https://github.com/rust-lang/triagebot/pull/1467</a><br>\n<span class=\"user-mention\" data-user-id=\"116266\">@Santiago Pastorino</span> <span class=\"user-mention\" data-user-id=\"250987\">@apiraino</span></p>",
        "id": 251068147,
        "sender_full_name": "Jack Huey",
        "timestamp": 1630169757
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"232957\">@Jack Huey</span></p>",
        "id": 251078347,
        "sender_full_name": "apiraino",
        "timestamp": 1630180571
    },
    {
        "content": "<p>So, there are a lot of PRs without a team label: <a href=\"https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+-label%3AT-compiler+-label%3AT-libs-api+-label%3AT-lang+-label%3AT-libs+-label%3AT-rustdoc\">https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+-label%3AT-compiler+-label%3AT-libs-api+-label%3AT-lang+-label%3AT-libs+-label%3AT-rustdoc</a> (and about half of those are waiting on review)</p>\n<p><span class=\"user-group-mention\" data-user-group-id=\"3132\">@WG-triage</span> has a procedure been added to help ensure that issues get an appropriate team label? I imagine a lag time of up to a couple weeks is fine, but beyond that we probably <em>do</em> want to make sure we're tracking the relevant team</p>",
        "id": 253147759,
        "sender_full_name": "Jack Huey",
        "timestamp": 1631562117
    },
    {
        "content": "<p>I think <span class=\"user-mention\" data-user-id=\"417924\">@inquisitivecrystal</span> from WG-prioritization went through a couple of weeks ago to add team labels, but I don't know if anyone has gone through since.</p>",
        "id": 253153971,
        "sender_full_name": "Noah Lev",
        "timestamp": 1631564487
    },
    {
        "content": "<p>Is the reason PRs should have team labels so teams can see a list of all PRs that are relevant for their team? That's why I try to label rustdoc PRs I come across with <code>T-rustdoc</code>, but is that the same reason you want team labels?</p>",
        "id": 253154230,
        "sender_full_name": "Noah Lev",
        "timestamp": 1631564575
    },
    {
        "content": "<p>Probably it would be a good idea to have a highfive (or rustbot) feature to auto-label PRs with team labels based on what files they modify (similar to the auto-assign feature). It might not always be right, but then people (reviewers, WG-triage, WG-prioritization, etc.) could manually fix them if necessary. I know T-rustdoc has discussed this before.</p>",
        "id": 253154568,
        "sender_full_name": "Noah Lev",
        "timestamp": 1631564698
    },
    {
        "content": "<p>I have added a few libs/libs-api labels last week</p>",
        "id": 253154858,
        "sender_full_name": "The 8472",
        "timestamp": 1631564810
    },
    {
        "content": "<p>Okay, so the t-compiler meeting agenda now relies on T-compiler PR labels for the oldest unreviewed PRs section.</p>\n<p>Looking back, I guess the discussion on the triagebot PR (<a href=\"https://github.com/rust-lang/triagebot/pull/1461\">https://github.com/rust-lang/triagebot/pull/1461</a>) was for <span class=\"user-group-mention\" data-user-group-id=\"2403\">@WG-prioritization</span> to go through and label? I'm not sure it matters too much who does it, but <em>somebody</em> should</p>",
        "id": 253158302,
        "sender_full_name": "Jack Huey",
        "timestamp": 1631566362
    },
    {
        "content": "<p>I'm not against auto-labeling, but it might be a bit tricky to get right</p>",
        "id": 253158416,
        "sender_full_name": "Jack Huey",
        "timestamp": 1631566426
    },
    {
        "content": "<p>They could do it at the same time they triage PRs maybe; that could be up to 15 days though</p>",
        "id": 253158424,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1631566431
    },
    {
        "content": "<p>and that's okay; like I said, it starts to become relevant as they get older. It doesn't matter too much to worry about labeling for PRs that get opened and merged within a few days</p>",
        "id": 253158601,
        "sender_full_name": "Jack Huey",
        "timestamp": 1631566498
    },
    {
        "content": "<p>yes, I agree. We need to stay closer to the amount of PR being pushed. 20 days ago <span class=\"user-mention\" data-user-id=\"417924\">@inquisitivecrystal</span> labelled them all (thanks!) but now I see already 74 have piled up</p>",
        "id": 253158972,
        "sender_full_name": "apiraino",
        "timestamp": 1631566653
    },
    {
        "content": "<p>I'll start  labelling them for a while and understand if it could be automated somehow</p>",
        "id": 253159115,
        "sender_full_name": "apiraino",
        "timestamp": 1631566712
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232957\">Jack Huey</span> <a href=\"#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/253158416\">said</a>:</p>\n<blockquote>\n<p>I'm not against auto-labeling, but it might be a bit tricky to get right</p>\n</blockquote>\n<p>I imagine we could get a 90%-good solution with this config:</p>\n<ul>\n<li><code>compiler/</code> -&gt; <code>T-compiler</code></li>\n<li><code>library/</code> -&gt; <code>T-libs</code> (and then could be changed to <code>T-libs-api</code> manually)</li>\n<li>{<code>src/librustdoc/</code>, <code>src/rustdoc-json-types/</code>, <code>src/tools/rustdoc{,-js,-gui}/</code>} -&gt; <code>T-rustdoc</code></li>\n<li><code>src/tools/clippy/</code> -&gt; <code>T-clippy</code></li>\n<li><code>src/tools/cargo/</code> -&gt; <code>T-cargo</code></li>\n<li><code>src/tools/rustfmt/</code> -&gt; <code>A-rustfmt</code></li>\n<li><code>src/tools/miri/</code> -&gt; <code>A-miri</code></li>\n<li>{<code>src/bootstrap/</code>, <code>src/tidy/</code>} -&gt; <code>T-compiler</code></li>\n<li><code>src/ci/</code> -&gt; <code>T-infra</code></li>\n<li><code>RELEASES.md</code> -&gt; <code>T-release</code></li>\n</ul>\n<p>If a PR matches multiple of those, it would add a label for each one that matched, that way teams could easily see what PRs modify their code (T-rustdoc has been wanting a way to see this).</p>",
        "id": 253169828,
        "sender_full_name": "Noah Lev",
        "timestamp": 1631571757
    },
    {
        "content": "<p>I think bootstrap can just be compiler, and people can change as needed</p>",
        "id": 253170114,
        "sender_full_name": "Jack Huey",
        "timestamp": 1631571939
    },
    {
        "content": "<p>Sure, that sounds reasonable to me.</p>",
        "id": 253170198,
        "sender_full_name": "Noah Lev",
        "timestamp": 1631571969
    },
    {
        "content": "<p>Done.</p>",
        "id": 253170223,
        "sender_full_name": "Noah Lev",
        "timestamp": 1631571985
    },
    {
        "content": "<p>This would be good</p>",
        "id": 253170407,
        "sender_full_name": "Jack Huey",
        "timestamp": 1631572105
    },
    {
        "content": "<p>The only thing to keep in mind is that in some cases, people will have to manually add <code>T-lang</code>, but I think that's rare</p>",
        "id": 253170436,
        "sender_full_name": "Jack Huey",
        "timestamp": 1631572130
    },
    {
        "content": "<p>Ultimately, I don't think we need to be perfect</p>",
        "id": 253170606,
        "sender_full_name": "Jack Huey",
        "timestamp": 1631572220
    },
    {
        "content": "<p>Hmm, what's the goal of these labels? I don't think most people on T-compiler would be comfortable reviewing bootstrap PRs</p>",
        "id": 253171746,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1631572937
    },
    {
        "content": "<p>I guess if the goal is just to bring it up in meetings it's ok? But then I don't know the point of labelling things like T-rustdoc, it doesn't have regular meetings</p>",
        "id": 253171789,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1631572981
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/253171789\">said</a>:</p>\n<blockquote>\n<p>I guess if the goal is just to bring it up in meetings it's ok? But then I don't know the point of labelling things like T-rustdoc, it doesn't have regular meetings</p>\n</blockquote>\n<p>Then it's possible to see all PRs that modify <code>T-rustdoc</code>. We had a discussion about this a few months ago because a PR modified rustdoc in non-trivial ways without having a rustdoc team member review it. We already label <code>T-rustdoc</code> PRs manually too, so this would just do it automatically.</p>",
        "id": 253171929,
        "sender_full_name": "Noah Lev",
        "timestamp": 1631573092
    },
    {
        "content": "<p>I don't think bootstrap PRs are sitting idle (I get assigned to then automatically and generally review quickly). T-infra is a better place for them to go though than compiler.</p>",
        "id": 253175359,
        "sender_full_name": "simulacrum",
        "timestamp": 1631575152
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"307537\">@Noah Lev</span> your labelling guidelines are really helpful!</p>",
        "id": 253554053,
        "sender_full_name": "apiraino",
        "timestamp": 1631785402
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/253171789\">said</a>:</p>\n<blockquote>\n<p>... I don't know the point of labelling things like T-rustdoc, it doesn't have regular meetings</p>\n</blockquote>\n<p>imo the T-label on a PR waiting for a review is useful to any team, whether they have regular meetings or not (and it helps handling unreviewed PRs with the same set of rules)</p>",
        "id": 253554829,
        "sender_full_name": "apiraino",
        "timestamp": 1631785890
    },
    {
        "content": "<p>Followup: rustbot now has support for autolabeling!</p>",
        "id": 264597546,
        "sender_full_name": "Noah Lev",
        "timestamp": 1639274798
    },
    {
        "content": "<p>A PR adding T-rustdoc autolabeling is in the merge queue, and I've just opened a PR for T-compiler: <a href=\"https://github.com/rust-lang/rust/pull/91819\">https://github.com/rust-lang/rust/pull/91819</a></p>",
        "id": 264597562,
        "sender_full_name": "Noah Lev",
        "timestamp": 1639274827
    }
]