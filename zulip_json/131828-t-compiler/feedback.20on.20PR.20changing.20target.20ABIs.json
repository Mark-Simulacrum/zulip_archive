[
    {
        "content": "<p>So I've made this PR (<a href=\"https://github.com/rust-lang/rust/pull/87922\">https://github.com/rust-lang/rust/pull/87922</a>) which changes a lot of targets to fix an inconsistency between Rust and GCC. I've tagged <span class=\"user-mention\" data-user-id=\"123586\">@nagisa</span> as a reviewer but i wanted to know if that's the right person to ask and if there's some process for changing targets this way. <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> helped with the PR itself but i wanted to check if there was additional process</p>",
        "id": 249144975,
        "sender_full_name": "Manish Goregaokar",
        "timestamp": 1628704791
    },
    {
        "content": "<p>This is a major bug that breaks FFI on a platform we are actively working on, so I would like to get this landed sooner rather than later (rustup-toolchain-install-master is insufficient without additional symlinking for -Zbuild-std), and i want to make sure i do everything that needs to be done.</p>",
        "id": 249145267,
        "sender_full_name": "Manish Goregaokar",
        "timestamp": 1628704902
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"239881\">@Josh Triplett</span> and <span class=\"user-mention\" data-user-id=\"138448\">@cuviper</span> who tend to care about targets</p>",
        "id": 249145296,
        "sender_full_name": "Manish Goregaokar",
        "timestamp": 1628704912
    },
    {
        "content": "<p>Looking...</p>",
        "id": 249148334,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1628706239
    },
    {
        "content": "<p>And yes, this is the kind of issue I'd like to help review in general.</p>",
        "id": 249148403,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1628706261
    },
    {
        "content": "<p>It looks like in some cases you're using the <code>Integer</code> type and in others you're initializing the same field with a number like 8.</p>",
        "id": 249148733,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1628706407
    },
    {
        "content": "<p>Oh, two different fields with the same name.</p>",
        "id": 249149039,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1628706547
    },
    {
        "content": "<p>Is there any reason not to use the same type for both fields, rather than having to translate?</p>",
        "id": 249149072,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1628706561
    },
    {
        "content": "<p>Also, I don't see any reason to make it a u64; a u8 would suffice.</p>",
        "id": 249149133,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1628706587
    },
    {
        "content": "<p>(Or use the enum, which I'd expect to have a small discriminant.)</p>",
        "id": 249149225,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1628706611
    },
    {
        "content": "<p>Otherwise, this looks perfectly reasonable.</p>",
        "id": 249167538,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1628715163
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"239881\">Josh Triplett</span> <a href=\"#narrow/stream/131828-t-compiler/topic/feedback.20on.20PR.20changing.20target.20ABIs/near/249149072\">said</a>:</p>\n<blockquote>\n<p>Is there any reason not to use the same type for both fields, rather than having to translate?</p>\n</blockquote>\n<p>I did what <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> suggested I do <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 249183684,
        "sender_full_name": "Manish Goregaokar",
        "timestamp": 1628725273
    },
    {
        "content": "<p>and i kept it simple on the def side because there's parsing/etc logic</p>",
        "id": 249183700,
        "sender_full_name": "Manish Goregaokar",
        "timestamp": 1628725287
    }
]