[
    {
        "content": "<p>Hey <span class=\"user-group-mention\" data-user-group-id=\"492\">@T-compiler</span>! The promotion from beta to stable is going to happen really soon.</p>",
        "id": 173033528,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1565623825
    },
    {
        "content": "<p>do you care about backporting <a href=\"https://github.com/rust-lang/rust/pull/63370\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/63370\">https://github.com/rust-lang/rust/pull/63370</a> ?</p>",
        "id": 173033580,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1565623838
    },
    {
        "content": "<p>We're going to go ahead without it in 10 minutes or so, fwiw, since it seems non-critical and very late in the cycle.</p>",
        "id": 173033908,
        "sender_full_name": "simulacrum",
        "timestamp": 1565624042
    },
    {
        "content": "<p>Won't backport I think.</p>",
        "id": 173034669,
        "sender_full_name": "nagisa",
        "timestamp": 1565624580
    },
    {
        "content": "<p>Doing so would violate the process for doing so.</p>",
        "id": 173034694,
        "sender_full_name": "nagisa",
        "timestamp": 1565624602
    },
    {
        "content": "<p>I'm also dropping <a href=\"https://github.com/rust-lang/rust/pull/62982\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/62982\">https://github.com/rust-lang/rust/pull/62982</a> as a backport</p>",
        "id": 173034770,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1565624647
    },
    {
        "content": "<p>it just doesn't apply on beta</p>",
        "id": 173034777,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1565624650
    },
    {
        "content": "<p>Ask <span class=\"user-mention\" data-user-id=\"124288\">@oli</span> to backport. This is a stable-to-beta regression fix</p>",
        "id": 173034804,
        "sender_full_name": "nagisa",
        "timestamp": 1565624686
    },
    {
        "content": "<p>will do</p>",
        "id": 173034867,
        "sender_full_name": "oli",
        "timestamp": 1565624746
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> ok I'll wait for oli's backport PR to send the promotion</p>",
        "id": 173034944,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1565624795
    },
    {
        "content": "<p>sounds good</p>",
        "id": 173034982,
        "sender_full_name": "simulacrum",
        "timestamp": 1565624834
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"124288\">@oli</span> Please ping me and Pietro when backport is ready</p>",
        "id": 173042124,
        "sender_full_name": "simulacrum",
        "timestamp": 1565630609
    },
    {
        "content": "<p>Like this very second</p>",
        "id": 173042135,
        "sender_full_name": "oli",
        "timestamp": 1565630622
    },
    {
        "content": "<p>i literally just switched to the browser</p>",
        "id": 173042145,
        "sender_full_name": "oli",
        "timestamp": 1565630628
    },
    {
        "content": "<p>because the push went through</p>",
        "id": 173042152,
        "sender_full_name": "oli",
        "timestamp": 1565630633
    },
    {
        "content": "<p>heh okay</p>",
        "id": 173042164,
        "sender_full_name": "simulacrum",
        "timestamp": 1565630642
    },
    {
        "content": "<p>we'll be rolling it up immediately so if just a branch I can pull from is fine</p>",
        "id": 173042246,
        "sender_full_name": "simulacrum",
        "timestamp": 1565630704
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"124288\">@oli</span>  no need to open a PR</p>",
        "id": 173042260,
        "sender_full_name": "simulacrum",
        "timestamp": 1565630714
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/commit/de114a54c0a43dbbcfc5fd53fc202c5249104c72\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/commit/de114a54c0a43dbbcfc5fd53fc202c5249104c72\">https://github.com/rust-lang/rust/commit/de114a54c0a43dbbcfc5fd53fc202c5249104c72</a></p>",
        "id": 173042282,
        "sender_full_name": "oli",
        "timestamp": 1565630735
    },
    {
        "content": "<p>I just tried to open a PR but there are weird commits in between even though I just rebased</p>",
        "id": 173042310,
        "sender_full_name": "oli",
        "timestamp": 1565630761
    },
    {
        "content": "<p>anyway, it's just this commit</p>",
        "id": 173042357,
        "sender_full_name": "oli",
        "timestamp": 1565630768
    },
    {
        "content": "<p>I removed all the cleanup part from the PR</p>",
        "id": 173042362,
        "sender_full_name": "oli",
        "timestamp": 1565630777
    },
    {
        "content": "<p>and just left the fix commit</p>",
        "id": 173042368,
        "sender_full_name": "oli",
        "timestamp": 1565630782
    },
    {
        "content": "<p>perfect</p>",
        "id": 173042380,
        "sender_full_name": "simulacrum",
        "timestamp": 1565630796
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"124288\">@oli</span> That commit doesn't appear to merge cleanly with beta?</p>",
        "id": 173044049,
        "sender_full_name": "simulacrum",
        "timestamp": 1565631994
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"120791\">@RalfJ</span> perhaps you might have a chance to help backport the patch?</p>",
        "id": 173044413,
        "sender_full_name": "simulacrum",
        "timestamp": 1565632235
    },
    {
        "content": "<p>what which patch? I don't think I have seen the PR in the topic description before</p>",
        "id": 173045177,
        "sender_full_name": "RalfJ",
        "timestamp": 1565632774
    },
    {
        "content": "<p>oh you mean oli's patch</p>",
        "id": 173045261,
        "sender_full_name": "RalfJ",
        "timestamp": 1565632831
    },
    {
        "content": "<p>but isnt a new stable released in &lt;1 week? and that one needs an urgent backport or what is happening?</p>",
        "id": 173045281,
        "sender_full_name": "RalfJ",
        "timestamp": 1565632852
    },
    {
        "content": "<p>Yes, we need a backport to it</p>",
        "id": 173045299,
        "sender_full_name": "simulacrum",
        "timestamp": 1565632868
    },
    {
        "content": "<p>stable and beta branches are the same right now (I've already force pushed beta to stable)</p>",
        "id": 173045318,
        "sender_full_name": "simulacrum",
        "timestamp": 1565632881
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/63498\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/63498\">https://github.com/rust-lang/rust/pull/63498</a></p>",
        "id": 173045342,
        "sender_full_name": "simulacrum",
        "timestamp": 1565632903
    },
    {
        "content": "<p>well that PR also introduced a bug</p>",
        "id": 173045343,
        "sender_full_name": "RalfJ",
        "timestamp": 1565632904
    },
    {
        "content": "<p>so we shouldnt just plain backport it I imagine</p>",
        "id": 173045349,
        "sender_full_name": "RalfJ",
        "timestamp": 1565632910
    },
    {
        "content": "<p>but I could try backporting the final result...</p>",
        "id": 173045448,
        "sender_full_name": "RalfJ",
        "timestamp": 1565632974
    },
    {
        "content": "<p>that'd be great</p>",
        "id": 173045461,
        "sender_full_name": "simulacrum",
        "timestamp": 1565632982
    },
    {
        "content": "<blockquote>\n<p><a href=\"https://github.com/rust-lang/rust/pull/63498\" target=\"_blank\" title=\"https://github.com/rust-lang/rust/pull/63498\">https://github.com/rust-lang/rust/pull/63498</a></p>\n</blockquote>\n<p>you already force-pushed but this is about doing that switch? I dont get it but whatever^^</p>",
        "id": 173045473,
        "sender_full_name": "RalfJ",
        "timestamp": 1565632991
    },
    {
        "content": "<p>the release process is force push and then file a PR against stable switching things over and last-minute backports</p>",
        "id": 173045496,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633021
    },
    {
        "content": "<p>okay so I should PR against stable? as beta will be force-pushd over on Tuesday anyway?</p>",
        "id": 173045543,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633044
    },
    {
        "content": "<p>I guess this will destroy my LLVM build cache for one of my checkouts? oh well^^</p>",
        "id": 173045606,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633098
    },
    {
        "content": "<p>It'll just be cherry-picked into my PR anyway, so a commit is fine</p>",
        "id": 173045615,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633105
    },
    {
        "content": "<p>I have to admit I feel a bit uncomfortable with just how little testing this will see</p>",
        "id": 173045629,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633114
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"123586\">@nagisa</span> seemed to feel this was important enough to not skip it</p>",
        "id": 173045661,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633142
    },
    {
        "content": "<p>I'm not sure how high impact this is.</p>",
        "id": 173045732,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633187
    },
    {
        "content": "<p>I don't recall Crater hitting it, FWIW.</p>",
        "id": 173045736,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633193
    },
    {
        "content": "<p>I don't want to have stable-to-beta regressions to become stable-to-stable if we can avoid it</p>",
        "id": 173045772,
        "sender_full_name": "nagisa",
        "timestamp": 1565633231
    },
    {
        "content": "<p>having a compiler that is broken for a single version complicates things</p>",
        "id": 173045782,
        "sender_full_name": "nagisa",
        "timestamp": 1565633245
    },
    {
        "content": "<p>We don't have a patch at this point and I get the impression that maybe making one is somewhat hard?</p>",
        "id": 173045794,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633267
    },
    {
        "content": "<p>Especially in that it'll receive ~no testing</p>",
        "id": 173045803,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633278
    },
    {
        "content": "<p>beyond regular rust-lang/rust CI</p>",
        "id": 173045849,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633285
    },
    {
        "content": "<p>well if we cannot avoid it, I cannot really force anybody to do anything ;)</p>",
        "id": 173045865,
        "sender_full_name": "nagisa",
        "timestamp": 1565633297
    },
    {
        "content": "<p>To be clear, I feel comfortable enough presuming the patch is similar to the one in nightly</p>",
        "id": 173045901,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633336
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120791\">@RalfJ</span> seemed to be at least mildly concerned though (and they're more familiar with that area of the compiler than I)</p>",
        "id": 173045923,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633361
    },
    {
        "content": "<blockquote>\n<p>We don't have a patch at this point and I get the impression that maybe making one is somewhat hard?</p>\n</blockquote>\n<p>no not really hard</p>",
        "id": 173045924,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633361
    },
    {
        "content": "<p>I have a patch, build-testing it now</p>",
        "id": 173045934,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633368
    },
    {
        "content": "<p>but this code keeps surprising me with interactions</p>",
        "id": 173045947,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633385
    },
    {
        "content": "<p>I feel more comfortable making it similar to how the method looks these days than similar to that original patch</p>",
        "id": 173046024,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633428
    },
    {
        "content": "<p>as that's fairly well-structured and also well-tested</p>",
        "id": 173046041,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633441
    },
    {
        "content": "<p>That would be fine with me, though I presume that means a larger patch? I think the size doesn't matter too much (though someone's review, ideally not mine, would be great)</p>",
        "id": 173046072,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633470
    },
    {
        "content": "<p>I don't feel comfortable approving it myself</p>",
        "id": 173046079,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633476
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> doesnt really make it larger, no. here's a preview: <a href=\"https://github.com/RalfJung/rust/commit/62139840b33ab73f1135f47116aa6196a49e6d99\" target=\"_blank\" title=\"https://github.com/RalfJung/rust/commit/62139840b33ab73f1135f47116aa6196a49e6d99\">https://github.com/RalfJung/rust/commit/62139840b33ab73f1135f47116aa6196a49e6d99</a></p>",
        "id": 173046235,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633624
    },
    {
        "content": "<p>still build-testing</p>",
        "id": 173046239,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633629
    },
    {
        "content": "<p>I don't understand how oli's patch can still have <code>InboundsCheck</code> in it...</p>",
        "id": 173046386,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633725
    },
    {
        "content": "<p>I think it targets master? Not sure.</p>",
        "id": 173046419,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633751
    },
    {
        "content": "<p>no it targets something way older</p>",
        "id": 173046473,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633765
    },
    {
        "content": "<p><code>InboundsCheck</code> is gone for a while</p>",
        "id": 173046482,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633773
    },
    {
        "content": "<p>and current stable branch doesnt seem to have it any more</p>",
        "id": 173046497,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633787
    },
    {
        "content": "<p>hm, maybe previous stable then, not sure</p>",
        "id": 173046503,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633792
    },
    {
        "content": "<p>1.36.0 tag</p>",
        "id": 173046518,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633800
    },
    {
        "content": "<p>(I recently force pushed)</p>",
        "id": 173046526,
        "sender_full_name": "simulacrum",
        "timestamp": 1565633807
    },
    {
        "content": "<p>I guess I should copy the testcase as well</p>",
        "id": 173046527,
        "sender_full_name": "RalfJ",
        "timestamp": 1565633808
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> <a href=\"https://github.com/RalfJung/rust/commit/331e09b143aebfcf82dc1f9b69b31ee0083cbf0b\" target=\"_blank\" title=\"https://github.com/RalfJung/rust/commit/331e09b143aebfcf82dc1f9b69b31ee0083cbf0b\">https://github.com/RalfJung/rust/commit/331e09b143aebfcf82dc1f9b69b31ee0083cbf0b</a> at least builds. it'll be a bit until I know more, LLVM is building.</p>",
        "id": 173047505,
        "sender_full_name": "RalfJ",
        "timestamp": 1565634531
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120791\">@RalfJ</span> do you know who a good reviewer would be at this hour?</p>",
        "id": 173047698,
        "sender_full_name": "simulacrum",
        "timestamp": 1565634661
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"124288\">@oli</span> , maybe <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span></p>",
        "id": 173048018,
        "sender_full_name": "RalfJ",
        "timestamp": 1565634902
    },
    {
        "content": "<p>but I guess oli isnt available or they would have done the backport?</p>",
        "id": 173048041,
        "sender_full_name": "RalfJ",
        "timestamp": 1565634915
    },
    {
        "content": "<p>that's my impression yes</p>",
        "id": 173048215,
        "sender_full_name": "simulacrum",
        "timestamp": 1565635032
    },
    {
        "content": "<p>the bus factor of that code is not very high :/</p>",
        "id": 173048365,
        "sender_full_name": "RalfJ",
        "timestamp": 1565635145
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> tests are looking good</p>",
        "id": 173049949,
        "sender_full_name": "RalfJ",
        "timestamp": 1565636313
    },
    {
        "content": "<p>okay I've pinged folks on the PR but I'm going to (attempt to) land it in the meanwhile, presuming the code is good, and we can re-make artifacts if we need to</p>",
        "id": 173049996,
        "sender_full_name": "simulacrum",
        "timestamp": 1565636353
    },
    {
        "content": "<p>we have 2 hours before the currently testing PR bounces or lands too</p>",
        "id": 173050210,
        "sender_full_name": "simulacrum",
        "timestamp": 1565636450
    },
    {
        "content": "<p>got the latest commit in <a href=\"https://github.com/RalfJung/rust/tree/stable/miri-static-size-and-align\" target=\"_blank\" title=\"https://github.com/RalfJung/rust/tree/stable/miri-static-size-and-align\">https://github.com/RalfJung/rust/tree/stable/miri-static-size-and-align</a> but that's what I posted above</p>",
        "id": 173051319,
        "sender_full_name": "RalfJ",
        "timestamp": 1565637287
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> I ran the Miri test suite from that time on the branch with my patch and it passes. That's usually a good stress test for the Miri engine (better than just the CTFE tests as many features are not allowed in CTFE, so some code paths are hard to trigger).</p>",
        "id": 173059732,
        "sender_full_name": "RalfJ",
        "timestamp": 1565643334
    },
    {
        "content": "<p>I can't think of anything else to do, and I can feel my concentration slip, so I'll call this done for now ;)</p>",
        "id": 173059760,
        "sender_full_name": "RalfJ",
        "timestamp": 1565643361
    },
    {
        "content": "<p>more good news, thanks!</p>",
        "id": 173059764,
        "sender_full_name": "simulacrum",
        "timestamp": 1565643362
    },
    {
        "content": "<p>I'd still like someone to give it a review given immediate promotion to stable but given all that it seems likely we should be good</p>",
        "id": 173059838,
        "sender_full_name": "simulacrum",
        "timestamp": 1565643397
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> ^---</p>",
        "id": 173060000,
        "sender_full_name": "centril",
        "timestamp": 1565643512
    },
    {
        "content": "<p>yeah getting an expert review would be good. maybe you can make <span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> do it. ;)</p>",
        "id": 173060006,
        "sender_full_name": "RalfJ",
        "timestamp": 1565643514
    },
    {
        "content": "<p>I'll head off for the night. good night all!</p>",
        "id": 173060042,
        "sender_full_name": "RalfJ",
        "timestamp": 1565643536
    },
    {
        "content": "<p>oops, sorry I wasn't around</p>",
        "id": 173091524,
        "sender_full_name": "eddyb",
        "timestamp": 1565680569
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119009\">@eddyb</span> The PR has been merged, but mind taking a look at <a href=\"https://github.com/RalfJung/rust/commit/331e09b143aebfcf82dc1f9b69b31ee0083cbf0b\" target=\"_blank\" title=\"https://github.com/RalfJung/rust/commit/331e09b143aebfcf82dc1f9b69b31ee0083cbf0b\">https://github.com/RalfJung/rust/commit/331e09b143aebfcf82dc1f9b69b31ee0083cbf0b</a>?</p>",
        "id": 173102987,
        "sender_full_name": "simulacrum",
        "timestamp": 1565693505
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> LGTM but maybe also ask <span class=\"user-mention\" data-user-id=\"124288\">@oli</span></p>",
        "id": 173103379,
        "sender_full_name": "eddyb",
        "timestamp": 1565693953
    },
    {
        "content": "<p>okay, thanks!</p>",
        "id": 173103392,
        "sender_full_name": "simulacrum",
        "timestamp": 1565693969
    },
    {
        "content": "<p>yes</p>",
        "id": 173103464,
        "sender_full_name": "oli",
        "timestamp": 1565694027
    },
    {
        "content": "<p>sorry, I checked it but forgot to tell anyone</p>",
        "id": 173103468,
        "sender_full_name": "oli",
        "timestamp": 1565694033
    },
    {
        "content": "<p>okay, perfect</p>",
        "id": 173103814,
        "sender_full_name": "simulacrum",
        "timestamp": 1565694437
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> looks like we don't need to reprepare stable</p>",
        "id": 173103823,
        "sender_full_name": "simulacrum",
        "timestamp": 1565694446
    },
    {
        "content": "<p><span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 173104743,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1565695513
    }
]