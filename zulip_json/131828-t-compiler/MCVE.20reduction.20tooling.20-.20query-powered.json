[
    {
        "content": "<p>I wonder if we could make the query system tell us what input was relevant for hitting a specific error or ICE. The query graph will resolve this down to the HIR level soon, but even without that we could at least know what items are needed</p>",
        "id": 273969109,
        "sender_full_name": "oli",
        "timestamp": 1646312767
    },
    {
        "content": "<p>do we know for what % of crashes that would/wouldn't work?</p>",
        "id": 273969928,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1646313198
    },
    {
        "content": "<p>I mean, if we use rustc to do it, we might run into bunch of situations where rustc bugs might prevent a successful reduction, no? <span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 273970062,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1646313266
    },
    {
        "content": "<p><span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span> true, it likely wouldn't work for incremental bugs</p>",
        "id": 273973572,
        "sender_full_name": "oli",
        "timestamp": 1646314916
    },
    {
        "content": "<p>We can almost.  When rustc ICEs, we already print a backtrace.  We have all the dependencies of each frame in memory.  These dependencies's dependencies need to be read back from disk.  This can go back to the hir_owner and hir_owner_nodes queries.</p>",
        "id": 274003148,
        "sender_full_name": "cjgillot",
        "timestamp": 1646326802
    },
    {
        "content": "<p>The information is available, but it may need sizeable impl work.</p>",
        "id": 274003277,
        "sender_full_name": "cjgillot",
        "timestamp": 1646326827
    },
    {
        "content": "<p><span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span>  so like a core-dump/representation of the code that rust was reading at the time of crashing?</p>",
        "id": 274030301,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1646337535
    },
    {
        "content": "<p>Well, as a first step just the ids of the things that led to it. But we could possibly go as far as figuring out the spans that are relevant and giving those in a format that rustfix can use to remove the rest</p>",
        "id": 274033644,
        "sender_full_name": "oli",
        "timestamp": 1646338849
    }
]