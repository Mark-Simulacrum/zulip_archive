[
    {
        "content": "<p>Sorry this is a double post from <a class=\"stream\" data-stream-id=\"301329\" href=\"/#narrow/stream/301329-t-devtools\">#t-devtools</a> since I didn't know this stream existed</p>\n<p>So I was a bit confused when I tried using <a href=\"https://github.com/kbknapp/cargo-outdated\"><code>cargo outdated</code></a> why the section of \"How it works\" says it creates a temporary project and runs <code>cargo update</code> there, doesn't cargo have a local index that it could just consult for update information and figure this out easily?<br>\nSo after spending like a day randomly digging through <code>cargo</code> (the library)'s API I ended up with this <a href=\"/user_uploads/4715/ZKVlAJD9p3HjwQaduAJhxM5k/Screenshot-2021-12-09-at-13.31.08.png\">Screenshot of me running it on a really old mostly abandoned project</a></p>\n<p>This is just a really quick draft without much deep thought or anything of that sort, it's just 150 lines of code that uses <code>cargo</code> library to check the <a href=\"https://docs.rs/cargo/0.58.0/cargo/core/manifest/struct.Manifest.html\"><code>Manifest</code></a> and <a href=\"https://docs.rs/cargo/0.58.0/cargo/core/struct.Resolve.html\"><code>Resolve</code></a> for dependencies and then checks the index for updates. (but it is already much faster than running <code>cargo outdated</code>)</p>\n<p>I insisted on using cargo's internals instead of external libraries to keep this PR-able to <code>cargo</code>, but I am not sure what's the process here, I know there's a <a href=\"https://github.com/rust-lang/cargo/issues/4309\">cargo oudated issue</a> which have been a bit silent now. So do I keep working on this and then just PR it? What would a Minimum Viable Product of the feature be so that I work towards that? Or is it better for me to develop it out of band and then PR it wholesale later down the line?</p>\n<p>Thanks <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span></p>",
        "id": 264295629,
        "sender_full_name": "Mathspy",
        "timestamp": 1639054229
    },
    {
        "content": "<p>Sounds really great! Posting here and waiting for some feedback from a Cargo team member is probably a good strategy</p>",
        "id": 264359631,
        "sender_full_name": "Dirkjan Ochtman",
        "timestamp": 1639080667
    },
    {
        "content": "<p>If it were me, I'd explore options to cargo update before a new command, maybe something like --dry-run?</p>",
        "id": 264359717,
        "sender_full_name": "Dirkjan Ochtman",
        "timestamp": 1639080722
    },
    {
        "content": "<p>Bit of a tangent, but if we want to go for the interactive experience mentioned (or in general if you think this tooling should be able to update manifests rather than only reporting) in that issue it might be worth exploring the cargo edit work that <span class=\"user-mention\" data-user-id=\"424212\">@Ed Page</span> has been pushing forward and helping out with that?</p>",
        "id": 264359916,
        "sender_full_name": "Dirkjan Ochtman",
        "timestamp": 1639080837
    },
    {
        "content": "<p><a href=\"https://github.com/ordian/toml_edit/issues?q=is%3Aissue+is%3Aopen+label%3Acargo\">Here are the blocking issues</a> for getting <code>toml_edit</code> into cargo.  I can help on mentoring these issues.  Hopefully soon I'll also get back to them (I'm doing some post-release cleanup for clap 3.0.0-rc.0)</p>",
        "id": 264360128,
        "sender_full_name": "Ed Page",
        "timestamp": 1639080949
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"226095\">Dirkjan Ochtman</span> <a href=\"#narrow/stream/246057-t-cargo/topic/cargo.20outdated/near/264359717\">said</a>:</p>\n<blockquote>\n<p>If it were me, I'd explore options to cargo update before a new command, maybe something like --dry-run?</p>\n</blockquote>\n<p>There already is <code>cargo update --dry-run -v</code> but with that you can not check if crates had semver-incompatible version bumps.</p>",
        "id": 264371336,
        "sender_full_name": "Hans Kratz",
        "timestamp": 1639086394
    },
    {
        "content": "<p>cargo-edit has <code>cargo upgrade --dry-run</code>. (upgrade, not update)</p>",
        "id": 264375484,
        "sender_full_name": "bjorn3",
        "timestamp": 1639088265
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"133247\">bjorn3</span> <a href=\"#narrow/stream/246057-t-cargo/topic/cargo.20outdated/near/264375484\">said</a>:</p>\n<blockquote>\n<p>cargo-edit has <code>cargo upgrade --dry-run</code>. (upgrade, not update)</p>\n</blockquote>\n<p>Oh! That kinda does what I had in mind and more honestly and since it's will eventually be upstreamed, maybe a dedicated <code>cargo outdated</code> command is not really worth it then</p>\n<p><span class=\"user-mention\" data-user-id=\"424212\">@Ed Page</span> Thanks for that link I will see if I can help with any of those blocking issues <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span></p>",
        "id": 264430051,
        "sender_full_name": "Mathspy",
        "timestamp": 1639133584
    }
]