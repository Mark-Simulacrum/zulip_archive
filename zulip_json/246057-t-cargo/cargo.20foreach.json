[
    {
        "content": "<p>For... reasons I've today had a couple of instances where I want to do some action for each member of a workspace, and was reminded for git's <code>git submodule foreach</code>. Made me wonder if Cargo could benefit from having something similar to execute a command for each member of a workspace (probably just setting <code>PWD</code>). Thoughts? I'm imagining things like <code>cargo foreach publish</code> (or maybe <code>cargo foreach cargo publish</code> â€” not sure).</p>",
        "id": 264373992,
        "sender_full_name": "Jon Gjengset",
        "timestamp": 1639087551
    },
    {
        "content": "<p>it seems like a ~topological flag would be necessary there, for publishing to work, right?</p>",
        "id": 264374144,
        "sender_full_name": "simulacrum",
        "timestamp": 1639087615
    },
    {
        "content": "<p>Yeah, that seems like a pretty reasonable argument to include</p>",
        "id": 264374162,
        "sender_full_name": "Jon Gjengset",
        "timestamp": 1639087634
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120054\">@Jon Gjengset</span> You may want to look at <code>cargo smart-release</code>.</p>",
        "id": 264403081,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1639112006
    },
    {
        "content": "<p>(I know the author.)</p>",
        "id": 264403084,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1639112018
    },
    {
        "content": "<p>Would be nice to have</p>",
        "id": 264413226,
        "sender_full_name": "Dirkjan Ochtman",
        "timestamp": 1639123361
    },
    {
        "content": "<p>For publishing, I'll also plug <code>cargo-release</code> :)</p>",
        "id": 264469049,
        "sender_full_name": "Ed Page",
        "timestamp": 1639152652
    },
    {
        "content": "<p>Those tools do both more and less than what I need :p They modify the source and manage versions, which I _don't_ want, but they also specifically only run <code>publish</code>, which is not the command I actually want to run.</p>",
        "id": 264503072,
        "sender_full_name": "Jon Gjengset",
        "timestamp": 1639167891
    },
    {
        "content": "<p>They're great tools, don't get me wrong, but they're solving a different problem. I guess the question is whether there are other compelling reasons for <code>cargo foreach</code> that aren't \"I'm fiddling with a build system and need to do things in weird ways\"</p>",
        "id": 264503165,
        "sender_full_name": "Jon Gjengset",
        "timestamp": 1639167940
    },
    {
        "content": "<p>The general pattern for new commands is to build them as third party plugins and upstream them when they become popular.<br>\nThat might not be a good plan for <code>foreach</code>, but I'd want to know why.</p>",
        "id": 264503835,
        "sender_full_name": "Eh2406",
        "timestamp": 1639168267
    },
    {
        "content": "<p>Yeah, I was only speaking to the publish part,. I guess I got distracted by your example being too similar to other tools.  Can definitely see the use of a <code>foreach</code>.  I'm actually surprised <a href=\"https://github.com/facebookincubator/cargo-guppy\">guppy</a> doesn't do this among the list of all of the other things it does do</p>",
        "id": 264504120,
        "sender_full_name": "Ed Page",
        "timestamp": 1639168415
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120179\">@Eh2406</span> My argument for why is \"the command is super simple to implement internally in Cargo and annoying to implement outside\" :p</p>",
        "id": 264504858,
        "sender_full_name": "Jon Gjengset",
        "timestamp": 1639168776
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"424212\">@Ed Page</span> What kind of use-cases could you imagine?</p>",
        "id": 264504884,
        "sender_full_name": "Jon Gjengset",
        "timestamp": 1639168794
    },
    {
        "content": "<p>I can't think of one at the moment.  Its one of those small things you find other workarounds for because you don;'t have it but too small to do something about it.</p>",
        "id": 264505030,
        "sender_full_name": "Ed Page",
        "timestamp": 1639168867
    },
    {
        "content": "<p>If <code>fmt</code> wasn't already workspace aware...</p>",
        "id": 264505109,
        "sender_full_name": "Eh2406",
        "timestamp": 1639168915
    }
]