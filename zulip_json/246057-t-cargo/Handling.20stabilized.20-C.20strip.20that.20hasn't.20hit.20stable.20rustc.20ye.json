[
    {
        "content": "<p><a href=\"https://github.com/rust-lang/cargo/pull/10088\">https://github.com/rust-lang/cargo/pull/10088</a> ran into the issue that CI is testing against current stable and beta, and the stabilization of <code>-C strip</code> <em>just</em> hit nightly.</p>",
        "id": 261858726,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1637187474
    },
    {
        "content": "<p>What would be the best way to handle that without waiting a full release cycle?</p>",
        "id": 261858781,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1637187482
    },
    {
        "content": "<p>(I'd like to avoid doing any kind of rust version detection.)</p>",
        "id": 261858822,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1637187487
    },
    {
        "content": "<p>I think it will be fine to just disable the tests except on nightly.</p>",
        "id": 261859088,
        "sender_full_name": "Eric Huss",
        "timestamp": 1637187553
    },
    {
        "content": "<p>Do we have a standard equivalent of <code>cfg(bootstrap)</code> for Cargo?</p>",
        "id": 261859225,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1637187615
    },
    {
        "content": "<p>Do we have a standard equivalent of <code>cfg(bootstrap)</code> for Cargo?</p>",
        "id": 261859226,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1637187615
    },
    {
        "content": "<p>Like this:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"o\">!</span><span class=\"n\">is_nightly</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"c1\">// -C strip stabilized in 1.58</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 261859232,
        "sender_full_name": "Eric Huss",
        "timestamp": 1637187618
    },
    {
        "content": "<p>No</p>",
        "id": 261859239,
        "sender_full_name": "Eric Huss",
        "timestamp": 1637187623
    },
    {
        "content": "<p>I was working on something for the proc-macro</p>",
        "id": 261859256,
        "sender_full_name": "Eric Huss",
        "timestamp": 1637187634
    },
    {
        "content": "<p>But haven't finished.</p>",
        "id": 261859262,
        "sender_full_name": "Eric Huss",
        "timestamp": 1637187639
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/cargo/pull/9892\">https://github.com/rust-lang/cargo/pull/9892</a></p>",
        "id": 261859277,
        "sender_full_name": "Eric Huss",
        "timestamp": 1637187650
    },
    {
        "content": "<p>Would look like:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">#[cargo_test(&gt;=1.58, reason=</span><span class=\"s\">\"-C strip stabilized\"</span><span class=\"cp\">)]</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 261859340,
        "sender_full_name": "Eric Huss",
        "timestamp": 1637187687
    },
    {
        "content": "<p>I'll give the is_nightly approach a try. Thank you!</p>",
        "id": 261859508,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1637187765
    }
]