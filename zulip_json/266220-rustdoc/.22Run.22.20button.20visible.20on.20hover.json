[
    {
        "content": "<p>One of the items from <a href=\"https://github.com/rust-lang/rust/issues/59829\">https://github.com/rust-lang/rust/issues/59829</a> was that the \"Run\" button on the right hand side draws the eye, which can make reading hard for people with dyslexia. One proposal is to show it only on hover of the code sample. I'd like to do that. Thoughts?</p>\n<p>As always, hover is not a thing on mobile, but I am particularly motivated to hide the button on mobile because it often obscures the code sample itself. See this example from String::with_capacity where, despite scrolling all the way to the right, I can't see the full example because of the \"Run\" button. I think non-visibility of \"Run\" on mobile is a good tradeoff for removing this barrier to reading the code samples.</p>\n<p>Also worth noting that on iOS a tap event generates \"hover\" then \"click\", so I think on iOS we would actually show the \"Run\" button after tapping the code sample.</p>",
        "id": 264636296,
        "sender_full_name": "jsha",
        "timestamp": 1639333541
    },
    {
        "content": "<p>I don't know how useful \"Run\" is in the first place, since it requires the crate you're reading to be on playground. Can we just remove it altogether? What was the logic for adding it in the first place?</p>",
        "id": 264636972,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1639334177
    },
    {
        "content": "<p>It's also on the stdlib, where it's present for everything, since everything is in theory runnable in the playground.</p>",
        "id": 264637344,
        "sender_full_name": "jsha",
        "timestamp": 1639334628
    },
    {
        "content": "<p>I'm always open to removing stuff that's not used much or not useful! I don't feel strongly about keeping the Run button.</p>\n<p>Should I take from the above that you'd be okay with either \"show on hover\" or removing?</p>",
        "id": 264637443,
        "sender_full_name": "jsha",
        "timestamp": 1639334705
    },
    {
        "content": "<p>I am mildly opposed to \"show on hover\" because it makes the experience different between Android and iPhone, but I think the feature is used very rarely on phones anyway</p>",
        "id": 264637568,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1639334860
    },
    {
        "content": "<p>Which I guess suggests that we enable it only when the screen is \"big enough\" for some value of big enough</p>",
        "id": 264637598,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1639334884
    },
    {
        "content": "<p>If consistency between platforms is an issue, we can add a click handler on android to emulate the iOS behavior.</p>",
        "id": 264637623,
        "sender_full_name": "jsha",
        "timestamp": 1639334902
    },
    {
        "content": "<p>Here's the original commit that added \"Run\": <a href=\"https://github.com/rust-lang/rust/commit/e5bbbca33e11d9e22dbbe32c975f908710d4155c\">https://github.com/rust-lang/rust/commit/e5bbbca33e11d9e22dbbe32c975f908710d4155c</a></p>\n<p>FWIW mdbook also has a \"Run\" function.</p>",
        "id": 264637630,
        "sender_full_name": "jsha",
        "timestamp": 1639334921
    },
    {
        "content": "<p>That says it's fixing <a href=\"https://github.com/rust-lang/rust/issues/14654\">https://github.com/rust-lang/rust/issues/14654</a>, which doesn't give a rationale for adding the link. So I'm still kind of opposed since I don't know when it would be useful.</p>\n<p><span class=\"user-mention\" data-user-id=\"116015\">@Alex Crichton</span> do you have strong opinions about this either way?</p>",
        "id": 264637729,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1639335024
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/266220-rustdoc/topic/.22Run.22.20button.20visible.20on.20hover/near/264636972\">said</a>:</p>\n<blockquote>\n<p>I don't know how useful \"Run\" is in the first place, since it requires the crate you're reading to be on playground. Can we just remove it altogether? What was the logic for adding it in the first place?</p>\n</blockquote>\n<p>It's actually quite used. You never used it personally?</p>",
        "id": 264638743,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1639336339
    },
    {
        "content": "<p>No, I've never used it.</p>",
        "id": 264638750,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1639336368
    },
    {
        "content": "<p>Interesting. Why not? You copy the code directly?</p>",
        "id": 264638763,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1639336388
    },
    {
        "content": "<p>I rewrite the code usually, the examples aren't exactly what I need - I use them to find the relevant docs</p>",
        "id": 264638777,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1639336425
    },
    {
        "content": "<p>ok ok</p>",
        "id": 264638783,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1639336439
    },
    {
        "content": "<p>I can see how copying can be useful, but I don't see why the \"Run\" button would be</p>",
        "id": 264638824,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1639336452
    },
    {
        "content": "<p>As a sidenote, it was also suggested to show the hidden code if any: <a href=\"https://github.com/rust-lang/rust/pull/86892\">https://github.com/rust-lang/rust/pull/86892</a></p>",
        "id": 264638829,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1639336457
    },
    {
        "content": "<p>(currently, you can only see it with the run button)</p>",
        "id": 264638832,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1639336471
    },
    {
        "content": "<p>Likewise, I never copy examples and never use the Run button.</p>",
        "id": 264639247,
        "sender_full_name": "Noah Lev",
        "timestamp": 1639337060
    },
    {
        "content": "<p>Ok, interesting. We should really try to have big surveys for such things to see what the community thinks about it. It's been a few times we're discussing changing things without knowing the impact, which isn't great :-/</p>",
        "id": 264639645,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1639337648
    },
    {
        "content": "<p>We could probably ask the Playground maintainers for info on how many pageloads they get with a referrer of <a href=\"http://docs.rs\">docs.rs</a> or <a href=\"http://doc.rust-lang.org\">doc.rust-lang.org</a>.</p>",
        "id": 264640982,
        "sender_full_name": "jsha",
        "timestamp": 1639339414
    },
    {
        "content": "<p>I thought web browsers now strip the referer header for cross-site referrals?</p>",
        "id": 264641227,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1639339685
    },
    {
        "content": "<p>I'm not sure the exact latest status but for Chrome I think the default is something like: include the origin (scheme, host, port) but not the path. I suspect not all browsers have followed suit yet. There's also now a referrer-policy header so the starting site can choose how much gets redacted or sent. <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy</a></p>",
        "id": 264641637,
        "sender_full_name": "jsha",
        "timestamp": 1639340321
    },
    {
        "content": "<p>Seems like a good place to start then :)</p>",
        "id": 264642445,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1639341551
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"315412\">jsha</span> <a href=\"#narrow/stream/266220-rustdoc/topic/.22Run.22.20button.20visible.20on.20hover/near/264640982\">said</a>:</p>\n<blockquote>\n<p>We could probably ask the Playground maintainers for info on how many pageloads they get with a referrer of <a href=\"http://docs.rs\">docs.rs</a> or <a href=\"http://doc.rust-lang.org\">doc.rust-lang.org</a>.</p>\n</blockquote>\n<p>cc <span class=\"user-mention\" data-user-id=\"116155\">@Jake Goulding</span></p>",
        "id": 264644003,
        "sender_full_name": "Noah Lev",
        "timestamp": 1639343706
    },
    {
        "content": "<p>Sadly, I don't think I log that; let me check.</p>",
        "id": 264644230,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1639344035
    },
    {
        "content": "<p>Oh, nginx does</p>",
        "id": 264644256,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1639344072
    },
    {
        "content": "<p>I'll try to gather something this evening <span aria-label=\"fingers crossed\" class=\"emoji emoji-1f91e\" role=\"img\" title=\"fingers crossed\">:fingers_crossed:</span></p>",
        "id": 264644266,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1639344097
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code> Hits       h%  Vis.     v%  Tx. Amount Data\n ------ ------ ----- ------ ----------- ----\n  81947 30.52% 14602 51.12%  847.98 MiB doc.rust-lang.org\n  17720  6.60%  8009 28.04%  259.36 MiB crates.io\n   3860  1.44%   697  2.44%   40.81 MiB kaisery.github.io\n   3099  1.15%   548  1.92%   31.88 MiB doc.rust-jp.rs\n   2913  1.09%   926  3.24%   26.22 MiB rust-lang.github.io\n   2554  0.95%   865  3.03%   22.15 MiB rust-lang-nursery.github.io\n   2377  0.89%   511  1.79%   24.53 MiB rustwasm.github.io\n   2221  0.83%   378  1.32%   22.38 MiB doc.rust-lang.ru\n   1967  0.73%   249  0.87%   20.43 MiB rustwiki.org\n   1624  0.60%   549  1.92%   14.14 MiB web.mit.edu\n   1067  0.40%   283  0.99%   10.32 MiB rust-unofficial.github.io\n    938  0.35%   118  0.41%  343.30 KiB tourofrust.com\n    894  0.33%   123  0.43%    9.71 MiB leituracrista.com\n    718  0.27%   695  2.43%  261.49 KiB www.rust-lang.org\n    468  0.17%    77  0.27%  170.54 KiB www.sitepoint.com\n    459  0.17%    92  0.32%    4.85 MiB bfnightly.bracketproductions.com\n    438  0.16%    65  0.23%    4.35 MiB jimskapt.github.io\n    430  0.16%   399  1.40%  153.92 KiB www.google.com\n    424  0.16%   105  0.37%    4.19 MiB pyo3.rs\n    406  0.15%    98  0.34%    3.68 MiB dhghomon.github.io\n    403  0.15%   107  0.37%    4.06 MiB docs.rust-embedded.org\n    397  0.15%    82  0.29%    4.08 MiB rinthel.github.io\n    379  0.14%   105  0.37%    3.46 MiB rust-cli.github.io\n    292  0.11%    61  0.21%    3.00 MiB bheisler.github.io\n    282  0.11%    67  0.23%    2.68 MiB rust-by-example.budshome.com\n    274  0.10%    84  0.29%    2.64 MiB nnethercote.github.io\n</code></pre></div>\n<p>From 12/Dec/2021:06:25:04 +0000 to 12/Dec/2021:22:06:38 +0000</p>",
        "id": 264646468,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1639347045
    },
    {
        "content": "<p>IIRC <a href=\"http://web.mit.edu\">web.mit.edu</a> hosts an old version of the Rust docs.</p>",
        "id": 264647604,
        "sender_full_name": "Noah Lev",
        "timestamp": 1639348495
    },
    {
        "content": "<p>Hmm ok so quite a few people do seem to be using it from <a href=\"http://doc.rust-lang.org\">doc.rust-lang.org</a> but <a href=\"http://docs.rs\">docs.rs</a> doesn't show up at all</p>",
        "id": 264647606,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1639348502
    },
    {
        "content": "<p>(I think the option for this is unstable, which might explain it? And apparently no one's bothered to enable the option in their published crates)</p>",
        "id": 264647619,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1639348533
    },
    {
        "content": "<p>Does <code>h%</code> mean percentage of all referrals?</p>",
        "id": 264647628,
        "sender_full_name": "Noah Lev",
        "timestamp": 1639348561
    },
    {
        "content": "<p>(H)its vs unique (V)isitors I think</p>",
        "id": 264647853,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1639348916
    },
    {
        "content": "<p>I meant more does hits mean \"hits with referrals\" or \"all hits, including people typing play.rlo into the address bar\"?</p>",
        "id": 264648037,
        "sender_full_name": "Noah Lev",
        "timestamp": 1639349179
    },
    {
        "content": "<p>Iâ€™m not sure, but</p>\n<blockquote>\n<p>If the host in question accessed the site via another resource, or was linked/diverted to you from another host</p>\n</blockquote>",
        "id": 264648214,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1639349512
    },
    {
        "content": "<p>Sounds like only referred</p>",
        "id": 264648257,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1639349527
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232545\">Joshua Nelson</span> <a href=\"#narrow/stream/266220-rustdoc/topic/.22Run.22.20button.20visible.20on.20hover/near/264637729\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"116015\">Alex Crichton</span> do you have strong opinions about this either way?</p>\n</blockquote>\n<p>Uh... after 7 years no I do not have opinions</p>",
        "id": 264717626,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1639407400
    }
]