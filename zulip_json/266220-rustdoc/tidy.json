[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span> Btw: I installed tidy and I have a huge issue with the output: it's super cool because it displays exactly the diff between the two HTMLs, but then it displays ALL the HTML (which is a bit problematic). Would it be possible to only keep the (small) diffs?</p>",
        "id": 217982732,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606384399
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"210316\">@GuillaumeGomez</span> it should only be showing the diff now - can you post a screenshot?</p>",
        "id": 218002393,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606397929
    },
    {
        "content": "<p>Not really since it litterally shows ALL the HTML</p>",
        "id": 218002657,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606398121
    },
    {
        "content": "<p>so my terminal is completely full</p>",
        "id": 218002708,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606398130
    },
    {
        "content": "<p>a screenshot wouldn't help much haha</p>",
        "id": 218002713,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606398137
    },
    {
        "content": "<p>I'm really confused :/ which test is this for?</p>",
        "id": 218003803,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606398762
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>./x.py test src/test/rustdoc --stage 1 --jobs 2\n</code></pre></div>",
        "id": 218004165,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606398968
    },
    {
        "content": "<p>right, yes, but which tests are failing?</p>",
        "id": 218004211,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606399003
    },
    {
        "content": "<p>Nothing is failing, I was testing out the tidy output by making on purpose a failing change haha</p>",
        "id": 218004258,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606399031
    },
    {
        "content": "<p>and even though the specific diff lines are great, the rest is just waaaaaaaaaaaaaaaay too much</p>",
        "id": 218004289,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606399055
    },
    {
        "content": "<p>I am still not clear what changes you're asking for.</p>",
        "id": 218004308,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606399065
    },
    {
        "content": "<p>can you post what it looks like now, and maybe a mockup of what you'd like it to be?</p>",
        "id": 218004374,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606399093
    },
    {
        "content": "<p>I'll create the file by redirecting output then</p>",
        "id": 218004532,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606399192
    },
    {
        "content": "<p>but it'll be huge</p>",
        "id": 218004596,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606399210
    },
    {
        "content": "<p>sure, that's fine - thanks!</p>",
        "id": 218004604,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606399217
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"210316\">@GuillaumeGomez</span> ok I found the issue - there was a change in <code>ayu.css</code> and it wasn't formatted by tidy so it showed the whole file</p>",
        "id": 218007923,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606401051
    },
    {
        "content": "<p>I think the best solution is to ignore .css and .js files in the diff, since they're never autogenerated</p>",
        "id": 218007946,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606401072
    },
    {
        "content": "<p>in the short term I think it will be fixed with <code>rustup default nightly</code>, since that will compare to a version of rustdoc that has the same CSS output</p>",
        "id": 218008079,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606401146
    },
    {
        "content": "<p>Still remain highly not efficient. I was afraid of such issues, but I see that as the first step before big improvements. For the time being, I'll just not use tidy I guess</p>",
        "id": 218008174,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606401218
    },
    {
        "content": "<p>getting rid of tidy won't help, it will still generate a diff</p>",
        "id": 218008260,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606401258
    },
    {
        "content": "<p>I'll make a PR ignoring .css files</p>",
        "id": 218008273,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606401264
    },
    {
        "content": "<p>Well, at least I won't have the whole HTML in my terminal haha</p>",
        "id": 218008309,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606401292
    },
    {
        "content": "<p>no, you still will :P</p>",
        "id": 218008320,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606401298
    },
    {
        "content": "<p>unless you don't have a local <code>rustdoc</code> at all</p>",
        "id": 218008345,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606401316
    },
    {
        "content": "<p>err actually that's waiting on <a href=\"https://github.com/rust-lang/rust/pull/79370\">https://github.com/rust-lang/rust/pull/79370</a></p>",
        "id": 218008504,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606401416
    },
    {
        "content": "<blockquote>\n<p>I installed tidy</p>\n</blockquote>\n<p>What does that mean? Do you meant tidy as in <code>./x.py test tidy</code>? I'm curious to see what this tool is :)</p>",
        "id": 218036511,
        "sender_full_name": "Noah Lev",
        "timestamp": 1606422927
    },
    {
        "content": "<p>No, I mean the <code>tidy</code> binary haha</p>",
        "id": 218036529,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606422943
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span> made a PR recently to improve the output of errors when running <code>x.py test src/test/rustdoc</code></p>",
        "id": 218036576,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606422967
    },
    {
        "content": "<p>and that improvement uses the <code>tidy</code> binary</p>",
        "id": 218036578,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606422980
    },
    {
        "content": "<p>so not linked ;)</p>",
        "id": 218036582,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1606422985
    },
    {
        "content": "<p>Ah, were you referring to <a href=\"https://github.com/htacg/tidy-html5\">this project</a>?</p>",
        "id": 218039590,
        "sender_full_name": "Noah Lev",
        "timestamp": 1606426039
    },
    {
        "content": "<p>Yes, that's it.</p>",
        "id": 218045624,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1606434136
    },
    {
        "content": "<p>fyi <span class=\"user-mention\" data-user-id=\"210316\">@GuillaumeGomez</span> <a href=\"https://github.com/rust-lang/rust/pull/79370\">https://github.com/rust-lang/rust/pull/79370</a> has been waiting on review a while</p>",
        "id": 219709478,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1607780449
    },
    {
        "content": "<p>Arf! I thought it was waiting on Mark XD</p>",
        "id": 219710817,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1607782712
    },
    {
        "content": "<p>taking a look then!</p>",
        "id": 219710820,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1607782719
    }
]