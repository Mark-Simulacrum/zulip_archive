[
    {
        "content": "<p>Would it be considered helpful to submit a PR addressing some clippy lints in librustdoc?</p>",
        "id": 267934178,
        "sender_full_name": "pierwill",
        "timestamp": 1642109707
    },
    {
        "content": "<p>Lots of \"this <code>else { if .. }</code> block can be collapsed\". Isn't there also a way to disable that clippy lint if we want?</p>",
        "id": 267934410,
        "sender_full_name": "pierwill",
        "timestamp": 1642109859
    },
    {
        "content": "<p>There is, something like <code>#[allow(clippy:lint)]</code></p>",
        "id": 267934744,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642110039
    },
    {
        "content": "<p>Would we prefer that over the fixes? Some of these do make the code a little nicer :)</p>",
        "id": 267934850,
        "sender_full_name": "pierwill",
        "timestamp": 1642110101
    },
    {
        "content": "<p>Well I'll submit a PR and y'all can close if it's not even worth reviewing lol</p>",
        "id": 267935118,
        "sender_full_name": "pierwill",
        "timestamp": 1642110256
    },
    {
        "content": "<p>fwiw <a href=\"https://github.com/rust-lang/rust/pull/92868\">https://github.com/rust-lang/rust/pull/92868</a></p>",
        "id": 267935530,
        "sender_full_name": "pierwill",
        "timestamp": 1642110516
    },
    {
        "content": "<p>I did that some time ago. We had a looooot of false positives or things that were making the code more complicated to read. So please be careful ;)</p>",
        "id": 267935532,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642110517
    },
    {
        "content": "<p>lol yeah i know</p>",
        "id": 267935570,
        "sender_full_name": "pierwill",
        "timestamp": 1642110534
    },
    {
        "content": "<p>i tried to only accept the ones that looked nice and didn't produce awful diffs</p>",
        "id": 267935606,
        "sender_full_name": "pierwill",
        "timestamp": 1642110557
    },
    {
        "content": "<p>Then all good! Can't wait to see the improvements :)</p>",
        "id": 267935635,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642110573
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"316352\">pierwill</span> <a href=\"#narrow/stream/266220-rustdoc/topic/clippy.20PRs.3F/near/267934178\">said</a>:</p>\n<blockquote>\n<p>Would it be considered helpful to submit a PR addressing some clippy lints in librustdoc?</p>\n</blockquote>\n<p>I'm not a rustdoc team member, so take this with appropriate salt, but I often find clippy too picky in many cases.  <code>else { if</code> can definitely be one of those cases, if it was written that way to help emphasize symmetry.</p>\n<p>If you look at things and go \"yes, that's obviously better\", then go for it.  </p>\n<p>(But don't put too much in one PR -- make sure it's easy to review.)</p>",
        "id": 267935640,
        "sender_full_name": "scottmcm",
        "timestamp": 1642110575
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"125270\">@scottmcm</span> :)</p>",
        "id": 267935793,
        "sender_full_name": "pierwill",
        "timestamp": 1642110641
    },
    {
        "content": "<p>Yeah, that <code>else { if</code> lint is one of the only Clippy lints that I'm really against in most cases ;)</p>",
        "id": 267937216,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642111363
    },
    {
        "content": "<p>huh, looking at the PR I really like it? I find deeply nested if blocks really hard to read, and hoisting the lower <code>if</code> really makes clear that each of those blocks is mutually exclusive. Also, when a whole cluster ends with <code>else</code> it makes clear that exactly one of the provided blocks will execute.</p>",
        "id": 267938022,
        "sender_full_name": "jsha",
        "timestamp": 1642111805
    },
    {
        "content": "<p>I like having the nested <code>if</code> blocks because it acts like a tree of what's being handled:</p>\n<ul>\n<li><code>macro_rules!</code><ul>\n<li>code</li>\n</ul>\n</li>\n<li><code>macro</code><ul>\n<li><code>&lt;= 1</code> matchers</li>\n<li>otherwise</li>\n</ul>\n</li>\n</ul>\n<p>With the <code>if</code> blocks collapsed, it reads like this:</p>\n<ul>\n<li><code>macro_rules!</code><ul>\n<li>code</li>\n</ul>\n</li>\n<li><code>&lt;= 1</code> matchers</li>\n<li>otherwise</li>\n</ul>\n<p>which I find confusing.</p>",
        "id": 267938459,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642112008
    },
    {
        "content": "<p>Also, the changes will add noise to Git blame, which doesn't feel worth it to me</p>",
        "id": 267938559,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642112031
    },
    {
        "content": "<p>thanks for reviewing and sorry for the churn. just trying to help improve things where i can! I cleaned the changes up a lot <span class=\"user-mention\" data-user-id=\"307537\">@Noah Lev</span></p>",
        "id": 267940774,
        "sender_full_name": "pierwill",
        "timestamp": 1642113075
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/92868/files\">https://github.com/rust-lang/rust/pull/92868/files</a></p>",
        "id": 267940791,
        "sender_full_name": "pierwill",
        "timestamp": 1642113090
    },
    {
        "content": "<p>Thanks! Sorry I was a bit curt :)</p>",
        "id": 267955416,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642122672
    },
    {
        "content": "<p>FYI: the PR also <code>allow</code>s the collapsible lints</p>",
        "id": 268066802,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642191540
    }
]