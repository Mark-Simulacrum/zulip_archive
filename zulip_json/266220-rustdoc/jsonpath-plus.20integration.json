[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"319144\">@CraftSpider</span> What needs to happen to replace <code>jsonpath_lib</code> with <code>jsonpath_plus</code> for <code>jsondocck</code>?</p>\n<p>I want to write something like <code>\"$.index[*][?(@.inner.for.inner=='u8')].id\"</code>, but that currently isn't supported (<a href=\"https://github.com/freestrings/jsonpath/issues/91\">issue</a>). How much work would it be to use your jsonpath engine? How close to being ready is it? Is it worth doing before <code>jsondocckng</code> (<a href=\"#narrow/stream/266220-rustdoc/topic/JSON.20tests.20in.20rust\">https://rust-lang.zulipchat.com/#narrow/stream/266220-rustdoc/topic/JSON.20tests.20in.20rust</a>)</p>",
        "id": 272626436,
        "sender_full_name": "Nixon Enraght-Moony",
        "timestamp": 1645402204
    },
    {
        "content": "<p>My implementation doesn't require the intermediate <code>[*]</code>, as is.</p>",
        "id": 272626878,
        "sender_full_name": "CraftSpider",
        "timestamp": 1645402744
    },
    {
        "content": "<p>Per the json-path-comparison repo, my implementation tends to be more compliant when it comes to wildcard and filter behavior than the existing one, and in general I think not requiring the intermediate <code>[*]</code> is the more correct way, but I may be wrong.</p>",
        "id": 272626978,
        "sender_full_name": "CraftSpider",
        "timestamp": 1645402859
    },
    {
        "content": "<p>Just find-replacing to remove it makes most tests pass in my experience</p>",
        "id": 272627000,
        "sender_full_name": "CraftSpider",
        "timestamp": 1645402892
    },
    {
        "content": "<p>The difference is whether you interpret a filter on an object as acting on the object or its children. I say the children, as that's how all other selectors seem to work, and I think how it works on an array even in lib. The lib implementation says it instead acts on the current object itself, so requires the wildcard to first select all children to act upon, which I think is an odd interpretation.</p>",
        "id": 272627476,
        "sender_full_name": "CraftSpider",
        "timestamp": 1645403477
    },
    {
        "content": "<p>So switching to your implementation would require rewriting all the tests?</p>",
        "id": 272628701,
        "sender_full_name": "Nixon Enraght-Moony",
        "timestamp": 1645405044
    },
    {
        "content": "<p>Most of which can be done easily, but not all?</p>",
        "id": 272628713,
        "sender_full_name": "Nixon Enraght-Moony",
        "timestamp": 1645405063
    },
    {
        "content": "<p>I think even odd ones out are still 'easy', but yes it's a lot of churn. The primary advantage of my impl is that it would allow us to start testing things to current impl can't express, but so will ng. Basically, I don't think it's worth it if you think ng will be done soon</p>",
        "id": 272629548,
        "sender_full_name": "CraftSpider",
        "timestamp": 1645405949
    },
    {
        "content": "<p>I'd rather focus on one churn than two, I was primarily considering the one because I was still thinking of it as just a one-time switch to something better, which NG is even better than that.</p>",
        "id": 272629581,
        "sender_full_name": "CraftSpider",
        "timestamp": 1645406018
    },
    {
        "content": "<p>Kind of sad to say 'the reason I wrote this thing has become pointless', but hey, at least my implementation may be useful for other people :P</p>",
        "id": 272629723,
        "sender_full_name": "CraftSpider",
        "timestamp": 1645406175
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"319144\">CraftSpider</span> <a href=\"#narrow/stream/266220-rustdoc/topic/jsonpath-plus.20integration/near/272629723\">said</a>:</p>\n<blockquote>\n<p>Kind of sad to say 'the reason I wrote this thing has become pointless', but hey, at least my implementation may be useful for other people :P</p>\n</blockquote>\n<p>It's good to explore the solution space :)</p>",
        "id": 272753291,
        "sender_full_name": "Noah Lev",
        "timestamp": 1645496387
    }
]