[
    {
        "content": "<p>Our sidebar really uses a lot of different styles to distinguish headings. For instance, here are three heading styles in a single image. There's a fourth I can't dig up right now, where the corners are rounded.</p>\n<p><a href=\"/user_uploads/4715/P7P-f83cIEB1tzEojD14CKo-/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/P7P-f83cIEB1tzEojD14CKo-/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/P7P-f83cIEB1tzEojD14CKo-/image.png\"></a></div><p>MDN does a pretty nice job of styling the sidebar: <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Containment\">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Containment</a>. Theirs is a little wider than ours, mostly because of padding. The narrowest the content gets is 204px. It always has 24px of padding on either side. They use a slightly smaller font size (0.9rem) to fit more in. Headings are distinguished by font size, weight, and font face.</p>\n<p>I'd like to take a shot and redoing our sidebar like that. What do folks think? Is there support for that? Too radical a change?</p>",
        "id": 267093493,
        "sender_full_name": "jsha",
        "timestamp": 1641492302
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/XVrBe8BvVlwsNg9_eqlJA5N9/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/XVrBe8BvVlwsNg9_eqlJA5N9/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/XVrBe8BvVlwsNg9_eqlJA5N9/image.png\"></a></div>",
        "id": 267093583,
        "sender_full_name": "jsha",
        "timestamp": 1641492341
    },
    {
        "content": "<p>Improving and unifying the sidebar content would be nice. Waiting to see what you the results will be  :)</p>",
        "id": 267097232,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1641494200
    },
    {
        "content": "<p>Sounds good to me. The sidebar does feel pretty cluttered.</p>",
        "id": 267105677,
        "sender_full_name": "Noah Lev",
        "timestamp": 1641498670
    },
    {
        "content": "<p>A prototype:</p>\n<p><a href=\"https://rustdoc.crud.net/jsha/cool-sidebar/std/string/struct.String.html\">https://rustdoc.crud.net/jsha/cool-sidebar/std/string/struct.String.html</a><br>\n<a href=\"https://rustdoc.crud.net/jsha/cool-sidebar/std/string/index.html\">https://rustdoc.crud.net/jsha/cool-sidebar/std/string/index.html</a></p>\n<p><a href=\"https://github.com/rust-lang/rust/compare/master...jsha:cool-sidebar?expand=1\">https://github.com/rust-lang/rust/compare/master...jsha:cool-sidebar?expand=1</a></p>",
        "id": 267139252,
        "sender_full_name": "jsha",
        "timestamp": 1641518446
    },
    {
        "content": "<p>Looks like a good start! Comments: The lines look too close together and the font looks too small to me.</p>",
        "id": 267139399,
        "sender_full_name": "Noah Lev",
        "timestamp": 1641518573
    },
    {
        "content": "<p>While you're at it, what about getting rid of the (e.g.) \"Struct\" prefix to the item's name in the sidebar? It seems a bit redundant given that it's also shown in the main part of the page.</p>",
        "id": 267139687,
        "sender_full_name": "Noah Lev",
        "timestamp": 1641518842
    },
    {
        "content": "<p>Yep, I was thinking exactly that! And giving the item name the appropriate color.</p>",
        "id": 267146220,
        "sender_full_name": "jsha",
        "timestamp": 1641524875
    },
    {
        "content": "<p>alright, updated based on that suggestion. Also renamed some subheadings to \"Traits\", \"Auto Traits\", and \"Blanket Implementations\" to save a bit of space.</p>\n<p>I kept the font size the same (0.9rem). It's actually just barely larger (14.4px) than the current 14px font size. But I fixed the line spacing to more closely match the current spacing.</p>",
        "id": 267152156,
        "sender_full_name": "jsha",
        "timestamp": 1641532250
    },
    {
        "content": "<p>In the index, it's a bit strange to have the current module name in yellow (in dark theme) because this color is used for links, and it's not a link</p>",
        "id": 267170209,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1641549358
    },
    {
        "content": "<p>Another small idea: could you reduce the left padding for titles to make them more \"obvious\" maybe?</p>",
        "id": 267170283,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1641549387
    },
    {
        "content": "<p>Yes, I agree having the module name in yellow is strange. That's also strange in the current design. I'll fix it in the prototype.</p>\n<p>Left padding for titles: I'd really like to avoid it. I think using left-right alignment to distinguish headings is a bad idea. It's not a common metaphor way to indicate headings. But more importantly, it becomes tempting to skimp on the indentation so there is more room for text.</p>",
        "id": 267201254,
        "sender_full_name": "jsha",
        "timestamp": 1641568981
    },
    {
        "content": "<p>Ah, I misunderstood! I thought you were talking about this in the Ayu theme:</p>\n<p><a href=\"/user_uploads/4715/l6pHOSZ4H9kqzCRkMjbl6kd2/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/l6pHOSZ4H9kqzCRkMjbl6kd2/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/l6pHOSZ4H9kqzCRkMjbl6kd2/image.png\"></a></div>",
        "id": 267201858,
        "sender_full_name": "jsha",
        "timestamp": 1641569299
    },
    {
        "content": "<p>But yes, having the heading at the top of the sidebar be a link color when it's not a link is odd.</p>\n<p>I'd actually like to make it a link. It should take you back to the top of the page.</p>",
        "id": 267201913,
        "sender_full_name": "jsha",
        "timestamp": 1641569330
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"315412\">jsha</span> <a href=\"#narrow/stream/266220-rustdoc/topic/sidebar.20headings/near/267201913\">said</a>:</p>\n<blockquote>\n<p>But yes, having the heading at the top of the sidebar be a link color when it's not a link is odd.</p>\n<p>I'd actually like to make it a link. It should take you back to the top of the page.</p>\n</blockquote>\n<p>ah that could be nice</p>",
        "id": 267208273,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1641572364
    },
    {
        "content": "<p>Speaking of left padding, can you reduce the left padding in the new sidebar? I think that's part of what makes the font seem smaller to me. The method names in the list feel kind of \"untethered\" to me.</p>",
        "id": 267232220,
        "sender_full_name": "Noah Lev",
        "timestamp": 1641583857
    },
    {
        "content": "<p>I actually really like having more left margin - it makes the sidebar feel less cramped and more airy.</p>\n<p>If you look in the \"Other Items\" section, e.g. at <a href=\"https://doc.rust-lang.org/nightly/std/string/trait.ToString.html\">https://doc.rust-lang.org/nightly/std/string/trait.ToString.html</a>, we already have a cumulative margin-left of 25px there; almost exactly the same as the 24px I put in cool-sidebar. It's just the methods that have padding-left: 10px.</p>",
        "id": 267234086,
        "sender_full_name": "jsha",
        "timestamp": 1641584867
    },
    {
        "content": "<p>I'm also taking inspiration here from MDN (e.g. <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Containment\">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Containment</a>). That's a little different because the whole content including sidebar is centered. But if you compare against the breadcrumb bar, they have a left margin of 24px.</p>",
        "id": 267234255,
        "sender_full_name": "jsha",
        "timestamp": 1641584945
    },
    {
        "content": "<p>readthedocs uses an even bigger left margin of 35px: <a href=\"https://acme-python.readthedocs.io/en/stable/api/messages.html#acme.messages.RegistrationResource\">https://acme-python.readthedocs.io/en/stable/api/messages.html#acme.messages.RegistrationResource</a></p>",
        "id": 267234298,
        "sender_full_name": "jsha",
        "timestamp": 1641584978
    },
    {
        "content": "<p>I agree having more left margin than before is good; it just feels like too much.</p>",
        "id": 267234685,
        "sender_full_name": "Noah Lev",
        "timestamp": 1641585154
    },
    {
        "content": "<p>I can't quite explain <em>why</em>, it just doesn't look right to me.</p>",
        "id": 267234718,
        "sender_full_name": "Noah Lev",
        "timestamp": 1641585169
    },
    {
        "content": "<p>Another benefit of 24px is that it is exactly equal to the indentations we use in the main content - for instance a method's docs are indented from its header by 24px (which is 1.5em at 16px).</p>",
        "id": 267234979,
        "sender_full_name": "jsha",
        "timestamp": 1641585318
    },
    {
        "content": "<p>I hear you about not looking quite right. It looks right to me, but these things are very subjective, and of course we've all spent many hours looking at these things.</p>",
        "id": 267235183,
        "sender_full_name": "jsha",
        "timestamp": 1641585378
    },
    {
        "content": "<p>One other change I want to make: for module and crate pages, I want to bring back the type prefix, e.g. \"Module string\"; \"Crate std\". Having <code>string</code> or <code>std</code> as the topmost heading but with initial lowercase feels weird.</p>\n<p>The same would probably be true of <code>fn</code> - except I just noticed <code>fn</code> pages don't have their own section in the sidebar (which makes some sense) - <a href=\"https://doc.rust-lang.org/nightly/std/io/fn.stdin.html\">https://doc.rust-lang.org/nightly/std/io/fn.stdin.html</a> / <a href=\"https://rustdoc.crud.net/jsha/cool-sidebar/std/io/fn.stdin.html\">https://rustdoc.crud.net/jsha/cool-sidebar/std/io/fn.stdin.html</a></p>",
        "id": 267235669,
        "sender_full_name": "jsha",
        "timestamp": 1641585588
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"315412\">jsha</span> <a href=\"#narrow/stream/266220-rustdoc/topic/sidebar.20headings/near/267234979\">said</a>:</p>\n<blockquote>\n<p>Another benefit of 24px is that it is exactly equal to the indentations we use in the main content - for instance a method's docs are indented from its header by 24px (which is 1.5em at 16px).</p>\n</blockquote>\n<p>I'm not sure if that kind of stuff matters that much to how the eye perceives a layout though.</p>",
        "id": 267239134,
        "sender_full_name": "Noah Lev",
        "timestamp": 1641587396
    },
    {
        "content": "<p>I don't have the background to be able to answer one way or another, but the designers I know seem to put a lot of stock into that kind of harmony between elements.</p>",
        "id": 267239524,
        "sender_full_name": "jsha",
        "timestamp": 1641587598
    },
    {
        "content": "<p>I think we're now entering the \"experiment\" area haha</p>",
        "id": 267241584,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1641588830
    },
    {
        "content": "<p>I mean, I do think there's some advantage to it, but I also think it shouldn't necessarily be the end goal.</p>",
        "id": 267244168,
        "sender_full_name": "Noah Lev",
        "timestamp": 1641590372
    },
    {
        "content": "<p>What I meant was more like that we're entering the \"personal taste/preference\" area and that we will need a few trials to reach a result acceptable to everyone. But in any case, the current suggestion is a very big improvement imo</p>",
        "id": 267244345,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1641590461
    },
    {
        "content": "<p>Another comment: I don't love the styling for the \"See all std's items\"; it stands out too much. Is there a way we can make it draw less attention?</p>\n<p><a href=\"/user_uploads/4715/lqmltwszHg8miIh8A9OgnnkM/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/lqmltwszHg8miIh8A9OgnnkM/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/lqmltwszHg8miIh8A9OgnnkM/image.png\"></a></div>",
        "id": 267246767,
        "sender_full_name": "Noah Lev",
        "timestamp": 1641592036
    },
    {
        "content": "<p>Do you mean the margin-top/margin-bottom, or the link styling (blue)?</p>",
        "id": 267247227,
        "sender_full_name": "jsha",
        "timestamp": 1641592302
    },
    {
        "content": "<p>I think the white background is part of it.</p>",
        "id": 267247339,
        "sender_full_name": "Noah Lev",
        "timestamp": 1641592362
    },
    {
        "content": "<p>ohh yeah that should go away for sure. I didn't notice it in the thumbnail. thanks!</p>",
        "id": 267247498,
        "sender_full_name": "jsha",
        "timestamp": 1641592452
    },
    {
        "content": "<p>k, updated to fix the white background. I also reverted the colors on the headings for now; too distracting. And added back in \"Crate \" and \"Mod \" prefixes but not \"Enum \" and \"Struct \".</p>\n<p>Handy list of links to various types of pages:</p>\n<p><a href=\"https://rustdoc.crud.net/jsha/cool-sidebar/std/string/struct.String.html\">https://rustdoc.crud.net/jsha/cool-sidebar/std/string/struct.String.html</a><br>\n<a href=\"https://rustdoc.crud.net/jsha/cool-sidebar/std/vec/struct.Vec.html\">https://rustdoc.crud.net/jsha/cool-sidebar/std/vec/struct.Vec.html</a><br>\n<a href=\"https://rustdoc.crud.net/jsha/cool-sidebar/std/io/trait.Read.html\">https://rustdoc.crud.net/jsha/cool-sidebar/std/io/trait.Read.html</a><br>\n<a href=\"https://rustdoc.crud.net/jsha/cool-sidebar/std/iter/trait.Iterator.html\">https://rustdoc.crud.net/jsha/cool-sidebar/std/iter/trait.Iterator.html</a></p>\n<p>crate - <a href=\"https://rustdoc.crud.net/jsha/cool-sidebar/std/index.html\">https://rustdoc.crud.net/jsha/cool-sidebar/std/index.html</a><br>\nmod - <a href=\"https://rustdoc.crud.net/jsha/cool-sidebar/std/any/index.html\">https://rustdoc.crud.net/jsha/cool-sidebar/std/any/index.html</a><br>\nmacro - <a href=\"https://rustdoc.crud.net/jsha/cool-sidebar/std/macro.panic.html\">https://rustdoc.crud.net/jsha/cool-sidebar/std/macro.panic.html</a><br>\nfn - <a href=\"https://rustdoc.crud.net/jsha/cool-sidebar/std/io/fn.stdin.html\">https://rustdoc.crud.net/jsha/cool-sidebar/std/io/fn.stdin.html</a><br>\ntype alias - <a href=\"https://rustdoc.crud.net/jsha/cool-sidebar/std/io/type.Result.html\">https://rustdoc.crud.net/jsha/cool-sidebar/std/io/type.Result.html</a><br>\nkeyword - <a href=\"https://rustdoc.crud.net/jsha/cool-sidebar/std/keyword.as.html\">https://rustdoc.crud.net/jsha/cool-sidebar/std/keyword.as.html</a><br>\npoint - <a href=\"https://rustdoc.crud.net/jsha/cool-sidebar/std/primitive.pointer.html\">https://rustdoc.crud.net/jsha/cool-sidebar/std/primitive.pointer.html</a></p>",
        "id": 267253787,
        "sender_full_name": "jsha",
        "timestamp": 1641596162
    },
    {
        "content": "<p>Looking good!</p>\n<p>The white background on the currently-selected crate's name doesn't have any padding on the left, which doesn't look so good. I think you just need to change <code>padding: 0.3rem 0;</code> to <code>padding: 0.3rem;</code> to fix it.</p>\n<p><a href=\"/user_uploads/4715/GaB4pU62QtyRDEmWDPrTo5Pv/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/GaB4pU62QtyRDEmWDPrTo5Pv/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/GaB4pU62QtyRDEmWDPrTo5Pv/image.png\"></a></div>",
        "id": 267255137,
        "sender_full_name": "Noah Lev",
        "timestamp": 1641597038
    },
    {
        "content": "<p>Looks better than what we currently have, indeed!</p>\n<p>A few things:</p>\n<ul>\n<li>The empty space on the left is really bugging me because for long items, we lose some characters we could still have.</li>\n<li>The lack of visual \"marker\" for titles is actually problematic when scrolling quickly (I was looking for trait impls on the <code>Vec</code> page when I realized it). Maybe more empty space around them?</li>\n</ul>",
        "id": 267261793,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1641601173
    },
    {
        "content": "<p>We actually show more characters in this branch, because I made the sidebar wider.</p>\n<p>On <a href=\"http://doc.rust-lang.org\">doc.rust-lang.org</a>:</p>\n<p><a href=\"/user_uploads/4715/LgQsGWat_gJDnewF3AcEDiLi/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/LgQsGWat_gJDnewF3AcEDiLi/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/LgQsGWat_gJDnewF3AcEDiLi/image.png\"></a></div>",
        "id": 267266479,
        "sender_full_name": "jsha",
        "timestamp": 1641605645
    },
    {
        "content": "<p>On the demo:</p>\n<p><a href=\"/user_uploads/4715/UVZJTowT5MlyvpN8rYOCkbGs/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/UVZJTowT5MlyvpN8rYOCkbGs/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/UVZJTowT5MlyvpN8rYOCkbGs/image.png\"></a></div>",
        "id": 267266499,
        "sender_full_name": "jsha",
        "timestamp": 1641605682
    },
    {
        "content": "<p>For visual marker on headings:</p>\n<p><a href=\"/user_uploads/4715/QPuFWps5gXnKITgKadxDMTmo/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/QPuFWps5gXnKITgKadxDMTmo/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/QPuFWps5gXnKITgKadxDMTmo/image.png\"></a></div><p>This uses font-weight 500 and font-size 1.1rem (compare to 0.9rem for the links) to distinguish. I could make it a bit bigger (and also increase the size of the <code>h2</code> at the very top). And yeah, extra spacing at the end of each section is a good idea.</p>",
        "id": 267266642,
        "sender_full_name": "jsha",
        "timestamp": 1641605838
    },
    {
        "content": "<p>Hah! After talking about how 24px was a nice match for other spacings... I went back and checked, I actually had margin-left as 2rem, which is 32px. No wonder you both thought it was too much! :-D</p>\n<p>Pushed an update to the branch and the demo bringing that down to 24px. Also I increased the spacing between blocks in the sidebar to emphasize the headings more. I haven't yet increased the h3 size. Lemme know if you think that's still needed.</p>\n<p>Also one thing I noticed: The stuff at the bottom (\"In std::string\" &gt; \"Structs\" etc) uses <code>&lt;ul&gt;</code> and <code>&lt;li&gt;</code> tags, which I consider semantically correct HTML.</p>\n<p>The methods and traits and so on use a series of <code>&lt;a&gt;</code> tags under <code>.sidebar-links</code>, but set <code>display: block</code> on them so they act like <code>&lt;li&gt;</code>. I'd kinda like to turn those into <code>&lt;ul&gt;</code> / <code>&lt;li&gt;</code> for consistency, but it might increase the HTML size a bit. Thoughts?</p>",
        "id": 267270730,
        "sender_full_name": "jsha",
        "timestamp": 1641610832
    },
    {
        "content": "<p>I'm fine with it</p>",
        "id": 267288099,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1641636643
    },
    {
        "content": "<p>Alright, I just pushed the demo and the branch with a big update, mostly around how the sidebar is handled on mobile. I made an explicit topbar in the DOM rather than trying to move things around in CSS, and I was able to _dramatically_ simplify our mobile sidebar CSS.</p>",
        "id": 267310201,
        "sender_full_name": "jsha",
        "timestamp": 1641668608
    },
    {
        "content": "<p>(source sidebar is currently broken though ;working on it)</p>",
        "id": 267311728,
        "sender_full_name": "jsha",
        "timestamp": 1641671003
    },
    {
        "content": "<p>this is up for review now <a href=\"https://github.com/rust-lang/rust/pull/92692\">https://github.com/rust-lang/rust/pull/92692</a></p>",
        "id": 267362014,
        "sender_full_name": "jsha",
        "timestamp": 1641740535
    }
]