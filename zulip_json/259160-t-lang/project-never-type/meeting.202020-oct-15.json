[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span>  <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span></p>",
        "id": 213472723,
        "sender_full_name": "blitzerr",
        "timestamp": 1602788583
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"128294\">@blitzerr</span> omw</p>",
        "id": 213473198,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602788781
    },
    {
        "content": "<p>my computer decided to mysteriously restart</p>",
        "id": 213473206,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602788785
    },
    {
        "content": "<p>oh I guess we don't have a zoom room</p>",
        "id": 213473242,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602788807
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/259160-t-lang.2Fproject-never-type/topic/meeting.202020-oct-15/near/213473206\">said</a>:</p>\n<blockquote>\n<p>my computer decided to mysteriously restart</p>\n</blockquote>\n<p>Computer do that sometime but consistently at the wrong time <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 213473348,
        "sender_full_name": "blitzerr",
        "timestamp": 1602788876
    },
    {
        "content": "<p>OK <span class=\"user-mention\" data-user-id=\"128294\">@blitzerr</span> these are the steps we said</p>\n<ul>\n<li>[x] turn the lint to deny by default and make sure libstd builds</li>\n<li>[ ] create a helper function for adding to <code>dead_nodes</code> that explains what is going on<br>\n    - document that this function is invoked on the \"way up\" the tree, so that nodes are added to <code>dead_nodes</code> set if they diverge before completing (or they never start)</li>\n<li>[ ] test against the objc crate version that had problems</li>\n<li>[ ] run a \"crater check\" run and see the results</li>\n<li>[ ] improve the error message</li>\n</ul>",
        "id": 213477927,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602791090
    },
    {
        "content": "<p>I'll paste them into <a href=\"https://github.com/rust-lang/rust/issues/66173\">https://github.com/rust-lang/rust/issues/66173</a> though</p>",
        "id": 213477966,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602791118
    },
    {
        "content": "<p>I put it into the \"original post\"</p>",
        "id": 213478186,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602791219
    },
    {
        "content": "<p>also <a href=\"https://github.com/rust-lang/rust/issues/66173#issuecomment-709554231\">left a comment regarding the objc crate</a></p>",
        "id": 213478636,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602791438
    },
    {
        "content": "<p>Thanks a lot <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span></p>",
        "id": 213507683,
        "sender_full_name": "blitzerr",
        "timestamp": 1602811104
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"128294\">@blitzerr</span> <a href=\"https://github.com/rust-lang/rust/issues/66173#issuecomment-709661961\">see this reply</a></p>",
        "id": 213573285,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602861168
    },
    {
        "content": "<p><span aria-label=\"octopus\" class=\"emoji emoji-1f419\" role=\"img\" title=\"octopus\">:octopus:</span></p>",
        "id": 213577221,
        "sender_full_name": "blitzerr",
        "timestamp": 1602862956
    },
    {
        "content": "<p>Awesome! I will include that as a test <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span></p>",
        "id": 213577268,
        "sender_full_name": "blitzerr",
        "timestamp": 1602862987
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"128294\">@blitzerr</span> I think it'll have to be tested by hand</p>",
        "id": 213577408,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602863059
    },
    {
        "content": "<p>not included in the compiler</p>",
        "id": 213577412,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602863061
    },
    {
        "content": "<p>because of the dependency on objc crate</p>",
        "id": 213577419,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602863065
    },
    {
        "content": "<p>you'll have to make a <code>Cargo.toml</code></p>",
        "id": 213577429,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602863071
    },
    {
        "content": "<p>but it'd be good just to see if it works</p>",
        "id": 213577439,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602863075
    },
    {
        "content": "<p>I <em>think</em> the test I wrote is representative of this situation</p>",
        "id": 213577458,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602863085
    },
    {
        "content": "<p>you might be able to minimize to something that doesn't depend on objc</p>",
        "id": 213577644,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602863185
    },
    {
        "content": "<p>then you could write automated tests for it</p>",
        "id": 213577655,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602863191
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"232545\">@Joshua Nelson</span> yeah the point is I think I already did that</p>",
        "id": 213577773,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602863268
    },
    {
        "content": "<p>(minimize)</p>",
        "id": 213577780,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602863271
    },
    {
        "content": "<p>but I did want to go back and test that the original crate gets a warning</p>",
        "id": 213577793,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602863279
    },
    {
        "content": "<p>just to double check</p>",
        "id": 213577802,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602863281
    },
    {
        "content": "<p>Ah oops, sorry for the noise</p>",
        "id": 213577960,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1602863343
    },
    {
        "content": "<p>Ohh! Right. Ya I will test it manually and see the lint earns in this case.</p>",
        "id": 213580525,
        "sender_full_name": "blitzerr",
        "timestamp": 1602864592
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"128294\">@blitzerr</span> <a href=\"https://youtu.be/yEq7pfBFwYQ\">https://youtu.be/yEq7pfBFwYQ</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"yEq7pfBFwYQ\" href=\"https://youtu.be/yEq7pfBFwYQ\"><img src=\"https://i.ytimg.com/vi/yEq7pfBFwYQ/default.jpg\"></a></div>",
        "id": 213591332,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1602870066
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span>: <span class=\"nc\">resulted</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">diverging</span><span class=\"w\"> </span><span class=\"n\">fallback</span>: <span class=\"p\">()</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"o\">-</span>-&gt; <span class=\"nc\">library</span><span class=\"o\">/</span><span class=\"n\">std</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">macros</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">15</span>:<span class=\"mi\">34</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"mi\">11</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"n\">macro_rules</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"n\">panic</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"mi\">12</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s\">\"explicit panic\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">13</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$msg</span>:<span class=\"nc\">expr</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">rt</span>::<span class=\"n\">begin_panic</span><span class=\"p\">(</span><span class=\"cp\">$msg</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">14</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$msg</span>:<span class=\"nc\">expr</span><span class=\"p\">,)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"cp\">$msg</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">15</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$fmt</span>:<span class=\"nc\">expr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$($arg</span>:<span class=\"nc\">tt</span><span class=\"p\">)</span><span class=\"o\">+</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"n\">__________________________________</span><span class=\"o\">^</span><span class=\"w\"></span>\n<span class=\"mi\">16</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\">         </span><span class=\"cp\">$crate</span>::<span class=\"n\">rt</span>::<span class=\"n\">begin_panic_fmt</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"cp\">$crate</span>::<span class=\"n\">format_args</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"cp\">$fmt</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$($arg</span><span class=\"p\">)</span><span class=\"o\">+</span><span class=\"p\">))</span><span class=\"w\"></span>\n<span class=\"mi\">17</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\">     </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"n\">_____</span><span class=\"o\">^</span><span class=\"w\"></span>\n<span class=\"mi\">18</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"n\">_</span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">expansion</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"err\">`</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"w\">   </span>::: <span class=\"nc\">library</span><span class=\"o\">/</span><span class=\"n\">std</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">sys</span><span class=\"o\">/</span><span class=\"n\">unix</span><span class=\"o\">/</span><span class=\"n\">rand</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">113</span>:<span class=\"mi\">25</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"mi\">113</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">                            </span><span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s\">\"unexpected getentropy error: {}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">errno</span><span class=\"p\">());</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">                            </span><span class=\"o\">---------------------------------------------------</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"kr\">macro</span><span class=\"w\"> </span><span class=\"n\">invocation</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">note</span>: <span class=\"err\">`</span><span class=\"cp\">#[deny(fall_back_to_never_type)]</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"w\"> </span><span class=\"n\">default</span><span class=\"w\"></span>\n\n<span class=\"n\">error</span>: <span class=\"nc\">resulted</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">diverging</span><span class=\"w\"> </span><span class=\"n\">fallback</span>: <span class=\"p\">()</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"o\">-</span>-&gt; <span class=\"nc\">library</span><span class=\"o\">/</span><span class=\"n\">std</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">macros</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">15</span>:<span class=\"mi\">34</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"mi\">11</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"n\">macro_rules</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"n\">panic</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"mi\">12</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s\">\"explicit panic\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">13</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$msg</span>:<span class=\"nc\">expr</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">rt</span>::<span class=\"n\">begin_panic</span><span class=\"p\">(</span><span class=\"cp\">$msg</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">14</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$msg</span>:<span class=\"nc\">expr</span><span class=\"p\">,)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"cp\">$msg</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">15</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$fmt</span>:<span class=\"nc\">expr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$($arg</span>:<span class=\"nc\">tt</span><span class=\"p\">)</span><span class=\"o\">+</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"n\">__________________________________</span><span class=\"o\">^</span><span class=\"w\"></span>\n<span class=\"mi\">16</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\">         </span><span class=\"cp\">$crate</span>::<span class=\"n\">rt</span>::<span class=\"n\">begin_panic_fmt</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"cp\">$crate</span>::<span class=\"n\">format_args</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"cp\">$fmt</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$($arg</span><span class=\"p\">)</span><span class=\"o\">+</span><span class=\"p\">))</span><span class=\"w\"></span>\n<span class=\"mi\">17</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\">     </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"n\">_____</span><span class=\"o\">^</span><span class=\"w\"></span>\n<span class=\"mi\">18</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"n\">_</span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">expansion</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"err\">`</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"w\">   </span>::: <span class=\"nc\">library</span><span class=\"o\">/</span><span class=\"n\">std</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">sys</span><span class=\"o\">/</span><span class=\"n\">unix</span><span class=\"o\">/</span><span class=\"n\">rand</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">113</span>:<span class=\"mi\">25</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"mi\">113</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">                            </span><span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s\">\"unexpected getentropy error: {}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">errno</span><span class=\"p\">());</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">                            </span><span class=\"o\">---------------------------------------------------</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"kr\">macro</span><span class=\"w\"> </span><span class=\"n\">invocation</span><span class=\"w\"></span>\n\n<span class=\"n\">error</span>: <span class=\"nc\">aborting</span><span class=\"w\"> </span><span class=\"n\">due</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"n\">previous</span><span class=\"w\"> </span><span class=\"n\">errors</span><span class=\"w\"></span>\n\n<span class=\"n\">error</span>: <span class=\"nc\">could</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">compile</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">std</span><span class=\"err\">`</span><span class=\"w\"></span>\n\n<span class=\"n\">To</span><span class=\"w\"> </span><span class=\"n\">learn</span><span class=\"w\"> </span><span class=\"n\">more</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"n\">again</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">verbose</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"n\">command</span><span class=\"w\"> </span><span class=\"n\">did</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">execute</span><span class=\"w\"> </span><span class=\"n\">successfully</span>: <span class=\"s\">\"/Users/blitz/rustc-dev/rust/build/x86_64-apple-darwin/stage0/bin/cargo\"</span><span class=\"w\"> </span><span class=\"s\">\"build\"</span><span class=\"w\"> </span><span class=\"s\">\"--target\"</span><span class=\"w\"> </span><span class=\"s\">\"x86_64-apple-darwin\"</span><span class=\"w\"> </span><span class=\"s\">\"-Zbinary-dep-depinfo\"</span><span class=\"w\"> </span><span class=\"s\">\"-j\"</span><span class=\"w\"> </span><span class=\"s\">\"12\"</span><span class=\"w\"> </span><span class=\"s\">\"--release\"</span><span class=\"w\"> </span><span class=\"s\">\"--features\"</span><span class=\"w\"> </span><span class=\"s\">\"panic-unwind backtrace compiler-builtins-c\"</span><span class=\"w\"> </span><span class=\"s\">\"--manifest-path\"</span><span class=\"w\"> </span><span class=\"s\">\"/Users/blitz/rustc-dev/rust/library/test/Cargo.toml\"</span><span class=\"w\"> </span><span class=\"s\">\"--message-format\"</span><span class=\"w\"> </span><span class=\"s\">\"json-render-diagnostics\"</span><span class=\"w\"></span>\n<span class=\"n\">expected</span><span class=\"w\"> </span><span class=\"n\">success</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">got</span>: <span class=\"nc\">exit</span><span class=\"w\"> </span><span class=\"n\">code</span>: <span class=\"mi\">101</span><span class=\"w\"></span>\n<span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">run</span>: <span class=\"o\">/</span><span class=\"n\">Users</span><span class=\"o\">/</span><span class=\"n\">blitz</span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">-</span><span class=\"n\">dev</span><span class=\"o\">/</span><span class=\"n\">rust</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"o\">/</span><span class=\"n\">bootstrap</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">bootstrap</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">test</span><span class=\"o\">/</span><span class=\"n\">ui</span><span class=\"w\"></span>\n<span class=\"n\">Build</span><span class=\"w\"> </span><span class=\"n\">completed</span><span class=\"w\"> </span><span class=\"n\">unsuccessfully</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"mi\">0</span>:<span class=\"mi\">01</span>:<span class=\"mi\">04</span><span class=\"w\"></span>\n<span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">terminal</span><span class=\"w\"> </span><span class=\"n\">process</span><span class=\"w\"> </span><span class=\"s\">\"/usr/local/bin/fish '-c', './x.py test -i src/test/ui'\"</span><span class=\"w\"> </span><span class=\"n\">terminated</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"n\">exit</span><span class=\"w\"> </span><span class=\"n\">code</span>: <span class=\"mf\">1.</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 213652800,
        "sender_full_name": "blitzerr",
        "timestamp": 1602942556
    },
    {
        "content": "<p>The test building is  failing where we have <code>panic</code>. Is this because of the new block return type we started checking ?</p>",
        "id": 213652953,
        "sender_full_name": "blitzerr",
        "timestamp": 1602942762
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span></p>",
        "id": 213652955,
        "sender_full_name": "blitzerr",
        "timestamp": 1602942767
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/78051\">https://github.com/rust-lang/rust/pull/78051</a></p>",
        "id": 213653158,
        "sender_full_name": "blitzerr",
        "timestamp": 1602943078
    },
    {
        "content": "<p>I had to create a new branch as I started getting some sub-modules conflicts after rebasing with latest master.</p>",
        "id": 213653222,
        "sender_full_name": "blitzerr",
        "timestamp": 1602943155
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"128294\">@blitzerr</span> hmm, I was hoping we had fixed that problem, but perhaps not</p>",
        "id": 213785474,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603114434
    },
    {
        "content": "<p>At least it is occuring in <em>std</em> and not <em>core</em></p>",
        "id": 213785833,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603114584
    },
    {
        "content": "<p>I would recommend <span class=\"user-mention\" data-user-id=\"128294\">@blitzerr</span> trying to isolate the pattern into a test case like we did before. You could make the lint \"allow by default\" to let std build if that helps.</p>",
        "id": 213786061,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603114689
    },
    {
        "content": "<p>Sorry <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> I missed this. I did try to extract out the macro that failed as a test case. I am working on that. Haven't reproduced it yet.</p>",
        "id": 213965114,
        "sender_full_name": "blitzerr",
        "timestamp": 1603220568
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"128294\">@blitzerr</span> -- let's see if we can make some progress this week</p>",
        "id": 214191950,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603375630
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">stage1</span><span class=\"w\"> </span><span class=\"n\">std</span><span class=\"w\"> </span><span class=\"n\">artifacts</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">apple</span><span class=\"o\">-</span><span class=\"n\">darwin</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">x86_64</span><span class=\"o\">-</span><span class=\"n\">apple</span><span class=\"o\">-</span><span class=\"n\">darwin</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"n\">error</span>: <span class=\"nc\">resulted</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">diverging</span><span class=\"w\"> </span><span class=\"n\">fallback</span>: <span class=\"p\">()</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"o\">-</span>-&gt; <span class=\"nc\">library</span><span class=\"o\">/</span><span class=\"n\">std</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">macros</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">15</span>:<span class=\"mi\">34</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"mi\">11</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"n\">macro_rules</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"n\">panic</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"mi\">12</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s\">\"explicit panic\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">13</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$msg</span>:<span class=\"nc\">expr</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">rt</span>::<span class=\"n\">begin_panic</span><span class=\"p\">(</span><span class=\"cp\">$msg</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">14</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$msg</span>:<span class=\"nc\">expr</span><span class=\"p\">,)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"cp\">$msg</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">15</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$fmt</span>:<span class=\"nc\">expr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$($arg</span>:<span class=\"nc\">tt</span><span class=\"p\">)</span><span class=\"o\">+</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"n\">__________________________________</span><span class=\"o\">^</span><span class=\"w\"></span>\n<span class=\"mi\">16</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\">         </span><span class=\"cp\">$crate</span>::<span class=\"n\">rt</span>::<span class=\"n\">begin_panic_fmt</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"cp\">$crate</span>::<span class=\"n\">format_args</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"cp\">$fmt</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$($arg</span><span class=\"p\">)</span><span class=\"o\">+</span><span class=\"p\">))</span><span class=\"w\"></span>\n<span class=\"mi\">17</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\">     </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"n\">_____</span><span class=\"o\">^</span><span class=\"w\"></span>\n<span class=\"mi\">18</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"n\">_</span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">expansion</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"err\">`</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"w\">   </span>::: <span class=\"nc\">library</span><span class=\"o\">/</span><span class=\"n\">std</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">sys</span><span class=\"o\">/</span><span class=\"n\">unix</span><span class=\"o\">/</span><span class=\"n\">rand</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">113</span>:<span class=\"mi\">25</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"mi\">113</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">                            </span><span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s\">\"unexpected getentropy error: {}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">errno</span><span class=\"p\">());</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">                            </span><span class=\"o\">---------------------------------------------------</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"kr\">macro</span><span class=\"w\"> </span><span class=\"n\">invocation</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">note</span>: <span class=\"err\">`</span><span class=\"o\">-</span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"n\">fall</span><span class=\"o\">-</span><span class=\"n\">back</span><span class=\"o\">-</span><span class=\"n\">to</span><span class=\"o\">-</span><span class=\"n\">never</span><span class=\"o\">-</span><span class=\"k\">type</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">implied</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"o\">-</span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"n\">warnings</span><span class=\"err\">`</span><span class=\"w\"></span>\n\n<span class=\"n\">error</span>: <span class=\"nc\">resulted</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">diverging</span><span class=\"w\"> </span><span class=\"n\">fallback</span>: <span class=\"p\">()</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"o\">-</span>-&gt; <span class=\"nc\">library</span><span class=\"o\">/</span><span class=\"n\">std</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">macros</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">15</span>:<span class=\"mi\">34</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"mi\">11</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"n\">macro_rules</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"n\">panic</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"mi\">12</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s\">\"explicit panic\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">13</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$msg</span>:<span class=\"nc\">expr</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">rt</span>::<span class=\"n\">begin_panic</span><span class=\"p\">(</span><span class=\"cp\">$msg</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">14</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$msg</span>:<span class=\"nc\">expr</span><span class=\"p\">,)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"cp\">$msg</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">15</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$fmt</span>:<span class=\"nc\">expr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$($arg</span>:<span class=\"nc\">tt</span><span class=\"p\">)</span><span class=\"o\">+</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"n\">__________________________________</span><span class=\"o\">^</span><span class=\"w\"></span>\n<span class=\"mi\">16</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\">         </span><span class=\"cp\">$crate</span>::<span class=\"n\">rt</span>::<span class=\"n\">begin_panic_fmt</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"cp\">$crate</span>::<span class=\"n\">format_args</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"cp\">$fmt</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$($arg</span><span class=\"p\">)</span><span class=\"o\">+</span><span class=\"p\">))</span><span class=\"w\"></span>\n<span class=\"mi\">17</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\">     </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"n\">_____</span><span class=\"o\">^</span><span class=\"w\"></span>\n<span class=\"mi\">18</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"n\">_</span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">expansion</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"err\">`</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"w\">   </span>::: <span class=\"nc\">library</span><span class=\"o\">/</span><span class=\"n\">std</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">sys</span><span class=\"o\">/</span><span class=\"n\">unix</span><span class=\"o\">/</span><span class=\"n\">rand</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">113</span>:<span class=\"mi\">25</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"mi\">113</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">                            </span><span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s\">\"unexpected getentropy error: {}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">errno</span><span class=\"p\">());</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">                            </span><span class=\"o\">---------------------------------------------------</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"kr\">macro</span><span class=\"w\"> </span><span class=\"n\">invocation</span><span class=\"w\"></span>\n\n<span class=\"n\">error</span>: <span class=\"nc\">aborting</span><span class=\"w\"> </span><span class=\"n\">due</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"n\">previous</span><span class=\"w\"> </span><span class=\"n\">errors</span><span class=\"w\"></span>\n\n<span class=\"n\">error</span>: <span class=\"nc\">could</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">compile</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">std</span><span class=\"err\">`</span><span class=\"w\"></span>\n</code></pre></div>\n\n<p>This is what I get locally when I try to run tests. The compiler builds fine.</p>",
        "id": 214223930,
        "sender_full_name": "blitzerr",
        "timestamp": 1603389359
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">stage1</span><span class=\"w\"> </span><span class=\"n\">compiler</span><span class=\"w\"> </span><span class=\"n\">artifacts</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">unknown</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">x86_64</span><span class=\"o\">-</span><span class=\"n\">unknown</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"n\">error</span>: <span class=\"nc\">resulted</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">diverging</span><span class=\"w\"> </span><span class=\"n\">fallback</span>: <span class=\"p\">()</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"o\">-</span>-&gt; <span class=\"nc\">compiler</span><span class=\"o\">/</span><span class=\"n\">rustc_macros</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">session_diagnostic</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">116</span>:<span class=\"mi\">33</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"mi\">116</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">       </span><span class=\"p\">(</span><span class=\"cp\">$span</span>:<span class=\"nc\">expr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$msg</span>:<span class=\"nc\">expr</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">{{</span><span class=\"w\"> </span><span class=\"n\">throw_span_err</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"cp\">$span</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$msg</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">diag</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">diag</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">}};</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">                                   </span><span class=\"o\">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><span class=\"w\"></span>\n<span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"mi\">450</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\">                                             </span><span class=\"n\">throw_span_err</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"mi\">451</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">                                                 </span><span class=\"n\">info</span><span class=\"p\">.</span><span class=\"n\">span</span><span class=\"p\">.</span><span class=\"n\">clone</span><span class=\"p\">().</span><span class=\"n\">unwrap</span><span class=\"p\">(),</span><span class=\"w\"></span>\n<span class=\"mi\">452</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">                                                 </span><span class=\"s\">\"type of field annotated with `#[suggestion(...)]` contains more than one Span\"</span><span class=\"w\"></span>\n<span class=\"mi\">453</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">                                             </span><span class=\"p\">);</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">______________________________________________</span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"kr\">macro</span><span class=\"w\"> </span><span class=\"n\">invocation</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">note</span>: <span class=\"err\">`</span><span class=\"cp\">#[deny(fall_back_to_never_type)]</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"w\"> </span><span class=\"n\">default</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">note</span>: <span class=\"nc\">this</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"n\">originates</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"kr\">macro</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">Nightly</span><span class=\"w\"> </span><span class=\"n\">builds</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"kr\">macro</span><span class=\"o\">-</span><span class=\"n\">backtrace</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">more</span><span class=\"w\"> </span><span class=\"n\">info</span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"n\">error</span>: <span class=\"nc\">resulted</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">diverging</span><span class=\"w\"> </span><span class=\"n\">fallback</span>: <span class=\"p\">()</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"o\">-</span>-&gt; <span class=\"nc\">compiler</span><span class=\"o\">/</span><span class=\"n\">rustc_macros</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">session_diagnostic</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">116</span>:<span class=\"mi\">33</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"mi\">116</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">       </span><span class=\"p\">(</span><span class=\"cp\">$span</span>:<span class=\"nc\">expr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$msg</span>:<span class=\"nc\">expr</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">{{</span><span class=\"w\"> </span><span class=\"n\">throw_span_err</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"cp\">$span</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$msg</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">diag</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">diag</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">}};</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">                                   </span><span class=\"o\">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><span class=\"w\"></span>\n<span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"mi\">450</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\">                                             </span><span class=\"n\">throw_span_err</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"mi\">451</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">                                                 </span><span class=\"n\">info</span><span class=\"p\">.</span><span class=\"n\">span</span><span class=\"p\">.</span><span class=\"n\">clone</span><span class=\"p\">().</span><span class=\"n\">unwrap</span><span class=\"p\">(),</span><span class=\"w\"></span>\n<span class=\"mi\">452</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">                                                 </span><span class=\"s\">\"type of field annotated with `#[suggestion(...)]` contains more than one Span\"</span><span class=\"w\"></span>\n<span class=\"mi\">453</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">                                             </span><span class=\"p\">);</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">______________________________________________</span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"kr\">macro</span><span class=\"w\"> </span><span class=\"n\">invocation</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">note</span>: <span class=\"nc\">this</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"n\">originates</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"kr\">macro</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">Nightly</span><span class=\"w\"> </span><span class=\"n\">builds</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"kr\">macro</span><span class=\"o\">-</span><span class=\"n\">backtrace</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">more</span><span class=\"w\"> </span><span class=\"n\">info</span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"n\">error</span>: <span class=\"nc\">resulted</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">diverging</span><span class=\"w\"> </span><span class=\"n\">fallback</span>: <span class=\"p\">()</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"o\">-</span>-&gt; <span class=\"nc\">compiler</span><span class=\"o\">/</span><span class=\"n\">rustc_macros</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">session_diagnostic</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">116</span>:<span class=\"mi\">33</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"mi\">116</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">       </span><span class=\"p\">(</span><span class=\"cp\">$span</span>:<span class=\"nc\">expr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$msg</span>:<span class=\"nc\">expr</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">{{</span><span class=\"w\"> </span><span class=\"n\">throw_span_err</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"cp\">$span</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$msg</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">diag</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">diag</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">}};</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">                                   </span><span class=\"o\">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><span class=\"w\"></span>\n<span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"mi\">462</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\">                                             </span><span class=\"n\">throw_span_err</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"mi\">463</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">                                                 </span><span class=\"n\">info</span><span class=\"p\">.</span><span class=\"n\">span</span><span class=\"p\">.</span><span class=\"n\">clone</span><span class=\"p\">().</span><span class=\"n\">unwrap</span><span class=\"p\">(),</span><span class=\"w\"></span>\n<span class=\"mi\">464</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">                                                 </span><span class=\"s\">\"type of field annotated with `#[suggestion(...)]` contains more than one Applicability\"</span><span class=\"w\"></span>\n<span class=\"mi\">465</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">                                             </span><span class=\"p\">);</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">______________________________________________</span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"kr\">macro</span><span class=\"w\"> </span><span class=\"n\">invocation</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">note</span>: <span class=\"nc\">this</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"n\">originates</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"kr\">macro</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">Nightly</span><span class=\"w\"> </span><span class=\"n\">builds</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"kr\">macro</span><span class=\"o\">-</span><span class=\"n\">backtrace</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">more</span><span class=\"w\"> </span><span class=\"n\">info</span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"n\">error</span>: <span class=\"nc\">aborting</span><span class=\"w\"> </span><span class=\"n\">due</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"n\">previous</span><span class=\"w\"> </span><span class=\"n\">errors</span><span class=\"w\"></span>\n\n<span class=\"n\">error</span>: <span class=\"nc\">could</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">compile</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">rustc_macros</span><span class=\"err\">`</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 214224050,
        "sender_full_name": "blitzerr",
        "timestamp": 1603389408
    },
    {
        "content": "<p>This is what I get from the Github CI failure.</p>",
        "id": 214224098,
        "sender_full_name": "blitzerr",
        "timestamp": 1603389432
    },
    {
        "content": "<p>Trying to resolve the local first, I think this is the cause:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"mi\">11</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"n\">macro_rules</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"n\">panic</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"mi\">12</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s\">\"explicit panic\"</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">13</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$msg</span>:<span class=\"nc\">expr</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">rt</span>::<span class=\"n\">begin_panic</span><span class=\"p\">(</span><span class=\"cp\">$msg</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">14</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$msg</span>:<span class=\"nc\">expr</span><span class=\"p\">,)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"> </span><span class=\"cp\">$crate</span>::<span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"cp\">$msg</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"mi\">15</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">     </span><span class=\"p\">(</span><span class=\"cp\">$fmt</span>:<span class=\"nc\">expr</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$($arg</span>:<span class=\"nc\">tt</span><span class=\"p\">)</span><span class=\"o\">+</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"n\">__________________________________</span><span class=\"o\">^</span><span class=\"w\"></span>\n<span class=\"mi\">16</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\">         </span><span class=\"cp\">$crate</span>::<span class=\"n\">rt</span>::<span class=\"n\">begin_panic_fmt</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"cp\">$crate</span>::<span class=\"n\">format_args</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"cp\">$fmt</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"cp\">$($arg</span><span class=\"p\">)</span><span class=\"o\">+</span><span class=\"p\">))</span><span class=\"w\"></span>\n<span class=\"mi\">17</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\">     </span><span class=\"p\">});</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"n\">_____</span><span class=\"o\">^</span><span class=\"w\"></span>\n<span class=\"mi\">18</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\">  </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 214224260,
        "sender_full_name": "blitzerr",
        "timestamp": 1603389493
    },
    {
        "content": "<p>Which is triggered by <code> panic!(\"unexpected getentropy error: {}\", errno());</code></p>",
        "id": 214224363,
        "sender_full_name": "blitzerr",
        "timestamp": 1603389548
    },
    {
        "content": "<p>So I wrote an extremely simple test file:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">#![feature(never_type_fallback)]</span><span class=\"w\"></span>\n<span class=\"cp\">#![deny(fall_back_to_never_type)]</span><span class=\"w\"></span>\n\n<span class=\"c1\">// macro_rules! panic2 {</span>\n<span class=\"c1\">//     () =&gt; ({ $crate::panic!(\"explicit panic\") });</span>\n<span class=\"c1\">//     ($msg:expr) =&gt; ({ $crate::rt::begin_panic($msg) });</span>\n<span class=\"c1\">//     ($msg:expr,) =&gt; ({ $crate::panic!($msg) });</span>\n<span class=\"c1\">//     ($fmt:expr, $($arg:tt)+) =&gt; ({</span>\n<span class=\"c1\">//         $crate::rt::begin_panic_fmt(&amp;$crate::format_args!($fmt, $($arg)+))</span>\n<span class=\"c1\">//     });</span>\n<span class=\"c1\">// }</span>\n<span class=\"k\">use</span><span class=\"w\"> </span><span class=\"n\">std</span>::<span class=\"n\">io</span>::<span class=\"n\">Error</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"k\">fn</span> <span class=\"nf\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s\">\"unexpected getentropy error: {}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Error</span>::<span class=\"n\">last_os_error</span><span class=\"p\">());}</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 214224441,
        "sender_full_name": "blitzerr",
        "timestamp": 1603389582
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span></p>",
        "id": 214233746,
        "sender_full_name": "blitzerr",
        "timestamp": 1603393584
    },
    {
        "content": "<p>Sorry, I added the details of failures here <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 214233778,
        "sender_full_name": "blitzerr",
        "timestamp": 1603393601
    },
    {
        "content": "<p>yeah I'm looking</p>",
        "id": 214233863,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603393649
    },
    {
        "content": "<p>I am also compiling your new PR</p>",
        "id": 214233866,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603393653
    },
    {
        "content": "<p>I forgot it was a new branch</p>",
        "id": 214233873,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603393655
    },
    {
        "content": "<p>Ya, I could n't merge on the previous one. Was getting conflicts in sub-modules</p>",
        "id": 214233999,
        "sender_full_name": "blitzerr",
        "timestamp": 1603393695
    },
    {
        "content": "<p>So</p>",
        "id": 214234065,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603393723
    },
    {
        "content": "<p>the test file I guess doesn't trigger?</p>",
        "id": 214234081,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603393731
    },
    {
        "content": "<p>I'm building now but I have to build LLVM again :(</p>",
        "id": 214234131,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603393755
    },
    {
        "content": "<p>Did you make it \"allow by default\", <span class=\"user-mention\" data-user-id=\"128294\">@blitzerr</span> ?</p>",
        "id": 214234166,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603393781
    },
    {
        "content": "<p>also, do you have a local build? we could connect via zom and you could share your screen if you want</p>",
        "id": 214234201,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603393797
    },
    {
        "content": "<p>It does not generate the warnings.</p>",
        "id": 214234204,
        "sender_full_name": "blitzerr",
        "timestamp": 1603393801
    },
    {
        "content": "<p>Ya it is allow by default in the PR. But it is <code>warn</code> on my local.</p>",
        "id": 214234267,
        "sender_full_name": "blitzerr",
        "timestamp": 1603393819
    },
    {
        "content": "<p>sounds good</p>",
        "id": 214234288,
        "sender_full_name": "blitzerr",
        "timestamp": 1603393830
    },
    {
        "content": "<p>oh, man, it makes it all the way into librustc?</p>",
        "id": 214234293,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603393836
    },
    {
        "content": "<p>I also tried the objc crate</p>",
        "id": 214234298,
        "sender_full_name": "blitzerr",
        "timestamp": 1603393839
    },
    {
        "content": "<p>It does <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 214234325,
        "sender_full_name": "blitzerr",
        "timestamp": 1603393849
    },
    {
        "content": "<p>I on the the meeting</p>",
        "id": 214234342,
        "sender_full_name": "blitzerr",
        "timestamp": 1603393859
    },
    {
        "content": "<p>The zoom one.</p>",
        "id": 214234354,
        "sender_full_name": "blitzerr",
        "timestamp": 1603393865
    },
    {
        "content": "<p>ok let me join</p>",
        "id": 214234370,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603393876
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"128294\">@blitzerr</span> can you send me that test?</p>",
        "id": 214240484,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603396679
    },
    {
        "content": "<p>the one that did not reproduce the problem :)</p>",
        "id": 214240536,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603396687
    },
    {
        "content": "<p>I've got a build going at least</p>",
        "id": 214240541,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603396690
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">#![feature(never_type_fallback)]</span><span class=\"w\"></span>\n<span class=\"cp\">#![deny(fall_back_to_never_type)]</span><span class=\"w\"></span>\n\n<span class=\"c1\">// macro_rules! panic2 {</span>\n<span class=\"c1\">//     () =&gt; ({ $crate::panic!(\"explicit panic\") });</span>\n<span class=\"c1\">//     ($msg:expr) =&gt; ({ $crate::rt::begin_panic($msg) });</span>\n<span class=\"c1\">//     ($msg:expr,) =&gt; ({ $crate::panic!($msg) });</span>\n<span class=\"c1\">//     ($fmt:expr, $($arg:tt)+) =&gt; ({</span>\n<span class=\"c1\">//         $crate::rt::begin_panic_fmt(&amp;$crate::format_args!($fmt, $($arg)+))</span>\n<span class=\"c1\">//     });</span>\n<span class=\"c1\">// }</span>\n<span class=\"k\">use</span><span class=\"w\"> </span><span class=\"n\">std</span>::<span class=\"n\">io</span>::<span class=\"n\">Error</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"k\">fn</span> <span class=\"nf\">foo</span><span class=\"p\">()</span><span class=\"w\"> </span>-&gt; <span class=\"kt\">bool</span> <span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"nb\">Some</span><span class=\"p\">(</span><span class=\"mi\">22</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"o\">|</span><span class=\"n\">_x</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">..</span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">                </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">ret</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">unsafe</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"mi\">44</span><span class=\"w\"> </span><span class=\"p\">};</span><span class=\"w\"></span>\n<span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">                    </span><span class=\"n\">panic</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s\">\"unexpected getentropy error: {}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Error</span>::<span class=\"n\">last_os_error</span><span class=\"p\">());</span><span class=\"w\"></span>\n<span class=\"w\">                </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"kc\">true</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">})</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">.</span><span class=\"n\">unwrap_or</span><span class=\"p\">(</span><span class=\"kc\">false</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n\n<span class=\"k\">fn</span> <span class=\"nf\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">foo</span><span class=\"p\">();</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 214240599,
        "sender_full_name": "blitzerr",
        "timestamp": 1603396720
    },
    {
        "content": "<p>actually wait</p>",
        "id": 214240627,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603396734
    },
    {
        "content": "<p><code>panic_macro_fallback.rs</code></p>",
        "id": 214240643,
        "sender_full_name": "blitzerr",
        "timestamp": 1603396743
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">declare_lint</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"c1\">//TODO: Add explanation.</span>\n<span class=\"w\">    </span><span class=\"k\">pub</span><span class=\"w\"> </span><span class=\"n\">FALL_BACK_TO_NEVER_TYPE</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Deny</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"s\">\"Unresolved variable might fall back to never_type `!`\"</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 214240649,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603396745
    },
    {
        "content": "<p>so that is what I see <em>locally</em></p>",
        "id": 214240669,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603396755
    },
    {
        "content": "<p>and I don't get any errors building libstd</p>",
        "id": 214240739,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603396800
    },
    {
        "content": "<p>however, when I build with <code>--stage 2</code></p>",
        "id": 214240785,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603396805
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>error: resulted from diverging fallback: ()\n   --&gt; compiler/rustc_macros/src/session_diagnostic.rs:116:33\n    |\n116 |       ($span:expr, $msg:expr) =&gt; {{ throw_span_err!($span, $msg, |diag| diag) }};\n    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n...\n450 | /                                             throw_span_err!(\n451 | |                                                 info.span.clone().unwrap(),\n452 | |                                                 &quot;type of field annotated with `#[suggestion(...)]` contains more t\\\nhan one Span&quot;\n453 | |                                             );\n    | |______________________________________________- in this macro invocation\n    |\n    = note: `#[deny(fall_back_to_never_type)]` on by default\n    = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n</code></pre></div>",
        "id": 214240817,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603396818
    },
    {
        "content": "<p>I see that</p>",
        "id": 214240823,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603396820
    },
    {
        "content": "<p>same as CI</p>",
        "id": 214240837,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603396823
    },
    {
        "content": "<p>naturally I can't reproduce that problem in a local test</p>",
        "id": 214241177,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603396972
    },
    {
        "content": "<p>that is, a minimized test</p>",
        "id": 214241214,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603396994
    },
    {
        "content": "<p>I see. That makes sense.</p>",
        "id": 214241216,
        "sender_full_name": "blitzerr",
        "timestamp": 1603396995
    },
    {
        "content": "<p>but point is I don't see anything in libstd</p>",
        "id": 214241285,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603397026
    },
    {
        "content": "<p>that's a bit confusing</p>",
        "id": 214241294,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603397030
    },
    {
        "content": "<p>I was giving the errors building  the tests and stage1 compilation didn't fail.</p>",
        "id": 214241309,
        "sender_full_name": "blitzerr",
        "timestamp": 1603397037
    },
    {
        "content": "<p>however</p>",
        "id": 214241396,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603397064
    },
    {
        "content": "<p>I can reproduce the problems building librustc_macros easily enough</p>",
        "id": 214241415,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603397074
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"128294\">blitzerr</span> <a href=\"#narrow/stream/259160-t-lang.2Fproject-never-type/topic/meeting.202020-oct-15/near/214241309\">said</a>:</p>\n<blockquote>\n<p>I was giving the errors building  the tests and stage1 compilation didn't fail.</p>\n</blockquote>\n<p>ah hmm</p>",
        "id": 214241431,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603397082
    },
    {
        "content": "<p>interesting</p>",
        "id": 214241445,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603397086
    },
    {
        "content": "<p>Maybe I can wipe off everything and try. I did do a clean earlier.</p>",
        "id": 214241446,
        "sender_full_name": "blitzerr",
        "timestamp": 1603397087
    },
    {
        "content": "<p>it might be related to <code>#[cfg(test)]</code> or something</p>",
        "id": 214241455,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603397095
    },
    {
        "content": "<p>anyway probably better to debug the librustc_macros case</p>",
        "id": 214241475,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603397103
    },
    {
        "content": "<p>because that crate is small and relatively easy to deal with</p>",
        "id": 214241489,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603397110
    },
    {
        "content": "<p>sounds good</p>",
        "id": 214241515,
        "sender_full_name": "blitzerr",
        "timestamp": 1603397127
    },
    {
        "content": "<p>It was weird, first time (after <code>rm -rf</code> on the <code>build</code> dir) all the library build passed for me and build for tests passed as well but some tests failed.<br>\nBut then when I do a build again it failed at the earlier place we both looked into last night</p>",
        "id": 214335423,
        "sender_full_name": "blitzerr",
        "timestamp": 1603470791
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span></p>",
        "id": 214335461,
        "sender_full_name": "blitzerr",
        "timestamp": 1603470814
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"128294\">@blitzerr</span></p>",
        "id": 215012946,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1603998126
    },
    {
        "content": "<p>hi <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span></p>",
        "id": 215013008,
        "sender_full_name": "blitzerr",
        "timestamp": 1603998171
    }
]