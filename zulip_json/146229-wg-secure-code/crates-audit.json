[
    {
        "content": "<p>I have a website showing an MVP of the <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> wide audit: <a href=\"https://crates-audit.zach297.com\" target=\"_blank\" title=\"https://crates-audit.zach297.com\">https://crates-audit.zach297.com</a></p>",
        "id": 136788569,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540917278
    },
    {
        "content": "<p>Any chance of sort-ability by download count?</p>",
        "id": 136807391,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1540933851
    },
    {
        "content": "<p>That's a good idea.</p>",
        "id": 136808937,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540935481
    },
    {
        "content": "<p>I switched my <a href=\"https://gitlab.com/zachreizner/crates-audit\" target=\"_blank\" title=\"https://gitlab.com/zachreizner/crates-audit\">gitlab repo</a> to public.</p>",
        "id": 136809379,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540935952
    },
    {
        "content": "<p>Currently the audit output looks like <a href=\"https://crates-audit.zach297.com/audit-114166018.json\" target=\"_blank\" title=\"https://crates-audit.zach297.com/audit-114166018.json\">this</a>. There is purposefully very little information beyond what packages are depending on vulnerable crates. I wanted to keep the initial version small while we decided what was important.</p>",
        "id": 136809663,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540936245
    },
    {
        "content": "<p>Does this operate on <code>Cargo.toml</code> or <code>Cargo.lock</code>? If it's the former, it might be useful to explore the full set of valid packages. E.g., if I have a dependency on <code>foo</code> version <code>0.1.0</code>, any vuln in the <code>0.1.x</code> train should be flagged since any of those versions are valid according to Cargo.</p>",
        "id": 136809766,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936357
    },
    {
        "content": "<p>it operates on the <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> index</p>",
        "id": 136809779,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540936376
    },
    {
        "content": "<p>Ah, this doesn't operate on a particular crate's dependencies?</p>",
        "id": 136809796,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936392
    },
    {
        "content": "<p>It does operate on the crate dependencies.</p>",
        "id": 136809807,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540936415
    },
    {
        "content": "<p>So my point is: When it's evaluating a given crate's dependencies, it should evaluate any of the versions of those dependencies which are consistent with its <code>Cargo.toml</code> file.</p>",
        "id": 136809861,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936446
    },
    {
        "content": "<p>Because, depending on the dependencies of other crates in the same build graph, any of those versions might be selected by Cargo at build time.</p>",
        "id": 136809871,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936464
    },
    {
        "content": "<p>That's an interesting line of thought.</p>",
        "id": 136809877,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540936470
    },
    {
        "content": "<p>I can see it going either way. Currently the resolver in crates-audit will just use the latest version that will satisfy a dependency.</p>",
        "id": 136809898,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540936507
    },
    {
        "content": "<p>Also, does the RustSec DB identify versions or version ranges?</p>",
        "id": 136809903,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936514
    },
    {
        "content": "<p>E.g., I could imagine a vuln discovered in version <code>0.1.1</code> that, in practice, also affects <code>0.1.0</code>, but RustSec doesn't say that <code>0.1.0</code> is vulnerable.</p>",
        "id": 136809916,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936548
    },
    {
        "content": "<p>RustSec uses ranges</p>",
        "id": 136809924,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540936560
    },
    {
        "content": "<p>OK cool</p>",
        "id": 136809965,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936565
    },
    {
        "content": "<p>e.g. <a href=\"https://rustsec.org/advisories/RUSTSEC-2018-0007.html\" target=\"_blank\" title=\"https://rustsec.org/advisories/RUSTSEC-2018-0007.html\">https://rustsec.org/advisories/RUSTSEC-2018-0007.html</a></p>",
        "id": 136809971,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540936572
    },
    {
        "content": "<p>Unless a package falls in the unaffects or patches range, it's considered vuln.</p>",
        "id": 136809974,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540936590
    },
    {
        "content": "<p>An example of a <a href=\"https://rustsec.org/advisories/RUSTSEC-2018-0005.html\" target=\"_blank\" title=\"https://rustsec.org/advisories/RUSTSEC-2018-0005.html\">advisory</a> with unaffected versions.</p>",
        "id": 136809988,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540936620
    },
    {
        "content": "<p>OK cool. That information should be detailed enough to figure out whether or not a <code>Cargo.toml</code> names versions which <em>could</em> be vulnerable.</p>",
        "id": 136810067,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936724
    },
    {
        "content": "<p>So my thinking on this is that it would cause a bit too much github issue traffic.</p>",
        "id": 136810083,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540936754
    },
    {
        "content": "<p>Btw, I haven't implemented that part yet because I think we need to lay out a solid policy.</p>",
        "id": 136810090,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540936766
    },
    {
        "content": "<p>Yeah so my thinking is that you could just modify your <code>Cargo.toml</code> to identify the patched version as the minimum.</p>",
        "id": 136810113,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936792
    },
    {
        "content": "<p>I agree it might cause some GH issue traffic.</p>",
        "id": 136810115,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936799
    },
    {
        "content": "<p>Is your thinking to have this auto-submit issues?</p>",
        "id": 136810159,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936806
    },
    {
        "content": "<p>That was what I was thinking.</p>",
        "id": 136810172,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540936819
    },
    {
        "content": "<p>That's a really cool idea.</p>",
        "id": 136810183,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936829
    },
    {
        "content": "<p>But I thought that was the plan of record.</p>",
        "id": 136810191,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540936839
    },
    {
        "content": "<p>I don't think there's any \"record\" here lol</p>",
        "id": 136810200,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936850
    },
    {
        "content": "<p>At least that I've seen.</p>",
        "id": 136810203,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936854
    },
    {
        "content": "<p>I'm referring to the post on \"actionable work items\" stream</p>",
        "id": 136810242,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540936892
    },
    {
        "content": "<p>Ah, you're right. I'd forgotten that detail.</p>",
        "id": 136810262,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540936918
    },
    {
        "content": "<p>A follow-up discussion here is about recursive dependencies. In particular, what do we do about <code>foo</code> which depends on a version of <code>bar</code> which depends on a vulnerable version of <code>baz</code>?</p>",
        "id": 136811722,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540938542
    },
    {
        "content": "<p>It depends. Is your goal informing people of risk in their deps, or driving action on maintainer?</p>\n<p>If it's informing people of risk, than you warn both <code>foo</code> and <code>bar</code>. If it's driving action for maintainers I think you complain to <code>foo</code> if there exists a version of <code>bar</code> that resolves the issue. If <code>bar</code> hasn't resolved the issue then you only complain to them.</p>",
        "id": 136811826,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1540938629
    },
    {
        "content": "<p>I think the latter makes sense. Complaining to a crate author when there's nothing they can do seems unwise from a PR and alert fatigue perspective.</p>",
        "id": 136811864,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540938678
    },
    {
        "content": "<p>Let's say bar upgrades and is now vulnerable. Do you inform foo?</p>",
        "id": 136811933,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540938727
    },
    {
        "content": "<p>Yes, I think so.</p>",
        "id": 136811962,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1540938807
    },
    {
        "content": "<p>Longer-term, it might be worth allowing individual crates to opt into more verbose warnings, e.g. via a <code>.cargo-audit</code> file.</p>",
        "id": 136812014,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540938866
    },
    {
        "content": "<p>Speaking personally, there are some crates I maintain where I'd want to know about vulnerable dependencies so I could either poke their authors or take action on my own to patch the issue temporarily.</p>",
        "id": 136812025,
        "sender_full_name": "Joshua Liebow-Feeser",
        "timestamp": 1540938902
    },
    {
        "content": "<p>On the topic of configuration, I think it would make sense to put the settings into a centralized repository rather than in the repo of the crate.</p>",
        "id": 136812060,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540938945
    },
    {
        "content": "<p>For cases the author wants to opt into more verbosity, they can always just run cargo-audit themselves, right?</p>",
        "id": 136812135,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1540939016
    },
    {
        "content": "<p>Agreed</p>",
        "id": 136812150,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540939030
    },
    {
        "content": "<p>re crate configuration: I made the design choice for crates-audit to have reproducible output. Given a <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> index commit and a rustsec advisory-db commit, the output should always be the same audit result file.</p>",
        "id": 136812242,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540939135
    },
    {
        "content": "<p>And then on top of that you script the github API to get the latest version of each on cron. Seems pretty good.</p>",
        "id": 136812271,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1540939168
    },
    {
        "content": "<p>It would slow the audit process and make it less reproducible if the results depended on commit of each crate.</p>",
        "id": 136812272,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540939171
    },
    {
        "content": "<p>Also, there isn't a good mapping between crates and git repos. A published crate could possibly not even have a repo because the publisher just uploads a tarball of their source tree.</p>",
        "id": 136812412,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540939270
    },
    {
        "content": "<blockquote>\n<p>And then on top of that you script the github API to get the latest version of each on cron. Seems pretty good.</p>\n</blockquote>\n<p>I should note that that is the plan. As it's currently implemented, it just uses master of each. I should submit an issue...</p>",
        "id": 136812510,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1540939355
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"132362\">@Joshua Liebow-Feeser</span> RustSec presently uses the <code>semver</code> crate's <code>VersionReq</code> for specifying versions which are or are not vulnerable, however it could probably use its own requirements with its own matcher</p>",
        "id": 136957885,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1541115497
    },
    {
        "content": "<p>and the tool itself operates on <code>Cargo.lock</code> which already has all of the transitive dependencies resolved</p>",
        "id": 136957890,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1541115513
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"132723\">@Zach Reizner</span> neat re: <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> scanner!</p>",
        "id": 136957901,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1541115538
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 136957915,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1541115554
    },
    {
        "content": "<p>I've been running the crates-audit infrastructure using gitlab's free pipelines, the free tier of google cloud, and a free cloudflare account, but the only thing I can't get for free is a proper domain for audits page. I've been hosting it on my personal projects domain, but it would be nice to put it in a proper place.</p>",
        "id": 146820674,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1541448703
    },
    {
        "content": "<p>Perhaps it could go under a subdomain of <a href=\"http://rustsec.org\" target=\"_blank\" title=\"http://rustsec.org\">rustsec.org</a>? What do you think?</p>",
        "id": 146820736,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1541448741
    },
    {
        "content": "<p>What is the target audience of that page? Especially in the light of filing github or gitlab issues directly in the future?</p>",
        "id": 146820800,
        "sender_full_name": "Shnatsel",
        "timestamp": 1541448824
    },
    {
        "content": "<p>That's a good question.</p>",
        "id": 146820862,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1541448851
    },
    {
        "content": "<p>Mainly, I don't have code for filing issues yet, and we haven't established what the policy for something that will even be.</p>",
        "id": 146820910,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1541448904
    },
    {
        "content": "<p>Subdomain of <a href=\"http://rustsec.org\" target=\"_blank\" title=\"http://rustsec.org\">rustsec.org</a> actually sounds good to me assuming we want to display it publicly. I'm not sure we do, though, and how discoverable it should be. If we want maximum discoverability we should just feed that info into <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> directly</p>",
        "id": 146820919,
        "sender_full_name": "Shnatsel",
        "timestamp": 1541448911
    },
    {
        "content": "<p>So the page is good for people that want to see if a crate that they are considering using currently has advisories.</p>",
        "id": 146820926,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1541448922
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"132721\">@Tony Arcieri</span> you're the owner of the <a href=\"http://rustsec.org\" target=\"_blank\" title=\"http://rustsec.org\">rustsec.org</a> domain, right?</p>",
        "id": 146821025,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1541449009
    },
    {
        "content": "<p>In that case I'd go for a <a href=\"http://rustsec.org\" target=\"_blank\" title=\"http://rustsec.org\">rustsec.org</a> subdomain as an intermediate step. It should probably be integrated with <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> after some testing and once we figure out notification policy.</p>",
        "id": 146821279,
        "sender_full_name": "Shnatsel",
        "timestamp": 1541449297
    },
    {
        "content": "<p>Yes. I can point a subdomain somewhere if you'd like</p>",
        "id": 146821335,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1541449326
    },
    {
        "content": "<p>Who maintains <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a>? How do you know that they want this functionality?</p>",
        "id": 146821360,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1541449366
    },
    {
        "content": "<p><a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> is maintained by the Infrastructure Team</p>",
        "id": 146821468,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1541449493
    },
    {
        "content": "<blockquote>\n<p>Yes. I can point a subdomain somewhere if you'd like</p>\n</blockquote>\n<p>That would be cool. I'm using domain-named buckets for hosting the static content and the audit file, so I would need to confirm ownership for <a href=\"http://crates-audit.rustsec.org\" target=\"_blank\" title=\"http://crates-audit.rustsec.org\">crates-audit.rustsec.org</a>: <a href=\"https://cloud.google.com/storage/docs/domain-name-verification\" target=\"_blank\" title=\"https://cloud.google.com/storage/docs/domain-name-verification\">https://cloud.google.com/storage/docs/domain-name-verification</a></p>",
        "id": 146821602,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1541449643
    },
    {
        "content": "<p>After I create the bucket, then I need a CNAME DNS record to google storage: <a href=\"https://cloud.google.com/storage/docs/hosting-static-website\" target=\"_blank\" title=\"https://cloud.google.com/storage/docs/hosting-static-website\">https://cloud.google.com/storage/docs/hosting-static-website</a></p>",
        "id": 146821671,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1541449697
    },
    {
        "content": "<p>cool, I can take a look in a bit</p>",
        "id": 146821702,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1541449736
    },
    {
        "content": "<p>Cool, we can do this whenever you like.</p>",
        "id": 146821716,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1541449750
    },
    {
        "content": "<p>We can also meet up in person, assuming you are in the bay area as your github says.</p>",
        "id": 146821752,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1541449798
    },
    {
        "content": "<p>yeah</p>",
        "id": 146821803,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1541449806
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"132723\">@Zach Reizner</span> I can get you an extra $500 in free Google Cloud credit that will last for 1 year, if you can elaborate on what Google Cloud services you're using and what you're running on it.</p>",
        "id": 147557824,
        "sender_full_name": "Shnatsel",
        "timestamp": 1542064854
    },
    {
        "content": "<p>In fact, I could probably get this for anyone with a worthy cause, so feel free to ping me even if you're not Zach :)</p>",
        "id": 147557837,
        "sender_full_name": "Shnatsel",
        "timestamp": 1542064876
    },
    {
        "content": "<p>That's very generous <strong>Shnatsel</strong>, but I just nominated myself about an hour ago :)</p>",
        "id": 147557842,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1542064896
    },
    {
        "content": "<p>guess I'll drop this in here since it seems like the most relevant topic: <a href=\"https://internals.rust-lang.org/t/prototype-dev-tool-rustprazi-a-tool-to-build-an-entire-call-graph-of-crates-io/8912\" target=\"_blank\" title=\"https://internals.rust-lang.org/t/prototype-dev-tool-rustprazi-a-tool-to-build-an-entire-call-graph-of-crates-io/8912\">https://internals.rust-lang.org/t/prototype-dev-tool-rustprazi-a-tool-to-build-an-entire-call-graph-of-crates-io/8912</a></p>",
        "id": 148740263,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543436354
    },
    {
        "content": "<blockquote>\n<p>Security vulnerabilities: which crates in <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> are affected by a vulnerable function?</p>\n</blockquote>",
        "id": 148740269,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543436366
    },
    {
        "content": "<blockquote>\n<p>guess I'll drop this in here since it seems like the most relevant topic: <a href=\"https://internals.rust-lang.org/t/prototype-dev-tool-rustprazi-a-tool-to-build-an-entire-call-graph-of-crates-io/8912\" target=\"_blank\" title=\"https://internals.rust-lang.org/t/prototype-dev-tool-rustprazi-a-tool-to-build-an-entire-call-graph-of-crates-io/8912\">https://internals.rust-lang.org/t/prototype-dev-tool-rustprazi-a-tool-to-build-an-entire-call-graph-of-crates-io/8912</a></p>\n</blockquote>\n<p>That does seem interesting, and also reminds me that I never made any announcements about crates-audit.</p>",
        "id": 148740403,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543436501
    },
    {
        "content": "<p>I was gonna hold off until getting the domain situation worked out.</p>",
        "id": 148740410,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543436514
    },
    {
        "content": "<p>let me know what you need from my end, if you'd like to use a <a href=\"http://rustsec.org\" target=\"_blank\" title=\"http://rustsec.org\">rustsec.org</a> subdomain</p>",
        "id": 148740590,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543436739
    },
    {
        "content": "<p>also just mentioned your project on that thread, heh</p>",
        "id": 148740612,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543436759
    },
    {
        "content": "<p>I just suggested we could try to collect the relevant information in RustSec advisories to feed into their omnicallgraph and find impacted crates</p>",
        "id": 148740669,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543436792
    },
    {
        "content": "<p>It was two things that I needed for the subdomain: I need to prove ownership of the subdomain to rename my google bucket, and I need you to point the subdomain's DNS info to googlestorage. Enabling cloudflare caching for all content on the subdomain would also go a long way towards keeping my bandwidth usage to the free tier.</p>",
        "id": 148740791,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543436945
    },
    {
        "content": "<p>(And I recall that you use cloudflare for your DNS and caching, so it should be easy)</p>",
        "id": 148740817,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543436976
    },
    {
        "content": "<p>Yeah I have Cloudflare on there already, although that was just to get an X.509 cert easily, and I saw GitHub pages now has a Let's Encrypt integration and can do that itself</p>",
        "id": 148740881,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543437026
    },
    {
        "content": "<p>but uhh, whatever, can just use Cloudflare I guess</p>",
        "id": 148740926,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543437084
    },
    {
        "content": "<p>last I saw GCS doesn't have a similar integration</p>",
        "id": 148740951,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543437106
    },
    {
        "content": "<p>What is GCS in this context?</p>",
        "id": 148740987,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543437123
    },
    {
        "content": "<p>you're talking about Google Cloud Storage, right?</p>",
        "id": 148741011,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543437135
    },
    {
        "content": "<p>it can host content out of a bucket, and can do HTTPS with a user-provided cert</p>",
        "id": 148741023,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543437155
    },
    {
        "content": "<p>but the only turnkey way to have Google get you an LE cert, for now, seems to be Firebase</p>",
        "id": 148741035,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543437180
    },
    {
        "content": "<p>for something like Cloudflare it's easy enough to make a self-signed cert, upload the key to GCS, and then pin to the corresponding cert on the Cloudflare side</p>",
        "id": 148741116,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543437270
    },
    {
        "content": "<p>Oh I see, you're talking about certificate integration with GCS. I haven't looked into that much. I was just using cloudflare's built-in SSL.</p>",
        "id": 148741325,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543437521
    },
    {
        "content": "<p>what does GCS want to prove ownership of the (sub)domain?</p>",
        "id": 148741948,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543438040
    },
    {
        "content": "<p>and what subdomain do you want to use? <code>(crates-)audit.rustsec.org</code>?</p>",
        "id": 148741967,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543438063
    },
    {
        "content": "<p><a href=\"https://cloud.google.com/storage/docs/domain-name-verification\" target=\"_blank\" title=\"https://cloud.google.com/storage/docs/domain-name-verification\">https://cloud.google.com/storage/docs/domain-name-verification</a></p>",
        "id": 148743500,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543439175
    },
    {
        "content": "<p>I'm fine with <code>crates-audit.rustsec.org</code>.</p>",
        "id": 148743516,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543439188
    },
    {
        "content": "<p>Specifically, I need to serve a specific file at <code>http://crates-audit.rustsec.org/google654255fc38b85e41.html</code></p>",
        "id": 148743561,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543439228
    },
    {
        "content": "<p>the DV methods would probably be easiest for me... but I think you need to initiate them</p>",
        "id": 148744911,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543440347
    },
    {
        "content": "<p>Click the gear icon , and then click Users &amp; Property Owners.<br>\nClick Manage property owners, and then click Verify using a different method.<br>\nVerify your property again using the new method.</p>",
        "id": 148744966,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543440370
    },
    {
        "content": "<p>I'm not sure where this gear icon you're talking about is, but I did find the \"Alternative Methods\" tab in the \"Webmaster Central\" site that I'm using.<br>\nThe \"Domain Name Provider\" method says to add a TXT record for <a href=\"http://rustsec.org\" target=\"_blank\" title=\"http://rustsec.org\">rustsec.org</a>: \"google-site-verification=bDHZYm3GoFxu4yB8mBiNSUfw7fbG--6tI44bssyeIkA\"</p>",
        "id": 148745277,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543440637
    },
    {
        "content": "<p>Unclear if that verifies me for all of <code>rustsec.org</code> or just <code>crates-audit.rustsec.org</code></p>",
        "id": 148745307,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543440665
    },
    {
        "content": "<p>I can try adding it on the subdomain first I guess?</p>",
        "id": 148753024,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543448675
    },
    {
        "content": "<p>sure, let me know and I'll hit verify</p>",
        "id": 148753037,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543448717
    },
    {
        "content": "<p>ok I added it to <code>crates.rustsec.org</code> <span class=\"emoji emoji-1f609\" title=\"wink\">:wink:</span></p>",
        "id": 148754671,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543450733
    },
    {
        "content": "<p>(after trying <code>crates-audit.rustsec.org</code> and thinking it looked a bit long)</p>",
        "id": 148754683,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543450752
    },
    {
        "content": "<p>The TXT record is different for <code>crates.rustsec.org</code>: <code>google-site-verification=3MmthI1MdZ9tbgUmlmAOUIvcrw32vrit2jXuDlJgjBg</code></p>",
        "id": 148760071,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543457892
    },
    {
        "content": "<p>ok, added, might take a bit to propagate</p>",
        "id": 148763972,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543464543
    },
    {
        "content": "<p>(since the old one might be cached)</p>",
        "id": 148763978,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543464560
    },
    {
        "content": "<p>it seemed to work</p>",
        "id": 148763979,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543464572
    },
    {
        "content": "<p>nice</p>",
        "id": 148764299,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543465183
    },
    {
        "content": "<p>There also needs to be a cname for that subdomain: <a href=\"https://cloud.google.com/storage/docs/hosting-static-website#cname\" target=\"_blank\" title=\"https://cloud.google.com/storage/docs/hosting-static-website#cname\">https://cloud.google.com/storage/docs/hosting-static-website#cname</a></p>",
        "id": 148764911,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543466169
    },
    {
        "content": "<p>added as well</p>",
        "id": 148765104,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543466537
    },
    {
        "content": "<p>looks like you probably need to make <code>allUsers</code> a <code>Storage Object Viewer</code> on the bucket perms? &lt;Error&gt;<br>\n&lt;Code&gt;AccessDenied&lt;/Code&gt;<br>\n&lt;Message&gt;Access denied.&lt;/Message&gt;<br>\n&lt;Details&gt;<br>\nAnonymous caller does not have storage.objects.list access to <a href=\"http://crates.rustsec.org\" target=\"_blank\" title=\"http://crates.rustsec.org\">crates.rustsec.org</a>.<br>\n&lt;/Details&gt;<br>\n&lt;/Error&gt;</p>",
        "id": 148765316,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543466944
    },
    {
        "content": "<p>Yep, I haven't set up the bucket yet so that's expected.</p>",
        "id": 148765580,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543467420
    },
    {
        "content": "<p>(I have to make a new bucket for that domain and transfer everything over, as well as reconfigure my cloud functions to point at the new bucket)</p>",
        "id": 148765594,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543467468
    },
    {
        "content": "<p>If you like, I think I can add you to the project on Google Cloud.</p>",
        "id": 148765634,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543467493
    },
    {
        "content": "<p>sweet, yeah the IAM on GCP is pretty nice</p>",
        "id": 148765734,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543467679
    },
    {
        "content": "<p>Ok, it should be up now</p>",
        "id": 148767303,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543470591
    },
    {
        "content": "<p>And I added you as an admin to the bucket.</p>",
        "id": 148767713,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543471397
    },
    {
        "content": "<p>nice! yeah seems to be working</p>",
        "id": 148767880,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543471689
    },
    {
        "content": "<p>added an \"Always Use https://\" page rule for it too</p>",
        "id": 148767954,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543471813
    },
    {
        "content": "<p>Nice, was just about to ask.</p>",
        "id": 148767959,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1543471833
    },
    {
        "content": "<p>what'd be really awesome with something like  RustPr√§zi  is a way to diff two different releases of the same crate</p>",
        "id": 148813267,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543520954
    },
    {
        "content": "<p>I wonder, did <a href=\"https://github.com/RustSec/rustsec-crate/issues/51\" target=\"_blank\" title=\"https://github.com/RustSec/rustsec-crate/issues/51\">https://github.com/RustSec/rustsec-crate/issues/51</a> affect crates-audit? 1000 vulnerable crates sounds like a lot. Or maybe I just don't understand the dependency resolution well enough</p>",
        "id": 152072971,
        "sender_full_name": "Shnatsel",
        "timestamp": 1545089920
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"132721\">@Tony Arcieri</span> I noticed that the cloudflare config for <a href=\"https://crates.rustsec.org/\" target=\"_blank\" title=\"https://crates.rustsec.org/\">https://crates.rustsec.org/</a> has max-age  set to  7 days (604800 seconds). Crates vulnerable to RUSTSEC-2018-0009  still haven't shown up on the site because of this.</p>",
        "id": 152077371,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1545095458
    },
    {
        "content": "<p>I can look into adjusting that, however to me that sounds like something where you'd want the origin server to signal an appropriate TTL?</p>",
        "id": 152077617,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545095849
    },
    {
        "content": "<p>I have the gcs configured to max-age=3600</p>",
        "id": 152077664,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1545095886
    },
    {
        "content": "<p>Oh, never mind, I am an idiot. The javascript still has the old <a href=\"http://crates-audit.zach297.com\" target=\"_blank\" title=\"http://crates-audit.zach297.com\">crates-audit.zach297.com</a> URL hardcoded for retrieving audits</p>",
        "id": 152077805,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1545096183
    },
    {
        "content": "<p>(And I got confused between expect-ct: (which has the long max-age) and cache-control: (which is correct) headers when debugging)</p>",
        "id": 152077845,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1545096242
    },
    {
        "content": "<p>So you don't have to do anything, I'll fix it.</p>",
        "id": 152077865,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1545096249
    },
    {
        "content": "<p>Ok, should be fixed now.</p>",
        "id": 152085973,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1545109413
    },
    {
        "content": "<p>One interesting thing I discovered is that cloudflare will not cache HTML by default. Go figure.</p>",
        "id": 152086089,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1545109681
    },
    {
        "content": "<p>haha yeah we can probably get rid of Cloudflare if you have another way of provisioning a cert</p>",
        "id": 152086284,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545110019
    },
    {
        "content": "<p>I was planning on moving off of it anyway, since the only reason I was using it was to get a TLS certificate</p>",
        "id": 152086337,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545110064
    },
    {
        "content": "<p>but now GitHub has that integrated</p>",
        "id": 152086340,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545110075
    },
    {
        "content": "<p>only problem with GitHub's implementation is no HSTS <span class=\"emoji emoji-1f622\" title=\"cry\">:cry:</span></p>",
        "id": 152086343,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545110089
    },
    {
        "content": "<p>If you want to get rid of it, that's fine with me. I don't think it will ever get enough traffic to blow the free tier.</p>",
        "id": 152088043,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1545113119
    },
    {
        "content": "<p>Although now that I think about it, I don't know how to setup SSL for GCS without cloudflare.</p>",
        "id": 152088170,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1545113287
    },
    {
        "content": "<p>oh right you're doing it off gcs</p>",
        "id": 152088607,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545114141
    },
    {
        "content": "<p>I believe they recently added built-in cert provisioning for their load balancers</p>",
        "id": 152088610,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545114179
    },
    {
        "content": "<p>not sure about GCS itself</p>",
        "id": 152088616,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545114187
    },
    {
        "content": "<p>I think it's just a Let's Encrypt integration</p>",
        "id": 152088617,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545114195
    },
    {
        "content": "<p>just confirmed it's there</p>",
        "id": 152089872,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545116404
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/UEBORySTIH44wOVo05QGFnAr/Screen-Shot-2018-12-17-at-10.59.25-PM.png\" target=\"_blank\" title=\"Screen-Shot-2018-12-17-at-10.59.25-PM.png\">Screen-Shot-2018-12-17-at-10.59.25-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/UEBORySTIH44wOVo05QGFnAr/Screen-Shot-2018-12-17-at-10.59.25-PM.png\" target=\"_blank\" title=\"Screen-Shot-2018-12-17-at-10.59.25-PM.png\"><img src=\"/user_uploads/4715/UEBORySTIH44wOVo05QGFnAr/Screen-Shot-2018-12-17-at-10.59.25-PM.png\"></a></div>",
        "id": 152089883,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545116416
    },
    {
        "content": "<p>so create a new external IP address, tell me that, then create an HTTPS load balancer which uses that address, has a Google-managed cert for <a href=\"http://crates.rustsec.org\" target=\"_blank\" title=\"http://crates.rustsec.org\">crates.rustsec.org</a>, and point the backend at the GCS bucket</p>",
        "id": 152089909,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545116491
    },
    {
        "content": "<p>Idea: use gitlab pages to publish the audit. It supports custom domains and also SSL by uploading a pub/private key pair. It's also free.</p>",
        "id": 152227552,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1545270442
    },
    {
        "content": "<p>I already have it working using the <a href=\"http://gitlab.io\" target=\"_blank\" title=\"http://gitlab.io\">gitlab.io</a> subdomain: <a href=\"https://zachreizner.gitlab.io/crates-audit/\" target=\"_blank\" title=\"https://zachreizner.gitlab.io/crates-audit/\">https://zachreizner.gitlab.io/crates-audit/</a></p>",
        "id": 152227559,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1545270467
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"132723\">@Zach Reizner</span> wherever you want to host it is fine by me... just tell me where to point DNS</p>",
        "id": 152228527,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545271888
    },
    {
        "content": "<p>do they natively support getting a Let's Encrypt cert for a custom subdomain like GitHub?</p>",
        "id": 152228537,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545271921
    },
    {
        "content": "<p>because I'd really like to get rid of Cloudflare, heh</p>",
        "id": 152228576,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545271929
    },
    {
        "content": "<p>(I have largely transitioned my other projects to using GitHub Pages integrated HTTPS support now)</p>",
        "id": 152228585,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545271972
    },
    {
        "content": "<p>the only thing I don't like about them is their \"Enforce HTTPS\" option doesn't set HSTS</p>",
        "id": 152228592,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545271996
    },
    {
        "content": "<p>(GitHub, that is)</p>",
        "id": 152228597,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1545272015
    },
    {
        "content": "<p>It seems they have no native support, but they at least have an official tutorial</p>",
        "id": 152229001,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1545272725
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"132723\">@Zach Reizner</span> could you clarify how dependency resolution for crates-audit works? I see over 1000 crates marked as vulnerable at <a href=\"https://crates.rustsec.org/\" target=\"_blank\" title=\"https://crates.rustsec.org/\">https://crates.rustsec.org/</a> and I find it hard to believe. Does it check that all versions that could potentially satisfy a dependency are vulnerable, or is it something else? Also, what of Cargo.lock where it's present?</p>",
        "id": 154457117,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546661806
    },
    {
        "content": "<p>Also some false positives could be a side effect of <a href=\"https://github.com/RustSec/rustsec-crate/issues/51\" target=\"_blank\" title=\"https://github.com/RustSec/rustsec-crate/issues/51\">https://github.com/RustSec/rustsec-crate/issues/51</a></p>",
        "id": 154457227,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546662037
    },
    {
        "content": "<p>Cargo.lock files are not used at all.</p>",
        "id": 154464010,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1546675793
    },
    {
        "content": "<p>It will use the newest dependency possible that satisfies requirements.</p>",
        "id": 154464054,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1546675832
    },
    {
        "content": "<p>I am confused. At <a href=\"https://crates.rustsec.org/\" target=\"_blank\" title=\"https://crates.rustsec.org/\">https://crates.rustsec.org/</a> <code>cargo-thanks</code> is marked vulnerable to RUSTSEC-2018-0003 and 2018-0010. One of those is a bug in SmallVec, but it does not depend on SmallVec directly. It also depends on the latest <code>clap</code> which is marked vulnerable to RUSTSEC-2018-0006; however, <code>cargo-thanks</code> is not marked vulnerable to RUSTSEC-2018-0006. I don't understand how is that possible.</p>",
        "id": 154472289,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546692451
    },
    {
        "content": "<p>Another weird situation: <code>concurrent-hash-map</code> depends on crossbeam <code>^0.2.10</code> which should resolve to crossbeam version 0.2.12; however, it is somehow marked vulnerable to <a href=\"https://rustsec.org/advisories/RUSTSEC-2018-0009\" target=\"_blank\" title=\"https://rustsec.org/advisories/RUSTSEC-2018-0009\">https://rustsec.org/advisories/RUSTSEC-2018-0009</a> which affects only much newer crossbeam.<br>\nI don't think this can be explained by <a href=\"https://github.com/RustSec/rustsec-crate/issues/51\" target=\"_blank\" title=\"https://github.com/RustSec/rustsec-crate/issues/51\">https://github.com/RustSec/rustsec-crate/issues/51</a> either because that vulnerability affects a separate crate that is not even present in the dependency chain for 0.2.x</p>",
        "id": 154472617,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546693131
    },
    {
        "content": "<p>Oh yeah, looks like <a href=\"https://github.com/RustSec/rustsec-crate/issues/51\" target=\"_blank\" title=\"https://github.com/RustSec/rustsec-crate/issues/51\">https://github.com/RustSec/rustsec-crate/issues/51</a> was an issue. Updating rustsec requirement from 0.9 to 0.10 in Cargo.toml has cut the number of affected crates from 1696 to 724</p>",
        "id": 154482018,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546711679
    },
    {
        "content": "<p>I've tried to open a PR on GitLab to bump the version, but it keeps saying \"An error accured whilst committing your changes.\"</p>",
        "id": 154482225,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546712086
    },
    {
        "content": "<p>The situation with <code>cargo-thanks</code> not getting a vulnerability transitively from <code>clap</code> is actually correct. The relevant clap feature is not enabled. The fact that crates-audit takes Cargo features into account is a pleasant surprise.</p>",
        "id": 154489144,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546725885
    },
    {
        "content": "<p>It does follow development-only dependencies though, and that's another source of false positives. I've opened an issue about that: <a href=\"https://gitlab.com/zachreizner/crates-audit/issues/4\" target=\"_blank\" title=\"https://gitlab.com/zachreizner/crates-audit/issues/4\">https://gitlab.com/zachreizner/crates-audit/issues/4</a></p>",
        "id": 154489202,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546725976
    },
    {
        "content": "<p>But ignoring those two sources of false positives, this works really, really well. I've just discovered a crate with 8000 downloads a month using OpenSSL bindings so ancient that it doesn't even check hostname when verifying certificates: <a href=\"https://github.com/Antti/rust-amqp\" target=\"_blank\" title=\"https://github.com/Antti/rust-amqp\">https://github.com/Antti/rust-amqp</a></p>",
        "id": 154490202,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546728190
    },
    {
        "content": "<p><a href=\"https://github.com/Antti/rust-amqp/pull/75\" target=\"_blank\" title=\"https://github.com/Antti/rust-amqp/pull/75\">https://github.com/Antti/rust-amqp/pull/75</a></p>",
        "id": 154490807,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1546729420
    },
    {
        "content": "<p>Wow! That was fast! They actually have an issue on the bug tracker and a closed PR so I thought there was some fundamental reason why they're not upgrading.</p>",
        "id": 154490854,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546729475
    },
    {
        "content": "<p>I didn't do much more than just bump the version and get  the tests passing, it's entirely possible there's some complexity I missed.</p>",
        "id": 154490912,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1546729607
    },
    {
        "content": "<p>I have just <a href=\"https://github.com/chyh1990/yaml-rust/pull/109#issuecomment-451696912\" target=\"_blank\" title=\"https://github.com/chyh1990/yaml-rust/pull/109#issuecomment-451696912\">requested</a> backporting rust-yaml stack overflow fix based on crates-audit output</p>",
        "id": 154492994,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546733982
    },
    {
        "content": "<p>Also I was kind of confused about what <code>crates-audit</code> does exactly. The shortest explanation I could come up with \"It finds crates dependent on vulnerable library versions with no semver-compatible fix available\".</p>",
        "id": 154493109,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546734206
    },
    {
        "content": "<p>I would definitely like to see something like that on <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a>; normally this should not happen - all semver series actually in use should get the backport - but this would give visibility to issues in unmaintained crates</p>",
        "id": 154493213,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546734404
    },
    {
        "content": "<p>Why are so many people using the old version of rust-yaml?</p>",
        "id": 154493235,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1546734482
    },
    {
        "content": "<p>¬Ø\\_(„ÉÑ)_/¬Ø</p>",
        "id": 154493271,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546734511
    },
    {
        "content": "<p>It's 165 crates according to cargo-audit and half the download count according to <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a></p>",
        "id": 154493287,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546734556
    },
    {
        "content": "<p>I wonder, do Rust compiled binaries contain data on what libraries went into making them? Probably not, but it would be so sweet if they did</p>",
        "id": 154493341,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546734631
    },
    {
        "content": "<p>They don't. I wonder if it's possible to build a crate that does that... does the info exist in <code>build.rs</code>?</p>",
        "id": 154493344,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1546734658
    },
    {
        "content": "<p>If they did, you could just point an analyzer to a <em>compiled binary</em> and get it audited. And this would work for binaries deployed <em>anywhere in any way</em> and you wouldn't have to keep a matching Cargo.lock around and risk them being desynced</p>",
        "id": 154493397,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546734747
    },
    {
        "content": "<p>Well, there is nothing preventing you from parsing Cargo.lock from <a href=\"http://build.rs\" target=\"_blank\" title=\"http://build.rs\">build.rs</a> at any rate</p>",
        "id": 154493443,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546734844
    },
    {
        "content": "<p>What about a embeddable crate that checked itself occasionally to see if it was using vulnerable crates?</p>",
        "id": 154493904,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1546735846
    },
    {
        "content": "<p>There are two problems with that: extra code size and the trouble with reaching the user to notify them.</p>",
        "id": 154493956,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546735978
    },
    {
        "content": "<p>I'd rather have version info encoded in compiled binaries. It is small enough that we can make <em>all</em> Cargo-compiled binaries have it. Then you can run an analyzer manually or as a cronjob. The system is simple, transparent and it's clear how it will communicate with you in case it finds an issue</p>",
        "id": 154493965,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546736035
    },
    {
        "content": "<p>That seems like a better alternative.</p>",
        "id": 154494006,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1546736066
    },
    {
        "content": "<p>Although I'm not sure how it would solves the communication issue.</p>",
        "id": 154494008,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1546736093
    },
    {
        "content": "<p>Well, if you're running it manually it just prints to stdout. And if you're setting up a cronjob you presumably set up alerting as well. The great thing about it is that since all the required data is already in the binary, anyone can audit it. Even if it's a weird thing like a docker container, both your cloud provider and docker container registry can run an audit and notify whoever has it running and image owner respectively</p>",
        "id": 154494060,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546736221
    },
    {
        "content": "<p>I think Google Cloud already does security scans on Docker images, but it's limited to Linux distro packages right now</p>",
        "id": 154494069,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546736268
    },
    {
        "content": "<p>So all you need to do as a user is simply check a checkbox</p>",
        "id": 154494110,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546736306
    },
    {
        "content": "<p>According to <a href=\"https://doc.rust-lang.org/cargo/reference/build-scripts.html#case-study-code-generation\" target=\"_blank\" title=\"https://doc.rust-lang.org/cargo/reference/build-scripts.html#case-study-code-generation\">the docs</a> injecting extra data into the binary should be pretty straightforward. Address Sanitizer settings encoded in the binary can be seen as prior art.</p>",
        "id": 154494126,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546736391
    },
    {
        "content": "<p>I see what you mean.</p>",
        "id": 154494288,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1546736669
    },
    {
        "content": "<p>Also, thanks a lot for writing crates-audit. As you can see, I am enjoying it :)</p>",
        "id": 154494542,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546737241
    },
    {
        "content": "<p>And it has already found two widespread issues that are not fixable by <code>cargo update</code>. That too.</p>",
        "id": 154494785,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546737620
    },
    {
        "content": "<p>nice re: rust-amqp</p>",
        "id": 154524358,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1546796463
    },
    {
        "content": "<p>that reminds me, I should incorporate the changes the RustPr√§zi authors suggested</p>",
        "id": 154524414,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1546796538
    },
    {
        "content": "<p>into the <code>rustsec</code> crate and the advisory DB</p>",
        "id": 154524416,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1546796560
    },
    {
        "content": "<p>it's mostly making paths to vulnerable code generic over functions as well as types, and breaking them down version-by-version (e.g. if a vulnerable function was renamed at some point)</p>",
        "id": 154524441,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1546796611
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"132723\">@Zach Reizner</span> is building on pre-1.31 Rust a hard requirement for <code>crates-audit</code>? My PR to upgrade it to <code>rustsec</code> crate that would fix the false positives fails CI because with 0.10 came a bump to 2018 edition</p>",
        "id": 154590364,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546886624
    },
    {
        "content": "<p>Oh, I just saw your PR. Gitlab apparently does not notify me of events on my own repos by default!</p>",
        "id": 154590595,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1546886772
    },
    {
        "content": "<p>Taking a look now.</p>",
        "id": 154590601,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1546886780
    },
    {
        "content": "<p>Upgrading the CI to use 1.31 or whatever the latest rust is should always be fine with me.</p>",
        "id": 154591724,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1546887627
    },
    {
        "content": "<p>I commented on your PR on how to fix the pipeline in your branch so that I can merge it.</p>",
        "id": 154591753,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1546887663
    },
    {
        "content": "<p>Done. Thanks!</p>",
        "id": 154592233,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546888086
    },
    {
        "content": "<p>Merged. It looks like it reduced the number of reported crates by 1000</p>",
        "id": 154594345,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1546889687
    },
    {
        "content": "<p>Yup, almost. 1696 to 724</p>",
        "id": 154595118,
        "sender_full_name": "Shnatsel",
        "timestamp": 1546890171
    },
    {
        "content": "<p>Is sorting things on <a href=\"https://crates.rustsec.org/\" target=\"_blank\" title=\"https://crates.rustsec.org/\">https://crates.rustsec.org/</a> by download count on the TODO list already?</p>",
        "id": 171332741,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1563638508
    },
    {
        "content": "<p>Looks like right now the list of crates comes from the git repo, not the <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a> API, so it'd require adding that</p>",
        "id": 171333101,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1563639225
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130046\">@Alex Gaynor</span> that sounds good</p>",
        "id": 171333141,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563639246
    },
    {
        "content": "<p>/me looks at his TODO list for the weekend and does this instead</p>",
        "id": 171333147,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1563639268
    },
    {
        "content": "<p>hahaha</p>",
        "id": 171333670,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563640204
    },
    {
        "content": "<p>/me finally gonna try to play with rustembedded on PyPortal <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span></p>",
        "id": 171333678,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563640220
    },
    {
        "content": "<p>they just got the ADC working so we can finally use the joystick</p>",
        "id": 171333684,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563640237
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130046\">@Alex Gaynor</span> actually I've found that the current representation is not very helpful. It would be way better to group the view by vulnerabilities and look at affected crate for each instead of looking at every crate in isolation and getting a list of vulnerabilities. This was my impression when I was using this to try to go and fix stuff last time there was no semver-compatible fix.</p>",
        "id": 171333830,
        "sender_full_name": "Shnatsel",
        "timestamp": 1563640516
    },
    {
        "content": "<p>I think probably two different views are required for different use cases -- if you're trying to work through the impact of one particular vuln, you want what you said, if you're just trying to clean up the ecosystem, starting from \"most downloads\" makes the most sense.</p>",
        "id": 171333903,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1563640656
    },
    {
        "content": "<p>I should ping the RustPr√§zi people again. I kept hoping they'd make a hosted version, but it seems it might've just been a (now abandoned) academic project <span aria-label=\"cry\" class=\"emoji emoji-1f622\" role=\"img\" title=\"cry\">:cry:</span></p>",
        "id": 171333971,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563640775
    },
    {
        "content": "<p>as in <a href=\"https://github.com/praezi/rust\" target=\"_blank\" title=\"https://github.com/praezi/rust\">https://github.com/praezi/rust</a></p>",
        "id": 171333974,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563640785
    },
    {
        "content": "<p>Ok, here we go: <a href=\"https://gitlab.com/zachreizner/crates-audit/merge_requests/2\" target=\"_blank\" title=\"https://gitlab.com/zachreizner/crates-audit/merge_requests/2\">https://gitlab.com/zachreizner/crates-audit/merge_requests/2</a></p>",
        "id": 171334459,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1563641691
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"132723\">@Zach Reizner</span> do you have any thoughts about moving <code>crates-audit</code> under <a href=\"https://github.com/rust-secure-code/\" target=\"_blank\" title=\"https://github.com/rust-secure-code/\">https://github.com/rust-secure-code/</a> ? I mainly ask because it's both cool but also has low-visibility / awareness</p>",
        "id": 171334528,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563641870
    },
    {
        "content": "<p>I'd be in favor of that -- mostly because I'm lazy and having things in one place is convenient.</p>",
        "id": 171334575,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1563641926
    },
    {
        "content": "<p>Already one useful PR out of sorting these things: <a href=\"https://github.com/abonander/buf_redux/pull/13\" target=\"_blank\" title=\"https://github.com/abonander/buf_redux/pull/13\">https://github.com/abonander/buf_redux/pull/13</a></p>",
        "id": 171334592,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1563641998
    },
    {
        "content": "<p>I would be fine with moving it, but the gitlab ci would have to be ported.</p>",
        "id": 171334850,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1563642447
    },
    {
        "content": "<p>I can help setup CI</p>",
        "id": 171334853,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563642477
    },
    {
        "content": "<p>The CI is what actually does the audit.</p>",
        "id": 171334895,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1563642488
    },
    {
        "content": "<p>aah</p>",
        "id": 171334897,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563642493
    },
    {
        "content": "<p>can you host the repo on GitHub but use GitLab CI?</p>",
        "id": 171334901,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563642512
    },
    {
        "content": "<p>I haven't really used GitLab</p>",
        "id": 171334907,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563642524
    },
    {
        "content": "<p>Also, I know we have that longstanding issue of moving off of cloudflare, which I think is used to serve the traffic from my Google cloud bucket more cheaply.</p>",
        "id": 171334908,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1563642525
    },
    {
        "content": "<p>Travis has the ability to do builds scheduled daily/weekly/monthly, that seems sufficient?</p>",
        "id": 171334913,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1563642548
    },
    {
        "content": "<p>yeah I'd love to migrate all of the (other) RustSec stuff to use GitHub Pages built-in HTTPS support</p>",
        "id": 171334916,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563642554
    },
    {
        "content": "<p>yeah Travis is what we're using for some of the other projects</p>",
        "id": 171334919,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563642563
    },
    {
        "content": "<p>well mostly RustSec</p>",
        "id": 171334921,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563642570
    },
    {
        "content": "<p>Yeah. It should be sufficient</p>",
        "id": 171334973,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1563642649
    },
    {
        "content": "<p>I'm currently on vacation until Tuesday, but I can review patches in the mean time if anybody steps up.</p>",
        "id": 171334986,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1563642687
    },
    {
        "content": "<p>I can make a repo which you can push the existing code (possibly after merging some PRs) to whenever you're ready</p>",
        "id": 171335035,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563642731
    },
    {
        "content": "<p>I guess one question is should it be <a href=\"https://github.com/rustsecurecode\" target=\"_blank\" title=\"https://github.com/rustsecurecode\">https://github.com/rustsecurecode</a> or <a href=\"https://github.com/rustsec\" target=\"_blank\" title=\"https://github.com/rustsec\">https://github.com/rustsec</a></p>",
        "id": 171335037,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563642760
    },
    {
        "content": "<p>on second thought it feels a bit more like the latter</p>",
        "id": 171335040,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563642769
    },
    {
        "content": "<p>Should go in the same place as cargo-audit and friends</p>",
        "id": 171335098,
        "sender_full_name": "Alex Gaynor",
        "timestamp": 1563642849
    },
    {
        "content": "<p>this is also reminding me I should add a second admin (or rather, third, as I gave <span class=\"user-mention\" data-user-id=\"132362\">@Joshua Liebow-Feeser</span> access) for RustSec</p>",
        "id": 171335288,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563643215
    },
    {
        "content": "<p>This reminds me, I should finish my RFC for something like <a href=\"https://github.com/Shnatsel/rust-audit\" target=\"_blank\" title=\"https://github.com/Shnatsel/rust-audit\">https://github.com/Shnatsel/rust-audit</a> in Cargo by default</p>",
        "id": 171335435,
        "sender_full_name": "Shnatsel",
        "timestamp": 1563643544
    },
    {
        "content": "<p>among a zillion other things</p>",
        "id": 171335473,
        "sender_full_name": "Shnatsel",
        "timestamp": 1563643564
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"127617\">@Shnatsel</span> I should also finally address your issue about taking the lockfile via stdin</p>",
        "id": 171335620,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563643841
    },
    {
        "content": "<p>you have a few months before people start really actually needing it because there is no way my rfc is going to be merged in less than a month, let alone implemented</p>",
        "id": 171335678,
        "sender_full_name": "Shnatsel",
        "timestamp": 1563643941
    },
    {
        "content": "<p>I've opened this trivial thing a month ago and it's yet to be looked at by the libs team: <a href=\"https://github.com/rust-lang/rfcs/pull/2714\" target=\"_blank\" title=\"https://github.com/rust-lang/rfcs/pull/2714\">https://github.com/rust-lang/rfcs/pull/2714</a></p>",
        "id": 171335694,
        "sender_full_name": "Shnatsel",
        "timestamp": 1563643997
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"132723\">@Zach Reizner</span> is this your GitHub account? <a href=\"https://github.com/zachreizner\" target=\"_blank\" title=\"https://github.com/zachreizner\">https://github.com/zachreizner</a></p>",
        "id": 171336008,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563644597
    },
    {
        "content": "<p>Yes</p>",
        "id": 171336126,
        "sender_full_name": "Zach Reizner",
        "timestamp": 1563644816
    },
    {
        "content": "<p>cool, sending you an invite</p>",
        "id": 171336138,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563644864
    },
    {
        "content": "<p>sent, and here's an empty crates-audit repo: <a href=\"https://github.com/RustSec/crates-audit\" target=\"_blank\" title=\"https://github.com/RustSec/crates-audit\">https://github.com/RustSec/crates-audit</a></p>",
        "id": 171336184,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563644916
    },
    {
        "content": "<p>you (and <span class=\"user-mention\" data-user-id=\"130046\">@Alex Gaynor</span> and <span class=\"user-mention\" data-user-id=\"127617\">@Shnatsel</span> have admin access to it)</p>",
        "id": 171336192,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563644940
    },
    {
        "content": "<p>This feels like a Google takeover of RustSec. 3 out of 5 people in there are employed by Google.</p>",
        "id": 171336203,
        "sender_full_name": "Shnatsel",
        "timestamp": 1563644986
    },
    {
        "content": "<p>hahaha</p>",
        "id": 171336325,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563645137
    },
    {
        "content": "<p>eh, better than bus factor 1 <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 171336328,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563645149
    },
    {
        "content": "<p>BBIAB</p>",
        "id": 171336422,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563645339
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"132721\">@Tony Arcieri</span> speaking of rust-praezi: <a href=\"https://github.com/trailofbits/siderophile\" target=\"_blank\" title=\"https://github.com/trailofbits/siderophile\">https://github.com/trailofbits/siderophile</a> also generates a call graph and actually exports it too</p>",
        "id": 171338015,
        "sender_full_name": "Shnatsel",
        "timestamp": 1563648204
    },
    {
        "content": "<p>the thing I liked about RustPr√§zi was it was built for a global analysis of all of <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a>. I saw that (I know several Trail o' Bits people via various blockchain stuff), but it looked more like an enhanced <code>cargo geiger</code> to me...</p>",
        "id": 171338589,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1563649218
    }
]