[
    {
        "content": "<p>I posted a writeup of an \"unsafe features\" idea I've been thinking about: <a href=\"https://internals.rust-lang.org/t/crate-capability-lists/8933/2?u=bascule\" target=\"_blank\" title=\"https://internals.rust-lang.org/t/crate-capability-lists/8933/2?u=bascule\">https://internals.rust-lang.org/t/crate-capability-lists/8933/2?u=bascule</a></p>",
        "id": 148901120,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543625341
    },
    {
        "content": "<p>it's a sort of halfway point between going full ocap and letting any given crate take over your computer, server, business, etc</p>",
        "id": 148901137,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543625388
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"132721\">@Tony Arcieri</span> What is the problem that you're trying to solve? Avoiding intentionally malicious code, or avoiding accidentally dangerous code?</p>",
        "id": 150736838,
        "sender_full_name": "briansmith",
        "timestamp": 1543785222
    },
    {
        "content": "<p>If it is intentional malicious code, there are lots of ways to subvert the <code>unsafe</code> mechanism including sometimes simply defining a <code>#[no_mangle]</code> function named <code>main()</code> or similar</p>",
        "id": 150736886,
        "sender_full_name": "briansmith",
        "timestamp": 1543785273
    },
    {
        "content": "<p>the former, although as something weaker than \"redesign Rust to be an ocap language\", which is what some people are pushing</p>",
        "id": 150738884,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543789245
    },
    {
        "content": "<p>and yeah, scroll down in that thread, I mention <code>#[no_mangle]</code></p>",
        "id": 150738892,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543789266
    },
    {
        "content": "<p>and suggested it would need to be <code>#[cfg_attr(unsafe_feature = \"x\", no_mangle)]</code></p>",
        "id": 150738894,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543789292
    },
    {
        "content": "<p>anyway, it's not that I don't want to see ocap features in Rust, it's that they <em>can't</em> work so long as <code>unsafe</code> is available</p>",
        "id": 150738941,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543789368
    },
    {
        "content": "<p>heh <a href=\"https://medium.com/agoric/pola-would-have-prevented-the-event-stream-incident-45653ecbda99\" target=\"_blank\" title=\"https://medium.com/agoric/pola-would-have-prevented-the-event-stream-incident-45653ecbda99\">https://medium.com/agoric/pola-would-have-prevented-the-event-stream-incident-45653ecbda99</a></p>",
        "id": 150802205,
        "sender_full_name": "Tony Arcieri",
        "timestamp": 1543872808
    }
]