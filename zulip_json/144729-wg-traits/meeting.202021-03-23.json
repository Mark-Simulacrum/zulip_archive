[
    {
        "content": "<p>Hi <span class=\"user-group-mention\" data-user-group-id=\"692\">@WG-traits</span>! Meeting in 2ish minutes :)</p>",
        "id": 231533959,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529512
    },
    {
        "content": "<p>Okay meeting time :)</p>",
        "id": 231534361,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529657
    },
    {
        "content": "<p>How's everyone doing?</p>",
        "id": 231534401,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529672
    },
    {
        "content": "<p>I'm fine, how are you Jack?</p>",
        "id": 231534478,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1616529711
    },
    {
        "content": "<p>I'm doing good :)</p>",
        "id": 231534500,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529717
    },
    {
        "content": "<p>Been looking at closures in Chalk today</p>",
        "id": 231534567,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529729
    },
    {
        "content": "<p>Trying to repro and fix <a href=\"https://github.com/rust-lang/chalk/issues/688\">chalk#688</a></p>",
        "id": 231534590,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529737
    },
    {
        "content": "<p>What's everyone been up to?</p>",
        "id": 231534642,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529756
    },
    {
        "content": "<p>Any announcements?</p>",
        "id": 231534649,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529762
    },
    {
        "content": "<p>Not from me this week, been busy with other stuff</p>",
        "id": 231534711,
        "sender_full_name": "detrumi",
        "timestamp": 1616529789
    },
    {
        "content": "<p>I don't have anything either</p>",
        "id": 231534777,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1616529816
    },
    {
        "content": "<p>So, today, there's a few things we could talk about:</p>",
        "id": 231534787,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529822
    },
    {
        "content": "<p>1) The rustc binder refactor and the resolve late lifetimes refactor (more useful for <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span>)</p>",
        "id": 231534872,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529846
    },
    {
        "content": "<p>2) Some potential \"cleanups\" that we might want to do for rustc</p>",
        "id": 231534916,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529865
    },
    {
        "content": "<p>one thing I was thinking is</p>",
        "id": 231534921,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616529869
    },
    {
        "content": "<p>(I think we mentioned a couple last week)</p>",
        "id": 231534935,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529875
    },
    {
        "content": "<p>/me waits</p>",
        "id": 231534954,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529882
    },
    {
        "content": "<p>I'd like to schedule some times to do chalk coding this week</p>",
        "id": 231534956,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616529883
    },
    {
        "content": "<p><span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 231534975,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529893
    },
    {
        "content": "<p>What on?</p>",
        "id": 231534986,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529898
    },
    {
        "content": "<p>I've also been talking over some crazy ideas with some people here that i might as well float here a bit :) though they're not really specific yet</p>",
        "id": 231534994,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616529902
    },
    {
        "content": "<p>well mostly I owe people reviews</p>",
        "id": 231535008,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616529909
    },
    {
        "content": "<p>I like crazy ideas</p>",
        "id": 231535016,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529912
    },
    {
        "content": "<p>I was thining of scheduling some times and hopping on zoom and people can join if they want</p>",
        "id": 231535039,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616529921
    },
    {
        "content": "<p>having zoom will keep me accountable :P</p>",
        "id": 231535046,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616529925
    },
    {
        "content": "<p>notably the binder PR and the coinduction PR</p>",
        "id": 231535057,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616529931
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> somewhat wg-traits related, but I think <a href=\"https://github.com/rust-lang/rust/issues/83220\">#83220</a> is probably important to review and small</p>",
        "id": 231535066,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529938
    },
    {
        "content": "<p>seems to be getting hit a lot</p>",
        "id": 231535088,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529950
    },
    {
        "content": "<p>I see</p>",
        "id": 231535109,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616529959
    },
    {
        "content": "<p>yes I've been meaning to review that</p>",
        "id": 231535168,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616529969
    },
    {
        "content": "<p>I think I've seen like 3 or 4 duplicate issues</p>",
        "id": 231535217,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616529987
    },
    {
        "content": "<p>looks like a fairly safe change</p>",
        "id": 231535233,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616529995
    },
    {
        "content": "<p>I should just r+ it</p>",
        "id": 231535239,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616529997
    },
    {
        "content": "<p>that was my thought, but I'm not familiar enough to feel comfortable approving</p>",
        "id": 231535279,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616530015
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/144729-wg-traits/topic/meeting.202021-03-23/near/231535039\">said</a>:</p>\n<blockquote>\n<p>I was thining of scheduling some times and hopping on zoom and people can join if they want</p>\n</blockquote>\n<p>I'm more than happy to schedule some time</p>",
        "id": 231535385,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616530064
    },
    {
        "content": "<p>Also curious what your crazy ideas are</p>",
        "id": 231535411,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616530081
    },
    {
        "content": "<p>isn't a way to test <a href=\"https://github.com/rust-lang/rust/issues/83220\">#83220</a>?</p>",
        "id": 231535456,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1616530084
    },
    {
        "content": "<p>I'm pulling up my calendar</p>",
        "id": 231535464,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530089
    },
    {
        "content": "<p>I guess the qestion is zoom vs zulip</p>",
        "id": 231535484,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530099
    },
    {
        "content": "<p>if it's early morning I sort of prefer zulip</p>",
        "id": 231535494,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530104
    },
    {
        "content": "<p>maybe 9am-10am the next 3 days ?</p>",
        "id": 231535551,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530118
    },
    {
        "content": "<p>(ET)</p>",
        "id": 231535560,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530121
    },
    {
        "content": "<p><time datetime=\"2021-03-24T13:00:00Z\">2021-03-24T09:00:00-04:00</time> - <time datetime=\"2021-03-24T14:00:00Z\">2021-03-24T10:00:00-04:00</time></p>",
        "id": 231535581,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530131
    },
    {
        "content": "<p>I can do later on Tuesday/Thursdays</p>",
        "id": 231535642,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616530158
    },
    {
        "content": "<p>but MWF it has to be early</p>",
        "id": 231535663,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616530167
    },
    {
        "content": "<p>I'm kind of busy those other days anyway</p>",
        "id": 231535676,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530173
    },
    {
        "content": "<p>I'm going to say those 3 hours</p>",
        "id": 231535682,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530177
    },
    {
        "content": "<p>Alright I'm claiming tomorrow at 9am</p>",
        "id": 231535731,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616530197
    },
    {
        "content": "<p>Done :)</p>",
        "id": 231535835,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530225
    },
    {
        "content": "<p>my crazy idea you already heard</p>",
        "id": 231535852,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530236
    },
    {
        "content": "<p>I just wanted to repeat it here</p>",
        "id": 231535861,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530240
    },
    {
        "content": "<p>the idea of combining chalk + polonius + (yet to be written) MIR type system into a complete formal model for checking MIR code</p>",
        "id": 231535913,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530260
    },
    {
        "content": "<p>So, what would the \"MIR type system\" checking do</p>",
        "id": 231536017,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616530322
    },
    {
        "content": "<p>well it would partly just create things to be proven by the other parts of the system</p>",
        "id": 231536232,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530417
    },
    {
        "content": "<p>in fact it already kind of exists</p>",
        "id": 231536238,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530420
    },
    {
        "content": "<p>um I don't know how our source tree is laid out anymore lol</p>",
        "id": 231536319,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530453
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/blob/master/compiler/rustc_mir/src/borrow_check/type_check/mod.rs\">https://github.com/rust-lang/rust/blob/master/compiler/rustc_mir/src/borrow_check/type_check/mod.rs</a></p>",
        "id": 231536347,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530469
    },
    {
        "content": "<p>basically that <span aria-label=\"point up\" class=\"emoji emoji-1f446\" role=\"img\" title=\"point up\">:point_up:</span></p>",
        "id": 231536354,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530474
    },
    {
        "content": "<p>this isn't really a 100% actionable idea yet :)</p>",
        "id": 231536386,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530491
    },
    {
        "content": "<p>the context was that I was talking about chalk with some folks who have experience with solvers</p>",
        "id": 231536413,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530502
    },
    {
        "content": "<p>and talking about some of the challenges we face around figuring out how to model associated types and to extract answers</p>",
        "id": 231536439,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530514
    },
    {
        "content": "<p>So instead of the current ad-hoc impl that would mean lowering MIR to chalk IR?</p>",
        "id": 231536476,
        "sender_full_name": "detrumi",
        "timestamp": 1616530523
    },
    {
        "content": "<p>and they were basically advocating for looking for ways to push more of the work onto the solver</p>",
        "id": 231536495,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530539
    },
    {
        "content": "<p>so like right now we say \"prove this\" and we get back a specific result</p>",
        "id": 231536539,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530554
    },
    {
        "content": "<p>it's kind of moving the fulfillment context (in rust terms) and having just one big predicate</p>",
        "id": 231536636,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530578
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125131\">detrumi</span> <a href=\"#narrow/stream/144729-wg-traits/topic/meeting.202021-03-23/near/231536476\">said</a>:</p>\n<blockquote>\n<p>So instead of the current ad-hoc impl that would mean lowering MIR to chalk IR?</p>\n</blockquote>\n<p>well....</p>",
        "id": 231536670,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530592
    },
    {
        "content": "<p>I guess it would mean a sort of function from a MIR body to a bunch of predicates that have to be proven</p>",
        "id": 231536709,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530613
    },
    {
        "content": "<p>the nice thing about doing this on MIR is that all the fancy type inference stuff is done</p>",
        "id": 231536746,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530628
    },
    {
        "content": "<p>But...don't you need Chalk to be able to <em>get</em> to MIR</p>",
        "id": 231536825,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616530676
    },
    {
        "content": "<p>well yes :)</p>",
        "id": 231536907,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530698
    },
    {
        "content": "<p>this isn't really a solution to any of our problems per se, I guess, more like...</p>",
        "id": 231536919,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530705
    },
    {
        "content": "<p>...an interesting building block</p>",
        "id": 231536931,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530709
    },
    {
        "content": "<p>it would be helpful for proving formal soundness of rust for example in a more complete way</p>",
        "id": 231536963,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530729
    },
    {
        "content": "<p>in particular we could prove that MIR is type safe</p>",
        "id": 231537012,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530753
    },
    {
        "content": "<p>The other bit, by the time you get to MIR, is there even an reference to traits at all?</p>",
        "id": 231537042,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616530765
    },
    {
        "content": "<p>tons</p>",
        "id": 231537063,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530775
    },
    {
        "content": "<p>so first off mir has function calls</p>",
        "id": 231537090,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530787
    },
    {
        "content": "<p>and they have where clauses</p>",
        "id": 231537096,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530789
    },
    {
        "content": "<p>that have to be proven</p>",
        "id": 231537108,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530794
    },
    {
        "content": "<p>but also MIR has types like <code>&lt;T as Foo&gt;::Bar</code> and so forth</p>",
        "id": 231537125,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530802
    },
    {
        "content": "<p>so you can type check MIR, it's basically a really simple Rust where most of the type inference has been done for you</p>",
        "id": 231537201,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530819
    },
    {
        "content": "<p>this is what the borrow checker does</p>",
        "id": 231537211,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530822
    },
    {
        "content": "<p>in order to generate the constraints across regions</p>",
        "id": 231537230,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530829
    },
    {
        "content": "<p>anyway, it's more just a cool thing to think about in the future than something that changes our actual problems</p>",
        "id": 231537253,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530838
    },
    {
        "content": "<p>Okay, so when I think of MIR, I think of the \"basic blocks\", but I'm guessing MIR is actually a bit higher level than that</p>",
        "id": 231537261,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616530841
    },
    {
        "content": "<p>I guess my final thought is that</p>",
        "id": 231537265,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530843
    },
    {
        "content": "<p>I think the broad focus on library-ification that I've been talking about</p>",
        "id": 231537320,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530858
    },
    {
        "content": "<p>i'm contemplating a \"rebrand\" that is focused just on the shared type library + chalk ;)</p>",
        "id": 231537348,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530867
    },
    {
        "content": "<p>because i thnk they're are a lot of consumers interested in that</p>",
        "id": 231537363,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530872
    },
    {
        "content": "<p>and hoping I can get some more people to come and help out</p>",
        "id": 231537382,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530881
    },
    {
        "content": "<p>(in particular, folks from within AWS and maybe other companies)</p>",
        "id": 231537435,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530904
    },
    {
        "content": "<p>anyway we'll see..</p>",
        "id": 231537440,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530907
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116009\">nikomatsakis</span> <a href=\"#narrow/stream/144729-wg-traits/topic/meeting.202021-03-23/near/231537363\">said</a>:</p>\n<blockquote>\n<p>because i thnk they're are a lot of consumers interested in that</p>\n</blockquote>\n<p>esp. folks trying to do more analysis on top of Rust</p>",
        "id": 231537462,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530918
    },
    {
        "content": "<p>I mean, I think the library-ification, at least for us, <em>has</em> been shared type library + chalk</p>",
        "id": 231537470,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616530920
    },
    {
        "content": "<p>yes</p>",
        "id": 231537514,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530925
    },
    {
        "content": "<p>these aren't really announcements</p>",
        "id": 231537566,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530951
    },
    {
        "content": "<p>more just me thinking out loud</p>",
        "id": 231537571,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530954
    },
    {
        "content": "<p>i'll stop now :)</p>",
        "id": 231537575,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616530955
    },
    {
        "content": "<p>Haha don't worry</p>",
        "id": 231537587,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616530963
    },
    {
        "content": "<p>I definitely would like to get the shared type library stuff pushed forward more</p>",
        "id": 231537661,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616530992
    },
    {
        "content": "<p>I'd like to see some examples types in <a href=\"https://github.com/rust-lang/rust/issues/83142\">#83142</a></p>",
        "id": 231537712,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531020
    },
    {
        "content": "<p>But that's a bit step forward</p>",
        "id": 231537723,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531026
    },
    {
        "content": "<p>What happened to the whole skill tree plan?</p>",
        "id": 231537742,
        "sender_full_name": "detrumi",
        "timestamp": 1616531036
    },
    {
        "content": "<p>that's kind of amazing</p>",
        "id": 231537772,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531043
    },
    {
        "content": "<p>nothing, we just need to work on it</p>",
        "id": 231537805,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531051
    },
    {
        "content": "<p>Yeah big shout out to <span class=\"user-mention\" data-user-id=\"283967\">@Zahari Dichev</span> and <span class=\"user-mention\" data-user-id=\"125131\">@detrumi</span> for their work on that</p>",
        "id": 231537864,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531072
    },
    {
        "content": "<p>Turned out to be simpler than expected</p>",
        "id": 231537898,
        "sender_full_name": "detrumi",
        "timestamp": 1616531088
    },
    {
        "content": "<p>I think <span class=\"user-mention\" data-user-id=\"283967\">@Zahari Dichev</span> was going to try it out with some of the types</p>",
        "id": 231538032,
        "sender_full_name": "detrumi",
        "timestamp": 1616531150
    },
    {
        "content": "<p>It's kind of interesting that the <code>Interner</code> type ended up essentially getting coopted into <em>actually</em> essentially being interning</p>",
        "id": 231538042,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531155
    },
    {
        "content": "<p>let me read the code</p>",
        "id": 231538199,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531213
    },
    {
        "content": "<p>Also, will be glad when we can finally get the binder refactor merged</p>",
        "id": 231538201,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531214
    },
    {
        "content": "<p>that's coming up on like 6 months of work</p>",
        "id": 231538216,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531222
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232957\">Jack Huey</span> <a href=\"#narrow/stream/144729-wg-traits/topic/meeting.202021-03-23/near/231538042\">said</a>:</p>\n<blockquote>\n<p>It's kind of interesting that the <code>Interner</code> type ended up essentially getting coopted into <em>actually</em> essentially being interning</p>\n</blockquote>\n<p>I don't understand this :)</p>",
        "id": 231538223,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531226
    },
    {
        "content": "<p>So,</p>",
        "id": 231538278,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531249
    },
    {
        "content": "<p>In <code>Decoder</code>/<code>Encoder</code></p>",
        "id": 231538323,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531265
    },
    {
        "content": "<p>(Well, I think just <code>Decoder</code>?)</p>",
        "id": 231538344,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531276
    },
    {
        "content": "<p>We need to intern types</p>",
        "id": 231538413,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531294
    },
    {
        "content": "<p>I'm skimming this PR -- it's so cool!</p>",
        "id": 231538445,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531316
    },
    {
        "content": "<p>And, before, these were all going through <code>TyCtxt</code></p>",
        "id": 231538448,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531318
    },
    {
        "content": "<p>But now they're split out</p>",
        "id": 231538470,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531327
    },
    {
        "content": "<div class=\"message_inline_image\"><a href=\"https://i.imgur.com/7drHiqr.gif\"><img src=\"https://i.imgur.com/7drHiqr.gif\"></a></div>",
        "id": 231538535,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531351
    },
    {
        "content": "<p>I haven't had the time to really go through it</p>",
        "id": 231538585,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531374
    },
    {
        "content": "<p>yeah I just read it and i'm like</p>",
        "id": 231538627,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531389
    },
    {
        "content": "<p>\"wait\"</p>",
        "id": 231538637,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531393
    },
    {
        "content": "<p>But I think we might be able to have an extension trait so each new type doesn't need a \"alloc_\" function</p>",
        "id": 231538657,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531401
    },
    {
        "content": "<p>\"this is too nice, what's the catch\"</p>",
        "id": 231538729,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531419
    },
    {
        "content": "<p>and also, might just be able to impl <code>Interner</code> for <code>TyCtxt</code> directly</p>",
        "id": 231538731,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531420
    },
    {
        "content": "<p>I don't think there's any catch</p>",
        "id": 231538767,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531434
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232957\">Jack Huey</span> <a href=\"#narrow/stream/144729-wg-traits/topic/meeting.202021-03-23/near/231538731\">said</a>:</p>\n<blockquote>\n<p>and also, might just be able to impl <code>Interner</code> for <code>TyCtxt</code> directly</p>\n</blockquote>\n<p>this was always my expectation</p>",
        "id": 231538773,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531438
    },
    {
        "content": "<p>Just a bit extra boilerplate atm</p>",
        "id": 231538782,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531440
    },
    {
        "content": "<p>But, I think this gets us over the hurdle of coherence</p>",
        "id": 231538930,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531510
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125131\">detrumi</span> <a href=\"#narrow/stream/144729-wg-traits/topic/meeting.202021-03-23/near/231538032\">said</a>:</p>\n<blockquote>\n<p>I think <span class=\"user-mention silent\" data-user-id=\"283967\">Zahari Dichev</span> was going to try it out with some of the types</p>\n</blockquote>\n<p>Yes, intended to make a bunch of progress on that for this meeting... Unfortunatelly we went into a fourth lockdown and having a two year old around conflicted with this plan. Nevertheless I will do my best to make some time for it this week</p>",
        "id": 231538934,
        "sender_full_name": "Zahari Dichev",
        "timestamp": 1616531514
    },
    {
        "content": "<p>At least for <code>Encoder</code>/<code>Decoder</code></p>",
        "id": 231538942,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531518
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"283967\">@Zahari Dichev</span> no rush, don't feel pressured. It's already so awesome</p>",
        "id": 231539019,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531543
    },
    {
        "content": "<p>I think the \"catch\" is that i'm trying to figure out just what the scope of this PR is</p>",
        "id": 231539065,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531569
    },
    {
        "content": "<p>I think I'm also going to pick up on the shared type library front again after I figure out the Chalk closure situation</p>",
        "id": 231539099,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531586
    },
    {
        "content": "<p>it's a bit more narrow than I thought at first, but still very awesome</p>",
        "id": 231539103,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531587
    },
    {
        "content": "<p>Feels a bit like moving desk chairs around but it is been quite educational. I think bridging the gap between the chalk interner and the shared lib one will most likely give me quite a bit of detail around how things fit together</p>",
        "id": 231539144,
        "sender_full_name": "Zahari Dichev",
        "timestamp": 1616531601
    },
    {
        "content": "<p>Yeah, so far the scope here is narrow. I think the \"next\" step, either in this PR or a followup is actually moving types from <code>rustc_middle</code> to <code>rustc_type_ir</code></p>",
        "id": 231539209,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531635
    },
    {
        "content": "<p>that is what I was going to attempt next</p>",
        "id": 231539276,
        "sender_full_name": "Zahari Dichev",
        "timestamp": 1616531653
    },
    {
        "content": "<p>does this PR introduce the <code>Interner</code> trait?</p>",
        "id": 231539315,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531662
    },
    {
        "content": "<p>I'm looking at <a href=\"https://doc.rust-lang.org/nightly/nightly-rustc/rustc_type_ir/index.html\">https://doc.rust-lang.org/nightly/nightly-rustc/rustc_type_ir/index.html</a> and there isn't a lot there</p>",
        "id": 231539346,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531674
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/83142/files#diff-7a74642de56571828dfff5935b6163543cfdc773bf8c283eb74cad755a0f5fa2R17\">https://github.com/rust-lang/rust/pull/83142/files#diff-7a74642de56571828dfff5935b6163543cfdc773bf8c283eb74cad755a0f5fa2R17</a></p>",
        "id": 231539387,
        "sender_full_name": "detrumi",
        "timestamp": 1616531694
    },
    {
        "content": "<p>yeah ok</p>",
        "id": 231539440,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531717
    },
    {
        "content": "<p>I'm seeing now</p>",
        "id": 231539460,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531725
    },
    {
        "content": "<p>neat!</p>",
        "id": 231539497,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531744
    },
    {
        "content": "<p>The other big thing that we need to decide is what to do about <code>Param</code> and <code>ReEarlyBound</code></p>",
        "id": 231539593,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531776
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> if you want to do any hacking, that's what I would do :)</p>",
        "id": 231539693,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531824
    },
    {
        "content": "<p>yeah, I have that old branch</p>",
        "id": 231539771,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531865
    },
    {
        "content": "<p>maybe I will take a stab on thu at recreating it :)</p>",
        "id": 231539787,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616531873
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232957\">Jack Huey</span> <a href=\"#narrow/stream/144729-wg-traits/topic/meeting.202021-03-23/near/231538657\">said</a>:</p>\n<blockquote>\n<p>But I think we might be able to have an extension trait so each new type doesn't need a \"alloc_\" function</p>\n</blockquote>\n<p>I'll take a look at that</p>",
        "id": 231540014,
        "sender_full_name": "detrumi",
        "timestamp": 1616531971
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"129457\">@Florian Diebold</span> mentioned somewhat related: <a href=\"#narrow/stream/144729-wg-traits/topic/representation.20of.20type.20parameters/near/231030703\">https://rust-lang.zulipchat.com/#narrow/stream/144729-wg-traits/topic/representation.20of.20type.20parameters/near/231030703</a></p>",
        "id": 231540047,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616531985
    },
    {
        "content": "<p>I almost wonder if it's just easier to change Chalk :/</p>",
        "id": 231540090,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532001
    },
    {
        "content": "<p>I have wondered that</p>",
        "id": 231540293,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532079
    },
    {
        "content": "<p>I didn't read that topic</p>",
        "id": 231540296,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532081
    },
    {
        "content": "<p>let me skim it now</p>",
        "id": 231540302,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532084
    },
    {
        "content": "<p>I do think it might be easy to change chalk, but I'm not sure how I feel about it</p>",
        "id": 231540317,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532092
    },
    {
        "content": "<p>I honestly don't know how I feel about it</p>",
        "id": 231540353,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532111
    },
    {
        "content": "<p>I think I really <em>want</em> to change rustc</p>",
        "id": 231540416,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532128
    },
    {
        "content": "<p>there is also the option of changing chalk and <em>then</em> changing rustc</p>",
        "id": 231540463,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532145
    },
    {
        "content": "<p>right</p>",
        "id": 231540479,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532153
    },
    {
        "content": "<p>that said, I want to take one more stab at my branch, I did feel like it was bringing a bit of structure to rustc that felt nice</p>",
        "id": 231540492,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532159
    },
    {
        "content": "<p>also</p>",
        "id": 231540522,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532170
    },
    {
        "content": "<p>well, so, the main downside is that we have to thread more context down</p>",
        "id": 231540547,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532180
    },
    {
        "content": "<p>(this is what <span class=\"user-mention\" data-user-id=\"129457\">@Florian Diebold</span> seemed to be highlighting, primarily, right?)</p>",
        "id": 231540582,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532196
    },
    {
        "content": "<p>but really we should be doing this anyway for late-bound things</p>",
        "id": 231540600,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532204
    },
    {
        "content": "<p>right</p>",
        "id": 231540731,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532251
    },
    {
        "content": "<p>(that's also probably the issue we're going to face with pretty-printing late bound vars)</p>",
        "id": 231540784,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532269
    },
    {
        "content": "<p>yes, for us this is currently the only case where we aren't just able to display a type without context (except we are, because we do <a href=\"https://github.com/rust-analyzer/rust-analyzer/blob/d702f10fb345637e82f3fb9606f5aba243df5365/crates/hir_ty/src/lib.rs#L1253-L1259\">this</a>, but I guess that's not the intended usage)</p>",
        "id": 231540827,
        "sender_full_name": "Florian Diebold",
        "timestamp": 1616532296
    },
    {
        "content": "<p>so</p>",
        "id": 231541047,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532391
    },
    {
        "content": "<p>that's true</p>",
        "id": 231541051,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532393
    },
    {
        "content": "<p>otoh, within rustc at least,</p>",
        "id": 231541059,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532398
    },
    {
        "content": "<p>there was always the question of e.g. knowing what imports are in scope so we can avoid full paths</p>",
        "id": 231541079,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532412
    },
    {
        "content": "<p>although I think we've wound up with some heuristics around that that seem very good</p>",
        "id": 231541098,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532422
    },
    {
        "content": "<p>we do have a higher-level <code>Type</code> that's used by all the IDE stuff that keeps more context</p>",
        "id": 231541181,
        "sender_full_name": "Florian Diebold",
        "timestamp": 1616532456
    },
    {
        "content": "<p>so maybe it wouldn't actually be so bad</p>",
        "id": 231541197,
        "sender_full_name": "Florian Diebold",
        "timestamp": 1616532464
    },
    {
        "content": "<p>the other point is that it's not obvious to me that we <em>need</em> the indices to be small integers</p>",
        "id": 231541262,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532483
    },
    {
        "content": "<p>obviously it has certain advantages</p>",
        "id": 231541319,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532505
    },
    {
        "content": "<p>it's working fine for us with big integers right now <span aria-label=\"grimacing\" class=\"emoji emoji-1f62c\" role=\"img\" title=\"grimacing\">:grimacing:</span></p>",
        "id": 231541321,
        "sender_full_name": "Florian Diebold",
        "timestamp": 1616532506
    },
    {
        "content": "<p>at least it seems to be</p>",
        "id": 231541402,
        "sender_full_name": "Florian Diebold",
        "timestamp": 1616532544
    },
    {
        "content": "<p>But <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> I would love for you to pick that work back up &lt;3</p>",
        "id": 231541569,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532617
    },
    {
        "content": "<p>I gotta review your PRs first</p>",
        "id": 231541589,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532626
    },
    {
        "content": "<p>yes</p>",
        "id": 231541617,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532634
    },
    {
        "content": "<p>but we'll have some discussion tomorrow</p>",
        "id": 231541629,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532642
    },
    {
        "content": "<p>yeah</p>",
        "id": 231541674,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532669
    },
    {
        "content": "<p>At some point I might <span class=\"user-mention\" data-user-id=\"251766\">@Areredify</span>'s placeholder canonicalization branch</p>",
        "id": 231541703,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532684
    },
    {
        "content": "<p>(if they don't get to it)</p>",
        "id": 231541719,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532692
    },
    {
        "content": "<p>i'm thining about the skill tree</p>",
        "id": 231541727,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532695
    },
    {
        "content": "<p>I do feel a bit lost myself and would love to have a clearer picture of the path we're following :)</p>",
        "id": 231541744,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532705
    },
    {
        "content": "<p>Also GATs!</p>",
        "id": 231541752,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532708
    },
    {
        "content": "<p>yeah, i have to get my head oriented around that stuff again</p>",
        "id": 231541780,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532722
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"124288\">@oli</span> introduced the named impl trait feature gates though, which is great</p>",
        "id": 231541842,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532734
    },
    {
        "content": "<p>I think the big thing we're waiting for is trait objects from <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span>? (though I might try taking a look)</p>",
        "id": 231541844,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532736
    },
    {
        "content": "<p>Yes, and named impl trait</p>",
        "id": 231541872,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532750
    },
    {
        "content": "<p>I have a vague sense of where things are and what needs to be done in my head, but it would be good to write it all down</p>",
        "id": 231541973,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532817
    },
    {
        "content": "<p>I feel like things were clear-ish but then I've lost the plot a bit, woudl be good to get it back</p>",
        "id": 231542050,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532847
    },
    {
        "content": "<p>ok, well, I have to run but I'll be arond 9-10am next 3 days</p>",
        "id": 231542062,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532855
    },
    {
        "content": "<p>maybe I'll try to make that a more regular chalk slot, we'll see</p>",
        "id": 231542074,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616532860
    },
    {
        "content": "<p>too many plot twists <span aria-label=\"smirk\" class=\"emoji emoji-1f60f\" role=\"img\" title=\"smirk\">:smirk:</span></p>",
        "id": 231542088,
        "sender_full_name": "detrumi",
        "timestamp": 1616532867
    },
    {
        "content": "<p>I mean, if nobody else needs your time <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> those three days, I'm down to just work through the PRs and push those over the line</p>",
        "id": 231542185,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532923
    },
    {
        "content": "<p>(or attempt to)</p>",
        "id": 231542199,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616532930
    },
    {
        "content": "<p>that's what I would like to do</p>",
        "id": 231542581,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616533112
    },
    {
        "content": "<p>that plus <span class=\"user-mention\" data-user-id=\"365822\">@FireFighterDuck</span>'s PRs...</p>",
        "id": 231542596,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1616533118
    },
    {
        "content": "<p>That works for me :)</p>",
        "id": 231543482,
        "sender_full_name": "Jack Huey",
        "timestamp": 1616533448
    }
]