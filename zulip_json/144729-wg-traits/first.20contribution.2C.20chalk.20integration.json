[
    {
        "content": "<p>Re: <a href=\"#narrow/stream/122652-new-members/topic/compiler.202022/near/272854085\">rust compiler ambitions 2022 blog</a></p>\n<p><span class=\"user-mention\" data-user-id=\"232957\">@Jack Huey</span> does this work? <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 272854528,
        "sender_full_name": "Kinrany",
        "timestamp": 1645558070
    },
    {
        "content": "<p>This is great :)</p>",
        "id": 272854753,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645558181
    },
    {
        "content": "<p>So, are you interested in working on Chalk itself? Or the integration into rustc?</p>",
        "id": 272854833,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645558212
    },
    {
        "content": "<p>I only have a slight preference towards integration. Chalk sounds cool, and I'd love to help make all the chalk-related features become reality slightly sooner :D</p>",
        "id": 272855239,
        "sender_full_name": "Kinrany",
        "timestamp": 1645558417
    },
    {
        "content": "<p>Okay, so <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> had a list of bigger things that need to be done in his recent PR here <a href=\"https://github.com/rust-lang/rust/issues/93810\">#93810</a>, but I think those are all on the Chalk side</p>",
        "id": 272855426,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645558507
    },
    {
        "content": "<p>I was also looking through <code>unimplemented!()</code> things in the chalk integration code, and that's primarily generators at this point</p>",
        "id": 272855503,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645558561
    },
    {
        "content": "<p>I'm unsure if that list from <span class=\"user-mention\" data-user-id=\"116118\">@Matthew Jasper</span> were from going through compare-mode=chalk test failures and categorizing, but if not, that might be a good start</p>",
        "id": 272855660,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645558645
    },
    {
        "content": "<p>One thing you could try is changing the rustc integration to use the recursive solver instead of the SLG solver</p>",
        "id": 272855877,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645558765
    },
    {
        "content": "<p>Last time I tried that, it wasn't working. But that might be different now :)</p>",
        "id": 272855908,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645558782
    },
    {
        "content": "<p>Looking through the list in that, <a href=\"https://github.com/rust-lang/chalk/issues/548\">Support const evaluation</a> seems to have a PR up here: <a href=\"https://github.com/rust-lang/chalk/pull/736\">https://github.com/rust-lang/chalk/pull/736</a><br>\n<a href=\"https://github.com/rust-lang/chalk/issues/734\">Auto traits are not handled for generic closures</a> got claimed this week too and has a draft PR.<br>\n<a href=\"https://github.com/rust-lang/chalk/issues/234\">Ambiguity problems with associated types</a> sounds kinda hard. I can always drop it later though if I fail to make sense of it! Unless you think it's too much.</p>",
        "id": 272856683,
        "sender_full_name": "Kinrany",
        "timestamp": 1645559151
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/chalk/issues/234\">chalk#234</a> is one I would love to see fixed, but is most likely going to require some logical insights into associated types and how we think about them. There isn't really a \"implement this\" for that. (I do have some experimental branches that I tried to solve that, but I think it's better to start out by design)</p>",
        "id": 272856930,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645559268
    },
    {
        "content": "<p>I don't want to say you can't or shouldn't do it, but I also don't know what your background is here</p>",
        "id": 272857026,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645559311
    },
    {
        "content": "<p>We'll see if my background is enough then!</p>",
        "id": 272857285,
        "sender_full_name": "Kinrany",
        "timestamp": 1645559419
    },
    {
        "content": "<p>And thanks for the intro, it's good to know there's someone I can talk to <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 272857973,
        "sender_full_name": "Kinrany",
        "timestamp": 1645559756
    },
    {
        "content": "<p>Of course :) I would also be very happy to schedule 1:1 time to go through things related to this! Like I said, it's something I've been wanting to tackle for a while</p>",
        "id": 272860140,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645560724
    },
    {
        "content": "<p>The list there is definitely not exhaustive, but I'm not sure how easy it would be to find something else to work on with all of the noise from the listed issues.</p>",
        "id": 272873397,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1645567702
    },
    {
        "content": "<p>One thing I was considering was to add a migration mode to rustc where we run both trait engines and compare their output.</p>",
        "id": 272873666,
        "sender_full_name": "oli",
        "timestamp": 1645567852
    },
    {
        "content": "<p>Like directly, in one compiler run, not in a compare mode like in compile-test</p>",
        "id": 272873713,
        "sender_full_name": "oli",
        "timestamp": 1645567883
    },
    {
        "content": "<p>That's very chalk-integration related, but I didn't find any plans for it yet (haven't searched a lot yet either tho, so there may already be an issue for it)</p>",
        "id": 272873876,
        "sender_full_name": "oli",
        "timestamp": 1645567984
    },
    {
        "content": "<p>Long term, that's necessarily a terrible idea. But in the short term I think it would produce a lot of noise</p>",
        "id": 272874080,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645568114
    },
    {
        "content": "<p>Not necessarily *</p>",
        "id": 272874278,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645568231
    },
    {
        "content": "<p>Doesn't hurt implementing it for us to play with tho ^^</p>",
        "id": 272875057,
        "sender_full_name": "oli",
        "timestamp": 1645568559
    },
    {
        "content": "<p>I imagine it would be most useful at the \"query\" level</p>",
        "id": 272875140,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645568617
    },
    {
        "content": "<p>E.g. \"does the predicate hold\"</p>",
        "id": 272875172,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645568636
    },
    {
        "content": "<p>Rather than at the stderr level</p>",
        "id": 272875281,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645568678
    },
    {
        "content": "<p>Maybe that's what you meant</p>",
        "id": 272875321,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645568705
    },
    {
        "content": "<p>Yes. My plan was to create a third TraitEngine, and that one just invokes the others by duplicating the input and then diffs the select_* functions' output</p>",
        "id": 272876454,
        "sender_full_name": "oli",
        "timestamp": 1645569320
    },
    {
        "content": "<p>That does sound pretty neat</p>",
        "id": 272876991,
        "sender_full_name": "Jack Huey",
        "timestamp": 1645569647
    },
    {
        "content": "<p>Small update: the war really screwed up my plans. I don't think I'll have the capacity to help with <a href=\"https://github.com/rust-lang/chalk/issues/234\">#234</a>, sorry. I'd still love to help with chores if there are any.</p>",
        "id": 274323303,
        "sender_full_name": "Kinrany",
        "timestamp": 1646594412
    },
    {
        "content": "<p>No worries. Just hope you're safe <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span></p>",
        "id": 274325868,
        "sender_full_name": "Jack Huey",
        "timestamp": 1646597684
    },
    {
        "content": "<p>I can try to figure out small things to do</p>",
        "id": 274325881,
        "sender_full_name": "Jack Huey",
        "timestamp": 1646597708
    },
    {
        "content": "<p>That'd be great <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 274325969,
        "sender_full_name": "Kinrany",
        "timestamp": 1646597866
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/chalk/issues/732\">chalk#732</a> could be fun, and also pretty simple</p>",
        "id": 274326396,
        "sender_full_name": "Jack Huey",
        "timestamp": 1646598455
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 274326442,
        "sender_full_name": "Kinrany",
        "timestamp": 1646598486
    },
    {
        "content": "<p>Let me know if you have questions!</p>",
        "id": 274326584,
        "sender_full_name": "Jack Huey",
        "timestamp": 1646598648
    },
    {
        "content": "<p>sort of along with this - it would be nice to get some sort of metric(s) for how \"efficiently\" we solve things</p>",
        "id": 274326596,
        "sender_full_name": "Jack Huey",
        "timestamp": 1646598677
    },
    {
        "content": "<p>Hmm, there's an even easier chore I could do: clean up clippy warnings, haha</p>",
        "id": 274327840,
        "sender_full_name": "Kinrany",
        "timestamp": 1646600436
    },
    {
        "content": "<p>Haha sure :)</p>",
        "id": 274328652,
        "sender_full_name": "Jack Huey",
        "timestamp": 1646601463
    },
    {
        "content": "<p>PR: <a href=\"https://github.com/rust-lang/chalk/pull/753\">https://github.com/rust-lang/chalk/pull/753</a></p>\n<p>Still a bit of a first draft: let me know if I should split it into smaller commits, add a better description, revert or rewrite some of the changes, etc.</p>",
        "id": 274338624,
        "sender_full_name": "Kinrany",
        "timestamp": 1646614699
    },
    {
        "content": "<p>Can you split into smaller commits</p>",
        "id": 274338784,
        "sender_full_name": "Jack Huey",
        "timestamp": 1646614830
    },
    {
        "content": "<p>Specifically function signature changes are harder to review with everything else</p>",
        "id": 274338797,
        "sender_full_name": "Jack Huey",
        "timestamp": 1646614845
    },
    {
        "content": "<p>Yup. There's only one set of substantial signature changes and I tagged it with a comment, the other signature changes merely replace explicit lifetimes with implicit. I'll put them in separate commits too</p>",
        "id": 274338917,
        "sender_full_name": "Kinrany",
        "timestamp": 1646615038
    },
    {
        "content": "<p>That's done. <code>needless_lifetime</code> and <code>ptr_arg</code> are the two commits with signature changes</p>",
        "id": 274343220,
        "sender_full_name": "Kinrany",
        "timestamp": 1646620790
    },
    {
        "content": "<p>Thanks for taking a look! Time to start on something actually useful <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 274765988,
        "sender_full_name": "Kinrany",
        "timestamp": 1646867243
    },
    {
        "content": "<p>Do you want me to find something?</p>",
        "id": 274766132,
        "sender_full_name": "Jack Huey",
        "timestamp": 1646867328
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/chalk/issues/732\">chalk#732</a>?</p>",
        "id": 274766175,
        "sender_full_name": "Jack Huey",
        "timestamp": 1646867360
    },
    {
        "content": "<p>Yep yep, going to work on <a href=\"https://github.com/rust-lang/chalk/issues/732\">chalk#732</a> whenever I have the time. Will probably have questions :D</p>",
        "id": 274766385,
        "sender_full_name": "Kinrany",
        "timestamp": 1646867476
    },
    {
        "content": "<p>Yes, let me know if you do :)</p>",
        "id": 274766414,
        "sender_full_name": "Jack Huey",
        "timestamp": 1646867501
    },
    {
        "content": "<p>Links work, zulip is cool!</p>",
        "id": 274766421,
        "sender_full_name": "Kinrany",
        "timestamp": 1646867506
    },
    {
        "content": "<p>yeah, it's pretty neat. Any of the rust-lang repos, you can do that. Like <a href=\"https://github.com/rust-lang/cargo/issues/1\">cargo#1</a></p>",
        "id": 274766561,
        "sender_full_name": "Jack Huey",
        "timestamp": 1646867574
    },
    {
        "content": "<p>(wow what an issue to link to)</p>",
        "id": 274766588,
        "sender_full_name": "Jack Huey",
        "timestamp": 1646867595
    }
]