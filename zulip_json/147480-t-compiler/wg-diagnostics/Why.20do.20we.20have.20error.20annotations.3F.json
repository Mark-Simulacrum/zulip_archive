[
    {
        "content": "<p>I've read the documentation here <a href=\"https://rustc-dev-guide.rust-lang.org/tests/adding.html#error-annotations\">https://rustc-dev-guide.rust-lang.org/tests/adding.html#error-annotations</a> but im not sure what error annotations provide over the already mandatory .stderr files in UI tests?</p>",
        "id": 261395459,
        "sender_full_name": "Rukai",
        "timestamp": 1636860473
    },
    {
        "content": "<p>It's really easy to --bless the .stderr files without looking at the changes. Adding the annotations makes it harder to change the output by accident, and also makes it easier to read the errors at a glance since the . stderr files can be quite large</p>",
        "id": 261395588,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1636860644
    },
    {
        "content": "<p>Hmmm I would think checking the .stderr files would be an important part of development.<br>\nIf the developer fails to check it, at the very least the reviewer should be ensuring that the quality of the diagnostics isnt regressing.</p>\n<p>I made my first diagnostics PR earlier and I was just blindly doing the busy work of copying in the error annotations and then thoroughly checked the blessed .stderr files afterwards.<br>\nMaybe at larger scales this strategy becomes impossible though?</p>\n<p>Anyway, thanks for the answer, I'll probably get a better idea of its value if I keep contributing.</p>",
        "id": 261395935,
        "sender_full_name": "Rukai",
        "timestamp": 1636861248
    },
    {
        "content": "<p>Sometimes the order of errors changes. In that case it is easy to miss that an error went missing.</p>",
        "id": 261412529,
        "sender_full_name": "bjorn3",
        "timestamp": 1636889305
    },
    {
        "content": "<p>It's also a hedge against regressions on very <em>large</em> refactorings, where several hundred .stderr files get changed at the same time.</p>",
        "id": 261959737,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1637256047
    },
    {
        "content": "<p>And not everyone is... as diligent in looking at the .stderr changes on large PRs all the time <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 261959806,
        "sender_full_name": "Esteban Küber",
        "timestamp": 1637256085
    }
]