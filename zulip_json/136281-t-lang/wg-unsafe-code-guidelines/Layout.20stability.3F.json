[
    {
        "content": "<p>AFAIK we don't say anything about layout stability yet in our \"book\"? I can't even find a section on the topic where we say that pretty much everything is open. And maybe we can at least say that running the same binary multiple times will always use the same layout?<br>\nAlso see <a href=\"https://internals.rust-lang.org/t/when-is-the-abi-stable/10420\" target=\"_blank\" title=\"https://internals.rust-lang.org/t/when-is-the-abi-stable/10420\">https://internals.rust-lang.org/t/when-is-the-abi-stable/10420</a></p>",
        "id": 168789630,
        "sender_full_name": "RalfJ",
        "timestamp": 1561287728
    },
    {
        "content": "<p>For structs we have (<a href=\"https://rust-lang.github.io/unsafe-code-guidelines/layout/structs-and-tuples.html#default-layout-repr-rust\" target=\"_blank\" title=\"https://rust-lang.github.io/unsafe-code-guidelines/layout/structs-and-tuples.html#default-layout-repr-rust\">https://rust-lang.github.io/unsafe-code-guidelines/layout/structs-and-tuples.html#default-layout-repr-rust</a>):</p>\n<blockquote>\n<p>A note on determinism. The definition above does not guarantee determinism between executions of the compiler -- two executions may select different layouts, even if all inputs are identical. Naturally, in practice, the compiler aims to produce deterministic output for a given set of inputs. However, it is difficult to produce a comprehensive summary of the various factors that may affect the layout of structs, and so for the time being we have opted for a conservative definition.</p>\n</blockquote>",
        "id": 168789773,
        "sender_full_name": "Hanna Kruppe",
        "timestamp": 1561288046
    },
    {
        "content": "<p>hm I see. that doesn't really have anything to do with structs though?  It should be in a dedicated section IMO.</p>",
        "id": 168789834,
        "sender_full_name": "RalfJ",
        "timestamp": 1561288145
    },
    {
        "content": "<p>issue created at <a href=\"https://github.com/rust-lang/unsafe-code-guidelines/issues/151\" target=\"_blank\" title=\"https://github.com/rust-lang/unsafe-code-guidelines/issues/151\">https://github.com/rust-lang/unsafe-code-guidelines/issues/151</a></p>",
        "id": 168792041,
        "sender_full_name": "RalfJ",
        "timestamp": 1561292144
    },
    {
        "content": "<p>A lot of this exists in nascent form at <a href=\"https://doc.rust-lang.org/stable/reference/type-layout.html\" target=\"_blank\" title=\"https://doc.rust-lang.org/stable/reference/type-layout.html\">https://doc.rust-lang.org/stable/reference/type-layout.html</a></p>",
        "id": 168797204,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1561302555
    },
    {
        "content": "<p>What do you have in mind ?</p>",
        "id": 168846559,
        "sender_full_name": "gnzlbg",
        "timestamp": 1561380933
    }
]