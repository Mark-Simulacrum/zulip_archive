[
    {
        "content": "<p>Idk where to ask this, but this issue was opened recently <a href=\"https://github.com/rust-lang/rust/issues/95332\">https://github.com/rust-lang/rust/issues/95332</a></p>\n<p>It's an interesting question. OP seems to think there is a compiler bug here. But I think this is <span aria-label=\"sparkles\" class=\"emoji emoji-2728\" role=\"img\" title=\"sparkles\">:sparkles:</span> library UB <span aria-label=\"sparkles\" class=\"emoji emoji-2728\" role=\"img\" title=\"sparkles\">:sparkles:</span> and CTFE isn't necessarily obligated to detect it. But it could, right? We're creating an instance of <code>T</code> where the value it guarantees is available isn't.</p>",
        "id": 276740990,
        "sender_full_name": "Ben Kimock (Saethlin)",
        "timestamp": 1648322013
    },
    {
        "content": "<p>it's language UB but we dont guarantee to detect that either</p>",
        "id": 276741351,
        "sender_full_name": "RalfJ",
        "timestamp": 1648322449
    },
    {
        "content": "<p>NonNull is explicitly called out in the nomicon as part of the \"forbidden values\" family, but through an unstable feature that lets libs opt into it: <a href=\"https://doc.rust-lang.org/nightly/nomicon/what-unsafe-does.html\">https://doc.rust-lang.org/nightly/nomicon/what-unsafe-does.html</a></p>",
        "id": 276743917,
        "sender_full_name": "Gankra",
        "timestamp": 1648326051
    },
    {
        "content": "<p>(so yes, language UB through library extension)</p>",
        "id": 276743923,
        "sender_full_name": "Gankra",
        "timestamp": 1648326071
    },
    {
        "content": "<p>currently <a href=\"https://rust-lang.github.io/rfcs/3016-const-ub.html\">https://rust-lang.github.io/rfcs/3016-const-ub.html</a> says that there are no guarantees at all about <code>const</code> detecting UB</p>",
        "id": 276745368,
        "sender_full_name": "Konrad Borowski",
        "timestamp": 1648328234
    },
    {
        "content": "<p>Yes, this isn't a bug, but the question is whether an attempt should be made</p>",
        "id": 276745679,
        "sender_full_name": "Ben Kimock (Saethlin)",
        "timestamp": 1648328576
    }
]