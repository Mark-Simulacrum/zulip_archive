[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120791\">@RalfJ</span> <span class=\"user-mention\" data-user-id=\"116009\">@nikomatsakis</span> I might be wrong, but we could have an opt-in for unions that are closer in their semantics to enums, where variants are effectively disjoint in their accesses, and using the union to \"transmute\" would be UB <a href=\"https://www.reddit.com/r/rust/comments/9ffqct/blog_measuring_smallvec_footprint_with/e5w7fi6?context=9\" target=\"_blank\" title=\"https://www.reddit.com/r/rust/comments/9ffqct/blog_measuring_smallvec_footprint_with/e5w7fi6?context=9\">https://www.reddit.com/r/rust/comments/9ffqct/blog_measuring_smallvec_footprint_with/e5w7fi6?context=9</a></p>",
        "id": 133869610,
        "sender_full_name": "eddyb",
        "timestamp": 1536827318
    },
    {
        "content": "<p>probably, yes</p>",
        "id": 133887748,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1536848330
    },
    {
        "content": "<p>Why does this <code>SmallVec</code> optimization need extra union behavior?</p>",
        "id": 134115438,
        "sender_full_name": "RalfJ",
        "timestamp": 1537206100
    },
    {
        "content": "<p>I am somewhat doubtful about any notion of an \"active variant\"... that'd somehow have to be stored in \"shadow data\" on the abstract machine, and it is not clear to me where that data would live and how we would even know to access it</p>",
        "id": 134115504,
        "sender_full_name": "RalfJ",
        "timestamp": 1537206142
    }
]