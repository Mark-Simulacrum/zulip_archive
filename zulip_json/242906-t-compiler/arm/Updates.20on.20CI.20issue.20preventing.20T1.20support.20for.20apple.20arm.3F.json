[
    {
        "content": "<p>As per title of the question. Last I read (<a href=\"https://github.com/rust-lang/rust/issues/73908\">https://github.com/rust-lang/rust/issues/73908</a>), awaiting CI provider access to native hardware. However, as far as I can tell, no update on this since November 2020, when it was stated that there is no timeline for any level of support?</p>",
        "id": 261412849,
        "sender_full_name": "ndea7941",
        "timestamp": 1636889822
    },
    {
        "content": "<p>mostly because we're all volunteers in the infra team and we don't have the time to manage our own macOS CI</p>",
        "id": 261419111,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1636899312
    },
    {
        "content": "<p>GitHub has said they are working on a preview of M1 hosting in 2022 <a href=\"https://github.com/actions/virtual-environments/issues/2187#issuecomment-939033228\">here</a></p>",
        "id": 261419668,
        "sender_full_name": "Eric Huss",
        "timestamp": 1636899601
    },
    {
        "content": "<p>yeah we're talking with them</p>",
        "id": 261420163,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1636899971
    },
    {
        "content": "<p>Alright fair enough, thanks for letting us know. Are there any issues with $$$/availability of a system for macOS CI on our end, or is it just the time commitment? If it's the former, what are rough minimum specifications? Would be curious to look into this just to see if I can't help out (probably not)</p>",
        "id": 261439237,
        "sender_full_name": "ndea7941",
        "timestamp": 1636925354
    },
    {
        "content": "<p>availability of machines is not really a problem</p>",
        "id": 261439307,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1636925460
    },
    {
        "content": "<p>Fair fair, makes sense. I'm very green with Rust and am still getting my head around the Dev community. </p>\n<p>Perhaps I am overestimating the importance of availability of Tier 1 support for macOS ARM?</p>",
        "id": 261441145,
        "sender_full_name": "ndea7941",
        "timestamp": 1636928214
    },
    {
        "content": "<p>Something can be very important yet still not done yet. There are a million critically important things. The question thus is what gets done first.</p>",
        "id": 261441967,
        "sender_full_name": "Jubilee",
        "timestamp": 1636929443
    },
    {
        "content": "<p>Or more seriously there are 2 P-critical issues, 91 P-high issues, 298 P-medium issues, and 161 P-low issues open against rust-lang/rust, of the... 7000 open.</p>",
        "id": 261442770,
        "sender_full_name": "Jubilee",
        "timestamp": 1636930643
    },
    {
        "content": "<p>Yeah of course. And massive respect to all of the volunteers who are meticulously tieing things together. </p>\n<p>I've never been involved an emerging language until I came  across Rust, so I'm still learning about how all of these issues are prioritised by the dev community, and who decides what is important. </p>\n<p>Is the best way to track current priorities, and process of allocating priorities, through GitHub, Rust website, or elsewhere? Cheers.</p>",
        "id": 261444715,
        "sender_full_name": "ndea7941",
        "timestamp": 1636933150
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"457459\">Nick Dean</span> <a href=\"#narrow/stream/242906-t-compiler.2Farm/topic/Updates.20on.20CI.20issue.20preventing.20T1.20support.20for.20apple.20arm.3F/near/261444715\">said</a>:</p>\n<blockquote>\n<p>Is the best way to track current priorities, and process of allocating priorities, through GitHub, Rust website, or elsewhere?</p>\n</blockquote>\n<p>There isn't a simple answer to that question, as every team handles their planning and priorities differently. Several teams have dashboards of what is going on (<a href=\"https://github.com/rust-lang/lang-team/projects/2\">language</a>, <a href=\"https://github.com/rust-lang/libs-team/projects/2\">library</a>, <a href=\"https://github.com/rust-lang/crates.io/projects/2\">crates.io</a>, <a href=\"https://github.com/rust-lang/cargo/projects/1\">cargo</a>, etc.).  </p>\n<p>There is a roadmap published every year. <a href=\"https://rust-lang.github.io/rfcs/3037-roadmap-2021.html\">Here</a> is 2021, which coincidentally contains a section on unified project tracking.</p>\n<p>Then there is a <a href=\"https://rust-lang.github.io/compiler-team/working-groups/prioritization/\">prioritization working group</a> which handles prioritizing issues (mainly for the compiler).</p>\n<p>If you just want to stay in touch with what is happening, <a href=\"https://this-week-in-rust.org/\">TWiR</a> is probably the best way to get a weekly digest.</p>",
        "id": 261448334,
        "sender_full_name": "Eric Huss",
        "timestamp": 1636938426
    },
    {
        "content": "<p>Modeling things in a... \"there is Someone who is Setting Priorities\" way is probably misleading from first principles anyways.<br>\nInstead there are a bunch of people bouncing around setting and pursuing their own goals, which means if no one is seriously pursuing a given matter, it doesn't get done, and there is no queue that will inevitably handle something.</p>",
        "id": 261449435,
        "sender_full_name": "Jubilee",
        "timestamp": 1636940198
    },
    {
        "content": "<p>^^ I was going to say something along those lines, but <span class=\"user-mention\" data-user-id=\"281757\">@Jubilee</span> expressed it better than I could.</p>",
        "id": 261449620,
        "sender_full_name": "Eric Huss",
        "timestamp": 1636940526
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120518\">@Eric Huss</span> Thanks. A vague/inchoate question from me, but I appreciate the answer you pulled together. Will check out those threads.</p>\n<p><span class=\"user-mention\" data-user-id=\"281757\">@Jubilee</span> For sure. Question: Do you mean that it is misleading prescriptively, or just descriptively? I don't at all know have an opinion on whether a top-down approach might be 'better' for the long-term livelihood of a language (whatever that means) than a grassroots approach (or vice versa). Again, I'm very green with Rust, but my initial impression was that it was founded with a strong corporate backing, and I suppose I imagined it not impossible that its board members (affiliated with the likes of, for  e.g., AWS, Google, Microsoft, Mozilla, Facebook, etc.) might have an opinion on Rust going certain direction(s), if you will. </p>\n<p>Whether or not Rust actually has strong top-down influences in its DevOps, or anything like a unified DevOps vision, and whether or not those are good things, I am none the wiser!</p>",
        "id": 261451040,
        "sender_full_name": "Nick Dean",
        "timestamp": 1636942907
    },
    {
        "content": "<p>The Rust Foundation is more like an entity that exists to stop the project from dying in a fire due to legal or other reasons. It does some important work but there is no such chain of command. We treat the idea that there is a \"CEO of Rust\" as a joke. In terms of vision and direction, many contributors can pull as much weight as anyone on the board. The decision making processes are driven largely by consensus.</p>\n<p>So: wrong both prescriptively and descriptively.<br>\nI think these \"some\" that \"think\" that hierarchy is what matters are simply wrong.</p>",
        "id": 261452530,
        "sender_full_name": "Jubilee",
        "timestamp": 1636945346
    },
    {
        "content": "<p>This has been expressed also by <a href=\"https://blog.m-ou.se/rust-is-not-a-company/\">https://blog.m-ou.se/rust-is-not-a-company/</a></p>",
        "id": 261452622,
        "sender_full_name": "Jubilee",
        "timestamp": 1636945461
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"281757\">@Jubilee</span> Thanks. That's really helpful, and quite interesting. Sounds like Rust (the language) might have a bit of grassroots democracy about it</p>\n<p>Lol fair, maybe I should have said 'I think that some think that'</p>",
        "id": 261453622,
        "sender_full_name": "Nick Dean",
        "timestamp": 1636947095
    },
    {
        "content": "<p>It's more like a giant pile of crabs: <a href=\"https://www.technologyreview.com/2012/04/12/186779/computer-scientists-build-computer-using-swarms-of-crabs/\">https://www.technologyreview.com/2012/04/12/186779/computer-scientists-build-computer-using-swarms-of-crabs/</a></p>",
        "id": 261453781,
        "sender_full_name": "Jubilee",
        "timestamp": 1636947353
    },
    {
        "content": "<p>Practically, some people run the tests on M1 by hand every so often. Last I heard was a few days ago, but IIRC everything was passing.</p>",
        "id": 262134489,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1637358452
    },
    {
        "content": "<p>Good to know <span class=\"user-mention\" data-user-id=\"116155\">@Jake Goulding</span>, whereabouts did you hear that? Btw, do you happen to know any of the reasons why tier 2 platforms don't build documentation?</p>",
        "id": 262156747,
        "sender_full_name": "Nick Dean (he/him)",
        "timestamp": 1637375415
    },
    {
        "content": "<p>Mostly around artifact storage space if I remember correctly. Thereâ€™s a lot of tier 2 targets.</p>",
        "id": 262156793,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1637375504
    },
    {
        "content": "<p>Someone DMed me asking about Apple Silicon and Rosetta, they told me they got the tests passing</p>",
        "id": 262156874,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1637375616
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116155\">Jake Goulding</span> <a href=\"#narrow/stream/242906-t-compiler.2Farm/topic/Updates.20on.20CI.20issue.20preventing.20T1.20support.20for.20apple.20arm.3F/near/262156874\">said</a>:</p>\n<blockquote>\n<p>Someone DMed me asking about Apple Silicon and Rosetta, they told me they got the tests passing</p>\n</blockquote>\n<p>Fair enough, makes sense. Btw, as per <a href=\"https://github.com/ethereum/solidity/issues/12291#issuecomment-971778548\">https://github.com/ethereum/solidity/issues/12291#issuecomment-971778548</a>:</p>\n<p>\"BTW, you reminded me that on the last call with CircleCI they said that added support for Linux on ARM.\" </p>\n<p>Perhaps we are getting closer to availability of macOS arm rust CI?</p>",
        "id": 262156969,
        "sender_full_name": "Nick Dean (he/him)",
        "timestamp": 1637375718
    },
    {
        "content": "<p>i had the tests passing at the start of the month on macos arm, or at least the stdlib tests, i guess i didnt run the compilers own tests</p>",
        "id": 262158286,
        "sender_full_name": "Thom Chiovoloni",
        "timestamp": 1637377331
    },
    {
        "content": "<p>it would be nice to run it in ci yeah</p>",
        "id": 262158344,
        "sender_full_name": "Thom Chiovoloni",
        "timestamp": 1637377413
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"209168\">Thom Chiovoloni</span> <a href=\"#narrow/stream/242906-t-compiler.2Farm/topic/Updates.20on.20CI.20issue.20preventing.20T1.20support.20for.20apple.20arm.3F/near/262158344\">said</a>:</p>\n<blockquote>\n<p>it would be nice to run it in ci yeah</p>\n</blockquote>\n<p>exciting stuff!</p>",
        "id": 262159159,
        "sender_full_name": "Nick Dean (he/him)",
        "timestamp": 1637378429
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"457459\">Nick Dean (he/him)</span> <a href=\"#narrow/stream/242906-t-compiler.2Farm/topic/Updates.20on.20CI.20issue.20preventing.20T1.20support.20for.20apple.20arm.3F/near/262156747\">said</a>:</p>\n<blockquote>\n<p>Good to know <span class=\"user-mention silent\" data-user-id=\"116155\">Jake Goulding</span>, whereabouts did you hear that? Btw, do you happen to know any of the reasons why tier 2 platforms don't build documentation?</p>\n</blockquote>\n<p>it's not much about artifacts space but rather that building docs take a long time</p>",
        "id": 262174756,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1637402466
    },
    {
        "content": "<p>and macOS builders are already our slowest ones, bottlenecking the rest of CI without even building docs for aarch64</p>",
        "id": 262174762,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1637402485
    },
    {
        "content": "<p>And the big hope is that when Apple Silicon is available in CI, it will blow away the current build in time <span aria-label=\"fingers crossed\" class=\"emoji emoji-1f91e\" role=\"img\" title=\"fingers crossed\">:fingers_crossed:</span></p>",
        "id": 262215370,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1637458413
    },
    {
        "content": "<p>Well, supposedly apple silicon may very soon be available via CircleCI as per their most recent roadmap</p>\n<p><a href=\"https://github.com/ethereum/solidity/issues/12291#issuecomment-974851327\">https://github.com/ethereum/solidity/issues/12291#issuecomment-974851327</a></p>\n<p>But perhaps the rust infrastructure team might prefer to use GitHub actions, for which I have not been able to ascertain an ETA</p>",
        "id": 262264689,
        "sender_full_name": "Nick Dean (he/him)",
        "timestamp": 1637534172
    },
    {
        "content": "<p>As Pietro mentioned:</p>\n<p><span class=\"user-mention silent\" data-user-id=\"121055\">Pietro Albini</span> <a href=\"#narrow/stream/242906-t-compiler.2Farm/topic/Updates.20on.20CI.20issue.20preventing.20T1.20support.20for.20apple.20arm.3F/near/261420163\">said</a>:</p>\n<blockquote>\n<p>yeah we're talking with them</p>\n</blockquote>\n<p>GH have been good partners and I hope that we get to be on whatever early beta they make for M1 support.</p>\n<p>I could also see having some CircleCI runners, but I don't know how the money part of that would work out, even if we wanted to take on the increased technical load of having multiple CI providers (again).</p>",
        "id": 262340824,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1637597689
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116155\">@Jake Goulding</span> </p>\n<p>If someone from the Rust infra team confirmed that CircleCI runners would be feasible from a technical perspective but that funds would be an issue, I would be happy to help look into how we could corral funding (crowdsourced)... I imagine that at least some of the others who are keen on tier 1 support for macOS arm (judging by GitHub, there are a few) would be willing to put some money up, however small. Based on expression of interest or something like that, we could estimate the sustainability of funding?</p>",
        "id": 262839214,
        "sender_full_name": "Nick Dean (he/him)",
        "timestamp": 1637965751
    },
    {
        "content": "<p>the problem is not funding</p>",
        "id": 262839328,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1637965890
    },
    {
        "content": "<p>not using github actions would mean duplicating the whole configuration, and maintaining both of them</p>",
        "id": 262839384,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1637965935
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"121055\">@Pietro Albini</span> </p>\n<p>Thanks, makes sense. Was CI split between multiple providers in the past?</p>\n<p><span class=\"user-mention\" data-user-id=\"435059\">@Ben Reeves</span> </p>\n<p>There you go</p>",
        "id": 262839579,
        "sender_full_name": "Nick Dean (he/him)",
        "timestamp": 1637966201
    },
    {
        "content": "<p>yes, but honestly that was a pain to maintain :)</p>",
        "id": 262839595,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1637966238
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"121055\">Pietro Albini</span> <a href=\"#narrow/stream/242906-t-compiler.2Farm/topic/Updates.20on.20CI.20issue.20preventing.20T1.20support.20for.20apple.20arm.3F/near/262839595\">said</a>:</p>\n<blockquote>\n<p>yes, but honestly that was a pain to maintain :)</p>\n</blockquote>\n<p>Yeah fair enough</p>",
        "id": 262839810,
        "sender_full_name": "Nick Dean (he/him)",
        "timestamp": 1637966502
    },
    {
        "content": "<p>I believe you are waiting for GitHub Actions to support M1, but maybe this might of interest to some of you: <a href=\"https://aws.amazon.com/blogs/aws/use-amazon-ec2-m1-mac-instances-to-build-test-macos-ios-ipados-tvos-and-watchos-apps/\">https://aws.amazon.com/blogs/aws/use-amazon-ec2-m1-mac-instances-to-build-test-macos-ios-ipados-tvos-and-watchos-apps/</a></p>",
        "id": 263486703,
        "sender_full_name": "Yerkebulan Tulibergenov",
        "timestamp": 1638472327
    },
    {
        "content": "<p>the problem is not hardware, is running the CI on it</p>",
        "id": 263512289,
        "sender_full_name": "Pietro Albini",
        "timestamp": 1638486278
    },
    {
        "content": "<p>GHA is likely getting native M1 support in a couple of weeks it seems: <a href=\"https://github.com/actions/runner/issues/805#issuecomment-1041968059\">https://github.com/actions/runner/issues/805#issuecomment-1041968059</a><br>\nEdit: oh, only for the runner I think. not as hosted by github.</p>",
        "id": 272161349,
        "sender_full_name": "bjorn3",
        "timestamp": 1645037742
    },
    {
        "content": "<p>Thanks for the work <span class=\"user-mention\" data-user-id=\"407656\">@Hans Kratz</span> ;-)</p>",
        "id": 272182752,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1645047500
    },
    {
        "content": "<p>It took them a while (mainly because .NET 6.0 was still in prerelease) but the fork seems to have succeeded in giving them a little push. ;-)</p>",
        "id": 272243353,
        "sender_full_name": "Hans Kratz",
        "timestamp": 1645095713
    }
]