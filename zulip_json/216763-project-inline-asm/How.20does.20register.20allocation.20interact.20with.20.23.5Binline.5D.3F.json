[
    {
        "content": "<p>If there's an <code>asm!</code> block in an inline function, does each inline of the function get a fresh calculation of what the best register allocation would be?</p>\n<p>And if not, do I need to put all my one-liners of inline asm into macros instead so that they expand at the use site and get a chance to pick registers that way?</p>",
        "id": 253595114,
        "sender_full_name": "Lokathor",
        "timestamp": 1631804117
    },
    {
        "content": "<p>Yes, register allocation happens after LLVM-ir gets lowered to another internal IR of LLVM. Inlining happens long before this.</p>",
        "id": 253596523,
        "sender_full_name": "bjorn3",
        "timestamp": 1631804640
    },
    {
        "content": "<p>Register allocation has to happen after pretty much any optimizations.</p>",
        "id": 253596674,
        "sender_full_name": "bjorn3",
        "timestamp": 1631804685
    }
]