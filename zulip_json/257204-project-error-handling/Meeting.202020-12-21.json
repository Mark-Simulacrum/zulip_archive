[
    {
        "content": "<p>meeting in 1 minute</p>",
        "id": 220617386,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608577144
    },
    {
        "content": "<p>holiday week so not a big deal if anyone isn't here</p>",
        "id": 220617415,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608577164
    },
    {
        "content": "<p>and here is our current meeting agenda <a href=\"https://hackmd.io/@rust-libs/BJiildC2v\">https://hackmd.io/@rust-libs/BJiildC2v</a></p>",
        "id": 220617568,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608577233
    },
    {
        "content": "<p>let's start by seeing who is here</p>",
        "id": 220617600,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608577256
    },
    {
        "content": "<p>I'm here</p>",
        "id": 220617677,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608577303
    },
    {
        "content": "<p>hey charles :D</p>",
        "id": 220617759,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608577330
    },
    {
        "content": "<p><span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 220617796,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608577354
    },
    {
        "content": "<p>Merry Xmas</p>",
        "id": 220617821,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608577368
    },
    {
        "content": "<p>hehe, tyty</p>",
        "id": 220617830,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608577374
    },
    {
        "content": "<p>you too</p>",
        "id": 220617834,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608577375
    },
    {
        "content": "<p>welp, seems like other people might be enjoying their holidays as they should, so lets make this a quick one and I'll hang out incase anyone shows up</p>",
        "id": 220617908,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608577403
    },
    {
        "content": "<p>hows the assert change going <span class=\"user-mention\" data-user-id=\"344328\">@Charles Ellis O'Riley Jr.</span> ?</p>",
        "id": 220617923,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608577412
    },
    {
        "content": "<p>Well, learning alot.  The major thing that I learned is I'm going to need to ask more questions.  My modus operandi is to try to figure something out on my own.  With this, that is not going to work.  Where I thought I needed to make a change, it wasn't the place.   My direct question to the group will be...where do I need to make the change.</p>",
        "id": 220618334,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608577583
    },
    {
        "content": "<p>Without looking into the issue in more detail I'm unsure, but I can help you figure out what to do next</p>",
        "id": 220618403,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608577639
    },
    {
        "content": "<p>can you remind me what you tried before and where you are right now?</p>",
        "id": 220618416,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608577647
    },
    {
        "content": "<p>like, what are you stuck on</p>",
        "id": 220618424,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608577651
    },
    {
        "content": "<p>One momnent</p>",
        "id": 220618446,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608577667
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/blob/master/compiler/rustc_builtin_macros/src/assert.rs\">https://github.com/rust-lang/rust/blob/master/compiler/rustc_builtin_macros/src/assert.rs</a>  This is where I thought I needed to make a change so I did some research on the AST.  I asked a question one day to confirm that was the spot and received an answer that it wasn't.  I think I need to know how to figure this out.....because I don't.</p>",
        "id": 220619003,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608577956
    },
    {
        "content": "<p>do you have a link to where you asked for confirmation?</p>",
        "id": 220619249,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578106
    },
    {
        "content": "<p>Looking for it now</p>",
        "id": 220619294,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608578132
    },
    {
        "content": "<p>Look under Nicer Assert Messages...toward the end</p>",
        "id": 220619409,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608578190
    },
    {
        "content": "<p>Hello, I think nothing has progressed from me this week <span aria-label=\"octopus\" class=\"emoji emoji-1f419\" role=\"img\" title=\"octopus\">:octopus:</span></p>",
        "id": 220619483,
        "sender_full_name": "oliver",
        "timestamp": 1608578265
    },
    {
        "content": "<p>Hi oliver.  Seasons greetings</p>",
        "id": 220619574,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608578313
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"281739\">oliver</span> <a href=\"#narrow/stream/257204-project-error-handling/topic/Meeting.202020-12-21/near/220619483\">said</a>:</p>\n<blockquote>\n<p>Hello, I think nothing has progressed from me this week <span aria-label=\"octopus\" class=\"emoji emoji-1f419\" role=\"img\" title=\"octopus\">:octopus:</span></p>\n</blockquote>\n<p>no worries</p>",
        "id": 220619582,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578320
    },
    {
        "content": "<p>im in the same boat</p>",
        "id": 220619587,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578324
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"344328\">Charles Ellis O'Riley Jr.</span> <a href=\"#narrow/stream/257204-project-error-handling/topic/Meeting.202020-12-21/near/220619003\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/rust-lang/rust/blob/master/compiler/rustc_builtin_macros/src/assert.rs\">https://github.com/rust-lang/rust/blob/master/compiler/rustc_builtin_macros/src/assert.rs</a>  This is where I thought I needed to make a change so I did some research on the AST.  I asked a question one day to confirm that was the spot and received an answer that it wasn't.  I think I need to know how to figure this out.....because I don't.</p>\n</blockquote>\n<p>looking at the thread and <span class=\"user-mention\" data-user-id=\"307537\">@Camelid</span>'s response I'm guessing that you did find the correct place more or less</p>",
        "id": 220619672,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578380
    },
    {
        "content": "<p>ok.  My question then is exactly how do I trace the code?  I've been running x.py but <span class=\"user-mention\" data-user-id=\"307537\">@Camelid</span>  suggested something entirely different and I was unsure of how to run it in the system.</p>",
        "id": 220619923,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608578526
    },
    {
        "content": "<p>what did they recommend?</p>",
        "id": 220619956,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578544
    },
    {
        "content": "<p>the direct <code>rustc</code> call?</p>",
        "id": 220619980,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578561
    },
    {
        "content": "<p>afaik they still meant for you to use <code>x.py</code> to compile the <code>rustc</code> binary that you use when expanding examples to test the code gen</p>",
        "id": 220620011,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578598
    },
    {
        "content": "<p>so my understanding of this change is that in that <code>expand_assert</code> fn you need to change how it creates the <code>panic_call</code> variable</p>",
        "id": 220620161,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578705
    },
    {
        "content": "<p>does that mean that I need to run  rustc +nightly -Z unpretty=expanded ?</p>",
        "id": 220620175,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608578713
    },
    {
        "content": "<p>yea</p>",
        "id": 220620179,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578717
    },
    {
        "content": "<p>but you're going to twant to use whatever version you compiled</p>",
        "id": 220620189,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578723
    },
    {
        "content": "<p>I don't understand and don't want to pretend I do.</p>",
        "id": 220620304,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608578768
    },
    {
        "content": "<p><a href=\"https://rust-lang.github.io/rustup/concepts/toolchains.html#custom-toolchains\">https://rust-lang.github.io/rustup/concepts/toolchains.html#custom-toolchains</a></p>",
        "id": 220620311,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578774
    },
    {
        "content": "<p>its okay I will help explain</p>",
        "id": 220620316,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578778
    },
    {
        "content": "<p>this should show how to configure a project to use a custom compiled rustc</p>",
        "id": 220620343,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578796
    },
    {
        "content": "<p>so you'll go and create a project anywhere you want, just a <code>cargo new</code>, in a temp dir for example</p>",
        "id": 220620358,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578814
    },
    {
        "content": "<p>and that's where you put your test assert that you want to have expand into something nicer</p>",
        "id": 220620387,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578841
    },
    {
        "content": "<p>then you configure that project to use your custom toolchain via rustup</p>",
        "id": 220620394,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578849
    },
    {
        "content": "<p>then you can go to the rustc repo and edit the compiler then recompile, and the project you made should always use your current version of the compiler</p>",
        "id": 220620417,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578865
    },
    {
        "content": "<p>there are probably nicer ways to do this via rustc test infrastructure but I'm not familiar enough with it to know where to find that info</p>",
        "id": 220620482,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578894
    },
    {
        "content": "<p>_I should really read the rustc dev guide someday_</p>",
        "id": 220620497,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608578905
    },
    {
        "content": "<p>I should also do more reading but when I do, especially with this, I have more questions.</p>",
        "id": 220620635,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608578986
    },
    {
        "content": "<p>sounds good</p>",
        "id": 220620793,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608579066
    },
    {
        "content": "<p>please dont hesitate to ask questions</p>",
        "id": 220620802,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608579070
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"344328\">@Charles Ellis O'Riley Jr.</span> and <span class=\"user-mention\" data-user-id=\"281739\">@oliver</span></p>",
        "id": 220620846,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608579095
    },
    {
        "content": "<p>one thing I want to mention tho I'll probably bring it up again next meeting when we have more people</p>",
        "id": 220620878,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608579111
    },
    {
        "content": "<p>I'm planning on getting all the people who have been contributing consistently added to the list of members for the project group</p>",
        "id": 220620958,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608579138
    },
    {
        "content": "<p>Trust me.  2021 will bring about many more questions...sometimes redundant.  Thanks Jane, I'm going to look again at what you proposed and also read that doc.</p>",
        "id": 220621014,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608579169
    },
    {
        "content": "<p>also I think im going to leave the meeting agenda as is and not commit this agenda to the repo since it was such a short meeting</p>",
        "id": 220621121,
        "sender_full_name": "Jane Lusby",
        "timestamp": 1608579223
    },
    {
        "content": "<p>sounds great and the next meeting will be Jan 4th</p>",
        "id": 220621216,
        "sender_full_name": "oliver",
        "timestamp": 1608579258
    },
    {
        "content": "<p>Agree.  Mary Christmas to you Jane and party hardy in a safe way :)</p>",
        "id": 220621248,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608579275
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"344328\">@Charles Ellis O'Riley Jr.</span> In terms of creating a custom toolchain (so you can do <code>rustc +stage1 ...</code> where stage1 is a local build), all it is is this:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code><span class=\"c1\"># cd into your clone of the repo</span>\n$ <span class=\"nb\">cd</span> rust\n<span class=\"c1\"># Make sure you have built the compiler</span>\n$ ./x.py build\n<span class=\"c1\"># Link the toolchain</span>\n$ rustup toolchain link stage1 build/&lt;your-target-triple&gt;/stage1\n</code></pre></div>\n<p><code>&lt;your-target-triple&gt;</code> is whatever the 'host' line of <code>rustc -Vv</code> shows:</p>\n<div class=\"codehilite\"><pre><span></span><code>rustc 1.48.0 (7eac88abb 2020-11-16)\nbinary: rustc\ncommit-hash: 7eac88abb2e57e752f3302f02be5f3ce3d7adfb4\ncommit-date: 2020-11-16\nhost: x86_64-apple-darwin          &lt;--- this is it\nrelease: 1.48.0\nLLVM version: 11.0\n</code></pre></div>\n<p>The rustc-dev-guide has lots of information about this and more; I recommend reading <a href=\"https://rustc-dev-guide.rust-lang.org/building/how-to-build-and-run.html#creating-a-rustup-toolchain\">https://rustc-dev-guide.rust-lang.org/building/how-to-build-and-run.html#creating-a-rustup-toolchain</a>.</p>",
        "id": 220630343,
        "sender_full_name": "Noah Lev",
        "timestamp": 1608584692
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"307537\">@Camelid</span>  Thanks..  Is this something I should be doing in addition to rustic +nightly -Z I pretty=expand arc/main.rs    which is what I am doing now?</p>",
        "id": 220630980,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608585091
    },
    {
        "content": "<p>I already have my toolchain.  Nightly &amp; stable.  I've done all the steps you just outlined.  I need to understandhow and where to insert a change.  I'm trying to find where assert! is constructed.</p>",
        "id": 220631531,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608585445
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"344328\">Charles Ellis O'Riley Jr.</span> <a href=\"#narrow/stream/257204-project-error-handling/topic/Meeting.202020-12-21/near/220631531\">said</a>:</p>\n<blockquote>\n<p>I already have my toolchain.  Nightly &amp; stable.  I've done all the steps you just outlined.  I need to understandhow and where to insert a change.  I'm trying to find where assert! is constructed.</p>\n</blockquote>\n<p>nightly and stable don't have your changes though</p>",
        "id": 220631562,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1608585466
    },
    {
        "content": "<p>the steps <span class=\"user-mention silent\" data-user-id=\"307537\">Camelid</span> gave were to get a toolchain with your changes</p>",
        "id": 220631573,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1608585477
    },
    {
        "content": "<p>if you're just gathering info for now then you don't need to worry about it, but eventually you'll need to test your changes with stage 1</p>",
        "id": 220631623,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1608585496
    },
    {
        "content": "<p>I see.  Thanks.  BTW, is assert constructed somewhere and if so, where?</p>",
        "id": 220631696,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608585559
    },
    {
        "content": "<p>I think <a href=\"http://assert.rs\">assert.rs</a> is the right place</p>",
        "id": 220631791,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1608585604
    },
    {
        "content": "<p>That's where I got confused because according to @Camelid, I needed to run rustic +nightly -Z I pretty=expand ?  Perhaps I should just read the doc.  I'm currently running rustic +nightly -Z I pretty=expand</p>",
        "id": 220632080,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608585792
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"344328\">Charles Ellis O'Riley Jr.</span> <a href=\"#narrow/stream/257204-project-error-handling/topic/Meeting.202020-12-21/near/220632080\">said</a>:</p>\n<blockquote>\n<p>That's where I got confused because according to @Camelid, I needed to run rustic +nightly -Z I pretty=expand ?  Perhaps I should just read the doc.  I'm currently running rustic +nightly -Z I pretty=expand</p>\n</blockquote>\n<p>that shows you what the macro expands <em>to</em></p>",
        "id": 220632237,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1608585879
    },
    {
        "content": "<p>not <em>where in the compiler</em> it was expanded</p>",
        "id": 220632257,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1608585889
    },
    {
        "content": "<p>so, I'll have to make a change within assert.rc which is written in that AST language?</p>",
        "id": 220632423,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608585964
    },
    {
        "content": "<p><a href=\"http://assert.rs\">assert.rs</a> is <em>generating</em> that AST language</p>",
        "id": 220632622,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1608586087
    },
    {
        "content": "<p>it's mostly the same as a normal proc-macro works</p>",
        "id": 220632654,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1608586109
    },
    {
        "content": "<p>but in the compiler itself</p>",
        "id": 220632659,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1608586111
    },
    {
        "content": "<p><code>assert!</code> is expanded in <code>compiler/rustc_builtin_macros/.../assert.rs</code> (I forget the exact path). 'Expanding' just means that an AST node representing an invocation of <code>assert!</code> is turned into a different AST node.</p>",
        "id": 220633014,
        "sender_full_name": "Noah Lev",
        "timestamp": 1608586330
    },
    {
        "content": "<p><code>rustc +nightly -Z unpretty=expand</code> will show you a pretty-printed version of the AST node that <code>assert!</code> was replaced with.</p>",
        "id": 220633119,
        "sender_full_name": "Noah Lev",
        "timestamp": 1608586417
    },
    {
        "content": "<p>This chapter in the rustc dev guide may be helpful: <a href=\"https://rustc-dev-guide.rust-lang.org/macro-expansion.html\">https://rustc-dev-guide.rust-lang.org/macro-expansion.html</a></p>",
        "id": 220633229,
        "sender_full_name": "Noah Lev",
        "timestamp": 1608586481
    },
    {
        "content": "<p>So my change will go into the AST node representing an invocation ofg assert?</p>",
        "id": 220633282,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608586526
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"307537\">@Camelid</span> Thanks.</p>",
        "id": 220633316,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608586556
    },
    {
        "content": "<p>I don't know what your change is, so I can't help you with that.</p>",
        "id": 220634103,
        "sender_full_name": "Noah Lev",
        "timestamp": 1608587034
    },
    {
        "content": "<p>Add assert_eq functionality to assert</p>",
        "id": 220634203,
        "sender_full_name": "Charles Ellis O'Riley Jr.",
        "timestamp": 1608587095
    }
]