[
    {
        "content": "<p>There's a number of traits that implicitly allocate to the global allocator like <code>str</code> <code>ToOwned</code> making a <code>String&lt;Global&gt;</code> and <code>Clone</code> <code>String&lt;Global&gt;</code> always making another <code>String&lt;Global&gt;</code> which would make it slightly more difficult to move data across allocators.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">a</span>: <span class=\"nb\">String</span><span class=\"o\">&lt;</span><span class=\"n\">Global</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">format</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s\">&quot;hello world!&quot;</span><span class=\"p\">);</span><span class=\"w\"></span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">b</span>: <span class=\"nb\">String</span><span class=\"o\">&lt;</span><span class=\"n\">System</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"p\">.</span><span class=\"n\">clone</span><span class=\"p\">();</span><span class=\"w\"> </span><span class=\"c1\">// nope, that&#39;s a String&lt;Global&gt;</span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">b</span>: <span class=\"nb\">String</span><span class=\"o\">&lt;</span><span class=\"n\">System</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"c1\">// we could do it manually</span>\n<span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"k\">mut</span><span class=\"w\"> </span><span class=\"n\">z</span>: <span class=\"nb\">String</span><span class=\"o\">&lt;</span><span class=\"n\">System</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">String</span>::<span class=\"n\">new</span><span class=\"p\">();</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">z</span><span class=\"p\">.</span><span class=\"n\">push_str</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">.</span><span class=\"n\">as_str</span><span class=\"p\">());</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">z</span><span class=\"w\"></span>\n<span class=\"p\">};</span><span class=\"w\"></span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">b</span>: <span class=\"nb\">String</span><span class=\"o\">&lt;</span><span class=\"n\">System</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"p\">.</span><span class=\"n\">clone_in</span><span class=\"p\">(</span><span class=\"n\">System</span><span class=\"p\">);</span><span class=\"w\"> </span><span class=\"c1\">// or use a trait</span>\n\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">s</span>: <span class=\"kp\">&amp;</span><span class=\"nb\">&#39;static</span><span class=\"w\"> </span><span class=\"kt\">str</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">&quot;hello world!&quot;</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">t</span>: <span class=\"nb\">String</span><span class=\"o\">&lt;</span><span class=\"n\">Global</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">to_owned</span><span class=\"p\">();</span><span class=\"w\"></span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">u</span>: <span class=\"nb\">String</span><span class=\"o\">&lt;</span><span class=\"n\">System</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">to_owned</span><span class=\"p\">();</span><span class=\"w\"> </span><span class=\"c1\">// nope, it&#39;s Global again</span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">v</span>: <span class=\"nb\">String</span><span class=\"o\">&lt;</span><span class=\"n\">System</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">to_owned_in</span><span class=\"p\">(</span><span class=\"n\">System</span><span class=\"p\">);</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p>Is there an issue yet talking about traits like this?</p>",
        "id": 175826315,
        "sender_full_name": "Sydney Acksman",
        "timestamp": 1568649816
    },
    {
        "content": "<p>LGTM</p>",
        "id": 175858139,
        "sender_full_name": "gnzlbg",
        "timestamp": 1568672328
    }
]