[
    {
        "content": "<p>Dear <span class=\"user-mention\" data-user-id=\"120791\">@RalfJ</span> and <span class=\"user-mention\" data-user-id=\"124288\">@oli</span></p>\n<p>It would appear that the Miri cron job build failed. Would you mind investigating this issue?</p>\n<p>Thanks in advance!<br>\nSincerely,<br>\nThe Miri Cronjobs Bot</p>",
        "id": 269121403,
        "sender_full_name": "miri cronjobs",
        "timestamp": 1643037923
    },
    {
        "content": "<p>locally it all works, but it seems windows has some inline assembly now</p>\n<div class=\"codehilite\"><pre><span></span><code>error: unsupported operation: inline assembly is not supported\n   --&gt; C:\\Users\\runneradmin\\.rustup\\toolchains\\master\\lib\\rustlib\\src\\rust\\library\\std\\src\\sys\\windows\\mod.rs:291:17\n    |\n291 |                 core::arch::asm!(&quot;int $$0x29&quot;, in(&quot;ecx&quot;) FAST_FAIL_FATAL_APP_EXIT);\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ inline assembly is not supported\n</code></pre></div>",
        "id": 269136370,
        "sender_full_name": "RalfJ",
        "timestamp": 1643043757
    },
    {
        "content": "<p>strangely, <a href=\"https://github.com/rust-lang/rust/blob/master/library/std/src/sys/windows/mod.rs\">https://github.com/rust-lang/rust/blob/master/library/std/src/sys/windows/mod.rs</a> did not change in a month...</p>",
        "id": 269136627,
        "sender_full_name": "RalfJ",
        "timestamp": 1643043843
    },
    {
        "content": "<p>ah this is probably caused by <a href=\"https://github.com/rust-lang/rust/pull/92828/files\">https://github.com/rust-lang/rust/pull/92828/files</a> which changed some <code>intrinsics::abort()</code> to <code>crate::sys::abort_internal()</code></p>",
        "id": 269137055,
        "sender_full_name": "RalfJ",
        "timestamp": 1643044051
    },
    {
        "content": "<p>so we need to make Windows <code>abort_internal</code> work on Miri, likely by just stubbing it out so it reaches the fallback case which is the intrinsic</p>",
        "id": 269137370,
        "sender_full_name": "RalfJ",
        "timestamp": 1643044184
    }
]