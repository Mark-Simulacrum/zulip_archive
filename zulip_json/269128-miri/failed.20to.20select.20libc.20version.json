[
    {
        "content": "<p>Hi, I'm trying to run tests with miri. However, <code>cargo miri test</code> fails with</p>\n<div class=\"codehilite\"><pre><span></span><code>error: failed to select a version for the requirement `libc = &quot;^0.2.103&quot;`\ncandidate versions found which didn&#39;t match: 0.2.101, 0.2.100, 0.2.99, ...\nlocation searched: crates.io index\nrequired by package `std v0.0.0 (/home/...\n    ... which satisfies path dependency `std` (locked to 0.0.0) of package `sysroot v0.0.0 (/tmp/xargo.JWcjqo1K0l3r)`\n</code></pre></div>\n<p>I already tried running <code>cargo clean</code> and <code>cargo update</code>.</p>\n<p>Strangely, the candidate versions only go up to 0.2.101, although <a href=\"http://crates.io\">crates.io</a> has up to 0.2.104, but I'm not sure if that's because some other dependency is requiring libc &lt;= 0.2.101. My own project depends on <code>libc = \"0.2\"</code></p>",
        "id": 258252247,
        "sender_full_name": "Raekye",
        "timestamp": 1634669613
    },
    {
        "content": "<p>Hmm, seems like a Xargo / <code>-Z build-std</code> issue...</p>",
        "id": 258268703,
        "sender_full_name": "Noah Lev",
        "timestamp": 1634676232
    },
    {
        "content": "<p>What version of rustc and miri are using? (Run, in your project, <code>rustc --version --verbose</code> and <code>cargo miri --version</code>.)</p>",
        "id": 258268967,
        "sender_full_name": "Noah Lev",
        "timestamp": 1634676330
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"437904\">@Raekye</span> That should be fixed after the next nightly.  See <a href=\"https://github.com/rust-lang/cargo/issues/9976#issuecomment-946176952\">https://github.com/rust-lang/cargo/issues/9976#issuecomment-946176952</a> for some workarounds.</p>",
        "id": 258273206,
        "sender_full_name": "Eric Huss",
        "timestamp": 1634678057
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120518\">@Eric Huss</span> thanks, that worked!</p>",
        "id": 258280987,
        "sender_full_name": "Raekye",
        "timestamp": 1634681556
    },
    {
        "content": "<p>(oh and thanks Noah too - didn't see your message until afterwards since Eric's message was highlighted <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> )</p>",
        "id": 258281067,
        "sender_full_name": "Raekye",
        "timestamp": 1634681607
    }
]