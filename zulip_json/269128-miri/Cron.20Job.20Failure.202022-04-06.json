[
    {
        "content": "<p>Dear <span class=\"user-mention\" data-user-id=\"120791\">@RalfJ</span> and <span class=\"user-mention\" data-user-id=\"124288\">@oli</span></p>\n<p>It would appear that the Miri cron job build failed. Would you mind investigating this issue?</p>\n<p>Thanks in advance!<br>\nSincerely,<br>\nThe Miri Cronjobs Bot</p>",
        "id": 278039398,
        "sender_full_name": "miri cronjobs",
        "timestamp": 1649258243
    },
    {
        "content": "<p>uh-oh, Rust started using <code>futex</code> in new ways that Miri doesn't support :/</p>",
        "id": 278067708,
        "sender_full_name": "RalfJ",
        "timestamp": 1649270280
    },
    {
        "content": "<p>Yeah, <a href=\"https://github.com/rust-lang/rust/pull/95035\">https://github.com/rust-lang/rust/pull/95035</a> replaces pthread mutexes with futex based ones on linux.</p>",
        "id": 278069310,
        "sender_full_name": "bjorn3",
        "timestamp": 1649271097
    },
    {
        "content": "<p>Also <a href=\"https://github.com/rust-lang/rust/pull/95727\">https://github.com/rust-lang/rust/pull/95727</a> will do the same for ReentrantMutex</p>",
        "id": 278069345,
        "sender_full_name": "bjorn3",
        "timestamp": 1649271115
    },
    {
        "content": "<p>I just wish this had been done before miri implemented the pthread APIs, implementing only <code>futex</code> is a lot less work ;)</p>",
        "id": 278069942,
        "sender_full_name": "RalfJ",
        "timestamp": 1649271372
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"133247\">bjorn3</span> <a href=\"#narrow/stream/269128-miri/topic/Cron.20Job.20Failure.202022-04-06/near/278069345\">said</a>:</p>\n<blockquote>\n<p>Also <a href=\"https://github.com/rust-lang/rust/pull/95727\">https://github.com/rust-lang/rust/pull/95727</a> will do the same for ReentrantMutex</p>\n</blockquote>\n<p>that doesnt seem to even do any new <code>futex</code> calls</p>",
        "id": 278069956,
        "sender_full_name": "RalfJ",
        "timestamp": 1649271379
    },
    {
        "content": "<p>It does. The new linux ReentrantMutex in that PR uses the futex based Mutex internally.</p>",
        "id": 278071150,
        "sender_full_name": "bjorn3",
        "timestamp": 1649271920
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"133247\">bjorn3</span> <a href=\"#narrow/stream/269128-miri/topic/Cron.20Job.20Failure.202022-04-06/near/278071150\">said</a>:</p>\n<blockquote>\n<p>It does. The new linux ReentrantMutex in that PR uses the futex based Mutex internally.</p>\n</blockquote>\n<p>yeah so once we get that to work, no extra work for the reentrant one :)</p>",
        "id": 278072122,
        "sender_full_name": "RalfJ",
        "timestamp": 1649272429
    }
]