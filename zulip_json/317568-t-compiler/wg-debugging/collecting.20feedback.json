[
    {
        "content": "<p>One of the things mentioned in the compiler team's ambitions blog post was that we were interested in learning what users of debuggers miss most when debugging Rust. I'm giving a talk on some of the split dwarf work that I've been doing in a month or two and would like to solicit some of the audience's experiences about debugging Rust  - I could just drop an email in the slides but wanted to check whether the group would prefer to put together a survey that I could link to or something like that (that we could use more broadly for learning about pain points in our debugging story).</p>",
        "id": 278128119,
        "sender_full_name": "davidtwco",
        "timestamp": 1649317765
    },
    {
        "content": "<p>I'd love this. One concern I have is that the term \"debugging\" is pretty general term. I think a lot of focus of this group is going to be on \"using debuggers\" which is only a part (albeit an important one) of what people understand as \"debugging\". If we're really interested in how people use debuggers and less interested in other debugging practices (e.g., tracing, println debugging, syscall monitoring, etc.), we should be clear about that.</p>",
        "id": 278131311,
        "sender_full_name": "rylev",
        "timestamp": 1649319770
    },
    {
        "content": "<p>Additionally, I'd love for the Rust experience to be so good that we convince folks who have never seriously used a debugger to start using them. Part of this is going to be reaching parity with the experience in other languages (and then exceeding that), but I also think part of it will be trying to think about how Rust can approach debugger usage differently from other languages.</p>",
        "id": 278131450,
        "sender_full_name": "rylev",
        "timestamp": 1649319860
    },
    {
        "content": "<p>I completely agree with all of that.</p>",
        "id": 278131487,
        "sender_full_name": "davidtwco",
        "timestamp": 1649319892
    },
    {
        "content": "<p>I'd be happy to look at the slides but a survey seems like it could be very useful as well!</p>",
        "id": 278160816,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1649336738
    },
    {
        "content": "<p>A survey wouldn’t be in the slides, but I’d like to be able to link to one somewhere where people could tell us their experiences using debuggers with Rust (the alternative is that I just say “email me”).</p>",
        "id": 278171953,
        "sender_full_name": "davidtwco",
        "timestamp": 1649341695
    },
    {
        "content": "<p>(It’s not the purpose of the talk, it’ll just be an aside/call to action that I’ll have as I conclude, given that the content of the talk is debugging related)</p>",
        "id": 278172121,
        "sender_full_name": "davidtwco",
        "timestamp": 1649341781
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224872\">rylev</span> <a href=\"#narrow/stream/317568-t-compiler.2Fwg-debugging/topic/collecting.20feedback/near/278131450\">said</a>:</p>\n<blockquote>\n<p>I also think part of it will be trying to think about how Rust can approach debugger usage differently from other languages.</p>\n</blockquote>\n<p>Something we have going for us that many other languages don't (read C and C++) is a very tightly integrated build &amp; package management system. Teaching cargo how to launch a debugger would not be that hard and <code>cargo run --attach-debugger</code> would make getting started extremely easy. From what I've heard, often the first hurdle is just getting users comfortable launching and attaching the debugger to their programs. Taking care of that for them and then configuring obvious defaults like breakpoints on <code>__rust_begin_panic</code> would do <strong>a lot</strong> for many users.</p>",
        "id": 278172803,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1649342064
    },
    {
        "content": "<p>Are there specific pain points that we’d want to learn about? </p>\n<p>Are we interested only in the concrete problems in using a debugger or more generally about the circumstances in which people reach for their debugger (are there specific types of bugs in Rust code that tend to warrant a debugger more than others? - might be out of scope for the group if we want to be focused on just making debuggers work well).</p>",
        "id": 278173032,
        "sender_full_name": "davidtwco",
        "timestamp": 1649342164
    },
    {
        "content": "<p>I'd like to know more about what kind of issues users are trying to resolve. </p>\n<ul>\n<li>Is their code crashing with a panic or access violation?</li>\n<li>Are they trying to track down a logic bug? </li>\n<li>Are they just debugging to learn how the code works (or similar)? </li>\n<li>Other?</li>\n</ul>",
        "id": 278173440,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1649342333
    },
    {
        "content": "<p>It would also be good to understand how comfortable users are with (any?) debugger and with their platform's debugger in particular. Part of making the Rust debugging experience good might be educating users how to use a native debugger or even what the available options are.</p>",
        "id": 278173661,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1649342409
    },
    {
        "content": "<p>(How many devs coming from C#/Java/Javascript/Python/etc know about rr and TTD for example?)</p>",
        "id": 278173729,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1649342433
    },
    {
        "content": "<p>Okay, that gives me a rough idea of the scope of what we want to learn. I’ll try throw a draft of something together in the next week, and maybe an Inside Rust post that can accompany it or something like that (and that can be what I direct the audience of the talk towards).</p>",
        "id": 278173732,
        "sender_full_name": "davidtwco",
        "timestamp": 1649342436
    },
    {
        "content": "<p>Sounds like we want to have responses from an audience that doesn’t just include people who currently use a debugger (they might just do println debugging now, for example) so we can learn about their familiarity with debuggers, whether they’ve tried a debugger, etc but despite that, we primarily want to focus on their experiences with debuggers, not with their current debugging practices (where that isn’t a debugger).</p>",
        "id": 278174292,
        "sender_full_name": "davidtwco",
        "timestamp": 1649342644
    },
    {
        "content": "<p>I'm very curious to hear what others in the group think should be included in such a survey! At least for me, we have a lot of proficient debugger users at MS so I have a <em>very</em> long list of complaints about things that should work better in the Windows debuggers but I have very little insight into what the experience is like for users who aren't as proficient with using the debugger.</p>",
        "id": 278174841,
        "sender_full_name": "Wesley Wiser",
        "timestamp": 1649342873
    },
    {
        "content": "<p>All I can remember from trying to use gdb on rustc years ago was finding that every variable was optimised away regardless of which <code>config.toml</code> options that I tweaked <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 278176393,
        "sender_full_name": "davidtwco",
        "timestamp": 1649343483
    },
    {
        "content": "<p>I’d be interested in knowing how people interface with their debugger, I don’t know what decisions we might make that would change as a result of that information though. Anecdotally, I feel like I’ve had a lot of colleagues whose only use of a debugger is through something like VSCode or similar (i.e. not the terminal interfaces that the debuggers themselves provide). I’m personally in the middle, primarily using <code>termdebug</code>. Maybe that would be the type of thing that would need to be considered for a <code>--attach-debugger</code> flag like you had suggested earlier.</p>",
        "id": 278177216,
        "sender_full_name": "davidtwco",
        "timestamp": 1649343749
    },
    {
        "content": "<p>I did start taking some notes on this some time ago: <a href=\"https://hackmd.io/4U3fNjNsTwGyTuQadtNzIw\">https://hackmd.io/4U3fNjNsTwGyTuQadtNzIw</a></p>",
        "id": 278177797,
        "sender_full_name": "pnkfelix",
        "timestamp": 1649343941
    },
    {
        "content": "<p>I'd be happy to work with you <span class=\"user-mention\" data-user-id=\"116107\">@davidtwco</span> on making a proper writeup of a blog post or whatever; there was lots of food for thought in those notes linked above.</p>",
        "id": 278177956,
        "sender_full_name": "pnkfelix",
        "timestamp": 1649343991
    },
    {
        "content": "<p>Sure thing!</p>",
        "id": 278178829,
        "sender_full_name": "davidtwco",
        "timestamp": 1649344333
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"125250\">Wesley Wiser</span> <a href=\"#narrow/stream/317568-t-compiler.2Fwg-debugging/topic/collecting.20feedback/near/278172803\">said</a>:</p>\n<blockquote>\n<p>Teaching cargo how to launch a debugger would not be that hard and <code>cargo run --attach-debugger</code> would make getting started extremely easy. </p>\n</blockquote>\n<p>So my initial thoughts were, the myriad of ways I generally launch the debugger being specific to the problem (core file, vs attach to running process via PID, vs  launch debugger)... In some ways though attaching via PID is less of an issue with rust because I usually do that to attach after dynamic loading has occurred.</p>\n<p>The other thing I was wondering about is if anyone has debugged async code, I haven't debugged any but is there issues with timeouts which wouldn't occur during normal running, that are going to make it a pain to debug when you stop at a breakpoint?</p>",
        "id": 278367320,
        "sender_full_name": "matt rice",
        "timestamp": 1649455188
    },
    {
        "content": "<p>IMO anything with timing dependencies is going to be a pain unless you use something like <code>rr</code>. but maybe we can have some middle ground where you adjust the timeouts when under the debugger (or somehow pause the timeout clock when sitting waiting for the debugger to allow the process to continue?)</p>",
        "id": 278556416,
        "sender_full_name": "pnkfelix",
        "timestamp": 1649685191
    }
]