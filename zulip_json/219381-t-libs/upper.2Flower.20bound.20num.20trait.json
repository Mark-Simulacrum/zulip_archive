[
    {
        "content": "<p>(History: <a href=\"https://internals.rust-lang.org/t/please-can-we-add-a-basic-num-trait/16449/13\">https://internals.rust-lang.org/t/please-can-we-add-a-basic-num-trait/16449/13</a> )</p>\n<p>I would dearly like MIN and MAX to be usable across different numeric types in the std lib without having to bold on any other crate. Something like this would be great: <a href=\"https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2021&amp;gist=d261da401ca62ea52837402c30265c5f\">https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2021&amp;gist=d261da401ca62ea52837402c30265c5f</a></p>\n<p>It seems a small enough in scope that it could conceivably be doable without getting dragged down into years of debate. (I'm not getting any younger!). What's the best route forward? Scottmcm has mentioned that MIN and MAX on floats are not their upper bounds so maybe we should bike shed the traits names. Maybe UpperFiniteBound and LowerFiniteBound ? There is also the question as to whether you want an associated const or a function.</p>",
        "id": 278659054,
        "sender_full_name": "Giles Cope",
        "timestamp": 1649750094
    },
    {
        "content": "<p>What's the best way to proceed? should I do a PR? Is an RFC overkill? (I hope so)</p>",
        "id": 278659436,
        "sender_full_name": "Giles Cope",
        "timestamp": 1649750365
    },
    {
        "content": "<p>That thread covers a few different ideas with different use cases. I'm not clear on the precise use case for the lower bound/upper bound trait. So one thing would be to be clear about the use case since that would shed light on the float behaviour. But, stepping back, more important is to make a case why this is needed at all. Having such traits in a third party crate seems like a good solution for this sort of thing, could you elaborate on why they should be in std specifically? And second, why Ord::{min, max} are not good enough?</p>",
        "id": 278659782,
        "sender_full_name": "Nick Cameron",
        "timestamp": 1649750551
    },
    {
        "content": "<p>I find working generically with rust numbers painful because there's not enough traits to make it pleasant. It took me a long while to construct a way to figure out if a type was signed. That would have been easier if I had access to MIN. I've just had a PR where we have a trait to work around there not being MIN: FromStrRadixHelper ( <a href=\"https://github.com/rust-lang/rust/pull/95399\">https://github.com/rust-lang/rust/pull/95399</a> ). The absence of MIN and MAX is something that keeps popping up over the years and seems a rough edge to me that we can fix. It will make using rust easier.</p>",
        "id": 278660927,
        "sender_full_name": "Giles Cope",
        "timestamp": 1649751304
    },
    {
        "content": "<p>Again here I have to use it in another library: <a href=\"https://github.com/gilescope/atoi_radix10/blob/e0bc6511b397878f8d5988d064460f32183a0b35/src/parse.rs#L36\">https://github.com/gilescope/atoi_radix10/blob/e0bc6511b397878f8d5988d064460f32183a0b35/src/parse.rs#L36</a><br>\n(yes it's a similar domain of doing something numerical but isn't all computation just numbers as wasm shows)</p>",
        "id": 278661136,
        "sender_full_name": "Giles Cope",
        "timestamp": 1649751463
    },
    {
        "content": "<p>If we only had one number type in rust then maybe having a trait would not be so important; But we have _many_ number types in the std lib. When num-traits was moved out of std lib before 1.0 it was done so that they could be iterated on and then gradually reintroduced and stabilised where appropriate. The trait's area is so small that there's little likelihood of future changes.</p>",
        "id": 278662141,
        "sender_full_name": "Giles Cope",
        "timestamp": 1649752180
    },
    {
        "content": "<p>Our 3 year goal is to make learning rust easier. Being able to get the min and max on a number I would see as a step in the direction of making rust easier for people to use out of the box.</p>",
        "id": 278662356,
        "sender_full_name": "Giles Cope",
        "timestamp": 1649752316
    },
    {
        "content": "<p>I'm unclear now if you're asking for a <code>Number</code> trait or for a min/max trait?</p>",
        "id": 278662920,
        "sender_full_name": "Nick Cameron",
        "timestamp": 1649752631
    },
    {
        "content": "<p>Does the num crate satisfy your needs? I believe it was extracted out of the standard library before 1.0.</p>",
        "id": 278663141,
        "sender_full_name": "bjorn3",
        "timestamp": 1649752746
    },
    {
        "content": "<p>From the playground you posted, it looks like its duplicating Ord, so I'd like to understand exactly what is wanted and why</p>",
        "id": 278663215,
        "sender_full_name": "Nick Cameron",
        "timestamp": 1649752801
    },
    {
        "content": "<p>A min trait and a max trait. It seems to me that there's expressiveness by saying that a function or type only needs one of the bounds (Some types like bigint do not have an upper bound).</p>",
        "id": 278667272,
        "sender_full_name": "Giles Cope",
        "timestamp": 1649755197
    },
    {
        "content": "<p>Ord is about comparisons, where as this is about having a generic way to access a number's minimum and maximum numbers that they can hold without overflowing. There are traits in num-traits for bounds and the suggestion is to bring them into the std lib.</p>",
        "id": 278667576,
        "sender_full_name": "Giles Cope",
        "timestamp": 1649755372
    },
    {
        "content": "<blockquote>\n<p>Our 3 year goal is to make learning rust easier. Being able to get the min and max on a number I would see as a step in the direction of making rust easier for people to use out of the box.</p>\n</blockquote>\n<p>Yes, but these already exist. You want this as a trait, for generics, and I'd argue this is not a common enough use case to be included in std, and certainly not common for beginners.</p>",
        "id": 278675644,
        "sender_full_name": "Chayim Refael Friedman",
        "timestamp": 1649760676
    },
    {
        "content": "<p>being generic over numbers is actually not all that useful. Also, it comes with a huge amount of traits and methods</p>",
        "id": 278689722,
        "sender_full_name": "mejrs",
        "timestamp": 1649768972
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"120134\">Giles Cope</span> <a href=\"#narrow/stream/219381-t-libs/topic/upper.2Flower.20bound.20num.20trait/near/278660927\">said</a>:</p>\n<blockquote>\n<p>I've just had a PR where we have a trait to work around there not being MIN: FromStrRadixHelper ( <a href=\"https://github.com/rust-lang/rust/pull/95399\">https://github.com/rust-lang/rust/pull/95399</a> ).</p>\n</blockquote>\n<p>FWIW, I don't find this argument particularly persuasive, since it's using a custom trait for <code>from_u32</code> and <code>checked_{add|sub|mul}</code> anyway.  It could easily have an <code>IS_SIGNED</code> set by the macro that implements the trait.  (This gets to <span class=\"user-mention silent\" data-user-id=\"433532\">mejrs</span>'s point about the enormous number of traits that would be needed to do all the numeric things generically.)</p>",
        "id": 278717901,
        "sender_full_name": "scottmcm",
        "timestamp": 1649781142
    },
    {
        "content": "<p>A common issue with designing a numeric tower is that everyone looks at the tower from different directions, which means that there's usually not one \"right\" abstraction.</p>",
        "id": 278725741,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1649784805
    },
    {
        "content": "<p>Another aspect to consider is how you want to allow for custom numeric types to participate in the abstractions.</p>",
        "id": 278725907,
        "sender_full_name": "Jake Goulding",
        "timestamp": 1649784876
    },
    {
        "content": "<blockquote>\n<p>being generic over numbers is actually not all that useful. Also, it comes with a huge amount of traits and methods</p>\n</blockquote>\n<p>Giles <em>clearly</em> has a use for generic <code>min</code> and <code>max</code>, so please hold back from saying that such a thing is not useful. That you don't have the same use for such a thing doesn't mean no one does.</p>",
        "id": 278729878,
        "sender_full_name": "Lokathor",
        "timestamp": 1649786483
    }
]