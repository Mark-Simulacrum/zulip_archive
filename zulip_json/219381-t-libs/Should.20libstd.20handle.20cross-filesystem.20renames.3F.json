[
    {
        "content": "<p>curious to hear thoughts about <a href=\"https://github.com/rust-lang/rust/issues/95890\">#95890</a> :)</p>",
        "id": 278485439,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649618958
    },
    {
        "content": "<p>and actually, it might be nice to have most of <a href=\"https://github.com/rust-lang/rust/blob/c0d37b367f42fbbb13286eb9e2cf4b0d07941b61/src/bootstrap/lib.rs#L1362-L1461\">https://github.com/rust-lang/rust/blob/c0d37b367f42fbbb13286eb9e2cf4b0d07941b61/src/bootstrap/lib.rs#L1362-L1461</a> in libstd</p>",
        "id": 278485768,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649619342
    },
    {
        "content": "<p>rename is atomic, create-copy-and-delete isn't. for some things it might be preferable to fail if it can't be done atomically</p>",
        "id": 278487113,
        "sender_full_name": "The 8472",
        "timestamp": 1649621078
    },
    {
        "content": "<p>If we want it in std then it should be a separate function.</p>",
        "id": 278487139,
        "sender_full_name": "The 8472",
        "timestamp": 1649621157
    },
    {
        "content": "<p>Rename also preserves permissions, which may not be possible with a copy.</p>",
        "id": 278487432,
        "sender_full_name": "The 8472",
        "timestamp": 1649621580
    },
    {
        "content": "<p>Why wouldn't it be possible to preserve permissions?</p>",
        "id": 278488029,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649622471
    },
    {
        "content": "<p>Because you need to create the file at the destination, which means it'll be owned by you, not the current owner.</p>",
        "id": 278488148,
        "sender_full_name": "The 8472",
        "timestamp": 1649622608
    },
    {
        "content": "<p>ah, and <code>chown</code> may require more permissions than you have</p>",
        "id": 278489294,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649624203
    },
    {
        "content": "<p>Also, the destination file system may have different permission schemes and capabilities than the source.</p>",
        "id": 278493461,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1649630290
    },
    {
        "content": "<p>For instance, <code>cp -a</code> often emits errors when copying to a FAT32 filesystem.</p>",
        "id": 278493471,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1649630322
    }
]