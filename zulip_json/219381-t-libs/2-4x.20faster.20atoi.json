[
    {
        "content": "<p>64-bit swar and 128-bit simd ported to Rust. <br>\n<a href=\"https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=e4fdad72945aac0285b48ec3146dbdff\">https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=e4fdad72945aac0285b48ec3146dbdff</a></p>",
        "id": 259487215,
        "sender_full_name": "Bot+",
        "timestamp": 1635488716
    },
    {
        "content": "<p>Very nice!</p>",
        "id": 259720793,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1635586305
    },
    {
        "content": "<p>Tested out core_simd but couldn't figure out how to _mm_madd with current api.<br>\n<a href=\"https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2021&amp;gist=a7d4ad624f3379b040b32c4548ba2ce7\">https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2021&amp;gist=a7d4ad624f3379b040b32c4548ba2ce7</a></p>",
        "id": 259762406,
        "sender_full_name": "Bot+",
        "timestamp": 1635644963
    },
    {
        "content": "<p><a href=\"https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2021&amp;gist=bf8ae125a570754bbed900045f8a94eb\">https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2021&amp;gist=bf8ae125a570754bbed900045f8a94eb</a><br>\nChanges: made core_simd work with \"swizzle\" workarounds and added forbid(unsafe_code)</p>\n<p>If someone could bench this on non-x86 that would be great.</p>",
        "id": 259798323,
        "sender_full_name": "Bot+",
        "timestamp": 1635700768
    },
    {
        "content": "<p>Latest version on a Macbook Air M1 (aarch64):</p>\n<div class=\"codehilite\"><pre><span></span><code>/dev/spikes/fastatoi\n$ rustc --version\nrustc 1.58.0-nightly (e249ce6b2 2021-10-30)\n~/dev/spikes/fastatoi\n$ cargo bench\n    Finished bench [optimized] target(s) in 0.01s\n     Running unittests (target/release/deps/fastatoi-9bbd8d26b9670993)\n\nrunning 23 tests\ntest parse::test_convert_x4 ... ignored\ntest parse::test_convert_x8 ... ignored\ntest parse::test_parse ... ignored\ntest parse::test_parse_generic_params ... ignored\ntest parse::test_parse_invalid ... ignored\ntest test::bench_123456_new         ... bench:           3 ns/iter (+/- 0)\ntest test::bench_123456_std         ... bench:           5 ns/iter (+/- 0)\ntest test::bench_1_new              ... bench:           3 ns/iter (+/- 0)\ntest test::bench_1_std              ... bench:           3 ns/iter (+/- 0)\ntest test::bench_999999999_new      ... bench:           4 ns/iter (+/- 0)\ntest test::bench_999999999_std      ... bench:           7 ns/iter (+/- 0)\ntest test::bench_invalid_new        ... bench:           3 ns/iter (+/- 0)\ntest test::bench_invalid_std        ... bench:          11 ns/iter (+/- 0)\ntest test::bench_many_new           ... bench:   1,018,891 ns/iter (+/- 15,549)\ntest test::bench_many_std           ... bench:   1,694,355 ns/iter (+/- 5,548)\ntest test::bench_max_new            ... bench:           4 ns/iter (+/- 0)\ntest test::bench_max_std            ... bench:          17 ns/iter (+/- 0)\ntest test::bench_overflow_early_new ... bench:           3 ns/iter (+/- 0)\ntest test::bench_overflow_early_std ... bench:          15 ns/iter (+/- 0)\ntest test::bench_overflow_late_new  ... bench:           5 ns/iter (+/- 0)\ntest test::bench_overflow_late_std  ... bench:          16 ns/iter (+/- 0)\ntest test::bench_too_long_new       ... bench:           3 ns/iter (+/- 0)\ntest test::bench_too_long_std       ... bench:          16 ns/iter (+/- 0)\n\ntest result: ok. 0 passed; 0 failed; 5 ignored; 18 measured; 0 filtered out; finished in 18.90s\n\n$ cargo bench --features simd_core\n    Updating git repository `https://github.com/rust-lang/portable-simd`\n   Compiling core_simd v0.1.0 (https://github.com/rust-lang/portable-simd#772bf209)\n   Compiling fastatoi v0.1.0 (/Users/hans/dev/spikes/fastatoi)\nwarning: function is never used: `all_ascii_digits_8`\n  --&gt; src/lib.rs:17:18\n   |\n17 |     pub const fn all_ascii_digits_8(src: u64) -&gt; bool {\n   |                  ^^^^^^^^^^^^^^^^^^\n   |\n   = note: `#[warn(dead_code)]` on by default\n\nwarning: `fastatoi` (lib test) generated 1 warning\n    Finished bench [optimized] target(s) in 4.14s\n     Running unittests (target/release/deps/fastatoi-03aa29e8faed8db6)\n\nrunning 23 tests\ntest parse::test_convert_x4 ... ignored\ntest parse::test_convert_x8 ... ignored\ntest parse::test_parse ... ignored\ntest parse::test_parse_generic_params ... ignored\ntest parse::test_parse_invalid ... ignored\ntest test::bench_123456_new         ... bench:           7 ns/iter (+/- 0)\ntest test::bench_123456_std         ... bench:           5 ns/iter (+/- 0)\ntest test::bench_1_new              ... bench:           3 ns/iter (+/- 0)\ntest test::bench_1_std              ... bench:           3 ns/iter (+/- 0)\ntest test::bench_999999999_new      ... bench:           7 ns/iter (+/- 0)\ntest test::bench_999999999_std      ... bench:           7 ns/iter (+/- 0)\ntest test::bench_invalid_new        ... bench:           7 ns/iter (+/- 0)\ntest test::bench_invalid_std        ... bench:          11 ns/iter (+/- 0)\ntest test::bench_many_new           ... bench:   1,214,212 ns/iter (+/- 14,303)\ntest test::bench_many_std           ... bench:   1,708,708 ns/iter (+/- 12,093)\ntest test::bench_max_new            ... bench:           8 ns/iter (+/- 0)\ntest test::bench_max_std            ... bench:          17 ns/iter (+/- 0)\ntest test::bench_overflow_early_new ... bench:           3 ns/iter (+/- 0)\ntest test::bench_overflow_early_std ... bench:          15 ns/iter (+/- 0)\ntest test::bench_overflow_late_new  ... bench:           8 ns/iter (+/- 0)\ntest test::bench_overflow_late_std  ... bench:          16 ns/iter (+/- 0)\ntest test::bench_too_long_new       ... bench:           3 ns/iter (+/- 0)\ntest test::bench_too_long_std       ... bench:          16 ns/iter (+/- 0)\n\ntest result: ok. 0 passed; 0 failed; 5 ignored; 18 measured; 0 filtered out; finished in 8.98s\n</code></pre></div>",
        "id": 259798762,
        "sender_full_name": "Hans Kratz",
        "timestamp": 1635701447
    },
    {
        "content": "<p>Tested on my <code>armv7-unknown-linux-gnueabihf</code> machine.</p>\n<div class=\"codehilite\"><pre><span></span><code>$ cargo +nightly bench\n    Finished bench [optimized] target(s) in 0.07s\n     Running unittests (target/release/deps/parse-1d8181307a0fb7a5)\n\nrunning 23 tests\ntest parse::test_convert_x4 ... ignored\ntest parse::test_convert_x8 ... ignored\ntest parse::test_parse ... ignored\ntest parse::test_parse_generic_params ... ignored\ntest parse::test_parse_invalid ... ignored\ntest test::bench_123456_new         ... bench:         143 ns/iter (+/- 3)\ntest test::bench_123456_std         ... bench:         126 ns/iter (+/- 0)\ntest test::bench_1_new              ... bench:          55 ns/iter (+/- 0)\ntest test::bench_1_std              ... bench:          56 ns/iter (+/- 0)\ntest test::bench_999999999_new      ... bench:         109 ns/iter (+/- 0)\ntest test::bench_999999999_std      ... bench:         164 ns/iter (+/- 0)\ntest test::bench_invalid_new        ... bench:          73 ns/iter (+/- 4)\ntest test::bench_invalid_std        ... bench:         225 ns/iter (+/- 13)\ntest test::bench_many_new           ... bench:  20,539,629 ns/iter (+/- 54,107)\ntest test::bench_many_std           ... bench:  29,427,077 ns/iter (+/- 315,612)\ntest test::bench_max_new            ... bench:         107 ns/iter (+/- 6)\ntest test::bench_max_std            ... bench:         301 ns/iter (+/- 1)\ntest test::bench_overflow_early_new ... bench:          86 ns/iter (+/- 4)\ntest test::bench_overflow_early_std ... bench:         293 ns/iter (+/- 1)\ntest test::bench_overflow_late_new  ... bench:         110 ns/iter (+/- 6)\ntest test::bench_overflow_late_std  ... bench:         300 ns/iter (+/- 3)\ntest test::bench_too_long_new       ... bench:          33 ns/iter (+/- 1)\ntest test::bench_too_long_std       ... bench:         301 ns/iter (+/- 1)\n\ntest result: ok. 0 passed; 0 failed; 5 ignored; 18 measured; 0 filtered out; finished in 51.34s\n</code></pre></div>\n<div class=\"codehilite\"><pre><span></span><code>$ cargo +nightly bench --features &quot;core_simd&quot;\n   Compiling core_simd v0.1.0 (https://github.com/rust-lang/portable-simd#772bf209)\n   Compiling parse v0.1.0 (/home/*****/parse)\n    Finished bench [optimized] target(s) in 56.12s\n     Running unittests (target/release/deps/parse-929807f38b3adfcb)\n\nrunning 23 tests\ntest parse::test_convert_x4 ... ignored\ntest parse::test_convert_x8 ... ignored\ntest parse::test_parse ... ignored\ntest parse::test_parse_generic_params ... ignored\ntest parse::test_parse_invalid ... ignored\ntest test::bench_123456_new         ... bench:          67 ns/iter (+/- 3)\ntest test::bench_123456_std         ... bench:         126 ns/iter (+/- 7)\ntest test::bench_1_new              ... bench:          55 ns/iter (+/- 3)\ntest test::bench_1_std              ... bench:          56 ns/iter (+/- 0)\ntest test::bench_999999999_new      ... bench:         115 ns/iter (+/- 1)\ntest test::bench_999999999_std      ... bench:         164 ns/iter (+/- 9)\ntest test::bench_invalid_new        ... bench:          73 ns/iter (+/- 0)\ntest test::bench_invalid_std        ... bench:         225 ns/iter (+/- 2)\ntest test::bench_many_new           ... bench:  20,599,377 ns/iter (+/- 690,649)\ntest test::bench_many_std           ... bench:  29,500,022 ns/iter (+/- 1,273,600)\ntest test::bench_max_new            ... bench:         107 ns/iter (+/- 6)\ntest test::bench_max_std            ... bench:         301 ns/iter (+/- 5)\ntest test::bench_overflow_early_new ... bench:          82 ns/iter (+/- 0)\ntest test::bench_overflow_early_std ... bench:         293 ns/iter (+/- 3)\ntest test::bench_overflow_late_new  ... bench:         104 ns/iter (+/- 6)\ntest test::bench_overflow_late_std  ... bench:         301 ns/iter (+/- 5)\ntest test::bench_too_long_new       ... bench:          31 ns/iter (+/- 1)\ntest test::bench_too_long_std       ... bench:         301 ns/iter (+/- 6)\n\ntest result: ok. 0 passed; 0 failed; 5 ignored; 18 measured; 0 filtered out; finished in 58.82s\n</code></pre></div>",
        "id": 259799050,
        "sender_full_name": "Urgau",
        "timestamp": 1635701904
    }
]