[
    {
        "content": "<p>Just out of interest, do libs tests work for <code>wasm32-unknown-unknown</code> or are they expected to fail? I can't get them working locally but build seems fine.</p>",
        "id": 267792545,
        "sender_full_name": "Chris Denton",
        "timestamp": 1642024951
    },
    {
        "content": "<p>I don't know how they would run. With <code>wasm32-wasi</code>, we could possibly use a runner like <code>wasmtime</code>, but <code>wasm32-unknown-unknown</code> is usually loaded as a module in javascript AFAIK.</p>",
        "id": 267797636,
        "sender_full_name": "cuviper",
        "timestamp": 1642027414
    },
    {
        "content": "<p>Ah, thanks for the explanation. I was worried I might be missing something. I guess it's like how Windows UWP tests can't truly be run (because they require a special environment).</p>",
        "id": 267797864,
        "sender_full_name": "Chris Denton",
        "timestamp": 1642027542
    },
    {
        "content": "<p>The core tests get run for wasm32-unknown-unknown.</p>\n<p>The exact tests are <a href=\"https://github.com/rust-lang/rust/blob/1bd4fdc943513e1004f498bbf289279c9784fc6f/src/ci/docker/host-x86_64/test-various/Dockerfile#L45-L51\">here</a>.</p>\n<p>To run the tests, it uses node.  There is a small wrapper <a href=\"https://github.com/rust-lang/rust/blob/master/src/etc/wasm32-shim.js\"><code>wasm32-shim.js</code></a> for loading the wasm32 module.</p>\n<p>Although I'm looking at CI and it appears to be broken.</p>",
        "id": 267802910,
        "sender_full_name": "Eric Huss",
        "timestamp": 1642030366
    },
    {
        "content": "<p>looks like it ran core tests <a href=\"https://github.com/rust-lang-ci/rust/runs/4793331016?check_suite_focus=true#step:25:21625\">here</a> for 86 seconds, but no output</p>",
        "id": 267803786,
        "sender_full_name": "cuviper",
        "timestamp": 1642030910
    },
    {
        "content": "<p>hmm, or does that 86 include the 1m25s build time?</p>",
        "id": 267804099,
        "sender_full_name": "cuviper",
        "timestamp": 1642031086
    },
    {
        "content": "<p>Yea, the 86 includes the build time.</p>\n<p>I tried debugging locally, but it seems to spawn a thread, and I don't know how to follow threads in the chrome debugger (when attached to node).  I filed <a href=\"https://github.com/rust-lang/rust/issues/92841\">#92841</a> just to note this.</p>",
        "id": 267823309,
        "sender_full_name": "Eric Huss",
        "timestamp": 1642048902
    }
]