[
    {
        "content": "<p>Why isn't <code>Display</code> implemented for e.g. <code>Option&lt;String&gt;</code> and <code>Option&lt;&amp;str&gt;</code>? One would figure it would be easy enough to just format by not inputting any characters into <code>format!</code> in the case of <code>None</code>. Tbh I've run into this quite a bit for cases with externally supplied optional string data and it seems silly.</p>",
        "id": 261306209,
        "sender_full_name": "Jeremiah Senkpiel",
        "timestamp": 1636748655
    },
    {
        "content": "<p>opt.as_ref().map(String::as_str).unwrap_or(\"\")</p>",
        "id": 261306960,
        "sender_full_name": "Lokathor",
        "timestamp": 1636749102
    },
    {
        "content": "<p>though it's very wordy that way</p>",
        "id": 261306971,
        "sender_full_name": "Lokathor",
        "timestamp": 1636749109
    },
    {
        "content": "<p>make it a bit less wordy using <code>as_deref()</code></p>",
        "id": 261308467,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1636750005
    },
    {
        "content": "<p>This unfortunately does not play so nicely with libraries like <code>parse-display</code> which assume things about <code>Display</code> and types and whatnot when using display formatting annotations</p>",
        "id": 261308510,
        "sender_full_name": "Jeremiah Senkpiel",
        "timestamp": 1636750043
    },
    {
        "content": "<p>Some previous discussions, albeit not specific to <code>str</code>: <br>\n<a href=\"https://internals.rust-lang.org/t/impl-t-display-display-for-option-t/6051/2?u=scottmcm\">https://internals.rust-lang.org/t/impl-t-display-display-for-option-t/6051/2?u=scottmcm</a><br>\n<a href=\"https://github.com/rust-lang/rust/issues/47476\">https://github.com/rust-lang/rust/issues/47476</a></p>",
        "id": 261319231,
        "sender_full_name": "scottmcm",
        "timestamp": 1636755833
    },
    {
        "content": "<p>Also, <code>String</code> is free to construct, so <code>opt.or_else(default)</code> (assuming &lt;<a href=\"https://doc.rust-lang.org/std/default/fn.default.html\">https://doc.rust-lang.org/std/default/fn.default.html</a>&gt;) is also fast here, if you're ok with the move.</p>",
        "id": 261319488,
        "sender_full_name": "scottmcm",
        "timestamp": 1636755981
    },
    {
        "content": "<p>I think we do the right thing here, for some types Display for None should do something g specific rather than print nothing, and for Display we err on the side of making the programmer specify it, rather than doing the 90% correct thing which we do for Debug</p>",
        "id": 261414105,
        "sender_full_name": "Nick Cameron",
        "timestamp": 1636891701
    }
]