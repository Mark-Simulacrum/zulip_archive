[
    {
        "content": "<p>I would like to request an FCP for <a href=\"https://github.com/rust-lang/rust/issues/90343\">https://github.com/rust-lang/rust/issues/90343</a> (const CStr::from_bytes_with_nul_unchecked).</p>\n<p>I think it's important to stabilize const CStr::from_bytes_with_nul_unchecked as there is already code already using transmutes to convert &amp;[u8] to &amp;CStr in constant contexts such as <code>cstr</code> crate (<a href=\"https://docs.rs/crate/cstr/0.2.9/source/src/lib.rs\">https://docs.rs/crate/cstr/0.2.9/source/src/lib.rs</a>). The problem with approach using transmutes is that it will stop working in future releases of Rust when <code>&amp;CStr</code> stops storing its length (<a href=\"https://github.com/rust-lang/rust/issues/59905\">https://github.com/rust-lang/rust/issues/59905</a>). Having a proper way to declare <code>&amp;CStr</code> constants in stable could discourage transmute hacks like this.</p>",
        "id": 261999506,
        "sender_full_name": "Konrad Borowski",
        "timestamp": 1637273754
    },
    {
        "content": "<p>Note that <code>CStr</code> is not <code>repr(transparent)</code> and so any code doing a transmute to get a <code>CStr</code> is really dancing pretty close to UB.</p>",
        "id": 262022124,
        "sender_full_name": "Lokathor",
        "timestamp": 1637291486
    }
]