[
    {
        "content": "<p>Since adding <code>return_self_not_must_use</code> in <a href=\"https://github.com/rust-lang/rust-clippy/issues/8071\">clippy#8071</a> we have a discussion about the lint group (clippy::style) in <a href=\"https://github.com/rust-lang/rust-clippy/issues/8197\">clippy#8197</a> and a bit of uncertainty about the way traits should be handled <a href=\"https://github.com/rust-lang/rust-clippy/issues/8222\">clippy#8222</a>. Currently, the lint is in beta, meaning that the lint group can be changed before stable.</p>\n<p>I was a bit uncertain about the correct lint group in the review but agreed that it makes sense to have it warn by default. After reading the discussion I'm leaning towards moving the lint to <code>clippy::pedantic</code> as I would by now describe the lint as rather strict. Does anyone have any thoughs?</p>",
        "id": 268075617,
        "sender_full_name": "xFrednet",
        "timestamp": 1642195963
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"210316\">@GuillaumeGomez</span></p>",
        "id": 268075649,
        "sender_full_name": "xFrednet",
        "timestamp": 1642195989
    },
    {
        "content": "<p>I'd prefer to have it warn by default, otherwise it'd be mostly useless</p>",
        "id": 268075792,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642196077
    },
    {
        "content": "<p>as for the category, no preference (as long as it warns by default)</p>",
        "id": 268075807,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642196092
    },
    {
        "content": "<p><code>clippy::pedantic</code> would mean that it's allow by default. The lint group dictates the lint level. I think that having it in <code>clippy::pedantic</code> would still be sufficient. At least I enable that group for my hobby projects as well, and I believe others do too. By now I just feel like the lint is a little too subjective to be warn by default.</p>",
        "id": 268076072,
        "sender_full_name": "xFrednet",
        "timestamp": 1642196248
    },
    {
        "content": "<p>It's actually extremely rare for people to run something else than <code>cargo clippy</code></p>",
        "id": 268076246,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642196349
    },
    {
        "content": "<p>Hmm, I for one tend to run <code>cargo clippy</code> with a lot of flags, locally and in CI</p>",
        "id": 268076279,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642196376
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307537\">Noah Lev</span> <a href=\"#narrow/stream/257328-clippy/topic/Lint.20group.20for.20.60return_self_not_must_use.60/near/268076279\">said</a>:</p>\n<blockquote>\n<p>Hmm, I for one tend to run <code>cargo clippy</code> with a lot of flags, locally and in CI</p>\n</blockquote>\n<p>I'm not really surprised haha</p>",
        "id": 268076299,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642196397
    },
    {
        "content": "<p>E.g., I pass <code>-A clippy::style</code> and manually re-enable certain style lints</p>",
        "id": 268076303,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642196399
    },
    {
        "content": "<p>Maybe I'm more particular about linting than some people, but I suspect allowing and denying different lints is still quite common</p>",
        "id": 268076456,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642196479
    },
    {
        "content": "<p>The only thing I do is silencing some clippy lints, but that's pretty much it</p>",
        "id": 268076670,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642196581
    },
    {
        "content": "<p>Sounds similar then?</p>",
        "id": 268076698,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642196594
    },
    {
        "content": "<p>at least gstreamer-rs and gtk-rs just run <code>cargo clippy</code></p>",
        "id": 268076706,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642196600
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"307537\">@Noah Lev</span> I meant in the code, not on the command line</p>",
        "id": 268076732,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642196615
    },
    {
        "content": "<p>I just allow all style lints because otherwise new ones break my CI</p>",
        "id": 268076733,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642196615
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"210316\">GuillaumeGomez</span> <a href=\"#narrow/stream/257328-clippy/topic/Lint.20group.20for.20.60return_self_not_must_use.60/near/268076732\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"307537\">Noah Lev</span> I meant in the code, not on the command line</p>\n</blockquote>\n<p>Sure, but it accomplishes the same thing, no? The only difference is that putting it in the code makes everyone else's clippy runs change</p>",
        "id": 268076816,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642196653
    },
    {
        "content": "<p>Anyway... it's not that important</p>",
        "id": 268076859,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642196685
    },
    {
        "content": "<p>Not sure if we said the same thing but whatever XD</p>",
        "id": 268076887,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642196704
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"369415\">@xFrednet</span> I re-read the issue about this lint: people are not really complaining about the lint usefulness but that they don't see how useful it is for them because they didn't forget to use a returned type. It seems very subjective and is exactly why I wrote this lint in the first place: to prevent users to even potentially forget about it</p>",
        "id": 268077247,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642196908
    },
    {
        "content": "<p>I personally try to enable as many lints as possible and try my best to change my code in accordance with the lint, only resorting to <code>#[allow]</code> when I fail to do so within a reasonable amount of time.</p>",
        "id": 268077903,
        "sender_full_name": "llogiq",
        "timestamp": 1642197310
    },
    {
        "content": "<p>It'd be interesting to have some more precise numbers. Did clippy ever run a survey to get this information? I'd be very interested in the results outside of the crate I know/use</p>",
        "id": 268078285,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642197502
    },
    {
        "content": "<p><a href=\"https://github.com/search?q=allow%28clippy%3A%3Areturn_self_not_must_use%29&amp;type=code\">https://github.com/search?q=allow%28clippy%3A%3Areturn_self_not_must_use%29&amp;type=code</a><br>\n<span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 268079662,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1642198116
    },
    {
        "content": "<p>It completely kills the whole point of this lint T_T</p>",
        "id": 268079887,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642198215
    },
    {
        "content": "<p>maybe I should remove the <code>&amp;self</code> check as suggested?</p>",
        "id": 268079918,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642198235
    },
    {
        "content": "<p>\"make clippy happy\" * adds allow(clippy::...) into the codebase* lol</p>",
        "id": 268079931,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1642198248
    },
    {
        "content": "<p>I don't think it's a good idea but I really don't want this lint to not warn by default</p>",
        "id": 268079945,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642198256
    },
    {
        "content": "<p>getting feedback on clippy is not that easy, I guess a lot of people look at their CI and think \"does it take me more than 5 minutes to fix this\"</p>",
        "id": 268080083,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1642198322
    },
    {
        "content": "<p>maybe you can ask on twitter what people thing about the lint in general? :)</p>",
        "id": 268080131,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1642198340
    },
    {
        "content": "<p>That would be a good start indeed</p>",
        "id": 268080210,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642198386
    },
    {
        "content": "<p>here we go: <a href=\"https://twitter.com/imperioworld_/status/1482114081985372160\">https://twitter.com/imperioworld_/status/1482114081985372160</a></p>\n<div class=\"inline-preview-twitter\"><div class=\"twitter-tweet\"><a href=\"https://twitter.com/imperioworld_/status/1482114081985372160\"><img class=\"twitter-avatar\" src=\"https://uploads.zulipusercontent.net/92c7fed36eb16b6ca352f69719793754e95df472/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313130373339323833343738373737383536302f62493151665459685f6e6f726d616c2e706e67\"></a><p>I recently added the <a href=\"https://twitter.com/rustlang\">@rustlang</a> clippy lint <a href=\"https://t.co/VIvWubgYn4\">https://rust-lang.github.io/rust-clippy/master/#return_self_not_must_use</a> and I'd like to have your opinion!\n\nIt seems to have some mixed feedback. What do you like/dislike about it? Do you have false positives?</p><span>- Guillaume Gomez (@imperioworld_)</span></div></div>",
        "id": 268080669,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642198521
    },
    {
        "content": "<p>Let's see if we get some feedback. I think that the level of configuration also depends on the project type. On small hobby projects I only apply the warn by default lints and ignore the rest. On bigger code bases that the lint is aimed for it#s better to add <code>#![warn(clippy::pedantic)]</code>. A <a href=\"https://github.com/search?q=warn%28clippy%3A%3Apedantic%29&amp;type=code\">quick search on GitHub</a> results in 2K results</p>",
        "id": 268081253,
        "sender_full_name": "xFrednet",
        "timestamp": 1642198902
    },
    {
        "content": "<p>I'm realizing that it makes mostly sense on libraries, not on binaries</p>",
        "id": 268082064,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642199362
    },
    {
        "content": "<p>is there a way to check that in clippy?</p>",
        "id": 268082084,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642199373
    },
    {
        "content": "<p>the <code>crate_type</code> thing would come in very handy</p>",
        "id": 268082118,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642199392
    },
    {
        "content": "<p>I wonder if it'd be better to remove this lint and replace it with a lint that warns at use sites? I.e., if you have a function that returns <code>Self</code> and call it but ignore the result, it gives a warning?</p>",
        "id": 268082215,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642199424
    },
    {
        "content": "<p>So it'd kind of be like \"automatically\" applying the <code>#[must_use]</code></p>",
        "id": 268082266,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642199453
    },
    {
        "content": "<p>I do like the idea of this lint, but I just ran it on a private project and it generated a ton of warnings</p>",
        "id": 268082322,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642199493
    },
    {
        "content": "<p>but then you're required to use clippy from the user, not from the provider</p>",
        "id": 268082346,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642199508
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"210316\">GuillaumeGomez</span> <a href=\"#narrow/stream/257328-clippy/topic/Lint.20group.20for.20.60return_self_not_must_use.60/near/268082064\">said</a>:</p>\n<blockquote>\n<p>I'm realizing that it makes mostly sense on libraries, not on binaries</p>\n</blockquote>\n<p>FWIW, I use workspaces for large projects and thus have a lot of libraries that behave like binaries</p>",
        "id": 268082414,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642199526
    },
    {
        "content": "<p>so an improvement but not the solution</p>",
        "id": 268082483,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642199573
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"210316\">GuillaumeGomez</span> <a href=\"#narrow/stream/257328-clippy/topic/Lint.20group.20for.20.60return_self_not_must_use.60/near/268082346\">said</a>:</p>\n<blockquote>\n<p>but then you're required to use clippy from the user, not from the provider</p>\n</blockquote>\n<p>True, but it'd reduce the number of perceived false positives -- i.e., when a function isn't <code>#[must_use]</code>, but it's clear from context (e.g., its name) that you need to use the result</p>",
        "id": 268082486,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642199574
    },
    {
        "content": "<p>the idea is to enforce it through the compiler, not through the linter</p>",
        "id": 268082566,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642199616
    },
    {
        "content": "<p>I really don't know what to do in here...</p>",
        "id": 268082576,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642199626
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"307537\">@Noah Lev</span> also, for such libraries, it still makes sense</p>",
        "id": 268082727,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642199702
    },
    {
        "content": "<p>it doesn't make sense for binaries still</p>",
        "id": 268082745,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642199715
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"210316\">GuillaumeGomez</span> <a href=\"#narrow/stream/257328-clippy/topic/Lint.20group.20for.20.60return_self_not_must_use.60/near/268082727\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"307537\">Noah Lev</span> also, for such libraries, it still makes sense</p>\n</blockquote>\n<p>Sorry, I don't think I follow. Which libraries? Do you mean in workspaces?</p>",
        "id": 268082771,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642199738
    },
    {
        "content": "<p>yes in workspaces</p>",
        "id": 268082835,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642199768
    },
    {
        "content": "<p>In some cases, yes; but in my particular case, the code is mainly in separate libraries to improve compile times. If rustc were faster, I might just have them all in one crate</p>",
        "id": 268082973,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642199882
    },
    {
        "content": "<blockquote>\n<p>I'd prefer to have it warn by default, otherwise it'd be mostly useless</p>\n</blockquote>\n<p>This could be said about any lint.</p>",
        "id": 268083209,
        "sender_full_name": "Cameron Steffen",
        "timestamp": 1642200025
    },
    {
        "content": "<p>absolutely!</p>",
        "id": 268083399,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642200141
    },
    {
        "content": "<p>Binaries or libraries within a workspace with a small number of usages - these are cases where the value of the lint is questionable. That fits squarely in pedantic IMO.</p>",
        "id": 268083413,
        "sender_full_name": "Cameron Steffen",
        "timestamp": 1642200155
    },
    {
        "content": "<p>So then do you say that all lints in pedantic should be warn by default because otherwise they are mostly useless?</p>",
        "id": 268083484,
        "sender_full_name": "Cameron Steffen",
        "timestamp": 1642200214
    },
    {
        "content": "<p>that makes me sad because it'll not be used then but if no one wants it I don't want to fight more than necessary. I made my point ^^'</p>",
        "id": 268083488,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642200216
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"360405\">Cameron Steffen</span> <a href=\"#narrow/stream/257328-clippy/topic/Lint.20group.20for.20.60return_self_not_must_use.60/near/268083484\">said</a>:</p>\n<blockquote>\n<p>So then do you say that all lints in pedantic should be warn by default because otherwise they are mostly useless?</p>\n</blockquote>\n<p>I consider them as useless yes</p>",
        "id": 268083506,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642200233
    },
    {
        "content": "<p>Or more like \"border-line improvements\"</p>",
        "id": 268083675,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642200327
    },
    {
        "content": "<p>they're not useless in itself, they have their use case too</p>",
        "id": 268083702,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642200347
    },
    {
        "content": "<p>In that case we should rather make it easier for people to find these lints then to make all of them warn by default</p>",
        "id": 268084238,
        "sender_full_name": "xFrednet",
        "timestamp": 1642200669
    },
    {
        "content": "<p>Hypothetically if all code were public crates on <a href=\"http://crates.io\">crates.io</a>, then warn-by-default would make sense. Unfortunately we have to consider the \"average\" of all cases.</p>",
        "id": 268084254,
        "sender_full_name": "Cameron Steffen",
        "timestamp": 1642200682
    },
    {
        "content": "<p>I suppose you could make the case that public crates are \"first class\" use cases?</p>",
        "id": 268084403,
        "sender_full_name": "Cameron Steffen",
        "timestamp": 1642200766
    },
    {
        "content": "<p>I actually don't think that they are. Most of my projects before Clippy were just some small hobby crates. Even Clippy while being public is net meant to be used as a library. Maybe <code>clippy_utils</code> is, but either way we have these lints warn by default.</p>",
        "id": 268085275,
        "sender_full_name": "xFrednet",
        "timestamp": 1642201256
    },
    {
        "content": "<p>Maybe we should add a <em>Suggestions</em> section to the Clippy book (once it's done) that discusses the use of lint groups and when to enable them. Having a <em>Suggestions</em> section would also be good for cases like <a href=\"https://github.com/rust-lang/rust-clippy/issues/7494\">clippy#7494</a></p>",
        "id": 268085496,
        "sender_full_name": "xFrednet",
        "timestamp": 1642201402
    },
    {
        "content": "<p>My impression of Clippy users (unsubstantiated) is that people who are willing to take the time to run clippy in the first place are oftentimes also interested in seeing what <em>all</em> the lints have to say.</p>",
        "id": 268085607,
        "sender_full_name": "Cameron Steffen",
        "timestamp": 1642201468
    },
    {
        "content": "<p>I recall there's another discussion about documenting a set of lints as \"you may want to turn these on for your production code\"</p>",
        "id": 268085647,
        "sender_full_name": "Cameron Steffen",
        "timestamp": 1642201507
    },
    {
        "content": "<p>Yes that's <a href=\"https://github.com/rust-lang/rust-clippy/issues/7494\">clippy#7494</a></p>",
        "id": 268085663,
        "sender_full_name": "xFrednet",
        "timestamp": 1642201525
    },
    {
        "content": "<p>Yeah, improving lint discoverability sounds like a good idea to me. I usually allow all style lints, but then deny specific ones, since I disagree with many of them. Maybe it'd be good to have an \"uncontroversial-style\" category?</p>",
        "id": 268086043,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642201782
    },
    {
        "content": "<p>E.g., I could imagine the struct field shorthand lint (<code>x: x</code> -&gt; <code>x</code>) going in that category</p>",
        "id": 268086067,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642201799
    },
    {
        "content": "<p>Or, at least \"less controversial style\"</p>",
        "id": 268086122,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642201812
    },
    {
        "content": "<p>style is <em>supposed</em> to be uncontroversial lol. I'd be intereseted to know which ones you disagree with so we can consider changing them. Related: <a href=\"https://github.com/rust-lang/rust-clippy/issues/7666\">clippy#7666</a></p>",
        "id": 268086547,
        "sender_full_name": "Cameron Steffen",
        "timestamp": 1642202099
    },
    {
        "content": "<p>The biggest one is \"collapsible if\"</p>",
        "id": 268086766,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642202217
    },
    {
        "content": "<p>yup - I can see that as pedantic</p>",
        "id": 268086937,
        "sender_full_name": "Cameron Steffen",
        "timestamp": 1642202311
    },
    {
        "content": "<p>There are some others, but that's the one that bothers me the most:</p>\n<ul>\n<li><code>single_match</code> (sometimes I think a <code>match</code> is more readable)</li>\n<li><code>let_and_return</code> (it can improve clarity to assign a name to the return value)</li>\n<li><code>len_zero</code> (I find <code>&gt; 0</code> more readable than <code>!foo.is_empty()</code>, because it's easy to miss the <code>!</code>)</li>\n<li><code>new_without_default</code> (perhaps valuable for libraries, but not for internal code)</li>\n</ul>",
        "id": 268087103,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642202421
    },
    {
        "content": "<p>Actually, I just realized I mixed \"collapsible if\" up with \"collapsible else if\". \"collapsible if\" doesn't bother me as much (although I don't think nesting <code>if</code> blocks is always a bad thing); \"collapsible else if\" is the one that drives me nuts <span aria-label=\"laughter tears\" class=\"emoji emoji-1f602\" role=\"img\" title=\"laughter tears\">:laughter_tears:</span></p>",
        "id": 268087201,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642202501
    },
    {
        "content": "<p>I agree with all these lints :)</p>",
        "id": 268088456,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642203364
    },
    {
        "content": "<p>single_match - not sure why you'd ever disagree with that. its strictly less verbose. maybe I would need to see an example<br>\nlet_and_return - I strongly agree with this lint. The function name should describe the return value. IMO this is \"very Rusty\" style.<br>\nlen_zero - I can see how cases that require <code>!</code> are more controversial - that could split the lint<br>\nnew_without_default - yeah that seems pedantic to me</p>",
        "id": 268089080,
        "sender_full_name": "Cameron Steffen",
        "timestamp": 1642203857
    },
    {
        "content": "<blockquote>\n<p>single_match - not sure why you'd ever disagree with that. its strictly less verbose. maybe I would need to see an example</p>\n</blockquote>\n<p>Two main reasons:</p>\n<ol>\n<li><code>if let</code> can generate really long lines (that are then broken by rustfmt) because the scrutinee and the patterns are on the same line. I like how <code>match</code> separates them.</li>\n<li>Sometimes I want to explicitly handle all cases, even if I do nothing. <code>if let</code> basically turns off exhaustiveness checking.</li>\n</ol>",
        "id": 268089511,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642204224
    },
    {
        "content": "<blockquote>\n<p>let_and_return - I strongly agree with this lint. The function name should describe the return value. IMO this is \"very Rusty\" style.</p>\n</blockquote>\n<p>Sometimes you have a pattern match with many different cases, and each one has a slightly different meaning that you want to make clear.</p>\n<p>Another situation is when I have a sequence of manipulations to a value and I want the last version to be named as well:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">x1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"p\">();</span><span class=\"w\"></span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">x2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">bar</span><span class=\"p\">(</span><span class=\"n\">x1</span><span class=\"p\">);</span><span class=\"w\"></span>\n<span class=\"n\">x2</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 268089658,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642204371
    },
    {
        "content": "<blockquote>\n<ol start=\"2\">\n<li>Sometimes I want to explicitly handle all cases, even if I do nothing. <code>if let</code> basically turns off exhaustiveness checking.</li>\n</ol>\n</blockquote>\n<p>If it triggers on an exhaustive match I'd say that's a bug.</p>\n<blockquote>\n<p>Sometimes you have a pattern match with many different cases, and each one has a slightly different meaning that you want to make clear.</p>\n</blockquote>\n<p>Do you mean <code>let name = match { ... }; return name;</code>?</p>",
        "id": 268090310,
        "sender_full_name": "Cameron Steffen",
        "timestamp": 1642204914
    },
    {
        "content": "<p>Reported <a href=\"https://github.com/rust-lang/rust-clippy/issues/8282\">clippy#8282</a></p>",
        "id": 268090908,
        "sender_full_name": "Cameron Steffen",
        "timestamp": 1642205400
    },
    {
        "content": "<p><a href=\"https://github.com/matthiaskrgr/cargo-cache/blob/master/src/main.rs#L53\">https://github.com/matthiaskrgr/cargo-cache/blob/master/src/main.rs#L53</a> <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 268091359,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1642205771
    },
    {
        "content": "<p>but yeah, the <code>collapsible_if</code> but also <code>too_many_arguments</code> can be quite spammy, to an extend that it is hard to spot other more interesting lints in between :/</p>",
        "id": 268091494,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1642205910
    },
    {
        "content": "<p>I actually like <code>too_many_arguments</code>. I sometimes <code>allow</code> it on certain functions, but I think it's helpful to have a threshold of \"no, please don't add any more arguments <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span>\" <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 268093986,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642208296
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"217864\">matthiaskrgr</span> <a href=\"#narrow/stream/257328-clippy/topic/Lint.20group.20for.20.60return_self_not_must_use.60/near/268091359\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/matthiaskrgr/cargo-cache/blob/master/src/main.rs#L53\">https://github.com/matthiaskrgr/cargo-cache/blob/master/src/main.rs#L53</a> <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>\n</blockquote>\n<p>I too dislike <code>upper_case_acronyms</code>. I have a type alias called <code>AST</code>, which I don't really think is better as <code>Ast</code>.</p>",
        "id": 268094150,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642208423
    },
    {
        "content": "<p>FWIW—and maybe this is a known issue—I've also run into some false positives with <code>needless_collect</code> where the collect is actually needed because of the borrow-checker. I'm not sure how easy that'd be to \"fix\" though.</p>\n<p>I like <code>needless_collect</code> a lot otherwise though :)</p>",
        "id": 268100576,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642215694
    },
    {
        "content": "<p>Regarding the lint level: My first instinct was that this lint should be <code>pedantic</code>. I see the argument, that this is something that  adding <code>must_use</code> to builders can be considered good style. </p>\n<p>In its current form, I would put this lint into <code>pedantic</code>, because it is just too aggressive. With the suggestion on only linting in libraries and (from twitter) only linting externally visible functions, I think the argument of having this lint warn-by-default is stronger.</p>\n<p>That this lint is aimed at libraty providers and not users should be documented. </p>\n<p>There's also the question if adding a <code>must_use</code> attribute to a public function/type has to be considered as a breaking change regarding semver.</p>",
        "id": 268256950,
        "sender_full_name": "flip1995",
        "timestamp": 1642418149
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"210316\">@GuillaumeGomez</span> FYI: We decided to move the lint to <code>pedantic</code> for now <a href=\"https://github.com/rust-lang/rust-clippy/issues/8302\">clippy#8302</a>. I'm open to move it back to <code>style</code> (or another warn-by-default group) once it is a bit more restricted.</p>\n<p>(To decrease warnings another idea would be to only lint once per type. It doesn't really help to lint on all methods of a builder pattern type)</p>",
        "id": 268258754,
        "sender_full_name": "flip1995",
        "timestamp": 1642419307
    },
    {
        "content": "<p>It's fine. Thanks!</p>",
        "id": 268262087,
        "sender_full_name": "GuillaumeGomez",
        "timestamp": 1642421337
    },
    {
        "content": "<blockquote>\n<p>With the suggestion on only linting in libraries and (from twitter) only linting externally visible functions, I think the argument of having this lint warn-by-default is stronger.</p>\n</blockquote>\n<p>I can see the advantage of, if you explicitly enable the lint, wanting to have it lint <em>all</em> functions, including private helpers, to improve static checking even for local code. So, hardcoding the ignoring also seems somewhat non-optimal.</p>",
        "id": 268305534,
        "sender_full_name": "Noah Lev",
        "timestamp": 1642446168
    },
    {
        "content": "<p>Good point, we can always make that configurable. But I think the default of public-only + warn-by-default is better than all-functions + allow-by-default (current impl)</p>",
        "id": 268360109,
        "sender_full_name": "flip1995",
        "timestamp": 1642495981
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"210316\">GuillaumeGomez</span> <a href=\"#narrow/stream/257328-clippy/topic/Lint.20group.20for.20.60return_self_not_must_use.60/near/268076246\">said</a>:</p>\n<blockquote>\n<p>It's actually extremely rare for people to run something else than <code>cargo clippy</code></p>\n</blockquote>\n<p>This does not match what i've seen in most projects: Clippy is _intended_ to be used with lots of twiddling of lint levels, and most projects seem to do this. Note that you don't _have_ to twiddle the lint levels at the CLI level, you can do it in source too; and a lot of projects _do_ run <code>cargo clippy</code> but toggle stuff in source, which for the purposes of this discussion is the same</p>",
        "id": 268743111,
        "sender_full_name": "Manish Goregaokar",
        "timestamp": 1642706134
    }
]