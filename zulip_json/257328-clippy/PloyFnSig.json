[
    {
        "content": "<p>I wonder how to extract lifetime relation from <code>mir::PolyFnSig</code>.<br>\nIn <code>fn foo&lt;'c,'a:'c,'b:'c&gt;(x:&amp;'a S,y:&amp;'b S)-&gt;&amp;'c S</code>, I want to get (a,c),(b,c)</p>\n<h1>Motivate</h1>\n<p><code>redundant_clone</code></p>",
        "id": 249313685,
        "sender_full_name": "lengyijun",
        "timestamp": 1628819461
    },
    {
        "content": "<p>I'm not personally familiar with the code, but poking around a bit it looks like <code>PolyFnSig</code> represents the type of a function after instantiation, meaning that it only includes late-bound lifetimes, and I think there are no lifetime relations on these</p>",
        "id": 249313929,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1628819800
    },
    {
        "content": "<p>Yesterday I spent almost whole day on it. I wish I had asked yesterday.  <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 249314500,
        "sender_full_name": "lengyijun",
        "timestamp": 1628820454
    },
    {
        "content": "<p>From what I can tell, the actual where clauses are stored in <code>hir::WhereClause</code>, which is stored in the HIR and available to some clippy lints like <code>elided_lifetimes</code>. After typechecking this turns into <code>ty::GenericPredicates</code>, but I'm not sure that this is actually stored anywhere permanent</p>",
        "id": 249315010,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1628821222
    },
    {
        "content": "<p>well, there is the <code>predicates_of</code> query, so you can maybe just treat that as a black box</p>",
        "id": 249315097,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1628821358
    }
]