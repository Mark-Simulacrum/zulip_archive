[
    {
        "content": "<p>Hi.  i have issue when i try to run <code>cargo test</code> on rust-clippy.<br>\ni was following basic document up to <a href=\"https://github.com/rust-lang/rust-clippy/blob/master/doc/basics.md#building-and-testing\">https://github.com/rust-lang/rust-clippy/blob/master/doc/basics.md#building-and-testing</a> when i found this error.</p>\n<div class=\"codehilite\"><pre><span></span><code>TOML Caused by: redefinition of table `target.cfg(NOT_A_PLATFORM).dependencies` for key `target.cfg(NOT_A_PLATFORM).dependencies` at line 37 column 1\n</code></pre></div>\n\n\n<p>I have linked rustc into my local /rust-lang/rust and have checked the toml on clippy has change after i run <code>cargo dev ra-setup --repo-path &lt;repo-path&gt;</code>.<br>\ni am using rustc 1.49.0-nightly</p>",
        "id": 214430547,
        "sender_full_name": "Bimo",
        "timestamp": 1603549579
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"343338\">@Bimo</span> I'm not able to reproduce it locally, could you share your <code>Cargo.toml</code>?</p>",
        "id": 214456787,
        "sender_full_name": "Eduardo Broto",
        "timestamp": 1603583784
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"279272\">@Eduardo Broto</span> </p>\n<div class=\"codehilite\"><pre><span></span><code>[package]\nname = &quot;clippy&quot;\nversion = &quot;0.0.212&quot;\nauthors = [\n    &quot;Manish Goregaokar &lt;manishsmail@gmail.com&gt;&quot;,\n    &quot;Andre Bogus &lt;bogusandre@gmail.com&gt;&quot;,\n    &quot;Georg Brandl &lt;georg@python.org&gt;&quot;,\n    &quot;Martin Carton &lt;cartonmartin@gmail.com&gt;&quot;,\n    &quot;Oliver Schneider &lt;clippy-iethah7aipeen8neex1a@oli-obk.de&gt;&quot;\n]\ndescription = &quot;A bunch of helpful lints to avoid common pitfalls in Rust&quot;\nrepository = &quot;https://github.com/rust-lang/rust-clippy&quot;\nreadme = &quot;README.md&quot;\nlicense = &quot;MIT OR Apache-2.0&quot;\nkeywords = [&quot;clippy&quot;, &quot;lint&quot;, &quot;plugin&quot;]\ncategories = [&quot;development-tools&quot;, &quot;development-tools::cargo-plugins&quot;]\nbuild = &quot;build.rs&quot;\nedition = &quot;2018&quot;\npublish = false\n\n[[bin]]\nname = &quot;cargo-clippy&quot;\ntest = false\npath = &quot;src/main.rs&quot;\n\n[[bin]]\nname = &quot;clippy-driver&quot;\npath = &quot;src/driver.rs&quot;\n\n[target.&#39;cfg(NOT_A_PLATFORM)&#39;.dependencies]\nrustc_data_structures = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_data_structures&quot; }\nrustc_driver = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_driver&quot; }\nrustc_errors = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_errors&quot; }\nrustc_interface = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_interface&quot; }\nrustc_middle = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_middle&quot; }\n\n[target.&#39;cfg(NOT_A_PLATFORM)&#39;.dependencies]\nrustc_data_structures = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_data_structures&quot; }\nrustc_driver = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_driver&quot; }\nrustc_errors = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_errors&quot; }\nrustc_interface = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_interface&quot; }\nrustc_middle = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_middle&quot; }\n\n[dependencies]\n# begin automatic update\nclippy_lints = { version = &quot;0.0.212&quot;, path = &quot;clippy_lints&quot; }\n# end automatic update\nsemver = &quot;0.11&quot;\nrustc_tools_util = { version = &quot;0.2.0&quot;, path = &quot;rustc_tools_util&quot;}\ntempfile = { version = &quot;3.1.0&quot;, optional = true }\n\n[dev-dependencies]\ncargo_metadata = &quot;0.12&quot;\ncompiletest_rs = { version = &quot;0.5.0&quot;, features = [&quot;tmp&quot;] }\ntester = &quot;0.7&quot;\nclippy-mini-macro-test = { version = &quot;0.2&quot;, path = &quot;mini-macro&quot; }\nserde = { version = &quot;1.0&quot;, features = [&quot;derive&quot;] }\nderive-new = &quot;0.5&quot;\n\n# A noop dependency that changes in the Rust repository, it&#39;s a bit of a hack.\n# See the `src/tools/rustc-workspace-hack/README.md` file in `rust-lang/rust`\n# for more information.\nrustc-workspace-hack = &quot;1.0.0&quot;\n\n[build-dependencies]\nrustc_tools_util = { version = &quot;0.2.0&quot;, path = &quot;rustc_tools_util&quot;}\n\n[features]\ndeny-warnings = []\nintegration = [&quot;tempfile&quot;]\n</code></pre></div>",
        "id": 214457691,
        "sender_full_name": "Bimo",
        "timestamp": 1603585070
    },
    {
        "content": "<p>I see, it seems that running <code>ra-setup</code> does not check if the information about dependencies was already added. I'll open an issue about that.</p>\n<p>For the moment you can remove one of the duplicated blocks, from that <code>Cargo.toml</code> and from the one under <code>clippy_lints</code>.</p>",
        "id": 214457833,
        "sender_full_name": "Eduardo Broto",
        "timestamp": 1603585286
    },
    {
        "content": "<p>By duplicated blocks I mean to remove one of these:</p>\n<div class=\"codehilite\"><pre><span></span><code>[target.&#39;cfg(NOT_A_PLATFORM)&#39;.dependencies]\nrustc_data_structures = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_data_structures&quot; }\nrustc_driver = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_driver&quot; }\nrustc_errors = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_errors&quot; }\nrustc_interface = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_interface&quot; }\nrustc_middle = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_middle&quot; }\n</code></pre></div>",
        "id": 214457899,
        "sender_full_name": "Eduardo Broto",
        "timestamp": 1603585360
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust-clippy/issues/6220\">clippy#6220</a></p>",
        "id": 214458085,
        "sender_full_name": "Eduardo Broto",
        "timestamp": 1603585629
    },
    {
        "content": "<p>it works. <br>\nbtw, cargo toml on clippy-lints also has the same issue. </p>\n<div class=\"codehilite\"><pre><span></span><code>[package]\nname = &quot;clippy_lints&quot;\n# begin automatic update\nversion = &quot;0.0.212&quot;\n# end automatic update\nauthors = [\n    &quot;Manish Goregaokar &lt;manishsmail@gmail.com&gt;&quot;,\n    &quot;Andre Bogus &lt;bogusandre@gmail.com&gt;&quot;,\n    &quot;Georg Brandl &lt;georg@python.org&gt;&quot;,\n    &quot;Martin Carton &lt;cartonmartin@gmail.com&gt;&quot;\n]\ndescription = &quot;A bunch of helpful lints to avoid common pitfalls in Rust&quot;\nrepository = &quot;https://github.com/rust-lang/rust-clippy&quot;\nreadme = &quot;README.md&quot;\nlicense = &quot;MIT OR Apache-2.0&quot;\nkeywords = [&quot;clippy&quot;, &quot;lint&quot;, &quot;plugin&quot;]\nedition = &quot;2018&quot;\n\n[target.&#39;cfg(NOT_A_PLATFORM)&#39;.dependencies]\nrustc_ast = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_ast&quot; }\nrustc_ast_pretty = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_ast_pretty&quot; }\nrustc_attr = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_attr&quot; }\nrustc_data_structures = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_data_structures&quot; }\nrustc_errors = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_errors&quot; }\nrustc_hir = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_hir&quot; }\nrustc_hir_pretty = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_hir_pretty&quot; }\nrustc_index = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_index&quot; }\nrustc_infer = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_infer&quot; }\nrustc_lexer = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_lexer&quot; }\nrustc_lint = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_lint&quot; }\nrustc_middle = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_middle&quot; }\nrustc_mir = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_mir&quot; }\nrustc_parse = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_parse&quot; }\nrustc_parse_format = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_parse_format&quot; }\nrustc_session = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_session&quot; }\nrustc_span = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_span&quot; }\nrustc_target = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_target&quot; }\nrustc_trait_selection = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_trait_selection&quot; }\nrustc_typeck = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_typeck&quot; }\n\n[target.&#39;cfg(NOT_A_PLATFORM)&#39;.dependencies]\nrustc_ast = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_ast&quot; }\nrustc_ast_pretty = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_ast_pretty&quot; }\nrustc_attr = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_attr&quot; }\nrustc_data_structures = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_data_structures&quot; }\nrustc_errors = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_errors&quot; }\nrustc_hir = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_hir&quot; }\nrustc_hir_pretty = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_hir_pretty&quot; }\nrustc_index = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_index&quot; }\nrustc_infer = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_infer&quot; }\nrustc_lexer = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_lexer&quot; }\nrustc_lint = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_lint&quot; }\nrustc_middle = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_middle&quot; }\nrustc_mir = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_mir&quot; }\nrustc_parse = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_parse&quot; }\nrustc_parse_format = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_parse_format&quot; }\nrustc_session = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_session&quot; }\nrustc_span = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_span&quot; }\nrustc_target = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_target&quot; }\nrustc_trait_selection = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_trait_selection&quot; }\nrustc_typeck = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_typeck&quot; }\n\n[target.&#39;cfg(NOT_A_PLATFORM)&#39;.dependencies]\nrustc_ast = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_ast&quot; }\nrustc_ast_pretty = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_ast_pretty&quot; }\nrustc_attr = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_attr&quot; }\nrustc_data_structures = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_data_structures&quot; }\nrustc_errors = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_errors&quot; }\nrustc_hir = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_hir&quot; }\nrustc_hir_pretty = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_hir_pretty&quot; }\nrustc_index = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_index&quot; }\nrustc_infer = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_infer&quot; }\nrustc_lexer = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_lexer&quot; }\nrustc_lint = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_lint&quot; }\nrustc_middle = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_middle&quot; }\nrustc_mir = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_mir&quot; }\nrustc_parse = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_parse&quot; }\nrustc_parse_format = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_parse_format&quot; }\nrustc_session = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_session&quot; }\nrustc_span = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_span&quot; }\nrustc_target = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_target&quot; }\nrustc_trait_selection = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_trait_selection&quot; }\nrustc_typeck = { path = &quot;/home/bee/Code/rust/github.com/rust-lang/rust/compiler/rustc_typeck&quot; }\n\n[dependencies]\ncargo_metadata = &quot;0.12&quot;\nif_chain = &quot;1.0.0&quot;\nitertools = &quot;0.9&quot;\npulldown-cmark = { version = &quot;0.8&quot;, default-features = false }\nquine-mc_cluskey = &quot;0.2.2&quot;\nregex-syntax = &quot;0.6&quot;\nserde = { version = &quot;1.0&quot;, features = [&quot;derive&quot;] }\nsmallvec = { version = &quot;1&quot;, features = [&quot;union&quot;] }\ntoml = &quot;0.5.3&quot;\nunicode-normalization = &quot;0.1&quot;\nsemver = &quot;0.11&quot;\n# NOTE: cargo requires serde feat in its url dep\n# see &lt;https://github.com/rust-lang/rust/pull/63587#issuecomment-522343864&gt;\nurl = { version =  &quot;2.1.0&quot;, features = [&quot;serde&quot;] }\nquote = &quot;1&quot;\nsyn = { version = &quot;1&quot;, features = [&quot;full&quot;] }\n\n[features]\ndeny-warnings = []\n</code></pre></div>\n\n\n<p>after i removed two identical blocks above, it can run test.<br>\nThank you</p>",
        "id": 214458172,
        "sender_full_name": "Bimo",
        "timestamp": 1603585796
    }
]