[
    {
        "content": "<p>So rust 1.58 (current stable)  introduced format arg capture like</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"hello\"</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"fm\">format!</span><span class=\"p\">(</span><span class=\"s\">\"{x}\"</span><span class=\"p\">);</span><span class=\"w\"></span>\n</code></pre></div>\n<p>but clippys <code>useless_format</code> lint totally does not take this into account and suggests something like<br>\n<code>{x}.to_string()</code>.</p>\n<p>It's kinda bad that we didn't have a test for this kind of stuff (we had like 2 releases to notice..? <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> )<br>\nI've added <code>P-high</code> to <a href=\"https://github.com/rust-lang/rust-clippy/issues/8290\">https://github.com/rust-lang/rust-clippy/issues/8290</a><br>\nIs a fix to this something that should be backported?<br>\nI think there were was some backport for stable planned anyway?</p>\n<p>I <em>think</em> have not seen any tickets about this yet (which means not a lot of people used fmt args capture on nightly/beta and run clippy...?) but now that it hit stable we might see some broader adoption...</p>",
        "id": 268123576,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1642249923
    },
    {
        "content": "<blockquote>\n<p>I think there were was some backport for stable planned anyway?</p>\n</blockquote>\n<p>Yes for <a href=\"https://github.com/rust-lang/rust-clippy/issues/8045\">clippy#8045</a> on next Thursday</p>\n<blockquote>\n<p>Is a fix to this something that should be backported?</p>\n</blockquote>\n<p>I think it depends in the impact. <span class=\"user-mention silent\" data-user-id=\"121055\">Pietro Albini</span> said that he prefers backporting the minimal set of changes to stable. Since nobody complained so far I think it would be enough to backport to beta.</p>",
        "id": 268123810,
        "sender_full_name": "xFrednet",
        "timestamp": 1642250299
    },
    {
        "content": "<p>added the nomination label for the next clippy meeting or so :)</p>",
        "id": 268124025,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1642250665
    },
    {
        "content": "<p>(feel free to remove if we have an earlier conclusion :) )</p>",
        "id": 268124027,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1642250682
    },
    {
        "content": "<p>Even though we don't see any complains yet, I expected that with 1.59 at the latest more and more complains will come in. Next Clippy meeting is after the planned stable backport. If someone gets a fix for this in (that is small enough) we can ask if it can also be backported to stable. </p>\n<p>Otherwise I would at least backport it to beta, which has a lower bar.</p>",
        "id": 268124272,
        "sender_full_name": "flip1995",
        "timestamp": 1642251007
    },
    {
        "content": "<p>This issue was fixed by <span class=\"user-mention silent\" data-user-id=\"399480\">Jason Newcomb</span> in <a href=\"https://github.com/rust-lang/rust-clippy/issues/8295\">clippy#8295</a> (Bors tests are currently running)</p>",
        "id": 268184517,
        "sender_full_name": "xFrednet",
        "timestamp": 1642339910
    },
    {
        "content": "<p>The fix is small enough that a backport to stable should be reasonable if we have a point version anyways <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 268184604,
        "sender_full_name": "xFrednet",
        "timestamp": 1642340011
    },
    {
        "content": "<p>I opened an out-of-cycle sync <a href=\"https://github.com/rust-lang/rust/pull/93001\">https://github.com/rust-lang/rust/pull/93001</a>. After that is merged I'll propose backporting <a href=\"https://github.com/rust-lang/rust/commit/cb384ff03b7a10bca10b962d9907c0d56ba3086f\">https://github.com/rust-lang/rust/commit/cb384ff03b7a10bca10b962d9907c0d56ba3086f</a> to beta and stable.</p>",
        "id": 268254078,
        "sender_full_name": "flip1995",
        "timestamp": 1642416446
    },
    {
        "content": "<p>If you do a backport to beta could you also change the lint group of <code>return_self_not_must_use</code> to <code>pedantic</code>. This was discussed in <a href=\"#narrow/stream/257328-clippy/topic/Lint.20group.20for.20.60return_self_not_must_use.60/near/268075617\">this Zulip stream</a> at least at first.</p>",
        "id": 268257037,
        "sender_full_name": "xFrednet",
        "timestamp": 1642418192
    },
    {
        "content": "<p>Was this lint already moved to <code>pedantic</code> in the Clippy repo?</p>",
        "id": 268257198,
        "sender_full_name": "flip1995",
        "timestamp": 1642418300
    },
    {
        "content": "<p>Just answered this question myself: no</p>",
        "id": 268257252,
        "sender_full_name": "flip1995",
        "timestamp": 1642418346
    },
    {
        "content": "<p>We should do that first</p>",
        "id": 268257277,
        "sender_full_name": "flip1995",
        "timestamp": 1642418359
    },
    {
        "content": "<p>Nope, that was on my todo list, among other things <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 268257444,
        "sender_full_name": "xFrednet",
        "timestamp": 1642418453
    },
    {
        "content": "<p>Should I create a quick PR?</p>",
        "id": 268257459,
        "sender_full_name": "xFrednet",
        "timestamp": 1642418464
    },
    {
        "content": "<p>I can also quickly do that.</p>",
        "id": 268257820,
        "sender_full_name": "flip1995",
        "timestamp": 1642418661
    },
    {
        "content": "<p>My ui tests are already running xD</p>",
        "id": 268257851,
        "sender_full_name": "xFrednet",
        "timestamp": 1642418676
    },
    {
        "content": "<p>Shouldn't you write on your bachelor thesis? <span aria-label=\"stuck out tongue closed eyes\" class=\"emoji emoji-1f61d\" role=\"img\" title=\"stuck out tongue closed eyes\">:stuck_out_tongue_closed_eyes:</span> Ok then, let me know once you have the PR ready <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 268257901,
        "sender_full_name": "flip1995",
        "timestamp": 1642418727
    },
    {
        "content": "<p>Maybe, actually definitely... After this I will <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 268258251,
        "sender_full_name": "xFrednet",
        "timestamp": 1642418977
    },
    {
        "content": "<p>Done <a href=\"https://github.com/rust-lang/rust-clippy/issues/8302\">clippy#8302</a></p>",
        "id": 268258544,
        "sender_full_name": "xFrednet",
        "timestamp": 1642419143
    },
    {
        "content": "<p>It took a second until I noticed that I've only added <code>#[warn(clippy::return_self_not_must_use)]</code> to the tests without the exclamation mark to make the attribute global <span aria-label=\"joy\" class=\"emoji emoji-1f602\" role=\"img\" title=\"joy\">:joy:</span></p>",
        "id": 268258622,
        "sender_full_name": "xFrednet",
        "timestamp": 1642419218
    },
    {
        "content": "<p>And now I'm running out of excuses not to write on my thesis ^^</p>",
        "id": 268258692,
        "sender_full_name": "xFrednet",
        "timestamp": 1642419254
    }
]