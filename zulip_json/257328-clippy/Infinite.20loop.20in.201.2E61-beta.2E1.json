[
    {
        "content": "<p>Hi to all! We have a project that runs clippy stable and beta on every PR and since 1.61-beta.1, it gets stuck in what seems to be an infinite loop. Before opening an issue, I wanted to pinpoint where it gets stuck and have a simpler repro case (because the current project isn't small), but I might need your help for that.</p>\n<p>I cloned the rust-clippy repo and build it, but I'm not sure how to run it in debug while it checks my other workspace.</p>",
        "id": 278579584,
        "sender_full_name": "Émile Grégoire",
        "timestamp": 1649694466
    },
    {
        "content": "<p>FYI, this is a CI run that exhibits the infinite loop: <a href=\"https://github.com/stepfunc/dnp3/runs/5975207751?check_suite_focus=true\">https://github.com/stepfunc/dnp3/runs/5975207751?check_suite_focus=true</a></p>",
        "id": 278579687,
        "sender_full_name": "Émile Grégoire",
        "timestamp": 1649694497
    },
    {
        "content": "<p>you probably don't need to build from source to get a simpler repo and find where it's stuck - normally I debug infinite loops by running it under gdb for a couple seconds and then getting a backtrace of wherever it happens to be</p>",
        "id": 278581249,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649695119
    },
    {
        "content": "<p>I see. And how do you get it to run in another directory? I'm used to just running <code>cargo clippy</code> in my repo, but the <code>clippy-driver</code> seems to want something else.</p>",
        "id": 278581702,
        "sender_full_name": "Émile Grégoire",
        "timestamp": 1649695321
    },
    {
        "content": "<p><code>cargo clippy -vv</code> should print the exact command that cargo runs</p>",
        "id": 278583132,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649695889
    },
    {
        "content": "<p>You can try <code>cargo dev lint</code> (In clippy's repo directory)</p>",
        "id": 278585172,
        "sender_full_name": "xFrednet",
        "timestamp": 1649696696
    },
    {
        "content": "<p>I'm not sure if that works for a project though. Otherwise you can take a look at out docs for <a href=\"https://github.com/rust-lang/rust-clippy/blob/master/doc/basics.md#install-from-source\">Install from source</a></p>",
        "id": 278585345,
        "sender_full_name": "xFrednet",
        "timestamp": 1649696765
    },
    {
        "content": "<p>It does now, added that recently</p>",
        "id": 278595075,
        "sender_full_name": "Alex Macleod",
        "timestamp": 1649700888
    },
    {
        "content": "<p>Thank you all for your help! I was able to identify the culprint lint. I don't have the required knowledge to figure out what's wrong, but at least I was able to open a more precise issue. See <a href=\"https://github.com/rust-lang/rust-clippy/issues/8689\">https://github.com/rust-lang/rust-clippy/issues/8689</a></p>",
        "id": 278610940,
        "sender_full_name": "Émile Grégoire",
        "timestamp": 1649708389
    },
    {
        "content": "<p>awesome! <span class=\"user-mention\" data-user-id=\"325787\">@Émile Grégoire</span> if you could post the backtrace you saw in gdb, that would be super helpful as well :)</p>",
        "id": 278611205,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1649708488
    },
    {
        "content": "<p>Done, although I'm not sure how useful it will be.</p>",
        "id": 278612193,
        "sender_full_name": "Émile Grégoire",
        "timestamp": 1649708902
    }
]