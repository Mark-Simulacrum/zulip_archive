[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120989\">@nnethercote</span> The <a href=\"https://hackmd.io/d9uE7qgtTWKDLivy0uoVQw?view\">upgrade doc</a> mentions potential new benchmarks. Do we have any criteria for deciding whether a benchmark is interesting enough to add. The crates mentioned in the doc as being potentially good to add seem reasonable to me, but I'm unsure how we want to evaluate whether a crate is indeed worth it to add.</p>",
        "id": 278275246,
        "sender_full_name": "rylev",
        "timestamp": 1649408489
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"224872\">@rylev</span> I've been looking at them, I have a short list: serde_derive, http, bitmasks, a stress test I have relating to <code>quote</code></p>",
        "id": 278275424,
        "sender_full_name": "nnethercote",
        "timestamp": 1649408572
    },
    {
        "content": "<p>Maybe nalgebra; it's interesting but also very big and slow, not sure if it's worth it</p>",
        "id": 278275461,
        "sender_full_name": "nnethercote",
        "timestamp": 1649408593
    },
    {
        "content": "<p>The others are generally pretty vanilla, don't offer much interesting stuff beyond the existing benchmarks</p>",
        "id": 278275481,
        "sender_full_name": "nnethercote",
        "timestamp": 1649408608
    },
    {
        "content": "<p>I left a note asking whether <code>serde_json</code> would be interesting (given its popularity and difference with the rest of the serde suite). Any thoughts on that?</p>",
        "id": 278275599,
        "sender_full_name": "rylev",
        "timestamp": 1649408670
    },
    {
        "content": "<p>And now that you have a list of good candidates, should we make note of that in the doc and post about it in the \"Task for contributors\" topic?</p>",
        "id": 278275769,
        "sender_full_name": "rylev",
        "timestamp": 1649408763
    },
    {
        "content": "<p>I haven't looked at serde_json, it could be interesting.</p>",
        "id": 278275865,
        "sender_full_name": "nnethercote",
        "timestamp": 1649408814
    },
    {
        "content": "<p>You're pushing me to firm the list, I wasn't quite at the delegation step yet, have been mulling it over <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 278275907,
        "sender_full_name": "nnethercote",
        "timestamp": 1649408840
    },
    {
        "content": "<p>I was planning to do that next week</p>",
        "id": 278275925,
        "sender_full_name": "nnethercote",
        "timestamp": 1649408849
    },
    {
        "content": "<p>Ok. I don't mean to apply undue pressure. Let me know if there's anything I can do to help</p>",
        "id": 278275963,
        "sender_full_name": "rylev",
        "timestamp": 1649408879
    },
    {
        "content": "<p>Thanks! Will do</p>",
        "id": 278276142,
        "sender_full_name": "nnethercote",
        "timestamp": 1649408955
    },
    {
        "content": "<p>I should ask <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> how much headroom we have to add new benchmarks, CI time wise. I think we're using less time than before we started the upgrade...</p>",
        "id": 278276208,
        "sender_full_name": "nnethercote",
        "timestamp": 1649408989
    },
    {
        "content": "<p>We should be able to tell how much time we took before since we record benchmarking durations. I can look into that.</p>",
        "id": 278276786,
        "sender_full_name": "rylev",
        "timestamp": 1649409271
    },
    {
        "content": "<p>We're taking about ~1000 seconds (~16.5 minutes) less now than before the great benchmark swap</p>",
        "id": 278278596,
        "sender_full_name": "rylev",
        "timestamp": 1649410270
    },
    {
        "content": "<p>And historically speaking only 144 runs have taken less time the last run did so we're sort of near a historical low in terms of the amount of time it takes.</p>",
        "id": 278278996,
        "sender_full_name": "rylev",
        "timestamp": 1649410481
    },
    {
        "content": "<p>Great! So what's the total time we're getting now?</p>",
        "id": 278280832,
        "sender_full_name": "nnethercote",
        "timestamp": 1649411639
    },
    {
        "content": "<p>In total it's around 72 minutes</p>",
        "id": 278281551,
        "sender_full_name": "rylev",
        "timestamp": 1649412000
    },
    {
        "content": "<p>My dashboard says 1.22 hours now, and before all the work it was 1.5 hours</p>",
        "id": 278288894,
        "sender_full_name": "simulacrum",
        "timestamp": 1649416442
    },
    {
        "content": "<p>Idea: on the status page it could be nice to graph the benchmark run time for the last 10 runs and to link to these runs' comparison pages. When debugging things, it's often nice to see a few of the last runs. This isn't really useful for users but could be useful for those working on rustc-perf.</p>",
        "id": 278297781,
        "sender_full_name": "rylev",
        "timestamp": 1649421629
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"224872\">@rylev</span> I looked at <code>serde_json</code>, pretty boring, similar to several existing benchmarks</p>",
        "id": 278512907,
        "sender_full_name": "nnethercote",
        "timestamp": 1649658695
    },
    {
        "content": "<p>Can you explain a bit about what criteria you’re applying? I’m curious</p>",
        "id": 278513173,
        "sender_full_name": "rylev",
        "timestamp": 1649659023
    },
    {
        "content": "<p>Just eyeballing the top functions in Cachegrind. Not very scientific, but if you look at a few profiles the same functions appear over and over for a lot of the benchmakrs.</p>",
        "id": 278524023,
        "sender_full_name": "nnethercote",
        "timestamp": 1649666887
    },
    {
        "content": "<p>I noticed that the section \"To add\" has been updated. Is this the final list. Shall we start adding the ones listed there or are you still thinking about which ones are interesting enough?</p>",
        "id": 278525594,
        "sender_full_name": "rylev",
        "timestamp": 1649667809
    }
]