[
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rust/pull/94084#issuecomment-1053631207\">https://github.com/rust-lang/rust/pull/94084#issuecomment-1053631207</a> mentions the number of improvements, but not the number of regressions. Which then makes the \"Arithmetic mean of relevant regressions: 1.1%\" line surprising</p>",
        "id": 273425445,
        "sender_full_name": "nnethercote",
        "timestamp": 1645996379
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"266526\">@Jakub Ber√°nek</span> Any idea why it does this?</p>",
        "id": 273425453,
        "sender_full_name": "nnethercote",
        "timestamp": 1645996394
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rustc-perf/blob/master/site/src/github.rs#L712\">https://github.com/rust-lang/rustc-perf/blob/master/site/src/github.rs#L712</a> only lists regressions if direction is mixed -- which requires <a href=\"https://github.com/rust-lang/rustc-perf/blob/master/site/src/comparison.rs#L240\">https://github.com/rust-lang/rustc-perf/blob/master/site/src/comparison.rs#L240</a></p>",
        "id": 273425707,
        "sender_full_name": "simulacrum",
        "timestamp": 1645996772
    },
    {
        "content": "<p>does this mean that PRs with a small number of small regressions will not be considered as regressions anymore ?</p>",
        "id": 273426593,
        "sender_full_name": "lqd",
        "timestamp": 1645997861
    },
    {
        "content": "<p>I don't think this is <em>new</em> behavior</p>",
        "id": 273426992,
        "sender_full_name": "simulacrum",
        "timestamp": 1645998461
    },
    {
        "content": "<p>oh ok, I see. thanks</p>",
        "id": 273427236,
        "sender_full_name": "lqd",
        "timestamp": 1645998806
    },
    {
        "content": "<p>we're still iterating on the right way to display results so that they're meaningful and not noisy</p>",
        "id": 273427240,
        "sender_full_name": "simulacrum",
        "timestamp": 1645998817
    },
    {
        "content": "<p>I think this case in particular is one we probably are getting it wrong, though it's unclear</p>",
        "id": 273427244,
        "sender_full_name": "simulacrum",
        "timestamp": 1645998830
    },
    {
        "content": "<p>In particular, I think we sometimes are <em>too</em> eager to categorize things as regressions/mixed, but it's hard to make that evaluation automatically.</p>",
        "id": 273427299,
        "sender_full_name": "simulacrum",
        "timestamp": 1645998886
    },
    {
        "content": "<p>I see. I think it would be good to always show all the top line numbers (number of improvements and regressions, plus the arithmetic means) and then categorize that as improvement/mixed/regression in a way that makes is clear it's an automated/heuristic classification.</p>",
        "id": 273428558,
        "sender_full_name": "nnethercote",
        "timestamp": 1646000636
    },
    {
        "content": "<p>Actually, this makes clear why I've always found this sentence strange: \"If you disagree with this performance assessment, please file an issue in rust-lang/rustc-perf.\"  Because the text above that sentence is mostly measurements, combined with an automated classification. I see now the sentence is actually referring to the classification... it's hard to disagree with the measurements <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 273428633,
        "sender_full_name": "nnethercote",
        "timestamp": 1646000733
    },
    {
        "content": "<p>So it would be clearer if it was something like:</p>\n<div class=\"codehilite\"><pre><span></span><code>This benchmark run shows 55 relevant improvements and 9 relevant regressions to instruction counts.\n- Arithmetic mean of relevant regressions: 1.1%\n- Arithmetic mean of relevant improvements: -0.8%\n- Arithmetic mean of all relevant changes: -0.6%\n- Largest improvement in instruction counts: -2.3% on full builds of keccak check\n\nBased on these measurements, we have automatically assessed this result as an *improvement*.\n\nIf you disagree with this performance assessment, please file an issue in rust-lang/rustc-perf.\n</code></pre></div>",
        "id": 273428954,
        "sender_full_name": "nnethercote",
        "timestamp": 1646001081
    },
    {
        "content": "<p>I.e. facts first, automated assessment second</p>",
        "id": 273428961,
        "sender_full_name": "nnethercote",
        "timestamp": 1646001097
    },
    {
        "content": "<p>Yeah, that seems ok to me</p>",
        "id": 273429005,
        "sender_full_name": "simulacrum",
        "timestamp": 1646001130
    }
]