[
    {
        "content": "<p>FYI: <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> has already done the triage. I'm going to land <a href=\"https://github.com/rust-lang/rustc-perf/pull/1001\">https://github.com/rust-lang/rustc-perf/pull/1001</a> which changes the IQR multipler from 1.5 to 3.0 which we use in the new significance test (not on by default) and then I'm going to rerun the triage to see what the diff is.</p>",
        "id": 253245530,
        "sender_full_name": "rylev",
        "timestamp": 1631624388
    },
    {
        "content": "<p>Yeah - I plan to take another look this morning regardless, just wanted to get the bulk out of the way last night (and merge in case I didn't have a bit of time this morning)</p>",
        "id": 253245667,
        "sender_full_name": "simulacrum",
        "timestamp": 1631624423
    },
    {
        "content": "<p>(there's absolutely no issue with doing the triage on Monday nights <span aria-label=\"blush\" class=\"emoji emoji-1f60a\" role=\"img\" title=\"blush\">:blush:</span>)</p>",
        "id": 253245761,
        "sender_full_name": "rylev",
        "timestamp": 1631624458
    },
    {
        "content": "<p>I didn't triage the 'maybe interesting' section anyway, was leaving that for today :)</p>",
        "id": 253245812,
        "sender_full_name": "simulacrum",
        "timestamp": 1631624481
    },
    {
        "content": "<p>We can do that with the new significance threshold calculation as well.</p>",
        "id": 253245960,
        "sender_full_name": "rylev",
        "timestamp": 1631624522
    },
    {
        "content": "<p>We should switch to calcNewSig probably, right? Otherwise the IQR adjustment doesn't mean too much.</p>",
        "id": 253246066,
        "sender_full_name": "simulacrum",
        "timestamp": 1631624572
    },
    {
        "content": "<p>The thought was that since calcNewSig can be passed as a query param we can test it while other users of the perf service remain unaffected until we think things are good enough to switch over the default</p>",
        "id": 253246761,
        "sender_full_name": "rylev",
        "timestamp": 1631624854
    },
    {
        "content": "<p>Hm. Yeah, I guess that makes sense-- it's a bit annoying to edit the URLs in the triage report to use it (and generally deal with that).</p>\n<p>Maybe we should surface it in the UI as a toggle (requiring a new page load)... but that also seems a little hard.</p>",
        "id": 253247196,
        "sender_full_name": "simulacrum",
        "timestamp": 1631625060
    },
    {
        "content": "<p>It does feel like the right direction to move in, though, so maybe we should just go for it.</p>",
        "id": 253247223,
        "sender_full_name": "simulacrum",
        "timestamp": 1631625073
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116122\">simulacrum</span> <a href=\"#narrow/stream/247081-t-compiler.2Fperformance/topic/triage.202021.2014.2009/near/253247223\">said</a>:</p>\n<blockquote>\n<p>It does feel like the right direction to move in, though, so maybe we should just go for it.</p>\n</blockquote>\n<p>I'm convinced it's the right direction, and it's merely about gaining confidence that we've tweaked the knobs in the right way to get the results we're looking for.</p>",
        "id": 253248750,
        "sender_full_name": "rylev",
        "timestamp": 1631625642
    },
    {
        "content": "<p>We could spend cycles making it easier to toggle between the old and new significance scheme, but I think it's not worth it.</p>",
        "id": 253248841,
        "sender_full_name": "rylev",
        "timestamp": 1631625669
    },
    {
        "content": "<p>I think we're nearly at the point of turning it on by default</p>",
        "id": 253248858,
        "sender_full_name": "rylev",
        "timestamp": 1631625678
    },
    {
        "content": "<p>Yeah.</p>\n<p>By the way, I enabled some of the CI things as \"required\" last night so that we can use the github auto merge feature (I think it's a requirement)</p>",
        "id": 253248871,
        "sender_full_name": "simulacrum",
        "timestamp": 1631625682
    },
    {
        "content": "<p>Obviously can iterate on which ones to enable but that felt like a good first step</p>",
        "id": 253248942,
        "sender_full_name": "simulacrum",
        "timestamp": 1631625706
    },
    {
        "content": "<p>That's great. We might want to discuss this in another topic, but I also want to see if we can turn off benchmark CI and only run it when someone changes a benchmark, on master, or for the cron job run.</p>",
        "id": 253249175,
        "sender_full_name": "rylev",
        "timestamp": 1631625786
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> noticing you've been making progress on doing perf investigation and adding <code>perf-regression-triaged</code>. That's great! Would you be able to write any docs (just bullet points for now) on what you're doing for investigating. I assume it's a lot of cache-grind</p>",
        "id": 253441543,
        "sender_full_name": "rylev",
        "timestamp": 1631722440
    },
    {
        "content": "<p>I've been trying to leave fairly detailed comments in terms of outputs, but you're right that adding what commands are run would be good too</p>",
        "id": 253442113,
        "sender_full_name": "simulacrum",
        "timestamp": 1631722603
    },
    {
        "content": "<p>I might just leave those in the comments for now?</p>",
        "id": 253442127,
        "sender_full_name": "simulacrum",
        "timestamp": 1631722609
    },
    {
        "content": "<p>I would be interested to learn about how you use cachegrind too. Haven't used that before and sometimes <code>perf</code> doesn't cut it.</p>",
        "id": 253442504,
        "sender_full_name": "The 8472",
        "timestamp": 1631722718
    }
]