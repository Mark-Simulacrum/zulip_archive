[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> it seems that perhaps merging of <a href=\"https://github.com/rust-lang/rustc-perf/pull/1236\">https://github.com/rust-lang/rustc-perf/pull/1236</a> has broken the status page (and thus I'm unsure of the state of the queue). Do you have a chance to look at the logs or should I revert?</p>",
        "id": 276494958,
        "sender_full_name": "rylev",
        "timestamp": 1648136746
    },
    {
        "content": "<p>I won't until much later today if at all, so probably best to revert.</p>",
        "id": 276495145,
        "sender_full_name": "simulacrum",
        "timestamp": 1648136811
    },
    {
        "content": "<p>Please cc me on an issue filed for this and a timestamp (utc) for when a load of status page was attempted so I can find logs later on easily</p>",
        "id": 276495277,
        "sender_full_name": "simulacrum",
        "timestamp": 1648136861
    },
    {
        "content": "<p>I created a PR reverting the PR with the timestamp of when I roughly saw the 500s: <a href=\"https://github.com/rust-lang/rustc-perf/pull/1242\">https://github.com/rust-lang/rustc-perf/pull/1242</a></p>",
        "id": 276497039,
        "sender_full_name": "rylev",
        "timestamp": 1648137521
    },
    {
        "content": "<p>Looks like GitHub actions might be down which makes it hard to verify the revert, but since we're reverting the last thing that was merged, I think it's safe. I'll force a merge</p>",
        "id": 276504216,
        "sender_full_name": "rylev",
        "timestamp": 1648140138
    },
    {
        "content": "<p>Looks like the revert didn’t help. I think we’ll have to wait for <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span>’s investigation</p>",
        "id": 276520016,
        "sender_full_name": "rylev",
        "timestamp": 1648146222
    },
    {
        "content": "<p>I should have time tonight to look into it, probably in 1-2 hours</p>",
        "id": 276557389,
        "sender_full_name": "simulacrum",
        "timestamp": 1648168085
    },
    {
        "content": "<p>Looking into this now...</p>",
        "id": 276561580,
        "sender_full_name": "simulacrum",
        "timestamp": 1648172020
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rustc-perf/blob/07ba698b048790a4dbfd196f2670a584e60bafde/site/src/load.rs#L371\">https://github.com/rust-lang/rustc-perf/blob/07ba698b048790a4dbfd196f2670a584e60bafde/site/src/load.rs#L371</a> is the assert firing</p>",
        "id": 276561903,
        "sender_full_name": "simulacrum",
        "timestamp": 1648172297
    },
    {
        "content": "<p>Looks like <a href=\"https://github.com/rust-lang/rust/pull/91030\">https://github.com/rust-lang/rust/pull/91030</a> was not picked up by triagebot, which broke the next commit list computation due to firing this assert. This is a case of <a href=\"https://github.com/rust-lang/triagebot/issues/1483\">https://github.com/rust-lang/triagebot/issues/1483</a>.</p>",
        "id": 276562680,
        "sender_full_name": "simulacrum",
        "timestamp": 1648173194
    },
    {
        "content": "<p>Likely due to github's recent webhook flakiness.</p>",
        "id": 276562691,
        "sender_full_name": "simulacrum",
        "timestamp": 1648173219
    },
    {
        "content": "<p>and after a manual insert we are back up!</p>",
        "id": 276563009,
        "sender_full_name": "simulacrum",
        "timestamp": 1648173555
    },
    {
        "content": "<p>(It took a bit: I think we cache results of this endpoint for a bit?)</p>",
        "id": 276563018,
        "sender_full_name": "simulacrum",
        "timestamp": 1648173572
    },
    {
        "content": "<p>thank you for fixing!</p>",
        "id": 276568532,
        "sender_full_name": "nnethercote",
        "timestamp": 1648177106
    },
    {
        "content": "<p>it seems like it happened again <a href=\"https://perf.rust-lang.org/status.html\">https://perf.rust-lang.org/status.html</a></p>",
        "id": 276683137,
        "sender_full_name": "lqd",
        "timestamp": 1648245022
    },
    {
        "content": "<p>I'll look at it in a bit.</p>",
        "id": 276745031,
        "sender_full_name": "simulacrum",
        "timestamp": 1648327747
    },
    {
        "content": "<p>ok, manually pushed the commit, and it sounds like <span class=\"user-mention\" data-user-id=\"266526\">@Jakub Beránek</span> may have some time to work on a patch for triagebot</p>",
        "id": 276749266,
        "sender_full_name": "simulacrum",
        "timestamp": 1648333654
    },
    {
        "content": "<p>Some more status page weirdness. It's between runs right now, and says the following of the most recent run:</p>",
        "id": 277333907,
        "sender_full_name": "nnethercote",
        "timestamp": 1648757569
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">deeply</span><span class=\"o\">-</span><span class=\"n\">nested</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">unicode_normalization</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">regression</span><span class=\"o\">-</span><span class=\"mi\">31157</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">inflate</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">clap</span><span class=\"o\">-</span><span class=\"n\">rs</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">stm32f4</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">externs</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">issue</span><span class=\"o\">-</span><span class=\"mi\">46449</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">piston</span><span class=\"o\">-</span><span class=\"n\">image</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">deeply</span><span class=\"o\">-</span><span class=\"n\">nested</span><span class=\"o\">-</span><span class=\"k\">async</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">ucd</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">syn</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">wg</span><span class=\"o\">-</span><span class=\"n\">grammar</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">unused</span><span class=\"o\">-</span><span class=\"n\">warnings</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">html5ever</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">ctfe</span><span class=\"o\">-</span><span class=\"n\">stress</span><span class=\"o\">-</span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">deep</span><span class=\"o\">-</span><span class=\"n\">vector</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">packed</span><span class=\"o\">-</span><span class=\"n\">simd</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"k\">await</span><span class=\"o\">-</span><span class=\"n\">call</span><span class=\"o\">-</span><span class=\"n\">tree</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">serde</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">crates</span><span class=\"p\">.</span><span class=\"n\">io</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">many</span><span class=\"o\">-</span><span class=\"n\">assoc</span><span class=\"o\">-</span><span class=\"n\">items</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">issue</span><span class=\"o\">-</span><span class=\"mi\">58319</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">codegen</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">style</span><span class=\"o\">-</span><span class=\"n\">servo</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">unify</span><span class=\"o\">-</span><span class=\"n\">linearly</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">ripgrep</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">helloworld</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">hyper</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">projection</span><span class=\"o\">-</span><span class=\"n\">caching</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">encoding</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">script</span><span class=\"o\">-</span><span class=\"n\">servo</span><span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">wf</span><span class=\"o\">-</span><span class=\"n\">projection</span><span class=\"o\">-</span><span class=\"n\">stress</span><span class=\"o\">-</span><span class=\"mi\">65510</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">webrender</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">webrender</span><span class=\"o\">-</span><span class=\"n\">wrench</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">tokio</span><span class=\"o\">-</span><span class=\"n\">webpush</span><span class=\"o\">-</span><span class=\"n\">simple</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"k\">match</span><span class=\"o\">-</span><span class=\"n\">stress</span><span class=\"o\">-</span><span class=\"n\">exhaustive_patterns</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">issue</span><span class=\"o\">-</span><span class=\"mi\">88862</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">keccak</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">derive</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">deeply</span><span class=\"o\">-</span><span class=\"n\">nested</span><span class=\"o\">-</span><span class=\"n\">closures</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">tuple</span><span class=\"o\">-</span><span class=\"n\">stress</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">hyper</span><span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">token</span><span class=\"o\">-</span><span class=\"n\">stream</span><span class=\"o\">-</span><span class=\"n\">stress</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">cargo</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">regex</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">coercions</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">script</span><span class=\"o\">-</span><span class=\"n\">servo</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">futures</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"k\">match</span><span class=\"o\">-</span><span class=\"n\">stress</span><span class=\"o\">-</span><span class=\"k\">enum</span> <span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">rustc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">diesel</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n<span class=\"n\">sentry</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">successful</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 277333992,
        "sender_full_name": "nnethercote",
        "timestamp": 1648757617
    },
    {
        "content": "<p>That's very weird because it includes a bunch of long-gone benchmarks like script-servo and packed-simd, but it doesn't include any of the new upgraded ones with version numbers</p>",
        "id": 277334076,
        "sender_full_name": "nnethercote",
        "timestamp": 1648757650
    },
    {
        "content": "<p>Hm</p>",
        "id": 277358252,
        "sender_full_name": "simulacrum",
        "timestamp": 1648773993
    },
    {
        "content": "<p>I think we might be populating that list from the benchmarks that have ever had an error</p>",
        "id": 277358461,
        "sender_full_name": "simulacrum",
        "timestamp": 1648774175
    },
    {
        "content": "<p>FYI I've already started looking into this. The code doesn't read like it should be doing this, and so I was going to look into the database more to find out what's going on.</p>",
        "id": 277379414,
        "sender_full_name": "rylev",
        "timestamp": 1648798289
    },
    {
        "content": "<p>Got a fix, but it might require a bit of discussion: <a href=\"https://github.com/rust-lang/rustc-perf/pull/1267\">https://github.com/rust-lang/rustc-perf/pull/1267</a></p>",
        "id": 277414037,
        "sender_full_name": "rylev",
        "timestamp": 1648818235
    },
    {
        "content": "<p>(by the way, it's annoying that the status page can't be run locally because [I think] the status page is working with such old data that some of invariants it assumes break down [e.g., that the master commits it assumes will be there aren't because the master commits only get returned for the past 168 days and the data available for local use is much older than that])</p>",
        "id": 277419637,
        "sender_full_name": "rylev",
        "timestamp": 1648820598
    },
    {
        "content": "<p>The fix is live. We should probably make the status page a bit easier to read though...</p>",
        "id": 277441297,
        "sender_full_name": "rylev",
        "timestamp": 1648829367
    },
    {
        "content": "<p>It's interesting how you get a totally different view depending on whether a run is currently happening. Makes testing hard <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 277480936,
        "sender_full_name": "nnethercote",
        "timestamp": 1648849047
    }
]