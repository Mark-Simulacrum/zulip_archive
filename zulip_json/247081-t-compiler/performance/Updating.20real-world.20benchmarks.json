[
    {
        "content": "<p>The <a href=\"https://hackmd.io/YJQSj_nLSZWl2sbI84R1qA?view\">perf roadmap</a> has a \"Better benchmarks\" section. The first item is 'Split into “primary” and “secondary” benchmarks', which <span class=\"user-mention\" data-user-id=\"266526\">@Jakub Beránek</span> has well in hand.</p>\n<p>The second item is 'Update the real-world benchmarks'. I'd like to get this done sooner rather than later. Our real-world benchmarks are largely years out of date and I think we should update them all. Some considerations...</p>\n<ul>\n<li>This would give us a big discontinuity in the data. But we've had that before, e.g. two years ago the data format changed and you can't make comparisons earlier than that. I think having a long-term data set isn't that important, short- to medium-term regression/improvement detection is more important, and my blog posts can be used (roughly) for longer term evaluations.</li>\n<li>Having said that, <a href=\"https://perf.rust-lang.org/dashboard.html\">https://perf.rust-lang.org/dashboard.html</a> <em>is</em> nice, and is based on a subset of 8 benchmarks: encoding, futures, html5ever, inflate, regex, style-servo, syn, tokio-webpush-simple. Not sure what to do about this.</li>\n<li>How should we name things? In the past we've just added numeric suffixes, e.g. <code>hyper-2</code> and <code>ctfe-stress-4</code>. For real-world benchmarks, I think we should go with proper version numbers, e.g. <code>syn-1.0.86</code>. It's a bit visually noisy, but very precise.</li>\n<li>Who wants to do the updating? <span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span>, you've done it in the past, but I know you're also busy with many different things.</li>\n</ul>",
        "id": 273700357,
        "sender_full_name": "nnethercote",
        "timestamp": 1646164348
    },
    {
        "content": "<blockquote>\n<p>I think having a long-term data set isn't that important, </p>\n</blockquote>\n<p>It can be useful for pointing people to how rustc gets faster when they complain that rust is fundamentally a slow language.</p>",
        "id": 273701000,
        "sender_full_name": "bjorn3",
        "timestamp": 1646164563
    },
    {
        "content": "<p>Yeah, the dashboard is an interesting question. I think there's been a bunch of debate over the methodology there too (e.g., arith mean vs. geomean on the set of benchmarks). I suspect that if we arrive at a set of benchmarks that work across all those releases, we could update the set, but it's probably difficult to find a modern crate that builds in 1.20 or something.</p>",
        "id": 273701076,
        "sender_full_name": "simulacrum",
        "timestamp": 1646164603
    },
    {
        "content": "<p>I think putting version numbers for <a href=\"http://crates.io\">crates.io</a> crates makes sense to me.</p>",
        "id": 273701105,
        "sender_full_name": "simulacrum",
        "timestamp": 1646164623
    },
    {
        "content": "<p>In terms of the update itself, I think we'll want to <em>add</em> new benchmarks, and then 24-48 hours later, drop the old ones. That way no try build &amp; master commit is useless, etc.</p>",
        "id": 273701186,
        "sender_full_name": "simulacrum",
        "timestamp": 1646164667
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"133247\">bjorn3</span> <a href=\"#narrow/stream/247081-t-compiler.2Fperformance/topic/Updating.20real-world.20benchmarks/near/273701000\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>I think having a long-term data set isn't that important, </p>\n</blockquote>\n<p>It can be useful for pointing people to how rustc gets faster when they complain that rust is fundamentally a slow language.</p>\n</blockquote>\n<p>It can be, but for me that's a relatively low priority. There's an inherent tension between \"have up-to-date benchmarks\" and \"have a long data history\" and \"keep the benchmark suite a manageable size\", and for me the long data history is less important.</p>",
        "id": 273703886,
        "sender_full_name": "nnethercote",
        "timestamp": 1646165875
    },
    {
        "content": "<p>We could semi-retire some benchmarks and only run them once &lt;some interval&gt;?</p>",
        "id": 273704186,
        "sender_full_name": "The 8472",
        "timestamp": 1646166013
    },
    {
        "content": "<p>I think that has fairly high complexity costs and is not worthwhile IMO; I agree that long data history is not <em>that</em> critical. In practice, measuring a constant set of benchmarks also means we're missing out on newer features that may contribute to compile times, so there's no actual good answer here I suspect</p>",
        "id": 273704370,
        "sender_full_name": "simulacrum",
        "timestamp": 1646166107
    },
    {
        "content": "<p>Analyze history to find those benchmarks that managed to identify some regressions/improvements that others weren't? Or clusters of redundant benchmarks that always point in the same direction (something like PCA?).</p>",
        "id": 273705039,
        "sender_full_name": "The 8472",
        "timestamp": 1646166389
    },
    {
        "content": "<p>Another possibility: keep the \"stable\" benchmarks around, possibly as \"secondary\" benchmarks, possibly in a separate category from \"primary\" and \"secondary\", and only run them for the dashboard.</p>",
        "id": 273870229,
        "sender_full_name": "nnethercote",
        "timestamp": 1646252201
    },
    {
        "content": "<p>Yeah, I'd worry about them breaking over time -- we've had to patch a little -- but it seems OK</p>",
        "id": 273870568,
        "sender_full_name": "simulacrum",
        "timestamp": 1646252397
    },
    {
        "content": "<p>the last point (master) is problematic there, but solvable with some work</p>",
        "id": 273870653,
        "sender_full_name": "simulacrum",
        "timestamp": 1646252424
    },
    {
        "content": "<p>I'm also interested in removing style-servo, because it's so slow and doesn't provide enough insight for its size, especially the opt builds</p>",
        "id": 273870710,
        "sender_full_name": "nnethercote",
        "timestamp": 1646252456
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> sorry, what does \"master\" mean here?</p>",
        "id": 273870737,
        "sender_full_name": "nnethercote",
        "timestamp": 1646252480
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/apfC9lOfI0GRDrrB5dhpTwgO/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/apfC9lOfI0GRDrrB5dhpTwgO/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/apfC9lOfI0GRDrrB5dhpTwgO/image.png\"></a></div>",
        "id": 273870764,
        "sender_full_name": "simulacrum",
        "timestamp": 1646252497
    },
    {
        "content": "<p>the last datapoint we show is from master data collection, not a dedicated nightly run or somethin</p>",
        "id": 273870789,
        "sender_full_name": "simulacrum",
        "timestamp": 1646252511
    },
    {
        "content": "<p>Oh, so keeping that data point up to date would be hard if we don't run the stable benchmarks every time?</p>",
        "id": 273870974,
        "sender_full_name": "nnethercote",
        "timestamp": 1646252588
    },
    {
        "content": "<p>right. we could just delete it.</p>",
        "id": 273871144,
        "sender_full_name": "simulacrum",
        "timestamp": 1646252654
    },
    {
        "content": "<p>Yeah, I can live without that point on the graph. How are the other points collected? Is there a special per-release run?</p>",
        "id": 273871209,
        "sender_full_name": "nnethercote",
        "timestamp": 1646252685
    },
    {
        "content": "<p>yeah, ad-hoc</p>",
        "id": 273871290,
        "sender_full_name": "simulacrum",
        "timestamp": 1646252714
    },
    {
        "content": "<p>Ok, then I suggest keeping the dashboard ones around in their current state, and putting them in their own category. (They already kind of have their own category, \"supports_stable: true\".) Only measure them for the dashboard. Drop the \"master\" data point on the dashboard. And include updated versions in the primary benchmarks (e.g. <code>syn-1.0.86</code>).</p>",
        "id": 273871713,
        "sender_full_name": "nnethercote",
        "timestamp": 1646252889
    },
    {
        "content": "<p>That sounds good to me.</p>",
        "id": 273871750,
        "sender_full_name": "simulacrum",
        "timestamp": 1646252907
    },
    {
        "content": "<p>I wonder if putting benchmarks in directories to reflect their category is wise, e.g. <code>primary/</code>, <code>secondary/</code>, and <code>stable/</code> (or whatever this last category is called)</p>",
        "id": 273871839,
        "sender_full_name": "nnethercote",
        "timestamp": 1646252953
    },
    {
        "content": "<p>Yeah, seems ok. Definitely increases burden of moving them (since there's typically lots and lots of files), vs. just editing a field in JSON</p>",
        "id": 273871965,
        "sender_full_name": "simulacrum",
        "timestamp": 1646253003
    },
    {
        "content": "<p>(I half want to move the database-name of crates into the JSON for similar reasons).</p>",
        "id": 273872162,
        "sender_full_name": "simulacrum",
        "timestamp": 1646253033
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"266526\">@Jakub Beránek</span> Not sure if these ideas affect <a href=\"https://github.com/rust-lang/rustc-perf/pull/1181\">https://github.com/rust-lang/rustc-perf/pull/1181</a></p>",
        "id": 273872184,
        "sender_full_name": "nnethercote",
        "timestamp": 1646253041
    },
    {
        "content": "<p>Increases the burden? Isn't it just a <code>git mv</code>? Or is there more to it than that</p>",
        "id": 273872209,
        "sender_full_name": "nnethercote",
        "timestamp": 1646253058
    },
    {
        "content": "<p>I just mean in terms of, like, git diff</p>",
        "id": 273872317,
        "sender_full_name": "simulacrum",
        "timestamp": 1646253114
    },
    {
        "content": "<p>and probably long-term git history bloat, though maybe compression is magical</p>",
        "id": 273872386,
        "sender_full_name": "simulacrum",
        "timestamp": 1646253136
    },
    {
        "content": "<p>I suppose that it's mostly orthogonal. But we can also generalize the category concept and have something like \"stable\", \"latest\" and \"stress-test\" categories or something like that. I suppose that stress tests don't need updating and only the real world crates should be updated from time to time.</p>",
        "id": 273872855,
        "sender_full_name": "Jakub Beránek",
        "timestamp": 1646253366
    },
    {
        "content": "<p>I can draft a document today capturing all these details, including which benchmarks need updating, etc.</p>",
        "id": 273877128,
        "sender_full_name": "nnethercote",
        "timestamp": 1646255262
    },
    {
        "content": "<p>Ok, <a href=\"https://hackmd.io/d9uE7qgtTWKDLivy0uoVQw?view\">https://hackmd.io/d9uE7qgtTWKDLivy0uoVQw?view</a> is the doc, I've done a draft of the \"primary\" section, I'll do the \"secondary\" section tomorrow.</p>",
        "id": 273929451,
        "sender_full_name": "nnethercote",
        "timestamp": 1646289319
    },
    {
        "content": "<p>I ended up doing the secondary section now, it was much quicker</p>",
        "id": 273948194,
        "sender_full_name": "nnethercote",
        "timestamp": 1646301122
    },
    {
        "content": "<p>Does it make sense for us to document a justification for why each of the benchmarks is included? It would be nice to have at least some prose that provides an idea of why a benchmark is included and a rough idea of how representative the benchmarks are of all Rust \"interesting\" programs (by interesting I just mean having some sort of real world use or relevance)</p>",
        "id": 274006473,
        "sender_full_name": "rylev",
        "timestamp": 1646328042
    },
    {
        "content": "<p>One possible concern for applying these is the runtime of the performance suite. Right now we're at ~1.5 hours pretty much exactly, which I suspect is not our <em>limit</em> but something we shouldn't go too much above. (CI takes ~2h20m on auto; around 1.5 hours for try builds). We can definitely horizontally scale out but it would take some engineering work (mostly not design, though).</p>\n<p>I think this is something that we'll just need to deal with on a case-by-case basis though.</p>",
        "id": 274007358,
        "sender_full_name": "simulacrum",
        "timestamp": 1646328382
    },
    {
        "content": "<p>I think justifications are a good idea, particularly around those that are explicitly regression tests -- maybe regression-issue-num is enough for that though in the future.</p>",
        "id": 274007463,
        "sender_full_name": "simulacrum",
        "timestamp": 1646328423
    },
    {
        "content": "<p>It would also be good to describe what part of the compiler or which scenario a benchmark exercises, link to the issue where it was introduced etc. A little README.perf.md for each?</p>",
        "id": 274015291,
        "sender_full_name": "The 8472",
        "timestamp": 1646331415
    },
    {
        "content": "<p>Clearly everyone has forgotten about <a href=\"https://github.com/rust-lang/rustc-perf/blob/master/collector/benchmarks/README.md\">https://github.com/rust-lang/rustc-perf/blob/master/collector/benchmarks/README.md</a> <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 274035242,
        "sender_full_name": "nnethercote",
        "timestamp": 1646339459
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> about runtime: this is part of the reason I'm keen to remove a few benchmarks, including style-servo</p>",
        "id": 274035301,
        "sender_full_name": "nnethercote",
        "timestamp": 1646339501
    },
    {
        "content": "<p>README.md is great, we should just keep it in sync as we make these changes :)</p>",
        "id": 274035379,
        "sender_full_name": "simulacrum",
        "timestamp": 1646339524
    },
    {
        "content": "<p>Yep, <span class=\"user-mention\" data-user-id=\"266526\">@Jakub Beránek</span> has updates for it for the primary/secondary split</p>",
        "id": 274035410,
        "sender_full_name": "nnethercote",
        "timestamp": 1646339543
    },
    {
        "content": "<p>Yes, I think dropping style-servo and some others is a good idea. It's hard to estimate what the total runtime will be, but I figure we can play it by ear.</p>",
        "id": 274035421,
        "sender_full_name": "simulacrum",
        "timestamp": 1646339548
    },
    {
        "content": "<p>I restructured the doc slightly so the primary benchmarks that require decisions are all grouped together, and the easy cases are grouped together</p>",
        "id": 274056082,
        "sender_full_name": "nnethercote",
        "timestamp": 1646350008
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"266526\">@Jakub Beránek</span> Something weird has happened in <a href=\"https://github.com/rust-lang/rustc-perf/pull/1224/commits\">https://github.com/rust-lang/rustc-perf/pull/1224/commits</a></p>",
        "id": 276262752,
        "sender_full_name": "nnethercote",
        "timestamp": 1647987739
    },
    {
        "content": "<p>I see this:</p>",
        "id": 276262754,
        "sender_full_name": "nnethercote",
        "timestamp": 1647987741
    },
    {
        "content": "<p><a href=\"/user_uploads/4715/GXjutEh6MO_NpYX5NmkU9JL3/ripgrep.png\">ripgrep.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/GXjutEh6MO_NpYX5NmkU9JL3/ripgrep.png\" title=\"ripgrep.png\"><img src=\"/user_uploads/4715/GXjutEh6MO_NpYX5NmkU9JL3/ripgrep.png\"></a></div>",
        "id": 276262766,
        "sender_full_name": "nnethercote",
        "timestamp": 1647987746
    },
    {
        "content": "<p>It looks like the first line of the commit message is just <code>@Kobzol</code>.</p>",
        "id": 276262836,
        "sender_full_name": "nnethercote",
        "timestamp": 1647987801
    },
    {
        "content": "<p>And GitHub is linkifying that to your profile, so I can't click on it to look at the individual commit.</p>",
        "id": 276262859,
        "sender_full_name": "nnethercote",
        "timestamp": 1647987816
    },
    {
        "content": "<p>Yeah it's rendered in a weird way <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span> You can see the diff here: <a href=\"https://github.com/rust-lang/rustc-perf/compare/52168972f03438ebc9f27d8f405638542b5c8559..2850d140b2594572f62542013ab4bd070b798395\">https://github.com/rust-lang/rustc-perf/compare/52168972f03438ebc9f27d8f405638542b5c8559..2850d140b2594572f62542013ab4bd070b798395</a></p>",
        "id": 276263755,
        "sender_full_name": "Jakub Beránek",
        "timestamp": 1647988389
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"266526\">@Jakub Beránek</span> I think that's just the changes you made in response to my earlier comments?</p>",
        "id": 276264878,
        "sender_full_name": "nnethercote",
        "timestamp": 1647989174
    },
    {
        "content": "<p>About webrender: I asked one of the devs about cutting a new release, but he didn't sound very keen. So I will just pull a recent revision. Question is what to name it. Two options come to mind:</p>\n<ul>\n<li><code>webrender-78502fd</code> (where 78502fd is the revision)</li>\n</ul>",
        "id": 276265788,
        "sender_full_name": "nnethercote",
        "timestamp": 1647989905
    },
    {
        "content": "<ul>\n<li><code>webrender-2022</code></li>\n</ul>",
        "id": 276265826,
        "sender_full_name": "nnethercote",
        "timestamp": 1647989940
    },
    {
        "content": "<p>Please vote for your favourite with an emoji reaction, or suggest an alternative</p>",
        "id": 276265857,
        "sender_full_name": "nnethercote",
        "timestamp": 1647989957
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120989\">@nnethercote</span> yup, you can see that diff by clicking on the \"force-pushed\" text on the PR. The full diff can be seen <a href=\"https://github.com/rust-lang/rustc-perf/pull/1224/commits/2850d140b2594572f62542013ab4bd070b798395\">here</a>.</p>",
        "id": 276266772,
        "sender_full_name": "Jakub Beránek",
        "timestamp": 1647990595
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"266526\">@Jakub Beránek</span> What does the commit message look like on your machine?</p>",
        "id": 276267472,
        "sender_full_name": "nnethercote",
        "timestamp": 1647991045
    },
    {
        "content": "<p><code>html5ever</code> is similar to webrender: still under development, but no release for 2+ years. I'll probably end up pulling in a recent revision as <code>html5ever-2022</code></p>",
        "id": 276268420,
        "sender_full_name": "nnethercote",
        "timestamp": 1647991696
    },
    {
        "content": "<p>I just talked to one of the html5ever maintainers, he said he'll do a release for me this week, yay</p>",
        "id": 276279768,
        "sender_full_name": "nnethercote",
        "timestamp": 1648000129
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"120989\">@nnethercote</span> oh, the commit message indeed did contain my nickname, I probably pasted it by accident <span aria-label=\"face palm\" class=\"emoji emoji-1f926\" role=\"img\" title=\"face palm\">:face_palm:</span> fixed now, thanks.</p>",
        "id": 276298022,
        "sender_full_name": "Jakub Beránek",
        "timestamp": 1648022071
    },
    {
        "content": "<p>I asked <span class=\"user-mention\" data-user-id=\"222471\">@BurntSushi</span> about <code>ripgrep</code> and <code>regex</code> as benchmarks he said the following:</p>",
        "id": 276396926,
        "sender_full_name": "nnethercote",
        "timestamp": 1648067981
    },
    {
        "content": "<blockquote>\n<p>BurntSushi: to be honest, i don't know. i'm not sure i know what it is that you should watch out for in such a benchmark.</p>\n<p>when it comes to ripgrep, indeed, most of the code is in other crates. grep 0.2 itself doesn't have much actually. it's a facade in front of a whole bunch of other crates: grep-searcher, grep-matcher, grep-regex, grep-printer, etc etc.</p>\n<p>compile time of the final crate is definitely less interesting. what would be more interesting i think is the compilation time of the final crate plus a few of the core crates, e.g., any crate with a prefix of grep-. that would be good. but that's interesting to _me and my workflow_, which may not be interesting to y'all.</p>\n<p>another interesting bit is the link time to produce the final executable, but i presume that is not something y'all are measuring.</p>\n<p>as for regex, i can't think of anything at present. but it's worth mentioning i think that in the next ~year or so, regex will itself become much thinner, with most of the code moving out to regex-automata.</p>\n<p>. o O { i wonder if it's useful to add a new benchmark? regex-syntax in particular is what I'm thinking of. it's a beefy crate, changes very slowly and is a required dependency of regex that itself has no dependencies. }</p>\n<p>memchr crate might be another one. it is depended on a lot, and i recently (about a year ago) added a fair bit more code to it.</p>\n</blockquote>",
        "id": 276397113,
        "sender_full_name": "nnethercote",
        "timestamp": 1648068064
    },
    {
        "content": "<p>I already have memchr on my list of benchmarks to potentially add, because it's used so widely.</p>",
        "id": 276397187,
        "sender_full_name": "nnethercote",
        "timestamp": 1648068104
    },
    {
        "content": "<p>I'm wondering if we should (a) do <code>regex-syntax</code> instead of <code>regex</code>, and (b) possibly just drop ripgrep-13.0.0.</p>",
        "id": 276397291,
        "sender_full_name": "nnethercote",
        "timestamp": 1648068145
    },
    {
        "content": "<p>(I know people have done the work to update <code>ripgrep</code> and <code>regex</code> already, so apologies for the lateness of this discusion.)</p>",
        "id": 276397335,
        "sender_full_name": "nnethercote",
        "timestamp": 1648068167
    },
    {
        "content": "<p>I am interested to hear people's thoughts here</p>",
        "id": 276397362,
        "sender_full_name": "nnethercote",
        "timestamp": 1648068184
    },
    {
        "content": "<p>It sounds like there’s a good argument for removing ripgrep. I’m less convinced that removing regex is a good idea. It seems like it’s currently still going to exercise the compiler enough to be interesting even if it’s possible that this might change in the future. </p>\n<p>I think there’s also a non-technical argument to be had for keeping popular crates as benchmarks even if there might be other crates that are ever so slightly better benchmarks as this gives people confidence we’re testing crates the community cares about. Obviously this could be fixed with good communication and docs, but I do think it’s worth considering. </p>\n<p>That all being said I don’t feel strongly either way.</p>",
        "id": 276408681,
        "sender_full_name": "rylev",
        "timestamp": 1648073925
    },
    {
        "content": "<p>I do think it's worth adding dependency crates when those are the ones that are more complex and performance-sensitive.</p>",
        "id": 276408776,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1648073986
    },
    {
        "content": "<p>regex-syntax for instance.</p>",
        "id": 276408793,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1648073999
    },
    {
        "content": "<p>I do wonder to what extent people <em>know</em> that seeing <code>ripgrep</code> in the benchmark suite doesn't mean it includes all dependencies.</p>",
        "id": 276408869,
        "sender_full_name": "Josh Triplett",
        "timestamp": 1648074019
    },
    {
        "content": "<p>Also, as a semi-related side note: it would be good to document our decision making for all crates we’ve included and left out. For instance it would be good to note in docs that we don’t benchmark the futures crates because it’s essentially just re-exporting</p>",
        "id": 276408886,
        "sender_full_name": "rylev",
        "timestamp": 1648074032
    },
    {
        "content": "<p><a href=\"https://github.com/rust-lang/rustc-perf/blob/master/collector/benchmarks/README.md\">https://github.com/rust-lang/rustc-perf/blob/master/collector/benchmarks/README.md</a></p>",
        "id": 276410550,
        "sender_full_name": "The 8472",
        "timestamp": 1648074788
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"239881\">Josh Triplett</span> <a href=\"#narrow/stream/247081-t-compiler.2Fperformance/topic/Updating.20real-world.20benchmarks/near/276408869\">said</a>:</p>\n<blockquote>\n<p>I do wonder to what extent people <em>know</em> that seeing <code>ripgrep</code> in the benchmark suite doesn't mean it includes all dependencies.</p>\n</blockquote>\n<p>I wouldn't assume anything on this front <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 276412047,
        "sender_full_name": "nnethercote",
        "timestamp": 1648075619
    },
    {
        "content": "<p>I swear <code>collector download</code> was doing 4 space indents on <code>perf-config.json</code> the other day, but I just ran it and got 2 spaces</p>",
        "id": 276429953,
        "sender_full_name": "nnethercote",
        "timestamp": 1648093940
    },
    {
        "content": "<p>Wild idea: is it possible to do some analysis on the historical data and say \"benchmark X doesn't seem useful because every regression or improvement it had also appeared on some other benchmark in the same run\"?</p>",
        "id": 276436838,
        "sender_full_name": "Laurențiu",
        "timestamp": 1648103128
    },
    {
        "content": "<p>some of the old benchmarks had a <code>touch_file</code> in their perf config, am I missing some use cases of that key ?</p>\n<ul>\n<li>the benchmark had multiple bin/lib targets</li>\n<li>the benchmark was a workspace with multiple in-tree members </li>\n</ul>\n<p>I'm assuming that if the new benchmarks aren't in either of these 2 cases that we don't need to add anything special in <code>perf-config.json</code>, is that correct ?</p>",
        "id": 276444085,
        "sender_full_name": "lqd",
        "timestamp": 1648110637
    },
    {
        "content": "<p>That matches my understanding. It would be good to have the perf-config.json fields documented somewhere, I don't think we have that currently</p>",
        "id": 276550377,
        "sender_full_name": "nnethercote",
        "timestamp": 1648162885
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> I think removing hyper-2 is the only step remaining for updating the existing primary benchmarks. Are you happy to do that?</p>",
        "id": 277193309,
        "sender_full_name": "nnethercote",
        "timestamp": 1648667710
    },
    {
        "content": "<p>absolutely, I'll do that now (edit: opened PR 1262)</p>",
        "id": 277193436,
        "sender_full_name": "lqd",
        "timestamp": 1648667765
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116113\">@lqd</span> thanks!   r=me</p>",
        "id": 277194423,
        "sender_full_name": "nnethercote",
        "timestamp": 1648668333
    },
    {
        "content": "<p>I'll merge as soon as CI is green then</p>",
        "id": 277194499,
        "sender_full_name": "lqd",
        "timestamp": 1648668368
    },
    {
        "content": "<p>a cool trick hackmd supports (and so does GH) and we could have used in the doc is:</p>\n<ul>\n<li>[ ] for tasks to do</li>\n<li>[x] for completed tasks</li>\n</ul>\n<p><a href=\"/user_uploads/4715/WRCWyF2aTTC9XZYV61-X6_ep/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/WRCWyF2aTTC9XZYV61-X6_ep/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/WRCWyF2aTTC9XZYV61-X6_ep/image.png\"></a></div>",
        "id": 277195231,
        "sender_full_name": "lqd",
        "timestamp": 1648668805
    },
    {
        "content": "<p>Oh, that's much better than the <del>strikeout</del> I've been using. I'll change the documents accordingly</p>",
        "id": 277198657,
        "sender_full_name": "nnethercote",
        "timestamp": 1648670937
    },
    {
        "content": "<p>I was about to update that document earlier today but waited a bit to check if you also liked it</p>",
        "id": 277199990,
        "sender_full_name": "lqd",
        "timestamp": 1648671780
    },
    {
        "content": "<p>I just finished updating the benchmark overhaul doc and the roadmap doc <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 277200033,
        "sender_full_name": "nnethercote",
        "timestamp": 1648671821
    },
    {
        "content": "<p>And I see you merged the hyper-2 removal, which means I can tick the \"Update the real-world benchmarks.\" item in the roadmap <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 277200119,
        "sender_full_name": "nnethercote",
        "timestamp": 1648671871
    },
    {
        "content": "<p>I had it already <del>struckthrough</del> <span aria-label=\"joy\" class=\"emoji emoji-1f602\" role=\"img\" title=\"joy\">:joy:</span> (is that a word ? it should be a word)</p>",
        "id": 277200423,
        "sender_full_name": "lqd",
        "timestamp": 1648672109
    }
]