[
    {
        "content": "<p>I did a perf run compiling rustc and llvm for the x86_64_v3 microarchitecture (AVX2-level CPUs) in <a href=\"https://github.com/rust-lang/rust/issues/90440\">#90440</a>. Results (<a href=\"https://perf.rust-lang.org/compare.html?start=dca3f1b786efd27be3b325ed1e01e247aa589c3b&amp;end=039f38df1e7d4ce1f8eb3115af67107239b9173d\">Instructions </a>, <a href=\"https://perf.rust-lang.org/compare.html?start=dca3f1b786efd27be3b325ed1e01e247aa589c3b&amp;end=039f38df1e7d4ce1f8eb3115af67107239b9173d&amp;stat=wall-time\">wall-time</a>) are a clear but small overall win, not big enough to think about a way to distribute it IMHO.</p>",
        "id": 260011076,
        "sender_full_name": "Hans Kratz",
        "timestamp": 1635866649
    },
    {
        "content": "<p>I wouldn't call that small, 4% is really good :)</p>",
        "id": 260012003,
        "sender_full_name": "Joshua Nelson",
        "timestamp": 1635866992
    },
    {
        "content": "<p>Indeed those are extremely good performance results. The top results for example are ~90 times larger than what we would consider a significant change in performance.</p>",
        "id": 260012423,
        "sender_full_name": "rylev",
        "timestamp": 1635867123
    },
    {
        "content": "<p>and 6 seconds off bootstrap time, is that right?</p>",
        "id": 260013522,
        "sender_full_name": "pnkfelix",
        "timestamp": 1635867573
    },
    {
        "content": "<p>My guess is we're seeing better performance in a few tight loops (e.g., bitset union'ing is the likely option at a cursory look). It seems possible that someone could manually adjust that code to be multi-versioned depending on the underyling CPU if we wanted to, and likely see the same effects.</p>",
        "id": 260014490,
        "sender_full_name": "simulacrum",
        "timestamp": 1635867934
    }
]