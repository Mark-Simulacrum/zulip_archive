[
    {
        "content": "<p>It seems we're having more rollups show up as perf changes. We might want to take the time to think about processes for addressing this. In particular can we encourage not rolling up risky PRs (e.g., prs that touch compiler internals)? How can we make diagnosing perf sensitive rollups easier?</p>",
        "id": 258338363,
        "sender_full_name": "rylev",
        "timestamp": 1634722493
    },
    {
        "content": "<p>Are there stats on the bors queue anywhere? I.e. how long a PR tends to be waiting for bors</p>\n<p>Rollups move PRs through the queue quickly, but I'm curious how often that's \"needed\". This goes along with: how often (and how many) PRs that aren't rollup=always end up in a rollup.</p>",
        "id": 258385351,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634742742
    },
    {
        "content": "<p>I wonder how much we could get by being more proactive with marking PRs as rollup=always, and in turn reducing PRs that are not rollup=always in rollups</p>",
        "id": 258385524,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634742814
    },
    {
        "content": "<p>someone is working on that (<a href=\"https://internals.rust-lang.org/t/metrics-for-bors-side-project/15467/2\">https://internals.rust-lang.org/t/metrics-for-bors-side-project/15467/2</a>)</p>",
        "id": 258386041,
        "sender_full_name": "simulacrum",
        "timestamp": 1634742969
    },
    {
        "content": "<p>A job takes 3h so assuming sequential execution and without rollups less than 8 merges would be possible a day.</p>",
        "id": 258386066,
        "sender_full_name": "The 8472",
        "timestamp": 1634742979
    },
    {
        "content": "<p><a href=\"https://rust-lang.github.io/rustc-pr-tracking/\">https://rust-lang.github.io/rustc-pr-tracking/</a> (last graph) suggests we have lately had more rollup-merged PRs than is \"typical\"</p>",
        "id": 258386204,
        "sender_full_name": "simulacrum",
        "timestamp": 1634743028
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> that's pretty neat</p>",
        "id": 258387661,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634743539
    },
    {
        "content": "<p>whoa, how long have we had those graphs available ?</p>",
        "id": 258492431,
        "sender_full_name": "pnkfelix",
        "timestamp": 1634796143
    },
    {
        "content": "<p>They were already available in 2018 IIRC, maybe earlier.</p>",
        "id": 258521128,
        "sender_full_name": "mati865",
        "timestamp": 1634812032
    },
    {
        "content": "<p>can only display a maximum of 999 days :(</p>",
        "id": 258574757,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1634833135
    },
    {
        "content": "<p>until around the middle of 2020, we roughly stayed at around or under 200 open PRs, but since then the number of open PRs almost doubled (400-450) any ideas what happened? Slower CI? More contributors/patches? Increase in popularity of rust?<br>\n<a href=\"/user_uploads/4715/PHmNetO6bA1fQfatZpiajb3Y/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/PHmNetO6bA1fQfatZpiajb3Y/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/PHmNetO6bA1fQfatZpiajb3Y/image.png\"></a></div>",
        "id": 258575362,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1634833335
    },
    {
        "content": "<p>reviewer shortage I think, at least that's the case for t-libs.</p>",
        "id": 258576599,
        "sender_full_name": "The 8472",
        "timestamp": 1634833800
    },
    {
        "content": "<p>Well, I dont think its CI time, because waiting-for-bors hasn't increased all that much. I mean, there's just more PRs overall. I'm kind of curious to see this graph based on percentages instead.</p>",
        "id": 258576655,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634833807
    },
    {
        "content": "<p>although S-blocked is going up too</p>",
        "id": 258576808,
        "sender_full_name": "The 8472",
        "timestamp": 1634833869
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232957\">Jack Huey</span> <a href=\"#narrow/stream/247081-t-compiler.2Fperformance/topic/rollups/near/258576655\">said</a>:</p>\n<blockquote>\n<p>I mean, there's just more PRs overall.</p>\n</blockquote>\n<p>Actually, this is a very imprecise statement. Obviously, there are more PRs open. But it's not clear from <em>this</em> graph if there are more PRs <em>getting opened</em>.</p>",
        "id": 258577017,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634833929
    },
    {
        "content": "<p>Actually, looking at \"creation dates\", it looks relatively constant</p>",
        "id": 258577195,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634834001
    },
    {
        "content": "<p>I think the more open PRs we have, the more likely it is that one new merged pr creates merge conflicts/breakage another PR etc, causing for prs to wait even longer and cause more breakage themselves again on other old prs... :/</p>",
        "id": 258577396,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1634834071
    },
    {
        "content": "<p>But \"pull requests merged\" has been pretty much steady</p>",
        "id": 258577412,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634834076
    },
    {
        "content": "<p>Honestly, looking at these graphs makes me want to open PRs to just enable tons of exploration lol</p>",
        "id": 258577531,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634834121
    },
    {
        "content": "<p>what kind of exploration? :D</p>",
        "id": 258577569,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1634834140
    },
    {
        "content": "<p>Like, being able to subset by team</p>",
        "id": 258577571,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634834140
    },
    {
        "content": "<p>oh you mean more detailed graphs?</p>",
        "id": 258577609,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1634834155
    },
    {
        "content": "<p>Or switch to %</p>",
        "id": 258577629,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634834162
    },
    {
        "content": "<p>Not necessarily <em>more</em> detailed, just <em>different</em> details</p>",
        "id": 258577715,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634834178
    },
    {
        "content": "<p>Right now, for PRs waiting for review, 81 are for T-compiler, 37 for T-libs, and 45 for T-libs-api</p>",
        "id": 258577997,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634834297
    },
    {
        "content": "<p>Ooh if you really wanted to have fun, you could subset by <em>reviewer</em> lol</p>",
        "id": 258578094,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634834347
    },
    {
        "content": "<p>There's a percent toggle already I think?</p>",
        "id": 258578335,
        "sender_full_name": "simulacrum",
        "timestamp": 1634834442
    },
    {
        "content": "<p>yes, small checkbox at the very bottom</p>",
        "id": 258578416,
        "sender_full_name": "matthiaskrgr",
        "timestamp": 1634834486
    },
    {
        "content": "<p><span aria-label=\"face palm\" class=\"emoji emoji-1f926\" role=\"img\" title=\"face palm\">:face_palm:</span>‍♀️yes</p>",
        "id": 258578422,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634834492
    },
    {
        "content": "<p>There's also <a href=\"https://triage.rust-lang.org/triage/rust-lang/rust\">https://triage.rust-lang.org/triage/rust-lang/rust</a></p>",
        "id": 258578583,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634834544
    },
    {
        "content": "<p>but seems a bit broken</p>",
        "id": 258578624,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634834563
    },
    {
        "content": "<p>at least a fraction of the older ones are WIPs, experimental etc.</p>",
        "id": 258579594,
        "sender_full_name": "The 8472",
        "timestamp": 1634834986
    },
    {
        "content": "<p>yeah :/</p>",
        "id": 258579960,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634835128
    },
    {
        "content": "<p>That's a positive thing imo. It means they're not PRs where someone is waiting ages for review.</p>",
        "id": 258582967,
        "sender_full_name": "The 8472",
        "timestamp": 1634836273
    },
    {
        "content": "<p>True. I guess it's hard to quantify age vs status</p>",
        "id": 258586960,
        "sender_full_name": "Jack Huey",
        "timestamp": 1634837818
    },
    {
        "content": "<p>This topic has diverged so much, but I had some fun this weekend:</p>",
        "id": 258910913,
        "sender_full_name": "Jack Huey",
        "timestamp": 1635128637
    },
    {
        "content": "<p>These are <code>T-compiler</code> <code>S-waiting-on-review</code> PRs, split by reviewer: <a href=\"/user_uploads/4715/8Tg__lbZv9byqKbF2FiVo_r6/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/8Tg__lbZv9byqKbF2FiVo_r6/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/8Tg__lbZv9byqKbF2FiVo_r6/image.png\"></a></div>",
        "id": 258910955,
        "sender_full_name": "Jack Huey",
        "timestamp": 1635128663
    },
    {
        "content": "<p>T-libs/T-libs-api: <a href=\"/user_uploads/4715/hjud3AuiyM4hMgHIqkosel7i/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/4715/hjud3AuiyM4hMgHIqkosel7i/image.png\" title=\"image.png\"><img src=\"/user_uploads/4715/hjud3AuiyM4hMgHIqkosel7i/image.png\"></a></div>",
        "id": 258910978,
        "sender_full_name": "Jack Huey",
        "timestamp": 1635128704
    },
    {
        "content": "<p>Built a little site that allows me to filter PRs based on team and/or status; split by team, status, review, or author; and show date created or updated</p>",
        "id": 258911060,
        "sender_full_name": "Jack Huey",
        "timestamp": 1635128838
    },
    {
        "content": "<p>Still very hackily thrown together, but kind of insightful</p>",
        "id": 258911112,
        "sender_full_name": "Jack Huey",
        "timestamp": 1635128900
    },
    {
        "content": "<p>is that reviewer on the y-axis and each dot is a PR (with x-axis being... date opened?)</p>",
        "id": 258912037,
        "sender_full_name": "simulacrum",
        "timestamp": 1635130392
    },
    {
        "content": "<p>yes and yes :)</p>",
        "id": 258916747,
        "sender_full_name": "Jack Huey",
        "timestamp": 1635137929
    }
]