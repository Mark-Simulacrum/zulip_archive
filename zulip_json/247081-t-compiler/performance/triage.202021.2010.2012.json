[
    {
        "content": "<p>starting triage now. will be interrupted intermittently.</p>",
        "id": 257217974,
        "sender_full_name": "pnkfelix",
        "timestamp": 1634051045
    },
    {
        "content": "<p>hmm, the auto-generated report is failing to make the titles for the PR’s ? Its just emitting <code>&lt;UNKNOWN&gt;</code> for each one. :(</p>",
        "id": 257253775,
        "sender_full_name": "pnkfelix",
        "timestamp": 1634064927
    },
    {
        "content": "<p>13 occurrences. I can fix it by hand.</p>",
        "id": 257253833,
        "sender_full_name": "pnkfelix",
        "timestamp": 1634064954
    },
    {
        "content": "<p>That sounds like it can't connect to GitHub... Maybe the token has expired?</p>",
        "id": 257254414,
        "sender_full_name": "rylev",
        "timestamp": 1634065192
    },
    {
        "content": "<p>This would be any error that happens <a href=\"https://github.com/rust-lang/rustc-perf/blob/e92928f818d0587de2080f6c30b2fe486140a605/site/src/github.rs#L753-L761\">here</a></p>",
        "id": 257254665,
        "sender_full_name": "rylev",
        "timestamp": 1634065269
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116122\">@simulacrum</span> is there any easy way to see the logs (what gets printed to stdout/stderr)?</p>",
        "id": 257254939,
        "sender_full_name": "rylev",
        "timestamp": 1634065370
    },
    {
        "content": "<p>I can check</p>",
        "id": 257256105,
        "sender_full_name": "simulacrum",
        "timestamp": 1634065828
    },
    {
        "content": "<p>Token shouldn't expire</p>",
        "id": 257256119,
        "sender_full_name": "simulacrum",
        "timestamp": 1634065838
    },
    {
        "content": "<p>hm indeed \"HTTP status client error 403 forbidden\"</p>",
        "id": 257256624,
        "sender_full_name": "simulacrum",
        "timestamp": 1634066045
    },
    {
        "content": "<p>token seems valid</p>",
        "id": 257256927,
        "sender_full_name": "simulacrum",
        "timestamp": 1634066171
    },
    {
        "content": "<p>let me try locally I guess</p>",
        "id": 257256949,
        "sender_full_name": "simulacrum",
        "timestamp": 1634066177
    },
    {
        "content": "<p>hm, locally seems to work</p>",
        "id": 257257151,
        "sender_full_name": "simulacrum",
        "timestamp": 1634066262
    },
    {
        "content": "<p>I'll try to restart rustc-perf</p>",
        "id": 257257165,
        "sender_full_name": "simulacrum",
        "timestamp": 1634066267
    },
    {
        "content": "<p>the untriaged prs list works</p>",
        "id": 257257570,
        "sender_full_name": "simulacrum",
        "timestamp": 1634066429
    },
    {
        "content": "<p>so the token is valid for search queries at least</p>",
        "id": 257257724,
        "sender_full_name": "simulacrum",
        "timestamp": 1634066510
    },
    {
        "content": "<p>seems to work locally...</p>",
        "id": 257258279,
        "sender_full_name": "simulacrum",
        "timestamp": 1634066760
    },
    {
        "content": "<p>I'll refresh the token to a newer one for now, maybe that will help</p>",
        "id": 257258392,
        "sender_full_name": "simulacrum",
        "timestamp": 1634066796
    },
    {
        "content": "<p>ok, well, rotating the token fixed it I think</p>",
        "id": 257260051,
        "sender_full_name": "simulacrum",
        "timestamp": 1634067533
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"116083\">@pnkfelix</span> if you could double check after you finish, that'd be good</p>",
        "id": 257260062,
        "sender_full_name": "simulacrum",
        "timestamp": 1634067541
    },
    {
        "content": "<p>not really sure what happened</p>",
        "id": 257260116,
        "sender_full_name": "simulacrum",
        "timestamp": 1634067564
    },
    {
        "content": "<p>our rate limit monitoring didn't see a problem</p>",
        "id": 257260129,
        "sender_full_name": "simulacrum",
        "timestamp": 1634067570
    },
    {
        "content": "<p>huh no it did it again</p>",
        "id": 257261156,
        "sender_full_name": "simulacrum",
        "timestamp": 1634068031
    },
    {
        "content": "<p>I'm really confused</p>",
        "id": 257262574,
        "sender_full_name": "simulacrum",
        "timestamp": 1634068639
    },
    {
        "content": "<p>I guess we can log more details</p>",
        "id": 257262589,
        "sender_full_name": "simulacrum",
        "timestamp": 1634068645
    },
    {
        "content": "<p>regarding actual triage notes: rollup PR <a href=\"https://github.com/rust-lang/rust/issues/89608\">#89608</a> was marked as regression due to some <a href=\"https://perf.rust-lang.org/compare.html?start=d480ceff384f80394e9367b5e9d3596d62f20585&amp;end=0eabf25b90396dead0b2a1aaa275af18a1ae6008\">minor changes to instruction counts</a>.  But the PR list seems like there is nothing that could really matter, and in addition: <del>the <a href=\"https://perf.rust-lang.org/compare.html?start=d480ceff384f80394e9367b5e9d3596d62f20585&amp;end=0eabf25b90396dead0b2a1aaa275af18a1ae6008&amp;stat=task-clock%3Au\">task-clock</a> shows no change at all</del> (wait, is task-clock even usable?), and the <a href=\"https://perf.rust-lang.org/compare.html?start=d480ceff384f80394e9367b5e9d3596d62f20585&amp;end=0eabf25b90396dead0b2a1aaa275af18a1ae6008&amp;stat=wall-time\">wall-time</a> shows very little change.</p>\n<p>I’m planning to just delete this supposed “regression” from the report. Are there objections to that reasoning?</p>",
        "id": 257265198,
        "sender_full_name": "pnkfelix",
        "timestamp": 1634069716
    },
    {
        "content": "<p>Looking at the timelines the jump in externs-debug and -opt  looks like non-noise. That benchmark is very stable. Docs aren't on the timelines, so who knows.</p>",
        "id": 257267153,
        "sender_full_name": "The 8472",
        "timestamp": 1634070568
    },
    {
        "content": "<p><a href=\"https://perf.rust-lang.org/index.html?start=2021-10-05&amp;end=&amp;kind=percentfromfirst&amp;stat=instructions%3Au\">https://perf.rust-lang.org/index.html?start=2021-10-05&amp;end=&amp;kind=percentfromfirst&amp;stat=instructions%3Au</a></p>",
        "id": 257267193,
        "sender_full_name": "The 8472",
        "timestamp": 1634070588
    },
    {
        "content": "<p>hmm. Okay.</p>",
        "id": 257267577,
        "sender_full_name": "pnkfelix",
        "timestamp": 1634070739
    },
    {
        "content": "<p>FYI: we've gotten pretty good at marking noise, so if a test case isn't labeled as noisy with \"?\", it's very unlikely to be noise if you see large \"significance factor\"</p>",
        "id": 257268281,
        "sender_full_name": "rylev",
        "timestamp": 1634071045
    },
    {
        "content": "<p>In other words, I would be very surprised if this is noise. This is very likely a real performance regression.</p>",
        "id": 257268583,
        "sender_full_name": "rylev",
        "timestamp": 1634071163
    },
    {
        "content": "<p>(whether it's worth addressing is another question)</p>",
        "id": 257268606,
        "sender_full_name": "rylev",
        "timestamp": 1634071177
    },
    {
        "content": "<p>I guess I know from my own experience that the reported wall time itself will be quite noisy and thus mask real regressions that instruction-counts capture.</p>",
        "id": 257268812,
        "sender_full_name": "pnkfelix",
        "timestamp": 1634071252
    },
    {
        "content": "<p>wall-time is almost always noisy and can't really be relied on for small perf changes.</p>",
        "id": 257268997,
        "sender_full_name": "rylev",
        "timestamp": 1634071322
    },
    {
        "content": "<p>I’m realizing also that I need to refine my terminology. When I said “noise”, I really meant “a codegen artifact that causes a performance delta that is dependent on local environmental factors but also persists from run to run.\"</p>",
        "id": 257269046,
        "sender_full_name": "pnkfelix",
        "timestamp": 1634071340
    },
    {
        "content": "<p>but I also recognize that one cannot identify those cases from our performance reports alone.</p>",
        "id": 257269127,
        "sender_full_name": "pnkfelix",
        "timestamp": 1634071380
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/247081-t-compiler.2Fperformance/topic/triage.202021.2010.2012/near/257269046\">said</a>:</p>\n<blockquote>\n<p>I’m realizing also that I need to refine my terminology. When I said “noise”, I really meant “a codegen artifact that causes a performance delta that is dependent on local environmental factors but also persists from run to run.\"</p>\n</blockquote>\n<p>(an example of this that I am thinking of is the kind of thing where adding code in one place causes an unrelated function to regress performance due to changes in code alignment in memory.)</p>",
        "id": 257269223,
        "sender_full_name": "pnkfelix",
        "timestamp": 1634071433
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"224872\">@rylev</span> if you’re still there, can you explain why triage report puts <a href=\"https://github.com/rust-lang/rust/issues/86525\">#86525</a> into the “probably changed” group, but then the perf site says that <a href=\"https://github.com/rust-lang/rust/pull/89582#issuecomment-939270041\">\"Summary: This benchmark run did not return any relevant changes.”</a> ?</p>",
        "id": 257272839,
        "sender_full_name": "pnkfelix",
        "timestamp": 1634073076
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/247081-t-compiler.2Fperformance/topic/triage.202021.2010.2012/near/257269046\">said</a>:</p>\n<blockquote>\n<p>I’m realizing also that I need to refine my terminology. When I said “noise”, I really meant “a codegen artifact that causes a performance delta that is dependent on local environmental factors but also persists from run to run.\"</p>\n</blockquote>\n<p>maybe \"perturbation\"?</p>",
        "id": 257273515,
        "sender_full_name": "The 8472",
        "timestamp": 1634073381
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116083\">pnkfelix</span> <a href=\"#narrow/stream/247081-t-compiler.2Fperformance/topic/triage.202021.2010.2012/near/257272839\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"224872\">rylev</span> if you’re still there, can you explain why triage report puts <a href=\"https://github.com/rust-lang/rust/issues/86525\">#86525</a> into the “probably changed” group, but then the perf site says that <a href=\"https://github.com/rust-lang/rust/pull/89582#issuecomment-939270041\">\"Summary: This benchmark run did not return any relevant changes.”</a> ?</p>\n</blockquote>\n<p>Yes, we need to improve the wording here. The post-merge messages only say that there is a relevant change if the changes are classified as \"definitely relevant\" The triage report includes \"probably relevant\" changes.</p>",
        "id": 257273811,
        "sender_full_name": "rylev",
        "timestamp": 1634073546
    },
    {
        "content": "<p>I have it on my todo to changing the wording to make this all much clearer</p>",
        "id": 257273853,
        "sender_full_name": "rylev",
        "timestamp": 1634073568
    },
    {
        "content": "<p>It's not that there aren't performance changes, it's just that we determined that it's not worth bugging the author/reviewer about it</p>",
        "id": 257274071,
        "sender_full_name": "rylev",
        "timestamp": 1634073667
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"330154\">The 8472</span> <a href=\"#narrow/stream/247081-t-compiler.2Fperformance/topic/triage.202021.2010.2012/near/257273515\">said</a>:</p>\n<blockquote>\n<p>maybe \"perturbation\"?</p>\n</blockquote>\n<p>Stabilizer paper says “measurement bias: a systematic error due to uncontrolled factors\"</p>",
        "id": 257276166,
        "sender_full_name": "pnkfelix",
        "timestamp": 1634074793
    },
    {
        "content": "<p>But I worry that “measurement bias” is describing too general a phenomenon and I want something narrower here</p>",
        "id": 257276312,
        "sender_full_name": "pnkfelix",
        "timestamp": 1634074860
    },
    {
        "content": "<p>okay, done with report. Thanks for your assistance all.</p>",
        "id": 257276776,
        "sender_full_name": "pnkfelix",
        "timestamp": 1634075107
    }
]