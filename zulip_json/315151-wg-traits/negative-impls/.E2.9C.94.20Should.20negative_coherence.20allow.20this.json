[
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"116266\">Santiago Pastorino</span> <a href=\"#narrow/stream/315151-wg-traits.2Fnegative-impls/topic/Should.20negative_coherence.20allow.20this/near/272849240\">said</a>:</p>\n<blockquote>\n<p>want to hear Niko's thoughts but my understanding is that this shouldn't work</p>\n</blockquote>\n<p>Hmm, after some more testing you're right, I manage to reproduce this without <code>negative_coherence</code>, my bad! (it's thus more like an issue of <code>trivial_bounds</code>, one that technically affects stable Rust due to there being a workaround for that).</p>",
        "id": 272958145,
        "sender_full_name": "Daniel Henry-Mantilla",
        "timestamp": 1645627802
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"232018\">Daniel Henry-Mantilla</span> has marked this topic as resolved.</p>",
        "id": 272958189,
        "sender_full_name": "Notification Bot",
        "timestamp": 1645627804
    },
    {
        "content": "<p>So, for the sake of completeness, the actually correct snippet would be:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">#![feature(with_negative_coherence)]</span><span class=\"w\"></span>\n\n<span class=\"k\">use</span><span class=\"w\"> </span>::<span class=\"n\">core</span>::<span class=\"n\">marker</span>::<span class=\"p\">{</span><span class=\"n\">PhantomPinned</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nb\">Unpin</span><span class=\"p\">};</span><span class=\"w\"></span>\n<span class=\"c1\">// trait Unpin {} enum PhantomPinned {} /* use local reasoning instead */</span>\n<span class=\"k\">trait</span><span class=\"w\"> </span><span class=\"n\">Trait</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"p\">{}</span><span class=\"w\"></span>\n\n<span class=\"k\">impl</span><span class=\"o\">&lt;</span><span class=\"n\">NotPhantomPinned</span><span class=\"w\"> </span>: <span class=\"nb\">Unpin</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">Trait</span><span class=\"o\">&lt;</span><span class=\"n\">NotPhantomPinned</span><span class=\"o\">&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"p\">()</span><span class=\"w\"></span>\n<span class=\"p\">{}</span><span class=\"w\"></span>\n\n<span class=\"k\">impl</span><span class=\"w\"> </span><span class=\"n\">Trait</span><span class=\"o\">&lt;</span><span class=\"n\">PhantomPinned</span><span class=\"o\">&gt;</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"p\">()</span><span class=\"w\"></span>\n<span class=\"p\">{}</span><span class=\"w\"></span>\n</code></pre></div>\n<p>which does work <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> <span aria-label=\"ok\" class=\"emoji emoji-1f44c\" role=\"img\" title=\"ok\">:ok:</span></p>\n<p>Sorry for the inconvenience <span aria-label=\"bow\" class=\"emoji emoji-1f647\" role=\"img\" title=\"bow\">:bow:</span></p>",
        "id": 272958305,
        "sender_full_name": "Daniel Henry-Mantilla",
        "timestamp": 1645627859
    },
    {
        "content": "<p>no worries, sorry for the slow replies</p>",
        "id": 272996749,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1645643225
    },
    {
        "content": "<p>anyway, we should open an issue about the diagnostic problem, if you will :)</p>",
        "id": 272996830,
        "sender_full_name": "Santiago Pastorino",
        "timestamp": 1645643264
    }
]