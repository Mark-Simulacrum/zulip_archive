<html>
<head><meta charset="utf-8"><title>rust-analyzer with rustc · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html">rust-analyzer with rustc</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="198382105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198382105" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diggsey <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198382105">(May 21 2020 at 21:54)</a>:</h4>
<p>Is there any information on using rust-analyzer to dev on rustc itself?</p>



<a name="198382456"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198382456" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198382456">(May 21 2020 at 21:58)</a>:</h4>
<p>only a select few are mighty enough to wield the secret JSON</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;rust-analyzer.checkOnSave.overrideCommand&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;./x.py&quot;</span><span class="p">,</span>
        <span class="s2">&quot;check&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--json-output&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;rust-analyzer.rustfmt.overrideCommand&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;/absolute/path/to/rust/build/x86_64-unknown-linux-gnu/stage0/bin/rustfmt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--edition&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2018&quot;</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">}</span>
</code></pre></div>



<a name="198382478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198382478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198382478">(May 21 2020 at 21:58)</a>:</h4>
<p>that is, if you're using VS Code</p>



<a name="198382505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198382505" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diggsey <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198382505">(May 21 2020 at 21:58)</a>:</h4>
<p>cool, is that sufficient for everything to work??</p>



<a name="198382517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198382517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198382517">(May 21 2020 at 21:58)</a>:</h4>
<p>should be, yeah</p>



<a name="198382555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198382555" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diggsey <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198382555">(May 21 2020 at 21:59)</a>:</h4>
<p>thanks</p>



<a name="198383126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198383126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diggsey <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198383126">(May 21 2020 at 22:05)</a>:</h4>
<p>nice, it does indeed work - and a relative path for rustfmt worked just fine too</p>



<a name="198383229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198383229" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198383229">(May 21 2020 at 22:06)</a>:</h4>
<p>Hmm, we hit some issues with that: <a href="https://github.com/rust-analyzer/rust-analyzer/issues/4486">https://github.com/rust-analyzer/rust-analyzer/issues/4486</a></p>



<a name="198383320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198383320" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diggsey <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198383320">(May 21 2020 at 22:07)</a>:</h4>
<p>I'm on windows, so maybe that makes a difference?</p>



<a name="198383332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198383332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diggsey <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198383332">(May 21 2020 at 22:07)</a>:</h4>
<p>it seems to work so far at least</p>



<a name="198488090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198488090" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198488090">(May 22 2020 at 19:58)</a>:</h4>
<p>I use a slightly different config:</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;rust-analyzer.checkOnSave.overrideCommand&quot;: [
        &quot;./x.py&quot;,
        &quot;check&quot;,
        &quot;--json-output&quot;
    ],
    &quot;rust-analyzer.rustfmt.extraArgs&quot;: [
        &quot;+nightly&quot;
    ],
    &quot;files.watcherExclude&quot;: {
        &quot;**/src/llvm-project/**&quot;: true,
        &quot;**/build/**&quot;: true,
        &quot;**/target/**&quot;: true
    },
    &quot;files.exclude&quot;: {
        &quot;**/llvm-project/**&quot;: true,
        &quot;**/build/**&quot;: true
    }
}
</code></pre></div>



<a name="198488144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198488144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198488144">(May 22 2020 at 19:58)</a>:</h4>
<p>but anyway I otherwise asked the exact same question a week ago. we should document this somewhere... presumably rustc-dev-guide?</p>



<a name="198488165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198488165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198488165">(May 22 2020 at 19:59)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> ^</p>



<a name="198489100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198489100" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198489100">(May 22 2020 at 20:07)</a>:</h4>
<p>yes, we should add this to rustc-dev-guide</p>



<a name="198489238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198489238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198489238">(May 22 2020 at 20:09)</a>:</h4>
<p>maybe I'd suggest to use +beta instead of +nightly :)</p>



<a name="198491475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198491475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198491475">(May 22 2020 at 20:30)</a>:</h4>
<p>Has anyone noticed issues with this week's ra release?</p>



<a name="198491491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198491491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198491491">(May 22 2020 at 20:30)</a>:</h4>
<p>I'm getting minutes long waits for completions</p>



<a name="198491511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198491511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198491511">(May 22 2020 at 20:30)</a>:</h4>
<p><a href="https://github.com/rust-analyzer/rust-analyzer/issues/4567">https://github.com/rust-analyzer/rust-analyzer/issues/4567</a></p>



<a name="198491552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198491552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198491552">(May 22 2020 at 20:30)</a>:</h4>
<p>And I don't think I've changed anything else about my setup</p>



<a name="198491807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/rust-analyzer%20with%20rustc/near/198491807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/rust-analyzer.20with.20rustc.html#198491807">(May 22 2020 at 20:33)</a>:</h4>
<p>hm, it worked some days ago but earlier today I also felt like it didnt seem to do anything (Im on RA nightly). I didnt investigate though.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>