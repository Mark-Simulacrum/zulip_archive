<html>
<head><meta charset="utf-8"><title>Why can&#x27;t you use enums in range patterns? · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Why.20can&#x27;t.20you.20use.20enums.20in.20range.20patterns.3F.html">Why can&#x27;t you use enums in range patterns?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="255913742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Why%20can%27t%20you%20use%20enums%20in%20range%20patterns%3F/near/255913742" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ibraheem Ahmed <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Why.20can&#x27;t.20you.20use.20enums.20in.20range.20patterns.3F.html#255913742">(Oct 03 2021 at 01:47)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">enum</span> <span class="nc">F</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">A</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">B</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">C</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">D</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">E</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">F</span><span class="p">,</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">foo</span><span class="p">(</span><span class="n">f</span>: <span class="nc">F</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">match</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">F</span>::<span class="n">A</span><span class="o">..=</span><span class="n">F</span>::<span class="n">D</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">        </span><span class="n">_</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Currently errors:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">error</span><span class="p">[</span><span class="n">E0029</span><span class="p">]</span>: <span class="nc">only</span><span class="w"> </span><span class="err">`</span><span class="kt">char</span><span class="err">`</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">numeric</span><span class="w"> </span><span class="n">types</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">patterns</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span>-&gt; <span class="nc">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">12</span>:<span class="mi">9</span><span class="w"></span>
<span class="w">   </span><span class="o">|</span><span class="w"></span>
<span class="mi">12</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="n">F</span>::<span class="n">A</span><span class="o">..=</span><span class="n">F</span>::<span class="n">D</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">   </span><span class="o">|</span><span class="w">         </span><span class="o">----^^^----</span><span class="w"></span>
<span class="w">   </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"></span>
<span class="w">   </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="w">      </span><span class="n">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="k">type</span> <span class="err">`</span><span class="n">F</span><span class="err">`</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="err">`</span><span class="kt">char</span><span class="err">`</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">numeric</span><span class="w"></span>
<span class="w">   </span><span class="o">|</span><span class="w">         </span><span class="n">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="k">type</span> <span class="err">`</span><span class="n">F</span><span class="err">`</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="err">`</span><span class="kt">char</span><span class="err">`</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">numer</span><span class="w"></span>
</code></pre></div>
<p>Is there a reason this can't work, or has it just not been implemented yet?</p>



<a name="255913943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Why%20can%27t%20you%20use%20enums%20in%20range%20patterns%3F/near/255913943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Wagner-Hall <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Why.20can&#x27;t.20you.20use.20enums.20in.20range.20patterns.3F.html#255913943">(Oct 03 2021 at 01:51)</a>:</h4>
<p>As far as I know, enums don't have a strict order of their variants - unless a numeric repr is specified for them, or they have explicit discriminants, the compiler is free to represent them any way it wants. But for enums with an explicit repr, this seems like a reasonable thing to express...</p>



<a name="255922251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Why%20can%27t%20you%20use%20enums%20in%20range%20patterns%3F/near/255922251" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Why.20can&#x27;t.20you.20use.20enums.20in.20range.20patterns.3F.html#255922251">(Oct 03 2021 at 04:29)</a>:</h4>
<p>Yeah, Rust enums are not intended to be a shorthand for defining int names like C enums are.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>