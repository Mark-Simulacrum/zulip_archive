<html>
<head><meta charset="utf-8"><title>darling API change review · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/darling.20API.20change.20review.html">darling API change review</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="278698412"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/darling%20API%20change%20review/near/278698412" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Driggs <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/darling.20API.20change.20review.html#278698412">(Apr 12 2022 at 14:13)</a>:</h4>
<p>I'm the maintainer of <code>darling</code>, a proc-macro crate that has ~500 stars and ~15M downloads. I'm currently considering adding a provided method to the crate's fundamental trait (<a href="https://github.com/TedDriggs/darling/pull/177">PR here</a>), and would love some additional reviewing eyes on it.</p>
<p>Some specific questions:</p>
<ol>
<li>Does adding a provided method counts as a breaking change, meaning I need to bump the minor version?</li>
<li>Is <code>from_none</code> a good name for this, or should I choose something different to reflect this method's narrower use-case?</li>
</ol>



<a name="278699011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/darling%20API%20change%20review/near/278699011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fee1-dead <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/darling.20API.20change.20review.html#278699011">(Apr 12 2022 at 14:17)</a>:</h4>
<p>Oh I thought you were talking about a <code>#[fundemental]</code> trait. I looked at the source and it looks like it isn't. See <a href="https://doc.rust-lang.org/cargo/reference/semver.html#possibly-breaking-adding-a-defaulted-trait-item">this</a></p>



<a name="278699237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/darling%20API%20change%20review/near/278699237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fee1-dead <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/darling.20API.20change.20review.html#278699237">(Apr 12 2022 at 14:19)</a>:</h4>
<p>As for naming I think <code>from_none</code> is fine.</p>



<a name="278699741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/darling%20API%20change%20review/near/278699741" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Driggs <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/darling.20API.20change.20review.html#278699741">(Apr 12 2022 at 14:22)</a>:</h4>
<p>Sorry, it's "fundamental" to the crate; I forgot that's a term with a proper meaning to Rust.</p>



<a name="278701487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/darling%20API%20change%20review/near/278701487" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Conrad Ludgate <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/darling.20API.20change.20review.html#278701487">(Apr 12 2022 at 14:35)</a>:</h4>
<p>I do believe this is not a breaking change</p>



<a name="278704904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/darling%20API%20change%20review/near/278704904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mejrs <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/darling.20API.20change.20review.html#278704904">(Apr 12 2022 at 14:58)</a>:</h4>
<p>agree this is not a breaking change</p>



<a name="278705074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/darling%20API%20change%20review/near/278705074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mejrs <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/darling.20API.20change.20review.html#278705074">(Apr 12 2022 at 14:59)</a>:</h4>
<p>it could produce an inference error if another trait with that method for the same type is in scope, but iirc inference errors are not considered breaking</p>



<a name="278723066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/darling%20API%20change%20review/near/278723066" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/darling.20API.20change.20review.html#278723066">(Apr 12 2022 at 17:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="488050">Ted Driggs</span> <a href="#narrow/stream/122651-general/topic/darling.20API.20change.20review/near/278698412">said</a>:</p>
<blockquote>
<p>Some specific questions:</p>
<ol>
<li>Does adding a provided method counts as a breaking change</li>
</ol>
</blockquote>
<p>This one there's an official answer to: <a href="https://rust-lang.github.io/rfcs/1105-api-evolution.html#minor-change-adding-a-defaulted-item">https://rust-lang.github.io/rfcs/1105-api-evolution.html#minor-change-adding-a-defaulted-item</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>