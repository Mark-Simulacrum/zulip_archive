<html>
<head><meta charset="utf-8"><title>Running out of registers for avr target · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Running.20out.20of.20registers.20for.20avr.20target.html">Running out of registers for avr target</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="252510994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Running%20out%20of%20registers%20for%20avr%20target/near/252510994" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Forster <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Running.20out.20of.20registers.20for.20avr.20target.html#252510994">(Sep 08 2021 at 18:36)</a>:</h4>
<p>I was trying to see if I could use Rust to write some embedded code for an AVR processor. Unfortunately I'm getting an error message that I have no idea how to address:</p>
<div class="codehilite"><pre><span></span><code>&gt;&gt; cargo build --target=avr-unknown-gnu-atmega328 -Z build-std
   Compiling core v0.0.0 (/home/forster/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core)
   Compiling rustc-std-workspace-core v1.99.0 (/home/forster/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/rustc-std-workspace-core)
error: ran out of registers during register allocation
</code></pre></div>
<p>Searching the internet gives me the impression that this might be an LLVM bug. Any ideas on how to proceed? Workarounds?</p>



<a name="252512780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Running%20out%20of%20registers%20for%20avr%20target/near/252512780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Quine Dot <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Running.20out.20of.20registers.20for.20avr.20target.html#252512780">(Sep 08 2021 at 18:49)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/88252">https://github.com/rust-lang/rust/issues/88252</a> maybe, in which case a workaround is to use an older nightly version</p>



<a name="252516869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Running%20out%20of%20registers%20for%20avr%20target/near/252516869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Forster <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Running.20out.20of.20registers.20for.20avr.20target.html#252516869">(Sep 08 2021 at 19:17)</a>:</h4>
<p>Hah, I believe that's it. Thanks for the pointer!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>