<html>
<head><meta charset="utf-8"><title>dropck_eyepatch · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html">dropck_eyepatch</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="148642041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642041" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642041">(Nov 27 2018 at 14:45)</a>:</h4>
<p>right-o</p>



<a name="148642102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642102" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642102">(Nov 27 2018 at 14:46)</a>:</h4>
<p>do we still have the <code>dropck_eyepatch</code> and <code>#[unsafe_destructor_blind_to_params]</code>?</p>



<a name="148642128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642128" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642128">(Nov 27 2018 at 14:47)</a>:</h4>
<p>We should remove <code>#[unsafe_destructor_blind_to_params]</code>  if we haven't already</p>



<a name="148642140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642140" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642140">(Nov 27 2018 at 14:47)</a>:</h4>
<p>&lt;<a href="https://github.com/rust-lang/rust/issues/34761" target="_blank" title="https://github.com/rust-lang/rust/issues/34761">https://github.com/rust-lang/rust/issues/34761</a>&gt;</p>



<a name="148642149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642149" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642149">(Nov 27 2018 at 14:47)</a>:</h4>
<p>I believe <code>dropck_eyepatch</code> is the feature gate for <code>#[may_dangle</code>], which we need to keep until we have a <del>more general</del> better solution to the problem it is solving.</p>



<a name="148642202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642202" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642202">(Nov 27 2018 at 14:48)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> what was the problem again?</p>



<a name="148642210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642210" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642210">(Nov 27 2018 at 14:48)</a>:</h4>
<p>The destructor for <code>Vec&lt;T&gt;</code></p>



<a name="148642226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642226" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642226">(Nov 27 2018 at 14:49)</a>:</h4>
<p>is guaranteed to run without running any code for instances of <code>T</code> (apart from their own destructors)</p>



<a name="148642245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642245" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642245">(Nov 27 2018 at 14:49)</a>:</h4>
<p>which means its sound to e.g. have a <code>Vec</code> where the elements hold references to other elements of the <code>Vec</code></p>



<a name="148642251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642251" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642251">(Nov 27 2018 at 14:49)</a>:</h4>
<p>If a user tries to implement <code>Vec</code> themselves</p>



<a name="148642255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642255" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642255">(Nov 27 2018 at 14:49)</a>:</h4>
<p>and does not opt into the <code>dropck_eyepatch</code></p>



<a name="148642315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642315" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642315">(Nov 27 2018 at 14:50)</a>:</h4>
<p>they (may) discover that their version of a vec is not as expressive as <code>Vec</code> in the stdlib</p>



<a name="148642320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642320" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642320">(Nov 27 2018 at 14:50)</a>:</h4>
<p>since their version cannot store cyclic structures</p>



<a name="148642329"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642329" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642329">(Nov 27 2018 at 14:50)</a>:</h4>
<p>There's an issue about this, hold on</p>



<a name="148642338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642338" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642338">(Nov 27 2018 at 14:51)</a>:</h4>
<p>(and let me rename this divergent topic)</p>



<a name="148642485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642485" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642485">(Nov 27 2018 at 14:53)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@Mazdak Farrokhzad</span> okay you can read more here: &lt;<a href="https://github.com/rust-lang/rfcs/blob/master/text/1238-nonparametric-dropck.md#why-we-need-an-escape-hatch" target="_blank" title="https://github.com/rust-lang/rfcs/blob/master/text/1238-nonparametric-dropck.md#why-we-need-an-escape-hatch">https://github.com/rust-lang/rfcs/blob/master/text/1238-nonparametric-dropck.md#why-we-need-an-escape-hatch</a>&gt;</p>



<a name="148642503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642503" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642503">(Nov 27 2018 at 14:53)</a>:</h4>
<p>cheers</p>



<a name="148642641"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642641" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642641">(Nov 27 2018 at 14:55)</a>:</h4>
<p>and of course far far more gory (and <strong>outdated</strong>) detail is available in &lt;<a href="https://github.com/rust-lang/rfcs/blob/master/text/0769-sound-generic-drop.md" target="_blank" title="https://github.com/rust-lang/rfcs/blob/master/text/0769-sound-generic-drop.md">https://github.com/rust-lang/rfcs/blob/master/text/0769-sound-generic-drop.md</a>&gt;</p>



<a name="148642701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642701" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642701">(Nov 27 2018 at 14:56)</a>:</h4>
<p>(which wasn't sound)</p>



<a name="148642712"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642712" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642712">(Nov 27 2018 at 14:56)</a>:</h4>
<p>yeah that's why I added "outdated" but I should have put something stronger.</p>



<a name="148642742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642742" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642742">(Nov 27 2018 at 14:57)</a>:</h4>
<p>why it was unsound is discussed briefly (with links to more detail) here: &lt;<a href="https://github.com/rust-lang/rfcs/blob/master/text/1238-nonparametric-dropck.md#mistakes-were-made" target="_blank" title="https://github.com/rust-lang/rfcs/blob/master/text/1238-nonparametric-dropck.md#mistakes-were-made">https://github.com/rust-lang/rfcs/blob/master/text/1238-nonparametric-dropck.md#mistakes-were-made</a>&gt;</p>



<a name="148642840"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642840" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642840">(Nov 27 2018 at 14:58)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> there, fixed the title: &lt;<a href="https://github.com/rust-lang/rfcs/pull/769" target="_blank" title="https://github.com/rust-lang/rfcs/pull/769">https://github.com/rust-lang/rfcs/pull/769</a>&gt; ;)</p>



<a name="148642975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148642975" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148642975">(Nov 27 2018 at 15:00)</a>:</h4>
<p>"mistakes were made" is one of my favorite uses of the passive voice to avoid pointing a finger at myself</p>



<a name="148643023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148643023" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148643023">(Nov 27 2018 at 15:01)</a>:</h4>
<p>there's a shorthand for that: "oops" =P</p>



<a name="148646974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148646974" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148646974">(Nov 27 2018 at 15:59)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> After reading 1238 I got nothing; <code>#[may_dangle]</code> is quite an ad-hoc thing to say ;)</p>



<a name="148646986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148646986" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148646986">(Nov 27 2018 at 15:59)</a>:</h4>
<p>nothing comes to mind wrt. generalizations</p>



<a name="148647013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148647013" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148647013">(Nov 27 2018 at 15:59)</a>:</h4>
<p>(except that as person who likes Haskell &amp; co. I like parametricity ^.^)</p>



<a name="148647126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148647126" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148647126">(Nov 27 2018 at 16:00)</a>:</h4>
<p>(and I sure hope we get specialization and that it becomes good for all the trouble it has caused so far and keeps causing...)</p>



<a name="148693914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148693914" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148693914">(Nov 28 2018 at 07:06)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> After reading 1238 I got nothing; <code>#[may_dangle]</code> is quite an ad-hoc thing to say ;)</p>
</blockquote>
<p>it's actually not</p>



<a name="148693916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148693916" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148693916">(Nov 28 2018 at 07:07)</a>:</h4>
<p>but I haven't seen a good description of it anywhere either had to puzzle together my own</p>



<a name="148693923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148693923" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148693923">(Nov 28 2018 at 07:07)</a>:</h4>
<p>(and talking to <span class="user-mention" data-user-id="126804">@Ariel Ben-Yehuda</span> helped)</p>



<a name="148693924"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148693924" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148693924">(Nov 28 2018 at 07:07)</a>:</h4>
<p>I guess I should write a blog post...</p>



<a name="148693925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148693925" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148693925">(Nov 28 2018 at 07:07)</a>:</h4>
<p>but probably not before next week</p>



<a name="148697569"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148697569" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148697569">(Nov 28 2018 at 08:45)</a>:</h4>
<p>Wait, 1238 isn’t going to explain may_dangle</p>



<a name="148697713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148697713" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148697713">(Nov 28 2018 at 08:48)</a>:</h4>
<p>For that, you would start with <a href="https://github.com/rust-lang/rfcs/blob/master/text/1327-dropck-param-eyepatch.md" target="_blank" title="https://github.com/rust-lang/rfcs/blob/master/text/1327-dropck-param-eyepatch.md">https://github.com/rust-lang/rfcs/blob/master/text/1327-dropck-param-eyepatch.md</a> (and then muddle along seeking a better explanation the way Ralf describes)</p>



<a name="148697827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148697827" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148697827">(Nov 28 2018 at 08:51)</a>:</h4>
<p>The heart of it is this line from that RFC: “When used on a lifetime, e.g. #[may_dangle] 'a, the programmer is asserting that no data behind a reference of lifetime 'a will be accessed by the destructor.”</p>



<a name="148698088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148698088" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148698088">(Nov 28 2018 at 08:57)</a>:</h4>
<p>The application to type parameters is specified as having an arguably stronger constraint (roughly “you can only move or drop instances of a #[may_dangle] T”) ... but it might make more sense to describe that constraint as a conservative approximation to the actual goal constraint. A more precise constraint might be described as applying #[may_dangle] to every lifetime that arises in the instantiation of T... but I’m not sure that is a sensible description. And in any case the conservative approximation conveys the kind of code we expect to occur in practice for such uses</p>



<a name="148700291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148700291" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148700291">(Nov 28 2018 at 09:45)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> ah so for tyvars its sort of the transitive closure of the idea on lifetimes</p>



<a name="148700351"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148700351" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148700351">(Nov 28 2018 at 09:46)</a>:</h4>
<p>it's still ad-hoc ;)</p>



<a name="148700704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/dropck_eyepatch/near/148700704" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/dropck_eyepatch.html#148700704">(Nov 28 2018 at 09:52)</a>:</h4>
<p>I think I have an explanation you'll like much more <span class="user-mention" data-user-id="126931">@centril</span> ^^ hopefully I can write it down next week...</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>