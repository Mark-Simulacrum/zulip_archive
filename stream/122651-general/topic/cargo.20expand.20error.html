<html>
<head><meta charset="utf-8"><title>cargo expand error · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/cargo.20expand.20error.html">cargo expand error</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="253621347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/cargo%20expand%20error/near/253621347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Soveu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/cargo.20expand.20error.html#253621347">(Sep 16 2021 at 17:46)</a>:</h4>
<p>Well, so I just updated everything via rustup and tried to see how some macro crates work</p>
<div class="codehilite"><pre><span></span><code>soveu@localhost ~/g/aaaa (master) [1]&gt; cargo expand --verbose
     Running `cargo +nightly rustc --profile=check --verbose --color always -- -o /tmp/cargo-expandT5o5Vi/expanded -Zunstable-options --pretty=expanded`
    Checking aaaa v0.1.0 (/home/soveu/git/aaaa)
     Running `rustc --crate-name aaaa --edition=2021 src/main.rs --error-format=json --json=diagnostic-rendered-ansi --crate-type bin --emit=dep-info,metadata -C embed-bitcode=no -C debuginfo=2 -o /tmp/cargo-expandT5o5Vi/expanded -Zunstable-options --pretty=expanded -C metadata=0fbca043c446d40a -C extra-filename=-0fbca043c446d40a --out-dir /home/soveu/git/aaaa/target/debug/deps -C incremental=/home/soveu/git/aaaa/target/debug/incremental -L dependency=/home/soveu/git/aaaa/target/debug/deps`
error: Unrecognized option: &#39;pretty&#39;
error: could not compile `aaaa
</code></pre></div>



<a name="253621537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/cargo%20expand%20error/near/253621537" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/cargo.20expand.20error.html#253621537">(Sep 16 2021 at 17:47)</a>:</h4>
<p>you may be on an old cargo-expand version ?</p>



<a name="253621653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/cargo%20expand%20error/near/253621653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/cargo.20expand.20error.html#253621653">(Sep 16 2021 at 17:48)</a>:</h4>
<p>as this should have been fixed in <a href="https://github.com/dtolnay/cargo-expand/releases/tag/1.0.8">https://github.com/dtolnay/cargo-expand/releases/tag/1.0.8</a> IIUC</p>



<a name="253621820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/cargo%20expand%20error/near/253621820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Soveu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/cargo.20expand.20error.html#253621820">(Sep 16 2021 at 17:49)</a>:</h4>
<p>hmmm, how to update cargo subcommands?</p>



<a name="253621908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/cargo%20expand%20error/near/253621908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Soveu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/cargo.20expand.20error.html#253621908">(Sep 16 2021 at 17:50)</a>:</h4>
<p>or generally things installed via cargo install?</p>



<a name="253621979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/cargo%20expand%20error/near/253621979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/cargo.20expand.20error.html#253621979">(Sep 16 2021 at 17:50)</a>:</h4>
<p>maybe reinstall with --force ?</p>



<a name="253622028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/cargo%20expand%20error/near/253622028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/cargo.20expand.20error.html#253622028">(Sep 16 2021 at 17:51)</a>:</h4>
<p><code>cargo install --force cargo-expand</code>, but I don't think <code>-f</code> is needed any more.</p>



<a name="253622043"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/cargo%20expand%20error/near/253622043" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/cargo.20expand.20error.html#253622043">(Sep 16 2021 at 17:51)</a>:</h4>
<p>or asking for 1.0.9 via --version</p>



<a name="253622588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/cargo%20expand%20error/near/253622588" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Soveu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/cargo.20expand.20error.html#253622588">(Sep 16 2021 at 17:54)</a>:</h4>
<p>Thanks, it works now<br>
A command to update 3rd party tools would be useful</p>



<a name="253629649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/cargo%20expand%20error/near/253629649" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/cargo.20expand.20error.html#253629649">(Sep 16 2021 at 18:39)</a>:</h4>
<p>that's <a href="https://crates.io/crates/cargo-update">https://crates.io/crates/cargo-update</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>