<html>
<head><meta charset="utf-8"><title>Lengthy bors runs · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html">Lengthy bors runs</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="245261467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245261467" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245261467">(Jul 08 2021 at 00:51)</a>:</h4>
<p>How long do bors runs usually take? I've seen them take two or so hours before, but <a href="https://github.com/rust-lang/rust/issues/86930">#86930</a> is at nearly four. I was wondering if that's normal or not.</p>



<a name="245261650"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245261650" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245261650">(Jul 08 2021 at 00:54)</a>:</h4>
<p>in the range of 3.5 hour seems typical? 4 hours isn't unheard of. it's a large test suite, and some of the workers get backlogged. (i'm not sure which ones are shared with other projects.)</p>



<a name="245261798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245261798" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245261798">(Jul 08 2021 at 00:56)</a>:</h4>
<p>oh, that one looks a bit suspicious. 3h 55m on "installing awscli".</p>



<a name="245261829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245261829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245261829">(Jul 08 2021 at 00:56)</a>:</h4>
<p><a href="https://github.com/rust-lang-ci/rust/runs/3013163610">https://github.com/rust-lang-ci/rust/runs/3013163610</a><br>
but you might have to be logged into github to see it</p>



<a name="245261943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245261943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245261943">(Jul 08 2021 at 00:59)</a>:</h4>
<p>That is... definitely suspcious, yes.</p>



<a name="245262240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245262240" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245262240">(Jul 08 2021 at 01:03)</a>:</h4>
<p>Well, it'll time out in a little over ten minutes, if I'm reading the config settings correctly.</p>



<a name="245262406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245262406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245262406">(Jul 08 2021 at 01:06)</a>:</h4>
<p>next in the queue is a rollup of 9, so that'll make a significant dent if it passes</p>



<a name="245262622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245262622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245262622">(Jul 08 2021 at 01:10)</a>:</h4>
<p>The rollup is actually why I noticed this. I have a PR in that rollup and I'm kinda worried I'm going to hit a platform specific error, since some of the changes were platform-sensitive.</p>



<a name="245262630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245262630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245262630">(Jul 08 2021 at 01:10)</a>:</h4>
<p>I worry a lot.</p>



<a name="245262662"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245262662" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245262662">(Jul 08 2021 at 01:11)</a>:</h4>
<p>it's an occupational hazard</p>



<a name="245262935"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245262935" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245262935">(Jul 08 2021 at 01:16)</a>:</h4>
<p>you could suggest that a PR be <code>rollup=never</code> or <code>rollup=iffy</code> next time if you're worried about blocking a rollup</p>



<a name="245264103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245264103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245264103">(Jul 08 2021 at 01:41)</a>:</h4>
<p>I would have, but I didn't think of it until the rollup had already been made.</p>



<a name="245264207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245264207" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245264207">(Jul 08 2021 at 01:43)</a>:</h4>
<p>I probably should have pinged anyway, given that it hadn't been run yet.</p>



<a name="245264256"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245264256" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245264256">(Jul 08 2021 at 01:44)</a>:</h4>
<p>At least I'll know for next time.</p>



<a name="245265084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245265084" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245265084">(Jul 08 2021 at 02:00)</a>:</h4>
<p>And I did indeed fail the rollup.</p>



<a name="245265098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245265098" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245265098">(Jul 08 2021 at 02:00)</a>:</h4>
<p><em>sighs</em></p>



<a name="245265224"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245265224" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245265224">(Jul 08 2021 at 02:02)</a>:</h4>
<p>Going to need to find out if I can find a way to do cross-compilation for a lot of different platforms.</p>



<a name="245265233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245265233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245265233">(Jul 08 2021 at 02:02)</a>:</h4>
<p>Because there's really no other way to test this.</p>



<a name="245265450"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245265450" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245265450">(Jul 08 2021 at 02:06)</a>:</h4>
<p>I think <code>./x.py check --all-targets </code> is what I want.</p>



<a name="245265451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245265451" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245265451">(Jul 08 2021 at 02:06)</a>:</h4>
<p>did you look at the failure log comment? (in the rollup PR)</p>



<a name="245265515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245265515" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245265515">(Jul 08 2021 at 02:08)</a>:</h4>
<p>Yeah, I did.</p>



<a name="245265529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245265529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245265529">(Jul 08 2021 at 02:08)</a>:</h4>
<p>I can fix that one.</p>



<a name="245265538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245265538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245265538">(Jul 08 2021 at 02:08)</a>:</h4>
<p>The problem is...</p>



<a name="245265541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245265541" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245265541">(Jul 08 2021 at 02:08)</a>:</h4>
<p>Well, I'm monkeying around with something that requires a lot of conditional imports.</p>



<a name="245265550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245265550" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Yu [they/she] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245265550">(Jul 08 2021 at 02:09)</a>:</h4>
<p>yeah, that may be difficult to test without access to <code>@bors try</code></p>



<a name="245266605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245266605" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245266605">(Jul 08 2021 at 02:37)</a>:</h4>
<p>I'll go ask someone on libs (or hanging out in the libs channel) if they'd be willing to run a try for me.</p>



<a name="245266906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245266906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245266906">(Jul 08 2021 at 02:45)</a>:</h4>
<p><span class="user-mention" data-user-id="417924">@inquisitivecrystal</span> you could make it less prone to failure by putting the imports inside the function where they're used. Then you don't need separate cfgs for them.</p>



<a name="245266976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245266976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245266976">(Jul 08 2021 at 02:47)</a>:</h4>
<p>That... would work, actually.</p>



<a name="245267041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245267041" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245267041">(Jul 08 2021 at 02:48)</a>:</h4>
<p>Thanks!</p>



<a name="245267072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245267072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245267072">(Jul 08 2021 at 02:49)</a>:</h4>
<p>Though that creates the problem of missing functions. Ahh well, you can't have everything.</p>



<a name="245267118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245267118" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245267118">(Jul 08 2021 at 02:50)</a>:</h4>
<p>Do you think it's still a better solution overall?</p>



<a name="245267146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245267146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245267146">(Jul 08 2021 at 02:51)</a>:</h4>
<p>I am decently sure that I'm getting close to finding the solution with my current tactic, but I don't know if I'm actually there yet.</p>



<a name="245267205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245267205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245267205">(Jul 08 2021 at 02:53)</a>:</h4>
<p>The third thing I could do would be to slap an <code>#[allow(unused_imports)]</code> on the imports and not even try to figure out which targets they should apply on.</p>



<a name="245267581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245267581" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245267581">(Jul 08 2021 at 03:02)</a>:</h4>
<p>Allowing unused imports is probably fine. It's also completely ok to just run it by bors repeatedly; there's no expectation that things work necessarily. If you have access to docker, running the dist-various builders may be a good way to get some broad coverage of some of the targets - src/ci/docker/run.sh dist-various-1 (name is one of the folder names inside src/ci/docker/host-x86_64).</p>



<a name="245276345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245276345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245276345">(Jul 08 2021 at 06:27)</a>:</h4>
<p>Thanks, simulacrum. That's very reassuring.</p>



<a name="245276353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Lengthy%20bors%20runs/near/245276353" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Lengthy.20bors.20runs.html#245276353">(Jul 08 2021 at 06:27)</a>:</h4>
<p>I tried the docker option, but it failed with an error that I'm guessing isn't my fault.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>