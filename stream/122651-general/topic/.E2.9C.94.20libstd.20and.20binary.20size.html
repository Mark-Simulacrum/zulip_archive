<html>
<head><meta charset="utf-8"><title>✔ libstd and binary size · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20libstd.20and.20binary.20size.html">✔ libstd and binary size</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="253580488"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20libstd%20and%20binary%20size/near/253580488" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wei Liu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20libstd.20and.20binary.20size.html#253580488">(Sep 16 2021 at 13:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="133247">bjorn3</span> <a href="#narrow/stream/122651-general/topic/libstd.20and.20binary.20size/near/253569095">said</a>:</p>
<blockquote>
<p>It is a slightly confusing statement. These portions of libstd are reachable, but only in exceptional cases. Take for example</p>
<blockquote>
<p>Remove panic String Formatting with panic_immediate_abort</p>
</blockquote>
<p>This removes part of libstd that is used to format panic messages when panicking. Your program likely won't panic, but there is no guarantee and as such the compiler is not allowed to remove this, because doing so would change behavior in the case that a panic does happen.</p>
</blockquote>
<p>This is a very good explanation. Thanks.</p>



<a name="253581461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20libstd%20and%20binary%20size/near/253581461" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wei Liu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20libstd.20and.20binary.20size.html#253581461">(Sep 16 2021 at 13:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="133247">bjorn3</span> <a href="#narrow/stream/122651-general/topic/libstd.20and.20binary.20size/near/253570626">said</a>:</p>
<blockquote>
<p>These are basically the reasons min-sized-rust is not the default, but if you are willing to accept these limitations, it is completely fine to use it to reduce binary size.</p>
</blockquote>
<p>Nah, the effort required to carefully craft code to do something different from the norm is not worth it unless I'm developing for disk space constraint environment.</p>
<p>It always makes me feel good to learn something new though.</p>



<a name="253581522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20libstd%20and%20binary%20size/near/253581522" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20libstd.20and.20binary.20size.html#253581522">(Sep 16 2021 at 13:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="367656">Wei Liu</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>