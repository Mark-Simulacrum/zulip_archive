<html>
<head><meta charset="utf-8"><title>Error on module documentation, &quot;expected outer doc comment&quot; · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comment.22.html">Error on module documentation, &quot;expected outer doc comment&quot;</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="259791353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comment%22/near/259791353" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Marcos Bezerra <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comment.22.html#259791353">(Oct 31 2021 at 14:55)</a>:</h4>
<p>Do any one has idea of what is causing this?</p>
<p><a href="/user_uploads/4715/Q7Fsj-HHJ_XkM6E0pnikJTC0/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/4715/Q7Fsj-HHJ_XkM6E0pnikJTC0/image.png" title="image.png"><img src="/user_uploads/4715/Q7Fsj-HHJ_XkM6E0pnikJTC0/image.png"></a></div><p>I have this <code>//!</code> comment at the first line of my module, but it tells me it's expecting outer comment.</p>



<a name="259791397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comment%22/near/259791397" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Marcos Bezerra <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comment.22.html#259791397">(Oct 31 2021 at 14:56)</a>:</h4>
<p>Whole error: </p>
<div class="codehilite"><pre><span></span><code>error[E0753]: expected outer doc comment
 --&gt; src/opts.rs:1:1
  |
1 | //! CLI configuration step, uses definitions from `opts.rs`, also used to treat some inputs.
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | use clap::{Parser, ValueHint};
  | ------------------------------ the inner doc comment doesn&#39;t annotate this `use` import
  |
help: to annotate the `use` import, change the doc comment from inner to outer style
  |
1 | /// CLI configuration step, uses definitions from `opts.rs`, also used to treat some inputs.
  |   ~

For more information about this error, try `rustc --explain E0753`.
error: could not compile `ouch` due to previous error
</code></pre></div>



<a name="259791409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comment%22/near/259791409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Marcos Bezerra <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comment.22.html#259791409">(Oct 31 2021 at 14:57)</a>:</h4>
<p>Tried using <code>#![doc = "please work"]</code> instead of <code>//!</code> and it retrieved this error message:</p>
<div class="codehilite"><pre><span></span><code>error: an inner attribute is not permitted in this context
 --&gt; src/opts.rs:1:1
  |
1 | #![doc = &quot;please work&quot;]
  | ^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | use clap::{Parser, ValueHint};
  | ------------------------------ the inner attribute doesn&#39;t annotate this `use` import
  |
  = note: inner attributes, like `#![no_std]`, annotate the item enclosing them, and are usually found at the beginning of source files
help: to annotate the `use` import, change the attribute from inner to outer style
  |
1 - #![doc = &quot;please work&quot;]
1 + #[doc = &quot;please work&quot;]
  |
</code></pre></div>



<a name="259791475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comment%22/near/259791475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comment.22.html#259791475">(Oct 31 2021 at 14:58)</a>:</h4>
<p><a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=b65f9af99335d97091b32b1eccddebb4">https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=b65f9af99335d97091b32b1eccddebb4</a> works, though</p>



<a name="259791497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comment%22/near/259791497" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Marcos Bezerra <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comment.22.html#259791497">(Oct 31 2021 at 14:59)</a>:</h4>
<p>Yeah, this <code>//!</code> comment works anywhere, all the other modules in the project accept it, except for this one <code>opts.rs</code></p>



<a name="259791516"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comment%22/near/259791516" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Marcos Bezerra <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comment.22.html#259791516">(Oct 31 2021 at 14:59)</a>:</h4>
<p>For reference, the exact line of code:<br>
<a href="https://github.com/ouch-org/ouch/blob/issue-32/src/opts.rs#L1">https://github.com/ouch-org/ouch/blob/issue-32/src/opts.rs#L1</a></p>
<p>The error in the CI:<br>
<a href="https://github.com/ouch-org/ouch/runs/4058741795?check_suite_focus=true#step:4:115">https://github.com/ouch-org/ouch/runs/4058741795?check_suite_focus=true#step:4:115</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>