<html>
<head><meta charset="utf-8"><title>Diagnosing compiler hang · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Diagnosing.20compiler.20hang.html">Diagnosing compiler hang</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="249450280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Diagnosing%20compiler%20hang/near/249450280" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oscar Rainford <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Diagnosing.20compiler.20hang.html#249450280">(Aug 14 2021 at 09:15)</a>:</h4>
<p>I seem to have found a compiler bug that is causing compilation in one of my crates to hang completely. I haven't yet been able to reduce it down to a minimally reproducible example (it's in a closed-source crate) but I'm looking for some help on where to start looking. Compiling with <code>cargo rustc --lib -- -Z time-passes</code>, the last time pass output before it hangs is:<br>
<code>time:   0.076; rss:  335MB -&gt;  357MB (  +22MB) item_types_checking</code><br>
I have been able to reproduce on the latest nightly and stable. It appears to hang locally, but on CI (Github Actions) it is terminated with <code>(signal: 9, SIGKILL: kill)</code> after around 5 minutes.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>