<html>
<head><meta charset="utf-8"><title>Core Safety ¬∑ general ¬∑ Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html">Core Safety</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="278508398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278508398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278508398">(Apr 11 2022 at 04:46)</a>:</h4>
<p>Is there any truly fundamental proof, at any level of computer-science-analysis, that Rust must be implemented using unsafe Rust?</p>



<a name="278508696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278508696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278508696">(Apr 11 2022 at 04:54)</a>:</h4>
<p>consider the alternatives:</p>
<ul>
<li>most safe languages that don't offer <code>unsafe</code> simply do the exact same unsafe stuff as part of the compiler or interpreter instead</li>
<li>to go any further than that you have to start proving the compiler is implemented correctly, which is a difficult problem that people have sunk a lot of research into- and the best methods we have for implementing compilers like still that take way more effort than the usual approach of <code>unsafe</code> (whether in the libraries or in the compiler/interpreter)</li>
</ul>



<a name="278510417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278510417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278510417">(Apr 11 2022 at 05:37)</a>:</h4>
<p>Or other languages just let you do unsafe things without asking you to <em>type</em> <code>unsafe</code> -- as I understand it, using ctypes in Python you can get UB by calling a DLL improperly and there's just no syntactic distinction for the unsafe call.</p>



<a name="278510826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278510826" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278510826">(Apr 11 2022 at 05:47)</a>:</h4>
<p>There is a proof that unsafe ‚Äúworks‚Äù that you can use unsafe code and build safe abstractions around it where ub cannot be observed</p>



<a name="278510875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278510875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278510875">(Apr 11 2022 at 05:48)</a>:</h4>
<p>Called RustBelt, it shows the type safety of Rust with unsafe code, which in particular implies memory safety</p>



<a name="278538864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278538864" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278538864">(Apr 11 2022 at 11:22)</a>:</h4>
<p>Even if a sufficiently advanced Rust compiler could prove all our core library code to be safe (and that already wouldn't be Rust anymore but some hypothetical Rust+) we still have to deal with OS APIs which deal in raw pointers.</p>



<a name="278554771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278554771" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278554771">(Apr 11 2022 at 13:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278508398">said</a>:</p>
<blockquote>
<p>Is there any truly fundamental proof, at any level of computer-science-analysis, that Rust must be implemented using unsafe Rust?</p>
</blockquote>
<p>how would you possibly do it otherwise? <code>unsafe</code> is inherently necessary for FFI, and you can't have any interaction with the kernel without syscalls, which essentially leaves you with just a fancy space heater.</p>



<a name="278556615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278556615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278556615">(Apr 11 2022 at 13:54)</a>:</h4>
<p>Well, hypothetically you could have an OS that provides APIs with all the safeties needed by rust. But then you're just moving the problem somewhere else.</p>



<a name="278557296"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278557296" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278557296">(Apr 11 2022 at 13:58)</a>:</h4>
<blockquote>
<p>Which essentially leaves you with just a fancy space heater.</p>
</blockquote>
<p>Fancy space heaters may be acceptable for theoretical computer-science arguments though? But even then, <code>unsafe</code> is needed to access <code>static mut</code>. In the presence of threads it would be very hard (possibly halting-problem hard) to automatically prove correctness of such accesses.</p>



<a name="278562844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278562844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278562844">(Apr 11 2022 at 14:36)</a>:</h4>
<p>History is made through the solution of difficult problems. Why is it that most programmers have accepted a cultural shift that involves never touching nor approaching "hard problems?"<br>
Furthermore, I only asked if there was any proof. Are you saying no?</p>



<a name="278562925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278562925" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278562925">(Apr 11 2022 at 14:36)</a>:</h4>
<p>My bad; was replying in this case to <span class="user-mention" data-user-id="117495">@rpjohnst</span> in the last bit.</p>



<a name="278563165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278563165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278563165">(Apr 11 2022 at 14:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330154">The 8472</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278557296">said</a>:</p>
<blockquote>
<p>In the presence of threads it would be very hard (possibly halting-problem hard) to automatically prove correctness of such accesses.</p>
</blockquote>
<p>I don't think it's useful at all to speculate. This is also another trend in programmer circles. I asked for fundamental proof. To be clear, but hopefully not harsh, I don't think people should respond without an answer, as it wastes both of our time.</p>



<a name="278563349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278563349" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278563349">(Apr 11 2022 at 14:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278554771">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278508398">said</a>:</p>
<blockquote>
<p>Is there any truly fundamental proof, at any level of computer-science-analysis, that Rust must be implemented using unsafe Rust?</p>
</blockquote>
<p>how would you possibly do it otherwise? <code>unsafe</code> is inherently necessary for FFI, and you can't have any interaction with the kernel without syscalls, which essentially leaves you with just a fancy space heater.</p>
</blockquote>
<p>Why do you need FFI for syscalls? I thought syscalls were a matter of pushing the arguments onto the stack in reverse order and then issuing the "call" assembly instruction.</p>



<a name="278564130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278564130" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278564130">(Apr 11 2022 at 14:44)</a>:</h4>
<p>syscalls can do arbitrary things. <code>vfork</code> is <em>extremely</em> unsafe even though the actual act of doing the syscall is just manipulating registers and executing a <code>syscall</code> instruction.</p>



<a name="278564183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278564183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278564183">(Apr 11 2022 at 14:45)</a>:</h4>
<p>you're right that technically FFI is not necessary, but in practice most syscalls go through the platform libc</p>



<a name="278564634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278564634" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278564634">(Apr 11 2022 at 14:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278564183">said</a>:</p>
<blockquote>
<p>you're right that technically FFI is not necessary, but in practice most syscalls go through the platform libc</p>
</blockquote>
<p>I didn't know this, though that seems completely unnecessary. I wonder why this is when rust isn't choosing that--llvm does, right? I guess LLD is the one doing that kind of thing, eh?</p>



<a name="278564697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278564697" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278564697">(Apr 11 2022 at 14:49)</a>:</h4>
<p>Rust chooses to do that. Go tried to avoid going through libc and it broke on many platforms because linux is the only major OS with a stable syscall ABI.</p>



<a name="278564737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278564737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278564737">(Apr 11 2022 at 14:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278564130">said</a>:</p>
<blockquote>
<p>syscalls can do arbitrary things. <code>vfork</code> is <em>extremely</em> unsafe even though the actual act of doing the syscall is just manipulating registers and executing a <code>syscall</code> instruction.</p>
</blockquote>
<p>"unsafe" means "the compiler cannot verify this"; the compiler certainly cannot verify the correctness of your OS kernel.</p>



<a name="278564921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278564921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278564921">(Apr 11 2022 at 14:50)</a>:</h4>
<p>Does every core library involve a syscall?</p>



<a name="278564975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278564975" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278564975">(Apr 11 2022 at 14:50)</a>:</h4>
<p>I don't understand the question. Things like <code>.as_ref()</code> do not make syscalls, no.</p>



<a name="278565022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278565022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278565022">(Apr 11 2022 at 14:51)</a>:</h4>
<blockquote>
<p>Is there any truly fundamental proof, at any level of computer-science-analysis, that Rust must be implemented using unsafe Rust?</p>
</blockquote>
<p>Technically correct answer üßå: It does not require unsafe rust because rust can be implemented in a non-rust language. Early versions were in fact implemented in OCaml! To make it computer-sciencey: Turing-equivalence!</p>
<p>What I am aiming at here is that the question is imprecise, and thus invites speculation around its edges, such as whether the OS would be included in safety arguments or not. Theoretical proofs tend to make simplifying assumptions which weren't stated here.</p>



<a name="278565134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278565134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278565134">(Apr 11 2022 at 14:51)</a>:</h4>
<p>Perhaps "core library" is one entity in our context; maybe I've misphrased that, so I'll rephrase. I meant regarding Rust's "units" or "building blocks," which is at the core of the language, heretofore implemented (perhaps unnecessarily) in unsafe blocks.</p>



<a name="278565342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278565342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278565342">(Apr 11 2022 at 14:53)</a>:</h4>
<p>I still don't understand your question.</p>



<a name="278565411"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278565411" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278565411">(Apr 11 2022 at 14:53)</a>:</h4>
<p>Do you mean the core library? Or also the compiler itself?</p>



<a name="278565443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278565443" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278565443">(Apr 11 2022 at 14:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330154">The 8472</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278565022">said</a>:</p>
<blockquote>
<blockquote>
<p>Is there any truly fundamental proof, at any level of computer-science-analysis, that Rust must be implemented using unsafe Rust?</p>
</blockquote>
<p>Technically correct answer üßå: It does not require unsafe rust because rust can be implemented in a non-rust language. Early versions were in fact implemented in OCaml! To make it computer-sciencey: Turing-equivalence!</p>
<p>What I am aiming at here is that the question is imprecise, and thus invites speculation around its edges, such as whether the OS would be included in safety arguments or not. Theoretical proofs tend to make simplifying assumptions which weren't stated here.</p>
</blockquote>
<p>There is no imprecision to the concept of the existence of a truly fundamental proof. It's extremely exact in its wording, but your own simplifications to approach the question might be the problem. "Fundamental" has a very specific definition. "Is there any" is well-defined. "Truly" helps specify that I'm using the specific instance of "fundamental," and all of it modifies "proof," which is a clearly defined term in our context.</p>



<a name="278565587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278565587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278565587">(Apr 11 2022 at 14:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330154">The 8472</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278565411">said</a>:</p>
<blockquote>
<p>Do you mean the core library? Or also the compiler itself?</p>
</blockquote>
<p>The core, as the compiler isn't made in rust at all, is it? The thing that actually compiles is LLVM, which is known-unsafe.</p>



<a name="278565658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278565658" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278565658">(Apr 11 2022 at 14:55)</a>:</h4>
<p>The rust compiler is written in rust and has a written-in-rust codegen backend (cranelift). The main codegen backend is LLVM, yes, but not the only one.</p>



<a name="278565722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278565722" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278565722">(Apr 11 2022 at 14:55)</a>:</h4>
<p>The rust IR-emitter, right? The one everyone's actually using.</p>



<a name="278565882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278565882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278565882">(Apr 11 2022 at 14:56)</a>:</h4>
<p>I presume cranelift can't actually compile to the same generalized platforms that LLVM can; I'll look that up.</p>



<a name="278566051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278566051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278566051">(Apr 11 2022 at 14:57)</a>:</h4>
<p>Even the x86_64 target isn't fully supported nor stable yet, so that's a good sign that it's a red herring.</p>



<a name="278566069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278566069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278566069">(Apr 11 2022 at 14:57)</a>:</h4>
<p>Such concerns shouldn't be relevant for theoretical considerations?</p>



<a name="278566158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278566158" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278566158">(Apr 11 2022 at 14:58)</a>:</h4>
<p>Yes they are, for the sake of understanding why you'd waste your time thinking about quick answers as if I'm an oracle.</p>



<a name="278566399"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278566399" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278566399">(Apr 11 2022 at 15:00)</a>:</h4>
<p>It doesn't matter if they're written in rust; it matters if they can possibly be written in unsafe rust. Currently, I am proposing through negative space that they are lazily implemented without "minimum unsafety," so you might feel attacked, and that's not what my intention is. I'm asking, outright, if there is a fundamental proof available from any source that anyone is aware of that might indicate the absolute necessity (or the inverse) of using unsafe blocks to implement Rust.</p>



<a name="278566563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278566563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278566563">(Apr 11 2022 at 15:00)</a>:</h4>
<p>Currently, the claim, as stated by the PRACTICE of Rust, is that there could be NO Rust without unsafe, not SOME Rust, but ABSOLUTELY NONE.</p>



<a name="278567554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278567554" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278567554">(Apr 11 2022 at 15:06)</a>:</h4>
<p>You didn't give a yes/no answer. So, do you mean just the <code>core</code> library or also the compiler?</p>
<p>If we exclude the compiler then this becomes trivial because all the use-of-unsafe (but not unsafe-to-use) things in core <em>could</em> be moved to the compiler via intrinsics and lang items. I acknowledge that this is a sleight of hand, but again, it depends on the precise meaning of your question, since the scope of "Rust" was not defined (remember, rust has no formal specification).</p>



<a name="278567632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278567632" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278567632">(Apr 11 2022 at 15:06)</a>:</h4>
<p>In general negative statements are much harder to prove. </p>
<p>But in this case we can answer in the negative: the language includes primitives (<code>UnsafeCell</code>) which are fundamentally unsafe to use.</p>



<a name="278567755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278567755" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278567755">(Apr 11 2022 at 15:07)</a>:</h4>
<p>These are part of the <em>language</em> (by virtue of shipping with core)</p>



<a name="278567871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278567871" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278567871">(Apr 11 2022 at 15:08)</a>:</h4>
<p>unsafe-to-use is not the same as use-of-unsafe</p>



<a name="278567987"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278567987" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278567987">(Apr 11 2022 at 15:08)</a>:</h4>
<p>And <code>Box</code> lives in <code>alloc</code>, not in <code>core</code>. Do we have any use of <code>UnsafeCell</code> in <code>core</code>?</p>



<a name="278568011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278568011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278568011">(Apr 11 2022 at 15:08)</a>:</h4>
<p>Yes</p>



<a name="278568099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278568099" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278568099">(Apr 11 2022 at 15:09)</a>:</h4>
<p><code>core::cell::UnsafeCell</code></p>



<a name="278568208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278568208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278568208">(Apr 11 2022 at 15:10)</a>:</h4>
<p>Yes, I guess I interpreted the question as whether we could have made rust the language not include unsafe rust</p>



<a name="278568346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278568346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278568346">(Apr 11 2022 at 15:10)</a>:</h4>
<p>Rather than whether the compiler has to have unsafe code, since there the answer is no if you‚Äôre willing to pay a large performance penalty</p>



<a name="278568393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278568393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278568393">(Apr 11 2022 at 15:10)</a>:</h4>
<p>We can always replace vec with safe singly linked lists or trees</p>



<a name="278568660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278568660" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278568660">(Apr 11 2022 at 15:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330154">The 8472</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278567554">said</a>:</p>
<blockquote>
<p>You didn't give a yes/no answer. So, do you mean just the <code>core</code> library or also the compiler?</p>
<p>If we exclude the compiler then this becomes trivial because all the use-of-unsafe (but not unsafe-to-use) things in core <em>could</em> be moved to the compiler via intrinsics and lang items. I acknowledge that this is a sleight of hand, but again, it depends on the precise meaning of your question, since the scope of "Rust" was not defined (remember, rust has no formal specification).</p>
</blockquote>
<p>It has no spec? What the fuck?</p>



<a name="278568817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278568817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278568817">(Apr 11 2022 at 15:13)</a>:</h4>
<p>No, rust has no specification, but then again few languages have anything resembling a formal specification</p>



<a name="278568938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278568938" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278568938">(Apr 11 2022 at 15:14)</a>:</h4>
<p>Rust may get one eventually‚Ñ¢ but there are still many open questions</p>



<a name="278568972"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278568972" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278568972">(Apr 11 2022 at 15:14)</a>:</h4>
<p>See the ‚Äúshould rust have strict provenance‚Äù discussions</p>



<a name="278569035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278569035" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278569035">(Apr 11 2022 at 15:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="312719">Xavier Denis</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278568346">said</a>:</p>
<blockquote>
<p>Rather than whether the compiler has to have unsafe code, since there the answer is no if you‚Äôre willing to pay a large performance penalty</p>
</blockquote>
<p>Vec is the only unsafe fundamental component? This seems closer to an answer, though I don't want to waste your time. Please note all of my comments here are literally only because you answered originally, making it possible that you might have an answer, and when it looks like you're merely waxing possibilities, I try to pare off that offshoot of thought so we can stay focused. It's the only way I minimize my effect on your life.</p>



<a name="278569140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278569140" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278569140">(Apr 11 2022 at 15:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="312719">Xavier Denis</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278568938">said</a>:</p>
<blockquote>
<p>Rust may get one eventually‚Ñ¢ but there are still many open questions</p>
</blockquote>
<p>I don't see how a language that is this old hasn't gotten that out of the way, yet. I wish the project was keeping track of how much time was actually spent on certain features.</p>



<a name="278569327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278569327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278569327">(Apr 11 2022 at 15:16)</a>:</h4>
<p>No, vec is not the only ‚Äúunsafe component‚Äù, the whole point of rust is to enable safe abstractions of unsafe code, encapsulating unsafe code behind observationally safe boundaries and that is what is proved possible in RustBelt</p>



<a name="278569505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278569505" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278569505">(Apr 11 2022 at 15:17)</a>:</h4>
<p>The short categories of code where you typically find unsafe are: </p>
<ul>
<li>collections where we need efficient allocation patterns not expressible in rust types</li>
<li>concurrency primitives</li>
<li>low-level system interfaces and ffi</li>
</ul>



<a name="278569621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278569621" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278569621">(Apr 11 2022 at 15:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="312719">Xavier Denis</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278569327">said</a>:</p>
<blockquote>
<p>No, vec is not the only ‚Äúunsafe component‚Äù, the whole point of rust is to enable safe abstractions of unsafe code, encapsulating unsafe code behind observationally safe boundaries and that is what is proved possible in RustBelt</p>
</blockquote>
<p>If the entire point of rust is to be unsafe, then why isn't that the first answer I get? Perhaps you don't mean to exactly use "point" in that situation?</p>



<a name="278569734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278569734" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278569734">(Apr 11 2022 at 15:18)</a>:</h4>
<p>That‚Äôs not the question you asked. You asked if it was possible to have rust with no unsafe code</p>



<a name="278569919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278569919" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278569919">(Apr 11 2022 at 15:20)</a>:</h4>
<p>The ability to actually abstract around unsafe code is absolutely a foundational feature of the rust type system</p>



<a name="278569935"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278569935" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278569935">(Apr 11 2022 at 15:20)</a>:</h4>
<p>So why did you respond with "the point is to use unsafe" if it wasn't an answer (because it isn't an answer) to "is it possible to have it without it?"</p>



<a name="278570013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278570013" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278570013">(Apr 11 2022 at 15:20)</a>:</h4>
<p>Seems like you have some default script you're following, to be fully frank, instead of just not answering if you don't care about my question.</p>



<a name="278570278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278570278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278570278">(Apr 11 2022 at 15:22)</a>:</h4>
<p>I‚Äôd like to remind you that this a community Zulip and to not make frankly demeaning allegations about other participants. Second, I don‚Äôt represent the Rust project in any official capacity, I just happen to do research on Rust</p>



<a name="278570364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278570364" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278570364">(Apr 11 2022 at 15:22)</a>:</h4>
<p>Finally, if you reread the thread you‚Äôll see that one of the first things said is that unsafe is necessary for FFI</p>



<a name="278570382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278570382" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278570382">(Apr 11 2022 at 15:23)</a>:</h4>
<p>How is it demeaning to say you don't give a fuck about me? You don't, and I don't expect you to. I'm as honest with you as I expect you to be honest with me, and that's how we can approach each other in these spaces.</p>



<a name="278570511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278570511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278570511">(Apr 11 2022 at 15:23)</a>:</h4>
<p>I didn't see any discussion (I was there, actually) regarding the "fundamental proof" of the unsafe being necessary for FFI: In fact, we talked about the exact opposite.</p>



<a name="278571939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278571939" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278571939">(Apr 11 2022 at 15:32)</a>:</h4>
<p>Rust does provide a safe surface using unsafe under the hood. With enough contortions most of these could possibly achieved without unsafe, but at a cost of performance or compiler complexity. Few people seem to cares about this possibility because it is not the goal of rust to be 100% free of <code>unsafe</code> statements even if it theoretically could be.  <code>unsafe</code> as part of the language anyway so that users  have the same ability to opt-out of those safety constraints because the ability of the borrow-checker and other safety nets reject programs that are in fact safe.</p>
<p>Any library can elect to not use unsafe in its own code via <code>#![forbid(unsafe_code)]</code>.</p>
<p>Also, <code>unsafe</code> does not mean rust is unsafe. It means the compiler cannot prove that it is safe and the responsibility lies with the programmer to keep it safe. It's still safe, unless the programmer makes a mistake. But then arguably he's not writing conformant Rust.</p>



<a name="278571980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278571980" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278571980">(Apr 11 2022 at 15:33)</a>:</h4>
<p>So <em>by definition</em> (if we had a spec) rust is always safe.</p>



<a name="278572424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278572424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Khionu Sybiern <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278572424">(Apr 11 2022 at 15:36)</a>:</h4>
<p>Hey Saddaminatrix, we try to embody an "assume good faith" here. The people here are making a strong effort to help you understand why Rust is safe, from what I can see. If there's something that is making you feel unwelcome, I'd encourage you to reach out to us (the Mods Team) here in DMs or via email (<a href="mailto:rust-mods@rust-lang.org">rust-mods@rust-lang.org</a>), rather than directly call people out, and we can figure out what is necessary to help you feel safe and welcomed.</p>



<a name="278572617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278572617" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278572617">(Apr 11 2022 at 15:37)</a>:</h4>
<p>I'm absolutely assuming good faith, but that's exactly why I'm trying to highlight when I see clear traps that are common in programming circles. An "unanswered" question is irritating to most programmers, so they often take shortcuts that they're unaware of to avoid the question going unanswered. I'm not saying anything regarding Xavier's character nor behavior when it comes to clarifying that I know he doesn't give a fuck; I'm genuinely saying "I know, you know, we all know, and it's okay to not respond."</p>



<a name="278572751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278572751" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278572751">(Apr 11 2022 at 15:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330154">The 8472</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278571939">said</a>:</p>
<blockquote>
<p>Rust does provide a safe surface using unsafe under the hood. With enough contortions most of these could possibly achieved without unsafe, but at a cost of performance or compiler complexity. Few people seem to cares about this possibility because it is not the goal of rust to be 100% free of <code>unsafe</code> statements even if it theoretically could be.  <code>unsafe</code> as part of the language anyway so that users  have the same ability to opt-out of those safety constraints because the ability of the borrow-checker and other safety nets reject programs that are in fact safe.</p>
<p>Any library can elect to not use unsafe in its own code via <code>#![forbid(unsafe_code)]</code>.</p>
<p>Also, <code>unsafe</code> does not mean rust is unsafe. It means the compiler cannot prove that it is safe and the responsibility lies with the programmer to keep it safe. It's still safe, unless the programmer makes a mistake. But then arguably he's not writing conformant Rust.</p>
</blockquote>
<p>At the end of the day, are you saying that you're unaware of any theoretical framework regarding safety that would let us actually settle the question?</p>



<a name="278572839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278572839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278572839">(Apr 11 2022 at 15:39)</a>:</h4>
<p>The compiler has a definition of safety, so I'd think we'd start with that definition and just see if it was possible to run code safely always, given any standards.</p>



<a name="278573360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278573360" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278573360">(Apr 11 2022 at 15:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278562844">said</a>:</p>
<blockquote>
<p>History is made through the solution of difficult problems. Why is it that most programmers have accepted a cultural shift that involves never touching nor approaching "hard problems?"<br>
Furthermore, I only asked if there was any proof. Are you saying no?</p>
</blockquote>
<p>rust already solves many difficult problems and is a practical improvement over the safety of its predecessors. this does not mean anybody has given up on solving the harder problems; only that progress is incremental.</p>
<p>and that was my overall point- there is no proof that rust <em>must</em> be implemented using unsafe, but what would that even look like? rust is what it is, there are <em>clearly</em> many other languages that take different approaches to the problem (both more and less rigorous), so your question isn't very interesting without more context.</p>



<a name="278574377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278574377" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278574377">(Apr 11 2022 at 15:49)</a>:</h4>
<blockquote>
<p>At the end of the day, are you saying that you're unaware of any theoretical framework regarding safety that would let us actually settle the question?</p>
</blockquote>
<p>Not quite. I'm saying that your question is not sufficiently detailed or precise. There is enough wiggle room to answer it one way or another, depending on assumptions which part of "Rust" is in scope, what we mean by "unsafe Rust" and maybe other things.</p>
<p>RustBelt has been mentioned. It's the most formal answer you'll get. Maybe the the <a href="https://github.com/rust-lang/miri">rust mir interpreter</a> is also of interest to you, it can catch many forms of undefined behavior. But neither sets out to answer your specific question.</p>



<a name="278574645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278574645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278574645">(Apr 11 2022 at 15:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278572839">said</a>:</p>
<blockquote>
<p>The compiler has a definition of safety, so I'd think we'd start with that definition and just see if it was possible to run code safely always, given any standards.</p>
</blockquote>
<p>this is a perfect example of why people want to dig deeper rather than just give a yes/no answer- the compiler's definition of safety is intentionally very simplistic, precisely because it was only ever designed to be useful in combination with libraries implemented using <code>unsafe</code></p>
<p>so again, you are going to have to be more detailed about what you would consider "rust but without unsafe." if you just remove unsafe from the language, and move a few things into the compiler, you can trivially get a language that does not use unsafe anywhere... but does that satisfy your criteria? it's certainly not very interesting imo</p>



<a name="278574676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278574676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278574676">(Apr 11 2022 at 15:51)</a>:</h4>
<p>I'm also saying that, depending on what exactly you're actually asking, answering it may not be all that useful because those answers might just consist of bending things into the shape required to give an answer, not what is practically useful. (Edit: This is pretty much what <span class="user-mention" data-user-id="117495">@rpjohnst</span> said above)</p>



<a name="278574681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278574681" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278574681">(Apr 11 2022 at 15:51)</a>:</h4>
<blockquote>
<p>I'm not saying anything regarding Xavier's character nor behavior when it comes to clarifying that I know he doesn't give a fuck; I'm genuinely saying "I know, you know, we all know, and it's okay to not respond."</p>
</blockquote>
<p>This will be my last comment on this specific point as I‚Äôm not interested in starting a flame war, but I am absolutely interested in your question and have made a best-effort attempt to understand what you‚Äôre getting at and answer it. </p>
<p>As a researcher of Rust, the role and presence of unsafe code is absolutely something I care about understanding</p>



<a name="278576870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278576870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278576870">(Apr 11 2022 at 16:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330154">The 8472</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278574377">said</a>:</p>
<blockquote>
<blockquote>
<p>At the end of the day, are you saying that you're unaware of any theoretical framework regarding safety that would let us actually settle the question?</p>
</blockquote>
<p>Not quite. I'm saying that your question is not sufficiently detailed or precise. There is enough wiggle room to answer it one way or another, depending on assumptions which part of "Rust" is in scope, what we mean by "unsafe Rust" and maybe other things.</p>
<p>RustBelt has been mentioned. It's the most formal answer you'll get. Maybe the the <a href="https://github.com/rust-lang/miri">rust mir interpreter</a> is also of interest to you, it can catch many forms of undefined behavior. But neither sets out to answer your specific question.</p>
</blockquote>
<p>Surely "Unsafe Rust" has a definition that can't be weaseled around, or else I don't see how we can ever claim anything is safe.</p>



<a name="278576984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278576984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278576984">(Apr 11 2022 at 16:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="117495">rpjohnst</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278574645">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278572839">said</a>:</p>
<blockquote>
<p>The compiler has a definition of safety, so I'd think we'd start with that definition and just see if it was possible to run code safely always, given any standards.</p>
</blockquote>
<p>this is a perfect example of why people want to dig deeper rather than just give a yes/no answer- the compiler's definition of safety is intentionally very simplistic, precisely because it was only ever designed to be useful in combination with libraries implemented using <code>unsafe</code></p>
<p>so again, you are going to have to be more detailed about what you would consider "rust but without unsafe." if you just remove unsafe from the language, and move a few things into the compiler, you can trivially get a language that does not use unsafe anywhere... but does that satisfy your criteria? it's certainly not very interesting imo</p>
</blockquote>
<p>This statement seems to imply that the concept itself is defined by the idea of unsafe, but that "it can't be defined" because safe and unsafe are so interrelated without any outside context.</p>



<a name="278577162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577162" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577162">(Apr 11 2022 at 16:08)</a>:</h4>
<p>no, i'm not saying that the concept is defined by the idea of unsafe, but that it has a very simplistic definition that would not let you write very many programs if you removed unsafe from the language entirely.</p>



<a name="278577342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577342">(Apr 11 2022 at 16:10)</a>:</h4>
<p>Perhaps that's the simplest question. Is safe Rust capable of performing all computational operations? After that, can a system safely implement all operations conceivable?</p>



<a name="278577397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577397" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577397">(Apr 11 2022 at 16:10)</a>:</h4>
<p>safe rust is turing complete, yes; the second question is extremely vague</p>



<a name="278577409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577409">(Apr 11 2022 at 16:10)</a>:</h4>
<p>The above question is only possible to conceive if "safe" has a definition, which is currently, to my understanding, simply "not unsafe," which does not make anything meaningful.</p>



<a name="278577424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577424">(Apr 11 2022 at 16:11)</a>:</h4>
<p>Being large in scope doesn't make it vague.</p>



<a name="278577436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577436">(Apr 11 2022 at 16:11)</a>:</h4>
<p>there are many conceivable operations that we have proven to be impossible, such as the halting problem</p>



<a name="278577444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577444">(Apr 11 2022 at 16:11)</a>:</h4>
<p>so yes, it is vague</p>



<a name="278577475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577475">(Apr 11 2022 at 16:11)</a>:</h4>
<p>"Many" doesn't mean "vague."</p>



<a name="278577491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577491">(Apr 11 2022 at 16:11)</a>:</h4>
<p>"All of reality" is well-defined.</p>



<a name="278577570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577570">(Apr 11 2022 at 16:12)</a>:</h4>
<p>then the answer is "no," but for reasons completely unrelated to safety and unsafety. surely that is not the sort of answer you are interested in?</p>



<a name="278577589"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577589" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577589">(Apr 11 2022 at 16:12)</a>:</h4>
<p>I would also argue that "the halting problem" is a concept, not an operation.</p>



<a name="278577630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577630">(Apr 11 2022 at 16:12)</a>:</h4>
<p>the halting problem is the problem of performing an operation, i.e. checking whether a program halts</p>



<a name="278577652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577652">(Apr 11 2022 at 16:12)</a>:</h4>
<p>In the context I presented, "operations" meant "computational operations." Rust determines that a certain subset of computational operations are indeed safe.</p>



<a name="278577706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577706">(Apr 11 2022 at 16:13)</a>:</h4>
<p>The halting problem is not the problem of checking whether _a_ program halts. It's the checking of if _any general program_ halts, to my understanding.</p>



<a name="278577722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577722" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577722">(Apr 11 2022 at 16:13)</a>:</h4>
<p>that is incorrect.</p>



<a name="278577726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577726" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577726">(Apr 11 2022 at 16:13)</a>:</h4>
<p>For many individual programs, we can guarantee their halting.</p>



<a name="278577833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577833" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577833">(Apr 11 2022 at 16:14)</a>:</h4>
<p>I entered into this sideshoot to demonstrate how easily programmers can distract and frustrate themselves by shooting off of the topic, just to make it painfully clear why I don't allow this in a conversation.</p>



<a name="278577839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577839">(Apr 11 2022 at 16:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278577652">said</a>:</p>
<blockquote>
<p>In the context I presented, "operations" meant "computational operations." Rust determines that a certain subset of computational operations are indeed safe.</p>
</blockquote>
<p>yes- and it intentionally leaves many computational operations out of that subset, because it's simply not worth the effort when they can be implemented using <code>unsafe</code> but wrapped in a safe API</p>



<a name="278577898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577898" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577898">(Apr 11 2022 at 16:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278577833">said</a>:</p>
<blockquote>
<p>I entered into this sideshoot to demonstrate how easily programmers can distract and frustrate themselves by shooting off of the topic, just to make it painfully clear why I don't allow this in a conversation.</p>
</blockquote>
<p>sigh... you are quibbling over phrasing and terminology, you have not demonstrated anything like that</p>



<a name="278577900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577900" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577900">(Apr 11 2022 at 16:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="117495">rpjohnst</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278577839">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278577652">said</a>:</p>
<blockquote>
<p>In the context I presented, "operations" meant "computational operations." Rust determines that a certain subset of computational operations are indeed safe.</p>
</blockquote>
<p>yes- and it intentionally leaves many computational operations out of that subset, because it's simply not worth the effort when they can be implemented using <code>unsafe</code> but wrapped in a safe API</p>
</blockquote>
<p>"It's simply not worth the effort," he says, despite this laziness leading us to where we are now, unable to deal with the question.</p>



<a name="278577940"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577940" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577940">(Apr 11 2022 at 16:15)</a>:</h4>
<p>your question has been answered several times</p>



<a name="278577974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577974" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577974">(Apr 11 2022 at 16:15)</a>:</h4>
<p>if you are not satisfied you will need to come up with a better question</p>



<a name="278577979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577979">(Apr 11 2022 at 16:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="117495">rpjohnst</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278577898">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278577833">said</a>:</p>
<blockquote>
<p>I entered into this sideshoot to demonstrate how easily programmers can distract and frustrate themselves by shooting off of the topic, just to make it painfully clear why I don't allow this in a conversation.</p>
</blockquote>
<p>sigh... you are quibbling over phrasing and terminology, you have not demonstrated anything like that</p>
</blockquote>
<p>It's not quibbling over phrasing and terminology; this was about a fundamental definition. That's not a quibble, and in order to read each other, we must come to terms.</p>



<a name="278577991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278577991" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Khionu Sybiern <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278577991">(Apr 11 2022 at 16:15)</a>:</h4>
<p>I don't think it's great to try and impose what is "allowed" in a conversation. Even as a moderator, I do that with extreme care.</p>



<a name="278578012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578012" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578012">(Apr 11 2022 at 16:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="117495">rpjohnst</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278577974">said</a>:</p>
<blockquote>
<p>if you are not satisfied you will need to come up with a better question</p>
</blockquote>
<p>Why use this language? A "better" question? You mean a different one, but you judged this so vitriolically that you're incapable of approaching it without hostility.</p>



<a name="278578070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578070">(Apr 11 2022 at 16:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252217">Khionu Sybiern</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278577991">said</a>:</p>
<blockquote>
<p>I don't think it's great to try and impose what is "allowed" in a conversation. Even as a moderator, I do that with extreme care.</p>
</blockquote>
<p>You believe in the power of moderation.</p>



<a name="278578094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578094" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578094">(Apr 11 2022 at 16:16)</a>:</h4>
<p>i've already described why i believe your question is deficient</p>



<a name="278578137"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578137" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578137">(Apr 11 2022 at 16:16)</a>:</h4>
<p>Many programmers who can't answer a question think it's their personal responsibility to answer it, despite themselves being too ignorant to answer it.</p>



<a name="278578146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578146">(Apr 11 2022 at 16:16)</a>:</h4>
<p>That isn't a personal deficiency. Don't call it that.</p>



<a name="278578160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578160">(Apr 11 2022 at 16:17)</a>:</h4>
<p>Students aren't idiots: They're students.</p>



<a name="278578173"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578173" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578173">(Apr 11 2022 at 16:17)</a>:</h4>
<p>?????</p>



<a name="278578212"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578212" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578212">(Apr 11 2022 at 16:17)</a>:</h4>
<p>nobody is talking about personal deficiency</p>



<a name="278578229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578229" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578229">(Apr 11 2022 at 16:17)</a>:</h4>
<p>That is such a toxic behavior. Never do that again and you'll be much better off.</p>



<a name="278578267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578267">(Apr 11 2022 at 16:17)</a>:</h4>
<p>A series of question marks only irritates both parties witnessing it.</p>



<a name="278578365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578365" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Khionu Sybiern <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578365">(Apr 11 2022 at 16:18)</a>:</h4>
<p>Ok, let's stop there, please, this isn't acceptable under our CoC.</p>



<a name="278578369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578369" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578369">(Apr 11 2022 at 16:18)</a>:</h4>
<p>Come back to this later; I'm pleading. Stop this destructive cycle.</p>



<a name="278578439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578439">(Apr 11 2022 at 16:19)</a>:</h4>
<p>What isn't acceptable? I'm not going to stop because of a user who can't emotionally regulate themselves, inserting themselves into the conversation only to get frustrated. It's entirely unfair to then insert your own self--it's the equivalent of the callout problem you incited earlier.</p>



<a name="278578504"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578504" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578504">(Apr 11 2022 at 16:19)</a>:</h4>
<p>We're already so far off topic--further demonstrating my point that you can't let someone wind themselves up when you ask high-level questions.</p>



<a name="278578530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578530" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Khionu Sybiern <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578530">(Apr 11 2022 at 16:19)</a>:</h4>
<p>I'd be happy to explain in DMs in 40 minutes, after my meeting</p>



<a name="278578554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578554" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578554">(Apr 11 2022 at 16:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278563349">said</a>:</p>
<blockquote>
<p>Why do you need FFI for syscalls? I thought syscalls were a matter of pushing the arguments onto the stack in reverse order and then issuing the "call" assembly instruction.</p>
</blockquote>
<p>The other option, is to use inline assembly, which is also unsafe.<br>
Of course, this only works on systems that have stable Syscall ABI (such as linux). Good luck maintaining for the BSDs, windows, MacOS, etc.</p>



<a name="278578632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578632" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578632">(Apr 11 2022 at 16:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="257758">Connor Horman</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278578554">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278563349">said</a>:</p>
<blockquote>
<p>Why do you need FFI for syscalls? I thought syscalls were a matter of pushing the arguments onto the stack in reverse order and then issuing the "call" assembly instruction.</p>
</blockquote>
<p>The other option, is to use inline assembly, which is also unsafe.<br>
Of course, this only works on systems that have stable Syscall ABI (such as linux). Good luck maintaining for the BSDs, windows, MacOS, etc.</p>
</blockquote>
<p>How is using inline assembly fundamentally unsafe?</p>



<a name="278578737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578737">(Apr 11 2022 at 16:21)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">foo</span><span class="p">(</span><span class="n">x</span>: <span class="kp">&amp;</span><span class="kt">i32</span><span class="p">){</span><span class="w"></span>
<span class="w">      </span><span class="fm">asm!</span><span class="p">(</span><span class="s">"mov dword ptr [rdi], 3"</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="s">"rdi"</span><span class="p">)</span><span class="w"> </span><span class="n">x</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="278578853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578853">(Apr 11 2022 at 16:22)</a>:</h4>
<p>That's using a specifically unsafe assembly instruction, right? The compiler could surely guarantee that operations, which are more than one instruction, are safe.</p>



<a name="278578886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578886" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578886">(Apr 11 2022 at 16:22)</a>:</h4>
<p>I'm not aware of any system that provides a provably-safe assembly interface. Maybe such a machine could be constructed. Maybe someone even did that. But rust does not limit itself to targeting only such machines.</p>



<a name="278578887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578887">(Apr 11 2022 at 16:22)</a>:</h4>
<p>inline assembly allows you to break the rules of the type system- you can fool the rest of the program into using a value with an invalid representation, or access memory whose lifetime has ended, etc. and the compiler is not able to prevent this in general</p>



<a name="278578888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578888" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578888">(Apr 11 2022 at 16:22)</a>:</h4>
<p>If it can't, then we have our answer: Assembly has to run, and assembly is unsafe, so all code, no matter if it's in unsafe or safe blocks, is unsafe.</p>



<a name="278578945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578945">(Apr 11 2022 at 16:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278578888">said</a>:</p>
<blockquote>
<p>If it can't, then we have our answer: Assembly has to run, and assembly is unsafe, so all code, no matter if it's in unsafe or safe blocks, is unsafe.</p>
</blockquote>
<p>this, however, is not correct- assembly can be proven correct in some contexts</p>



<a name="278578957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578957" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578957">(Apr 11 2022 at 16:22)</a>:</h4>
<p>Why can't the compiler verify that the assembly isn't fooling it? Seems like a failing of the compiler.</p>



<a name="278578979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578979">(Apr 11 2022 at 16:23)</a>:</h4>
<p>Assembly can be proven CORRECT, not SAFE.</p>



<a name="278578998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278578998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278578998">(Apr 11 2022 at 16:23)</a>:</h4>
<p>correctness and safety have a lot of overlap</p>



<a name="278579072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278579072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278579072">(Apr 11 2022 at 16:23)</a>:</h4>
<p>for example, consider that even a fully safe program is converted to assembly by the compiler</p>



<a name="278579077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278579077" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278579077">(Apr 11 2022 at 16:23)</a>:</h4>
<p>1) Analyzing assembly is <em>fun</em>. rustc treats the assembly block as an opaque operation.<br>
2) It can be non-obvious what instructions are safe and which are unsafe.<br>
Is <code>asm!("ud2");</code> unsafe?</p>



<a name="278579163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278579163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278579163">(Apr 11 2022 at 16:24)</a>:</h4>
<p>so yes it is a "failing" of the compiler that it doesn't check anything outside that set, but it is an intentional and pragmatic one</p>



<a name="278579231"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278579231" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278579231">(Apr 11 2022 at 16:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="117495">rpjohnst</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579163">said</a>:</p>
<blockquote>
<p>so yes it is a "failing" of the compiler that it doesn't check anything outside that set, but it is an intentional and pragmatic one</p>
</blockquote>
<p>Intentionally avoiding a provable safety, I presume.</p>



<a name="278579255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278579255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278579255">(Apr 11 2022 at 16:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="117495">rpjohnst</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278578998">said</a>:</p>
<blockquote>
<p>correctness and safety have a lot of overlap</p>
</blockquote>
<p>What exact overlap?</p>



<a name="278579433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278579433" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278579433">(Apr 11 2022 at 16:26)</a>:</h4>
<p>For that matter, is the following code safe:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">foo</span><span class="p">(</span><span class="n">x</span>: <span class="kp">&amp;</span><span class="p">[</span><span class="kt">i32</span><span class="p">]){</span><span class="w"></span>
<span class="w">    </span><span class="fm">asm!</span><span class="p">(</span><span class="s">"syscall"</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="s">"rax"</span><span class="p">)</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="s">"rdi"</span><span class="p">)</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="s">"rsi"</span><span class="p">)</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">as_ptr</span><span class="p">(),</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="s">"rdx"</span><span class="p">)</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">len</span><span class="p">());</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="278579446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278579446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278579446">(Apr 11 2022 at 16:26)</a>:</h4>
<p>safety simply means that the rules of the type system are followed; correctness typically includes safety but also includes additional properties that are specific to the domain</p>



<a name="278579585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278579585" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278579585">(Apr 11 2022 at 16:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579231">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="117495">rpjohnst</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579163">said</a>:</p>
<blockquote>
<p>so yes it is a "failing" of the compiler that it doesn't check anything outside that set, but it is an intentional and pragmatic one</p>
</blockquote>
<p>Intentionally avoiding a provable safety, I presume.</p>
</blockquote>
<p>yes, intentionally choosing to let library authors convince themselves that their unsafe code maintains safety, rather than pushing proofs all the way to the edges of the system</p>



<a name="278579734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278579734" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278579734">(Apr 11 2022 at 16:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579231">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="117495">rpjohnst</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579163">said</a>:</p>
<blockquote>
<p>so yes it is a "failing" of the compiler that it doesn't check anything outside that set, but it is an intentional and pragmatic one</p>
</blockquote>
<p>Intentionally avoiding a provable safety, I presume.</p>
</blockquote>
<p>Intentionally avoiding having to be a lexicon of<br>
1) Every single instruction in every single CPU ever,<br>
2) Every single system call on every single version of every single operating system,<br>
3) Every single library function on every single operating system,</p>



<a name="278579855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278579855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278579855">(Apr 11 2022 at 16:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="257758">Connor Horman</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579433">said</a>:</p>
<blockquote>
<p>For that matter, is the following code safe:</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">foo</span><span class="p">(</span><span class="n">x</span>: <span class="kp">&amp;</span><span class="p">[</span><span class="kt">i32</span><span class="p">]){</span><span class="w"></span>
<span class="w">    </span><span class="fm">asm!</span><span class="p">(</span><span class="s">"syscall"</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="s">"rax"</span><span class="p">)</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="s">"rdi"</span><span class="p">)</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="s">"rsi"</span><span class="p">)</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">as_ptr</span><span class="p">(),</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="s">"rdx"</span><span class="p">)</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">len</span><span class="p">());</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>
<p>Seems like a question for a compiler. All ASM is target-dependent. The next question that seems interesting, which doesn't seem touched, is still "is any assembly safe at all? Are there compositions of instructions that are actually safe?"</p>



<a name="278579870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278579870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278579870">(Apr 11 2022 at 16:29)</a>:</h4>
<p>Currently, Rust's "safe" term doesn't care about that.</p>



<a name="278579938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278579938" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278579938">(Apr 11 2022 at 16:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="117495">rpjohnst</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579585">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579231">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="117495">rpjohnst</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579163">said</a>:</p>
<blockquote>
<p>so yes it is a "failing" of the compiler that it doesn't check anything outside that set, but it is an intentional and pragmatic one</p>
</blockquote>
<p>Intentionally avoiding a provable safety, I presume.</p>
</blockquote>
<p>yes, intentionally choosing to let library authors convince themselves that their unsafe code maintains safety, rather than pushing proofs all the way to the edges of the system</p>
</blockquote>
<p>So we have no framework of determining that safety? Seems like an open and shut question.</p>



<a name="278580013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580013" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580013">(Apr 11 2022 at 16:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="257758">Connor Horman</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579734">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579231">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="117495">rpjohnst</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579163">said</a>:</p>
<blockquote>
<p>so yes it is a "failing" of the compiler that it doesn't check anything outside that set, but it is an intentional and pragmatic one</p>
</blockquote>
<p>Intentionally avoiding a provable safety, I presume.</p>
</blockquote>
<p>Intentionally avoiding having to be a lexicon of<br>
1) Every single instruction in every single CPU ever,<br>
2) Every single system call on every single version of every single operating system,<br>
3) Every single library function on every single operating system,</p>
</blockquote>
<p>Intentionally avoiding being right is a quick way to die.</p>



<a name="278580023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580023" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580023">(Apr 11 2022 at 16:30)</a>:</h4>
<blockquote>
<p>Why can't the compiler verify that the assembly isn't fooling it? Seems like a failing of the compiler.</p>
</blockquote>
<p>The compiler could try analyzing assembly. But if the goal is to have it safe that means the compiler would have to reject any program it fails to analyze. Together with the halting problem this means we need to reject lots of possible programs without knowing for sure that they're violating some requirement. This would limit the expressiveness of inline assembly.</p>
<p>So now the argument involves a hypothetical, extremely complex compiler making hypothetical tradeoffs that nobody has decided on.<br>
Which makes it pretty useless to argue about because it's so far removed from reality.</p>



<a name="278580104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580104" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580104">(Apr 11 2022 at 16:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330154">The 8472</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278580023">said</a>:</p>
<blockquote>
<blockquote>
<p>Why can't the compiler verify that the assembly isn't fooling it? Seems like a failing of the compiler.</p>
</blockquote>
<p>The compiler could try analyzing assembly. But if the goal is to have it safe that means the compiler would have to reject any program it fails to analyze. Together with the halting problem this means we need to reject lots of possible programs without knowing for sure that they're violating some requirement. This would limit the expressiveness of inline assembly.</p>
<p>So now the argument involves a hypothetical, extremely complex compiler making hypothetical tradeoffs that nobody has decided on.<br>
Which makes it pretty useless to argue about because it's so far removed from reality.</p>
</blockquote>
<p>I think you're fixating on the halting problem unnecessarily. What do you think makes it relevant?</p>



<a name="278580133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580133" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580133">(Apr 11 2022 at 16:31)</a>:</h4>
<p>You asked a computer-science question.</p>



<a name="278580139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580139" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580139">(Apr 11 2022 at 16:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278580013">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="257758">Connor Horman</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579734">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579231">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="117495">rpjohnst</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579163">said</a>:</p>
<blockquote>
<p>so yes it is a "failing" of the compiler that it doesn't check anything outside that set, but it is an intentional and pragmatic one</p>
</blockquote>
<p>Intentionally avoiding a provable safety, I presume.</p>
</blockquote>
<p>Intentionally avoiding having to be a lexicon of<br>
1) Every single instruction in every single CPU ever,<br>
2) Every single system call on every single version of every single operating system,<br>
3) Every single library function on every single operating system,</p>
</blockquote>
<p>Intentionally avoiding being right is a quick way to die.</p>
</blockquote>
<p>we do have a framework for determining that safety- it is simply not checked by the compiler</p>



<a name="278580168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580168" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580168">(Apr 11 2022 at 16:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330154">The 8472</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278580023">said</a>:</p>
<blockquote>
<blockquote>
<p>Why can't the compiler verify that the assembly isn't fooling it? Seems like a failing of the compiler.</p>
</blockquote>
<p>The compiler could try analyzing assembly. But if the goal is to have it safe that means the compiler would have to reject any program it fails to analyze. Together with the halting problem this means we need to reject lots of possible programs without knowing for sure that they're violating some requirement. This would limit the expressiveness of inline assembly.</p>
<p>So now the argument involves a hypothetical, extremely complex compiler making hypothetical tradeoffs that nobody has decided on.<br>
Which makes it pretty useless to argue about because it's so far removed from reality.</p>
</blockquote>
<p>Not only that, it would have to know every single thing about the current system - even things that aren't documented.</p>



<a name="278580177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580177" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580177">(Apr 11 2022 at 16:31)</a>:</h4>
<p>It isn't removed from reality any more than an operator with infinitely long tape, or a machine with infinitely much memory.</p>



<a name="278580297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580297" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580297">(Apr 11 2022 at 16:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="117495">rpjohnst</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278580139">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579938">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="117495">rpjohnst</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278579585">said</a>:<br>
yes, intentionally choosing to let library authors convince themselves that their unsafe code maintains safety, rather than pushing proofs all the way to the edges of the system</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">So</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">framework</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">determining</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">safety</span><span class="o">?</span><span class="w"> </span><span class="n">Seems</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">shut</span><span class="w"> </span><span class="n">question</span><span class="p">.</span><span class="w"></span>
<span class="err">``````</span><span class="w"></span>
<span class="n">we</span><span class="w"> </span><span class="kr">do</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">framework</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">determining</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">safety</span><span class="o">-</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">simply</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">checked</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compiler</span><span class="w"></span>
<span class="err">```````</span><span class="w"></span>
<span class="n">What</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">framework</span><span class="p">,</span><span class="w"> </span><span class="n">then</span><span class="o">?</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">compiler</span><span class="w"> </span><span class="n">can</span><span class="o">'</span><span class="na">t</span><span class="w"> </span><span class="n">analyze</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">assembly</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">outputs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">claim</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">safe</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="o">?</span><span class="w"></span>
</code></pre></div>
</blockquote>
</blockquote>



<a name="278580326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580326">(Apr 11 2022 at 16:32)</a>:</h4>
<p>On windows: rustc has basically no way to determine what <code>syscall</code> with <code>eax</code>=<code>1</code> does.</p>



<a name="278580387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580387">(Apr 11 2022 at 16:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="257758">Connor Horman</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278580326">said</a>:</p>
<blockquote>
<p>On windows: rustc has basically no way to determine what <code>syscall</code> with <code>eax</code>=<code>1</code> does.</p>
</blockquote>
<p>That's a failing of Windows, of which there are countless.</p>



<a name="278580407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580407" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580407">(Apr 11 2022 at 16:32)</a>:</h4>
<p>The framework is <code>unsafe</code>: Where the user claims to uphold safety.</p>



<a name="278580418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580418">(Apr 11 2022 at 16:32)</a>:</h4>
<p>the framework is, for example, checkable by Miri</p>



<a name="278580422"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580422" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580422">(Apr 11 2022 at 16:32)</a>:</h4>
<p>Not even Microsoft knows what will happen, typically.</p>



<a name="278580425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580425" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580425">(Apr 11 2022 at 16:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="493449">Saddaminatrix Hussein</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278580387">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="257758">Connor Horman</span> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278580326">said</a>:</p>
<blockquote>
<p>On windows: rustc has basically no way to determine what <code>syscall</code> with <code>eax</code>=<code>1</code> does.</p>
</blockquote>
<p>That's a failing of Windows, of which there are countless.</p>
</blockquote>
<p>Not just windows.</p>



<a name="278580455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580455" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580455">(Apr 11 2022 at 16:33)</a>:</h4>
<p>"Not just the nazis hate the jews, you know."</p>



<a name="278580469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580469">(Apr 11 2022 at 16:33)</a>:</h4>
<p>you may be interested in <a href="https://en.wikipedia.org/wiki/Rice%27s_theorem">https://en.wikipedia.org/wiki/Rice%27s_theorem</a></p>



<a name="278580474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580474" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saddaminatrix Hussein <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580474">(Apr 11 2022 at 16:33)</a>:</h4>
<p>No, but the nazis sure are a notable example that we shouldn't minimize by saying otherwise.</p>



<a name="278580491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580491">(Apr 11 2022 at 16:33)</a>:</h4>
<p>?!??!</p>



<a name="278580514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rpjohnst <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580514">(Apr 11 2022 at 16:33)</a>:</h4>
<p>um</p>



<a name="278580515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580515" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580515">(Apr 11 2022 at 16:33)</a>:</h4>
<p>how did you get onto nazis</p>



<a name="278580548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Connor Horman <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580548">(Apr 11 2022 at 16:33)</a>:</h4>
<p>@_<strong>Saddaminatrix Hussein|493449</strong> <a href="#narrow/stream/122651-general/topic/Core.20Safety/near/278580455">said</a>:</p>
<blockquote>
<p>"Not just the nazis hate the jews, you know."</p>
</blockquote>
<p>I fail to see how that's relevant, necessary, or warrented.</p>



<a name="278580605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Core%20Safety/near/278580605" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Core.20Safety.html#278580605">(Apr 11 2022 at 16:34)</a>:</h4>
<p>The discussion seems to be getting... less sophisticated and the quoted-text-to-reply ratio is pretty bad too. This isn't fun anymore.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>