<html>
<head><meta charset="utf-8"><title>✔ Incremental compilation error on beta 1.59 (beta.5) · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Incremental.20compilation.20error.20on.20beta.201.2E59.20(beta.2E5).html">✔ Incremental compilation error on beta 1.59 (beta.5)</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="270611803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Incremental%20compilation%20error%20on%20beta%201.59%20%28beta.5%29/near/270611803" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Incremental.20compilation.20error.20on.20beta.201.2E59.20(beta.2E5).html#270611803">(Feb 03 2022 at 20:22)</a>:</h4>
<p>Thanks, I can reproduce it</p>



<a name="270611827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Incremental%20compilation%20error%20on%20beta%201.59%20%28beta.5%29/near/270611827" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Incremental.20compilation.20error.20on.20beta.201.2E59.20(beta.2E5).html#270611827">(Feb 03 2022 at 20:22)</a>:</h4>
<p><span class="user-mention" data-user-id="280891">@Frank Steffahn</span> I see your test in on a beta. I see a similar error at that line</p>
<div class="codehilite"><pre><span></span><code>&#39;no entry found for key&#39;, compiler/rustc_metadata/src/rmeta/decoder.rs:1617:13
</code></pre></div>
<p>in a couple of issues<br>
<a href="https://github.com/rust-lang/rust/issues?q=is%3Aissue+rustc_metadata%2Fsrc%2Frmeta%2Fdecoder.rs">https://github.com/rust-lang/rust/issues?q=is%3Aissue+rustc_metadata%2Fsrc%2Frmeta%2Fdecoder.rs</a></p>



<a name="270611876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Incremental%20compilation%20error%20on%20beta%201.59%20%28beta.5%29/near/270611876" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Incremental.20compilation.20error.20on.20beta.201.2E59.20(beta.2E5).html#270611876">(Feb 03 2022 at 20:22)</a>:</h4>
<p>some of them are closed by <a href="https://github.com/rust-lang/rust/issues/92533">#92533</a><br>
(not sure if it helps, though)</p>



<a name="270611905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Incremental%20compilation%20error%20on%20beta%201.59%20%28beta.5%29/near/270611905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Incremental.20compilation.20error.20on.20beta.201.2E59.20(beta.2E5).html#270611905">(Feb 03 2022 at 20:23)</a>:</h4>
<p>Looking at the backtrace, this is already fixed by <a href="https://github.com/rust-lang/rust/pull/92533">https://github.com/rust-lang/rust/pull/92533</a></p>



<a name="270611923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Incremental%20compilation%20error%20on%20beta%201.59%20%28beta.5%29/near/270611923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Incremental.20compilation.20error.20on.20beta.201.2E59.20(beta.2E5).html#270611923">(Feb 03 2022 at 20:23)</a>:</h4>
<p>the next bootstrap bump will pull that in</p>



<a name="270612861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Incremental%20compilation%20error%20on%20beta%201.59%20%28beta.5%29/near/270612861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Incremental.20compilation.20error.20on.20beta.201.2E59.20(beta.2E5).html#270612861">(Feb 03 2022 at 20:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="280891">Frank Steffahn</span> has marked this topic as resolved.</p>



<a name="270612985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Incremental%20compilation%20error%20on%20beta%201.59%20%28beta.5%29/near/270612985" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Incremental.20compilation.20error.20on.20beta.201.2E59.20(beta.2E5).html#270612985">(Feb 03 2022 at 20:30)</a>:</h4>
<p><span class="user-mention" data-user-id="125294">@Aaron Hill</span> perfect, thanks :-)</p>



<a name="270632905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Incremental%20compilation%20error%20on%20beta%201.59%20%28beta.5%29/near/270632905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Incremental.20compilation.20error.20on.20beta.201.2E59.20(beta.2E5).html#270632905">(Feb 03 2022 at 23:10)</a>:</h4>
<p><span class="user-mention" data-user-id="125294">@Aaron Hill</span> <span class="user-mention" data-user-id="250987">@apiraino</span> I’m repeatedly running into this kind of ICE… do you perhaps happen to know if there’s any less time-intensive workaround besides executing <code>./x.py clean</code>?</p>



<a name="270633424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Incremental%20compilation%20error%20on%20beta%201.59%20%28beta.5%29/near/270633424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Incremental.20compilation.20error.20on.20beta.201.2E59.20(beta.2E5).html#270633424">(Feb 03 2022 at 23:14)</a>:</h4>
<p><code>rm -r build/&lt;arch&gt;/stage&lt;something&gt;</code>?</p>



<a name="270633469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Incremental%20compilation%20error%20on%20beta%201.59%20%28beta.5%29/near/270633469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Incremental.20compilation.20error.20on.20beta.201.2E59.20(beta.2E5).html#270633469">(Feb 03 2022 at 23:15)</a>:</h4>
<p>maybe even just an incremntal subdir</p>



<a name="270634647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Incremental%20compilation%20error%20on%20beta%201.59%20%28beta.5%29/near/270634647" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Incremental.20compilation.20error.20on.20beta.201.2E59.20(beta.2E5).html#270634647">(Feb 03 2022 at 23:25)</a>:</h4>
<p><span class="user-mention" data-user-id="330154">@The 8472</span>  hmm, that seems like a plausible approach; I’ll try that tomorrow when I’ll – most likely – run into it again :-)</p>



<a name="270659350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Incremental%20compilation%20error%20on%20beta%201.59%20%28beta.5%29/near/270659350" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Incremental.20compilation.20error.20on.20beta.201.2E59.20(beta.2E5).html#270659350">(Feb 04 2022 at 02:21)</a>:</h4>
<p>Deleting the specific incremental subdir for the crate has worked for me in the past</p>



<a name="270770829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Incremental%20compilation%20error%20on%20beta%201.59%20%28beta.5%29/near/270770829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Incremental.20compilation.20error.20on.20beta.201.2E59.20(beta.2E5).html#270770829">(Feb 04 2022 at 20:50)</a>:</h4>
<p>Tried it now, deleting the relevant folder works so well that I’m questioning why cargo can’t offer to do this automatically for “incremental-compilation-looking” ICEs (or maybe for ICEs in general if there’s no way to tell).</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>