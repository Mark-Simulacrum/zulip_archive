<html>
<head><meta charset="utf-8"><title>compiler bootstrap help · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html">compiler bootstrap help</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="237781011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237781011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> vramana <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237781011">(May 07 2021 at 07:44)</a>:</h4>
<p>I am trying to build the master branch and I am hitting segfault while building LLVM. <a href="/user_uploads/4715/MZqUX9viCg2x1aKMBIwnk92c/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/MZqUX9viCg2x1aKMBIwnk92c/image.png" title="image.png"><img src="/user_uploads/4715/MZqUX9viCg2x1aKMBIwnk92c/image.png"></a></div>



<a name="237783289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237783289" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> vramana <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237783289">(May 07 2021 at 08:04)</a>:</h4>
<p>I was using GCC. So I tried to switching to CLANG. I have it another seg fault <a href="/user_uploads/4715/zB48ZHE5kVPUZTVRGAqARpY7/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/zB48ZHE5kVPUZTVRGAqARpY7/image.png" title="image.png"><img src="/user_uploads/4715/zB48ZHE5kVPUZTVRGAqARpY7/image.png"></a></div>



<a name="237789073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237789073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237789073">(May 07 2021 at 08:56)</a>:</h4>
<p>If Both GCC and Clang crash with SIGSEGV, I would expect the problem to either be faulty ram or a corrupted system library. It is highly unlikely that both compilers have a bug that shows up on a widely used project.</p>



<a name="237789086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237789086" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237789086">(May 07 2021 at 08:56)</a>:</h4>
<p><span class="user-mention" data-user-id="118280">@Venkata Ramana</span></p>



<a name="237789594"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237789594" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> vramana <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237789594">(May 07 2021 at 09:01)</a>:</h4>
<p><span class="user-mention" data-user-id="133247">@bjorn3</span> I had a very old clone of rust repo. I was trying to build from it. I am doing to fresh clone now and will try to build it.</p>



<a name="237796413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237796413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> vramana <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237796413">(May 07 2021 at 10:02)</a>:</h4>
<p><a href="/user_uploads/4715/Vs1gecjQhjfBTkylIVzfU4lM/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/4715/Vs1gecjQhjfBTkylIVzfU4lM/image.png" title="image.png"><img src="/user_uploads/4715/Vs1gecjQhjfBTkylIVzfU4lM/image.png"></a></div><p>After fresh clone, I am trying to build stage 0 and  I am hitting this error.</p>



<a name="237797549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237797549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> vramana <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237797549">(May 07 2021 at 10:10)</a>:</h4>
<p>Even after using git cli for cargo I am hitting the same error <a href="/user_uploads/4715/9_x7s96UhFjN2seZtBTXGU1w/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/9_x7s96UhFjN2seZtBTXGU1w/image.png" title="image.png"><img src="/user_uploads/4715/9_x7s96UhFjN2seZtBTXGU1w/image.png"></a></div>



<a name="237801227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237801227" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237801227">(May 07 2021 at 10:45)</a>:</h4>
<p>Can you access <a href="https://github.com/bytecodealliance/wasmtime/">https://github.com/bytecodealliance/wasmtime/</a> in the browser?</p>



<a name="237801282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237801282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237801282">(May 07 2021 at 10:45)</a>:</h4>
<p>And can you clone it manually using <code>git clone https://github.com/bytecodealliance/wasmtime/</code>?</p>



<a name="237801477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237801477" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> vramana <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237801477">(May 07 2021 at 10:47)</a>:</h4>
<p><a href="/user_uploads/4715/4GvkjmcvRqK7Oj0_IkT8Cqlv/image.png">image.png</a> Seems like extra slash is giving issues.</p>
<div class="message_inline_image"><a href="/user_uploads/4715/4GvkjmcvRqK7Oj0_IkT8Cqlv/image.png" title="image.png"><img src="/user_uploads/4715/4GvkjmcvRqK7Oj0_IkT8Cqlv/image.png"></a></div>



<a name="237801499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237801499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> vramana <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237801499">(May 07 2021 at 10:47)</a>:</h4>
<p>Yes, I can access it in browser</p>



<a name="237801602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237801602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237801602">(May 07 2021 at 10:48)</a>:</h4>
<p><code>git clone https://github.com/bytecodealliance/wasmtime.git</code> works too, right?</p>



<a name="237801704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237801704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> vramana <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237801704">(May 07 2021 at 10:49)</a>:</h4>
<p>Yes</p>



<a name="237802157"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237802157" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237802157">(May 07 2021 at 10:54)</a>:</h4>
<p>The issue is with compiling cg_clif of which I am the author. It is developed in <a href="https://github.com/bjorn3/rustc_codegen_cranelift">https://github.com/bjorn3/rustc_codegen_cranelift</a>. Once in a while I sync it to the main rust repo. I will push a fix to <a href="https://github.com/bjorn3/rustc_codegen_cranelift">https://github.com/bjorn3/rustc_codegen_cranelift</a>. Are you <code>@vramana</code> on github? The last sync was only a couple of days ago, so I think I will wait with a new sync until there are some more changes.</p>



<a name="237802844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237802844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237802844">(May 07 2021 at 11:00)</a>:</h4>
<p><span class="user-mention" data-user-id="118280">@Venkata Ramana</span></p>



<a name="237807236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237807236" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> vramana <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237807236">(May 07 2021 at 11:35)</a>:</h4>
<p><span class="user-mention" data-user-id="133247">@bjorn3</span> Yes my username is <code>@vramana</code></p>



<a name="237810705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237810705" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237810705">(May 07 2021 at 12:03)</a>:</h4>
<p>Pushed it.</p>



<a name="237818538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237818538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> vramana <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237818538">(May 07 2021 at 13:03)</a>:</h4>
<p>Am I stuck with this error until main rust repo is updated?</p>



<a name="237821681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237821681" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237821681">(May 07 2021 at 13:24)</a>:</h4>
<p>it seems weird this only happens for you - do you have an old version of git or something?</p>



<a name="237826122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237826122" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> vramana <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237826122">(May 07 2021 at 13:52)</a>:</h4>
<p><a href="/user_uploads/4715/HDNYsqEbftHZyet6NKNt5xAA/image.png">image.png</a> I am on the latest git</p>
<div class="message_inline_image"><a href="/user_uploads/4715/HDNYsqEbftHZyet6NKNt5xAA/image.png" title="image.png"><img src="/user_uploads/4715/HDNYsqEbftHZyet6NKNt5xAA/image.png"></a></div>



<a name="237826542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/compiler%20bootstrap%20help/near/237826542" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hyd-dev <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/compiler.20bootstrap.20help.html#237826542">(May 07 2021 at 13:55)</a>:</h4>
<p>Maybe a <code>url.....insteadof=https://github.com/</code> config?</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>