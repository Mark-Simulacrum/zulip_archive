<html>
<head><meta charset="utf-8"><title>x.py defaults · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html">x.py defaults</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="212197513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212197513" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212197513">(Oct 04 2020 at 00:33)</a>:</h4>
<p>Is there a reason that many of the <code>x.py</code> flags are set commented out as the<br>
default being used regardless? Mostly these are the <code>true</code>/<code>false</code> settings.</p>



<a name="212197596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212197596" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212197596">(Oct 04 2020 at 00:35)</a>:</h4>
<p>For example we have <code>#ninja = true</code> even though that is the default, why not<br>
have <code>#ninja = false</code> and just remove the <code>#</code> to switch to new behavior?</p>



<a name="212198919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212198919" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212198919">(Oct 04 2020 at 01:09)</a>:</h4>
<p>The advantage is that it shows you what it is currently set to. I prefer it showing the default; it's more intuitive to me that it would show what it is currently set to.</p>



<a name="212198977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212198977" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212198977">(Oct 04 2020 at 01:10)</a>:</h4>
<p>And how would it work if there were multiple options, e.g. for <code>targets</code>?</p>



<a name="212198999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212198999" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212198999">(Oct 04 2020 at 01:11)</a>:</h4>
<p>even more confusingly, some of them <em>are</em> suggested settings instead of the defaults, and it's hard to tell which are which without reading the descriptions in detail. I've been meaning to go through and change them.</p>



<a name="212199240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199240" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199240">(Oct 04 2020 at 01:19)</a>:</h4>
<p>When you copy the config over its might stay around in that state for a long time across many changes to the code base.</p>



<a name="212199248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199248" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199248">(Oct 04 2020 at 01:19)</a>:</h4>
<p>right, this is one of the reasons I pushed for <code>x.py setup</code> instead which doesn't copy the whole file</p>



<a name="212199249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199249" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199249">(Oct 04 2020 at 01:19)</a>:</h4>
<p>e.g. my config.toml is probably many years old at this point and so some of the defaults have since changed, some of the options got removed, and some others were added.</p>



<a name="212199254"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199254" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199254">(Oct 04 2020 at 01:19)</a>:</h4>
<p>that way .example stays up to date and you still keep reasonable defaults</p>



<a name="212199294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199294" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199294">(Oct 04 2020 at 01:20)</a>:</h4>
<p>it being commented out kind of signals to me at least that those were the defaults at the time I copied the toml out.</p>



<a name="212199308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199308" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199308">(Oct 04 2020 at 01:21)</a>:</h4>
<p>it also helps with quickly finding what I did in fact change from the defaults.</p>



<a name="212199414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199414" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Poliorcetics <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199414">(Oct 04 2020 at 01:24)</a>:</h4>
<p>The kitty terminal has a nice syntax for defaults/suggestions</p>



<a name="212199424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199424" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Poliorcetics <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199424">(Oct 04 2020 at 01:25)</a>:</h4>
<p>Defaults are ˋ# var valueˋ and suggestions are ˋ#:    var valueˋ</p>



<a name="212199464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199464" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199464">(Oct 04 2020 at 01:26)</a>:</h4>
<p>that sounds kind of nice</p>



<a name="212199467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199467" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199467">(Oct 04 2020 at 01:26)</a>:</h4>
<p>although I'm worried if we have both it will make .example even more intimidating</p>



<a name="212199617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199617" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Poliorcetics <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199617">(Oct 04 2020 at 01:30)</a>:</h4>
<p>Hum, spacing is eaten by the app</p>



<a name="212199624"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199624" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Poliorcetics <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199624">(Oct 04 2020 at 01:31)</a>:</h4>
<p>I’ll link an example file, it will be easier</p>



<a name="212199671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199671" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Poliorcetics <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199671">(Oct 04 2020 at 01:32)</a>:</h4>
<p><a href="https://github.com/poliorcetics/dotfiles/blob/master/kitty/kitty.conf">https://github.com/poliorcetics/dotfiles/blob/master/kitty/kitty.conf</a></p>



<a name="212199683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199683" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199683">(Oct 04 2020 at 01:32)</a>:</h4>
<p>also I kind of think if we're suggesting it, it should be machine applicable by going in <code>src/bootstrap/defaults/</code> somewhere</p>



<a name="212199834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199834" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199834">(Oct 04 2020 at 01:37)</a>:</h4>
<div class="codehilite" data-code-language="markdown"><pre><span></span><code><span class="gh"># Default is`false`.</span>
<span class="gh">#skip-rebuild = true</span>
</code></pre></div>



<a name="212199963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199963" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199963">(Oct 04 2020 at 01:41)</a>:</h4>
<p>There is also the updating of the shebang to <code>python3</code></p>



<a name="212199968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212199968" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212199968">(Oct 04 2020 at 01:41)</a>:</h4>
<p>that broke windows <a href="https://github.com/rust-lang/rust/pull/71841#issuecomment-623108800">https://github.com/rust-lang/rust/pull/71841#issuecomment-623108800</a></p>



<a name="212200016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200016" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200016">(Oct 04 2020 at 01:42)</a>:</h4>
<p>It's been eol since january!</p>



<a name="212200024"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200024" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200024">(Oct 04 2020 at 01:43)</a>:</h4>
<p>realistically I think <code>cargo run -- build library/std</code> is more feasible than getting all platforms to agree on a version of python lol</p>



<a name="212200029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200029" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200029">(Oct 04 2020 at 01:43)</a>:</h4>
<p><a href="#narrow/stream/131828-t-compiler/topic/RIIR.20contributor.20entry.20point">https://rust-lang.zulipchat.com/#narrow/stream/131828-t-compiler/topic/RIIR.20contributor.20entry.20point</a></p>



<a name="212200076"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200076" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200076">(Oct 04 2020 at 01:44)</a>:</h4>
<p>that would also have the benefit of not needing to install python in the first place</p>



<a name="212200079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200079" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200079">(Oct 04 2020 at 01:44)</a>:</h4>
<p>My distro doesn't have <code>python</code> anymore</p>



<a name="212200087"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200087" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200087">(Oct 04 2020 at 01:45)</a>:</h4>
<p>It will always need a python just not <code>python</code></p>



<a name="212200090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200090" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200090">(Oct 04 2020 at 01:45)</a>:</h4>
<p>are you on ubuntu? you can install <code>python-is-python3</code></p>



<a name="212200093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200093" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200093">(Oct 04 2020 at 01:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281739">Oliver</span> <a href="#narrow/stream/122651-general/topic/x.2Epy.20defaults/near/212200087">said</a>:</p>
<blockquote>
<p>It will always need a python just not <code>python</code></p>
</blockquote>
<p>well, not <em>necessarily</em>, just currently</p>



<a name="212200096"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200096" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200096">(Oct 04 2020 at 01:45)</a>:</h4>
<p>the only thing the python entrypoint does that rustbuild <em>can't</em> do is update submodules for you</p>



<a name="212200139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200139" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200139">(Oct 04 2020 at 01:46)</a>:</h4>
<p>since cargo requires all Cargo.toml files to be present even if they're unused</p>



<a name="212200151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200151" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200151">(Oct 04 2020 at 01:46)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/76544#issuecomment-693110745">https://github.com/rust-lang/rust/pull/76544#issuecomment-693110745</a></p>



<a name="212200156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200156" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200156">(Oct 04 2020 at 01:46)</a>:</h4>
<p>I meant "it" as my distro which has <code>perl</code> fwiw <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="212200349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200349" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200349">(Oct 04 2020 at 01:52)</a>:</h4>
<p>The discussion about integrating everything into a <code>cargo build</code> styled process<br>
was very interesting, I should revisit it for review</p>



<a name="212200356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200356" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200356">(Oct 04 2020 at 01:52)</a>:</h4>
<p>rust-analyzer uses something like that I think</p>



<a name="212200359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/x.py%20defaults/near/212200359" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/x.2Epy.20defaults.html#212200359">(Oct 04 2020 at 01:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="133169">matklad</span> and <span class="user-mention silent" data-user-id="224471">Lokathor</span> suggested it to start I think</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>