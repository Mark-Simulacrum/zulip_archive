<html>
<head><meta charset="utf-8"><title>automatic versioning · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/automatic.20versioning.html">automatic versioning</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="266428347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/automatic%20versioning/near/266428347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> regis portalez <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/automatic.20versioning.html#266428347">(Dec 30 2021 at 13:26)</a>:</h4>
<p>Hi, I maintain a project which becomes larger and larger (15 libs in a workspace). Several other projects (services and so on) depend on these libs. Until now, we rely on git to manage dependencies, which is quite painful, since modifying a lib requires a modification in all dependent projects to change commit hash. <br>
Instead of that, we are trying to switch to a private crate registry (we will probably move to <a href="http://crates.io">crates.io</a> eventually). I would like to manage versioning automatically, so each push on master branch would set packages build number (CARGO_VERSION_PATCH) and publish (crate and documentation) to our crate registry. <br>
MAJOR and MINOR version would require manual changes (since it is breaking changes or functionality addition), but dependent packages would just specify version = "MAJOR.MINOR.*". <br>
Is there any cargo-compatible-state-of-the-art way to do that, or should I create my own scripts based on environment variables, env substitution in cargo.toml files and so on ? <br>
Thanks for you help</p>



<a name="266439261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/automatic%20versioning/near/266439261" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eh2406 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/automatic.20versioning.html#266439261">(Dec 30 2021 at 16:13)</a>:</h4>
<p><a href="https://crates.io/crates/cargo-smart-release">https://crates.io/crates/cargo-smart-release</a> mabe?</p>



<a name="266503056"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/automatic%20versioning/near/266503056" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> regis portalez <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/automatic.20versioning.html#266503056">(Dec 31 2021 at 13:18)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="120179">@Eh2406</span> that's what i was looking for</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>