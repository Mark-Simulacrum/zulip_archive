<html>
<head><meta charset="utf-8"><title>Asking a library to mutate Rust source code · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Asking.20a.20library.20to.20mutate.20Rust.20source.20code.html">Asking a library to mutate Rust source code</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="276413216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Asking%20a%20library%20to%20mutate%20Rust%20source%20code/near/276413216" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sfzhu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Asking.20a.20library.20to.20mutate.20Rust.20source.20code.html#276413216">(Mar 23 2022 at 22:59)</a>:</h4>
<p>I want to start a project that needs to mutate a Rust source code file. I hope I can find a library that takes a rust source code file as input, and generate a mutated source code file as output. My current consideration is to extract some code from rustc or rust-analyzer, but neither seems to be straightforward. <br>
Any better suggestions, or there are some submodules from these two projects I can make use of?</p>



<a name="276416748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Asking%20a%20library%20to%20mutate%20Rust%20source%20code/near/276416748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Asking.20a.20library.20to.20mutate.20Rust.20source.20code.html#276416748">(Mar 23 2022 at 23:38)</a>:</h4>
<p>what are you actually trying to do?</p>



<a name="276416754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Asking%20a%20library%20to%20mutate%20Rust%20source%20code/near/276416754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Asking.20a.20library.20to.20mutate.20Rust.20source.20code.html#276416754">(Mar 23 2022 at 23:38)</a>:</h4>
<p>what modification are you making?</p>



<a name="276523346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Asking%20a%20library%20to%20mutate%20Rust%20source%20code/near/276523346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Asking.20a.20library.20to.20mutate.20Rust.20source.20code.html#276523346">(Mar 24 2022 at 18:48)</a>:</h4>
<p>I would use <code>syn</code> directly</p>



<a name="276523910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Asking%20a%20library%20to%20mutate%20Rust%20source%20code/near/276523910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lukas Wirth <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Asking.20a.20library.20to.20mutate.20Rust.20source.20code.html#276523910">(Mar 24 2022 at 18:53)</a>:</h4>
<p>note that rust analyzer publishes its crates on <a href="http://crates.io">crates.io</a> as libraries as well, we just don't have stability guruantees, so you can use the parser and syntax crates there as well</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>