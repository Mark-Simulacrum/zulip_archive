<html>
<head><meta charset="utf-8"><title>What is the point of `x.py build --dry-run`? · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/What.20is.20the.20point.20of.20.60x.2Epy.20build.20--dry-run.60.3F.html">What is the point of `x.py build --dry-run`?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="247088747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/What%20is%20the%20point%20of%20%60x.py%20build%20--dry-run%60%3F/near/247088747" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/What.20is.20the.20point.20of.20.60x.2Epy.20build.20--dry-run.60.3F.html#247088747">(Jul 24 2021 at 19:14)</a>:</h4>
<p>It doesn't actually do anything it seems like? It neither tells you what will be executed nor performs any step of the build.</p>



<a name="247088998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/What%20is%20the%20point%20of%20%60x.py%20build%20--dry-run%60%3F/near/247088998" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/What.20is.20the.20point.20of.20.60x.2Epy.20build.20--dry-run.60.3F.html#247088998">(Jul 24 2021 at 19:21)</a>:</h4>
<p>maybe it makes sense with <code>--verbose</code>?</p>



<a name="247089066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/What%20is%20the%20point%20of%20%60x.py%20build%20--dry-run%60%3F/near/247089066" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/What.20is.20the.20point.20of.20.60x.2Epy.20build.20--dry-run.60.3F.html#247089066">(Jul 24 2021 at 19:22)</a>:</h4>
<p>verbose has way too much info to be useful :/ I've been meaning to change it</p>



<a name="247089071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/What%20is%20the%20point%20of%20%60x.py%20build%20--dry-run%60%3F/near/247089071" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/What.20is.20the.20point.20of.20.60x.2Epy.20build.20--dry-run.60.3F.html#247089071">(Jul 24 2021 at 19:22)</a>:</h4>
<p>(and I say that as someone who dives into bootstrap internals pretty regularly)</p>



<a name="247090750"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/What%20is%20the%20point%20of%20%60x.py%20build%20--dry-run%60%3F/near/247090750" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/What.20is.20the.20point.20of.20.60x.2Epy.20build.20--dry-run.60.3F.html#247090750">(Jul 24 2021 at 20:04)</a>:</h4>
<p>dry-run is how the unit-tests work.   I imagine having the CLI option just helps with writing tests.  I think I used it once when trying to deal with a test issue.</p>



<a name="247093682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/What%20is%20the%20point%20of%20%60x.py%20build%20--dry-run%60%3F/near/247093682" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/What.20is.20the.20point.20of.20.60x.2Epy.20build.20--dry-run.60.3F.html#247093682">(Jul 24 2021 at 21:05)</a>:</h4>
<p>Yeah, primarily just targeted towards unit tests. Not sure I've used it on the cli much.</p>



<a name="247093913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/What%20is%20the%20point%20of%20%60x.py%20build%20--dry-run%60%3F/near/247093913" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/What.20is.20the.20point.20of.20.60x.2Epy.20build.20--dry-run.60.3F.html#247093913">(Jul 24 2021 at 21:07)</a>:</h4>
<p>I find verbose crucial to investigation (and frequently want more, not less info). We have several levels of verbosity, though, and moving stuff between them seems ok. I usually only want "almost nothing" or "everything", and then dig through logs in less or something like that.</p>



<a name="247128690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/What%20is%20the%20point%20of%20%60x.py%20build%20--dry-run%60%3F/near/247128690" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/What.20is.20the.20point.20of.20.60x.2Epy.20build.20--dry-run.60.3F.html#247128690">(Jul 25 2021 at 14:22)</a>:</h4>
<p><code>--dry-run</code> was useful while investigating the problems I had with the cg_clif rustup component PR.</p>



<a name="247129299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/What%20is%20the%20point%20of%20%60x.py%20build%20--dry-run%60%3F/near/247129299" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/What.20is.20the.20point.20of.20.60x.2Epy.20build.20--dry-run.60.3F.html#247129299">(Jul 25 2021 at 14:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="133247">bjorn3</span> <a href="#narrow/stream/122651-general/topic/What.20is.20the.20point.20of.20.60x.2Epy.20build.20--dry-run.60.3F/near/247128690">said</a>:</p>
<blockquote>
<p><code>--dry-run</code> was useful while investigating the problems I had with the cg_clif rustup component PR.</p>
</blockquote>
<p>In what way? What information did it give you?</p>



<a name="247131919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/What%20is%20the%20point%20of%20%60x.py%20build%20--dry-run%60%3F/near/247131919" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/What.20is.20the.20point.20of.20.60x.2Epy.20build.20--dry-run.60.3F.html#247131919">(Jul 25 2021 at 15:48)</a>:</h4>
<p>I combined <code>-v</code> with <code>--dry-run</code> to see all steps that bootstrap would execute without having to wait an hour or more for a full dist build. The problem in this case was that the cg_clif built for the wrong stage was packaged.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>