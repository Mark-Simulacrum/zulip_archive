<html>
<head><meta charset="utf-8"><title>M1 Pro / aarch64-apple-darwin / Monterey / apple silicon · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20Monterey.20.2F.20apple.20silicon.html">M1 Pro / aarch64-apple-darwin / Monterey / apple silicon</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="262395408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/M1%20Pro%20/%20aarch64-apple-darwin%20/%20Monterey%20/%20apple%20silicon/near/262395408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Reeves <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20Monterey.20.2F.20apple.20silicon.html#262395408">(Nov 23 2021 at 00:04)</a>:</h4>
<blockquote>
<p>You likely haven't installed Rosetta yet.</p>
</blockquote>
<p>Okay yup, that seems to have fixed the codegen tests <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>
<p>Now am running into an annoying issue where each individual test that runs in <code>src/test/debuginfo</code> prompts me with:</p>
<blockquote>
<p>"a" would like to access files in your Documents directory</p>
</blockquote>
<p><a href="/user_uploads/4715/xcmtkwIyB3KLv2ML_J3LauEq/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/4715/xcmtkwIyB3KLv2ML_J3LauEq/image.png" title="image.png"><img src="/user_uploads/4715/xcmtkwIyB3KLv2ML_J3LauEq/image.png"></a></div><p>Hopefully there's some blanket setting I can tweak to allow all executables produced in my Rust repo to access files.</p>



<a name="262418479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/M1%20Pro%20/%20aarch64-apple-darwin%20/%20Monterey%20/%20apple%20silicon/near/262418479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20Monterey.20.2F.20apple.20silicon.html#262418479">(Nov 23 2021 at 06:44)</a>:</h4>
<p>Does giving the entire terminal app access work?</p>



<a name="262419548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/M1%20Pro%20/%20aarch64-apple-darwin%20/%20Monterey%20/%20apple%20silicon/near/262419548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Dean (he/him) <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20Monterey.20.2F.20apple.20silicon.html#262419548">(Nov 23 2021 at 07:05)</a>:</h4>
<p><span class="user-mention" data-user-id="435059">@Ben Reeves</span> Maybe check out the t -compiler ARM thread</p>
<p>The current state of things re apple silicon tier 1 support has been discussed there recently by others and myself</p>



<a name="262462508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/M1%20Pro%20/%20aarch64-apple-darwin%20/%20Monterey%20/%20apple%20silicon/near/262462508" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20Monterey.20.2F.20apple.20silicon.html#262462508">(Nov 23 2021 at 14:28)</a>:</h4>
<p>I gave up on attempting to corral discussion to one place <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="262834756"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/M1%20Pro%20/%20aarch64-apple-darwin%20/%20Monterey%20/%20apple%20silicon/near/262834756" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Reeves <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20Monterey.20.2F.20apple.20silicon.html#262834756">(Nov 26 2021 at 21:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="133247">bjorn3</span> <a href="#narrow/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20Monterey.20.2F.20apple.20silicon/near/262418479">said</a>:</p>
<blockquote>
<p>Does giving the entire terminal app access work?</p>
</blockquote>
<p><span class="user-mention" data-user-id="133247">@bjorn3</span> I am running tests through the VSCode terminal emulator, but even after I grant Full Disk Access to VSCode, it still prompts for access for each of the <code>a</code> executables.</p>
<p><a href="/user_uploads/4715/kveFMYST-PgCnUonJAdWZDD0/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/kveFMYST-PgCnUonJAdWZDD0/image.png" title="image.png"><img src="/user_uploads/4715/kveFMYST-PgCnUonJAdWZDD0/image.png"></a></div><p>I also tried running the tests in iTerm2, which has Full Disk Access, and no difference.</p>
<p><span class="user-mention silent" data-user-id="457459">Nick Dean (he/him)</span> <a href="#narrow/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20Monterey.20.2F.20apple.20silicon/near/262419548">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="435059">Ben Reeves</span> Maybe check out the t -compiler ARM thread</p>
</blockquote>
<p><del>@<strong>Nick Dean (he/him)</strong>  Any chance you could link that? My search of <code>stream:t-compiler arm</code> gets me a heap of irrelevant results, and <code>stream:t-compiler topic:arm</code> gives nothing.</del></p>
<p>Never mind, it's a whole stream not a single thread.</p>



<a name="262837950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/M1%20Pro%20/%20aarch64-apple-darwin%20/%20Monterey%20/%20apple%20silicon/near/262837950" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Dean (he/him) <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20Monterey.20.2F.20apple.20silicon.html#262837950">(Nov 26 2021 at 22:09)</a>:</h4>
<p><span class="user-mention" data-user-id="435059">@Ben Reeves</span> </p>
<p>Sorry, I meant the thread on the stream lol. Were you able to find it? Here is the link anyway:</p>
<p><a href="http://t-lang.zulipchat.com/#narrow/stream/242906-t-compiler.2Farm/topic/Updates.20on.20CI.20issue.20preventing.20T1.20support.20for.20apple.20arm.3F">t-lang.zulipchat.com/#narrow/stream/242906-t-compiler.2Farm/topic/Updates.20on.20CI.20issue.20preventing.20T1.20support.20for.20apple.20arm.3F</a></p>
<p>Also, for further reference Ben</p>
<p>the issue of current lack of tier 1 support for rust on macOS arm - <a href="https://github.com/rust-lang/rust/issues/73908">https://github.com/rust-lang/rust/issues/73908</a></p>
<p>the issue of current lack of ability to run GitHub actions/CI VMs for macOS arm - <a href="https://github.com/actions/virtual-environments/issues/2187#issuecomment-971409562">https://github.com/actions/virtual-environments/issues/2187#issuecomment-971409562</a></p>
<p>As others have mentioned, no updates on the first issue since ~ November 2020. Rust infrastructure team probably or may want to use GitHub Actions (alternate CI providers may be unfeasible from a financial perspective). There have been discussions with GitHub as to provisions for VMs on macOS ARM (many others besides those affected in the Rust community are also waiting for an update on this), but as of the present time 'There is no timeline for any level of support'</p>
<p>disclaimer: I am not from the Rust infrastructure team or any GitHub team, so I'm not sure what the latest might be, but if one goes by Zulip and GitHub, that appears to be it</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>