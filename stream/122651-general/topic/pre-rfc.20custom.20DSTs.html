<html>
<head><meta charset="utf-8"><title>pre-rfc custom DSTs · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html">pre-rfc custom DSTs</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="146929321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146929321" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146929321">(Nov 07 2018 at 09:41)</a>:</h4>
<ul>
<li>
<p>indexing and slicing 2-d arrays -&gt; multi-dimensional arrays in general ? e.g. array views, etc. Also, there is interest in a "growable" mutable slice view into vector-like data-structures (<code>Vec</code>, <code>ArrayVec</code>, <code>SmallVec</code>) up to a maximum capacity, it would be cool if such a &amp;mut VecView could be a DST</p>
</li>
<li>
<p>Flexible Array Members -&gt; might link here to the C++ paper, and might want to mention C VLAs since that's the term that people might know (note: I see you mention this below, might be worth mentioning in the introduction as well)</p>
</li>
<li>
<p>we will also introduce four functions into the standard library, in std::raw,  =&gt; why not in <code>libcore</code> ? </p>
</li>
<li>
<p>How should these thick pointers be passed, if they are larger than two pointers? =&gt; Passed to where? Why not as Aggregates ? This can be resolved in the UCG independently of the rest of the feature. </p>
</li>
<li>
<p>Are std::raw::ptr and std::raw::ptr_mut necessary? You can get this behavior with as. =&gt; You just said they are not necessary, so kill them, and add an example of using <code>as</code>, which is what people are using already.</p>
</li>
</ul>



<a name="146929334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146929334" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146929334">(Nov 07 2018 at 09:41)</a>:</h4>
<p><span class="user-mention" data-user-id="125253">@Nicole Mazzuca</span>  ^^^</p>



<a name="146929492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146929492" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146929492">(Nov 07 2018 at 09:44)</a>:</h4>
<ul>
<li>In the <code>Foo</code> example, <code>size_of_val(&amp;foo)</code> result is incorrect, =&gt; you can work out this example fully</li>
</ul>



<a name="146968145"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146968145" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146968145">(Nov 07 2018 at 16:02)</a>:</h4>
<p>VLAs are not FAMs, to be clear</p>



<a name="146968159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146968159" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146968159">(Nov 07 2018 at 16:02)</a>:</h4>
<p>they are in fact incredibly distinct features</p>



<a name="146968162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146968162" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146968162">(Nov 07 2018 at 16:02)</a>:</h4>
<p>one of them is very good</p>



<a name="146968168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146968168" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146968168">(Nov 07 2018 at 16:02)</a>:</h4>
<p>the other is a massive security risk</p>



<a name="146969030"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969030" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969030">(Nov 07 2018 at 16:14)</a>:</h4>
<p>VLA = Variable Length Array, but FAM? Must be the Flexible Array Members you mentioned. Got to google that one^^</p>



<a name="146969176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969176" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969176">(Nov 07 2018 at 16:17)</a>:</h4>
<p>still would be interesting which of the two you consider good vs a risk</p>



<a name="146969304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969304" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969304">(Nov 07 2018 at 16:19)</a>:</h4>
<p>FAM is the good one</p>



<a name="146969310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969310" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969310">(Nov 07 2018 at 16:19)</a>:</h4>
<p>VLAs are widely considered to be a bad idea</p>



<a name="146969372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969372" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969372">(Nov 07 2018 at 16:20)</a>:</h4>
<p>there's a reason they never got into C++, and that they were made optional in C11</p>



<a name="146969427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969427" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969427">(Nov 07 2018 at 16:21)</a>:</h4>
<p>ah I heard about the Linux kernel banning VLAs</p>



<a name="146969448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969448" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969448">(Nov 07 2018 at 16:21)</a>:</h4>
<p>though FAMs also seem risky because the length is not given anywhere in the type? But that is normal game in C I guess</p>



<a name="146969519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969519" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969519">(Nov 07 2018 at 16:22)</a>:</h4>
<p>?</p>



<a name="146969527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969527" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969527">(Nov 07 2018 at 16:22)</a>:</h4>
<p>the length is given in the type tho</p>



<a name="146969542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969542" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969542">(Nov 07 2018 at 16:22)</a>:</h4>
<p>looking at <a href="https://en.wikipedia.org/wiki/Flexible_array_member" target="_blank" title="https://en.wikipedia.org/wiki/Flexible_array_member">https://en.wikipedia.org/wiki/Flexible_array_member</a></p>



<a name="146969547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969547" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969547">(Nov 07 2018 at 16:22)</a>:</h4>
<p>just not in the array type</p>



<a name="146969583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969583" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969583">(Nov 07 2018 at 16:23)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="k">struct</span> <span class="n">pascal_string</span> <span class="p">{</span>
  <span class="kt">size_t</span> <span class="n">length</span><span class="p">;</span> <span class="c1">// length given here</span>
  <span class="kt">char</span> <span class="n">buffer</span><span class="p">[];</span>
<span class="p">};</span>
</pre></div>



<a name="146969593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969593" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969593">(Nov 07 2018 at 16:23)</a>:</h4>
<p>well that's the progrmmer writing a comment</p>



<a name="146969666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969666" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969666">(Nov 07 2018 at 16:24)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="k">struct</span> <span class="n">example</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">arr</span><span class="p">[];</span> <span class="c1">// the flexible array member must be last</span>
<span class="p">};</span>
</pre></div>


<p>is just as legal, isn't it?</p>



<a name="146969699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969699" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969699">(Nov 07 2018 at 16:24)</a>:</h4>
<p>sure</p>



<a name="146969732"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969732" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969732">(Nov 07 2018 at 16:25)</a>:</h4>
<p>the C++ version is quite a bit better, imo</p>



<a name="146969765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969765" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969765">(Nov 07 2018 at 16:25)</a>:</h4>
<p>but that's just C</p>



<a name="146969983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969983" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969983">(Nov 07 2018 at 16:28)</a>:</h4>
<p>(although the C++ version is not yet published)</p>



<a name="146969992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146969992" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146969992">(Nov 07 2018 at 16:28)</a>:</h4>
<p>was just googling it and didnt find anything yet^^</p>



<a name="146970015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970015" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970015">(Nov 07 2018 at 16:29)</a>:</h4>
<p>I'm trying to find a good way to show you the formatted paper, as opposed to raw html</p>



<a name="146970104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970104" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970104">(Nov 07 2018 at 16:30)</a>:</h4>
<p><a href="https://htmlpreview.github.io/?https://github.com/ThePhD/future_cxx/blob/master/papers/d1039.html" target="_blank" title="https://htmlpreview.github.io/?https://github.com/ThePhD/future_cxx/blob/master/papers/d1039.html">https://htmlpreview.github.io/?https://github.com/ThePhD/future_cxx/blob/master/papers/d1039.html</a></p>



<a name="146970410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970410" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970410">(Nov 07 2018 at 16:34)</a>:</h4>
<p>^^</p>



<a name="146970534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970534" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970534">(Nov 07 2018 at 16:36)</a>:</h4>
<p>what makes it better in your opinion?</p>



<a name="146970587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970587" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970587">(Nov 07 2018 at 16:37)</a>:</h4>
<p>they're just completely distinct features.</p>



<a name="146970598"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970598" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970598">(Nov 07 2018 at 16:37)</a>:</h4>
<p>oh, C++ rather than C?</p>



<a name="146970603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970603" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970603">(Nov 07 2018 at 16:37)</a>:</h4>
<p>it puts the size in the type</p>



<a name="146970659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970659" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970659">(Nov 07 2018 at 16:38)</a>:</h4>
<p>ah just saw the trait stuff there</p>



<a name="146970661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970661" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970661">(Nov 07 2018 at 16:38)</a>:</h4>
<p>intersting</p>



<a name="146970685"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970685" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970685">(Nov 07 2018 at 16:38)</a>:</h4>
<p>also, it works with dtors, which is important for C++, even if it doesn't matter in C.</p>



<a name="146970784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970784" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970784">(Nov 07 2018 at 16:40)</a>:</h4>
<p>and which explains why they need to get the size stuff right :D</p>



<a name="146970806"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970806" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970806">(Nov 07 2018 at 16:40)</a>:</h4>
<p>and then they make it overloadable. quite neat, yeah.</p>



<a name="146970940"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970940" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970940">(Nov 07 2018 at 16:42)</a>:</h4>
<p><span class="user-mention" data-user-id="132920">@gnzlbg</span> do you have links to other RFCs? I found one (mine)</p>



<a name="146970961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970961" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970961">(Nov 07 2018 at 16:43)</a>:</h4>
<p>oh, nope, I apparently linked to others</p>



<a name="146970991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146970991" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146970991">(Nov 07 2018 at 16:43)</a>:</h4>
<p>There is one RFC with open PR by Simon Sapin that addresses a tangential problem that might be worth citing</p>



<a name="146971064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146971064" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146971064">(Nov 07 2018 at 16:44)</a>:</h4>
<p><a href="https://github.com/rust-lang/rfcs/issues/813" target="_blank" title="https://github.com/rust-lang/rfcs/issues/813">https://github.com/rust-lang/rfcs/issues/813</a> mentions CStr</p>



<a name="146971223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146971223" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146971223">(Nov 07 2018 at 16:46)</a>:</h4>
<p>There are also some RFCs about unsized rvalues, alloca etc.</p>



<a name="146971277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146971277" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146971277">(Nov 07 2018 at 16:47)</a>:</h4>
<p><a href="https://github.com/rust-lang/rfcs/pull/2580" target="_blank" title="https://github.com/rust-lang/rfcs/pull/2580">https://github.com/rust-lang/rfcs/pull/2580</a> that's the one by Simon</p>



<a name="146971372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146971372" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146971372">(Nov 07 2018 at 16:48)</a>:</h4>
<p><a href="http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/" target="_blank" title="http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/">http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/</a> series by <span class="user-mention" data-user-id="116009">@nikomatsakis</span> <br>
and the RFC that changed the DST trait bound syntax: <a href="https://github.com/rust-lang/rfcs/pull/490" target="_blank" title="https://github.com/rust-lang/rfcs/pull/490">https://github.com/rust-lang/rfcs/pull/490</a></p>



<a name="146971583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146971583" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146971583">(Nov 07 2018 at 16:51)</a>:</h4>
<p><a href="https://github.com/rust-lang/rfcs/pull/2310" target="_blank" title="https://github.com/rust-lang/rfcs/pull/2310">https://github.com/rust-lang/rfcs/pull/2310</a> is the original <span class="user-mention" data-user-id="125254">@kennytm</span> RFC, but I think there is a rework in the works</p>



<a name="146971813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146971813" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicole Mazzuca <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146971813">(Nov 07 2018 at 16:54)</a>:</h4>
<p>thanks!</p>



<a name="146971843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146971843" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> kennytm <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146971843">(Nov 07 2018 at 16:54)</a>:</h4>
<p>there was a Custom DST draft (predating ubsan's RFC 1524 IIRC) <a href="https://github.com/japaric/rfcs/blob/unsized2/text/0000-unsized-types.md" target="_blank" title="https://github.com/japaric/rfcs/blob/unsized2/text/0000-unsized-types.md">https://github.com/japaric/rfcs/blob/unsized2/text/0000-unsized-types.md</a></p>



<a name="146971993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146971993" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> kennytm <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146971993">(Nov 07 2018 at 16:56)</a>:</h4>
<p>(and also mikeyhew's <a href="https://internals.rust-lang.org/t/pre-erfc-lets-fix-dsts/6663" target="_blank" title="https://internals.rust-lang.org/t/pre-erfc-lets-fix-dsts/6663">https://internals.rust-lang.org/t/pre-erfc-lets-fix-dsts/6663</a> for sure)</p>



<a name="146972095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/146972095" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#146972095">(Nov 07 2018 at 16:58)</a>:</h4>
<p>there is also <a href="https://github.com/rust-lang/rfcs/pull/9/files" target="_blank" title="https://github.com/rust-lang/rfcs/pull/9/files">https://github.com/rust-lang/rfcs/pull/9/files</a> which links to the old mailing list for background..</p>



<a name="193891999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/pre-rfc%20custom%20DSTs/near/193891999" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/pre-rfc.20custom.20DSTs.html#193891999">(Apr 14 2020 at 12:57)</a>:</h4>
<p>Sorry to necro such an old thread, but I was looking at custom array indices again and wondering if there was any notable changes since postponement of kennytm’s RFC.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>