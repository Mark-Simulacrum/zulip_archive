<html>
<head><meta charset="utf-8"><title>Linker error when building rustc? · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Linker.20error.20when.20building.20rustc.3F.html">Linker error when building rustc?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="276809706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Linker%20error%20when%20building%20rustc%3F/near/276809706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Linker.20error.20when.20building.20rustc.3F.html#276809706">(Mar 27 2022 at 21:46)</a>:</h4>
<p>I am getting a very odd linker error during "Building stage0 compiler artifacts" (invocation: <code>./x.py build --stage 2 compiler/rustc</code>)</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">note</span>: <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ld</span>: <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">stage0</span><span class="o">-</span><span class="n">rustc</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">deps</span><span class="o">/</span><span class="n">librustc_mir_build</span><span class="o">-</span><span class="n">abc4d0e00aae7d7f</span><span class="p">.</span><span class="n">rlib</span><span class="p">(</span><span class="n">rustc_mir_build</span><span class="o">-</span><span class="n">abc4d0e00aae7d7f</span><span class="p">.</span><span class="mi">3</span><span class="n">dbtonlk9wisnm94</span><span class="p">.</span><span class="n">rcgu</span><span class="p">.</span><span class="n">o</span><span class="p">)</span>: <span class="nc">in</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="err">`</span><span class="o">&lt;</span><span class="n">rustc_mir_build</span>::<span class="n">build</span>::<span class="n">expr</span>::<span class="n">as_place</span>::<span class="n">PlaceBuilder</span><span class="o">&gt;</span>::<span class="n">try_upvars_resolved</span><span class="o">'</span>:
          <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">compiler</span><span class="o">/</span><span class="n">rustc_mir_build</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">expr</span><span class="o">/</span><span class="n">as_place</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">322</span>: <span class="nc">undefined</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="err">`</span><span class="n">_RNvNtNtNtCs8i7Y4SGGLIM_15rustc_mir_build5build4expr8as_place32to_upvars_resolved_place_builder</span><span class="p">.</span><span class="n">llvm</span><span class="p">.</span><span class="mi">3339096371669099188</span><span class="o">'</span><span class="w"></span>
<span class="w">          </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ld</span>: <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">stage0</span><span class="o">-</span><span class="n">rustc</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">deps</span><span class="o">/</span><span class="n">librustc_mir_build</span><span class="o">-</span><span class="n">abc4d0e00aae7d7f</span><span class="p">.</span><span class="n">rlib</span><span class="p">(</span><span class="n">rustc_mir_build</span><span class="o">-</span><span class="n">abc4d0e00aae7d7f</span><span class="p">.</span><span class="mi">3</span><span class="n">dbtonlk9wisnm94</span><span class="p">.</span><span class="n">rcgu</span><span class="p">.</span><span class="n">o</span><span class="p">)</span>: <span class="nc">in</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="err">`</span><span class="o">&lt;</span><span class="n">rustc_mir_build</span>::<span class="n">build</span>::<span class="n">Builder</span><span class="o">&gt;</span>::<span class="n">schedule_drop_for_binding</span><span class="o">'</span>:
          <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">compiler</span><span class="o">/</span><span class="n">rustc_mir_build</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">matches</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">712</span>: <span class="nc">undefined</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="err">`</span><span class="n">_RNvMs_NtCs8i7Y4SGGLIM_15rustc_mir_build5buildNtB4_7Builder12var_local_id</span><span class="p">.</span><span class="n">llvm</span><span class="p">.</span><span class="mi">7108267924268206851</span><span class="o">'</span><span class="w"></span>
<span class="w">          </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ld</span>: <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">compiler</span><span class="o">/</span><span class="n">rustc_mir_build</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">matches</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">714</span>: <span class="nc">undefined</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="err">`</span><span class="n">_RNvMs1_NtNtCs8i7Y4SGGLIM_15rustc_mir_build5build5scopeNtB7_7Builder13schedule_drop</span><span class="p">.</span><span class="n">llvm</span><span class="p">.</span><span class="mi">7108267924268206851</span><span class="o">'</span><span class="w"></span>
<span class="w">          </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ld</span>: <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">compiler</span><span class="o">/</span><span class="n">rustc_mir_build</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">matches</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">712</span>: <span class="nc">undefined</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="err">`</span><span class="n">_RNvMs_NtCs8i7Y4SGGLIM_15rustc_mir_build5buildNtB4_7Builder12var_local_id</span><span class="p">.</span><span class="n">llvm</span><span class="p">.</span><span class="mi">7108267924268206851</span><span class="o">'</span><span class="w"></span>
<span class="w">          </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ld</span>: <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">compiler</span><span class="o">/</span><span class="n">rustc_mir_build</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">matches</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">714</span>: <span class="nc">undefined</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="err">`</span><span class="n">_RNvMs1_NtNtCs8i7Y4SGGLIM_15rustc_mir_build5build5scopeNtB7_7Builder13schedule_drop</span><span class="p">.</span><span class="n">llvm</span><span class="p">.</span><span class="mi">7108267924268206851</span><span class="o">'</span><span class="w"></span>
<span class="w">          </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ld</span>: <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">compiler</span><span class="o">/</span><span class="n">rustc_mir_build</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">matches</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">712</span>: <span class="nc">undefined</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="err">`</span><span class="n">_RNvMs_NtCs8i7Y4SGGLIM_15rustc_mir_build5buildNtB4_7Builder12var_local_id</span><span class="p">.</span><span class="n">llvm</span><span class="p">.</span><span class="mi">7108267924268206851</span><span class="o">'</span><span class="w"></span>
<span class="w">          </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ld</span>: <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">compiler</span><span class="o">/</span><span class="n">rustc_mir_build</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">matches</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">714</span>: <span class="nc">undefined</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="err">`</span><span class="n">_RNvMs1_NtNtCs8i7Y4SGGLIM_15rustc_mir_build5build5scopeNtB7_7Builder13schedule_drop</span><span class="p">.</span><span class="n">llvm</span><span class="p">.</span><span class="mi">7108267924268206851</span><span class="o">'</span><span class="w"></span>
<span class="w">          </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ld</span>: <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">stage0</span><span class="o">-</span><span class="n">rustc</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">deps</span><span class="o">/</span><span class="n">librustc_mir_build</span><span class="o">-</span><span class="n">abc4d0e00aae7d7f</span><span class="p">.</span><span class="n">rlib</span><span class="p">(</span><span class="n">rustc_mir_build</span><span class="o">-</span><span class="n">abc4d0e00aae7d7f</span><span class="p">.</span><span class="mi">3</span><span class="n">dbtonlk9wisnm94</span><span class="p">.</span><span class="n">rcgu</span><span class="p">.</span><span class="n">o</span><span class="p">)</span>: <span class="nc">in</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="err">`</span><span class="o">&lt;</span><span class="n">rustc_mir_build</span>::<span class="n">build</span>::<span class="n">expr</span>::<span class="n">as_place</span>::<span class="n">PlaceBuilder</span><span class="o">&gt;</span>::<span class="n">try_upvars_resolved</span><span class="o">'</span>:
          <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">compiler</span><span class="o">/</span><span class="n">rustc_mir_build</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">expr</span><span class="o">/</span><span class="n">as_place</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">322</span>: <span class="nc">undefined</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="err">`</span><span class="n">_RNvNtNtNtCs8i7Y4SGGLIM_15rustc_mir_build5build4expr8as_place32to_upvars_resolved_place_builder</span><span class="p">.</span><span class="n">llvm</span><span class="p">.</span><span class="mi">3339096371669099188</span><span class="o">'</span><span class="w"></span>
<span class="w">          </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ld</span>: <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">stage0</span><span class="o">-</span><span class="n">rustc</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">deps</span><span class="o">/</span><span class="n">librustc_mir_build</span><span class="o">-</span><span class="n">abc4d0e00aae7d7f</span><span class="p">.</span><span class="n">rlib</span><span class="p">(</span><span class="n">rustc_mir_build</span><span class="o">-</span><span class="n">abc4d0e00aae7d7f</span><span class="p">.</span><span class="mi">3</span><span class="n">dbtonlk9wisnm94</span><span class="p">.</span><span class="n">rcgu</span><span class="p">.</span><span class="n">o</span><span class="p">)</span>: <span class="nc">in</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="err">`</span><span class="o">&lt;</span><span class="n">rustc_middle</span>::<span class="n">ty</span>::<span class="n">context</span>::<span class="n">TyCtxt</span><span class="o">&gt;</span>::<span class="n">normalize_erasing_regions</span>::<span class="o">&lt;</span><span class="n">rustc_middle</span>::<span class="n">ty</span>::<span class="n">Ty</span><span class="o">&gt;'</span>:
          <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">compiler</span><span class="o">/</span><span class="n">rustc_middle</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">ty</span><span class="o">/</span><span class="n">normalize_erasing_regions</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">45</span>: <span class="nc">undefined</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="err">`</span><span class="n">anon</span><span class="p">.</span><span class="mi">39440</span><span class="n">ed200a82d5e8a829fb981a391aa</span><span class="p">.</span><span class="mf">224.</span><span class="n">llvm</span><span class="p">.</span><span class="mi">9731267361793027071</span><span class="o">'</span><span class="w"></span>
<span class="w">          </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ld</span>: <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">r</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rust</span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">stage0</span><span class="o">-</span><span class="n">rustc</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">deps</span><span class="o">/</span><span class="n">librustc_mir_build</span><span class="o">-</span><span class="n">abc4d0e00aae7d7f</span><span class="p">.</span><span class="n">rlib</span><span class="p">(</span><span class="n">rustc_mir_build</span><span class="o">-</span><span class="n">abc4d0e00aae7d7f</span><span class="p">.</span><span class="mi">3</span><span class="n">dbtonlk9wisnm94</span><span class="p">.</span><span class="n">rcgu</span><span class="p">.</span><span class="n">o</span><span class="p">)</span>: <span class="nc">relocation</span><span class="w"> </span><span class="n">R_X86_64_PC32</span><span class="w"> </span><span class="n">against</span><span class="w"> </span><span class="n">undefined</span><span class="w"> </span><span class="n">hidden</span><span class="w"> </span><span class="n">symbol</span><span class="w"> </span><span class="err">`</span><span class="n">anon</span><span class="p">.</span><span class="mi">39440</span><span class="n">ed200a82d5e8a829fb981a391aa</span><span class="p">.</span><span class="mf">224.</span><span class="n">llvm</span><span class="p">.</span><span class="mi">9731267361793027071</span><span class="o">'</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">making</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">object</span><span class="w"></span>
<span class="w">          </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ld</span>: <span class="nc">final</span><span class="w"> </span><span class="n">link</span><span class="w"> </span><span class="n">failed</span>: <span class="nc">bad</span><span class="w"> </span><span class="n">value</span><span class="w"></span>
<span class="w">          </span><span class="n">collect2</span>: <span class="nc">error</span>: <span class="nc">ld</span><span class="w"> </span><span class="n">returned</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="n">status</span><span class="w"></span>

<span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">help</span>: <span class="nc">some</span><span class="w"> </span><span class="err">`</span><span class="k">extern</span><span class="err">`</span><span class="w"> </span><span class="n">functions</span><span class="w"> </span><span class="n">couldn</span><span class="o">'</span><span class="na">t</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">found</span><span class="p">;</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">native</span><span class="w"> </span><span class="n">libraries</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">installed</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">specified</span><span class="w"></span>
<span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">note</span>: <span class="nc">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">l</span><span class="err">`</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">native</span><span class="w"> </span><span class="n">libraries</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">link</span><span class="w"></span>
<span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">note</span>: <span class="nc">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="err">`</span><span class="n">cargo</span>:<span class="nc">rustc</span><span class="o">-</span><span class="n">link</span><span class="o">-</span><span class="n">lib</span><span class="err">`</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">native</span><span class="w"> </span><span class="n">libraries</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">link</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">Cargo</span><span class="w"> </span><span class="p">(</span><span class="n">see</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//doc.rust-lang.org/cargo/reference/build-scripts.html#cargorustc-link-libkindname)</span>

<span class="n">error</span>: <span class="nc">could</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="err">`</span><span class="n">rustc_driver</span><span class="err">`</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">error</span><span class="w"></span>
</code></pre></div>
<p>I first thought it was one of the usual incremental problems but those usually happen while doing stage 1 builds...</p>



<a name="276810104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Linker%20error%20when%20building%20rustc%3F/near/276810104" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Linker.20error.20when.20building.20rustc.3F.html#276810104">(Mar 27 2022 at 21:56)</a>:</h4>
<p>after <code>git stash</code>, rebuild, <code>git stash pop</code>, rebuild the error is now gone...</p>



<a name="276810115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Linker%20error%20when%20building%20rustc%3F/near/276810115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Linker.20error.20when.20building.20rustc.3F.html#276810115">(Mar 27 2022 at 21:57)</a>:</h4>
<p><span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="276810169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Linker%20error%20when%20building%20rustc%3F/near/276810169" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Linker.20error.20when.20building.20rustc.3F.html#276810169">(Mar 27 2022 at 21:58)</a>:</h4>
<p>maybe an unlucky ctrl-c...</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>