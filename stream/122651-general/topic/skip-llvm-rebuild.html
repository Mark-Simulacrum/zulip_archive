<html>
<head><meta charset="utf-8"><title>skip-llvm-rebuild · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/skip-llvm-rebuild.html">skip-llvm-rebuild</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="179710356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/skip-llvm-rebuild/near/179710356" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Walther <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/skip-llvm-rebuild.html#179710356">(Nov 02 2019 at 17:17)</a>:</h4>
<p>Working  on "Add config option and cli arg for skip-llvm-rebuild" <a href="https://github.com/rust-lang/rust/pull/65848" target="_blank" title="https://github.com/rust-lang/rust/pull/65848">https://github.com/rust-lang/rust/pull/65848</a> <br>
I  have  a simple  question - at <code>src/bootstrap/config.rs</code> i'd love to add <code>config.skip_llvm_rebuild</code> to  be  set from the <code>bootstrap.py</code> too,  as i did the handling of CLI args &amp; toml setting  already there. Should I set a new env var for it, or should i plop it in  <code>RUSTFLAGS</code> or some  such in  <code>build_bootstrap()</code>, or something completely different?</p>
<p>In  addition to what's visible  in the PR, I  already locally added the  lines  necessary to actually skip the LLVM build in <code>native.rs</code></p>
<div class="codehilite"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">skip_llvm_rebuild</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">builder</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Skipping LLVM rebuild&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">build_llvm_config</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
</pre></div>



<a name="179722576"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/skip-llvm-rebuild/near/179722576" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Walther <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/skip-llvm-rebuild.html#179722576">(Nov 02 2019 at 22:58)</a>:</h4>
<p>perhaps ping <span class="user-mention" data-user-id="116015">@Alex Crichton</span>  <span class="user-mention" data-user-id="121053">@varkor</span> if you have any  thoughts  (async  is perfectly fine, timezones and  all). Thanks! &lt;3</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>