<html>
<head><meta charset="utf-8"><title>&quot;.crate&quot; file? · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/.22.2Ecrate.22.20file.3F.html">&quot;.crate&quot; file?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="196117830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%22.crate%22%20file%3F/near/196117830" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Klein <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/.22.2Ecrate.22.20file.3F.html#196117830">(May 03 2020 at 19:11)</a>:</h4>
<p>I'm working on making some contributions to a Bazel x Cargo project, and basically, there is a need to have a sha256 identifier for crates. Digging around, I noticed that taking the sha256 of a ".crate" file seems to be the standard -- it's mentioned here: <a href="https://doc.rust-lang.org/cargo/reference/registries.html" title="https://doc.rust-lang.org/cargo/reference/registries.html">https://doc.rust-lang.org/cargo/reference/registries.html</a> -- but I'm having trouble finding more detail on this file format.</p>
<p>Are there other docs / tools I should read up on to see where this value is being generated? Or perhaps how I can dervice this value given a Cargo.toml + Cargo.lock file?</p>



<a name="196117901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%22.crate%22%20file%3F/near/196117901" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Klein <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/.22.2Ecrate.22.20file.3F.html#196117901">(May 03 2020 at 19:13)</a>:</h4>
<p>From what I can gather, the ".crate" file exists in my filesystem under $HOME/.cargo/registry/cache/...,  supposedly it is a tarball of the package, and the checksum used in registries is a sha256 checksum of that tarball</p>



<a name="196117952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%22.crate%22%20file%3F/near/196117952" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Klein <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/.22.2Ecrate.22.20file.3F.html#196117952">(May 03 2020 at 19:14)</a>:</h4>
<p>but I can't find any reference to that value (either the path to the cache, nor the checksum itself) under commands like cargo metadata</p>



<a name="196123680"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%22.crate%22%20file%3F/near/196123680" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Klein <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/.22.2Ecrate.22.20file.3F.html#196123680">(May 03 2020 at 21:13)</a>:</h4>
<p>Follow-up for anyone else who has seen this: This is the same checksum that's available in the Cargo.lock file. Parsing it from a lock file (via the cargo-lock crate) seems way easier than trying to access the ".crate" file.</p>



<a name="196180239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%22.crate%22%20file%3F/near/196180239" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/.22.2Ecrate.22.20file.3F.html#196180239">(May 04 2020 at 13:35)</a>:</h4>
<p><code>.crate</code> in <code>~/.cargo</code> is just a cached file downloaded from <code>crates.io</code>. You can download those directly from <a href="http://crates.io" title="http://crates.io">crates.io</a></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>