<html>
<head><meta charset="utf-8"><title>fail tests on first failure · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/fail.20tests.20on.20first.20failure.html">fail tests on first failure</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="137053985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/fail%20tests%20on%20first%20failure/near/137053985" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/fail.20tests.20on.20first.20failure.html#137053985">(Nov 02 2018 at 15:33)</a>:</h4>
<p>When using x.py test, how can I stop immediately when the first failure is encountered? I'm running tests on the emscripten target, which is very slow for some reason.</p>



<a name="137054381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/fail%20tests%20on%20first%20failure/near/137054381" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/fail.20tests.20on.20first.20failure.html#137054381">(Nov 02 2018 at 15:34)</a>:</h4>
<p>I don't think that's possible, but I'd like that, too</p>



<a name="137054527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/fail%20tests%20on%20first%20failure/near/137054527" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/fail.20tests.20on.20first.20failure.html#137054527">(Nov 02 2018 at 15:35)</a>:</h4>
<p>What's funny is that there's a <code>--no-fail-fast</code> flag</p>



<a name="137054805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/fail%20tests%20on%20first%20failure/near/137054805" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/fail.20tests.20on.20first.20failure.html#137054805">(Nov 02 2018 at 15:36)</a>:</h4>
<p>Hm, is it possible to make the output verbose to see test names as they are run? -v does not seem to get passed through to the tests, it only shows verbose info for the build steps.</p>



<a name="137055041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/fail%20tests%20on%20first%20failure/near/137055041" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/fail.20tests.20on.20first.20failure.html#137055041">(Nov 02 2018 at 15:37)</a>:</h4>
<p>not while they are run, you get the verbose dump at the end</p>



<a name="137055096"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/fail%20tests%20on%20first%20failure/near/137055096" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/fail.20tests.20on.20first.20failure.html#137055096">(Nov 02 2018 at 15:37)</a>:</h4>
<p>hmm... the source around <code>--no-fail-fast</code> is weird</p>



<a name="137055237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/fail%20tests%20on%20first%20failure/near/137055237" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/fail.20tests.20on.20first.20failure.html#137055237">(Nov 02 2018 at 15:38)</a>:</h4>
<p>And as an unrelated question, can I put a different builder on type = pull_request in Travis or is that going to get killed?</p>



<a name="137055579"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/fail%20tests%20on%20first%20failure/near/137055579" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/fail.20tests.20on.20first.20failure.html#137055579">(Nov 02 2018 at 15:39)</a>:</h4>
<p>that... should work, but you'll have to remove it before it gets merged</p>



<a name="137089703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/fail%20tests%20on%20first%20failure/near/137089703" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/fail.20tests.20on.20first.20failure.html#137089703">(Nov 02 2018 at 23:34)</a>:</h4>
<p>It did indeed work :)</p>



<a name="137170926"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/fail%20tests%20on%20first%20failure/near/137170926" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/fail.20tests.20on.20first.20failure.html#137170926">(Nov 04 2018 at 20:57)</a>:</h4>
<blockquote>
<p>Hm, is it possible to make the output verbose to see test names as they are run? </p>
</blockquote>
<p>yes: <code>verbose-tests = true</code> in config.toml (which is how tests are run in CI if memory serves)</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>