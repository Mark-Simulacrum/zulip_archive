<html>
<head><meta charset="utf-8"><title>default linker on macOS · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/default.20linker.20on.20macOS.html">default linker on macOS</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="260465230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/default%20linker%20on%20macOS/near/260465230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Winter <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/default.20linker.20on.20macOS.html#260465230">(Nov 05 2021 at 21:10)</a>:</h4>
<p>the default linker on macOS with Xcode’s toolchain is llvm’s linker (lld), right? I can’t really tell honestly…</p>



<a name="260466983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/default%20linker%20on%20macOS/near/260466983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/default.20linker.20on.20macOS.html#260466983">(Nov 05 2021 at 21:28)</a>:</h4>
<p><span class="user-mention" data-user-id="450762">@Winter</span> No, it is ld64, apple's own linker.</p>



<a name="260467027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/default%20linker%20on%20macOS/near/260467027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Winter <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/default.20linker.20on.20macOS.html#260467027">(Nov 05 2021 at 21:29)</a>:</h4>
<p>Ah. I was under the (false) impression that they used LLVM’s, as they use Clang.</p>



<a name="260467158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/default%20linker%20on%20macOS/near/260467158" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Winter <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/default.20linker.20on.20macOS.html#260467158">(Nov 05 2021 at 21:30)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="120518">@Eric Huss</span>.</p>



<a name="260469350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/default%20linker%20on%20macOS/near/260469350" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Kratz <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/default.20linker.20on.20macOS.html#260469350">(Nov 05 2021 at 21:55)</a>:</h4>
<p>You can use the lld that comes bundled with Rust on Macos by setting RUSTFLAGS="-Zgcc-ld=lld".</p>



<a name="260477128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/default%20linker%20on%20macOS/near/260477128" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Winter <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/default.20linker.20on.20macOS.html#260477128">(Nov 05 2021 at 23:33)</a>:</h4>
<p><span class="user-mention" data-user-id="407656">@Hans Kratz</span> Why does that flag name contain <code>gcc</code>, is there any reason? Curious.</p>



<a name="260505567"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/default%20linker%20on%20macOS/near/260505567" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/default.20linker.20on.20macOS.html#260505567">(Nov 06 2021 at 10:28)</a>:</h4>
<p>We don't directly invoke the linker normally. Instead we invoke gcc (or clang, which is mostly compatible)<br>
 Gcc invokes the linker with extra arguments like where the system libraries should be found or adding the crt (C runtime) to the list of objects to be linked. <code>-Zgcc-ld</code> is used to tell gcc which linker to invoke.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>