<html>
<head><meta charset="utf-8"><title>✔ Error on module documentation, &quot;expected outer doc comm... · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html">✔ Error on module documentation, &quot;expected outer doc comm...</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="259791710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259791710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259791710">(Oct 31 2021 at 15:02)</a>:</h4>
<p>What does it mean by "inner doc comment"? That's an outer comment, isn't it?</p>



<a name="259791730"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259791730" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Marcos Bezerra <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259791730">(Oct 31 2021 at 15:03)</a>:</h4>
<p>I guess, maybe the compiler is misinterpreting it?</p>



<a name="259791804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259791804" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259791804">(Oct 31 2021 at 15:05)</a>:</h4>
<p>Oh, you have a  build script</p>



<a name="259791887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259791887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259791887">(Oct 31 2021 at 15:07)</a>:</h4>
<p>I guess outer comments don't work like that with <code>include!</code></p>



<a name="259791984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259791984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Marcos Bezerra <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259791984">(Oct 31 2021 at 15:09)</a>:</h4>
<p>Oh well, I accepted that build script in a PR, but I do have no previous experience with it, thought it was a compiler problem.</p>
<p>Thanks for spotting it! Do you know any solutions to this?</p>



<a name="259792071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259792071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259792071">(Oct 31 2021 at 15:11)</a>:</h4>
<p>Nope, I checked two programs I use, ripgrep and bat. One doesn't seem to ship completions at all, the other appears to have manually-written completion files, and also some commented code that's quite similar to yours.</p>



<a name="259792122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259792122" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Marcos Bezerra <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259792122">(Oct 31 2021 at 15:12)</a>:</h4>
<p>I guess I'll move the things around that file, <span class="user-mention" data-user-id="203546">@Laurențiu</span>, one more thing, shouldn't <code>cargo</code> tell me the this error was produced in the <code>build.rs</code> step of compilation? Just to help debugging?</p>



<a name="259792141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259792141" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259792141">(Oct 31 2021 at 15:13)</a>:</h4>
<p>It's ugly, but you can move that comment to <code>lib.rs</code> and change it to an inner one (<code>///</code>)</p>



<a name="259792152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259792152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259792152">(Oct 31 2021 at 15:13)</a>:</h4>
<p>What about rustup? I believe it uses autogenerated clap completions.</p>



<a name="259792206"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259792206" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259792206">(Oct 31 2021 at 15:14)</a>:</h4>
<p>Last time I checked, rustup looked as if it was written before Rust 1.0. Which is probably true  :D</p>



<a name="259792240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259792240" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259792240">(Oct 31 2021 at 15:15)</a>:</h4>
<p><a href="https://github.com/rust-lang/rustup/blob/38f4479df4b05e2ca9e5249f9a6779f09b5c3901/src/cli/rustup_mode.rs#L194-L205">https://github.com/rust-lang/rustup/blob/38f4479df4b05e2ca9e5249f9a6779f09b5c3901/src/cli/rustup_mode.rs#L194-L205</a></p>
<p><a href="https://github.com/rust-lang/rustup/blob/38f4479df4b05e2ca9e5249f9a6779f09b5c3901/src/cli/rustup_mode.rs#L1665-L1698">https://github.com/rust-lang/rustup/blob/38f4479df4b05e2ca9e5249f9a6779f09b5c3901/src/cli/rustup_mode.rs#L1665-L1698</a></p>



<a name="259792241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259792241" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259792241">(Oct 31 2021 at 15:15)</a>:</h4>
<p>rustup has a completions subcommand</p>



<a name="259792244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259792244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259792244">(Oct 31 2021 at 15:15)</a>:</h4>
<p>This is what rustup uses.</p>



<a name="259792303"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259792303" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259792303">(Oct 31 2021 at 15:16)</a>:</h4>
<p>Yeah, but the binary is larger. Still, it's what I wanted to suggest to @João Marcos Bezerra</p>



<a name="259792309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259792309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259792309">(Oct 31 2021 at 15:17)</a>:</h4>
<p>It makes sense to create them in a build script, but shipping that code isn't too bad either.</p>



<a name="259792596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259792596" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Marcos Bezerra <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259792596">(Oct 31 2021 at 15:24)</a>:</h4>
<p>Thanks for the suggestions, I guess this one will do it for now:</p>
<blockquote>
<p>It's ugly, but you can move that comment to <a href="http://lib.rs">lib.rs</a> and change it to an inner one (///)</p>
</blockquote>



<a name="259792719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259792719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Marcos Bezerra <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259792719">(Oct 31 2021 at 15:26)</a>:</h4>
<p>won't ship with <code>ouch</code> just because we already try to keep the binary size relatively small</p>



<a name="259792737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/259792737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Marcos Bezerra <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#259792737">(Oct 31 2021 at 15:27)</a>:</h4>
<p>but again, thanks for helping with this, I was completely stuck</p>



<a name="260234342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/%E2%9C%94%20Error%20on%20module%20documentation%2C%20%22expected%20outer%20doc%20comm.../near/260234342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laurențiu <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E.html#260234342">(Nov 04 2021 at 06:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="203546">Laurențiu</span> <a href="#narrow/stream/122651-general/topic/.E2.9C.94.20Error.20on.20module.20documentation.2C.20.22expected.20outer.20doc.20comm.2E.2E.2E/near/259791710">said</a>:</p>
<blockquote>
<p>What does it mean by "inner doc comment"? That's an outer comment, isn't it?</p>
</blockquote>
<p>Oh, I always got these reversed and didn't realize it until today.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>