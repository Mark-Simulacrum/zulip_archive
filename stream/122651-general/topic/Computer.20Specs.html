<html>
<head><meta charset="utf-8"><title>Computer Specs · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html">Computer Specs</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="205309079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205309079" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Griffiths <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205309079">(Jul 29 2020 at 01:21)</a>:</h4>
<p>I guess this is barely related to the compiler, but I was wondering what sort of systems people are running. I'm currently compiling the librustc_resolve module, and it'</p>



<a name="205309126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205309126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Griffiths <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205309126">(Jul 29 2020 at 01:22)</a>:</h4>
<p>it's definitely taking it's time. My computer is getting on in years though, so I'm sure that has something to do with it.</p>



<a name="205309754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205309754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205309754">(Jul 29 2020 at 01:35)</a>:</h4>
<p>I think compile times are very relevant</p>



<a name="205309764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205309764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205309764">(Jul 29 2020 at 01:35)</a>:</h4>
<p>I have an Intel 7th gen with 8 cores</p>



<a name="205309785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205309785" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205309785">(Jul 29 2020 at 01:35)</a>:</h4>
<p>Resolve shouldn't take _super_ long though, for me resolve + driver takes 20 seconds and libstd takes 30</p>



<a name="205337381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205337381" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Poliorcetics <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205337381">(Jul 29 2020 at 10:02)</a>:</h4>
<p>I9 8core, i had to do a fully clean build yesterday, 1h00:29s for building from scratch plus all the tests</p>



<a name="205342052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205342052" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205342052">(Jul 29 2020 at 11:03)</a>:</h4>
<p>I would be curious about this as well.</p>



<a name="205342366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205342366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205342366">(Jul 29 2020 at 11:07)</a>:</h4>
<p>AMD Ryzen 9 3950X. Fully clean build without llvm + ui test 05:30s</p>



<a name="205342442"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205342442" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> detrumi <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205342442">(Jul 29 2020 at 11:08)</a>:</h4>
<p>Ryzen 9 3900X with 12 cores. Made compiling rustc a lot more bearable</p>



<a name="205349381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205349381" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lzutao <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205349381">(Jul 29 2020 at 12:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="216206">lcnr</span> <a href="#narrow/stream/122651-general/topic/Computer.20Specs/near/205342366">said</a>:</p>
<blockquote>
<p>AMD Ryzen 9 3950X. Fully clean build without llvm + ui test 05:30s</p>
</blockquote>
<p>Wow. Do you build up to stage1 and you have SSD ?</p>



<a name="205356591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205356591" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205356591">(Jul 29 2020 at 13:35)</a>:</h4>
<blockquote>
<p>without llvm</p>
</blockquote>
<p>That's an important thing :-)</p>



<a name="205356775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205356775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205356775">(Jul 29 2020 at 13:36)</a>:</h4>
<p>Completely clean build, building stage1 for both x86_64- and aarch64-apple-darwin (so 2x LLVM) took me  1:04:22 on a 2.9 GHz 6-Core Intel Core i9.</p>



<a name="205365218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205365218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205365218">(Jul 29 2020 at 14:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="209117">lzutao</span> <a href="#narrow/stream/122651-general/topic/Computer.20Specs/near/205349381">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="216206">lcnr</span> <a href="#narrow/stream/122651-general/topic/Computer.20Specs/near/205342366">said</a>:</p>
<blockquote>
<p>AMD Ryzen 9 3950X. Fully clean build without llvm + ui test 05:30s</p>
</blockquote>
<p>Wow. Do you build up to stage1 and you have SSD ?</p>
</blockquote>
<p>yeah, should have just pasted my command. <code>./x.py test src/test/ui --stage 1</code></p>



<a name="205365319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205365319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205365319">(Jul 29 2020 at 14:39)</a>:</h4>
<p>and I have an ssd, running rustc with a hdd wasn't even slower here though <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="205381613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205381613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205381613">(Jul 29 2020 at 16:41)</a>:</h4>
<p>running all 10000 tests <em>and a full build</em> took you <em>less than 6 minutes</em>????</p>



<a name="205381745"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205381745" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205381745">(Jul 29 2020 at 16:42)</a>:</h4>
<p>ayy</p>



<a name="205381768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205381768" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205381768">(Jul 29 2020 at 16:42)</a>:</h4>
<p>the power of money i guess <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="205386410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205386410" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205386410">(Jul 29 2020 at 17:21)</a>:</h4>
<p>I have a dual core laptop i5-7300U and building rustc_middle alone already takes 11 minutes lol</p>



<a name="205395277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205395277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205395277">(Jul 29 2020 at 18:28)</a>:</h4>
<p>A full from-scratch build with <code>./x.py build library/std</code> (formerly <code>src/libstd</code>), including LLVM, takes 6m12s here, on cloud hardware.</p>



<a name="205395341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205395341" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205395341">(Jul 29 2020 at 18:29)</a>:</h4>
<p>That's with <code>ninja = true</code> in config.toml, which builds LLVM much faster. (Currently submitting a patch to make that the default.)</p>



<a name="205406794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205406794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205406794">(Jul 29 2020 at 20:04)</a>:</h4>
<p><span class="user-mention" data-user-id="239881">@Josh Triplett</span> maybe a _detected_ default? Not everyone has ninja already, as nice as it is...</p>



<a name="205406873"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205406873" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205406873">(Jul 29 2020 at 20:05)</a>:</h4>
<p>I think at least on linux it makes sense to just require it -- people can usually just <code>apt install ninja</code> or the equivalent, right?</p>
<p>We could add to the error message that "hey you can disable this requirement" though.</p>



<a name="205406921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205406921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205406921">(Jul 29 2020 at 20:05)</a>:</h4>
<p>And say "this makes things XX% faster usually, so..."</p>



<a name="205407005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205407005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205407005">(Jul 29 2020 at 20:06)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> we use ninja in CI if that's true, I hope :-)</p>



<a name="205407027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205407027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205407027">(Jul 29 2020 at 20:06)</a>:</h4>
<p>well it's only for llvm and llvm is cached</p>



<a name="205407042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205407042" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205407042">(Jul 29 2020 at 20:06)</a>:</h4>
<p>so not sure it'll be a win</p>



<a name="205407046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205407046" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205407046">(Jul 29 2020 at 20:06)</a>:</h4>
<p>maybe though!</p>



<a name="205407166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205407166" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205407166">(Jul 29 2020 at 20:07)</a>:</h4>
<p>I feel like I've heard "this run is going to fail because the docker cache is bust and it's building LLVM again"</p>



<a name="205407316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205407316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205407316">(Jul 29 2020 at 20:09)</a>:</h4>
<p>hm no docker and llvm cache are entirely separate</p>



<a name="205407327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205407327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205407327">(Jul 29 2020 at 20:09)</a>:</h4>
<p>gotcha</p>



<a name="205407329"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205407329" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205407329">(Jul 29 2020 at 20:09)</a>:</h4>
<p>I know ninja (package <code>ninja-build</code>) is not in RHEL7 repos, only EPEL. RHEL8 does have it though.</p>



<a name="205407330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205407330" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205407330">(Jul 29 2020 at 20:09)</a>:</h4>
<p>docker caches are rebuilds of gcc and such</p>



<a name="205407363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205407363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205407363">(Jul 29 2020 at 20:09)</a>:</h4>
<p>(which may or may not allow or benefit from ninja)</p>



<a name="205407383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205407383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205407383">(Jul 29 2020 at 20:09)</a>:</h4>
<p>but regardless those are like 4+ hours long so I doubt anything we can do will help them all that much</p>



<a name="205407394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Computer%20Specs/near/205407394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Computer.20Specs.html#205407394">(Jul 29 2020 at 20:10)</a>:</h4>
<p>or were, maybe GHA will be better :)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>