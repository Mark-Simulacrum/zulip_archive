<html>
<head><meta charset="utf-8"><title>M1 Pro / aarch64-apple-darwin / apple silicon · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20apple.20silicon.html">M1 Pro / aarch64-apple-darwin / apple silicon</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="262271645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/M1%20Pro%20/%20aarch64-apple-darwin%20/%20apple%20silicon/near/262271645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Reeves <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20apple.20silicon.html#262271645">(Nov 22 2021 at 01:24)</a>:</h4>
<p>Caved and got myself one of the new M1 Pro MacBooks.</p>
<p>First of all, this thing is unreal. I was able to build rustc stage1 from clean in <strong>3.5 minutes</strong>.</p>
<p>Granted, maybe that's only insane to me because I'm coming from a 6 year old dual-core i5 MB Pro. But still, I can't wait to do some more fiddling with rustc now that my build cycle is <span aria-label="fire" class="emoji emoji-1f525" role="img" title="fire">:fire:</span> <span aria-label="fire" class="emoji emoji-1f525" role="img" title="fire">:fire:</span></p>



<a name="262271729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/M1%20Pro%20/%20aarch64-apple-darwin%20/%20apple%20silicon/near/262271729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Reeves <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20apple.20silicon.html#262271729">(Nov 22 2021 at 01:27)</a>:</h4>
<p>But anyway, I didn't just come here to praise the performance of the new macs. I want to know if there's anything an average joe can do to aid the process of Tier-1-ing the aarch64-apple-darwin platform.</p>
<p>When i ran all tests, many of the codegen tests failed. I'm not sure if this is expected due to the Tier 2-ness of the target, or if there's something wrong with my environment.</p>
<p>Let me know if there's any work fit for newcomers that can be done to push apple silicon closer to stable :)</p>



<a name="262286363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/M1%20Pro%20/%20aarch64-apple-darwin%20/%20apple%20silicon/near/262286363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Kratz <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20apple.20silicon.html#262286363">(Nov 22 2021 at 07:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="435059">Ben Reeves</span> <a href="#narrow/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20apple.20silicon/near/262271729">said</a>:</p>
<blockquote>
<p>When i ran all tests, many of the codegen tests failed. I'm not sure if this is expected due to the Tier 2-ness of the target, or if there's something wrong with my environment.</p>
</blockquote>
<p>The tests run without error for me with <code>./x.py --stage 1</code> on a Mac Mini M1 with Monterey and current master (f7c48297ce2). What is the content of your config.toml file, how exactly did you invoke x.py and how are the tests failing for you?</p>



<a name="262338677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/M1%20Pro%20/%20aarch64-apple-darwin%20/%20apple%20silicon/near/262338677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20apple.20silicon.html#262338677">(Nov 22 2021 at 16:01)</a>:</h4>
<blockquote>
<p>if there's anything an average joe can do to aid the process of Tier-1-ing the aarch64-apple-darwin platform.</p>
</blockquote>
<p>No. We are waiting for CI providers to catch up.</p>
<blockquote>
<p>many of the codegen tests failed</p>
</blockquote>
<p>You likely haven't installed Rosetta yet.</p>



<a name="262338819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/M1%20Pro%20/%20aarch64-apple-darwin%20/%20apple%20silicon/near/262338819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20apple.20silicon.html#262338819">(Nov 22 2021 at 16:02)</a>:</h4>
<p>so, I suppose you could do whatever appropriate work to get those binaries to be built for Silicon, or properly gate them so they aren't run on Silicon</p>



<a name="262338845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/M1%20Pro%20/%20aarch64-apple-darwin%20/%20apple%20silicon/near/262338845" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20apple.20silicon.html#262338845">(Nov 22 2021 at 16:02)</a>:</h4>
<p>depending on what the tests do, of course.</p>



<a name="262340366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/M1%20Pro%20/%20aarch64-apple-darwin%20/%20apple%20silicon/near/262340366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/M1.20Pro.20.2F.20aarch64-apple-darwin.20.2F.20apple.20silicon.html#262340366">(Nov 22 2021 at 16:12)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/73908">https://github.com/rust-lang/rust/issues/73908</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>