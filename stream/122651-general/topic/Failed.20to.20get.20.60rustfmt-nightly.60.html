<html>
<head><meta charset="utf-8"><title>Failed to get `rustfmt-nightly` · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/Failed.20to.20get.20.60rustfmt-nightly.60.html">Failed to get `rustfmt-nightly`</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="208375798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Failed%20to%20get%20%60rustfmt-nightly%60/near/208375798" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/Failed.20to.20get.20.60rustfmt-nightly.60.html#208375798">(Aug 28 2020 at 17:59)</a>:</h4>
<p>I just ran <code>./x.py check</code> when rebasing a PR and I got this error:</p>
<div class="codehilite"><pre><span></span><code>error: failed to select a version for the requirement `rustfmt-nightly = &quot;^1.4.20&quot;`
</code></pre></div>


<p>Here's the full output:</p>
<div class="codehilite"><pre><span></span><code>Updating only changed submodules
Updating submodule src/doc/nomicon
Updating submodule src/tools/cargo
Updating submodule src/doc/reference
Updating submodule src/doc/book
Updating submodule src/tools/rls
Updating submodule src/tools/miri
Updating submodule src/doc/rust-by-example
Updating submodule src/llvm-project
Updating submodule src/doc/embedded-book
Updating submodule src/tools/rust-analyzer
Submodules updated in 38.71 seconds
warning: patch for the non root package will be ignored, specify patch at the workspace root:
package:   /Users/tous/Documents/Dev/rust/src/tools/rls/Cargo.toml
workspace: /Users/tous/Documents/Dev/rust/Cargo.toml
    Updating crates.io index
error: failed to select a version for the requirement `rustfmt-nightly = &quot;^1.4.20&quot;`
candidate versions found which didn&#39;t match: 1.4.19, 1.4.18, 1.4.17, ...
location searched: crates.io index
required by package `rls v1.41.0 (/Users/tous/Documents/Dev/rust/src/tools/rls)`
failed to run: /Users/tous/Documents/Dev/rust/build/x86_64-apple-darwin/stage0/bin/cargo build --manifest-path /Users/tous/Documents/Dev/rust/src/bootstrap/Cargo.toml
Build completed unsuccessfully in 0:00:40
</code></pre></div>


<p>Did I forget something or do something wrong? Is this a known issue?</p>



<a name="208377012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Failed%20to%20get%20%60rustfmt-nightly%60/near/208377012" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/Failed.20to.20get.20.60rustfmt-nightly.60.html#208377012">(Aug 28 2020 at 18:11)</a>:</h4>
<p><span class="user-mention" data-user-id="255061">@LeSeulArtichaut</span> try setting <code>extended = false</code> in <code>config.toml</code>?</p>



<a name="208377738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Failed%20to%20get%20%60rustfmt-nightly%60/near/208377738" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/122651-general/topic/Failed.20to.20get.20.60rustfmt-nightly.60.html#208377738">(Aug 28 2020 at 18:18)</a>:</h4>
<p>Seems like it was an issue due to a misuse of git submodules. I don't know exactly how they work, but unstaging everything and running <code>git submodule update</code> fixed it</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>