<html>
<head><meta charset="utf-8"><title>Compilation Duration Reporting · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html">Compilation Duration Reporting</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="217989888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217989888" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217989888">(Nov 26 2020 at 11:18)</a>:</h4>
<p>Hey; what's the name again of the compilation duration reporting tool built into Rust? Having a hard time searching for it <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="217989928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217989928" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217989928">(Nov 26 2020 at 11:18)</a>:</h4>
<p>I need it for work; we want to speed up our build times, and measuring is probably the first place to start</p>



<a name="217989971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217989971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217989971">(Nov 26 2020 at 11:19)</a>:</h4>
<p>using -Zself-profile you mean ?</p>



<a name="217989989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217989989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217989989">(Nov 26 2020 at 11:19)</a>:</h4>
<p>if so, either <a href="https://github.com/rust-lang/measureme">https://github.com/rust-lang/measureme</a> or one of its tools</p>



<a name="217989998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217989998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217989998">(Nov 26 2020 at 11:19)</a>:</h4>
<p>yes! -- thank you, that's what I meant</p>



<a name="217990004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990004" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990004">(Nov 26 2020 at 11:19)</a>:</h4>
<p>yay :D</p>



<a name="217990071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990071">(Nov 26 2020 at 11:20)</a>:</h4>
<p>for build times, there's also cargo's build plans</p>



<a name="217990084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990084" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990084">(Nov 26 2020 at 11:20)</a>:</h4>
<p>oh? not sure I've seen that before?</p>



<a name="217990123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990123">(Nov 26 2020 at 11:20)</a>:</h4>
<p>let me get you a link</p>



<a name="217990245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990245" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990245">(Nov 26 2020 at 11:22)</a>:</h4>
<p><a href="https://doc.rust-lang.org/nightly/cargo/reference/unstable.html#timings">https://doc.rust-lang.org/nightly/cargo/reference/unstable.html#timings</a> IIRC</p>



<a name="217990281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990281" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990281">(Nov 26 2020 at 11:22)</a>:</h4>
<p>oh amazing; thank you!</p>



<a name="217990291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990291" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990291">(Nov 26 2020 at 11:22)</a>:</h4>
<p>that's more meta, for the whole pipeline, to see which crates are slowing down the build and so on</p>



<a name="217990309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990309">(Nov 26 2020 at 11:23)</a>:</h4>
<p>That sounds like what we're looking for</p>



<a name="217990330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990330" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990330">(Nov 26 2020 at 11:23)</a>:</h4>
<p>while the self-profiling and reporting with a flamegraph, profile or summary is more fine grained for parts of rustc itself</p>



<a name="217990339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990339">(Nov 26 2020 at 11:23)</a>:</h4>
<p>_ah_</p>



<a name="217990347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990347">(Nov 26 2020 at 11:23)</a>:</h4>
<p>that makes sense</p>



<a name="217990470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990470">(Nov 26 2020 at 11:24)</a>:</h4>
<p>the latter can also sometimes help see a bit more into which parts of your code are taking a long time to compile (with events capture) but it's not that obvious yet</p>



<a name="217990498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990498">(Nov 26 2020 at 11:25)</a>:</h4>
<p>in any case here's some intro doc for the self profiler if you need it <a href="https://blog.rust-lang.org/inside-rust/2020/02/25/intro-rustc-self-profile.html">https://blog.rust-lang.org/inside-rust/2020/02/25/intro-rustc-self-profile.html</a></p>



<a name="217990529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990529">(Nov 26 2020 at 11:25)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> this has all been incredibly helpful; thanks so much!</p>



<a name="217990548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217990548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217990548">(Nov 26 2020 at 11:25)</a>:</h4>
<p>sure, np</p>



<a name="217996085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/Compilation%20Duration%20Reporting/near/217996085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> phaazon <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/Compilation.20Duration.20Reporting.html#217996085">(Nov 26 2020 at 12:32)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="116113">@lqd</span>, every day I learn something new thank to you!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>