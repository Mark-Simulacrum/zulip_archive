<html>
<head><meta charset="utf-8"><title>no_builtins linking error · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/no_builtins.20linking.20error.html">no_builtins linking error</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="272491449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/no_builtins%20linking%20error/near/272491449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gray Jack <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/no_builtins.20linking.20error.html#272491449">(Feb 19 2022 at 04:12)</a>:</h4>
<p>I'm with an issue here, so I want to get some help from more knowledgeable people <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> </p>
<p>I was playing around with a toy project, creating some functions and I wanted to see the results without the compiler identifying some built-in intrinsic and optimizing to use the intrinsic. I added <code>#![no_builtins]</code> on my lib crate and now I'm getting this linking error:</p>
<div class="codehilite"><pre><span></span><code>error: linking with `clang` failed: exit status: 1
  |
  = note: &quot;clang&quot; &quot;-m64&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.3gjmyemkdwpdbs87.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.addr2line-a53256cbf12c5e40.addr2line.fb2bfbbf-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.adler-63c9c6ed2f71b398.adler.0414222d-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.alloc-cd90985afc868a6d.alloc.e7ce7749-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.cfg_if-9166aee941371fa5.cfg_if.84a330bd-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.core-0e3656b1fda5fd7b.core.e791ed52-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.cty-fc20754fd08c0a75.cty.52cd3f0f-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.gimli-d076501d614ddd5d.gimli.5f1ecad7-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.hashbrown-c52b4818022f32c3.hashbrown.8b09020c-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.libc-e869a247063ed69a.libc.53e2bb55-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.libmimalloc_sys-f151668f6f269c15.libmimalloc_sys.4e2cb567-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.1.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.10.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.11.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.12.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.13.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.14.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.15.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.2.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.3.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.4.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.5.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.6.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.7.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.8.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-77e104f2296ea46d.memchr.6512b008-cgu.9.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.memchr-a92344eafcadd40d.memchr.79dad6fb-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.mimalloc-a6ae91c8a9dfcba7.mimalloc.85aa7e14-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.miniz_oxide-8fd2f24f083ee871.miniz_oxide.fa73c4c2-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.object-ac6764d7272415e2.object.c6d93ef4-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.panic_unwind-7333b08131ad69c0.panic_unwind.27dc6883-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.rustc_demangle-dc343399b5db12bf.rustc_demangle.4f2cf031-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.rustc_std_workspace_alloc-5ad6d336de25263f.rustc_std_workspace_alloc.4e7688c2-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.rustc_std_workspace_core-2a6a2797f7a73818.rustc_std_workspace_core.9347a7d1-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.std-fad6565a4a24ca7c.std.f73a3273-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.std_detect-8e60620ba8892302.std_detect.5545ddc8-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.sugars-bf5a976e13192019.sugars.2c6caa16-cgu.0.rcgu.o.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.tests.b3eb7a26-cgu.0.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.tests.b3eb7a26-cgu.1.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.tests.b3eb7a26-cgu.10.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.tests.b3eb7a26-cgu.2.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.tests.b3eb7a26-cgu.3.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.tests.b3eb7a26-cgu.4.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.tests.b3eb7a26-cgu.5.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.tests.b3eb7a26-cgu.6.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.tests.b3eb7a26-cgu.7.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.tests.b3eb7a26-cgu.8.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.tests.b3eb7a26-cgu.9.rcgu.o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9.unwind-3b7b15eacc8412be.unwind.c92e3e93-cgu.0.rcgu.o.rcgu.o&quot; &quot;-Wl,--as-needed&quot; &quot;-L&quot; &quot;/home/grayjack/.cargo/target/release/deps&quot; &quot;-L&quot; &quot;/home/grayjack/.cargo/target/release/build/libmimalloc-sys-57e86b34da5a24cf/out&quot; &quot;-L&quot; &quot;/home/grayjack/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib&quot; &quot;-Wl,-Bstatic&quot; &quot;/home/grayjack/.cargo/target/release/deps/liboxilibc-dea2b9afc469e77d.rlib&quot; &quot;/tmp/rustcH8s2jx/liblibmimalloc_sys-f151668f6f269c15.rlib&quot; &quot;-Wl,--start-group&quot; &quot;-Wl,--end-group&quot; &quot;/home/grayjack/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcompiler_builtins-2e57f9284f7a2443.rlib&quot; &quot;-Wl,-Bdynamic&quot; &quot;-lgcc_s&quot; &quot;-lutil&quot; &quot;-lrt&quot; &quot;-lpthread&quot; &quot;-lm&quot; &quot;-ldl&quot; &quot;-lc&quot; &quot;-Wl,--eh-frame-hdr&quot; &quot;-Wl,-znoexecstack&quot; &quot;-L&quot; &quot;/home/grayjack/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib&quot; &quot;-o&quot; &quot;/home/grayjack/.cargo/target/release/deps/tests-215f5234c2d6d4d9&quot; &quot;-Wl,--gc-sections&quot; &quot;-pie&quot; &quot;-Wl,-zrelro,-znow&quot; &quot;-Wl,-O1&quot; &quot;-nodefaultlibs&quot; &quot;-fuse-ld=lld&quot;
  = note: ld.lld: error: undefined symbol: memchr::memchr::x86::sse2::memchr::hf6220205da223e33
          &gt;&gt;&gt; referenced by oxilibc.36693e76-cgu.2
          &gt;&gt;&gt;               oxilibc-dea2b9afc469e77d.oxilibc.36693e76-cgu.2.rcgu.o:(memchr) in archive /home/grayjack/.cargo/target/release/deps/liboxilibc-dea2b9afc469e77d.rlib
          clang-13: error: linker command failed with exit code 1 (use -v to see invocation)
</code></pre></div>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>