<html>
<head><meta charset="utf-8"><title>seeing stderr while running AFL · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/seeing.20stderr.20while.20running.20AFL.html">seeing stderr while running AFL</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="269028141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/seeing%20stderr%20while%20running%20AFL/near/269028141" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/seeing.20stderr.20while.20running.20AFL.html#269028141">(Jan 23 2022 at 17:09)</a>:</h4>
<ol>
<li>Where is the place that people get help with using <code>cargo afl</code> or <code>cargo fuzz</code>? I can't tell from their book or repos. </li>
<li>I have a strange crash when fuzzing only. I want to debug it by seeing the <code>stdout</code> / <code>stderr</code> of my program. Setting <code>AFL_DEBUG_CHILD=1</code> doesn't seem to do anything. What's the trick to enabling this?</li>
</ol>



<a name="269032886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/seeing%20stderr%20while%20running%20AFL/near/269032886" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/seeing.20stderr.20while.20running.20AFL.html#269032886">(Jan 23 2022 at 18:48)</a>:</h4>
<p>Hmm. Is it possible that <code>panic!</code> don’t flush?  Or maybe <code>cargo afl</code> does <code>panic=abort</code> and that doesn’t print out messages before aborting?</p>



<a name="269033577"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/seeing%20stderr%20while%20running%20AFL/near/269033577" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/seeing.20stderr.20while.20running.20AFL.html#269033577">(Jan 23 2022 at 19:03)</a>:</h4>
<p>panic=abort should still print the message before aborting</p>



<a name="269035009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/seeing%20stderr%20while%20running%20AFL/near/269035009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/seeing.20stderr.20while.20running.20AFL.html#269035009">(Jan 23 2022 at 19:33)</a>:</h4>
<p>That’s certainly what I would have hoped; haven’t tested yet.</p>
<p>I did change my <code>panic!(…)</code> to a <code>eprintln!(…); panic!()</code> and see the output now, which is why I came up with that hypothesis.</p>



<a name="269035150"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/seeing%20stderr%20while%20running%20AFL/near/269035150" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/seeing.20stderr.20while.20running.20AFL.html#269035150">(Jan 23 2022 at 19:36)</a>:</h4>
<div class="codehilite"><pre><span></span><code>thread &#39;main&#39; panicked at &#39;foo&#39;, src/main.rs:3:5
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
Aborted (core dumped)
</code></pre></div>



<a name="269035178"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/seeing%20stderr%20while%20running%20AFL/near/269035178" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/seeing.20stderr.20while.20running.20AFL.html#269035178">(Jan 23 2022 at 19:37)</a>:</h4>
<p>maybe it depends on on what stderr is? line vs. block buffering</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>