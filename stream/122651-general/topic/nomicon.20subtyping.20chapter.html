<html>
<head><meta charset="utf-8"><title>nomicon subtyping chapter · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/index.html">general</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html">nomicon subtyping chapter</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="273086394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/nomicon%20subtyping%20chapter/near/273086394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Conrad Ludgate <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html#273086394">(Feb 24 2022 at 13:07)</a>:</h4>
<p>Hey, a couple weeks back <span class="user-mention" data-user-id="433532">@mejrs</span> and I were chatting on discord about the Subtyping and Variance chapter. We seemed to agree with others that it's currently geared very much towards OOP and not towards Rust thinking. As such, it's not very suitable as a document to help Rust developers avoid safety violations.</p>
<p>Anecdote: I had read through it several times without actually understanding the purpose, and I still needed people on the discord to explain it to me.</p>
<p>So, I have re-written it <a href="https://github.com/rust-lang/nomicon/pull/340">https://github.com/rust-lang/nomicon/pull/340</a> and I'd appreciate any feedback. I am intending to A/B test the two documents with my peers at work, but I haven't had the time to put together the survey just yet</p>



<a name="273089277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/nomicon%20subtyping%20chapter/near/273089277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html#273089277">(Feb 24 2022 at 13:35)</a>:</h4>
<p>You may want to also show this to <a class="stream" data-stream-id="136281" href="/#narrow/stream/136281-t-lang.2Fwg-unsafe-code-guidelines">#t-lang/wg-unsafe-code-guidelines</a></p>



<a name="273095214"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/nomicon%20subtyping%20chapter/near/273095214" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html#273095214">(Feb 24 2022 at 14:23)</a>:</h4>
<p>Cc <span class="user-group-mention" data-user-group-id="692">@WG-traits</span>  too (I want to take a look at this at some point)</p>



<a name="273095903"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/nomicon%20subtyping%20chapter/near/273095903" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html#273095903">(Feb 24 2022 at 14:29)</a>:</h4>
<p>oh this is a great idea, the original chapter never made any sense to me because of the focus on animals instead of lifetimes <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="273108494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/nomicon%20subtyping%20chapter/near/273108494" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html#273108494">(Feb 24 2022 at 15:59)</a>:</h4>
<p>Personally, I thought it was very helpful to have a more 'concrete' example of subtyping</p>



<a name="273112094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/nomicon%20subtyping%20chapter/near/273112094" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html#273112094">(Feb 24 2022 at 16:22)</a>:</h4>
<p>I found it confusing because the animal examples dont actually feel like they relate back to lifetimes in any way</p>



<a name="273112154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/nomicon%20subtyping%20chapter/near/273112154" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html#273112154">(Feb 24 2022 at 16:22)</a>:</h4>
<p>for example <code>'static</code> can be turned into _any_ lifetime but there is no equivelent for this in the animal/cat/dog/whatever exampels</p>



<a name="273112198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/nomicon%20subtyping%20chapter/near/273112198" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html#273112198">(Feb 24 2022 at 16:23)</a>:</h4>
<p>and with the animal stuff everything can be turned into an animal, its like the opposite of how <code>'static</code> works <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="273112424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/nomicon%20subtyping%20chapter/near/273112424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html#273112424">(Feb 24 2022 at 16:24)</a>:</h4>
<p>I can see why a concrete example could be useful but it just didn't work for me because the animal stuff doesnt seem to nicely map onto lifetimes</p>



<a name="273125567"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/nomicon%20subtyping%20chapter/near/273125567" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Conrad Ludgate <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html#273125567">(Feb 24 2022 at 17:55)</a>:</h4>
<p>Yeah my problem is that it never made sense as to why I needed to read the page that was being presented to me. The explanation using Animals was presented up front with no context, and by the time it finally got to lifetimes, nothing had stuck.</p>
<p>The issue that mejrs' raised included this blog post that has some good points regarding this: <a href="https://viralinstruction.com/posts/defense/">https://viralinstruction.com/posts/defense/</a></p>



<a name="273125767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/nomicon%20subtyping%20chapter/near/273125767" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Conrad Ludgate <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html#273125767">(Feb 24 2022 at 17:56)</a>:</h4>
<p>My original intention was to just restructure it to present the lifetime problem up front, but I realised that switching between lifetimes and animals got confusing quickly</p>



<a name="273128479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/nomicon%20subtyping%20chapter/near/273128479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Macleod <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html#273128479">(Feb 24 2022 at 18:15)</a>:</h4>
<p>I liked the original as well, reading it was the first time variance really clicked for me. The new one is definitely more directly applicable to rust, but I feel its a shame to lose the old examples</p>



<a name="273129963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/nomicon%20subtyping%20chapter/near/273129963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Conrad Ludgate <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html#273129963">(Feb 24 2022 at 18:26)</a>:</h4>
<p>I wonder how much this relates to experience with OOP concepts. My background has very little OOP, so while I understand classes and inheritance, the concepts didn't feel natural to me. Especially since it _forced_ itself into rust as an abstract concept</p>



<a name="273157153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122651-general/topic/nomicon%20subtyping%20chapter/near/273157153" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mejrs <a href="https://zulip-archive.rust-lang.org/stream/122651-general/topic/nomicon.20subtyping.20chapter.html#273157153">(Feb 24 2022 at 22:18)</a>:</h4>
<p>I don't have much experience with really OOP designs, and I think I understand the ideas behind it pretty well but the animal analogies didn't really do much for me<br>
I have trouble understanding how it relates to rust</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>