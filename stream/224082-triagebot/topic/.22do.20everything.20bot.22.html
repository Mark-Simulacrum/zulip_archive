<html>
<head><meta charset="utf-8"><title>&quot;do everything bot&quot; · triagebot · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/index.html">triagebot</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html">&quot;do everything bot&quot;</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="189209512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189209512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189209512">(Feb 27 2020 at 12:36)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> moving from the bisect-rustc topic</p>



<a name="189209536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189209536" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189209536">(Feb 27 2020 at 12:36)</a>:</h4>
<p>I would sort of like if triagebot becomes the place for most of our automation</p>



<a name="189209570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189209570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189209570">(Feb 27 2020 at 12:37)</a>:</h4>
<p>like, a thing I'd love is a button somewhere so that team members can automatically get the deploy keys for github pages configured</p>



<a name="189209646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189209646" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189209646">(Feb 27 2020 at 12:38)</a>:</h4>
<p>or possibly a button "please open a PR filling my team repo details"</p>



<a name="189209696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189209696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189209696">(Feb 27 2020 at 12:39)</a>:</h4>
<p>just bikeshedding... <code>@rustbot</code> / <code>bot.rust-lang.org</code> / <code>rust-lang/bot</code>?</p>



<a name="189209902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189209902" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189209902">(Feb 27 2020 at 12:42)</a>:</h4>
<p>I think rustbot, which is what we have now is fine</p>



<a name="189209921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189209921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189209921">(Feb 27 2020 at 12:42)</a>:</h4>
<p>(possibly rust-bot if it's a GitHub app)</p>



<a name="189209936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189209936" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189209936">(Feb 27 2020 at 12:42)</a>:</h4>
<p>I would put it at either triage.r-lo or infra.r-l.o or so</p>



<a name="189209973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189209973" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189209973">(Feb 27 2020 at 12:43)</a>:</h4>
<p>It's not really a bot - that's not the main point</p>



<a name="189209993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189209993" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189209993">(Feb 27 2020 at 12:43)</a>:</h4>
<p>Just a helper</p>



<a name="189221960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189221960" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189221960">(Feb 27 2020 at 15:12)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> I've been experimenting with GitHub Actions for these kinds of tasks, since they don't require any additional infrastructure, and you can use actions inline in your repo, so the behaviour and automation can be made to suit specific use cases. Right now I'm making a <code>mdbook-deploy</code> action to build and deploy mdbook projects to gh-pages as well experimenting with an action to automatically create personalised repositories for project groups from the template when someone adds a project to <code>team</code>.</p>



<a name="189221991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189221991" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189221991">(Feb 27 2020 at 15:12)</a>:</h4>
<p>iirc they didn't fix not being able to push to github pages from actions</p>



<a name="189222005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189222005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189222005">(Feb 27 2020 at 15:13)</a>:</h4>
<p>that's why we still need deploy keys</p>



<a name="189222121"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189222121" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189222121">(Feb 27 2020 at 15:14)</a>:</h4>
<p>I'd <em>love</em> to be able to stop using them, but well, unless they fixed it last week without updating the feedback issue we can't do that</p>



<a name="189222130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189222130" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189222130">(Feb 27 2020 at 15:14)</a>:</h4>
<p>I know, I'm not saying it fixes that specific problem.</p>



<a name="189222211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189222211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189222211">(Feb 27 2020 at 15:15)</a>:</h4>
<blockquote>
<p>or possibly a button "please open a PR filling my team repo details"</p>
</blockquote>
<p>I was more talking about something like that.</p>



<a name="189222217"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189222217" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189222217">(Feb 27 2020 at 15:15)</a>:</h4>
<p>I personally also find GHA somewhat painful to configure in a new repo (you need to copy a bunch of files and configure things, etc.)</p>



<a name="189222260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189222260" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189222260">(Feb 27 2020 at 15:15)</a>:</h4>
<p><span class="user-mention" data-user-id="219696">@XAMPPRocky</span> not sure how what you propose would fix the problem?</p>



<a name="189222262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189222262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189222262">(Feb 27 2020 at 15:15)</a>:</h4>
<p>and for some of this it's just much easier to do with a webpage, I feel</p>



<a name="189222344"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189222344" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189222344">(Feb 27 2020 at 15:16)</a>:</h4>
<p>I probably didn't explain myself clearly, but that suggestion was for people adding themselves in the repo for the first time (like icebreakers), to remove the need to clone the repo and run the <code>add-person</code> command</p>



<a name="189222524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189222524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189222524">(Feb 27 2020 at 15:18)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> There are templates provided by GitHub that have worked pretty well for me. <a href="https://github.com/actions/typescript-action" target="_blank" title="https://github.com/actions/typescript-action">https://github.com/actions/typescript-action</a></p>



<a name="189222703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189222703" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189222703">(Feb 27 2020 at 15:20)</a>:</h4>
<p>I don't personally think templates solve anything</p>



<a name="189222713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189222713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189222713">(Feb 27 2020 at 15:21)</a>:</h4>
<p>like they're excellent to have</p>



<a name="189222721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189222721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189222721">(Feb 27 2020 at 15:21)</a>:</h4>
<p>but the overhead is still too high</p>



<a name="189222727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189222727" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189222727">(Feb 27 2020 at 15:21)</a>:</h4>
<p>compared to pushing a button</p>



<a name="189223475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189223475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189223475">(Feb 27 2020 at 15:29)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span>  Right, what I'm saying that it's actually quite easy to do that through GitHub Actions (far easier than a button), and that we could do it in ways that are more intuitive to a GitHub workflow. Because you can have any action triggered by a webhook event.</p>
<p>For example you can create a workflow that triggers on every new comment in an pull request or an issue. That means we could do something like open a PR for the next icebreakers group and then anyone who puts "add me" in the pull request automatically gets added as a commit to that pull request.</p>



<a name="189223820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189223820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189223820">(Feb 27 2020 at 15:32)</a>:</h4>
<p>The problems with a button on a website is authentication, people either need to sign in to your github app to work, or you have to create a server based app storing the secret that makes the actual pull request. Where as with GitHub Actions we can store the secret in the repo itself.</p>



<a name="189224477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189224477" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189224477">(Feb 27 2020 at 15:39)</a>:</h4>
<p>I personally find GH actions sufficiently opaque that I'd prefer it to run on our own infra. That might be a lack of experience speaking, though.</p>



<a name="189224581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189224581" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189224581">(Feb 27 2020 at 15:40)</a>:</h4>
<p>e.g. for the PR/issue and "add me" I personally find that a bit less nice than a landing page that says 'join us by clicking [here].</p>



<a name="189225401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189225401" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189225401">(Feb 27 2020 at 15:48)</a>:</h4>
<p>Or maybe even just links on forge to it</p>



<a name="189227361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189227361" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189227361">(Feb 27 2020 at 16:07)</a>:</h4>
<blockquote>
<p>e.g. for the PR/issue and "add me" I personally find that a bit less nice than a landing page that says 'join us by clicking [here].</p>
</blockquote>
<p>A landing page has to be designed and maintained, and advantage of a comment is it very low friction, both on the user and the integration side.</p>
<blockquote>
<p>I personally find GH actions sufficiently opaque that I'd prefer it to run on our own infra. That might be a lack of experience speaking, though.</p>
</blockquote>
<p>I definitely disagree that it's opaque, and I don't understand how it's not our own infra, it is what we're using in a lot of projects on <code>rust-lang</code>. Actions are entirely git based, so you can easily create and share your own infra, and fork and extend any of GitHub's infra. For example I made the <a href="https://github.com/rust-lang/simpleinfra/tree/master/github-actions/simple-ci" target="_blank" title="https://github.com/rust-lang/simpleinfra/tree/master/github-actions/simple-ci"><code>simple-ci</code></a> action to simplify the CI for some projects in the <code>rust-lang</code> org where the CI script is always the same <code>cargo build &amp;&amp; cargo test</code>. And this is the entire script.</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">process</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;process&#39;</span><span class="p">)</span>
<span class="c1">// Third Party libraries</span>
<span class="kr">const</span> <span class="nx">actions</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@actions/core&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">exec</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@actions/exec&#39;</span><span class="p">)</span>
<span class="c1">// Configuration</span>
<span class="kr">const</span> <span class="nx">checkFmt</span> <span class="o">=</span> <span class="nx">actions</span><span class="p">.</span><span class="nx">getInput</span><span class="p">(</span><span class="s1">&#39;check_fmt&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="kc">false</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">main</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">checkFmt</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">try</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">exec</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="s1">&#39;which&#39;</span><span class="p">,</span> <span class="s1">&#39;rustfmt&#39;</span><span class="p">)</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">exec</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="s1">&#39;rustup&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="s1">&#39;rustfmt&#39;</span><span class="p">])</span>
      <span class="p">}</span>
      <span class="nx">await</span> <span class="nx">exec</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="s1">&#39;cargo&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;fmt&#39;</span><span class="p">,</span> <span class="s1">&#39;--check&#39;</span><span class="p">])</span>
    <span class="p">}</span>

    <span class="nx">await</span> <span class="nx">exec</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="s1">&#39;cargo&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;build&#39;</span><span class="p">,</span> <span class="s1">&#39;--workspace&#39;</span><span class="p">])</span>
    <span class="nx">await</span> <span class="nx">exec</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="s1">&#39;cargo&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;--workspace&#39;</span><span class="p">])</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
    <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">()</span>
</pre></div>



<a name="189233567"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/189233567" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#189233567">(Feb 27 2020 at 17:11)</a>:</h4>
<blockquote>
<p>Where as with GitHub Actions we can store the secret in the repo itself.</p>
</blockquote>
<p>I definitely don't want to store sensitive secrets on github actions if we can avoid it</p>



<a name="190621705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/190621705" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#190621705">(Mar 15 2020 at 00:22)</a>:</h4>
<p>Sorry I don't think I was clear I meant the secrets that you can store on a repo. <a href="https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets" target="_blank" title="https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets">https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets</a></p>



<a name="190638969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/190638969" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#190638969">(Mar 15 2020 at 09:41)</a>:</h4>
<p><span class="user-mention" data-user-id="219696">@XAMPPRocky</span> yep I'm aware of those, still, I'd prefer not to store the secrets on gha</p>



<a name="190641010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/190641010" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#190641010">(Mar 15 2020 at 10:35)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> Can you expand on your motivation? Because without that, it seems like a bit of FUD to me.</p>



<a name="190641011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/190641011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#190641011">(Mar 15 2020 at 10:35)</a>:</h4>
<p>in private</p>



<a name="190641018"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/190641018" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#190641018">(Mar 15 2020 at 10:35)</a>:</h4>
<p>(pinged you on discord)</p>



<a name="190641460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%22do%20everything%20bot%22/near/190641460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.22do.20everything.20bot.22.html#190641460">(Mar 15 2020 at 10:47)</a>:</h4>
<p>clarified with erin in private (btw, this is related to the team repo specifically, most other repos can use gha secrets just fine)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>