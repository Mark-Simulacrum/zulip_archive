<html>
<head><meta charset="utf-8"><title>✔ how to enable `tracing::debug` for entire triagebot cod... · triagebot · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/index.html">triagebot</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.E2.9C.94.20how.20to.20enable.20.60tracing.3A.3Adebug.60.20for.20entire.20triagebot.20cod.2E.2E.2E.html">✔ how to enable `tracing::debug` for entire triagebot cod...</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="267815361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%E2%9C%94%20how%20to%20enable%20%60tracing%3A%3Adebug%60%20for%20entire%20triagebot%20cod.../near/267815361" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chaz Kiker <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.E2.9C.94.20how.20to.20enable.20.60tracing.3A.3Adebug.60.20for.20entire.20triagebot.20cod.2E.2E.2E.html#267815361">(Jan 13 2022 at 02:15)</a>:</h4>
<p>So even without the quotes, the same issue seems to be occurring. <code>log::info!</code> calls from <code>main.rs</code> output properly, but nothing from <code>lib.rs</code> or elsewhere seems to hit. </p>
<p>Here's the output when running locally and hitting <code>@rustbot assign @chazkiker2</code>: </p>
<p><a href="/user_uploads/4715/vpI8XqFRy2rTXtKmu8L8PE0M/Screen-Shot-2022-01-12-at-7.21.05-PM.png">Screen-Shot-2022-01-12-at-7.21.05-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/vpI8XqFRy2rTXtKmu8L8PE0M/Screen-Shot-2022-01-12-at-7.21.05-PM.png" title="Screen-Shot-2022-01-12-at-7.21.05-PM.png"><img src="/user_uploads/4715/vpI8XqFRy2rTXtKmu8L8PE0M/Screen-Shot-2022-01-12-at-7.21.05-PM.png"></a></div><p>I would've expected the following lines from <code>lib.rs</code> to be outputting as well:</p>
<p><a href="/user_uploads/4715/9Q_exu6bhzz5LiLrr--AeEfN/Screen-Shot-2022-01-12-at-7.14.28-PM.png">Screen-Shot-2022-01-12-at-7.14.28-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/9Q_exu6bhzz5LiLrr--AeEfN/Screen-Shot-2022-01-12-at-7.14.28-PM.png" title="Screen-Shot-2022-01-12-at-7.14.28-PM.png"><img src="/user_uploads/4715/9Q_exu6bhzz5LiLrr--AeEfN/Screen-Shot-2022-01-12-at-7.14.28-PM.png"></a></div><p>The same thing happens with both of the following <code>RUST_LOG</code> env variables: </p>
<div class="codehilite"><pre><span></span><code>RUST_LOG=triagebot=debug,triagebot::lib=debug
</code></pre></div>
<p>or </p>
<div class="codehilite"><pre><span></span><code>RUST_LOG=triagebot=debug
</code></pre></div>



<a name="267815419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%E2%9C%94%20how%20to%20enable%20%60tracing%3A%3Adebug%60%20for%20entire%20triagebot%20cod.../near/267815419" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.E2.9C.94.20how.20to.20enable.20.60tracing.3A.3Adebug.60.20for.20entire.20triagebot.20cod.2E.2E.2E.html#267815419">(Jan 13 2022 at 02:16)</a>:</h4>
<p>The first screenshot seems to suggest a link failure? i.e., before we even complete building triagebot</p>



<a name="267815454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%E2%9C%94%20how%20to%20enable%20%60tracing%3A%3Adebug%60%20for%20entire%20triagebot%20cod.../near/267815454" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.E2.9C.94.20how.20to.20enable.20.60tracing.3A.3Adebug.60.20for.20entire.20triagebot.20cod.2E.2E.2E.html#267815454">(Jan 13 2022 at 02:17)</a>:</h4>
<p>Yeah, try <code>cargo clean</code> to see if it fixes the link error</p>



<a name="267815465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%E2%9C%94%20how%20to%20enable%20%60tracing%3A%3Adebug%60%20for%20entire%20triagebot%20cod.../near/267815465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.E2.9C.94.20how.20to.20enable.20.60tracing.3A.3Adebug.60.20for.20entire.20triagebot.20cod.2E.2E.2E.html#267815465">(Jan 13 2022 at 02:17)</a>:</h4>
<p>and seems to be from optopodi, not triagebot, if I'm reading the screenshot right?</p>



<a name="267815626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%E2%9C%94%20how%20to%20enable%20%60tracing%3A%3Adebug%60%20for%20entire%20triagebot%20cod.../near/267815626" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chaz Kiker <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.E2.9C.94.20how.20to.20enable.20.60tracing.3A.3Adebug.60.20for.20entire.20triagebot.20cod.2E.2E.2E.html#267815626">(Jan 13 2022 at 02:20)</a>:</h4>
<p>oh my bad I totally tossed the wrong screenshot in there</p>



<a name="267815671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%E2%9C%94%20how%20to%20enable%20%60tracing%3A%3Adebug%60%20for%20entire%20triagebot%20cod.../near/267815671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chaz Kiker <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.E2.9C.94.20how.20to.20enable.20.60tracing.3A.3Adebug.60.20for.20entire.20triagebot.20cod.2E.2E.2E.html#267815671">(Jan 13 2022 at 02:21)</a>:</h4>
<p>Here is the correct screenshot: <br>
<a href="/user_uploads/4715/vpI8XqFRy2rTXtKmu8L8PE0M/Screen-Shot-2022-01-12-at-7.21.05-PM.png">Screen-Shot-2022-01-12-at-7.21.05-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/vpI8XqFRy2rTXtKmu8L8PE0M/Screen-Shot-2022-01-12-at-7.21.05-PM.png" title="Screen-Shot-2022-01-12-at-7.21.05-PM.png"><img src="/user_uploads/4715/vpI8XqFRy2rTXtKmu8L8PE0M/Screen-Shot-2022-01-12-at-7.21.05-PM.png"></a></div>



<a name="267815742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%E2%9C%94%20how%20to%20enable%20%60tracing%3A%3Adebug%60%20for%20entire%20triagebot%20cod.../near/267815742" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.E2.9C.94.20how.20to.20enable.20.60tracing.3A.3Adebug.60.20for.20entire.20triagebot.20cod.2E.2E.2E.html#267815742">(Jan 13 2022 at 02:22)</a>:</h4>
<p>there's no request logged for a /github-hook request in there?</p>



<a name="267815746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%E2%9C%94%20how%20to%20enable%20%60tracing%3A%3Adebug%60%20for%20entire%20triagebot%20cod.../near/267815746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.E2.9C.94.20how.20to.20enable.20.60tracing.3A.3Adebug.60.20for.20entire.20triagebot.20cod.2E.2E.2E.html#267815746">(Jan 13 2022 at 02:22)</a>:</h4>
<p>so the webhook function isn't getting run</p>



<a name="267815801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%E2%9C%94%20how%20to%20enable%20%60tracing%3A%3Adebug%60%20for%20entire%20triagebot%20cod.../near/267815801" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chaz Kiker <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.E2.9C.94.20how.20to.20enable.20.60tracing.3A.3Adebug.60.20for.20entire.20triagebot.20cod.2E.2E.2E.html#267815801">(Jan 13 2022 at 02:24)</a>:</h4>
<p>I must be running with the wrong webhook URL again <span aria-label="frown" class="emoji emoji-1f641" role="img" title="frown">:frown:</span></p>



<a name="267815894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/224082-triagebot/topic/%E2%9C%94%20how%20to%20enable%20%60tracing%3A%3Adebug%60%20for%20entire%20triagebot%20cod.../near/267815894" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chaz Kiker <a href="https://zulip-archive.rust-lang.org/stream/224082-triagebot/topic/.E2.9C.94.20how.20to.20enable.20.60tracing.3A.3Adebug.60.20for.20entire.20triagebot.20cod.2E.2E.2E.html#267815894">(Jan 13 2022 at 02:25)</a>:</h4>
<p>aaand sure enough. pointing the webhook URL back to <code>/github-hook</code>did the trick. Sorry, y'all! Thank you!!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>