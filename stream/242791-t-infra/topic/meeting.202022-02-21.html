<html>
<head><meta charset="utf-8"><title>meeting 2022-02-21 · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html">meeting 2022-02-21</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="272719581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272719581" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272719581">(Feb 21 2022 at 18:01)</a>:</h4>
<p>Not much from me today</p>



<a name="272719607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272719607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272719607">(Feb 21 2022 at 18:02)</a>:</h4>
<p>Just gonna bang on the ansible thing</p>



<a name="272719818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272719818" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272719818">(Feb 21 2022 at 18:04)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2943">@T-infra</span> (late) meeting time!</p>



<a name="272719820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272719820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272719820">(Feb 21 2022 at 18:04)</a>:</h4>
<p>o/</p>



<a name="272719866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272719866" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272719866">(Feb 21 2022 at 18:05)</a>:</h4>
<p>o/</p>



<a name="272719885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272719885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272719885">(Feb 21 2022 at 18:05)</a>:</h4>
<p>o/</p>



<a name="272719957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272719957" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272719957">(Feb 21 2022 at 18:06)</a>:</h4>
<p>ok so let's start</p>



<a name="272719965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272719965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272719965">(Feb 21 2022 at 18:06)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> with <a href="https://github.com/rust-lang/infra-team/issues/45">https://github.com/rust-lang/infra-team/issues/45</a></p>



<a name="272719991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272719991" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272719991">(Feb 21 2022 at 18:06)</a>:</h4>
<p>last comment there contains my proposal</p>



<a name="272720072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720072">(Feb 21 2022 at 18:07)</a>:</h4>
<p>sounds good to me, thoughts <span class="user-mention" data-user-id="117568">@Aidan Hobson Sayers</span> <span class="user-mention" data-user-id="116155">@Jake Goulding</span>?</p>



<a name="272720169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720169" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720169">(Feb 21 2022 at 18:08)</a>:</h4>
<p>I guess most of the time the chances are the answer is no?</p>



<a name="272720194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720194" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720194">(Feb 21 2022 at 18:08)</a>:</h4>
<p>new process seems fine - it doesn't strictly improve things, but it's not any worse either</p>



<a name="272720206"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720206" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720206">(Feb 21 2022 at 18:08)</a>:</h4>
<p>(improve things for the people asking - it certainly clears up old issues)</p>



<a name="272720210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720210" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720210">(Feb 21 2022 at 18:09)</a>:</h4>
<p>I mean I don't think we have the 60 builders cap anymore on the CI side</p>



<a name="272720231"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720231" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720231">(Feb 21 2022 at 18:09)</a>:</h4>
<p>the only blocker would probably be how easy it is to setup CI for that platforms</p>



<a name="272720245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720245" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720245">(Feb 21 2022 at 18:09)</a>:</h4>
<p>the cap is largely not there, yeah, and in many cases the infra answer is roughly 'yes' these days</p>



<a name="272720262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720262">(Feb 21 2022 at 18:09)</a>:</h4>
<p>most of the more onerous requirements nowadays are on the compiler/libs side</p>



<a name="272720388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720388">(Feb 21 2022 at 18:11)</a>:</h4>
<p>ok, sounds good then</p>



<a name="272720428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720428" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720428">(Feb 21 2022 at 18:11)</a>:</h4>
<p>if jake is not around now we can wait for his comments async, otherwise this seems to be good to go <span class="user-mention" data-user-id="116122">@simulacrum</span></p>



<a name="272720441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720441">(Feb 21 2022 at 18:11)</a>:</h4>
<p>next up is the playground</p>



<a name="272720498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720498">(Feb 21 2022 at 18:12)</a>:</h4>
<p>there is a ci creds error, but other than that the new instance seems to be deployed without too much trouble</p>



<a name="272720607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720607">(Feb 21 2022 at 18:13)</a>:</h4>
<p>with that we should be ready to go to bump the specs soon, and looking at the timeouts there seems to be a need for that</p>



<a name="272720660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720660" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720660">(Feb 21 2022 at 18:14)</a>:</h4>
<p><a href="/user_uploads/4715/AnNEyq_3a428dhPTqhbv3Irl/Screenshot-from-2022-02-21-19-14-07.png">Screenshot-from-2022-02-21-19-14-07.png</a> today's loadavg</p>
<div class="message_inline_image"><a href="/user_uploads/4715/AnNEyq_3a428dhPTqhbv3Irl/Screenshot-from-2022-02-21-19-14-07.png" title="Screenshot-from-2022-02-21-19-14-07.png"><img src="/user_uploads/4715/AnNEyq_3a428dhPTqhbv3Irl/Screenshot-from-2022-02-21-19-14-07.png"></a></div>



<a name="272720665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720665" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720665">(Feb 21 2022 at 18:14)</a>:</h4>
<p>well, the new machine already probably is spec'd better?</p>



<a name="272720677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720677">(Feb 21 2022 at 18:14)</a>:</h4>
<p>I doubt it it's a nano instance</p>



<a name="272720714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720714" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720714">(Feb 21 2022 at 18:15)</a>:</h4>
<p>it's a faster CPU though, the core count is the same and memory is less, but I think memory usage wasn't the problem previously</p>



<a name="272720760"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720760" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720760">(Feb 21 2022 at 18:15)</a>:</h4>
<p>honestly I was tempted to go with a compute-optimized instance</p>



<a name="272720763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720763">(Feb 21 2022 at 18:15)</a>:</h4>
<blockquote>
<p>2.3 GHz Intel Xeon® E5-2686 v4 (Broadwell) processors or 2.4 GHz Intel Xeon® E5-2676 v3 (Haswell) processors</p>
</blockquote>
<p>to</p>
<blockquote>
<p>AMD EPYC 7000 series processors with an all core turbo clock speed of 2.5 GHz</p>
</blockquote>



<a name="272720836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720836">(Feb 21 2022 at 18:16)</a>:</h4>
<p>anyway, I figure we should migrate to this, and now that we have ansible it'll presumably be easier to migrate to other instance types over time</p>



<a name="272720856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720856">(Feb 21 2022 at 18:16)</a>:</h4>
<p>we just need a 24-48 hour overlap period since DNS takes time to propogate</p>



<a name="272720907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720907" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720907">(Feb 21 2022 at 18:17)</a>:</h4>
<p>I wonder... can we stick the playground behind an application load balancer?</p>



<a name="272720923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720923">(Feb 21 2022 at 18:17)</a>:</h4>
<p>that way we can add/remove/change instances without waiting for dns to propagate</p>



<a name="272720924"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720924" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720924">(Feb 21 2022 at 18:17)</a>:</h4>
<p>I would prefer to avoid horizontally scaling until we really need to</p>



<a name="272720959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720959" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720959">(Feb 21 2022 at 18:18)</a>:</h4>
<p>but otherwise, sure, seems ok</p>



<a name="272720980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720980" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720980">(Feb 21 2022 at 18:18)</a>:</h4>
<p><span aria-label="100" class="emoji emoji-1f4af" role="img" title="100">:100:</span>, but it also helps with switching instances without dealing with dns</p>



<a name="272720985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720985" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720985">(Feb 21 2022 at 18:18)</a>:</h4>
<p>(cloudfront may be an easier lift there, since I think that propagates more quickly)</p>



<a name="272720994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272720994" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272720994">(Feb 21 2022 at 18:18)</a>:</h4>
<p>alb switch should be practically instantaneous</p>



<a name="272721012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721012" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721012">(Feb 21 2022 at 18:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/242791-t-infra/topic/meeting.202022-02-21/near/272720924">said</a>:</p>
<blockquote>
<p>I would prefer to avoid horizontally scaling until we really need to</p>
</blockquote>
<p>we have a <em>long</em> way until horizontal scalability becomes a necessity</p>



<a name="272721039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721039" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721039">(Feb 21 2022 at 18:19)</a>:</h4>
<p>I’ve wondered about horizontal from a cost perspective though</p>



<a name="272721056"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721056" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721056">(Feb 21 2022 at 18:19)</a>:</h4>
<p>Like, my instance is a nano and it’s ok</p>



<a name="272721074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721074">(Feb 21 2022 at 18:19)</a>:</h4>
<p>10 nanos horizontally..?</p>



<a name="272721137"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721137" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721137">(Feb 21 2022 at 18:20)</a>:</h4>
<p>that has practically the same cost as a 10x bigger instance on aws</p>



<a name="272721148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721148" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721148">(Feb 21 2022 at 18:20)</a>:</h4>
<p>(thankfully <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>)</p>



<a name="272721151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721151">(Feb 21 2022 at 18:20)</a>:</h4>
<p>yeah, there's no real advantage and a big disadvantage in terms of overhead</p>



<a name="272721211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721211">(Feb 21 2022 at 18:21)</a>:</h4>
<p>I think if nano doesn't work out a c6a probably makes sense, though there's I think some availability issues (not yet in our default region)</p>



<a name="272721242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721242" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721242">(Feb 21 2022 at 18:21)</a>:</h4>
<p>yeah in our region there's c5a</p>



<a name="272721293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721293">(Feb 21 2022 at 18:22)</a>:</h4>
<p>tbh I'd go straight for that one, it's not like they cost that much compared to the rest of the aws bill</p>



<a name="272721297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721297" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721297">(Feb 21 2022 at 18:22)</a>:</h4>
<p>(for playground it may not actually matter which region we are in, FWIW)</p>



<a name="272721308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721308">(Feb 21 2022 at 18:22)</a>:</h4>
<p>(true but it's also more complexity in the console and terraform <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>)</p>



<a name="272721357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721357">(Feb 21 2022 at 18:23)</a>:</h4>
<p>c5a is not really much better than t3a, they might actually be the same cpus (just burstable or not), right?</p>



<a name="272721376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721376">(Feb 21 2022 at 18:23)</a>:</h4>
<p>I think they're actually more powerful</p>



<a name="272721447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721447" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721447">(Feb 21 2022 at 18:24)</a>:</h4>
<blockquote>
<p>2nd generation AMD EPYC 7002 series processors running at frequencies up to 3.3 GHz</p>
</blockquote>



<a name="272721474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721474" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721474">(Feb 21 2022 at 18:24)</a>:</h4>
<p>oh, right, t3a is first-gen ryzen I guess</p>



<a name="272721529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721529">(Feb 21 2022 at 18:25)</a>:</h4>
<p>I have no objections to going straight for c5a.large ($0.095/hr) vs. t3a ($0.0056/hr)</p>



<a name="272721609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721609" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721609">(Feb 21 2022 at 18:26)</a>:</h4>
<p>sounds good</p>



<a name="272721657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272721657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272721657">(Feb 21 2022 at 18:26)</a>:</h4>
<p>I guess once <span class="user-mention" data-user-id="116155">@Jake Goulding</span> finishes debugging what's wrong we can go ahead and do the switch</p>



<a name="272722250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272722250" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272722250">(Feb 21 2022 at 18:34)</a>:</h4>
<p>well forgot to close the meeting <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="272722256"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272722256" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272722256">(Feb 21 2022 at 18:34)</a>:</h4>
<p>have a good week everyone</p>



<a name="272722260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272722260" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272722260">(Feb 21 2022 at 18:34)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span>.</p>



<a name="272722316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202022-02-21/near/272722316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202022-02-21.html#272722316">(Feb 21 2022 at 18:35)</a>:</h4>
<p>\o</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>