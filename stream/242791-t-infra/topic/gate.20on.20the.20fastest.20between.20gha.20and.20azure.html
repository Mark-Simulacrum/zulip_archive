<html>
<head><meta charset="utf-8"><title>gate on the fastest between gha and azure · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html">gate on the fastest between gha and azure</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="201177237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201177237" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201177237">(Jun 17 2020 at 17:53)</a>:</h4>
<p>Sorry to intervene in your meeting but I wonder something. I noticed that sometime, GHA actually works and all builds succeed (even the MacOS ones). In this case, could a PR / rollup be marked as "good", be merged and azure build cancelled?</p>



<a name="201180187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201180187" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201180187">(Jun 17 2020 at 18:15)</a>:</h4>
<p>For example <a href="https://github.com/rust-lang-ci/rust/runs/781252126">https://github.com/rust-lang-ci/rust/runs/781252126</a> has succeeded even MacOS builds so we could technically merge the associated PR?</p>



<a name="201182492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201182492" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201182492">(Jun 17 2020 at 18:32)</a>:</h4>
<p>Would it be worth creating a ticket for that idea?</p>



<a name="201183072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201183072" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201183072">(Jun 17 2020 at 18:37)</a>:</h4>
<p><span class="user-mention" data-user-id="281572">@marmeladema</span> feel free to chime in during the meetings! :)</p>



<a name="201183221"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201183221" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201183221">(Jun 17 2020 at 18:38)</a>:</h4>
<p>that sounds like it requires some implementation work, and I'm wary of changing bors</p>



<a name="201183316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201183316" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201183316">(Jun 17 2020 at 18:39)</a>:</h4>
<p>github is looking into the macOS issue right now, so we hope to be able to fully switch soon</p>



<a name="201187000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201187000" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201187000">(Jun 17 2020 at 19:08)</a>:</h4>
<p>Ok :) I just feel like the merge queue is getting bigger everyday and that bors is failing too often due to time out and wondered what I could do to help.</p>



<a name="201187313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201187313" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201187313">(Jun 17 2020 at 19:11)</a>:</h4>
<blockquote>
<p>wondered what I could do to help.</p>
</blockquote>
<p>Ask people to open less PRs <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span></p>



<a name="201187462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201187462" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201187462">(Jun 17 2020 at 19:12)</a>:</h4>
<p>Haha right, I should close my own to start with :P</p>



<a name="201191661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201191661" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DPC <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201191661">(Jun 17 2020 at 19:51)</a>:</h4>
<p><span class="user-mention" data-user-id="281572">@marmeladema</span> ja there were a few rollups that failed but don't worry the queue will be back to normal shape in a few dyas :P</p>



<a name="201193347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201193347" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201193347">(Jun 17 2020 at 20:06)</a>:</h4>
<p>Yeah it just feels like a waste of CPU time to ignore GHA builds</p>



<a name="201193813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201193813" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201193813">(Jun 17 2020 at 20:09)</a>:</h4>
<p>its not really green computing :P</p>



<a name="201298035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201298035" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201298035">(Jun 18 2020 at 17:08)</a>:</h4>
<p>How much work would it be to actually implement my idea? I think it would be beneficial even if its used only for a month or so.</p>



<a name="201299158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299158" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299158">(Jun 18 2020 at 17:17)</a>:</h4>
<p>(moved this into a separate topic)</p>



<a name="201299293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299293" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299293">(Jun 18 2020 at 17:18)</a>:</h4>
<p><span class="user-mention" data-user-id="281572">@marmeladema</span> ok, I thought about this more and it's much harder than I originally thought</p>



<a name="201299370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299370" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299370">(Jun 18 2020 at 17:19)</a>:</h4>
<p>(wow i did not know we could move part of a conversation into a new one :o)</p>



<a name="201299458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299458" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299458">(Jun 18 2020 at 17:20)</a>:</h4>
<p>changing homu/bors is usually a pain, but that could be done</p>



<a name="201299483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299483" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299483">(Jun 18 2020 at 17:20)</a>:</h4>
<p>another issue is the releases</p>



<a name="201299562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299562" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299562">(Jun 18 2020 at 17:20)</a>:</h4>
<p>each PR that gets merged builds a full release for all targets and uploads it to S3</p>



<a name="201299610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299610" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299610">(Jun 18 2020 at 17:21)</a>:</h4>
<p>wow thats intense^^</p>



<a name="201299633"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299633" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299633">(Jun 18 2020 at 17:21)</a>:</h4>
<p>the release process for nightly/beta/stable is a glorified copy and sign from that S3 bucket to the releases one</p>



<a name="201299702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299702" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299702">(Jun 18 2020 at 17:22)</a>:</h4>
<p>Ok</p>



<a name="201299710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299710" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299710">(Jun 18 2020 at 17:22)</a>:</h4>
<p>the problem is, gha uploads artifacts to a completly different environment, with different buckets and such</p>



<a name="201299781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299781" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299781">(Jun 18 2020 at 17:23)</a>:</h4>
<p>Could the gate be only for when a PR is tested in order to be merged but not on the done for release?</p>



<a name="201299845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299845" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299845">(Jun 18 2020 at 17:23)</a>:</h4>
<p>unfortunately, in our infrastructure each merged PR is a "release build"</p>



<a name="201299850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299850" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299850">(Jun 18 2020 at 17:23)</a>:</h4>
<p>I can totally understand that changing the release process might a terrible idea and i don't want to open that can of worm</p>



<a name="201299932"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299932" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299932">(Jun 18 2020 at 17:24)</a>:</h4>
<p>oh ok, so its literally the build that are triggered for that PR that generate release artifact that are uploaded to S3?</p>



<a name="201299949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299949" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299949">(Jun 18 2020 at 17:24)</a>:</h4>
<p>yep</p>



<a name="201299966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299966" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299966">(Jun 18 2020 at 17:24)</a>:</h4>
<p>check out <a href="https://github.com/kennytm/rustup-toolchain-install-master">https://github.com/kennytm/rustup-toolchain-install-master</a> if you're curious</p>



<a name="201299972"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299972" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299972">(Jun 18 2020 at 17:24)</a>:</h4>
<p>and those builds are only azure builds right now i assume</p>



<a name="201299978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299978" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299978">(Jun 18 2020 at 17:24)</a>:</h4>
<p>yep</p>



<a name="201299991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201299991" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201299991">(Jun 18 2020 at 17:24)</a>:</h4>
<p>I'll take a look thanks</p>



<a name="201300014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201300014" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201300014">(Jun 18 2020 at 17:25)</a>:</h4>
<p>Yeah so i understand the situation better</p>



<a name="201300016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201300016" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201300016">(Jun 18 2020 at 17:25)</a>:</h4>
<p>with it you can download a release for each commit on master in the past 6 months</p>



<a name="201300027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201300027" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201300027">(Jun 18 2020 at 17:25)</a>:</h4>
<p>(any component on any target)</p>



<a name="201300136"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201300136" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201300136">(Jun 18 2020 at 17:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281572">marmeladema</span> <a href="#narrow/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure/near/201299972">said</a>:</p>
<blockquote>
<p>and those builds are only azure builds right now i assume</p>
</blockquote>
<p>when we'll decide to fully switch to github actions we'll shut down gha and change github actions to upload to the bucket previously used by azure</p>



<a name="201300163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201300163" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201300163">(Jun 18 2020 at 17:26)</a>:</h4>
<p>Maybe what I am about to propose is even worse, but could "release only builds" be triggered from commits merged to master</p>



<a name="201300213"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201300213" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201300213">(Jun 18 2020 at 17:26)</a>:</h4>
<p>that's a even bigger change to our setup :(</p>



<a name="201300218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201300218" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201300218">(Jun 18 2020 at 17:26)</a>:</h4>
<p>and those builds would run "asynchroneously" from PR getting tested/merged</p>



<a name="201300222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201300222" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201300222">(Jun 18 2020 at 17:26)</a>:</h4>
<p>haha i figured^^</p>



<a name="201300298"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201300298" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201300298">(Jun 18 2020 at 17:27)</a>:</h4>
<p>the situation will improve in the next few days though</p>



<a name="201300331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201300331" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201300331">(Jun 18 2020 at 17:28)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/73443">https://github.com/rust-lang/rust/pull/73443</a></p>



<a name="201300382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201300382" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201300382">(Jun 18 2020 at 17:28)</a>:</h4>
<p>this will allow to at least fail faster thanks to gha</p>



<a name="201300410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201300410" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201300410">(Jun 18 2020 at 17:28)</a>:</h4>
<p>it won't help with successful builds, but oh well</p>



<a name="201300451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201300451" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201300451">(Jun 18 2020 at 17:28)</a>:</h4>
<p>Yeah saw that <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="201300549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201300549" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201300549">(Jun 18 2020 at 17:29)</a>:</h4>
<p>Well, i am out of ideas :/ I really feel like we are wasting power and cpu and not getting the most of the GHA builds</p>



<a name="201301085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201301085" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201301085">(Jun 18 2020 at 17:33)</a>:</h4>
<p>I know :(<br>
I hope GitHub will fix macOS soon so we can fully switch to it</p>



<a name="201542451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201542451" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201542451">(Jun 21 2020 at 16:30)</a>:</h4>
<p>About gating on GHA builds except MacOS ones, i noticed that for this PR: <a href="https://github.com/rust-lang/rust/pull/72696">https://github.com/rust-lang/rust/pull/72696</a><br>
GHA arm android build has failed: <a href="https://github.com/rust-lang-ci/rust/runs/792616095">https://github.com/rust-lang-ci/rust/runs/792616095</a><br>
Whereas the Azure equivalent (if i am not mistaken) has succeeded: <a href="https://dev.azure.com/rust-lang/rust/_build/results?buildId=32565&amp;view=logs&amp;j=6485e793-6f9a-5940-bdfb-daa9459b44ef&amp;t=1bf2d4d0-0e30-5258-c8de-20732f5c76b1">https://dev.azure.com/rust-lang/rust/_build/results?buildId=32565&amp;view=logs&amp;j=6485e793-6f9a-5940-bdfb-daa9459b44ef&amp;t=1bf2d4d0-0e30-5258-c8de-20732f5c76b1</a></p>



<a name="201542463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201542463" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201542463">(Jun 21 2020 at 16:31)</a>:</h4>
<p>I wonder if in this case, the azure build would have been cancelled? It seems that GHA arm builds can also be somewhat flakky</p>



<a name="201549088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201549088" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201549088">(Jun 21 2020 at 19:22)</a>:</h4>
<p>FYI <a href="https://github.com/rust-lang-ci/rust/runs/792948240">https://github.com/rust-lang-ci/rust/runs/792948240</a> arm android failed again</p>



<a name="201549092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201549092" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201549092">(Jun 21 2020 at 19:22)</a>:</h4>
<p>Always with the same error:</p>
<div class="codehilite"><pre><span></span><code>died due to signal 9
error: test failed, to rerun pass &#39;-p alloc --bench collectionsbenches&#39;


command did not execute successfully: &quot;/checkout/obj/build/x86_64-unknown-linux-gnu/stage0/bin/cargo&quot; &quot;test&quot; &quot;--target&quot; &quot;arm-linux-androideabi&quot; &quot;-Zbinary-dep-depinfo&quot; &quot;-j&quot; &quot;16&quot; &quot;--release&quot; &quot;--locked&quot; &quot;--color&quot; &quot;always&quot; &quot;--features&quot; &quot;panic-unwind backtrace compiler-builtins-c&quot; &quot;--manifest-path&quot; &quot;/checkout/src/libtest/Cargo.toml&quot; &quot;-p&quot; &quot;alloc&quot; &quot;--&quot;
expected success, got: exit code: 3
</code></pre></div>



<a name="201591344"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201591344" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201591344">(Jun 22 2020 at 10:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281572">marmeladema</span> <a href="#narrow/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure/near/201542463">said</a>:</p>
<blockquote>
<p>I wonder if in this case, the azure build would have been cancelled? It seems that GHA arm builds can also be somewhat flakky</p>
</blockquote>
<p><span class="user-mention" data-user-id="281572">@marmeladema</span> yes, and we won't enable gating until that is fixed</p>



<a name="201591381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201591381" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201591381">(Jun 22 2020 at 10:49)</a>:</h4>
<p>it's not the first time that builder had signal 9 failures during testing</p>



<a name="201591455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/201591455" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#201591455">(Jun 22 2020 at 10:50)</a>:</h4>
<p>iirc the problem is that there are broken things in android's panic support</p>



<a name="202230884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/gate%20on%20the%20fastest%20between%20gha%20and%20azure/near/202230884" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/gate.20on.20the.20fastest.20between.20gha.20and.20azure.html#202230884">(Jun 28 2020 at 10:40)</a>:</h4>
<p>Signal 9 happens when the kernel kills a process if the system is out of memory.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>