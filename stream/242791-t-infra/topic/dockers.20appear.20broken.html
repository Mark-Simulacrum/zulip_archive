<html>
<head><meta charset="utf-8"><title>dockers appear broken · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/dockers.20appear.20broken.html">dockers appear broken</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="217994019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/dockers%20appear%20broken/near/217994019" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Silverstone <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/dockers.20appear.20broken.html#217994019">(Nov 26 2020 at 12:08)</a>:</h4>
<p>I am unable to get CI builds of Rustup through (a problem since I'm aiming at a release) due to docker failures.  Here's the most recent - <a href="https://github.com/rust-lang/rustup/pull/2574/checks?check_run_id=1458769378">https://github.com/rust-lang/rustup/pull/2574/checks?check_run_id=1458769378</a> - basically some images (in this instance arm7 and aarch64 linux) are failing to download.</p>
<p>Is this a case of a bad PR attempt overwriting the dockers?</p>



<a name="217996537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/dockers%20appear%20broken/near/217996537" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/dockers.20appear.20broken.html#217996537">(Nov 26 2020 at 12:38)</a>:</h4>
<p>Have you checked if the hash is present on rustc builds?</p>



<a name="217997034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/dockers%20appear%20broken/near/217997034" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Silverstone <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/dockers.20appear.20broken.html#217997034">(Nov 26 2020 at 12:43)</a>:</h4>
<p>I have no idea how I'd do that.  mostly I bug Pietro when things break <span aria-label="frown" class="emoji emoji-1f641" role="img" title="frown">:frown:</span></p>



<a name="217999997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/dockers%20appear%20broken/near/217999997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/dockers.20appear.20broken.html#217999997">(Nov 26 2020 at 13:15)</a>:</h4>
<p>Look at the logs for a recent auto branch run on rust-lang-ci/rust, for the builder with a name matching your docker container</p>



<a name="218000887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/dockers%20appear%20broken/near/218000887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Silverstone <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/dockers.20appear.20broken.html#218000887">(Nov 26 2020 at 13:25)</a>:</h4>
<p>I'm not <em>entirely</em> sure what I'm looking for but it looks like it tried to download the docker, gave up, and built one for itself.  at least for armv7 linux which is the target I'm currently considering.</p>



<a name="218001733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/dockers%20appear%20broken/near/218001733" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/dockers.20appear.20broken.html#218001733">(Nov 26 2020 at 13:32)</a>:</h4>
<p>Hm interesting</p>



<a name="218001837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/dockers%20appear%20broken/near/218001837" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/dockers.20appear.20broken.html#218001837">(Nov 26 2020 at 13:33)</a>:</h4>
<p>Well I probably won't get a chance to investigate this week, unfortunately, maybe Pietro can take a look later though.</p>



<a name="218008960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/dockers%20appear%20broken/near/218008960" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Silverstone <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/dockers.20appear.20broken.html#218008960">(Nov 26 2020 at 14:41)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> Any chance you can take a look, or should I wait until another build hits that ci repo?</p>



<a name="218011130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/dockers%20appear%20broken/near/218011130" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/dockers.20appear.20broken.html#218011130">(Nov 26 2020 at 15:02)</a>:</h4>
<p><span class="user-mention" data-user-id="223910">@Daniel Silverstone</span> I'll take a look in a bit</p>



<a name="218019764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/dockers%20appear%20broken/near/218019764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Silverstone <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/dockers.20appear.20broken.html#218019764">(Nov 26 2020 at 16:28)</a>:</h4>
<p>Did you manage to find anything?</p>



<a name="218021474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/dockers%20appear%20broken/near/218021474" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/dockers.20appear.20broken.html#218021474">(Nov 26 2020 at 16:48)</a>:</h4>
<p>didn't have time yet, will check soon, sorry</p>



<a name="218030447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/dockers%20appear%20broken/near/218030447" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/dockers.20appear.20broken.html#218030447">(Nov 26 2020 at 18:52)</a>:</h4>
<p><span class="user-mention" data-user-id="223910">@Daniel Silverstone</span> removed the image from ci-caches, the next rustc build should upload the correct one</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>