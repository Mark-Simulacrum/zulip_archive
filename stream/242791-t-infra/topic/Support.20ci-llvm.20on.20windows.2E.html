<html>
<head><meta charset="utf-8"><title>Support ci-llvm on windows. · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Support.20ci-llvm.20on.20windows.2E.html">Support ci-llvm on windows.</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="218046216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Support%20ci-llvm%20on%20windows./near/218046216" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Support.20ci-llvm.20on.20windows.2E.html#218046216">(Nov 26 2020 at 23:56)</a>:</h4>
<p>Hi, i'm using windows, today i tried out the current state of ci-llvm here, and it isn't ready. It seems like in the downloaded ci-artifacts package, the static libraries of <code>lib/LLVM*.lib</code> are not there.</p>
<p>I'm reading <a href="https://github.com/rust-lang/rust/pull/76332/files">https://github.com/rust-lang/rust/pull/76332/files</a>, it seems i need to add to another <code>cp_r</code> call if some condition is met, but i'm not sure what the conditions should be.</p>



<a name="218048459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Support%20ci-llvm%20on%20windows./near/218048459" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Support.20ci-llvm.20on.20windows.2E.html#218048459">(Nov 27 2020 at 00:49)</a>:</h4>
<p>I suspect that we want to run <a href="https://github.com/rust-lang/rust/blob/master/src/bootstrap/dist.rs#L2391-L2394">https://github.com/rust-lang/rust/blob/master/src/bootstrap/dist.rs#L2391-L2394</a> with non-shared LLVM specifically for rustdev</p>



<a name="218048468"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Support%20ci-llvm%20on%20windows./near/218048468" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Support.20ci-llvm.20on.20windows.2E.html#218048468">(Nov 27 2020 at 00:49)</a>:</h4>
<p>(<em>not</em> in maybe_install_llvm, they don't need to be in sysroot because we're statically linking)</p>



<a name="218175808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Support%20ci-llvm%20on%20windows./near/218175808" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charles Lew <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Support.20ci-llvm.20on.20windows.2E.html#218175808">(Nov 28 2020 at 18:48)</a>:</h4>
<p>Thanks! Let me find a way to try this out locally...</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>