<html>
<head><meta charset="utf-8"><title>removing gz from ci2 · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html">removing gz from ci2</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="218030601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/218030601" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#218030601">(Nov 26 2020 at 18:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> so, I've been looking into removing <code>.gz</code> from ci2, and I noticed it's not entirely trivial</p>



<a name="218030676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/218030676" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#218030676">(Nov 26 2020 at 18:56)</a>:</h4>
<p>what I'd do is to add a <code>--formats</code> flag to <code>rust-installer</code>, but we actually need to provide the flag to every invocation</p>



<a name="218030729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/218030729" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#218030729">(Nov 26 2020 at 18:57)</a>:</h4>
<p>and at the moment every dist step manually calls the tool</p>



<a name="218030788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/218030788" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#218030788">(Nov 26 2020 at 18:58)</a>:</h4>
<p>so I've started experimenting unifying the code that produces the dist tarballs</p>



<a name="218030795"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/218030795" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#218030795">(Nov 26 2020 at 18:58)</a>:</h4>
<p>my wip branch is <a href="https://github.com/pietroalbini/rust/tree/bootstrap-tarball">https://github.com/pietroalbini/rust/tree/bootstrap-tarball</a></p>



<a name="218030823"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/218030823" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#218030823">(Nov 26 2020 at 18:58)</a>:</h4>
<p>before I start manually converting and testing everything, do you have any opinion on that?</p>



<a name="218035444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/218035444" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#218035444">(Nov 26 2020 at 20:15)</a>:</h4>
<p>Huge <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



<a name="218035446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/218035446" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#218035446">(Nov 26 2020 at 20:16)</a>:</h4>
<p>but it might be simpler than that</p>



<a name="218035490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/218035490" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#218035490">(Nov 26 2020 at 20:16)</a>:</h4>
<p>we can clean the directory up in a separate step before uploading</p>



<a name="218035493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/218035493" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#218035493">(Nov 26 2020 at 20:16)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> ^</p>



<a name="218035501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/218035501" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#218035501">(Nov 26 2020 at 20:16)</a>:</h4>
<p>at least as a start</p>



<a name="218035821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/218035821" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#218035821">(Nov 26 2020 at 20:22)</a>:</h4>
<p>uh</p>



<a name="218035824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/218035824" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#218035824">(Nov 26 2020 at 20:22)</a>:</h4>
<p>right, good point <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="220712575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220712575" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220712575">(Dec 22 2020 at 17:13)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> ok while investigating why windows is failing I found a bug in my bootstrap tarball PR</p>



<a name="220712671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220712671" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220712671">(Dec 22 2020 at 17:14)</a>:</h4>
<p>basically I forgot to add <code>-preview</code> to the preview component names, and <code>-{target}</code> to the target-dependent components (<code>rust-std</code> and <code>rust-analysis</code>)</p>



<a name="220712684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220712684" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220712684">(Dec 22 2020 at 17:14)</a>:</h4>
<p>Heh well it's why we have tests :)</p>



<a name="220712720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220712720" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220712720">(Dec 22 2020 at 17:14)</a>:</h4>
<p>I'm wondering how you prefer to see it fixed</p>



<a name="220712767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220712767" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220712767">(Dec 22 2020 at 17:15)</a>:</h4>
<div class="codehilite"><pre><span></span><code>tarball.preview_component(true);
</code></pre></div>
<p>or</p>
<div class="codehilite"><pre><span></span><code>tarball.override_component_name(&quot;miri-preview&quot;);
</code></pre></div>



<a name="220712967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220712967" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220712967">(Dec 22 2020 at 17:17)</a>:</h4>
<p>I would prefer preview component I think</p>



<a name="220713027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220713027" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220713027">(Dec 22 2020 at 17:18)</a>:</h4>
<p>One note - can we detect this somehow maybe? I guess probably not</p>



<a name="220713036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220713036" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220713036">(Dec 22 2020 at 17:18)</a>:</h4>
<p>not really</p>



<a name="220713049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220713049" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220713049">(Dec 22 2020 at 17:18)</a>:</h4>
<p>e.g. nightly only components should probably always be preview</p>



<a name="220713067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220713067" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220713067">(Dec 22 2020 at 17:18)</a>:</h4>
<p>But there are non-nightly preview components, unfortunately</p>



<a name="220713071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220713071" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220713071">(Dec 22 2020 at 17:18)</a>:</h4>
<p>I don't think bootstrap even knows a component is nightly-only</p>



<a name="220713092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220713092" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220713092">(Dec 22 2020 at 17:19)</a>:</h4>
<p>Yes that's also true</p>



<a name="220713097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220713097" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220713097">(Dec 22 2020 at 17:19)</a>:</h4>
<p>iirc we still build them on beta/stable without including them in the manifest</p>



<a name="220713114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220713114" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220713114">(Dec 22 2020 at 17:19)</a>:</h4>
<p>ok I'll drown in <code>git rebase -i</code> for a bit and update the PR</p>



<a name="220713311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220713311" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220713311">(Dec 22 2020 at 17:21)</a>:</h4>
<p>nightly only components? yeah</p>



<a name="220713591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220713591" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220713591">(Dec 22 2020 at 17:25)</a>:</h4>
<blockquote>
<p>iirc we still build them on beta/stable without including them in the manifest</p>
</blockquote>
<p>Well there's a bug open to fix that, since the errors building miri are confusing</p>



<a name="220713787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220713787" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220713787">(Dec 22 2020 at 17:27)</a>:</h4>
<p>there is yeah</p>



<a name="220713800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/220713800" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#220713800">(Dec 22 2020 at 17:27)</a>:</h4>
<p>low priority though</p>



<a name="221774632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221774632" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221774632">(Jan 06 2021 at 14:46)</a>:</h4>
<p>uh <span class="user-mention" data-user-id="116122">@simulacrum</span></p>



<a name="221774670"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221774670" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221774670">(Jan 06 2021 at 14:46)</a>:</h4>
<p>removing <code>.gz</code>s broke <code>./x.py</code> with <code>download-ci-llvm</code> on py2</p>



<a name="221774688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221774688" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221774688">(Jan 06 2021 at 14:46)</a>:</h4>
<p>I'm aware</p>



<a name="221774710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221774710" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221774710">(Jan 06 2021 at 14:47)</a>:</h4>
<p>I think expecting python 3 by now for some more ergonomic wins is fine</p>



<a name="221774737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221774737" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221774737">(Jan 06 2021 at 14:47)</a>:</h4>
<p>we can also probably alter dist to publish just llvm tarball for both gz and xz?</p>



<a name="221774764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221774764" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221774764">(Jan 06 2021 at 14:47)</a>:</h4>
<p>yeah that was I was thinking</p>



<a name="221774882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221774882" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221774882">(Jan 06 2021 at 14:48)</a>:</h4>
<p>I haven't had the time to look into that, but that breakage has also led to some work by <span class="user-mention" data-user-id="232545">@Joshua Nelson</span> to auto-use python 3 as much as possible which seems like a win regardless</p>



<a name="221774922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221774922" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221774922">(Jan 06 2021 at 14:48)</a>:</h4>
<p>do you have a PR for that?</p>



<a name="221774928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221774928" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221774928">(Jan 06 2021 at 14:49)</a>:</h4>
<p>mostly curious</p>



<a name="221774937"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221774937" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221774937">(Jan 06 2021 at 14:49)</a>:</h4>
<p>PR for what?</p>



<a name="221774976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221774976" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221774976">(Jan 06 2021 at 14:49)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/80625">https://github.com/rust-lang/rust/pull/80625</a></p>



<a name="221775082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221775082" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221775082">(Jan 06 2021 at 14:50)</a>:</h4>
<p>that said if we start downloading std and rustc itself due to wanting to skip compiler recomp for tools (e.g. rustdoc dev) I wouldn't want gzip'd tarballs there</p>



<a name="221775104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221775104" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221775104">(Jan 06 2021 at 14:50)</a>:</h4>
<p>so I think it might be better to not worry about adding gz for llvm</p>



<a name="221775991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221775991" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221775991">(Jan 06 2021 at 14:56)</a>:</h4>
<p>that said super excited to see our storage for ci2 starting to shrink, down by 200GB from the 30 day max already :)</p>



<a name="221838814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/removing%20gz%20from%20ci2/near/221838814" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/removing.20gz.20from.20ci2.html#221838814">(Jan 06 2021 at 23:39)</a>:</h4>
<p>Btw I am way behind on GitHub notifications so feel free to take over that PR if you want to merge it quickly</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>