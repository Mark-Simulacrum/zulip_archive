<html>
<head><meta charset="utf-8"><title>ci timeouts · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html">ci timeouts</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="202988168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/202988168" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#202988168">(Jul 06 2020 at 13:29)</a>:</h4>
<p>ugh we got another timeout</p>



<a name="202988181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/202988181" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#202988181">(Jul 06 2020 at 13:29)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/73953">https://github.com/rust-lang/rust/pull/73953</a></p>



<a name="202988219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/202988219" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#202988219">(Jul 06 2020 at 13:29)</a>:</h4>
<p>this is so annoying because this time bors missed the azure pipelines check, not the github actions one</p>



<a name="202988239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/202988239" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#202988239">(Jul 06 2020 at 13:29)</a>:</h4>
<p>which invalidates my theory on why that's happening</p>



<a name="202988320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/202988320" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#202988320">(Jul 06 2020 at 13:30)</a>:</h4>
<p>(I thought github's new "skipped" status for checks was the cause of the problem, but azure pipelines doesn't use that)</p>



<a name="202988321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/202988321" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#202988321">(Jul 06 2020 at 13:30)</a>:</h4>
<p>gah</p>



<a name="202989288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/202989288" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#202989288">(Jul 06 2020 at 13:38)</a>:</h4>
<p>ok no this was a legit timeout</p>



<a name="202989339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/202989339" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#202989339">(Jul 06 2020 at 13:38)</a>:</h4>
<p>why did that build take 4hr20min</p>



<a name="203035494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203035494" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203035494">(Jul 06 2020 at 20:15)</a>:</h4>
<p>I've checked 3 Azure timeouts and some windows-msvc jobs take over 4 hours. <a href="https://github.com/rust-lang/rust/pull/72978">https://github.com/rust-lang/rust/pull/72978</a> has increased build times a bit.</p>



<a name="203036332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203036332" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203036332">(Jul 06 2020 at 20:22)</a>:</h4>
<p>On both Windows envs rust-analyzer takes around 20 minutes to build.</p>



<a name="203107222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203107222" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203107222">(Jul 07 2020 at 14:10)</a>:</h4>
<p>ugh</p>



<a name="203107261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203107261" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203107261">(Jul 07 2020 at 14:10)</a>:</h4>
<p>I really don't want to shuffle things around in the windows builders</p>



<a name="203107281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203107281" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203107281">(Jul 07 2020 at 14:11)</a>:</h4>
<p>I'm tempted to gate on GHA for everything but macOS</p>



<a name="203107289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203107289" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203107289">(Jul 07 2020 at 14:11)</a>:</h4>
<p>removing Azure from most of the things</p>



<a name="203107355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203107355" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203107355">(Jul 07 2020 at 14:11)</a>:</h4>
<p>(Azure's macOS has the same speed as GHA's macOS)</p>



<a name="203116328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203116328" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203116328">(Jul 07 2020 at 15:18)</a>:</h4>
<p>I wouldn't personally be opposed to such a thing, though maybe we can limit to just the mingw builders or so</p>



<a name="203117905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203117905" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203117905">(Jul 07 2020 at 15:28)</a>:</h4>
<p>I don't see much reason to switch just some of the builders</p>



<a name="203117924"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203117924" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203117924">(Jul 07 2020 at 15:28)</a>:</h4>
<p>everything but macOS has been pretty stable</p>



<a name="203118519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203118519" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203118519">(Jul 07 2020 at 15:32)</a>:</h4>
<p>well, limiting potential fallout if GHA does have bugs, but yeah, I agree</p>



<a name="203118537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203118537" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203118537">(Jul 07 2020 at 15:32)</a>:</h4>
<p>(bugs in the "stops testing X thing" variety)</p>



<a name="203129472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203129472" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203129472">(Jul 07 2020 at 16:54)</a>:</h4>
<p>I think <a href="https://github.com/rust-lang/rust/pull/74046">https://github.com/rust-lang/rust/pull/74046</a> should save at least 10 minutes on many of the builders.</p>



<a name="203129517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203129517" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203129517">(Jul 07 2020 at 16:54)</a>:</h4>
<p>I looked into trying to share dependencies in rust-analyzer with the other tools, but there isn't a lot of overlap (the time is dominated by the <code>ra</code> crates). At -j4 on my system, the rust-analyzer build went from ~6 minutes to ~5 minutes with fully shared dependencies.</p>



<a name="203129528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203129528" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203129528">(Jul 07 2020 at 16:54)</a>:</h4>
<p>It would be nice to resurrect Alex's time tracker, but the variability on Azure is so huge that I think the data is too noisy to be useful.</p>



<a name="203130384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203130384" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203130384">(Jul 07 2020 at 17:01)</a>:</h4>
<blockquote>
<p>(bugs in the "stops testing X thing" variety)</p>
</blockquote>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> we didn't have them in the past two weeks, did we?</p>



<a name="203130673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/ci%20timeouts/near/203130673" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/ci.20timeouts.html#203130673">(Jul 07 2020 at 17:03)</a>:</h4>
<p>Well we don't really know but probably not, no</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>