<html>
<head><meta charset="utf-8"><title>Planning x.py&#x27;s future · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html">Planning x.py&#x27;s future</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="209837778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209837778" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209837778">(Sep 11 2020 at 21:33)</a>:</h4>
<p>I know <code>bootstrap -v --dry-run</code> exists, but it's pretty hard to read ... is there a way to tell if <code>build --stage 1</code> will build stage 1 rustc artifacts without having to go through a full build stage?</p>



<a name="209838014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838014" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838014">(Sep 11 2020 at 21:35)</a>:</h4>
<p>ughhhh it turns out I enabled <code>cargo</code> and it was being built by default</p>



<a name="209838020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838020" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838020">(Sep 11 2020 at 21:35)</a>:</h4>
<p>let me turn that off</p>



<a name="209838109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838109" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838109">(Sep 11 2020 at 21:36)</a>:</h4>
<p>yup that was literally it</p>



<a name="209838116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838116" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838116">(Sep 11 2020 at 21:36)</a>:</h4>
<p>oh well</p>



<a name="209838345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838345" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838345">(Sep 11 2020 at 21:38)</a>:</h4>
<p>dry run is your best bet, though it's not perfect</p>



<a name="209838369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838369" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838369">(Sep 11 2020 at 21:38)</a>:</h4>
<p>if you want to improve output be my guest :)</p>



<a name="209838436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838436" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838436">(Sep 11 2020 at 21:39)</a>:</h4>
<p>maybe another day ^^</p>



<a name="209838571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838571" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838571">(Sep 11 2020 at 21:40)</a>:</h4>
<p>it's working <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="209838597"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838597" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838597">(Sep 11 2020 at 21:41)</a>:</h4>
<p>hmm where do you think <a href="https://github.com/rust-lang/rust/issues/76380">https://github.com/rust-lang/rust/issues/76380</a> should be documented?</p>



<a name="209838614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838614" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838614">(Sep 11 2020 at 21:41)</a>:</h4>
<p>rustc-dev-guide seems like a bad place since the people using this aren't contributing to the compiler</p>



<a name="209838618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838618" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838618">(Sep 11 2020 at 21:41)</a>:</h4>
<p>src/bootstrap/README?</p>



<a name="209838646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838646" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838646">(Sep 11 2020 at 21:41)</a>:</h4>
<p>but realistically I am uncertain the idea is a good one</p>



<a name="209838664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838664" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838664">(Sep 11 2020 at 21:41)</a>:</h4>
<p>or, at least, I would not guarantee stability to it</p>



<a name="209838726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838726" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838726">(Sep 11 2020 at 21:42)</a>:</h4>
<p>I'm fine with an explicit version number that we bump when we knowingly break it though</p>



<a name="209838747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838747" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838747">(Sep 11 2020 at 21:42)</a>:</h4>
<p>it seems unlikely that this should <em>need</em> breaking changes though?</p>



<a name="209838767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838767" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838767">(Sep 11 2020 at 21:42)</a>:</h4>
<p>any changes I can imagine are only changes to defaults</p>



<a name="209838789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838789" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838789">(Sep 11 2020 at 21:42)</a>:</h4>
<p>or more configuration knobs to tweak</p>



<a name="209838956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838956" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838956">(Sep 11 2020 at 21:44)</a>:</h4>
<p>well, like, for example <a href="https://github.com/rust-lang/rust/pull/76415">https://github.com/rust-lang/rust/pull/76415</a> changes the behavior of x.py on some inputs</p>



<a name="209838960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838960" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838960">(Sep 11 2020 at 21:44)</a>:</h4>
<p>in a sort of "major" way</p>



<a name="209838973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209838973" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209838973">(Sep 11 2020 at 21:44)</a>:</h4>
<p>and I want to be free to make that kind of change</p>



<a name="209839015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839015" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839015">(Sep 11 2020 at 21:45)</a>:</h4>
<p>like, stability is good, we try to keep it where possible, but I wouldn't want to over-promise</p>



<a name="209839039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839039" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839039">(Sep 11 2020 at 21:45)</a>:</h4>
<p>like we definitely don't want to lock down any part of the interface forever I think</p>



<a name="209839125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839125" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839125">(Sep 11 2020 at 21:46)</a>:</h4>
<p>yeah that makes sense</p>



<a name="209839145"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839145" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839145">(Sep 11 2020 at 21:46)</a>:</h4>
<p>I'm not sure what do then ... maybe only guarantee <em>some</em> of the defaults?</p>



<a name="209839163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839163" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839163">(Sep 11 2020 at 21:46)</a>:</h4>
<p>or add a <code>--defaults-version</code> or something?</p>



<a name="209839204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839204" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839204">(Sep 11 2020 at 21:47)</a>:</h4>
<p>that defaults to 0, and <code>x.py</code> passes whatever the latest is</p>



<a name="209839242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839242" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839242">(Sep 11 2020 at 21:47)</a>:</h4>
<p>@infinity0 doesn't appear to be on this server unfortunately</p>



<a name="209839336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839336" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839336">(Sep 11 2020 at 21:48)</a>:</h4>
<p>I'm not sure -- it feels like ultimately the ask here is "please document breaking changes"</p>



<a name="209839376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839376" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839376">(Sep 11 2020 at 21:49)</a>:</h4>
<p>like, stage 2 vs 1 is a breaking change but is very minor in the grand scheme of things</p>



<a name="209839405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839405" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839405">(Sep 11 2020 at 21:49)</a>:</h4>
<p>so, here's their original response:</p>
<blockquote>
<p>Instead of trying to second-guess what everyone's individual subjective workflow is, I think it's much better to make a CLI that is simple and predictable. That means that defaults shouldn't change randomly based on second-guessing everyone's individual subjective workflow.<br>
Why is the default stage different between test and bench? I don't know, and I don't want to have to know. I already need to know a lot of things about rust already in order to maintain it, having to know extra idiosyncracies makes the task less fun.</p>
</blockquote>



<a name="209839414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839414" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839414">(Sep 11 2020 at 21:50)</a>:</h4>
<p>so it's not just 'document the changes'</p>



<a name="209839462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839462" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839462">(Sep 11 2020 at 21:50)</a>:</h4>
<p>it's 'x.py should be consistent'</p>



<a name="209839477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839477" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839477">(Sep 11 2020 at 21:50)</a>:</h4>
<p>(from <a href="https://github.com/rust-lang/rust/issues/76165">https://github.com/rust-lang/rust/issues/76165</a>)</p>



<a name="209839562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839562" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839562">(Sep 11 2020 at 21:51)</a>:</h4>
<p>and of course, being consistent is incompatible with being user-friendly since that means either doc is stage 2 or install is stage 0, neither of which are very appealing</p>



<a name="209839568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839568" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839568">(Sep 11 2020 at 21:51)</a>:</h4>
<p>that seems very orthogonal</p>



<a name="209839718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839718" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839718">(Sep 11 2020 at 21:53)</a>:</h4>
<p>like, there's one question of "what should the defaults be" and the other question is "should there be multiple sets of defaults?"</p>



<a name="209839739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839739" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839739">(Sep 11 2020 at 21:53)</a>:</h4>
<p>er, well, rather</p>



<a name="209839759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839759" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839759">(Sep 11 2020 at 21:53)</a>:</h4>
<p>there's defaults-related questions, both consistency and how many sets of defaults etc</p>



<a name="209839773"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839773" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839773">(Sep 11 2020 at 21:53)</a>:</h4>
<p>but there's also the "should x.py have some sort of stable interface?"</p>



<a name="209839793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839793" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839793">(Sep 11 2020 at 21:53)</a>:</h4>
<p>oh I see the distinction you're making</p>



<a name="209839797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839797" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839797">(Sep 11 2020 at 21:53)</a>:</h4>
<p>I think in terms of defaults, I'm sort of all for x.py setup or something if we think it's helpful</p>



<a name="209839845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839845" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839845">(Sep 11 2020 at 21:54)</a>:</h4>
<p>but in terms of "stable interface" I think that's basically impossible in practice</p>



<a name="209839872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839872" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839872">(Sep 11 2020 at 21:54)</a>:</h4>
<p>so how's this possible outcome:</p>



<a name="209839889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839889" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839889">(Sep 11 2020 at 21:54)</a>:</h4>
<p>I implement <a href="https://github.com/rust-lang/rust/issues/76165">https://github.com/rust-lang/rust/issues/76165</a> and <code>x.py setup</code></p>



<a name="209839900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839900" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839900">(Sep 11 2020 at 21:54)</a>:</h4>
<p>and then @infinit0 can run <code>x.py setup maintainer</code> or whatever</p>



<a name="209839917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839917" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839917">(Sep 11 2020 at 21:55)</a>:</h4>
<p>and they don't have to thing about it, because the defaults won't be changing for them</p>



<a name="209839934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839934" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839934">(Sep 11 2020 at 21:55)</a>:</h4>
<p>hm well maintainer will vary over time, presumably</p>



<a name="209839936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839936" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839936">(Sep 11 2020 at 21:55)</a>:</h4>
<p>it's not that it's <em>stable</em>, it's that the <em>defaults</em> are different</p>



<a name="209839947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839947" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839947">(Sep 11 2020 at 21:55)</a>:</h4>
<p>but perhaps, yes</p>



<a name="209839960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839960" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839960">(Sep 11 2020 at 21:55)</a>:</h4>
<p>right, maybe at some point we tweak exactly what the defaults are</p>



<a name="209839978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839978" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839978">(Sep 11 2020 at 21:55)</a>:</h4>
<p>but we tweak them with @infinity's feedback in mind, not just because it makes things easier for new contributors</p>



<a name="209839986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209839986" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209839986">(Sep 11 2020 at 21:56)</a>:</h4>
<p>I would also be fine with the "defaults" having a version tag that we just increment whenever changing defaults that nags you to re-run x.py setup</p>



<a name="209840041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840041" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840041">(Sep 11 2020 at 21:56)</a>:</h4>
<p>that seems possible too</p>



<a name="209840047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840047" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840047">(Sep 11 2020 at 21:56)</a>:</h4>
<p>that said, before we implement any sort of x.py setup I think we need to change config.toml parsing to something more structured</p>



<a name="209840080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840080" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840080">(Sep 11 2020 at 21:57)</a>:</h4>
<p>and ideally that avoids the current approach of ".toml.example" which hopefully covers every option and is not misleading in terms of actual default</p>



<a name="209840106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840106" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840106">(Sep 11 2020 at 21:57)</a>:</h4>
<p>I don't know exactly -- maybe there's not a great alternative</p>



<a name="209840116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840116" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840116">(Sep 11 2020 at 21:57)</a>:</h4>
<p>what if <code>x.py setup</code> didn't add all the comments and commented-out defaults?</p>



<a name="209840140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840140" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840140">(Sep 11 2020 at 21:57)</a>:</h4>
<p>that also avoids the comments getting out of date</p>



<a name="209840192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840192" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840192">(Sep 11 2020 at 21:58)</a>:</h4>
<p>because currently <code>config.toml.example</code> changes while <code>config.toml</code> stays static basically forever</p>



<a name="209840218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840218" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840218">(Sep 11 2020 at 21:58)</a>:</h4>
<p>and that way it's much more managable and easy to see what changed</p>



<a name="209840232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840232" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840232">(Sep 11 2020 at 21:58)</a>:</h4>
<p>ah, so you're saying we just don't have defaults at all?</p>



<a name="209840253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840253" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840253">(Sep 11 2020 at 21:58)</a>:</h4>
<p>not in the <code>config.toml</code>, no</p>



<a name="209840264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840264" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840264">(Sep 11 2020 at 21:58)</a>:</h4>
<p>hmm</p>



<a name="209840308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840308" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840308">(Sep 11 2020 at 21:59)</a>:</h4>
<p>that seems bad, because it's much harder to tell "intentional manual change" vs "auto-generated" then</p>



<a name="209840338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840338" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840338">(Sep 11 2020 at 21:59)</a>:</h4>
<p>I'd rather have something like <code>include = "maintainer"</code> at the top</p>



<a name="209840359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840359" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840359">(Sep 11 2020 at 21:59)</a>:</h4>
<p>ooh I like that</p>



<a name="209840409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840409" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840409">(Sep 11 2020 at 22:00)</a>:</h4>
<p>and that pre-sets options from src/bootstrap/config.toml.maintainer, for example</p>



<a name="209840410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840410" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840410">(Sep 11 2020 at 22:00)</a>:</h4>
<p>and then you don't have to rerun <code>x.py setup</code> when the defaults change</p>



<a name="209840439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840439" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840439">(Sep 11 2020 at 22:00)</a>:</h4>
<p>and it's very clear what <em>you</em> changed vs. what the setup did</p>



<a name="209840471"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840471" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840471">(Sep 11 2020 at 22:00)</a>:</h4>
<p>this sounds great :D</p>



<a name="209840494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840494" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840494">(Sep 11 2020 at 22:01)</a>:</h4>
<p>that said, I think it may make sense to also include a version that's bumped when any of the defaults change or new options are added</p>



<a name="209840515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840515" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840515">(Sep 11 2020 at 22:01)</a>:</h4>
<p>(somewhat orthogonal from default sets)</p>



<a name="209840543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840543" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840543">(Sep 11 2020 at 22:01)</a>:</h4>
<p>because e.g. when we introduce download-ci-llvm, you probably want to know about that</p>



<a name="209840552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840552" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840552">(Sep 11 2020 at 22:01)</a>:</h4>
<p>but currently we have no way of telling you nicely</p>



<a name="209840569"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840569" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840569">(Sep 11 2020 at 22:01)</a>:</h4>
<p>sure, that seems easy enough to add. are you imagining that <code>x.py</code> says something the first time you run it after the version changes?</p>



<a name="209840644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840644" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840644">(Sep 11 2020 at 22:02)</a>:</h4>
<p>every time until you bump the version</p>



<a name="209840689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840689" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840689">(Sep 11 2020 at 22:03)</a>:</h4>
<p>probably version is actually a PR# or something so that you can go learn about the new thing</p>



<a name="209840706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840706" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840706">(Sep 11 2020 at 22:03)</a>:</h4>
<p>oh you opt <em>in</em> to breaking changes instead of them silently changing</p>



<a name="209840708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840708" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840708">(Sep 11 2020 at 22:03)</a>:</h4>
<p>(or an incrementing integer into a src/bootstrap/CHANGELOG)</p>



<a name="209840713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840713" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840713">(Sep 11 2020 at 22:03)</a>:</h4>
<p>I really like that :D</p>



<a name="209840719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840719" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840719">(Sep 11 2020 at 22:03)</a>:</h4>
<p>no no</p>



<a name="209840725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840725" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840725">(Sep 11 2020 at 22:03)</a>:</h4>
<p>we're not maintaining multiple versions</p>



<a name="209840747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840747" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840747">(Sep 11 2020 at 22:03)</a>:</h4>
<p>this is just saying "hey the defaults changed here's how you find out how"</p>



<a name="209840804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840804" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840804">(Sep 11 2020 at 22:04)</a>:</h4>
<p>oh I see, the version number only controls 'have you seen the warning'</p>



<a name="209840820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840820" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840820">(Sep 11 2020 at 22:04)</a>:</h4>
<p>yeah that sounds reasonable</p>



<a name="209840831"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840831" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840831">(Sep 11 2020 at 22:04)</a>:</h4>
<p>essentially, and also provides a delta of changelog entries you need to read</p>



<a name="209840848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840848" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840848">(Sep 11 2020 at 22:04)</a>:</h4>
<p>right now you can basically "git pull" and your build breaks and you have no idea why</p>



<a name="209840857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840857" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840857">(Sep 11 2020 at 22:04)</a>:</h4>
<p>e.g., when we landed --stage 0</p>



<a name="209840862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840862" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840862">(Sep 11 2020 at 22:04)</a>:</h4>
<p>yeah  :/</p>



<a name="209840874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840874" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840874">(Sep 11 2020 at 22:05)</a>:</h4>
<p>but this way when you run x.py, it'll tell you "hey, go read this file!"</p>



<a name="209840908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840908" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840908">(Sep 11 2020 at 22:05)</a>:</h4>
<p>maybe even with the <em>default</em> being to stop the build if the version is desync'd, though not sure about that</p>



<a name="209840919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840919" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840919">(Sep 11 2020 at 22:05)</a>:</h4>
<p>I guess we can print at the start and at the end</p>



<a name="209840992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209840992" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209840992">(Sep 11 2020 at 22:06)</a>:</h4>
<p>"version" may also not be a good name, more like "acknowledge changelog entry number"</p>



<a name="209841005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841005" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841005">(Sep 11 2020 at 22:06)</a>:</h4>
<p>I think printing the change is enough</p>



<a name="209841018"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841018" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841018">(Sep 11 2020 at 22:06)</a>:</h4>
<p>like the cross-compiling thing you linked won't actually affect many people</p>



<a name="209841030"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841030" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841030">(Sep 11 2020 at 22:06)</a>:</h4>
<p>so it seems silly to force them to acknowledge it</p>



<a name="209841055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841055" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841055">(Sep 11 2020 at 22:06)</a>:</h4>
<p>well, sure, but I think we probably want a single universal default</p>



<a name="209841066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841066" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841066">(Sep 11 2020 at 22:07)</a>:</h4>
<p>because otherwise you'll have to read 5+ entries</p>



<a name="209841078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841078" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841078">(Sep 11 2020 at 22:07)</a>:</h4>
<p>vs. incrementally updating</p>



<a name="209841098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841098" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841098">(Sep 11 2020 at 22:07)</a>:</h4>
<p>like the default stage change seems pretty obvious that you want to read some stuff</p>



<a name="209841155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841155" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841155">(Sep 11 2020 at 22:08)</a>:</h4>
<p><em>before</em> you run your build</p>



<a name="209841159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841159" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841159">(Sep 11 2020 at 22:08)</a>:</h4>
<p>in retrospect, we should have landed the blog post several weeks <em>before</em> the change, not after</p>



<a name="209841168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841168" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841168">(Sep 11 2020 at 22:08)</a>:</h4>
<p>hindsight and all that</p>



<a name="209841209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841209" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841209">(Sep 11 2020 at 22:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/242791-t-infra/topic/Tips.20for.20debugging.20x.2Epy.20caching.3F/near/209841066">said</a>:</p>
<blockquote>
<p>because otherwise you'll have to read 5+ entries</p>
</blockquote>
<p>sorry I don't follow - won't you have to do this no matter what?</p>



<a name="209841232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841232" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841232">(Sep 11 2020 at 22:09)</a>:</h4>
<p>I mean, we can aggregate them on one page maybe, but at some point all those changes happened</p>



<a name="209841274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841274" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841274">(Sep 11 2020 at 22:09)</a>:</h4>
<p>I mean that if you keep getting nagged but don't update to ack</p>



<a name="209841325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841325" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841325">(Sep 11 2020 at 22:10)</a>:</h4>
<p>then you'll likely not know whether the latest git pull brought you from 1 -&gt; 10 or from 6 -&gt; 10</p>



<a name="209841336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841336" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841336">(Sep 11 2020 at 22:10)</a>:</h4>
<p>which seems bad</p>



<a name="209841359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841359" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841359">(Sep 11 2020 at 22:10)</a>:</h4>
<p>gotcha, and your suggestion is to show all the changes along the way as well?</p>



<a name="209841451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841451" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841451">(Sep 11 2020 at 22:11)</a>:</h4>
<p>well, we'd probably just say "you currently have id 6 in your file, but the build system is on id 10. Please read the changelog in src/bootstrap/changelog, and update your id in config.toml"</p>



<a name="209841499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841499" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841499">(Sep 11 2020 at 22:12)</a>:</h4>
<p>or something along those lines</p>



<a name="209841518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841518" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841518">(Sep 11 2020 at 22:12)</a>:</h4>
<p>changelogs are definitely a good idea <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="209841608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841608" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841608">(Sep 11 2020 at 22:13)</a>:</h4>
<p>ok so summarizing a little:</p>
<ul>
<li>making x.py stable is not really feasible</li>
<li>adding multiple sets of defaults in x.py itself is painful to maintain</li>
<li>we can combine this with the <code>x.py setup</code> idea to some extent by having <code>include = "maintainer"</code>, which has defaults in a separate file that's easy to update</li>
<li>we start versioning changes to x.py (even changes that aren't breaking)</li>
<li>we start warning if you have a config file that's on an old version, and point you to the changelog</li>
</ul>



<a name="209841728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841728" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841728">(Sep 11 2020 at 22:15)</a>:</h4>
<p>and presumably you can <code>--set include=maintainer</code> or whatever so @infinity0 can still use their own defaults without having to mess with <code>sed</code></p>



<a name="209841758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841758" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841758">(Sep 11 2020 at 22:15)</a>:</h4>
<p>sure yes</p>



<a name="209841787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841787" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841787">(Sep 11 2020 at 22:15)</a>:</h4>
<p>ok nice :) I'll open an issue with this</p>



<a name="209841846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841846" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841846">(Sep 11 2020 at 22:16)</a>:</h4>
<p>if there's some way we can get <code>--set 'path.to.field=value'</code> to work with x.py as well as ./configure that'd be great</p>



<a name="209841857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841857" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841857">(Sep 11 2020 at 22:16)</a>:</h4>
<p>so we don't need the annoying "some options are replicated"</p>



<a name="209841868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841868" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841868">(Sep 11 2020 at 22:16)</a>:</h4>
<p>but I don't know how easy that is</p>



<a name="209841898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841898" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841898">(Sep 11 2020 at 22:16)</a>:</h4>
<p>each of the changes this discussion suggests are pretty much separately implementable, btw</p>



<a name="209841899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841899" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841899">(Sep 11 2020 at 22:16)</a>:</h4>
<p><code>path.to.field=value</code> is valid toml, right? can we just parse that in <code>get_toml</code>?</p>



<a name="209841906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841906" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841906">(Sep 11 2020 at 22:17)</a>:</h4>
<p>"No idea"</p>



<a name="209841939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209841939" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209841939">(Sep 11 2020 at 22:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/242791-t-infra/topic/Tips.20for.20debugging.20x.2Epy.20caching.3F/near/209841898">said</a>:</p>
<blockquote>
<p>each of the changes this discussion suggests are pretty much separately implementable, btw</p>
</blockquote>
<p>definitely, this is the 'end goal' you were asking for before :P</p>



<a name="209842097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209842097" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209842097">(Sep 11 2020 at 22:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/242791-t-infra/topic/Tips.20for.20debugging.20x.2Epy.20caching.3F/near/209841846">said</a>:</p>
<blockquote>
<p>if there's some way we can get <code>--set 'path.to.field=value'</code> to work with x.py as well as ./configure that'd be great</p>
</blockquote>
<p>maybe we could also have a --persist option that writes it to your config file too :)</p>



<a name="209842106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209842106" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209842106">(Sep 11 2020 at 22:19)</a>:</h4>
<p>so you don't have to mess with editing it</p>



<a name="209842387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209842387" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209842387">(Sep 11 2020 at 22:23)</a>:</h4>
<p>ok going to start opening issues haha</p>



<a name="209842394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209842394" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209842394">(Sep 11 2020 at 22:23)</a>:</h4>
<p>I am scared of editing people's files</p>



<a name="209842508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209842508" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209842508">(Sep 11 2020 at 22:24)</a>:</h4>
<p>toml is a pretty simple format ... but this is the cherry on top of a whole bunch of frosting so I'm fine with not adding this</p>



<a name="209842564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209842564" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209842564">(Sep 11 2020 at 22:25)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/76616">https://github.com/rust-lang/rust/issues/76616</a></p>



<a name="209842735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209842735" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209842735">(Sep 11 2020 at 22:26)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/76617">https://github.com/rust-lang/rust/issues/76617</a></p>



<a name="209843154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209843154" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209843154">(Sep 11 2020 at 22:32)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/76619">https://github.com/rust-lang/rust/issues/76619</a></p>



<a name="209843189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209843189" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209843189">(Sep 11 2020 at 22:32)</a>:</h4>
<p>ok I think that's everything</p>



<a name="209843224"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209843224" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209843224">(Sep 11 2020 at 22:33)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> should I close <a href="https://github.com/rust-lang/rust/issues/76380">https://github.com/rust-lang/rust/issues/76380</a> as wontfix?</p>



<a name="209843231"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209843231" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209843231">(Sep 11 2020 at 22:33)</a>:</h4>
<p>I think so</p>



<a name="209843446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209843446" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209843446">(Sep 11 2020 at 22:36)</a>:</h4>
<p>ok I have to go, thanks for talking this over :)</p>



<a name="209861388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209861388" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209861388">(Sep 12 2020 at 03:05)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/76626">https://github.com/rust-lang/rust/pull/76626</a></p>



<a name="209861390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/209861390" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#209861390">(Sep 12 2020 at 03:05)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/76625">https://github.com/rust-lang/rust/pull/76625</a></p>



<a name="211208520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/211208520" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#211208520">(Sep 25 2020 at 01:12)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> any objections to a <code>rustbuild-breaking-change</code> tag? that would make it easier to find things than the changelog I think</p>



<a name="211208525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/211208525" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#211208525">(Sep 25 2020 at 01:12)</a>:</h4>
<p>(of course the changelog is still good)</p>



<a name="211208571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/211208571" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#211208571">(Sep 25 2020 at 01:13)</a>:</h4>
<p>Hm I think probably you just want "rustbuild"?</p>



<a name="211208580"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/211208580" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#211208580">(Sep 25 2020 at 01:13)</a>:</h4>
<p>Everything is a breaking change on some level</p>



<a name="211208633"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/211208633" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#211208633">(Sep 25 2020 at 01:14)</a>:</h4>
<p>breaking as in 'we bumped the version number' I mean</p>



<a name="211208642"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/211208642" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#211208642">(Sep 25 2020 at 01:14)</a>:</h4>
<p>Hm</p>



<a name="211208652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/211208652" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#211208652">(Sep 25 2020 at 01:14)</a>:</h4>
<p>I mean I'm not opposed but I guarantee I'll forget it</p>



<a name="211208680"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/211208680" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#211208680">(Sep 25 2020 at 01:15)</a>:</h4>
<p>maybe we can set highfive to ping me when the changelog is modified lol</p>



<a name="211212875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/211212875" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#211212875">(Sep 25 2020 at 02:47)</a>:</h4>
<p>I would hope most of the churn is short-term...</p>



<a name="211243700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/211243700" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#211243700">(Sep 25 2020 at 11:04)</a>:</h4>
<p>Yeah, it almost certainly is - I imagine we'll even out to another plateau - but still, feels a bit excessive to bump that often in the short term too</p>



<a name="214875724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214875724" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214875724">(Oct 28 2020 at 18:01)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> were you planning to open an LLVM issue for <a href="https://github.com/rust-lang/rust/issues/77084">https://github.com/rust-lang/rust/issues/77084</a> ? I'm happy to do it myself but I'm not exactly sure what they need to change on their end</p>



<a name="214875927"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214875927" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214875927">(Oct 28 2020 at 18:02)</a>:</h4>
<p>I think we need to do some more investigation outside the rust build system for something we report upstream</p>



<a name="214876013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214876013" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214876013">(Oct 28 2020 at 18:02)</a>:</h4>
<p>That said I want to get our problems fixed first which means distributing static archives (.a) first, which should work, just not tested yet</p>



<a name="214876114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214876114" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214876114">(Oct 28 2020 at 18:03)</a>:</h4>
<p>from my perspective I don't care much about static vs dynamic as long as you can download LLVM</p>



<a name="214876135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214876135" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214876135">(Oct 28 2020 at 18:04)</a>:</h4>
<p>since it's only for contributors that don't want to build llvm in the first place</p>



<a name="214876179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214876179" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214876179">(Oct 28 2020 at 18:04)</a>:</h4>
<p>maybe for releases the distinction makes more sense</p>



<a name="214876182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214876182" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214876182">(Oct 28 2020 at 18:04)</a>:</h4>
<p>Sure. I think dynamic seems to be broken upstream (or can't work not really sure)</p>



<a name="214876313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214876313" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214876313">(Oct 28 2020 at 18:05)</a>:</h4>
<p>Dynamic permits less ci time spent if we do things like lto (since we link llvm twice at least with static archives)</p>



<a name="214876474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214876474" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214876474">(Oct 28 2020 at 18:06)</a>:</h4>
<p>I thought CI doesn't download LLVM?</p>



<a name="214876502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214876502" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214876502">(Oct 28 2020 at 18:06)</a>:</h4>
<p>since it's building it in the first place</p>



<a name="214878204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214878204" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214878204">(Oct 28 2020 at 18:20)</a>:</h4>
<p>Yes</p>



<a name="214878221"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214878221" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214878221">(Oct 28 2020 at 18:20)</a>:</h4>
<p>But LTO runs at link time</p>



<a name="214878233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214878233" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214878233">(Oct 28 2020 at 18:20)</a>:</h4>
<p>And if you build a dylib, then it runs then</p>



<a name="214878262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214878262" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214878262">(Oct 28 2020 at 18:20)</a>:</h4>
<p>Whereas if you statically link you run it for each binary link (so stage1 and 2)</p>



<a name="214878347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Planning%20x.py%27s%20future/near/214878347" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Planning.20x.2Epy&#x27;s.20future.html#214878347">(Oct 28 2020 at 18:21)</a>:</h4>
<p>ahhh I see</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>