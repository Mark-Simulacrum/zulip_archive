<html>
<head><meta charset="utf-8"><title>vacation and gha switch · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html">vacation and gha switch</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="204410472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204410472" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204410472">(Jul 20 2020 at 11:20)</a>:</h4>
<p>hello <span class="user-group-mention" data-user-group-id="2943">@T-infra</span>! I'll be on vacation from july 26th to august 8th <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="204410489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204410489" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204410489">(Jul 20 2020 at 11:21)</a>:</h4>
<p>regarding the switch to gha, I <em>can</em> probably do the last bits tomorrow to gate on gha</p>



<a name="204410511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204410511" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204410511">(Jul 20 2020 at 11:21)</a>:</h4>
<p>and that would leave 4 days of me being available to handle the (hopefully no) fallout</p>



<a name="204410514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204410514" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204410514">(Jul 20 2020 at 11:21)</a>:</h4>
<p>are we comfortable doing it?</p>



<a name="204413859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204413859" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204413859">(Jul 20 2020 at 12:06)</a>:</h4>
<p>I imagine we could start by just disabling gating and switching upload buckets? We'll want to be a bit careful with rollout I guess (to stable/beta), I forget how we managed it historically</p>



<a name="204413876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204413876" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204413876">(Jul 20 2020 at 12:06)</a>:</h4>
<p>maybe we should get stable binaries built today/tomorrow so we can use those and then go ahead and make the switch</p>



<a name="204413880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204413880" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204413880">(Jul 20 2020 at 12:06)</a>:</h4>
<p>(for rustfmt point release)</p>



<a name="204416961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204416961" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204416961">(Jul 20 2020 at 12:42)</a>:</h4>
<p>oh, that reminds me, "switching buckets" is going to be a bit of a pain</p>



<a name="204416974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204416974" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204416974">(Jul 20 2020 at 12:42)</a>:</h4>
<p>since we're going to still gate on Azure macOS</p>



<a name="204439463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204439463" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204439463">(Jul 20 2020 at 15:47)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> ok the PR two switch from where we upload builds is up <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="204439466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204439466" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204439466">(Jul 20 2020 at 15:47)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/74565">https://github.com/rust-lang/rust/pull/74565</a></p>



<a name="204439580"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204439580" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204439580">(Jul 20 2020 at 15:48)</a>:</h4>
<p>once that's merged we should be effectively on GHA, the only think left is to remove all the Azure Pipelines pipelines except for (fork-)auto and to remove all jobs but macOS from auto</p>



<a name="204439603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204439603" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204439603">(Jul 20 2020 at 15:49)</a>:</h4>
<p>and it's possible to rollback to upload builds from Azure by reverting the last commit in my PR</p>



<a name="204558617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204558617" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DPC <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204558617">(Jul 21 2020 at 15:01)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> is it fine if I r+ the pr? or are you waiting on Mark for something?</p>



<a name="204558713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204558713" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204558713">(Jul 21 2020 at 15:02)</a>:</h4>
<p>since I did some extra changes to the code I'd love for <span class="user-mention" data-user-id="116122">@simulacrum</span> to take a look</p>



<a name="204558740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204558740" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204558740">(Jul 21 2020 at 15:02)</a>:</h4>
<p>looking</p>



<a name="204558970"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204558970" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204558970">(Jul 21 2020 at 15:04)</a>:</h4>
<p>this should hopefully be the last cycle :D</p>



<a name="204559016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204559016" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204559016">(Jul 21 2020 at 15:04)</a>:</h4>
<p>after that PR is done we'll publish nightlies built on GHA</p>



<a name="204559042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204559042" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204559042">(Jul 21 2020 at 15:04)</a>:</h4>
<p>and then we can just remove all the non-macOS builders from azure</p>



<a name="204559065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204559065" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204559065">(Jul 21 2020 at 15:05)</a>:</h4>
<p>giving us those sweet build time improvements we worked so hard for <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="204603572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204603572" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204603572">(Jul 21 2020 at 21:13)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> if this r+ of the GHA PR doesn't go through I'm just tempted to both switch to GHA and remove all the Azure builders except for macOS in one go</p>



<a name="204603657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204603657" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204603657">(Jul 21 2020 at 21:14)</a>:</h4>
<p>since the tokens on GHA are working, it's just Azure who's making trouble</p>



<a name="204605359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204605359" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204605359">(Jul 21 2020 at 21:33)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span> from me on that fwiw</p>



<a name="204605376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204605376" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204605376">(Jul 21 2020 at 21:33)</a>:</h4>
<p>I don't know that we gain much from slowing ourselves down and causing problems by continuing to try and gate on azure</p>



<a name="204642179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204642179" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204642179">(Jul 22 2020 at 08:43)</a>:</h4>
<p>IT LANDED!</p>



<a name="204642183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204642183" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204642183">(Jul 22 2020 at 08:43)</a>:</h4>
<p>now it's time to remove Azure</p>



<a name="204647898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204647898" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204647898">(Jul 22 2020 at 09:57)</a>:</h4>
<p><span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="204647976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204647976" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204647976">(Jul 22 2020 at 09:58)</a>:</h4>
<p>I'm thinking about merging the blog post announcing the switch tomorrow</p>



<a name="204647988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204647988" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204647988">(Jul 22 2020 at 09:58)</a>:</h4>
<p>once we get a nightly build out</p>



<a name="204648571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204648571" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204648571">(Jul 22 2020 at 10:06)</a>:</h4>
<p>Sounds good</p>



<a name="204672450"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204672450" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204672450">(Jul 22 2020 at 14:25)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> <span class="user-mention" data-user-id="117568">@Aidan Hobson Sayers</span> can either of you run the two meetings while I'll be on vacation?</p>



<a name="204672558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/vacation%20and%20gha%20switch/near/204672558" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/vacation.20and.20gha.20switch.html#204672558">(Jul 22 2020 at 14:26)</a>:</h4>
<p>hm I should be around so yeah</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>