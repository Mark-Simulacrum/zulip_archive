<html>
<head><meta charset="utf-8"><title>disable android benches? · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html">disable android benches?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="201607537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/201607537" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#201607537">(Jun 22 2020 at 13:48)</a>:</h4>
<p>It seems like collectionsbenches fails frequently on android on GHA (<a href="https://github.com/rust-lang/rust/issues/73535">https://github.com/rust-lang/rust/issues/73535</a>).  Should I just disable that now?  I suspect a real fix will take a long while.  I'm uncertain how much people care about the red X on GHA, or if you want to gate on GHA soon.</p>



<a name="201614419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/201614419" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#201614419">(Jun 22 2020 at 14:45)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span> we'll discuss it in the infrastructure team meeting</p>



<a name="202023212"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023212" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023212">(Jun 25 2020 at 20:51)</a>:</h4>
<p>I'm working on this now with this PR <a href="https://github.com/rust-lang/rust/pull/73729">https://github.com/rust-lang/rust/pull/73729</a></p>



<a name="202023267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023267" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023267">(Jun 25 2020 at 20:51)</a>:</h4>
<p>Can someone help me decipher this failing tidy check?</p>
<p>tidy error: /home/nell/rust/src/liballoc/benches/lib.rs:3: platform-specific cfg: cfg(not(target_os = "android"))</p>



<a name="202023395"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023395" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023395">(Jun 25 2020 at 20:52)</a>:</h4>
<p>sure!</p>



<a name="202023426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023426" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023426">(Jun 25 2020 at 20:52)</a>:</h4>
<p>we generally don't like platform-specific cfg's in most places, so we lint against them today</p>



<a name="202023450"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023450" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023450">(Jun 25 2020 at 20:53)</a>:</h4>
<p>ah</p>



<a name="202023467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023467" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023467">(Jun 25 2020 at 20:53)</a>:</h4>
<p>is there another way to disable the benchmark tests for android without the specific config?</p>



<a name="202023477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023477" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023477">(Jun 25 2020 at 20:53)</a>:</h4>
<p>or is there a way I can add an exception to the linting?</p>



<a name="202023485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023485" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023485">(Jun 25 2020 at 20:53)</a>:</h4>
<p>ah, we probably just want to silence the lint</p>



<a name="202023499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023499" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023499">(Jun 25 2020 at 20:53)</a>:</h4>
<p>ah</p>



<a name="202023506"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023506" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023506">(Jun 25 2020 at 20:53)</a>:</h4>
<p>let me go find the magic string for you</p>



<a name="202023509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023509" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023509">(Jun 25 2020 at 20:53)</a>:</h4>
<p>ty!</p>



<a name="202023600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023600" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023600">(Jun 25 2020 at 20:54)</a>:</h4>
<p>hm actually just add it here <a href="https://github.com/rust-lang/rust/blob/a8cf3991177f30694200002cd9479ffbbe6d9a1a/src/tools/tidy/src/pal.rs#L69">https://github.com/rust-lang/rust/blob/a8cf3991177f30694200002cd9479ffbbe6d9a1a/src/tools/tidy/src/pal.rs#L69</a></p>



<a name="202023618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023618" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023618">(Jun 25 2020 at 20:54)</a>:</h4>
<p>can do!</p>



<a name="202023620"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023620" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023620">(Jun 25 2020 at 20:54)</a>:</h4>
<p>if we're ignoring tests already might as well do the same for benches</p>



<a name="202023626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202023626" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202023626">(Jun 25 2020 at 20:54)</a>:</h4>
<p>ty!</p>



<a name="202034001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202034001" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202034001">(Jun 25 2020 at 22:35)</a>:</h4>
<p>that did the trick, thanks again <span class="user-mention" data-user-id="116122">@simulacrum</span>!</p>



<a name="202125167"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/disable%20android%20benches%3F/near/202125167" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nell Shamrell-Harrington <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/disable.20android.20benches.3F.html#202125167">(Jun 26 2020 at 18:28)</a>:</h4>
<p>Pull request has been merged! <a href="https://github.com/rust-lang/rust/pull/73729">https://github.com/rust-lang/rust/pull/73729</a></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>