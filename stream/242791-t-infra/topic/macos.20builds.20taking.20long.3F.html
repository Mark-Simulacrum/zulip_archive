<html>
<head><meta charset="utf-8"><title>macos builds taking long? · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html">macos builds taking long?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="210291158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210291158" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DPC <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210291158">(Sep 16 2020 at 17:04)</a>:</h4>
<p>this rollup is being "merged" since 4h now: <a href="https://github.com/rust-lang/rust/pull/76786">https://github.com/rust-lang/rust/pull/76786</a> would be nice if someone could take  a  look before i restart it <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="210291750"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210291750" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210291750">(Sep 16 2020 at 17:09)</a>:</h4>
<p><a href="https://github.com/rust-lang-ci/rust/runs/1123323004">https://github.com/rust-lang-ci/rust/runs/1123323004</a> is one such build</p>



<a name="210291764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210291764" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210291764">(Sep 16 2020 at 17:09)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="121055">@Pietro Albini</span></p>



<a name="210292347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210292347" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210292347">(Sep 16 2020 at 17:14)</a>:</h4>
<p>hmm it's still running :/</p>



<a name="210292363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210292363" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210292363">(Sep 16 2020 at 17:14)</a>:</h4>
<p>seems to be building miri right now</p>



<a name="210292379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210292379" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210292379">(Sep 16 2020 at 17:14)</a>:</h4>
<p>let's not kill it, iirc miri is one of the last steps</p>



<a name="210292386"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210292386" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210292386">(Sep 16 2020 at 17:14)</a>:</h4>
<p><span class="user-mention" data-user-id="120823">@DPC</span> ^</p>



<a name="210292399"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210292399" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210292399">(Sep 16 2020 at 17:14)</a>:</h4>
<p>I'll investigate once we have the full logs</p>



<a name="210293594"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210293594" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210293594">(Sep 16 2020 at 17:23)</a>:</h4>
<p>ok it finished</p>



<a name="210294032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210294032" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210294032">(Sep 16 2020 at 17:26)</a>:</h4>
<p>ok it seems like for whatever reason compiling stage2 took 45 minutes?</p>



<a name="210295193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210295193" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DPC <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210295193">(Sep 16 2020 at 17:35)</a>:</h4>
<p>ye it's finished now, thanks</p>



<a name="210296263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210296263" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Gaynor <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210296263">(Sep 16 2020 at 17:44)</a>:</h4>
<p>Does Rust have any special pool of macOS builders? In other projects on GHA I've noticed that noisy-neighbor (or what I think is noisy neighbor) on macOS builders can be rough, intermittently.</p>



<a name="210298055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210298055" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210298055">(Sep 16 2020 at 17:59)</a>:</h4>
<p>no we don't have a special pool of macOS builders</p>



<a name="210298070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210298070" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210298070">(Sep 16 2020 at 17:59)</a>:</h4>
<p>so that could be it</p>



<a name="210300001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210300001" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210300001">(Sep 16 2020 at 18:16)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/76541">https://github.com/rust-lang/rust/pull/76541</a> also timed out 2 times due to mac builders</p>



<a name="210300016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210300016" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210300016">(Sep 16 2020 at 18:16)</a>:</h4>
<p>(but it merged eventually)</p>



<a name="210300637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210300637" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210300637">(Sep 16 2020 at 18:22)</a>:</h4>
<p>that was on azure though</p>



<a name="210300643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210300643" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210300643">(Sep 16 2020 at 18:22)</a>:</h4>
<p>interesting</p>



<a name="210300663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210300663" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210300663">(Sep 16 2020 at 18:22)</a>:</h4>
<p>well at least it's not a blocker for switching to GHA</p>



<a name="210308194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210308194" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210308194">(Sep 16 2020 at 19:23)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/76642">https://github.com/rust-lang/rust/pull/76642</a> also timed out on azure after 4 hours today.  Some of the timing lines are anywhere from 5x to 40x slower than normal.</p>



<a name="210308363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210308363" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210308363">(Sep 16 2020 at 19:24)</a>:</h4>
<p>possibly related: <a href="https://github.com/rust-lang/rust/pull/76755">https://github.com/rust-lang/rust/pull/76755</a></p>



<a name="210316339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210316339" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210316339">(Sep 16 2020 at 20:29)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> nah, it happens on Azure too from time to time</p>



<a name="210316391"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/macos%20builds%20taking%20long%3F/near/210316391" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/macos.20builds.20taking.20long.3F.html#210316391">(Sep 16 2020 at 20:29)</a>:</h4>
<p>and my understanding is azure's and github actions's infra has more things in common rather than not</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>