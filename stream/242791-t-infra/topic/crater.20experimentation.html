<html>
<head><meta charset="utf-8"><title>crater experimentation · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html">crater experimentation</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="250145348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/crater%20experimentation/near/250145348" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html#250145348">(Aug 20 2021 at 17:08)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> and <span class="user-mention" data-user-id="116122">@simulacrum</span> : I was musing in a separate channel about trying to use crater as the basis for testing incr-comp. I wanted to ask you all: How plausible would it be for me to try to redirect crater so that it made use of AWS resources I can charge to myself (and then hack on crater itself)? Saying it out loud, I feel silly even asking</p>



<a name="250145429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/crater%20experimentation/near/250145429" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html#250145429">(Aug 20 2021 at 17:09)</a>:</h4>
<p>You can run it locally, really, with a more limited subset of crates</p>



<a name="250145430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/crater%20experimentation/near/250145430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html#250145430">(Aug 20 2021 at 17:09)</a>:</h4>
<p>i.e. It should all be parameterized, with no credentials or IP addresses etc in source code, so I assume that as long as I use the same AWS resources that crater does, this should be a straight-forward thing to do</p>



<a name="250145468"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/crater%20experimentation/near/250145468" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html#250145468">(Aug 20 2021 at 17:09)</a>:</h4>
<p>Crater isn't using anything other than ec2-like (no rds or anything AWS specific)</p>



<a name="250145475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/crater%20experimentation/near/250145475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html#250145475">(Aug 20 2021 at 17:09)</a>:</h4>
<p>crater doesn't know anything about aws, gcp or azure</p>



<a name="250145493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/crater%20experimentation/near/250145493" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html#250145493">(Aug 20 2021 at 17:09)</a>:</h4>
<p>okay that would be a good option too. But in terms of deploying a version of it that is doing something far more intense than what we want crater itself to do by default, I figure I’m better off using my own AWS account</p>



<a name="250145503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/crater%20experimentation/near/250145503" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html#250145503">(Aug 20 2021 at 17:10)</a>:</h4>
<p>you have a binary on the agents that communicates with a separate http server and runs jobs</p>



<a name="250145666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/crater%20experimentation/near/250145666" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html#250145666">(Aug 20 2021 at 17:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/242791-t-infra/topic/crater.20experimentation/near/250145493">said</a>:</p>
<blockquote>
<p>okay that would be a good option too. But in terms of deploying a version of it that is doing something far more intense than what we want crater itself to do by default, I figure I’m better off using my own AWS account</p>
</blockquote>
<p>the current queue is empty :)</p>



<a name="250146186"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/crater%20experimentation/near/250146186" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html#250146186">(Aug 20 2021 at 17:15)</a>:</h4>
<p>in summary <span class="user-mention" data-user-id="116083">@pnkfelix</span> you don't need any specific AWS resources, just a VM to run the server on and N VMs to run the agents on, but with the empty queue we have right now I'd just use the main crater instance</p>



<a name="250146228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/crater%20experimentation/near/250146228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html#250146228">(Aug 20 2021 at 17:15)</a>:</h4>
<p>since it's for rust stuff and the machines are idle otherwise</p>



<a name="250146535"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/crater%20experimentation/near/250146535" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html#250146535">(Aug 20 2021 at 17:18)</a>:</h4>
<p>(and one of the runners could be the server VM too)</p>



<a name="250146615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/crater%20experimentation/near/250146615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html#250146615">(Aug 20 2021 at 17:19)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> I don't think the main crater instance makes sense - Felix I think is talking about not standard crater (i.e. running crater with modifications)?</p>



<a name="250147173"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/crater%20experimentation/near/250147173" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html#250147173">(Aug 20 2021 at 17:24)</a>:</h4>
<p>depending how big the change is I could see it being merged in crater proper behind a flag</p>



<a name="250149183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/crater%20experimentation/near/250149183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/crater.20experimentation.html#250149183">(Aug 20 2021 at 17:39)</a>:</h4>
<p>sure, yeah</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>