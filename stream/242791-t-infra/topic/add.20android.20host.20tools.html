<html>
<head><meta charset="utf-8"><title>add android host tools · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/add.20android.20host.20tools.html">add android host tools</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="245978114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/add%20android%20host%20tools/near/245978114" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/add.20android.20host.20tools.html#245978114">(Jul 14 2021 at 15:43)</a>:</h4>
<p>Not sure if anyone saw <a href="https://github.com/rust-lang/rust/issues/42639#issuecomment-879563025">https://github.com/rust-lang/rust/issues/42639#issuecomment-879563025</a></p>



<a name="245984663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/add%20android%20host%20tools/near/245984663" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/add.20android.20host.20tools.html#245984663">(Jul 14 2021 at 16:33)</a>:</h4>
<p><a href="https://github.com/rust-lang/infra-team/issues/45">https://github.com/rust-lang/infra-team/issues/45</a> is what I just filed in "response", but it'll get discussed next infra meeting I imagine</p>



<a name="245994929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/add%20android%20host%20tools/near/245994929" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/add.20android.20host.20tools.html#245994929">(Jul 14 2021 at 17:47)</a>:</h4>
<p>assuming <a href="https://github.com/rust-lang/rust/issues/42639">#42639</a> gets closed, should I file a MCP? idk what exactly I'd change as AFAICT someone from infra would need to do the actual changes needed.</p>



<a name="246001992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/add%20android%20host%20tools/near/246001992" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/add.20android.20host.20tools.html#246001992">(Jul 14 2021 at 18:43)</a>:</h4>
<p>Are you familiar with the target tier policy? That lays out the criteria for promoting a target to a different tier (or introducing it). Part of the steps is a question of CI capacity, but right now we seem to be doing OK on that. I think one of the goals here will be to loosely identify what the criteria infra uses to estimate capacity should be...</p>



<a name="246005162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/add%20android%20host%20tools/near/246005162" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/add.20android.20host.20tools.html#246005162">(Jul 14 2021 at 19:08)</a>:</h4>
<p>yeah, I read through the whole tier 2 and tier 2 + host tools section, promoting aarch64-linux-android to tier 2 + host tools seems to satisfy all the requirements that I can check (so basically everything other than maintainership and ci capacity)</p>



<a name="246023793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/add%20android%20host%20tools/near/246023793" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/add.20android.20host.20tools.html#246023793">(Jul 14 2021 at 21:24)</a>:</h4>
<p>I'm curious, I can't quite tell from the issue what the advantage of having host tools for android rather than for linux-gnu in a chroot would be. Do people run "native" host tools on an Android system compiled against the system bionic?</p>



<a name="246023879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/add%20android%20host%20tools/near/246023879" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/add.20android.20host.20tools.html#246023879">(Jul 14 2021 at 21:25)</a>:</h4>
<p>I didn't think termux built against the system bionic.</p>



<a name="246033419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/add%20android%20host%20tools/near/246033419" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/add.20android.20host.20tools.html#246033419">(Jul 14 2021 at 23:07)</a>:</h4>
<p>termux dynamically links to the system bionic:<br>
Termux's bash's libraries:</p>
<div class="codehilite"><pre><span></span><code>0x0000007fbf639000  0x0000007fbf6ec758  Yes (*)     /system/bin/linker64
0x0000007fbe085b68  0x0000007fbe086208  Yes (*)     /data/data/com.termux/files/usr/lib/libtermux-exec.so
0x0000007fbe06de38  0x0000007fbe06e9bc  Yes (*)     /data/data/com.termux/files/usr/lib/libandroid-support.so
0x0000007fbdf3b098  0x0000007fbdf5bc30  Yes (*)     /data/data/com.termux/files/usr/lib/libreadline.so.8.1
0x0000007fbe0e0810  0x0000007fbe0f51c4  Yes (*)     /data/data/com.termux/files/usr/lib/libiconv.so
0x0000007fbe017000  0x0000007fbe0171c4  Yes (*)     /apex/com.android.runtime/lib64/bionic/libdl.so
0x0000007fbe252000  0x0000007fbe2ca984  Yes (*)     /apex/com.android.runtime/lib64/bionic/libc.so
0x0000007fbdfbf6f8  0x0000007fbdfe7c20  Yes (*)     /data/data/com.termux/files/usr/lib/libncursesw.so.6.2
0x0000007dade6c000  0x0000007dade6fb24  Yes (*)     /system/lib64/libnetd_client.so
0x0000007daddcb000  0x0000007dade2245c  Yes (*)     /system/lib64/libc++.so
0x0000007dadd58000  0x0000007dadd7b9bc  Yes (*)     /apex/com.android.runtime/lib64/bionic/libm.so
</code></pre></div>



<a name="246033699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/add%20android%20host%20tools/near/246033699" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/add.20android.20host.20tools.html#246033699">(Jul 14 2021 at 23:11)</a>:</h4>
<p>Termux's rustc's libraries:</p>
<div class="codehilite"><pre><span></span><code>0x0000007fbf639000  0x0000007fbf6ec758  Yes (*)     /system/bin/linker64
0x0000007fb604eb68  0x0000007fb604f208  Yes (*)     /data/data/com.termux/files/usr/lib/libtermux-exec.so
0x0000007fbb5fb9f8  0x0000007fbd428f48  Yes (*)     /data/data/com.termux/files/usr/lib/librustc_driver-2c56b208cddc059b.so
0x0000007fb5f24090  0x0000007fb5fecca8  Yes (*)     /data/data/com.termux/files/usr/lib/libstd-54118d8872029489.so
0x0000007fb5c84000  0x0000007fb5cfc984  Yes (*)     /apex/com.android.runtime/lib64/bionic/libc.so
0x0000007fb5d60000  0x0000007fb5d601c4  Yes (*)     /apex/com.android.runtime/lib64/bionic/libdl.so
0x0000007fb6ac3350  0x0000007fb9302710  Yes (*)     /data/data/com.termux/files/usr/lib/libLLVM-12.so
0x0000007fb5b897b0  0x0000007fb5bf72a0  Yes (*)     /data/data/com.termux/files/usr/lib/libc++_shared.so
0x0000007fbde5a000  0x0000007fbde7d9bc  Yes (*)     /apex/com.android.runtime/lib64/bionic/libm.so
0x0000007fb5b20590  0x0000007fb5b240e4  Yes (*)     /data/data/com.termux/files/usr/lib/libffi.so
0x0000007fbdd48198  0x0000007fbdd52c80  Yes (*)     /data/data/com.termux/files/usr/lib/libz.so.1.2.11
0x0000007fbddec6f8  0x0000007fbde14c20  Yes (*)     /data/data/com.termux/files/usr/lib/libncursesw.so.6.2
0x0000007fbdc44b50  0x0000007fbdcf1108  Yes (*)     /data/data/com.termux/files/usr/lib/libxml2.so
0x0000007fbdd830f0  0x0000007fbdd95f84  Yes (*)     /data/data/com.termux/files/usr/lib/liblzma.so.5.2.5
0x0000007fb5da5810  0x0000007fb5dba1c4  Yes (*)     /data/data/com.termux/files/usr/lib/libiconv.so
0x0000007fbe252000  0x0000007fbe255b24  Yes (*)     /system/lib64/libnetd_client.so
0x0000007fbe1d1000  0x0000007fbe22845c  Yes (*)     /system/lib64/libc++.so
</code></pre></div>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>