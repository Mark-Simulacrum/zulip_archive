<html>
<head><meta charset="utf-8"><title>toolstate failure · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/toolstate.20failure.html">toolstate failure</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="203222378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/toolstate%20failure/near/203222378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/toolstate.20failure.html#203222378">(Jul 08 2020 at 01:29)</a>:</h4>
<p>I <em>think</em> all PRs are going to start failing.  Looks like GHA is using pietro's clone of rust-toolstate, which has every tool in "test-pass" state.  But RLS and Rustfmt are currently failing with an ICE, so the check-tools builder thinks they regress on each build.</p>



<a name="203222393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/toolstate%20failure/near/203222393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/toolstate.20failure.html#203222393">(Jul 08 2020 at 01:29)</a>:</h4>
<p>I'll monitor the next PR, but if it fails I'll close the tree (assuming nobody responds first).</p>



<a name="203223170"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/toolstate%20failure/near/203223170" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/toolstate.20failure.html#203223170">(Jul 08 2020 at 01:46)</a>:</h4>
<p>Yea, looks like all PRs will fail. Some ideas on how to fix this:</p>
<ul>
<li>Fix rustfmt/rls ICE.</li>
<li>Publish an up-to-date toolstate status to pietro's toolstate clone.</li>
<li>Fix <a href="https://github.com/rust-lang/rust/issues/71195">https://github.com/rust-lang/rust/issues/71195</a> (I think this is why it is out of date?)</li>
<li>Stop gating on GHA.</li>
<li>Disable the GHA toolstate builders.</li>
<li>Switch GHA toolstate check to the real toolstate repo (but don't attempt to publish updates)<br>
    - Or switch GHA, and publish from GHA, and disable Azure.</li>
</ul>



<a name="203223901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/toolstate%20failure/near/203223901" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DPC <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/toolstate.20failure.html#203223901">(Jul 08 2020 at 02:01)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span> should i close the tree? (not many prs in queue )</p>



<a name="203224014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/toolstate%20failure/near/203224014" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DPC <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/toolstate.20failure.html#203224014">(Jul 08 2020 at 02:04)</a>:</h4>
<p>the tree is now closed for below 1000</p>



<a name="203246331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/toolstate%20failure/near/203246331" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/toolstate.20failure.html#203246331">(Jul 08 2020 at 09:14)</a>:</h4>
<p>gah</p>



<a name="203246535"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/toolstate%20failure/near/203246535" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/toolstate.20failure.html#203246535">(Jul 08 2020 at 09:17)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span> <span class="user-mention" data-user-id="120823">@DPC</span> updated my fork of toolstate</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>