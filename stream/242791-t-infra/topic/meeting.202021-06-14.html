<html>
<head><meta charset="utf-8"><title>meeting 2021-06-14 · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html">meeting 2021-06-14</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="242617768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242617768" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242617768">(Jun 14 2021 at 15:46)</a>:</h4>
<p>I've got training this week and next, so I won't be attending the infra meeting!</p>



<a name="242628455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242628455" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242628455">(Jun 14 2021 at 17:00)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2943">@T-infra</span> meeting time!</p>



<a name="242628512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242628512" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> kennytm <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242628512">(Jun 14 2021 at 17:00)</a>:</h4>
<p>o/</p>



<a name="242628526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242628526" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242628526">(Jun 14 2021 at 17:01)</a>:</h4>
<p>o/</p>



<a name="242628596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242628596" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242628596">(Jun 14 2021 at 17:01)</a>:</h4>
<p>o/</p>



<a name="242628723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242628723" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242628723">(Jun 14 2021 at 17:02)</a>:</h4>
<p>ok</p>



<a name="242628735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242628735" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242628735">(Jun 14 2021 at 17:02)</a>:</h4>
<p>let's get started</p>



<a name="242628805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242628805" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242628805">(Jun 14 2021 at 17:02)</a>:</h4>
<p>first up, <a href="https://github.com/rust-lang/rust-forge/issues/541">https://github.com/rust-lang/rust-forge/issues/541</a> - cloudfront validation</p>



<a name="242628858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242628858" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242628858">(Jun 14 2021 at 17:03)</a>:</h4>
<p>sounds like...we just can't deploy the forge?</p>



<a name="242628906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242628906" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242628906">(Jun 14 2021 at 17:03)</a>:</h4>
<p>Well presumably it just needs to wait for cache to invalidate?</p>



<a name="242628917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242628917" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242628917">(Jun 14 2021 at 17:03)</a>:</h4>
<p>It'll do it itself eventually</p>



<a name="242628930"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242628930" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242628930">(Jun 14 2021 at 17:03)</a>:</h4>
<p>Not sure what default is</p>



<a name="242628938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242628938" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242628938">(Jun 14 2021 at 17:03)</a>:</h4>
<p>yeah I think we're just not purging caches</p>



<a name="242629003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629003" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629003">(Jun 14 2021 at 17:04)</a>:</h4>
<p>Good to figure out what's necessary</p>



<a name="242629055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629055" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629055">(Jun 14 2021 at 17:04)</a>:</h4>
<p>a thing that came to mind is that this might be an incompatibility between awscli 1 and awscli 2</p>



<a name="242629076"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629076" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629076">(Jun 14 2021 at 17:04)</a>:</h4>
<p>with github updating the version in the VM</p>



<a name="242629108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629108" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629108">(Jun 14 2021 at 17:05)</a>:</h4>
<p>that's the only thing that I can think of that could lead to it just breaking</p>



<a name="242629227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629227" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629227">(Jun 14 2021 at 17:05)</a>:</h4>
<p>but I don't see anything related to cloudfront in the breaking changes list :/</p>



<a name="242629273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629273" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629273">(Jun 14 2021 at 17:06)</a>:</h4>
<p>won't have time to debug this for the next little while</p>



<a name="242629433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629433" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629433">(Jun 14 2021 at 17:07)</a>:</h4>
<p>ok - given that it 'just' means the updates take a bit to propagate, I guess we can leave it</p>



<a name="242629491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629491" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629491">(Jun 14 2021 at 17:08)</a>:</h4>
<p>I would still track it, we need to get it fixed eventually</p>



<a name="242629599"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629599" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629599">(Jun 14 2021 at 17:08)</a>:</h4>
<p>ok</p>



<a name="242629642"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629642" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629642">(Jun 14 2021 at 17:09)</a>:</h4>
<p>I've moved it as an item in a meeting around a month from now</p>



<a name="242629702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629702" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629702">(Jun 14 2021 at 17:09)</a>:</h4>
<p>ok, next up - arm ci machine</p>



<a name="242629792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629792" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629792">(Jun 14 2021 at 17:10)</a>:</h4>
<p>more discussion is available at <a href="#narrow/stream/242791-t-infra/topic/new.20aarch64.20ci.20server">https://rust-lang.zulipchat.com/#narrow/stream/242791-t-infra/topic/new.20aarch64.20ci.20server</a></p>



<a name="242629837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629837" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629837">(Jun 14 2021 at 17:10)</a>:</h4>
<p>but tl;dr is that arm gave us a new bare metal server for CI to replace the old one, which has more cpu cores and a new processor</p>



<a name="242629867"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629867" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629867">(Jun 14 2021 at 17:10)</a>:</h4>
<p>but it seems like the setup we have is not compatible with neoverse n1 cores</p>



<a name="242629897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629897" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629897">(Jun 14 2021 at 17:11)</a>:</h4>
<p>or at least, it fails both on the arm bare metal server and on an aws graviton2 instance</p>



<a name="242629968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242629968" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242629968">(Jun 14 2021 at 17:11)</a>:</h4>
<p>I wanted to test on a graviton1 instance (which doesn't use neoverse n1 cores) last week, but I didn't get the time and I'm not sure whether I'll be able to as I'm away from my desktop</p>



<a name="242630049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630049" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630049">(Jun 14 2021 at 17:12)</a>:</h4>
<p>ok it sounds like the vm just doesn't start?</p>



<a name="242630059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630059" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630059">(Jun 14 2021 at 17:12)</a>:</h4>
<p>yeah</p>



<a name="242630100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630100" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630100">(Jun 14 2021 at 17:12)</a>:</h4>
<p>qemu doesn't output anything and I couldn't get the kernel to output anything either</p>



<a name="242630117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630117" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630117">(Jun 14 2021 at 17:12)</a>:</h4>
<p>Qemu debugging prior to boot is pretty painful in my experience</p>



<a name="242630128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630128" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630128">(Jun 14 2021 at 17:12)</a>:</h4>
<p>with one cpu core spinning at 100%</p>



<a name="242630139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630139" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630139">(Jun 14 2021 at 17:12)</a>:</h4>
<p>yeah</p>



<a name="242630272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630272" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630272">(Jun 14 2021 at 17:13)</a>:</h4>
<p>so on the graviton2 instance I tested both on ubuntu 20.04 (last lts) and 18.04 (the one installed on the old ci server)</p>



<a name="242630323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630323" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630323">(Jun 14 2021 at 17:14)</a>:</h4>
<p>and on graviton2 it failed on both versions, so it's not a problem with the ubuntu version</p>



<a name="242630333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630333" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630333">(Jun 14 2021 at 17:14)</a>:</h4>
<p>(and the included QEMU version)</p>



<a name="242630410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630410" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630410">(Jun 14 2021 at 17:14)</a>:</h4>
<p>[one sec]</p>



<a name="242630656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630656" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630656">(Jun 14 2021 at 17:16)</a>:</h4>
<p>ok back</p>



<a name="242630664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630664" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630664">(Jun 14 2021 at 17:16)</a>:</h4>
<p>just to recite the problem and make sure I'm clear:</p>
<ul>
<li>we have a machine with a new kind of arm cpu</li>
<li>we run qemu on this machine</li>
<li>we try to boot qemu with an arm image that we build</li>
</ul>



<a name="242630738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630738" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630738">(Jun 14 2021 at 17:17)</a>:</h4>
<p>yeah, and well, we're failing to build our image because we can't start qemu <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="242630744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630744" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630744">(Jun 14 2021 at 17:17)</a>:</h4>
<p>it looked in that thread you wrote a test script as a minimal repro <span class="user-mention" data-user-id="121055">@Pietro Albini</span> - would you be able to provide that on the thread</p>



<a name="242630816"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630816" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630816">(Jun 14 2021 at 17:17)</a>:</h4>
<p>well it's just cloning <a href="https://github.com/rust-lang/gha-self-hosted/tree/master/images/ubuntu">https://github.com/rust-lang/gha-self-hosted/tree/master/images/ubuntu</a> and running make on it</p>



<a name="242630948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242630948" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242630948">(Jun 14 2021 at 17:18)</a>:</h4>
<p>the next debugging step that comes to mind is to see if it works on a a1.metal aws instance on ubuntu 18.04 and 20.04, just to isolate that it indeed works outside a neoverse n1 cpu</p>



<a name="242631172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631172" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631172">(Jun 14 2021 at 17:20)</a>:</h4>
<p>I'm not sure whether I'll be able to test it myself soon tho</p>



<a name="242631253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631253" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631253">(Jun 14 2021 at 17:20)</a>:</h4>
<p>arm gave us two weeks to migrate from the old server to the new one, if we haven't figured this out by EOW we should just tell arm we need to keep the old server</p>



<a name="242631288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631288" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631288">(Jun 14 2021 at 17:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/242791-t-infra/topic/meeting.202021-06-14/near/242630816">said</a>:</p>
<blockquote>
<p>well it's just cloning <a href="https://github.com/rust-lang/gha-self-hosted/tree/master/images/ubuntu">https://github.com/rust-lang/gha-self-hosted/tree/master/images/ubuntu</a> and running make on it</p>
</blockquote>
<p>I was more referring to the bar/baz script, where it looked like you had an image that you were invoking directly</p>



<a name="242631310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631310" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631310">(Jun 14 2021 at 17:21)</a>:</h4>
<p>i.e. removing packer</p>



<a name="242631323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631323" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631323">(Jun 14 2021 at 17:21)</a>:</h4>
<p>oooh</p>



<a name="242631366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631366" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631366">(Jun 14 2021 at 17:21)</a>:</h4>
<p>yeah it's on the bare metal machine, I can get it today or tomorrow</p>



<a name="242631369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631369" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631369">(Jun 14 2021 at 17:21)</a>:</h4>
<p>or well, try</p>



<a name="242631434"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631434" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631434">(Jun 14 2021 at 17:22)</a>:</h4>
<p>are the creds for both bare metal machines in 1password?</p>



<a name="242631547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631547" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631547">(Jun 14 2021 at 17:23)</a>:</h4>
<p>the access is with ssh keys</p>



<a name="242631594"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631594" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631594">(Jun 14 2021 at 17:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/242791-t-infra/topic/meeting.202021-06-14/near/242631369">said</a>:</p>
<blockquote>
<p>or well, try</p>
</blockquote>
<p>(ctx for this is in infra-private btw)</p>



<a name="242631717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631717" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631717">(Jun 14 2021 at 17:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="117568">Aidan Hobson Sayers</span> <a href="#narrow/stream/242791-t-infra/topic/meeting.202021-06-14/near/242631434">said</a>:</p>
<blockquote>
<p>are the creds for both bare metal machines in 1password?</p>
</blockquote>
<p>I'll have the script or the instructions for you or mark to get it later today</p>



<a name="242631729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631729" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631729">(Jun 14 2021 at 17:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/242791-t-infra/topic/meeting.202021-06-14/near/242631547">said</a>:</p>
<blockquote>
<p>the access is with ssh keys</p>
</blockquote>
<p>sure - ssh keys can go in 1password right?</p>



<a name="242631762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631762" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631762">(Jun 14 2021 at 17:24)</a>:</h4>
<p>yes but it's configured like all our other servers with just personal ssh keys</p>



<a name="242631776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631776" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631776">(Jun 14 2021 at 17:24)</a>:</h4>
<p>oh right, sorry</p>



<a name="242631828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242631828" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242631828">(Jun 14 2021 at 17:25)</a>:</h4>
<p><a href="https://github.com/rust-lang/simpleinfra/blob/b45ee8faa502c1c68f362a16f9ed727f63b0e7d6/ansible/playbooks/gha-self-hosted.yml#L12-L15">https://github.com/rust-lang/simpleinfra/blob/b45ee8faa502c1c68f362a16f9ed727f63b0e7d6/ansible/playbooks/gha-self-hosted.yml#L12-L15</a></p>



<a name="242632263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242632263" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242632263">(Jun 14 2021 at 17:27)</a>:</h4>
<p><a href="https://github.com/rust-lang/simpleinfra/blob/b45ee8faa502c1c68f362a16f9ed727f63b0e7d6/ansible/envs/prod/hosts">https://github.com/rust-lang/simpleinfra/blob/b45ee8faa502c1c68f362a16f9ed727f63b0e7d6/ansible/envs/prod/hosts</a> - is there a new hostname for the new arm box?</p>



<a name="242632364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242632364" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242632364">(Jun 14 2021 at 17:28)</a>:</h4>
<p>not yet, I'll grab the IP after the meeting</p>



<a name="242632402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242632402" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242632402">(Jun 14 2021 at 17:28)</a>:</h4>
<p>cheers</p>



<a name="242632429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242632429" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242632429">(Jun 14 2021 at 17:28)</a>:</h4>
<p>I think I'll get some time this weekend</p>



<a name="242632440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242632440" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242632440">(Jun 14 2021 at 17:28)</a>:</h4>
<p>the idea was to just replace ci-arm-1 with the new server before it didn't work <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="242632632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242632632" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242632632">(Jun 14 2021 at 17:29)</a>:</h4>
<p>ok, anything else for anyone to bring up?</p>



<a name="242632691"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242632691" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242632691">(Jun 14 2021 at 17:30)</a>:</h4>
<p>Nothing from me I think</p>



<a name="242632723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242632723" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242632723">(Jun 14 2021 at 17:30)</a>:</h4>
<p>then we're at time :) thanks all!</p>



<a name="242632730"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242632730" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242632730">(Jun 14 2021 at 17:30)</a>:</h4>
<p>\o</p>



<a name="242632731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242632731" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242632731">(Jun 14 2021 at 17:30)</a>:</h4>
<p>\o</p>



<a name="242632748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242632748" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> kennytm <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242632748">(Jun 14 2021 at 17:30)</a>:</h4>
<p>\o</p>



<a name="242632844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-14/near/242632844" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-14.html#242632844">(Jun 14 2021 at 17:31)</a>:</h4>
<p>\o</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>