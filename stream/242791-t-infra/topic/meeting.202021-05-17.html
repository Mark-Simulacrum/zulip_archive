<html>
<head><meta charset="utf-8"><title>meeting 2021-05-17 · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html">meeting 2021-05-17</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="239124527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239124527" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239124527">(May 17 2021 at 16:58)</a>:</h4>
<p>t-2 minutes</p>



<a name="239124707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239124707" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239124707">(May 17 2021 at 16:59)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2943">@T-infra</span> meeting time!</p>



<a name="239124759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239124759" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239124759">(May 17 2021 at 17:00)</a>:</h4>
<p>o/</p>



<a name="239124850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239124850" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239124850">(May 17 2021 at 17:00)</a>:</h4>
<p>o/</p>



<a name="239124891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239124891" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239124891">(May 17 2021 at 17:00)</a>:</h4>
<p>o/</p>



<a name="239125014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125014" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125014">(May 17 2021 at 17:01)</a>:</h4>
<p>ok we have a full agenda, let's start</p>



<a name="239125021"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125021" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125021">(May 17 2021 at 17:01)</a>:</h4>
<p>we have no issues to look at</p>



<a name="239125049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125049" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125049">(May 17 2021 at 17:01)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> coverage reports spurious failure</p>



<a name="239125100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125100" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125100">(May 17 2021 at 17:02)</a>:</h4>
<p>Yeah</p>



<a name="239125132"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125132" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125132">(May 17 2021 at 17:02)</a>:</h4>
<p>This is just an awareness thing mostly, I think</p>



<a name="239125185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125185" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125185">(May 17 2021 at 17:02)</a>:</h4>
<p>But I am leaning towards it needing attention if it doesn't go away on its own (or by non-infra)</p>



<a name="239125321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125321" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125321">(May 17 2021 at 17:03)</a>:</h4>
<p>hmm ok</p>



<a name="239125325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125325" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125325">(May 17 2021 at 17:03)</a>:</h4>
<p>Haven't read discussion in the last couple days in the issue</p>



<a name="239125400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125400" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125400">(May 17 2021 at 17:04)</a>:</h4>
<p>sorry, what's the context/issue link?</p>



<a name="239125446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125446" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125446">(May 17 2021 at 17:04)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/83262">https://github.com/rust-lang/rust/issues/83262</a></p>



<a name="239125526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125526" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125526">(May 17 2021 at 17:05)</a>:</h4>
<p>It looks like ignoring the test on msvc might be an easy quick fix</p>



<a name="239125567"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125567" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125567">(May 17 2021 at 17:05)</a>:</h4>
<p>I can file a PR later today for that</p>



<a name="239125616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125616" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125616">(May 17 2021 at 17:05)</a>:</h4>
<p>(not closing the issue though)</p>



<a name="239125672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125672" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125672">(May 17 2021 at 17:05)</a>:</h4>
<p>I haven't missed looking at spurious ci failures <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="239125680"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125680" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125680">(May 17 2021 at 17:05)</a>:</h4>
<p>ok! personally I don't have the time to look at spurious failures</p>



<a name="239125750"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125750" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125750">(May 17 2021 at 17:06)</a>:</h4>
<p>gosh that just looks like a total pain</p>



<a name="239125786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125786" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125786">(May 17 2021 at 17:06)</a>:</h4>
<p>Alright, we can probably move on, I'll follow up a bit here</p>



<a name="239125838"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125838" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125838">(May 17 2021 at 17:06)</a>:</h4>
<p>there is another bit in the agenda on this topic</p>



<a name="239125852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125852" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125852">(May 17 2021 at 17:07)</a>:</h4>
<blockquote>
<div class="codehilite"><pre><span></span><code>- Mark would like to consider some monitoring of spurious failures
    - Thoughts on how? Bors retry rate?
</code></pre></div>

</blockquote>



<a name="239125901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125901" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125901">(May 17 2021 at 17:07)</a>:</h4>
<p>I remember that <span class="user-mention silent" data-user-id="125254">kennytm</span> implemented <a href="https://bors.rust-lang.org/retry_log/rust">https://bors.rust-lang.org/retry_log/rust</a></p>



<a name="239125977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239125977" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239125977">(May 17 2021 at 17:08)</a>:</h4>
<p>it's not automated, but something like a prometheus counter wouldn't be more useful IMO</p>



<a name="239126028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126028" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126028">(May 17 2021 at 17:08)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> did you have thoughts on how this should work?</p>



<a name="239126066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126066" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126066">(May 17 2021 at 17:08)</a>:</h4>
<p>Yeah I'm essentially thinking we should hook that into Prometheus, even if it's not more than just the number of retries (we can average over a week or whatever)</p>



<a name="239126149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126149" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126149">(May 17 2021 at 17:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/242791-t-infra/topic/meeting.202021-05-17/near/239125977">said</a>:</p>
<blockquote>
<p>it's not automated, but something like a prometheus counter wouldn't be more useful IMO</p>
</blockquote>
<p>huh, how it this getting populated if it's not automated?</p>



<a name="239126158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126158" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126158">(May 17 2021 at 17:09)</a>:</h4>
<p>I think the retry log doesn't give us enough of a sense of whether something is happening often or not, nor how we're doing over time</p>



<a name="239126178"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126178" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126178">(May 17 2021 at 17:09)</a>:</h4>
<p>It's automated for sure?</p>



<a name="239126184"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126184" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126184">(May 17 2021 at 17:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="117568">Aidan Hobson Sayers</span> <a href="#narrow/stream/242791-t-infra/topic/meeting.202021-05-17/near/239126149">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/242791-t-infra/topic/meeting.202021-05-17/near/239125977">said</a>:</p>
<blockquote>
<p>it's not automated, but something like a prometheus counter wouldn't be more useful IMO</p>
</blockquote>
<p>huh, how it this getting populated if it's not automated?</p>
</blockquote>
<p>oh, wait, it's automated, but it does not automate triaging it</p>



<a name="239126195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126195" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126195">(May 17 2021 at 17:09)</a>:</h4>
<p>bad choice of words on my end</p>



<a name="239126246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126246" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126246">(May 17 2021 at 17:09)</a>:</h4>
<p>Retry log there is also pretty short - not sure what we use to cut it off</p>



<a name="239126255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126255" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126255">(May 17 2021 at 17:09)</a>:</h4>
<p>ahh gotcha</p>



<a name="239126381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126381" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126381">(May 17 2021 at 17:10)</a>:</h4>
<p>this should be easy enough to hook into prometheus, anyone up for that?</p>



<a name="239126452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126452" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126452">(May 17 2021 at 17:11)</a>:</h4>
<p>I can take a look</p>



<a name="239126462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126462" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126462">(May 17 2021 at 17:11)</a>:</h4>
<p>alternatively feels like a good opportunity for a good-first-issue</p>



<a name="239126499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126499" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126499">(May 17 2021 at 17:11)</a>:</h4>
<p>I don't really have time for that I think</p>



<a name="239126588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126588" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126588">(May 17 2021 at 17:12)</a>:</h4>
<p>ok then! let's move over to the next topic</p>



<a name="239126607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126607" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126607">(May 17 2021 at 17:12)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> Interest in monitoring <a href="http://perf-collect.infra.rust-lang.org">perf-collect.infra.rust-lang.org</a></p>



<a name="239126624"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126624" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126624">(May 17 2021 at 17:12)</a>:</h4>
<p>I assume that's the hetzner box</p>



<a name="239126639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126639" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126639">(May 17 2021 at 17:12)</a>:</h4>
<p>Yeah</p>



<a name="239126707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126707" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126707">(May 17 2021 at 17:13)</a>:</h4>
<p>I had a question here</p>



<a name="239126749"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126749" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126749">(May 17 2021 at 17:13)</a>:</h4>
<p>oh, right, so the monitoring (i.e. node-exporter) and such currently is installed via ansible</p>



<a name="239126774"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126774" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126774">(May 17 2021 at 17:13)</a>:</h4>
<p>yep</p>



<a name="239126781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126781" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126781">(May 17 2021 at 17:13)</a>:</h4>
<p>and the perf collect box, for better or worse, is not yet set up with ansible</p>



<a name="239126815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126815" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126815">(May 17 2021 at 17:14)</a>:</h4>
<p>(I think)</p>



<a name="239126866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126866" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126866">(May 17 2021 at 17:14)</a>:</h4>
<p>that's my understanding too</p>



<a name="239126970"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239126970" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239126970">(May 17 2021 at 17:14)</a>:</h4>
<p>So I'm thinking that for now I'll just install the relevant files manually, but if people think that's the wrong move, happy to get pushback -- it's not clear to me how "piecemeal" ansible is happy being (e.g., can the monitoring be installed via ansible but the server still managed manually otherwise)?</p>



<a name="239127084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127084" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127084">(May 17 2021 at 17:15)</a>:</h4>
<p>currently in ansible monitoring is installed as part of the "common" configuration</p>



<a name="239127168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127168" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127168">(May 17 2021 at 17:16)</a>:</h4>
<p>which is the standard ssh + apt + firewall + monitoring + users</p>



<a name="239127195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127195" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127195">(May 17 2021 at 17:16)</a>:</h4>
<p>ok, that all seems okay in principle</p>



<a name="239127221"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127221" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127221">(May 17 2021 at 17:16)</a>:</h4>
<p>I assume it doesn't delete what is already there</p>



<a name="239127246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127246" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127246">(May 17 2021 at 17:17)</a>:</h4>
<p>it deletes what's already there, especially around ssh/users/firewall</p>



<a name="239127263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127263" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127263">(May 17 2021 at 17:17)</a>:</h4>
<p>hmm</p>



<a name="239127266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127266" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127266">(May 17 2021 at 17:17)</a>:</h4>
<p>ok</p>



<a name="239127275"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127275" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127275">(May 17 2021 at 17:17)</a>:</h4>
<p>well, I'll do some more investigation I guess</p>



<a name="239127309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127309" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127309">(May 17 2021 at 17:17)</a>:</h4>
<p>but likely just proceed with either partial ansible or a direct wget install manually for now, or so</p>



<a name="239127328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127328" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127328">(May 17 2021 at 17:17)</a>:</h4>
<p>I think it's fine to install node_exporter manually for now, it's quite trivial</p>



<a name="239127338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127338" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127338">(May 17 2021 at 17:17)</a>:</h4>
<p>oh interesting, we've set it up to delete users?</p>



<a name="239127392"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127392" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127392">(May 17 2021 at 17:18)</a>:</h4>
<p><span class="user-mention" data-user-id="117568">@Aidan Hobson Sayers</span> I think it doesn't delete users but it strips all the perms from them</p>



<a name="239127436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127436" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127436">(May 17 2021 at 17:18)</a>:</h4>
<p>gotcha</p>



<a name="239127452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127452" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127452">(May 17 2021 at 17:18)</a>:</h4>
<p>I need to double-check the code, it surely revokes their ssh access</p>



<a name="239127513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127513" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127513">(May 17 2021 at 17:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/242791-t-infra/topic/meeting.202021-05-17/near/239127328">said</a>:</p>
<blockquote>
<p>I think it's fine to install node_exporter manually for now, it's quite trivial</p>
</blockquote>
<p>but we should really migrate perf-collector to ansible soon</p>



<a name="239127537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127537" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127537">(May 17 2021 at 17:19)</a>:</h4>
<p>hm, well, I guess we'll see</p>



<a name="239127556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127556" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127556">(May 17 2021 at 17:19)</a>:</h4>
<p>especially because AFAIK mark is the only one managing the server, so without mark we don't have a way to recreate it without trial and error</p>



<a name="239127573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127573" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127573">(May 17 2021 at 17:19)</a>:</h4>
<p>it's very much intended to be as static as possible, so there's not really intent to reprovision etc</p>



<a name="239127606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127606" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127606">(May 17 2021 at 17:19)</a>:</h4>
<p>but I don't disagree in general</p>



<a name="239127773"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127773" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127773">(May 17 2021 at 17:20)</a>:</h4>
<p>shall we move on?</p>



<a name="239127790"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127790" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127790">(May 17 2021 at 17:20)</a>:</h4>
<p>ok, I'll open an issue on infra-team to track the servers we didn't migrate to ansible yet, and mark will install node_exporter on that machine manually</p>



<a name="239127863"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127863" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127863">(May 17 2021 at 17:21)</a>:</h4>
<p>next topic is a quick FYI about LLVM setting up a CI to track LLVM main + Rust master</p>



<a name="239127958"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239127958" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239127958">(May 17 2021 at 17:22)</a>:</h4>
<p>y'all should've got my reply, I got contacted by one of the members of the LLVM infra team that they're setting it up and wanted feedback</p>



<a name="239128007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128007" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128007">(May 17 2021 at 17:22)</a>:</h4>
<p>FWIW I think following target tier policy precedent makes sense here (in terms of not pinging people posting PRs if their PR breaks llvm tip or so)</p>



<a name="239128086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128086" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128086">(May 17 2021 at 17:23)</a>:</h4>
<p>but I guess we'll see what they say</p>



<a name="239128148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128148" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128148">(May 17 2021 at 17:23)</a>:</h4>
<p>that's an interesting point</p>



<a name="239128330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128330" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128330">(May 17 2021 at 17:24)</a>:</h4>
<p>I assumed any pinging would be the other way around!</p>



<a name="239128420"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128420" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128420">(May 17 2021 at 17:25)</a>:</h4>
<p>my understanding is that this is something LLVM will run and manage on their own, but I could see them making a change that requires rustc to adapt (for example by adapting our wrapper)</p>



<a name="239128462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128462" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128462">(May 17 2021 at 17:25)</a>:</h4>
<p>Sure. In any case, we can see their reply, let's move on to monitoring <a href="http://crates.io">crates.io</a> perhaps? This doesn't seem urgent.</p>



<a name="239128559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128559" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128559">(May 17 2021 at 17:26)</a>:</h4>
<p>also from the last reply it seems like they've been sending PRs fixing things, so this seems good -- <a href="https://github.com/rust-lang/rust/pull/84883">https://github.com/rust-lang/rust/pull/84883</a></p>



<a name="239128563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128563" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128563">(May 17 2021 at 17:26)</a>:</h4>
<p>yeah</p>



<a name="239128571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128571" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128571">(May 17 2021 at 17:26)</a>:</h4>
<p>last item is <a href="http://crates.io">crates.io</a> monitoring</p>



<a name="239128610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128610" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128610">(May 17 2021 at 17:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/242791-t-infra/topic/meeting.202021-05-17/near/239128559">said</a>:</p>
<blockquote>
<p>also from the last reply it seems like they've been sending PRs fixing things, so this seems good -- <a href="https://github.com/rust-lang/rust/pull/84883">https://github.com/rust-lang/rust/pull/84883</a></p>
</blockquote>
<p>uh I did not see any replies from them?</p>



<a name="239128656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128656" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128656">(May 17 2021 at 17:27)</a>:</h4>
<p>(I only see your reply)</p>



<a name="239128660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128660" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128660">(May 17 2021 at 17:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/242791-t-infra/topic/meeting.202021-05-17/near/239128610">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/242791-t-infra/topic/meeting.202021-05-17/near/239128559">said</a>:</p>
<blockquote>
<p>also from the last reply it seems like they've been sending PRs fixing things, so this seems good -- <a href="https://github.com/rust-lang/rust/pull/84883">https://github.com/rust-lang/rust/pull/84883</a></p>
</blockquote>
<p>uh I did not see any replies from them?</p>
</blockquote>
<p>25 minutes ago from augie fackler</p>



<a name="239128683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128683" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128683">(May 17 2021 at 17:27)</a>:</h4>
<p>and before one from <span class="user-mention silent" data-user-id="123586">nagisa</span></p>



<a name="239128689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128689" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128689">(May 17 2021 at 17:27)</a>:</h4>
<p>I see three emails - pietro + 2 more</p>



<a name="239128702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128702" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128702">(May 17 2021 at 17:27)</a>:</h4>
<p>huh</p>



<a name="239128711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128711" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128711">(May 17 2021 at 17:27)</a>:</h4>
<p>I guess I'll debug</p>



<a name="239128722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128722" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128722">(May 17 2021 at 17:27)</a>:</h4>
<p>anyway</p>



<a name="239128777"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128777" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128777">(May 17 2021 at 17:28)</a>:</h4>
<p>the only progress I was able to make on the <a href="http://crates.io">crates.io</a> monitoring was a bit of research</p>



<a name="239128807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128807" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128807">(May 17 2021 at 17:28)</a>:</h4>
<p><a href="#narrow/stream/242791-t-infra/topic/prometheus.20for.20crates.2Eio/near/238183052">https://rust-lang.zulipchat.com/#narrow/stream/242791-t-infra/topic/prometheus.20for.20crates.2Eio/near/238183052</a></p>



<a name="239128869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239128869" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239128869">(May 17 2021 at 17:28)</a>:</h4>
<p>the tl;dr is that the only thing I saw online are two prometheus exporters that extract generic metrics with regexes</p>



<a name="239129091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239129091" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239129091">(May 17 2021 at 17:30)</a>:</h4>
<p>I haven't looked into them deeply, but I'm not fully convinced on them, especially if we want to use log scraping for <a href="http://crates.io">crates.io</a> instance metrics too</p>



<a name="239129112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239129112" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239129112">(May 17 2021 at 17:30)</a>:</h4>
<p>what makes you unconvinced?</p>



<a name="239129444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239129444" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239129444">(May 17 2021 at 17:32)</a>:</h4>
<p>the main thing is around duplicating efforts if we want to scrape <a href="http://crates.io">crates.io</a> instance metrics, as we'd need to define the metrics both on the <a href="http://crates.io">crates.io</a> application to log them <em>and</em> on the exporter to scrape them, which would add a lot of friction when adding metrics on the <a href="http://crates.io">crates.io</a> side</p>



<a name="239129478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239129478" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239129478">(May 17 2021 at 17:33)</a>:</h4>
<p>I also need to check whether they're compatible with how heroku sends logs</p>



<a name="239129782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239129782" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239129782">(May 17 2021 at 17:34)</a>:</h4>
<p>anyway we're out of time, we can continue the discussion but otherwise see y'all next week!</p>



<a name="239129784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239129784" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239129784">(May 17 2021 at 17:34)</a>:</h4>
<p>\o</p>



<a name="239129805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239129805" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239129805">(May 17 2021 at 17:35)</a>:</h4>
<p>\o</p>



<a name="239129819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-05-17/near/239129819" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-05-17.html#239129819">(May 17 2021 at 17:35)</a>:</h4>
<p>\o</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>