<html>
<head><meta charset="utf-8"><title>mini-crater (&quot;basin&quot;?) · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html">mini-crater (&quot;basin&quot;?)</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="202984839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/202984839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#202984839">(Jul 06 2020 at 12:59)</a>:</h4>
<p>Let's pretend there's a hypothetical machine out there with the processing power of an iPad and the disk space of a Mac Mini. Is there any way to run crater for such a relatively small target? Maybe the "random sample" crater I heard about once?</p>



<a name="202986665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/202986665" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#202986665">(Jul 06 2020 at 13:15)</a>:</h4>
<p>crater doesn't work at all on macOS</p>



<a name="202986717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/202986717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#202986717">(Jul 06 2020 at 13:15)</a>:</h4>
<p>it relies on docker for its sandboxing, and you really don't want to run crater without that</p>



<a name="202988672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/202988672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#202988672">(Jul 06 2020 at 13:33)</a>:</h4>
<p>Even if it's a machine that can be completely and easily reimaged?</p>



<a name="202989242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/202989242" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#202989242">(Jul 06 2020 at 13:37)</a>:</h4>
<p>I definitely wouldn't run it in my network</p>



<a name="202989270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/202989270" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#202989270">(Jul 06 2020 at 13:37)</a>:</h4>
<p>and there is a good chance it'd OOM without the RAM restrictions</p>



<a name="202993339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/202993339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#202993339">(Jul 06 2020 at 14:01)</a>:</h4>
<p>There was <code>cargo-crusader</code> for having crater like testing for your own crate, but I don’t know if that works for this case.</p>



<a name="202995830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/202995830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#202995830">(Jul 06 2020 at 14:20)</a>:</h4>
<p>I have a feeling that a lot of people are going to wonder if their code builds / runs on Silicon. It'd be wonderful if we could provide <em>some</em> kind of list proactively.</p>



<a name="202995911"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/202995911" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#202995911">(Jul 06 2020 at 14:21)</a>:</h4>
<p>getting non-trivial crates through crater on macOS is going to be a <em>pain</em>, regardless of the sandbox</p>



<a name="202995989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/202995989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#202995989">(Jul 06 2020 at 14:22)</a>:</h4>
<p>crater works because we have a curated list of 7GB of ubuntu packages installed in the docker container</p>



<a name="202996027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/202996027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#202996027">(Jul 06 2020 at 14:22)</a>:</h4>
<p>covering most(?) of the native dependencies used by the ecosystem</p>



<a name="202996162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/202996162" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#202996162">(Jul 06 2020 at 14:23)</a>:</h4>
<p>If only we had a MVC list. I don't really want every crate ever made, just the ones that people use (on macOS)</p>



<a name="202997503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/202997503" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#202997503">(Jul 06 2020 at 14:34)</a>:</h4>
<p>You could probably write a script that downloads the top ~100 crates from <a href="http://crates.io">crates.io</a>.</p>



<a name="203011401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/203011401" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#203011401">(Jul 06 2020 at 16:29)</a>:</h4>
<p>And their dependencies too? Maybe mix in stuff from the Rust cookbook?</p>



<a name="203026245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/203026245" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Félix Fischer <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#203026245">(Jul 06 2020 at 18:46)</a>:</h4>
<p>Mm</p>



<a name="203026388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/203026388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Félix Fischer <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#203026388">(Jul 06 2020 at 18:48)</a>:</h4>
<p>I would download the top K crates (K being a medium number like 100), but I would also try to keep a "curated list" composed of crates that have made the full crater runs spot errors in the compiler before</p>



<a name="203026445"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/203026445" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Félix Fischer <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#203026445">(Jul 06 2020 at 18:48)</a>:</h4>
<p>Such a list of crates should eventually converge into something that is very representative of the full crater runs, right?</p>



<a name="203027608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/203027608" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#203027608">(Jul 06 2020 at 18:58)</a>:</h4>
<p>How's this look for a start? <a href="https://github.com/integer32llc/rust-playground/blob/master/compiler/base/Cargo.toml">https://github.com/integer32llc/rust-playground/blob/master/compiler/base/Cargo.toml</a></p>



<a name="203027677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/mini-crater%20%28%22basin%22%3F%29/near/203027677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/mini-crater.20(.22basin.22.3F).html#203027677">(Jul 06 2020 at 18:59)</a>:</h4>
<blockquote>
<p>runs spot errors in the compiler before</p>
</blockquote>
<p>In general useful, but I think not for the case of "what crates work on a new platform?"</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>