<html>
<head><meta charset="utf-8"><title>LLDB error · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/LLDB.20error.html">LLDB error</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="255479726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/LLDB%20error/near/255479726" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/LLDB.20error.html#255479726">(Sep 29 2021 at 21:41)</a>:</h4>
<p>Closed the tree, there is an error running LLDB on Windows:</p>
<div class="codehilite"><pre><span></span><code>thread &#39;main&#39; panicked at &#39;&quot;lldb&quot; &quot;-P&quot; failed Output { status: ExitStatus(ExitStatus(3221225781)), stdout: &quot;&quot;, stderr: &quot;&quot; }&#39;, src\bootstrap\test.rs:1394:40
</code></pre></div>



<a name="255480411"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/LLDB%20error/near/255480411" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/LLDB.20error.html#255480411">(Sep 29 2021 at 21:46)</a>:</h4>
<p>Diff of changes in image just published:</p>
<p><a href="https://github.com/actions/virtual-environments/commit/905391881a082c246b0ab28aabfe58a2f3ea3eae#diff-816219d3c9f30fcc1c40f88ca826c1662bf99eded781c1b419dd2dfb577ae227">https://github.com/actions/virtual-environments/commit/905391881a082c246b0ab28aabfe58a2f3ea3eae#diff-816219d3c9f30fcc1c40f88ca826c1662bf99eded781c1b419dd2dfb577ae227</a></p>



<a name="255480497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/LLDB%20error/near/255480497" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/LLDB.20error.html#255480497">(Sep 29 2021 at 21:47)</a>:</h4>
<p>Hm, they added LLVM 12.</p>



<a name="255480707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/LLDB%20error/near/255480707" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/LLDB.20error.html#255480707">(Sep 29 2021 at 21:48)</a>:</h4>
<p>Error is STATUS_DLL_NOT_FOUND</p>



<a name="255483818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/LLDB%20error/near/255483818" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/LLDB.20error.html#255483818">(Sep 29 2021 at 22:11)</a>:</h4>
<p>Presumably we don't want to start running lldb tests on Windows.  Some possible solutions:</p>
<ul>
<li>Remove <code>C:\Program Files\LLVM\bin</code> from PATH. I'm not entirely sure how to do that in a safe way in an action.</li>
<li>Remove <code>C:\Program Files\LLVM</code> entirely. That seems like it could take some unnecessary amount of time.</li>
<li>Change rustbuild to somehow ignore the installed LLDB (with an explicit option, or just skip if <code>lldb</code> fails to execute).</li>
</ul>
<p>I lean towards the first option, since it should be fast.</p>



<a name="255486597"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/LLDB%20error/near/255486597" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/LLDB.20error.html#255486597">(Sep 29 2021 at 22:34)</a>:</h4>
<p>I went ahead and posted <a href="https://github.com/rust-lang/rust/pull/89380">https://github.com/rust-lang/rust/pull/89380</a> with a possible fix.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>