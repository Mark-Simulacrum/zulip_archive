<html>
<head><meta charset="utf-8"><title>private team repository · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html">private team repository</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="222318207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222318207" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222318207">(Jan 11 2021 at 16:12)</a>:</h4>
<p>in the core team chat it was brought up that we might want to make some parts of the team repo private (especially things like email addresses)</p>



<a name="222318259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222318259" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222318259">(Jan 11 2021 at 16:12)</a>:</h4>
<p>thought a bit about how we could actually accomplish that, and left some notes here: <a href="https://paper.dropbox.com/doc/Notes-on-private-team-repo--BDDl3Ur4WbRYPNEBajPy1PB9Ag-taRl70HyU3CzupXhnEsSD">https://paper.dropbox.com/doc/Notes-on-private-team-repo--BDDl3Ur4WbRYPNEBajPy1PB9Ag-taRl70HyU3CzupXhnEsSD</a></p>



<a name="222318305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222318305" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222318305">(Jan 11 2021 at 16:13)</a>:</h4>
<p>it's going to be a pain either approach, the current setup wasn't designed with anything being private <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="222318715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222318715" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222318715">(Jan 11 2021 at 16:16)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2943">@T-infra</span> I'd love a set of eyes on this, especially to know if there is something obvious I missed</p>



<a name="222321571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222321571" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222321571">(Jan 11 2021 at 16:34)</a>:</h4>
<p>I guess I'm envisioning a public/private split initially that is a little different from what you suggest, Pietro</p>



<a name="222321608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222321608" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222321608">(Jan 11 2021 at 16:34)</a>:</h4>
<p>i.e., the private repo initially would just contain e.g. accountant and legal</p>



<a name="222321976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222321976" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222321976">(Jan 11 2021 at 16:37)</a>:</h4>
<p>hmm</p>



<a name="222322107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322107" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322107">(Jan 11 2021 at 16:38)</a>:</h4>
<p>but then we'd move to a webapp as the interface which I think would help solve the doubling up etc</p>



<a name="222322148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322148" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322148">(Jan 11 2021 at 16:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/242791-t-infra/topic/private.20team.20repository/near/222321571">said</a>:</p>
<blockquote>
<p>I guess I'm envisioning a public/private split initially that is a little different from what you suggest, Pietro</p>
</blockquote>
<p>that could be a bit complex on the sync-team side</p>



<a name="222322193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322193" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322193">(Jan 11 2021 at 16:38)</a>:</h4>
<p>as it'd need to merge and possibly resolve conflicts between the two separate repos</p>



<a name="222322207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322207" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322207">(Jan 11 2021 at 16:39)</a>:</h4>
<p>there can't possibly be conflicts</p>



<a name="222322254"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322254" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322254">(Jan 11 2021 at 16:39)</a>:</h4>
<p>well, that is, we would just error out failing ci if they occur</p>



<a name="222322297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322297" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322297">(Jan 11 2021 at 16:39)</a>:</h4>
<p>which seems .. equivalent to me e.g. deleting my person file and pushing that today? so seems not a problem</p>



<a name="222322300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322300" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322300">(Jan 11 2021 at 16:39)</a>:</h4>
<p>then the public repo would need access to the private repo, isn't it?</p>



<a name="222322322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322322" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322322">(Jan 11 2021 at 16:40)</a>:</h4>
<p>no, the CI would run in the private repo</p>



<a name="222322371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322371" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322371">(Jan 11 2021 at 16:40)</a>:</h4>
<p>just cloning down the public repo</p>



<a name="222322458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322458" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322458">(Jan 11 2021 at 16:40)</a>:</h4>
<p>(similar to rust-lang-ci if necessary, we can easily have public team CI push commit on merge to master to private team repo)</p>



<a name="222322517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322517" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322517">(Jan 11 2021 at 16:41)</a>:</h4>
<p>I think if the goal is to <em>just</em> have private MLs we could straight up encrypt the email addresses</p>



<a name="222322658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322658" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322658">(Jan 11 2021 at 16:42)</a>:</h4>
<p>like</p>
<div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="k">[[lists]]</span>
<span class="n">address</span> <span class="o">=</span> <span class="s">"legal@rust-lang.org"</span>
<span class="n">include-team-memebrs</span> <span class="o">=</span> <span class="kc">false</span>
<span class="n">extra-addresses</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"encrypted+klmxfnlksjfbndglksjddfbglksdbfglksbdfksdfksbdflkbsdf@rust-lang.org"</span>
<span class="p">]</span>
</code></pre></div>



<a name="222322677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322677" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322677">(Jan 11 2021 at 16:42)</a>:</h4>
<p>with a key known to <code>sync-team</code></p>



<a name="222322698"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322698" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322698">(Jan 11 2021 at 16:42)</a>:</h4>
<p>uh, sure, yeah - I guess my immediate goal is to unblock private emails</p>



<a name="222322757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322757" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322757">(Jan 11 2021 at 16:42)</a>:</h4>
<p>that'd be the quickest solution without doing huge changes to our setup</p>



<a name="222322814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322814" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322814">(Jan 11 2021 at 16:43)</a>:</h4>
<p>I think we should check in with core on exactly what we need urgently</p>



<a name="222322833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322833" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322833">(Jan 11 2021 at 16:43)</a>:</h4>
<p>if this is enough, then we're almost good</p>



<a name="222322877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222322877" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222322877">(Jan 11 2021 at 16:43)</a>:</h4>
<p>I think in 1-2 months time we should aim to have moved or be moving to a web app for this.</p>



<a name="222323003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222323003" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222323003">(Jan 11 2021 at 16:44)</a>:</h4>
<p><span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span> I'll post there</p>



<a name="222323109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222323109" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222323109">(Jan 11 2021 at 16:45)</a>:</h4>
<p>(note that e.g. we had talked about mailboxes for send/receive at <a href="http://rust-lang.org">rust-lang.org</a>, which is separate, but seems ultimately like a similar solution would be fine for short-term)</p>



<a name="222427230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/private%20team%20repository/near/222427230" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/private.20team.20repository.html#222427230">(Jan 12 2021 at 13:08)</a>:</h4>
<p>implemented the encrypted email thingy in <a href="https://github.com/rust-lang/team/pull/515">https://github.com/rust-lang/team/pull/515</a></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>