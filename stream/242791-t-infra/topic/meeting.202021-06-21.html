<html>
<head><meta charset="utf-8"><title>meeting 2021-06-21 · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html">meeting 2021-06-21</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="243411253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243411253" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243411253">(Jun 21 2021 at 16:56)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2943">@T-infra</span> T-4min</p>



<a name="243411766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243411766" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243411766">(Jun 21 2021 at 17:00)</a>:</h4>
<p>o/</p>



<a name="243411776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243411776" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243411776">(Jun 21 2021 at 17:00)</a>:</h4>
<p>o/</p>



<a name="243411833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243411833" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243411833">(Jun 21 2021 at 17:00)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2943">@T-infra</span> meeting time!</p>



<a name="243411954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243411954" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243411954">(Jun 21 2021 at 17:01)</a>:</h4>
<p>o/</p>



<a name="243412042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412042" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412042">(Jun 21 2021 at 17:02)</a>:</h4>
<p>if possible, can we discuss the compiler-builtins gating agenda item first?</p>



<a name="243412082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412082" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412082">(Jun 21 2021 at 17:02)</a>:</h4>
<p>sure, let me grab it</p>



<a name="243412148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412148" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412148">(Jun 21 2021 at 17:02)</a>:</h4>
<p>ok let's start!</p>



<a name="243412168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412168" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412168">(Jun 21 2021 at 17:03)</a>:</h4>
<p>first off a topic from <span class="user-mention silent" data-user-id="138938">Jethro</span>:</p>



<a name="243412169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412169" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412169">(Jun 21 2021 at 17:03)</a>:</h4>
<blockquote>
<p>so Rust CI is currently not gated on running the std tests on any targets that rely on compiler_builtins/libm. See e.g. this test failure <a href="https://github.com/rust-lang/rust/pull/85925#discussion_r654904770">https://github.com/rust-lang/rust/pull/85925#discussion_r654904770</a> This makes some sense, since none of these targets are tier 1. However, these components are used in many tier 2/tier 3 targets. Would it make sense to try to somehow run the Rust test suite with compiler_builtins in CI?</p>
</blockquote>



<a name="243412180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412180" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412180">(Jun 21 2021 at 17:03)</a>:</h4>
<p>additional background: LLVM will insert calls to various functions as part of code generation. On e.g. Linux these functions are fulfilled by linking libc, libm, libgcc, etc. For platforms that don't have these functions natively (bare metal etc.), the Rust project has developed the compiler_builtins and libm crates.</p>



<a name="243412327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412327" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412327">(Jun 21 2021 at 17:04)</a>:</h4>
<p>hmm, which targets are using compiler_builtins and libm?</p>



<a name="243412337"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412337" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412337">(Jun 21 2021 at 17:04)</a>:</h4>
<p>so the idea is that by doing (say) tests for one target, we can get a lot of bang for our buck?</p>



<a name="243412354"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412354" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412354">(Jun 21 2021 at 17:04)</a>:</h4>
<p>aidanhs: indeed</p>



<a name="243412361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412361" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412361">(Jun 21 2021 at 17:04)</a>:</h4>
<p>Pietro: let me check</p>



<a name="243412566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412566" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412566">(Jun 21 2021 at 17:06)</a>:</h4>
<p>I think this is enabled by bootstrap somehow</p>



<a name="243412582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412582" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412582">(Jun 21 2021 at 17:06)</a>:</h4>
<p>or hmm maybe std build script?</p>



<a name="243412697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412697" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412697">(Jun 21 2021 at 17:07)</a>:</h4>
<p>so, I guess my main worry in testing tier-2 targets is that we need the infra to actually test them</p>



<a name="243412705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412705" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412705">(Jun 21 2021 at 17:07)</a>:</h4>
<p>It seems to make sense to me to exercise those tests somewhere - I'm a little surprised that the CI on the compiler built -ins repository isn't enough though</p>



<a name="243412777"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412777" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412777">(Jun 21 2021 at 17:08)</a>:</h4>
<p>I think we could make a special Linux target that is basically the same as regular Linux but has compiler-builtins enabled</p>



<a name="243412811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412811" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412811">(Jun 21 2021 at 17:08)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> the problem as shown by the PR I linked is at integration time</p>



<a name="243412829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412829" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412829">(Jun 21 2021 at 17:08)</a>:</h4>
<p>e.g. subtle differences in how libm works</p>



<a name="243412865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412865" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412865">(Jun 21 2021 at 17:08)</a>:</h4>
<p>(I can't find how compiler-builtins is enabled right now)</p>



<a name="243412965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243412965" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243412965">(Jun 21 2021 at 17:10)</a>:</h4>
<p>Hm. Well, in theory, we could run our test suite in this configuration. I wouldn't think that infra is the right team to make the decision on whether it's warranted though</p>



<a name="243413016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413016" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413016">(Jun 21 2021 at 17:10)</a>:</h4>
<p>Maybe libs-impl?</p>



<a name="243413072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413072" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413072">(Jun 21 2021 at 17:10)</a>:</h4>
<p>sure I can take it there</p>



<a name="243413079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413079" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413079">(Jun 21 2021 at 17:10)</a>:</h4>
<p>I think infra involvement is needed if we need another builder or more complex CI config</p>



<a name="243413159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413159" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413159">(Jun 21 2021 at 17:11)</a>:</h4>
<p>if there's a way to say "take this standard rustc executable and force it to use compiler_builtins in the output bin" then it's trivial, we can just run the test suite in that mode on x86_64 linux</p>



<a name="243413284"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413284" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413284">(Jun 21 2021 at 17:12)</a>:</h4>
<p>if we need to build a separate rustc then it'd be better to have it on a separate builder IMO</p>



<a name="243413287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413287" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413287">(Jun 21 2021 at 17:12)</a>:</h4>
<p>I think you have to use rustbuild somehow for std but you shouldn't need a new compiler</p>



<a name="243413337"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413337" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413337">(Jun 21 2021 at 17:12)</a>:</h4>
<p>(or <code>-Zbuild-std</code> maybe?)</p>



<a name="243413353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413353" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413353">(Jun 21 2021 at 17:12)</a>:</h4>
<p>possibly yeah</p>



<a name="243413445"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413445" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413445">(Jun 21 2021 at 17:13)</a>:</h4>
<p>ok so it sounds like infra is tentatively ok with providing the build infra as long as it's not too big of a build and you want libs-impl to decide on the usefulness?</p>



<a name="243413451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413451" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413451">(Jun 21 2021 at 17:13)</a>:</h4>
<p>so I think what I'm hearing is: if it can fit on an existing builder (not requiring a new rustc build) and not time out, then we'd be happy to take a PR/get it into x86_64 linux</p>



<a name="243413537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413537" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413537">(Jun 21 2021 at 17:14)</a>:</h4>
<p>cool, thanks folks</p>



<a name="243413543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413543" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413543">(Jun 21 2021 at 17:14)</a>:</h4>
<p>yeah all of that sounds good</p>



<a name="243413549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413549" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413549">(Jun 21 2021 at 17:14)</a>:</h4>
<p>(assuming libs-impl is the right team!)</p>



<a name="243413575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413575" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413575">(Jun 21 2021 at 17:14)</a>:</h4>
<p>they'll send me elsewhere if not :)</p>



<a name="243413581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413581" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jethro <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413581">(Jun 21 2021 at 17:14)</a>:</h4>
<p>\o</p>



<a name="243413614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413614" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413614">(Jun 21 2021 at 17:15)</a>:</h4>
<p><span class="user-mention" data-user-id="138938">@Jethro</span> personally I'd ask whoever will need to fix or mentor a fix for that failure</p>



<a name="243413650"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413650" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413650">(Jun 21 2021 at 17:15)</a>:</h4>
<p>so if the fix for the bug you mentioned earlier would be reviewed by libs-impl ask them, if it'd be reviewed by compiler ask them</p>



<a name="243413700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413700" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413700">(Jun 21 2021 at 17:16)</a>:</h4>
<p>ok, moving on</p>



<a name="243413761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413761" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413761">(Jun 21 2021 at 17:16)</a>:</h4>
<p>the only P-high issue is <a href="https://github.com/rust-lang/infra-team/issues/41">https://github.com/rust-lang/infra-team/issues/41</a>, didn't make progress on it</p>



<a name="243413827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413827" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413827">(Jun 21 2021 at 17:16)</a>:</h4>
<p>there are two items on the agenda: a private update and a public item</p>



<a name="243413858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413858" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413858">(Jun 21 2021 at 17:17)</a>:</h4>
<p>the public item is <a href="https://github.com/rust-lang/rustup/issues/1987">https://github.com/rust-lang/rustup/issues/1987</a>: enabling HSTS preload for <a href="http://rustup.rs">rustup.rs</a></p>



<a name="243413908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413908" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413908">(Jun 21 2021 at 17:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/242791-t-infra/topic/meeting.202021-06-21/near/243413761">said</a>:</p>
<blockquote>
<p>the only P-high issue is <a href="https://github.com/rust-lang/infra-team/issues/41">https://github.com/rust-lang/infra-team/issues/41</a>, didn't make progress on it</p>
</blockquote>
<p>hang on, sorry, I'm just reading this one</p>



<a name="243413978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413978" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413978">(Jun 21 2021 at 17:18)</a>:</h4>
<p>(I've somehow missed it/not seen it before)</p>



<a name="243413986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243413986" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243413986">(Jun 21 2021 at 17:18)</a>:</h4>
<p>it was an admin@ email</p>



<a name="243414005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414005" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414005">(Jun 21 2021 at 17:18)</a>:</h4>
<p>tl;dr we need to check whether our dns for <a href="http://crates.io">crates.io</a> is configured correctly by july 31st</p>



<a name="243414033"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414033" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414033">(Jun 21 2021 at 17:18)</a>:</h4>
<p>yeah but it's p-high, so I'd have expected to see it in a previous meeting</p>



<a name="243414041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414041" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414041">(Jun 21 2021 at 17:18)</a>:</h4>
<p>oh well</p>



<a name="243414067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414067" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414067">(Jun 21 2021 at 17:18)</a>:</h4>
<p>so we don't actually know if there's an issue yet?</p>



<a name="243414109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414109" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414109">(Jun 21 2021 at 17:19)</a>:</h4>
<p>no it was an automated email "hey we detected the dns might not work, please check it"</p>



<a name="243414129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414129" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414129">(Jun 21 2021 at 17:19)</a>:</h4>
<p>it <em>might</em> be because we have cloudfront in front of <a href="http://crates.io">crates.io</a> so it's not detecting it correctly</p>



<a name="243414163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414163" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414163">(Jun 21 2021 at 17:19)</a>:</h4>
<p>I see</p>



<a name="243414164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414164" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414164">(Jun 21 2021 at 17:19)</a>:</h4>
<p>or it might be because it's wrong and it won't work after jul 31</p>



<a name="243414272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414272" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414272">(Jun 21 2021 at 17:20)</a>:</h4>
<p>I plan to look into it before jul 31</p>



<a name="243414323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414323" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414323">(Jun 21 2021 at 17:20)</a>:</h4>
<p>fair enough</p>



<a name="243414350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414350" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414350">(Jun 21 2021 at 17:21)</a>:</h4>
<p>guess we may be having a slightly more urgent discussion next week</p>



<a name="243414373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414373" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414373">(Jun 21 2021 at 17:21)</a>:</h4>
<p>yeah</p>



<a name="243414382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414382" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414382">(Jun 21 2021 at 17:21)</a>:</h4>
<p>ok, moving on, <a href="http://rustup.rs">rustup.rs</a> HSTS preload</p>



<a name="243414464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414464" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414464">(Jun 21 2021 at 17:22)</a>:</h4>
<p>HSTS preload means adding <code>rustup.rs</code> to a text file hardcoded in every browser release that says all requests to <code>rustup.rs</code> domains or its subdomains will have to always happen through HTTPS, and not HTTP</p>



<a name="243414582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414582" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414582">(Jun 21 2021 at 17:22)</a>:</h4>
<p>the advantage is that if someone visits <code>http://rustup.rs</code> the <em>browser</em> will internally redirect to the HTTPS version, without every contacting <code>rustup.rs</code> through plaintext HTTP</p>



<a name="243414637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414637" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414637">(Jun 21 2021 at 17:23)</a>:</h4>
<p>the downside is that the list is hardcoded in the browser, so removing it takes a lot of time, requiring the users' browsers to be updated</p>



<a name="243414701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414701" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414701">(Jun 21 2021 at 17:23)</a>:</h4>
<p>another thing on this is that browsers implement the preload list, but not CLI tools like <code>wget</code> or <code>curl</code></p>



<a name="243414782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414782" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414782">(Jun 21 2021 at 17:24)</a>:</h4>
<p>users visiting the website with the browser will get the benefit, but the main use of the domain (<code>curl | bash</code>) won't be affected</p>



<a name="243414910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414910" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414910">(Jun 21 2021 at 17:25)</a>:</h4>
<p>I was pinged on the issue so I thought to raise it up</p>



<a name="243414952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414952" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414952">(Jun 21 2021 at 17:25)</a>:</h4>
<p>IMO <em>for rustup.rs</em>, which is mainly accessed through curl, the benefits are there but are not immense</p>



<a name="243414980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243414980" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243414980">(Jun 21 2021 at 17:25)</a>:</h4>
<p>and personally I don't have the bandwidth to drive this</p>



<a name="243415038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243415038" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243415038">(Jun 21 2021 at 17:26)</a>:</h4>
<p>I'm not enthused</p>



<a name="243415133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243415133" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243415133">(Jun 21 2021 at 17:27)</a>:</h4>
<p>I'm happy to write something on the issue saying "we're not planning to do this within the next 6 months"</p>



<a name="243415196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243415196" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243415196">(Jun 21 2021 at 17:27)</a>:</h4>
<p><span class="user-mention" data-user-id="261224">@triagebot</span> await</p>



<a name="243415199"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243415199" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243415199">(Jun 21 2021 at 17:27)</a>:</h4>
<p>Does anyone have something to add on the current topic?<br>
React with <span aria-label="working on it" class="emoji emoji-1f6e0" role="img" title="working on it">:working_on_it:</span> if you have something to say.<br>
React with <span aria-label="all good" class="emoji emoji-2705" role="img" title="all good">:all_good:</span> if not.</p>



<a name="243415380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243415380" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243415380">(Jun 21 2021 at 17:28)</a>:</h4>
<p>ok, we will switch briefly to the private channel for the last item!</p>



<a name="243415384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-06-21/near/243415384" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/meeting.202021-06-21.html#243415384">(Jun 21 2021 at 17:28)</a>:</h4>
<p>\o</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>