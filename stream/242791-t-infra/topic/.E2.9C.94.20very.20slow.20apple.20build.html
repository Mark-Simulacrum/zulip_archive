<html>
<head><meta charset="utf-8"><title>✔ very slow apple build · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/.E2.9C.94.20very.20slow.20apple.20build.html">✔ very slow apple build</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="257238293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/%E2%9C%94%20very%20slow%20apple%20build/near/257238293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/.E2.9C.94.20very.20slow.20apple.20build.html#257238293">(Oct 12 2021 at 17:12)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/89774">#89774</a> timed out after 4 hours, but the apple build is currently still going<br>
<a href="https://github.com/rust-lang-ci/rust/runs/3870515641">https://github.com/rust-lang-ci/rust/runs/3870515641</a></p>



<a name="257240477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/%E2%9C%94%20very%20slow%20apple%20build/near/257240477" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/.E2.9C.94.20very.20slow.20apple.20build.html#257240477">(Oct 12 2021 at 17:26)</a>:</h4>
<p>It's on a macos11 runner compared to the previous job which used 10.</p>



<a name="257240974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/%E2%9C%94%20very%20slow%20apple%20build/near/257240974" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/.E2.9C.94.20very.20slow.20apple.20build.html#257240974">(Oct 12 2021 at 17:29)</a>:</h4>
<p>oh I wondered why there was no pr being tested right now according to the queue <a href="https://bors.rust-lang.org/queue/rust">https://bors.rust-lang.org/queue/rust</a><br>
maybe it is because of that apple job (no pun intended)</p>



<a name="257241208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/%E2%9C%94%20very%20slow%20apple%20build/near/257241208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Kratz <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/.E2.9C.94.20very.20slow.20apple.20build.html#257241208">(Oct 12 2021 at 17:30)</a>:</h4>
<p>Maybe switch from <code>macos-latest</code> to <code>macOS-10.15</code> until we figure out what's going on?</p>



<a name="257242519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/%E2%9C%94%20very%20slow%20apple%20build/near/257242519" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/.E2.9C.94.20very.20slow.20apple.20build.html#257242519">(Oct 12 2021 at 17:39)</a>:</h4>
<p>PR to switch to older macos: <a href="https://github.com/rust-lang/rust/issues/89827">#89827</a></p>



<a name="257242652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/%E2%9C%94%20very%20slow%20apple%20build/near/257242652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Kratz <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/.E2.9C.94.20very.20slow.20apple.20build.html#257242652">(Oct 12 2021 at 17:40)</a>:</h4>
<p>The other three Apple builds run also on macos 11. They completed but were quite a bit slower (usually they take up to three hours):</p>
<p><a href="/user_uploads/4715/3OJTOxwBhWt5ugATNPsZWo2v/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/3OJTOxwBhWt5ugATNPsZWo2v/image.png" title="image.png"><img src="/user_uploads/4715/3OJTOxwBhWt5ugATNPsZWo2v/image.png"></a></div>



<a name="257243744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/%E2%9C%94%20very%20slow%20apple%20build/near/257243744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Kratz <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/.E2.9C.94.20very.20slow.20apple.20build.html#257243744">(Oct 12 2021 at 17:47)</a>:</h4>
<p>Actually, that mostly might have been the overhead of having to build llvm as it was the first macos-11 build and thus sccache could not speed them up.</p>



<a name="257244465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/%E2%9C%94%20very%20slow%20apple%20build/near/257244465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/.E2.9C.94.20very.20slow.20apple.20build.html#257244465">(Oct 12 2021 at 17:52)</a>:</h4>
<p>hrrm, but then any llvm upgrade would already have run into that timeout</p>



<a name="257244947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/%E2%9C%94%20very%20slow%20apple%20build/near/257244947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/.E2.9C.94.20very.20slow.20apple.20build.html#257244947">(Oct 12 2021 at 17:55)</a>:</h4>
<p>hah. that indeed has happened before. <a href="https://github.com/rust-lang/rust/pull/88765#issuecomment-917446042">https://github.com/rust-lang/rust/pull/88765#issuecomment-917446042</a></p>



<a name="257272893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/%E2%9C%94%20very%20slow%20apple%20build/near/257272893" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/.E2.9C.94.20very.20slow.20apple.20build.html#257272893">(Oct 12 2021 at 21:11)</a>:</h4>
<p>next build in the queue passed.</p>



<a name="257272897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/%E2%9C%94%20very%20slow%20apple%20build/near/257272897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/.E2.9C.94.20very.20slow.20apple.20build.html#257272897">(Oct 12 2021 at 21:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330154">The 8472</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>