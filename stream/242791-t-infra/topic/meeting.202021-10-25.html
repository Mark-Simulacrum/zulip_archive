<html>
<head><meta charset="utf-8"><title>meeting 2021-10-25 · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html">meeting 2021-10-25</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="258988203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258988203" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258988203">(Oct 25 2021 at 16:56)</a>:</h4>
<p>Vivian and I are a bit sick today, so I’ll be slow to respond.</p>



<a name="258988438"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258988438" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258988438">(Oct 25 2021 at 16:58)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2943">@T-infra</span> T--2min</p>



<a name="258988711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258988711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258988711">(Oct 25 2021 at 17:00)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2943">@T-infra</span> meeting time!</p>



<a name="258988877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258988877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258988877">(Oct 25 2021 at 17:01)</a>:</h4>
<p>o/</p>



<a name="258989124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989124" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989124">(Oct 25 2021 at 17:03)</a>:</h4>
<p>let's start!</p>



<a name="258989136"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989136" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989136">(Oct 25 2021 at 17:03)</a>:</h4>
<p>there are no issues for us to look at</p>



<a name="258989158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989158" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989158">(Oct 25 2021 at 17:03)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> "Delete azure pipelines pipelines associated with rust-lang/rust?"</p>



<a name="258989233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989233">(Oct 25 2021 at 17:04)</a>:</h4>
<p>Yeah</p>



<a name="258989287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989287" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989287">(Oct 25 2021 at 17:04)</a>:</h4>
<p>seems fine to me</p>



<a name="258989387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989387">(Oct 25 2021 at 17:04)</a>:</h4>
<p>Ok, I can go ahead and do it</p>



<a name="258989406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989406">(Oct 25 2021 at 17:04)</a>:</h4>
<p><span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span>.</p>



<a name="258989467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989467" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989467">(Oct 25 2021 at 17:05)</a>:</h4>
<p>ok, moving onto the next topic</p>



<a name="258989486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989486">(Oct 25 2021 at 17:05)</a>:</h4>
<blockquote>
<p>sccache maintenance strategy</p>
</blockquote>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> too</p>



<a name="258989523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989523" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989523">(Oct 25 2021 at 17:05)</a>:</h4>
<p>Yeah</p>



<a name="258989546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989546" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989546">(Oct 25 2021 at 17:05)</a>:</h4>
<p>So I think there's a link in the doc</p>



<a name="258989621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989621" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989621">(Oct 25 2021 at 17:06)</a>:</h4>
<p><a href="https://github.com/mozilla/sccache/pull/952">https://github.com/mozilla/sccache/pull/952</a></p>



<a name="258989637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989637" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989637">(Oct 25 2021 at 17:06)</a>:</h4>
<p>But I noted sccache is pretty loosely maintained, and while it's not an immediate problem, it is already causing our CI to be longer then necessary</p>



<a name="258989721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989721">(Oct 25 2021 at 17:06)</a>:</h4>
<p>hmm, what are we using sccache for?</p>



<a name="258989722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989722" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989722">(Oct 25 2021 at 17:06)</a>:</h4>
<p>(particularly on our pgo'd Linux dist builder, which is building at least one llvm that could otherwise be cached)</p>



<a name="258989791"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989791" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989791">(Oct 25 2021 at 17:07)</a>:</h4>
<p>sccache is caching all C/C++ compiler invocations currently across our builders, primarily useful for LLVM</p>



<a name="258989855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989855">(Oct 25 2021 at 17:07)</a>:</h4>
<p>ok so it's still LLVM-only</p>



<a name="258989858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989858">(Oct 25 2021 at 17:07)</a>:</h4>
<p>hmm</p>



<a name="258989933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989933">(Oct 25 2021 at 17:08)</a>:</h4>
<p>(we pass a debuginfo remap flag which includes the rustc hash for other builds beyond llvm, so it's always a cache miss there unless you retry a build)</p>



<a name="258989954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258989954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258989954">(Oct 25 2021 at 17:08)</a>:</h4>
<p>Commit hash that is</p>



<a name="258990107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258990107" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258990107">(Oct 25 2021 at 17:09)</a>:</h4>
<p>I'd like to suggest we basically have our own copy of upstream for our own usage</p>



<a name="258990137"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258990137" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258990137">(Oct 25 2021 at 17:09)</a>:</h4>
<p>(and probably merge work into it given upstream slowness)</p>



<a name="258990209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258990209" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258990209">(Oct 25 2021 at 17:10)</a>:</h4>
<p>I'm wondering if it makes sense to use sccache at all for what we need to do: we only need a cache of the full LLVM, and whenever LLVM changes all of it changes, not just some object files</p>



<a name="258990282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258990282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258990282">(Oct 25 2021 at 17:11)</a>:</h4>
<p>at work we had fairly good success just tarballing <code>build/$target/llvm</code></p>



<a name="258990316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258990316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258990316">(Oct 25 2021 at 17:11)</a>:</h4>
<p>I'd prefer to avoid more complex shifts like that - we end up needing to basically do much of the same work sccache does for us just on a different granularity, imo, if we want a good solution</p>



<a name="258990531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258990531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258990531">(Oct 25 2021 at 17:12)</a>:</h4>
<p>o/</p>



<a name="258990646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258990646" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258990646">(Oct 25 2021 at 17:13)</a>:</h4>
<p>I know there's an sccache fork, cachepot</p>



<a name="258990677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258990677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258990677">(Oct 25 2021 at 17:13)</a>:</h4>
<p><a href="https://github.com/paritytech/cachepot">https://github.com/paritytech/cachepot</a></p>



<a name="258990877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258990877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258990877">(Oct 25 2021 at 17:15)</a>:</h4>
<p>Do you know if it supports -fprofile-gen and use flags for clang?</p>



<a name="258991049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991049" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991049">(Oct 25 2021 at 17:16)</a>:</h4>
<p>I'm not opposed to switching to this and/or trying to upstream our work here</p>



<a name="258991081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991081" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991081">(Oct 25 2021 at 17:16)</a>:</h4>
<p>(well, mw's patch adding the PGO support, in particular)</p>



<a name="258991099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991099" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991099">(Oct 25 2021 at 17:16)</a>:</h4>
<p>if we can switch to it that'd be fine, but I'm really wary of maintaining our own sccache fork</p>



<a name="258991125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991125" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991125">(Oct 25 2021 at 17:17)</a>:</h4>
<p>if we're considering going down that route I'd vastly prefer just tarballing the build directory</p>



<a name="258991285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991285" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991285">(Oct 25 2021 at 17:18)</a>:</h4>
<p>Hm, it seems like the fork maintenance is basically no worse than not doing so (given the lack of maintenance upstream), so I'm a bit confused by that</p>



<a name="258991339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991339">(Oct 25 2021 at 17:18)</a>:</h4>
<p>And tarballing seems pretty painful to get right comparatively</p>



<a name="258991481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991481" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991481">(Oct 25 2021 at 17:19)</a>:</h4>
<p>But I'm okay investing in tarballing if we prefer that</p>



<a name="258991593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991593">(Oct 25 2021 at 17:20)</a>:</h4>
<p>I think it's probably about the same effort to get right from a standing start, it's just that sccache already exists and does flag hashing etc already</p>



<a name="258991643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991643" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991643">(Oct 25 2021 at 17:20)</a>:</h4>
<p>we'd need to roll our own of that, which isn't huge but is a thing</p>



<a name="258991696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991696">(Oct 25 2021 at 17:21)</a>:</h4>
<p>Well, our cache key would probably be closer to ./configure argumenta</p>



<a name="258991706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991706">(Oct 25 2021 at 17:21)</a>:</h4>
<p>(for tarballing I can probably upstream what we did at work (need to check), even though it's not extremely granular -- to detect flag changes we just hash src/bootstrap, config.toml and src/version as a whole)</p>



<a name="258991788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991788">(Oct 25 2021 at 17:21)</a>:</h4>
<p>I think we should first sync up with the people from cachepot</p>



<a name="258991843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991843" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991843">(Oct 25 2021 at 17:22)</a>:</h4>
<p>then think about other solutions if that doesn't go forward</p>



<a name="258991871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991871" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991871">(Oct 25 2021 at 17:22)</a>:</h4>
<p>I'm happy to file an issue there and see if they'd consider taking the PGO patch</p>



<a name="258991904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991904">(Oct 25 2021 at 17:22)</a>:</h4>
<p>It's pretty small, tbh</p>



<a name="258991966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258991966" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258991966">(Oct 25 2021 at 17:22)</a>:</h4>
<p><span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span> .</p>



<a name="258992000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258992000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258992000">(Oct 25 2021 at 17:23)</a>:</h4>
<p>I'd also ask the more general question about their maintenance policy - are they wanting it to be a community project, or is it primarily for their internal use?</p>



<a name="258992038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258992038" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258992038">(Oct 25 2021 at 17:23)</a>:</h4>
<p>I admit I'm still not evaluating the tradeoff the same way you are so I'm a little confused there. But it's not important we immediately resolve that.</p>



<a name="258992222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258992222" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258992222">(Oct 25 2021 at 17:24)</a>:</h4>
<p>(fwiw, I think sccache style caching for rustc itself is also viable for stage0 compilations which are a good chunk of time on CI)</p>



<a name="258992246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258992246" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258992246">(Oct 25 2021 at 17:25)</a>:</h4>
<p>And tarballing there seems more annoying</p>



<a name="258992294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258992294" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258992294">(Oct 25 2021 at 17:25)</a>:</h4>
<p>Which is part of why I'd rather stick to sccache if we can.</p>



<a name="258992357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258992357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258992357">(Oct 25 2021 at 17:25)</a>:</h4>
<p>Anyway, that's it for me on this topic</p>



<a name="258992448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258992448" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258992448">(Oct 25 2021 at 17:26)</a>:</h4>
<p>ok then!</p>



<a name="258992458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258992458" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258992458">(Oct 25 2021 at 17:26)</a>:</h4>
<p><span class="user-mention" data-user-id="261224">@triagebot</span> end-meeting</p>



<a name="258992461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258992461" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258992461">(Oct 25 2021 at 17:26)</a>:</h4>
<p>Does anyone have something to bring up?<br>
React with <span aria-label="working on it" class="emoji emoji-1f6e0" role="img" title="working on it">:working_on_it:</span> if you have something to say.<br>
React with <span aria-label="all good" class="emoji emoji-2705" role="img" title="all good">:all_good:</span> if you're ready to end the meeting.</p>



<a name="258992762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258992762" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258992762">(Oct 25 2021 at 17:28)</a>:</h4>
<p>ok then, have a good day everyone!</p>



<a name="258992765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258992765" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258992765">(Oct 25 2021 at 17:28)</a>:</h4>
<p>\o</p>



<a name="258992804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258992804" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258992804">(Oct 25 2021 at 17:29)</a>:</h4>
<p>\o</p>



<a name="258992989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/meeting%202021-10-25/near/258992989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aidan Hobson Sayers <a href="https://zulip-archive.rust-lang.org/stream/242791-t-infra/topic/meeting.202021-10-25.html#258992989">(Oct 25 2021 at 17:30)</a>:</h4>
<p>\o</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>