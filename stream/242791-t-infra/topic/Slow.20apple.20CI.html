<html>
<head><meta charset="utf-8"><title>Slow apple CI · t-infra · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/index.html">t-infra</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Slow.20apple.20CI.html">Slow apple CI</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="214434263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Slow%20apple%20CI/near/214434263" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Slow.20apple.20CI.html#214434263">(Oct 24 2020 at 15:49)</a>:</h4>
<p>Sometimes some of the apple tasks in CI run at about 30% of their usual speed. <a href="https://github.com/rust-lang-ci/rust/runs/1302029032">https://github.com/rust-lang-ci/rust/runs/1302029032</a> right now for example.</p>



<a name="214434692"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Slow%20apple%20CI/near/214434692" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Slow.20apple.20CI.html#214434692">(Oct 24 2020 at 15:58)</a>:</h4>
<p><a href="https://github.com/actions/virtual-environments/issues/1336#issuecomment-692625668">https://github.com/actions/virtual-environments/issues/1336#issuecomment-692625668</a> :(</p>



<a name="214435397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Slow%20apple%20CI/near/214435397" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Slow.20apple.20CI.html#214435397">(Oct 24 2020 at 16:13)</a>:</h4>
<p>it timed out :(</p>



<a name="214435788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Slow%20apple%20CI/near/214435788" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Slow.20apple.20CI.html#214435788">(Oct 24 2020 at 16:21)</a>:</h4>
<p>I've seen this happen a few times. It doesn't get stuck. It just runs at about 25-50% speed that it normally runs. Maybe it only gets a single cpu core assigned instead of two, or something like that? Didn't see anything interesting in the diff between the logs.</p>



<a name="214435963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Slow%20apple%20CI/near/214435963" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Slow.20apple.20CI.html#214435963">(Oct 24 2020 at 16:25)</a>:</h4>
<p>don't the builders <code>cat /proc/cpuinfo</code> at some point?</p>



<a name="214435970"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Slow%20apple%20CI/near/214435970" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Slow.20apple.20CI.html#214435970">(Oct 24 2020 at 16:25)</a>:</h4>
<p><code>/proc/</code> is not a thing on macos, i think</p>



<a name="214436016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Slow%20apple%20CI/near/214436016" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Slow.20apple.20CI.html#214436016">(Oct 24 2020 at 16:26)</a>:</h4>
<p>oh, right</p>



<a name="214436630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Slow%20apple%20CI/near/214436630" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Slow.20apple.20CI.html#214436630">(Oct 24 2020 at 16:38)</a>:</h4>
<p>ah, it does get logged. and nope, exactly the same in the fast and slow logs.</p>
<div class="codehilite"><pre><span></span><code>      Model Name: Apple device
      Model Identifier: VMware7,1
      Processor Speed: 3.33 GHz
      Number of Processors: 2
      Total Number of Cores: 4
</code></pre></div>



<a name="214438010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Slow%20apple%20CI/near/214438010" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Slow.20apple.20CI.html#214438010">(Oct 24 2020 at 17:03)</a>:</h4>
<p>probably noisy neighbors</p>



<a name="214438016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Slow%20apple%20CI/near/214438016" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Slow.20apple.20CI.html#214438016">(Oct 24 2020 at 17:03)</a>:</h4>
<p>macOS CI on github actions is kinda weird</p>



<a name="214439190"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Slow%20apple%20CI/near/214439190" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Slow.20apple.20CI.html#214439190">(Oct 24 2020 at 17:28)</a>:</h4>
<p>hmm, don't we have dedicated machines?</p>



<a name="214443921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Slow%20apple%20CI/near/214443921" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Slow.20apple.20CI.html#214443921">(Oct 24 2020 at 19:07)</a>:</h4>
<p><span class="user-mention" data-user-id="211727">@Jonas Schievink</span> not for apple</p>



<a name="214443926"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/242791-t-infra/topic/Slow%20apple%20CI/near/214443926" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/242791-t-infra/topic/Slow.20apple.20CI.html#214443926">(Oct 24 2020 at 19:07)</a>:</h4>
<p>ah</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>