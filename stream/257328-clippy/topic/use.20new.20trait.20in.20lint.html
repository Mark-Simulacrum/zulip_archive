<html>
<head><meta charset="utf-8"><title>use new trait in lint · clippy · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/index.html">clippy</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html">use new trait in lint</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="272070542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/272070542" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston From <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#272070542">(Feb 16 2022 at 03:47)</a>:</h4>
<p>@oli or whoever might be able to help me. (Sorry for how long this is!)<br>
I'm working on this lint (<a href="https://github.com/rust-lang/rust/issues/93883">https://github.com/rust-lang/rust/issues/93883</a>) and I added a new trait in <code>std::marker</code> and impl'ed it for MutexGuard/RwLockReadGuard/RwLockWriteGuard. I was able to get rustc to compile using <code>python3 ./x.py build -i library/std</code>. I then linked the toolchain with <code>rustup toolchain link stage1 build/x86_64-unknown-linux-gnu/stage1</code> and <code>rustup toolchain link stage2 build/x86_64-unknown-linux-gnu/stage2</code> in the root rust directory.</p>
<p>Now, I'd like to use it in the lint -- I was using <code>TESTNAME=&lt;lint name&gt; cargo uitest</code> previously to run it, but I believe that's using the default toolchain. So, in the clippy directory, I ran <code>rustup override set stage2</code>, which resulted in:<br>
<code>info: override toolchain for '/home/user/Projects/rustcompiler/rust/src/tools/clippy' set to 'stage2'</code></p>
<p>But it looks like I did something wrong, because rustc doesn't see the import of the new trait (I'm trying to import it in the lint file first to make sure it works, because I initially missed the error in the uitest file):</p>
<div class="codehilite"><pre><span></span><code>error[E0432]: unresolved import `std::marker::SignificantDrop`
 --&gt; src/tools/clippy/clippy_lints/src/significant_drop_in_scrutinee.rs:5:5
  |
5 | use std::marker::SignificantDrop;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ no `SignificantDrop` in `marker`

For more information about this error, try `rustc --explain E0432`.
error: could not compile `clippy_lints` due to previous error
</code></pre></div>
<p>Does anyone have an idea what I'm doing wrong?</p>
<p>Thank you!</p>



<a name="272100429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/272100429" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#272100429">(Feb 16 2022 at 10:55)</a>:</h4>
<p>TL;DR: Don't try to build Clippy with a custom toolchain, but rather make the changes to the Clippy copy in rust-lang/rust and build/test it with <code>./x.py</code>.</p>
<hr>
<p>I'm not sure why you would have to import the trait in Clippy. There shouldn't be any types in Clippy that would need this trait to be implemented.</p>
<p>As for writing tests: that's another story. I haven't used a custom toolchain to compile Clippy in ages. What I usually do is to work on the copy of Clippy in the Rust repository. You can then compile and test that with <code>./x.py build/test src/tools/clippy</code>.  </p>
<p>Though if you would then submit a PR for a new Clippy lint, it's usually preferred if you submit the PR directly to the Clippy repo. But I think this is a good example where we can make an exception and I can review this lint as a PR to the Rust repo.</p>



<a name="272113588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/272113588" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston From <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#272113588">(Feb 16 2022 at 13:15)</a>:</h4>
<p><span class="user-mention" data-user-id="264664">@flip1995</span> thank you for the suggestion/explanation! That looks like it will work for me</p>



<a name="272367158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/272367158" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston From <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#272367158">(Feb 18 2022 at 06:56)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> or anyone who might be around: I thought I could figure this out on my own, but I am clearly stymied.</p>
<p>I added a trait called <code>SignificantDrop</code> (better name tbd) and included it in <code>language_item_table</code> in <code>compiler/rustc_hir/src/lang_items.rs</code> and in <code>Symbols</code> in <code>compiler/rustc_span/src/symbol.rs</code> so that I can check if something has impl'ed the trait with <code>significant_drop_trait</code>using <code>lang_items</code>.</p>
<p>However, when I added <code>#[lang = "significant_drop"]</code> attribute to the trait, i get an error <code>definition of unknown language item 'significant_drop'</code> when compiling.</p>
<p>What I find confusing is that calling  the <code>significant_drop_trait</code> function on lang_items is not a compile error (though <code>SignificantDrop</code> doesn't show up in the Language Items available).</p>
<p>I assume I missed registering the new trait somewhere, but I haven't been able to figure out where yet. Does anything stand out that I might have done wrong?</p>



<a name="272370683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/272370683" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#272370683">(Feb 18 2022 at 07:53)</a>:</h4>
<p>You need to use diagnostic items, not lang items. Lang items are for thing affecting the language itself</p>



<a name="272371027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/272371027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston From <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#272371027">(Feb 18 2022 at 07:59)</a>:</h4>
<p>Oh! I missed <code>diagnostic_items</code> entirely! Thank you!</p>



<a name="272570923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/272570923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston From <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#272570923">(Feb 20 2022 at 06:29)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span>  Sorry this has taken me so long! I have something like an MVP working, but I'm pretty sure it will need a lot of refinement. I added a trait (<code>SignificantDrop</code>) and implemented it for mutex guards in the core library, and then added a lint to look for any temporaries in a match scrutinee that implement it. </p>
<p>Would you mind taking a look at this? I haven't opened a PR to the rust repo yet because I'm not sure if it should be 2 PRs -- one for rust for the trait and one for clippy for the lint.<br>
<a href="https://github.com/PrestonFrom/rust/pull/1">https://github.com/PrestonFrom/rust/pull/1</a></p>



<a name="272581228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/272581228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#272581228">(Feb 20 2022 at 10:01)</a>:</h4>
<p>You can do one just for the rustc repo, we'll invite a clippy reviewer to the PR</p>



<a name="272581412"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/272581412" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#272581412">(Feb 20 2022 at 10:04)</a>:</h4>
<p>No worries about taking your time, there is never any rush unless we're fixing critical regressions, which is def not the case here</p>



<a name="272581491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/272581491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#272581491">(Feb 20 2022 at 10:06)</a>:</h4>
<p>No worries about taking your time, there is never any rush unless we're fixing critical regressions, which is def not the case here</p>



<a name="272581492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/272581492" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#272581492">(Feb 20 2022 at 10:06)</a>:</h4>
<p>I'm really glad you're working on this!</p>



<a name="272636909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/272636909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston From <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#272636909">(Feb 21 2022 at 03:26)</a>:</h4>
<p>Thank you fro the initial review and helping me! I have really enjoyed working on this! I opened a PR in the rust repo. :)</p>



<a name="273111135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/273111135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston From <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#273111135">(Feb 24 2022 at 16:16)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> I’m looking at adding an attribute for has significant drop (it seemed like mutex guard implements freeze), but I’m not sure where it should live. I think someone mentioned adding it to clippy but I couldn’t find where attributes are defined in clippy</p>



<a name="273113978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/273113978" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#273113978">(Feb 24 2022 at 16:35)</a>:</h4>
<p>I think you should be able to just add <code>#[clippy::significant_drop]</code> to the types without any additional work. To detect the attribute I'm hoping clippy's utils module has helpers, if not, you can ask the tcx via <code>has_attr</code></p>



<a name="273120482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/273120482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston From <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#273120482">(Feb 24 2022 at 17:17)</a>:</h4>
<p>Ah, okay! I thought it would have to be registered somewhere. Thank you!</p>



<a name="273124239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/273124239" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#273124239">(Feb 24 2022 at 17:45)</a>:</h4>
<p>You will have to tell Clippy about this attribute in the <code>clippy_utils</code> <a href="https://github.com/rust-lang/rust-clippy/blob/042892a0815fe0fec72ea1a07348d99ca08bf944/clippy_utils/src/attrs.rs#L18">here</a>. And in the lint you can look for the attribute with the <a href="https://github.com/rust-lang/rust-clippy/blob/042892a0815fe0fec72ea1a07348d99ca08bf944/clippy_utils/src/attrs.rs#L55"><code>get_attr</code></a> function from the Clippy utils.</p>



<a name="273131374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/273131374" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston From <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#273131374">(Feb 24 2022 at 18:39)</a>:</h4>
<p><span class="user-mention" data-user-id="264664">@flip1995</span> oh thank you!!!</p>



<a name="277244365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/277244365" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston From <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#277244365">(Mar 31 2022 at 07:50)</a>:</h4>
<p><span class="user-mention" data-user-id="264664">@flip1995</span> <span class="user-mention" data-user-id="124288">@oli</span> <br>
Working on tests for significant drops in match scrutinees, I realized something like a tuple could have multiple cases in one line. What is the expectation for lints in this case? Is it okay to emit multiple lint messages, one for each case? Or should I try to combine them?</p>



<a name="277244648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/277244648" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#277244648">(Mar 31 2022 at 07:52)</a>:</h4>
<p>I would just emit multiple messages. trying to combine them for all cases where this could occur gets really dirty real quick.</p>



<a name="277245045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/277245045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston From <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#277245045">(Mar 31 2022 at 07:56)</a>:</h4>
<p>Okay, thank you! It was indeed getting very dirty and confusing</p>



<a name="277248283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/277248283" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#277248283">(Mar 31 2022 at 08:31)</a>:</h4>
<p>Agreed. If some cases that would better be combined show up in practice we can always revisit</p>



<a name="278259074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/278259074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston From <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#278259074">(Apr 08 2022 at 05:37)</a>:</h4>
<p><span class="user-mention" data-user-id="264664">@flip1995</span> &amp; <span class="user-mention" data-user-id="124288">@oli</span> <br>
For the significant drop lint, I hit upon a case where I'm not sure if there's a good reasonable suggestion, such as the mutex holds a string and you want to match against <code>as_str</code></p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">        </span><span class="c1">// Assume `.s` is a String</span>
<span class="w">        </span><span class="k">match</span><span class="w"> </span><span class="n">mutex3</span><span class="p">.</span><span class="n">lock</span><span class="p">().</span><span class="n">unwrap</span><span class="p">().</span><span class="n">s</span><span class="p">.</span><span class="n">as_str</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="s">"three"</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="fm">println!</span><span class="p">(</span><span class="s">"started"</span><span class="p">);</span><span class="w"></span>
<span class="w">                </span><span class="n">mutex1</span><span class="p">.</span><span class="n">lock</span><span class="p">().</span><span class="n">unwrap</span><span class="p">().</span><span class="n">s</span><span class="p">.</span><span class="n">len</span><span class="p">();</span><span class="w"></span>
<span class="w">                </span><span class="n">mutex2</span><span class="p">.</span><span class="n">lock</span><span class="p">().</span><span class="n">unwrap</span><span class="p">().</span><span class="n">s</span><span class="p">.</span><span class="n">len</span><span class="p">();</span><span class="w"></span>
<span class="w">                </span><span class="fm">println!</span><span class="p">(</span><span class="s">"done"</span><span class="p">);</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="n">_</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">        </span><span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>Would it best here to simply explain why this will cause a deadlock instead of trying to suggest a work around? Or should it suggest cloning <code>s</code>? What I have currently will actually try to add <code>clone()</code> after <code>as_str()</code>, which results in a compile error.</p>



<a name="278260765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/278260765" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#278260765">(Apr 08 2022 at 06:10)</a>:</h4>
<p>I think just warning is sufficient, or treating this case as "it's what the user wants, don't lint at all"</p>



<a name="278260812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/278260812" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston From <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#278260812">(Apr 08 2022 at 06:11)</a>:</h4>
<p>Okay! Thank you! I'll try to implement it as a warning!</p>



<a name="278269529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/278269529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#278269529">(Apr 08 2022 at 08:08)</a>:</h4>
<p>Hm, you could suggest <code>.s.clone()</code> and then <code>value.as_ref()</code>. I would definitely lint here anyway. Maybe remove the suggestion. If it is too hard to remove the suggestion, then you can also just keep it. IIRC the suggestion is <code>MaybeIncorrect</code> and can't be auto-applied anyway.</p>



<a name="278300875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/278300875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#278300875">(Apr 08 2022 at 13:06)</a>:</h4>
<p>FWIW, I would rewrite this code as <code>s @ "three" =&gt; { s.len(); }</code></p>



<a name="278300905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/use%20new%20trait%20in%20lint/near/278300905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/use.20new.20trait.20in.20lint.html#278300905">(Apr 08 2022 at 13:06)</a>:</h4>
<p>But that might be hard to make an automatic suggestion for</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>