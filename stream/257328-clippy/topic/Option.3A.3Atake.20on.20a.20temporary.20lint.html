<html>
<head><meta charset="utf-8"><title>Option::take on a temporary lint · clippy · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/index.html">clippy</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html">Option::take on a temporary lint</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="277924342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/277924342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#277924342">(Apr 05 2022 at 18:33)</a>:</h4>
<p>Hi, I recently picked this lint <a href="https://github.com/rust-lang/rust-clippy/issues/8618">https://github.com/rust-lang/rust-clippy/issues/8618</a>, I wanted a bit of clarification : <br>
what is referred to as "a temporary", is the returned value by .as_ref() ?</p>



<a name="277940104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/277940104" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Macleod <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#277940104">(Apr 05 2022 at 20:39)</a>:</h4>
<p>In <code>x.as_ref().take();</code> it is yeah. The Option it returns is dropped at the end of the statement</p>



<a name="277951891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/277951891" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Newcomb <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#277951891">(Apr 05 2022 at 22:28)</a>:</h4>
<p>A temporary would be any value which doesn't have a name. The only expressions which can give you a named value would be <code>Path</code>, <code>Deref</code>, <code>Field</code> and <code>Index</code>.</p>



<a name="278012739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278012739" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278012739">(Apr 06 2022 at 12:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="399480">Jason Newcomb</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/277951891">said</a>:</p>
<blockquote>
<p>A temporary would be any value which doesn't have a name. The only expressions which can give you a named value would be <code>Path</code>, <code>Deref</code>, <code>Field</code> and <code>Index</code>.</p>
</blockquote>
<p>cool, thanks for clearing that up</p>



<a name="278071326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278071326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278071326">(Apr 06 2022 at 19:06)</a>:</h4>
<p><del>I am currently registering the lint but I wasn't sure where is it that I should register the check function at : types/borrowed_box.rs seems to be registered in a TyKind::Path variant, but I am not sure if this applies to me since I only really have one "item" (Option) to check</del><br>
turns out <a href="http://linked_list.rs">linked_list.rs</a> does it so it should be fine then </p>
<p>and I was also confused, </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">as_ref</span><span class="p">().</span><span class="n">take</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="fm">dbg!</span><span class="p">(</span><span class="s">"{:?}"</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>doing this seems to be returning </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">[</span><span class="n">src</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="mi">2</span><span class="p">,</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>So I am quite confused about enumerations variants, but I maybe know what to do</p>



<a name="278118112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278118112" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Newcomb <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278118112">(Apr 07 2022 at 05:07)</a>:</h4>
<p>For this lint you're looking for the <code>Option::take</code> method call. Easiest thing to do would be to edit the <code>check_methods</code> function in <code>methods/mod.rs</code>. You'll need to add a match arm to call your check function there. Something like <code>("take", []) =&gt; option_take_on_temporary::check(cx, expr, recv)</code></p>



<a name="278124599"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278124599" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278124599">(Apr 07 2022 at 07:06)</a>:</h4>
<p>Oh, interesting</p>



<a name="278124710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278124710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278124710">(Apr 07 2022 at 07:07)</a>:</h4>
<p>For some reason I assumed using methods lint would work if the function you are trying has been called after another function<br>
Seems that, now proven false, I can effectively just do that</p>



<a name="278124711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278124711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278124711">(Apr 07 2022 at 07:07)</a>:</h4>
<p>Thanks</p>



<a name="278130607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278130607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278130607">(Apr 07 2022 at 08:15)</a>:</h4>
<p>Not really related, but FYI: If you use the debug macro, you don't have to specify a format parameter. You can just dump in your variables/expressions: <code>dbg!(x);</code> will give you the same output. You can also dump in multiple expressions, like <code>dbg!(x, y.call(), z.field)</code> will give you the debug print of those three expressions.</p>



<a name="278216787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278216787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278216787">(Apr 07 2022 at 19:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="399480">Jason Newcomb</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278118112">said</a>:</p>
<blockquote>
<p>For this lint you're looking for the <code>Option::take</code> method call. Easiest thing to do would be to edit the <code>check_methods</code> function in <code>methods/mod.rs</code>. You'll need to add a match arm to call your check function there. Something like <code>("take", []) =&gt; option_take_on_temporary::check(cx, expr, recv)</code></p>
</blockquote>
<p>so as I am working on this, I was trying to figure out a way on how to check if one variable is a temporary", and it seems as if I need to access the "body" (rustc_hir::Body) of the function,<br>
I was just wanting confirmation before continuing down that route <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="278229000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278229000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Macleod <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278229000">(Apr 07 2022 at 21:30)</a>:</h4>
<p>You'll need to add your own match arm in the <code>("take", [])</code> form mentioned by <span class="user-mention silent" data-user-id="399480">Jason Newcomb</span> , the one you're in matches a single argument as it's for e.g. <code>iter.take(5)</code></p>
<p>You shouldn't need to read a <code>Body</code>. I believe it would be sufficient to <a href="https://github.com/rust-lang/rust-clippy/blob/master/doc/common_tools_writing_lints.md#checking-for-a-specific-type">check that the type</a> of <code>recv</code> is <code>Option</code> (which excludes <code>&amp;mut Option</code>) and that it is not <a href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_hir/hir/struct.Expr.html#method.is_syntactic_place_expr">a place expression</a>. Place expressions being the term for the <code>Path</code>, <code>Deref</code>, <code>Field</code> and <code>Index</code> mentioned earlier</p>



<a name="278231457"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278231457" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278231457">(Apr 07 2022 at 21:55)</a>:</h4>
<p>And so in this context Option would be temporary and &amp;mut Option wouldn’t</p>



<a name="278232918"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278232918" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Macleod <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278232918">(Apr 07 2022 at 22:08)</a>:</h4>
<p>Yep <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="278314443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278314443" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278314443">(Apr 08 2022 at 14:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239861">Alex Macleod</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278232918">said</a>:</p>
<blockquote>
<p>Yep <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>
</blockquote>
<p>do you guys have any <a href="http://docs.rs">docs.rs</a> page where you have your docs sitting at ? I tried finding crates like clippy_utils but nothing came up<br>
I am also more comfortable with <a href="http://docs.rs">docs.rs</a> rather than jumping to location inside my editor</p>



<a name="278315202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278315202" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278315202">(Apr 08 2022 at 14:50)</a>:</h4>
<ul>
<li>Rustc in general: <a href="https://doc.rust-lang.org/nightly/nightly-rustc/">https://doc.rust-lang.org/nightly/nightly-rustc/</a></li>
<li>Clippy utils: <a href="https://doc.rust-lang.org/nightly/nightly-rustc/clippy_utils/index.html">https://doc.rust-lang.org/nightly/nightly-rustc/clippy_utils/index.html</a></li>
</ul>



<a name="278315274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278315274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278315274">(Apr 08 2022 at 14:50)</a>:</h4>
<p>This should work, it's also a great place to find docs for most rustc internals.</p>



<a name="278315526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278315526" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278315526">(Apr 08 2022 at 14:52)</a>:</h4>
<p><code>clippy_lints</code> is not included in the online documentation, you can also build your own (including <code>clippy_lints</code> etc) with <code>cargo doc</code> <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="278315817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278315817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278315817">(Apr 08 2022 at 14:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369415">xFrednet</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278315202">said</a>:</p>
<blockquote>
<ul>
<li>Rustc in general: <a href="https://doc.rust-lang.org/nightly/nightly-rustc/">https://doc.rust-lang.org/nightly/nightly-rustc/</a></li>
<li>Clippy utils: <a href="https://doc.rust-lang.org/nightly/nightly-rustc/clippy_utils/index.html">https://doc.rust-lang.org/nightly/nightly-rustc/clippy_utils/index.html</a></li>
</ul>
</blockquote>
<p>I have decided I wanted to host my own <a href="http://docs.rs">docs.rs</a> instance on my homelab, so there am I, I will prob send links here for anyone that may wanna see the docs <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="278326929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278326929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278326929">(Apr 08 2022 at 16:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459607">infrandomness</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278315817">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="369415">xFrednet</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278315202">said</a>:</p>
<blockquote>
<ul>
<li>Rustc in general: <a href="https://doc.rust-lang.org/nightly/nightly-rustc/">https://doc.rust-lang.org/nightly/nightly-rustc/</a></li>
<li>Clippy utils: <a href="https://doc.rust-lang.org/nightly/nightly-rustc/clippy_utils/index.html">https://doc.rust-lang.org/nightly/nightly-rustc/clippy_utils/index.html</a></li>
</ul>
</blockquote>
<p>I have decided I wanted to host my own <a href="http://docs.rs">docs.rs</a> instance on my homelab, so there am I, I will prob send links here for anyone that may wanna see the docs <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>
</blockquote>
<p>I am having this weird error : </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">error</span>: <span class="nc">unexpected</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="n">invocation</span><span class="w"></span>
<span class="w">   </span><span class="o">-</span>-&gt; <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">infrandomness</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">-</span><span class="mi">1</span><span class="n">ecc6299db9ec823</span><span class="o">/</span><span class="n">if_chain</span><span class="o">-</span><span class="mf">1.0.2</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">176</span>:<span class="mi">44</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="mi">176</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="n">__if_chain</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">@</span><span class="n">init</span><span class="w"> </span><span class="p">(</span><span class="cp">$($tt</span><span class="p">)</span><span class="o">*</span><span class="w"> </span><span class="cp">$head</span><span class="p">)</span><span class="w"> </span><span class="cp">$($tail</span><span class="p">)</span><span class="o">*</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">                                            </span><span class="o">^</span><span class="w"> </span><span class="n">missing</span><span class="w"> </span><span class="n">tokens</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="n">arguments</span><span class="w"></span>
</code></pre></div>
<p>on my code : </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">use</span><span class="w"> </span><span class="n">rustc_hir</span>::<span class="n">Expr</span><span class="p">;</span><span class="w"></span>
<span class="k">use</span><span class="w"> </span><span class="n">rustc_lint</span>::<span class="n">LateContext</span><span class="p">;</span><span class="w"></span>

<span class="k">use</span><span class="w"> </span><span class="k">super</span>::<span class="n">OPTION_TAKE_ON_TEMPORARY</span><span class="p">;</span><span class="w"></span>

<span class="k">pub</span><span class="p">(</span><span class="k">super</span><span class="p">)</span><span class="w"> </span><span class="k">fn</span> <span class="nf">check</span><span class="o">&lt;'</span><span class="na">tcx</span><span class="o">&gt;</span><span class="p">(</span><span class="n">cx</span>: <span class="kp">&amp;</span><span class="nc">LateContext</span><span class="o">&lt;'</span><span class="na">tcx</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">expr</span>: <span class="kp">&amp;</span><span class="o">'</span><span class="na">tcx</span> <span class="nc">Expr</span><span class="o">&lt;'</span><span class="nb">_</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">recv</span>: <span class="kp">&amp;</span><span class="o">'</span><span class="na">tcx</span> <span class="nc">Expr</span><span class="o">&lt;'</span><span class="nb">_</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">if_chain</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">is_type_diagnostic_item</span><span class="p">(</span><span class="n">cx</span><span class="p">,</span><span class="w"> </span><span class="n">cx</span><span class="p">.</span><span class="n">typeck_results</span><span class="p">().</span><span class="n">expr_ty</span><span class="p">(</span><span class="n">recv</span><span class="p">),</span><span class="w"> </span><span class="n">sym</span><span class="p">;;</span><span class="nb">Result</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="n">then</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">span_lint</span><span class="p">(</span><span class="w"></span>
<span class="w">                </span><span class="n">cx</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">OPTION_TAKE_ON_TEMPORARY</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">expr</span><span class="p">.</span><span class="n">span</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="s">"Format test"</span><span class="w"></span>
<span class="w">            </span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>I do not really understand why, cargo dev bless also doesn't seem to be doing a whole lot</p>



<a name="278327183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278327183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278327183">(Apr 08 2022 at 16:16)</a>:</h4>
<p>It says <code> sym;;Result</code></p>



<a name="278327197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278327197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278327197">(Apr 08 2022 at 16:16)</a>:</h4>
<p>It should be <code>::</code></p>



<a name="278328246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278328246" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278328246">(Apr 08 2022 at 16:24)</a>:</h4>
<p>I figured it out, crazy how a misplaced ";" (on then's curly bracket instead of on  span_lint() , can change everything</p>



<a name="278333404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278333404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Newcomb <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278333404">(Apr 08 2022 at 17:01)</a>:</h4>
<p>Just btw, <code>let-chains</code> should be working. You should be able to use</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foo</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">bar</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// do something</span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="278334449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278334449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278334449">(Apr 08 2022 at 17:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="399480">Jason Newcomb</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278333404">said</a>:</p>
<blockquote>
<p>Just btw, <code>let-chains</code> should be working. You should be able to use</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foo</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">bar</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// do something</span>
<span class="p">}</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>
<p>yeah that too, I'll probably use that, if_chain! is cool but it took me time to figure out what was wrong</p>



<a name="278336850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278336850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278336850">(Apr 08 2022 at 17:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459607">infrandomness</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278334449">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="399480">Jason Newcomb</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278333404">said</a>:</p>
<blockquote>
<p>Just btw, <code>let-chains</code> should be working. You should be able to use</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foo</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">bar</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// do something</span>
<span class="p">}</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>
<p>yeah that too, I'll probably use that, if_chain! is cool but it took me time to figure out what was wrong</p>
</blockquote>
<p>for some reason, I cannot seem to get cargo dev bless to generate me a proper stderr file</p>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code><span class="gh">diff --git a/tests/ui/option_take_on_temporary.rs b/tests/ui/option_take_on_temporary.rs</span><span class="w"></span>
<span class="w">new file mode 100644</span>
<span class="gh">index 000000000..d0c0a3c6e</span><span class="w"></span>
<span class="gd">--- /dev/null</span><span class="w"></span>
<span class="gi">+++ b/tests/ui/option_take_on_temporary.rs</span><span class="w"></span>
<span class="gu">@@ -0,0 +1,4 @@</span><span class="w"></span>
<span class="gi">+fn main() {</span><span class="w"></span>
<span class="gi">+    let x = Some(2);</span><span class="w"></span>
<span class="gi">+    let y = x.as_ref().take();</span><span class="w"></span>
<span class="gi">+}</span><span class="w"></span>
<span class="gh">diff --git a/tests/ui/option_take_on_temporary.stderr b/tests/ui/option_take_on_temporary.stderr</span><span class="w"></span>
<span class="w">new file mode 100644</span>
<span class="gh">index 000000000..f5ef11331</span><span class="w"></span>
<span class="gd">--- /dev/null</span><span class="w"></span>
<span class="gi">+++ b/tests/ui/option_take_on_temporary.stderr</span><span class="w"></span>
<span class="gu">@@ -0,0 +1,10 @@</span><span class="w"></span>
<span class="gi">+error: unknown lint: `clippy::option_take_on_temporary`</span><span class="w"></span>
<span class="gi">+  --&gt; $DIR/option_take_on_temporary.rs:1:8</span><span class="w"></span>
<span class="gi">+   |</span><span class="w"></span>
<span class="gi">+LL | #[warn(clippy::option_take_on_temporary)]</span><span class="w"></span>
<span class="gi">+   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><span class="w"></span>
<span class="gi">+   |</span><span class="w"></span>
<span class="gi">+   = note: `-D unknown-lints` implied by `-D warnings`</span><span class="w"></span>
<span class="gi">+</span><span class="w"></span>
<span class="gi">+error: aborting due to previous error</span><span class="w"></span>
</code></pre></div>
<p>I don't really understand why..<br>
I thought to myself that I must be missing some line somewhere that registers my lint for it to be used like that, but then I remembered that I didn't need it in <a href="https://github.com/rust-lang/rust-clippy/commit/409a936f3b65db06bf0a9d167afcdc7bfafad47f#diff-0916cc996ac8b49af82e7033b4a923c38911155562744ad9d6c6969c79e48385">there</a>, so I removed it<br>
at first, the line <code>#[warn(clippy::option_take_on_temporary)]</code> was present in my test but I removed them, taking inspiration from other lints</p>



<a name="278338613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278338613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278338613">(Apr 08 2022 at 17:43)</a>:</h4>
<p>Maybe try <code>cargo dev update_lints</code> that should register your lint</p>



<a name="278338748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278338748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278338748">(Apr 08 2022 at 17:44)</a>:</h4>
<p>The lint has to be registered for rustc to parse lint level attributes and such, that command should register your lint</p>



<a name="278339074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278339074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278339074">(Apr 08 2022 at 17:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369415">xFrednet</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278338748">said</a>:</p>
<blockquote>
<p>The lint has to be registered for rustc to parse lint level attributes and such, that command should register your lint</p>
</blockquote>
<p>this appears to have modified some file</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">diff</span><span class="w"> </span><span class="o">--</span><span class="n">git</span><span class="w"> </span><span class="n">a</span><span class="o">/</span><span class="n">clippy_lints</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">register_all</span><span class="p">.</span><span class="n">rs</span><span class="w"> </span><span class="n">b</span><span class="o">/</span><span class="n">clippy_lints</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">register_all</span><span class="p">.</span><span class="n">rs</span><span class="w"></span>
<span class="n">index</span><span class="w"> </span><span class="mi">1</span><span class="n">fb3ca1fd</span><span class="o">..</span><span class="mi">7185735</span><span class="n">df</span><span class="w"> </span><span class="mi">100644</span><span class="w"></span>
<span class="o">---</span><span class="w"> </span><span class="n">a</span><span class="o">/</span><span class="n">clippy_lints</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">register_all</span><span class="p">.</span><span class="n">rs</span><span class="w"></span>
<span class="o">+++</span><span class="w"> </span><span class="n">b</span><span class="o">/</span><span class="n">clippy_lints</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">register_all</span><span class="p">.</span><span class="n">rs</span><span class="w"></span>
<span class="o">@@</span><span class="w"> </span><span class="o">-</span><span class="mi">182</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="o">+</span><span class="mi">182</span><span class="p">,</span><span class="mi">7</span><span class="w"> </span><span class="o">@@</span><span class="w"> </span><span class="n">store</span><span class="p">.</span><span class="n">register_group</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="s">"clippy::all"</span><span class="p">,</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="s">"clippy_all"</span><span class="p">),</span><span class="w"> </span><span class="fm">vec!</span><span class="p">[</span><span class="w"></span>
<span class="w">     </span><span class="n">LintId</span>::<span class="n">of</span><span class="p">(</span><span class="n">methods</span>::<span class="n">OPTION_AS_REF_DEREF</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">LintId</span>::<span class="n">of</span><span class="p">(</span><span class="n">methods</span>::<span class="n">OPTION_FILTER_MAP</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">LintId</span>::<span class="n">of</span><span class="p">(</span><span class="n">methods</span>::<span class="n">OPTION_MAP_OR_NONE</span><span class="p">),</span><span class="w"></span>
<span class="o">+</span><span class="w">    </span><span class="n">LintId</span>::<span class="n">of</span><span class="p">(</span><span class="n">methods</span>::<span class="n">OPTION_TAKE_ON_TEMPORARY</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">LintId</span>::<span class="n">of</span><span class="p">(</span><span class="n">methods</span>::<span class="n">OR_FUN_CALL</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">LintId</span>::<span class="n">of</span><span class="p">(</span><span class="n">methods</span>::<span class="n">OR_THEN_UNWRAP</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">LintId</span>::<span class="n">of</span><span class="p">(</span><span class="n">methods</span>::<span class="n">RESULT_MAP_OR_INTO_OPTION</span><span class="p">),</span><span class="w"></span>
<span class="n">diff</span><span class="w"> </span><span class="o">--</span><span class="n">git</span><span class="w"> </span><span class="n">a</span><span class="o">/</span><span class="n">clippy_lints</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">register_lints</span><span class="p">.</span><span class="n">rs</span><span class="w"> </span><span class="n">b</span><span class="o">/</span><span class="n">clippy_lints</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">register_lints</span><span class="p">.</span><span class="n">rs</span><span class="w"></span>
<span class="n">index</span><span class="w"> </span><span class="n">bba3cae45</span><span class="o">..</span><span class="mi">6</span><span class="n">b31ff0cd</span><span class="w"> </span><span class="mi">100644</span><span class="w"></span>
<span class="o">---</span><span class="w"> </span><span class="n">a</span><span class="o">/</span><span class="n">clippy_lints</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">register_lints</span><span class="p">.</span><span class="n">rs</span><span class="w"></span>
<span class="o">+++</span><span class="w"> </span><span class="n">b</span><span class="o">/</span><span class="n">clippy_lints</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">register_lints</span><span class="p">.</span><span class="n">rs</span><span class="w"></span>
<span class="o">@@</span><span class="w"> </span><span class="o">-</span><span class="mi">321</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="o">+</span><span class="mi">321</span><span class="p">,</span><span class="mi">7</span><span class="w"> </span><span class="o">@@</span><span class="w"> </span><span class="n">store</span><span class="p">.</span><span class="n">register_lints</span><span class="p">(</span><span class="o">&amp;</span><span class="p">[</span><span class="w"></span>
<span class="w">     </span><span class="n">methods</span>::<span class="n">OPTION_AS_REF_DEREF</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="n">methods</span>::<span class="n">OPTION_FILTER_MAP</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="n">methods</span>::<span class="n">OPTION_MAP_OR_NONE</span><span class="p">,</span><span class="w"></span>
<span class="o">+</span><span class="w">    </span><span class="n">methods</span>::<span class="n">OPTION_TAKE_ON_TEMPORARY</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="n">methods</span>::<span class="n">OR_FUN_CALL</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="n">methods</span>::<span class="n">OR_THEN_UNWRAP</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="n">methods</span>::<span class="n">RESULT_MAP_OR_INTO_OPTION</span><span class="p">,</span><span class="w"></span>
<span class="n">diff</span><span class="w"> </span><span class="o">--</span><span class="n">git</span><span class="w"> </span><span class="n">a</span><span class="o">/</span><span class="n">clippy_lints</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">register_suspicious</span><span class="p">.</span><span class="n">rs</span><span class="w"> </span><span class="n">b</span><span class="o">/</span><span class="n">clippy_lints</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">register_suspicious</span><span class="p">.</span><span class="n">rs</span><span class="w"></span>
<span class="n">index</span><span class="w"> </span><span class="mf">0707e4</span><span class="n">f8f</span><span class="o">..</span><span class="mi">6</span><span class="n">dafce13b</span><span class="w"> </span><span class="mi">100644</span><span class="w"></span>
<span class="o">---</span><span class="w"> </span><span class="n">a</span><span class="o">/</span><span class="n">clippy_lints</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">register_suspicious</span><span class="p">.</span><span class="n">rs</span><span class="w"></span>
<span class="o">+++</span><span class="w"> </span><span class="n">b</span><span class="o">/</span><span class="n">clippy_lints</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">register_suspicious</span><span class="p">.</span><span class="n">rs</span><span class="w"></span>
<span class="o">@@</span><span class="w"> </span><span class="o">-</span><span class="mi">19</span><span class="p">,</span><span class="mi">6</span><span class="w"> </span><span class="o">+</span><span class="mi">19</span><span class="p">,</span><span class="mi">7</span><span class="w"> </span><span class="o">@@</span><span class="w"> </span><span class="n">store</span><span class="p">.</span><span class="n">register_group</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="s">"clippy::suspicious"</span><span class="p">,</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="s">"clippy_suspicious"</span><span class="p">),</span><span class="w"> </span><span class="fm">vec!</span><span class="w"></span>
<span class="w">     </span><span class="n">LintId</span>::<span class="n">of</span><span class="p">(</span><span class="n">loops</span>::<span class="n">EMPTY_LOOP</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">LintId</span>::<span class="n">of</span><span class="p">(</span><span class="n">loops</span>::<span class="n">FOR_LOOPS_OVER_FALLIBLES</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">LintId</span>::<span class="n">of</span><span class="p">(</span><span class="n">loops</span>::<span class="n">MUT_RANGE_BOUND</span><span class="p">),</span><span class="w"></span>
<span class="o">+</span><span class="w">    </span><span class="n">LintId</span>::<span class="n">of</span><span class="p">(</span><span class="n">methods</span>::<span class="n">OPTION_TAKE_ON_TEMPORARY</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">LintId</span>::<span class="n">of</span><span class="p">(</span><span class="n">methods</span>::<span class="n">SUSPICIOUS_MAP</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">LintId</span>::<span class="n">of</span><span class="p">(</span><span class="n">mut_key</span>::<span class="n">MUTABLE_KEY_TYPE</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">LintId</span>::<span class="n">of</span><span class="p">(</span><span class="n">octal_escapes</span>::<span class="n">OCTAL_ESCAPES</span><span class="p">),</span><span class="w"></span>
</code></pre></div>
<p>but running TESTNAME=option_take_on_temporary cargo uitest and then cargo dev bless still doesn't seem to modify the stderr file</p>



<a name="278339113"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278339113" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278339113">(Apr 08 2022 at 17:47)</a>:</h4>
<p>Have you rerun the uitest?</p>



<a name="278339242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278339242" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278339242">(Apr 08 2022 at 17:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369415">xFrednet</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278339113">said</a>:</p>
<blockquote>
<p>Have you rerun the uitest?</p>
</blockquote>
<p>hmm, I probably need to re run the entire test suit, not just my lint's..<br>
ahh, nvm, didn't work either</p>



<a name="278339372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278339372" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278339372">(Apr 08 2022 at 17:49)</a>:</h4>
<p>Maybe some cache is getting in the way, try changing something in the file and then running it again</p>



<a name="278339485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278339485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278339485">(Apr 08 2022 at 17:50)</a>:</h4>
<p>And try deleting the <code>.stderr</code> file it can be, that <code>clippy_dev</code> simply has no output to replace the file with ¯\_(ツ)_/¯</p>



<a name="278339778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278339778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278339778">(Apr 08 2022 at 17:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369415">xFrednet</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278339485">said</a>:</p>
<blockquote>
<p>And try deleting the <code>.stderr</code> file it can be, that <code>clippy_dev</code> simply has no output to replace the file with ¯\_(ツ)_/¯</p>
</blockquote>
<p>it did not regenerate anything, you know what, is it possible rust optimizes away code in tests?</p>



<a name="278339894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278339894" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278339894">(Apr 08 2022 at 17:54)</a>:</h4>
<p>It shouln't</p>



<a name="278339941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278339941" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278339941">(Apr 08 2022 at 17:54)</a>:</h4>
<p>Does your lint generate any output for the test file? (Do you see it in the console)</p>



<a name="278340007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278340007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278340007">(Apr 08 2022 at 17:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369415">xFrednet</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278339941">said</a>:</p>
<blockquote>
<p>Does your lint generate any output for the test file?</p>
</blockquote>
<p>no it does not</p>



<a name="278340120"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278340120" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278340120">(Apr 08 2022 at 17:56)</a>:</h4>
<p>Than that's the reason why it doesn't create a <code>.stderr</code> file</p>



<a name="278340211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278340211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278340211">(Apr 08 2022 at 17:56)</a>:</h4>
<p>Maybe try some <code>println!()</code> or <code>dbg!()</code> debugging to see if the code gets triggered and what checks pass :)</p>



<a name="278340265"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278340265" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278340265">(Apr 08 2022 at 17:57)</a>:</h4>
<p>okay that worked.. lol<br>
well, now I know <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="278340622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278340622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278340622">(Apr 08 2022 at 18:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459607">infrandomness</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278340265">said</a>:</p>
<blockquote>
<p>okay that worked.. lol<br>
well, now I know <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>
</blockquote>
<p>that was weird because the other tests don't print anything, and their thing seems to work, so I was like "nah" that can't be it</p>



<a name="278341048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278341048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278341048">(Apr 08 2022 at 18:03)</a>:</h4>
<p>uitest only writes the output to the console if it's different from the one in the <code>.stderr</code> file. Otherwise it would be almost impossible to see what's going on ^^</p>



<a name="278341249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278341249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278341249">(Apr 08 2022 at 18:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369415">xFrednet</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278341048">said</a>:</p>
<blockquote>
<p>uitest only writes the output to the console if it's different from the one in the <code>.stderr</code> file. Otherwise it would be almost impossible to see what's going on ^^</p>
</blockquote>
<p>oh, I see;<br>
but how do they do it in say, tests/ui/get_unwrap.rs then?</p>



<a name="278341413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278341413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278341413">(Apr 08 2022 at 18:06)</a>:</h4>
<p>There it loads the <code>.stderr</code> file and compares it with Clippy's output. If everything is the same it just continues</p>



<a name="278341439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278341439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278341439">(Apr 08 2022 at 18:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369415">xFrednet</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278341413">said</a>:</p>
<blockquote>
<p>There it loads the <code>.stderr</code> file and compares it with Clippy's output. If everything is the same it just continues</p>
</blockquote>
<p>I see</p>



<a name="278341560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278341560" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278341560">(Apr 08 2022 at 18:07)</a>:</h4>
<p>You can take a look at <a href="https://crates.io/crates/compiletest_rs">compiletest-rs</a> if you want some more information <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="278344253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278344253" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278344253">(Apr 08 2022 at 18:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369415">xFrednet</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278341560">said</a>:</p>
<blockquote>
<p>You can take a look at <a href="https://crates.io/crates/compiletest_rs">compiletest-rs</a> if you want some more information <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>
</blockquote>
<p>I will check it out, thanks lots ! </p>
<p><a href="https://github.com/rust-lang/rust-clippy/pull/8665">https://github.com/rust-lang/rust-clippy/pull/8665</a></p>



<a name="278417192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278417192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278417192">(Apr 09 2022 at 16:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459607">infrandomness</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278344253">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="369415">xFrednet</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278341560">said</a>:</p>
<blockquote>
<p>You can take a look at <a href="https://crates.io/crates/compiletest_rs">compiletest-rs</a> if you want some more information <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>
</blockquote>
<p>I will check it out, thanks lots ! </p>
<p><a href="https://github.com/rust-lang/rust-clippy/pull/8665">https://github.com/rust-lang/rust-clippy/pull/8665</a></p>
</blockquote>
<p>May I follow up on <a href="https://github.com/rust-lang/rust-clippy/pull/8665">https://github.com/rust-lang/rust-clippy/pull/8665</a>?<br>
I did the rebase but the git diff looks very weird to me </p>
<p><a href="https://www.toptal.com/developers/hastebin/dolapucovi.rust">https://www.toptal.com/developers/hastebin/dolapucovi.rust</a><br>
this is the diff from my very first commit (<a href="https://github.com/rust-lang/rust/commit/a5907a5e5c23ab0182a85e06d1b541d4ea98d1ab">a5907a5e5c23ab0182a85e06d1b541d4ea98d1ab</a>), to HEAD,<br>
I do not understand all of these removals, why and how ?<br>
The process I have followed to make the rebase is the following : </p>
<ul>
<li>Executed "git rebase -i HEAD~5"</li>
<li>Moved the commit I wanted to rebase right next to the first commit (so looks like that):</li>
</ul>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">pick</span><span class="w"> </span><span class="mi">84</span><span class="n">ca62ad8</span><span class="w"> </span><span class="n">Introduce</span><span class="w"> </span><span class="n">option_take_on_temporary</span><span class="w"> </span><span class="n">lints</span><span class="w"></span>
<span class="n">squash</span><span class="w"> </span><span class="mi">68</span><span class="n">d61fb0d</span><span class="w"> </span><span class="n">Add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">description</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lint</span><span class="w"> </span><span class="n">declaration</span><span class="w"></span>
<span class="n">pick</span><span class="w"> </span><span class="n">d8b0d346b</span><span class="w"> </span><span class="n">Implement</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">expression</span><span class="w"></span>
<span class="n">pick</span><span class="w"> </span><span class="mf">0e7558</span><span class="n">d02</span><span class="w"> </span><span class="n">Swap</span><span class="w"> </span><span class="n">span_lint</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">span_lint_and_sugg</span><span class="w"></span>
<span class="n">pick</span><span class="w"> </span><span class="mi">9</span><span class="n">c5f8d068</span><span class="w"> </span><span class="n">Swap</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">category</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lint</span><span class="w"></span>
</code></pre></div>
<p>Then after that I proceeded to try to resolve the conflicts, and somehow ended up with the diff paste on top of the message</p>
<p>EDIT:<br>
after having made a copy of the working tree (as advised) and pushed the rebase to another branch on my fork, the final look : <a href="https://github.com/InfRandomness/rust-clippy/commits/test-branch">https://github.com/InfRandomness/rust-clippy/commits/test-branch</a><br>
it seems alright to me</p>



<a name="278428708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278428708" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278428708">(Apr 09 2022 at 20:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459607">infrandomness</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278417192">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="459607">infrandomness</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278344253">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="369415">xFrednet</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278341560">said</a>:</p>
<blockquote>
<p>You can take a look at <a href="https://crates.io/crates/compiletest_rs">compiletest-rs</a> if you want some more information <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>
</blockquote>
<p>I will check it out, thanks lots ! </p>
<p><a href="https://github.com/rust-lang/rust-clippy/pull/8665">https://github.com/rust-lang/rust-clippy/pull/8665</a></p>
</blockquote>
<p>May I follow up on <a href="https://github.com/rust-lang/rust-clippy/pull/8665">https://github.com/rust-lang/rust-clippy/pull/8665</a>?<br>
I did the rebase but the git diff looks very weird to me </p>
<p><a href="https://www.toptal.com/developers/hastebin/dolapucovi.rust">https://www.toptal.com/developers/hastebin/dolapucovi.rust</a><br>
this is the diff from my very first commit (<a href="https://github.com/rust-lang/rust/commit/a5907a5e5c23ab0182a85e06d1b541d4ea98d1ab">a5907a5e5c23ab0182a85e06d1b541d4ea98d1ab</a>), to HEAD,<br>
I do not understand all of these removals, why and how ?<br>
The process I have followed to make the rebase is the following : </p>
<ul>
<li>Executed "git rebase -i HEAD~5"</li>
<li>Moved the commit I wanted to rebase right next to the first commit (so looks like that):</li>
</ul>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">pick</span><span class="w"> </span><span class="mi">84</span><span class="n">ca62ad8</span><span class="w"> </span><span class="n">Introduce</span><span class="w"> </span><span class="n">option_take_on_temporary</span><span class="w"> </span><span class="n">lints</span><span class="w"></span>
<span class="n">squash</span><span class="w"> </span><span class="mi">68</span><span class="n">d61fb0d</span><span class="w"> </span><span class="n">Add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">description</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lint</span><span class="w"> </span><span class="n">declaration</span><span class="w"></span>
<span class="n">pick</span><span class="w"> </span><span class="n">d8b0d346b</span><span class="w"> </span><span class="n">Implement</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">expression</span><span class="w"></span>
<span class="n">pick</span><span class="w"> </span><span class="mf">0e7558</span><span class="n">d02</span><span class="w"> </span><span class="n">Swap</span><span class="w"> </span><span class="n">span_lint</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">span_lint_and_sugg</span><span class="w"></span>
<span class="n">pick</span><span class="w"> </span><span class="mi">9</span><span class="n">c5f8d068</span><span class="w"> </span><span class="n">Swap</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">category</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lint</span><span class="w"></span>
</code></pre></div>
<p>Then after that I proceeded to try to resolve the conflicts, and somehow ended up with the diff paste on top of the message</p>
<p>EDIT:<br>
after having made a copy of the working tree (as advised) and pushed the rebase to another branch on my fork, the final look : <a href="https://github.com/InfRandomness/rust-clippy/commits/test-branch">https://github.com/InfRandomness/rust-clippy/commits/test-branch</a><br>
it seems alright to me</p>
</blockquote>
<p>I'm following up here about <a href="https://github.com/rust-lang/rust-clippy/pull/8665#pullrequestreview-937164563">https://github.com/rust-lang/rust-clippy/pull/8665#pullrequestreview-937164563</a>, I didn't really understand</p>



<a name="278462591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278462591" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278462591">(Apr 10 2022 at 11:18)</a>:</h4>
<p>why is it I cannot use if-lets here?</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">fn</span> <span class="nf">has_expr_as_ref_path</span><span class="p">(</span><span class="n">cx</span>: <span class="kp">&amp;</span><span class="nc">LateContext</span><span class="o">&lt;'</span><span class="nb">_</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">expr</span>: <span class="kp">&amp;</span><span class="nc">Expr</span><span class="o">&lt;'</span><span class="nb">_</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">bool</span> <span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">ref_id</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cx</span><span class="p">.</span><span class="n">typeck_results</span><span class="p">().</span><span class="n">type_dependent_def_id</span><span class="p">(</span><span class="n">expr</span><span class="p">.</span><span class="n">hir_id</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">match_def_path</span><span class="p">(</span><span class="n">cx</span><span class="p">,</span><span class="w"> </span><span class="n">ref_id</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">paths</span>::<span class="n">ASREF_TRAIT</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">error</span>: <span class="nc">expected</span><span class="w"> </span><span class="err">`</span><span class="p">{</span><span class="err">`</span><span class="p">,</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="err">`</span><span class="p">;</span><span class="err">`</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span>-&gt; <span class="nc">clippy_lints</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">methods</span><span class="o">/</span><span class="n">option_take_on_temporary</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">38</span>:<span class="mi">81</span><span class="w"></span>
<span class="w">   </span><span class="o">|</span><span class="w"></span>
<span class="mi">38</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">if</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">ref_id</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cx</span><span class="p">.</span><span class="n">typeck_results</span><span class="p">().</span><span class="n">type_dependent_def_id</span><span class="p">(</span><span class="n">expr</span><span class="p">.</span><span class="n">hir_id</span><span class="p">);</span><span class="w"></span>
<span class="w">   </span><span class="o">|</span><span class="w">     </span><span class="o">--</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="err">`</span><span class="k">if</span><span class="err">`</span><span class="w"> </span><span class="n">expression</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">condition</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">block</span><span class="w">                       </span><span class="o">^</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="err">`</span><span class="p">{</span><span class="err">`</span><span class="w"></span>
</code></pre></div>



<a name="278466547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278466547" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278466547">(Apr 10 2022 at 12:49)</a>:</h4>
<p>Due to the semicolon, you can write it like this:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">ref_id</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cx</span><span class="p">.</span><span class="n">typeck_results</span><span class="p">().</span><span class="n">type_dependent_def_id</span><span class="p">(</span><span class="n">expr</span><span class="p">.</span><span class="n">hir_id</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">match_def_path</span><span class="p">(</span><span class="n">cx</span><span class="p">,</span><span class="w"> </span><span class="n">ref_id</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">paths</span>::<span class="n">ASREF_TRAIT</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>The semicolon looks like <code>if_chain</code> syntax</p>



<a name="278466938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278466938" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278466938">(Apr 10 2022 at 12:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369415">xFrednet</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278466547">said</a>:</p>
<blockquote>
<p>Due to the semicolon, you can write it like this:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">ref_id</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cx</span><span class="p">.</span><span class="n">typeck_results</span><span class="p">().</span><span class="n">type_dependent_def_id</span><span class="p">(</span><span class="n">expr</span><span class="p">.</span><span class="n">hir_id</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">match_def_path</span><span class="p">(</span><span class="n">cx</span><span class="p">,</span><span class="w"> </span><span class="n">ref_id</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">paths</span>::<span class="n">ASREF_TRAIT</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>The semicolon looks like <code>if_chain</code> syntax</p>
</blockquote>
<p>oh yeah, that's it</p>



<a name="278467228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278467228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278467228">(Apr 10 2022 at 13:04)</a>:</h4>
<p>okay so I wasn't sure my code was going to be semantically correct, but it seems like it is, so that's good; this is a lot harder of an undertaking I thought it would've been</p>



<a name="278467318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278467318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278467318">(Apr 10 2022 at 13:07)</a>:</h4>
<p>I only looked at the syntax, since that was your question from my understanding</p>



<a name="278467785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278467785" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278467785">(Apr 10 2022 at 13:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369415">xFrednet</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278467318">said</a>:</p>
<blockquote>
<p>I only looked at the syntax, since that was your question from my understanding</p>
</blockquote>
<p>yeah <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="278467872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278467872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278467872">(Apr 10 2022 at 13:20)</a>:</h4>
<p>Only thing is that for some reason my own test fails </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">failures</span>:
    <span class="p">[</span><span class="n">ui</span><span class="p">]</span><span class="w"> </span><span class="n">ui</span><span class="o">/</span><span class="n">option_take_on_temporary</span><span class="p">.</span><span class="n">rs</span><span class="w"></span>

<span class="n">test</span><span class="w"> </span><span class="n">result</span>: <span class="nc">FAILED</span><span class="p">.</span><span class="w"> </span><span class="mi">707</span><span class="w"> </span><span class="n">passed</span><span class="p">;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">failed</span><span class="p">;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">ignored</span><span class="p">;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">measured</span><span class="p">;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="n">out</span><span class="p">;</span><span class="w"> </span><span class="n">finished</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mf">13.12</span><span class="n">s</span><span class="w"></span>

<span class="n">test</span><span class="w"> </span><span class="n">compile_test</span><span class="w"> </span><span class="o">..</span><span class="p">.</span><span class="w"> </span><span class="n">FAILED</span><span class="w"></span>

<span class="n">failures</span>:

<span class="o">----</span><span class="w"> </span><span class="n">compile_test</span><span class="w"> </span><span class="n">stdout</span><span class="w"> </span><span class="o">----</span><span class="w"></span>
<span class="n">diff</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">stderr</span>:

<span class="o">-</span><span class="n">error</span>: <span class="nc">Called</span><span class="w"> </span><span class="err">`</span><span class="nb">Option</span>::<span class="n">take</span><span class="p">()</span><span class="err">`</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">temporary</span><span class="w"> </span><span class="n">value</span><span class="w"></span>
<span class="o">-</span><span class="w">  </span><span class="o">-</span>-&gt; <span class="cp">$DIR</span><span class="o">/</span><span class="n">option_take_on_temporary</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">6</span>:<span class="mi">5</span><span class="w"></span>
<span class="o">-</span><span class="w">   </span><span class="o">|</span><span class="w"></span>
<span class="o">-</span><span class="n">LL</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="n">x</span><span class="p">.</span><span class="n">as_ref</span><span class="p">().</span><span class="n">take</span><span class="p">();</span><span class="w"></span>
<span class="o">-</span><span class="w">   </span><span class="o">|</span><span class="w">     </span><span class="o">^^^^^^^^^^^^^^^^^</span><span class="w"> </span><span class="n">help</span>: <span class="nc">try</span>: <span class="err">`</span><span class="n">x</span><span class="p">.</span><span class="n">as_ref</span><span class="p">()</span><span class="err">`</span><span class="w"></span>
<span class="o">-</span><span class="w">   </span><span class="o">|</span><span class="w"></span>
<span class="o">-</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">note</span>: <span class="err">`</span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="n">clippy</span>::<span class="n">option</span><span class="o">-</span><span class="n">take</span><span class="o">-</span><span class="n">on</span><span class="o">-</span><span class="n">temporary</span><span class="err">`</span><span class="w"> </span><span class="n">implied</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="n">warnings</span><span class="err">`</span><span class="w"></span>
<span class="o">-</span><span class="w"></span>
<span class="o">-</span><span class="n">error</span>: <span class="nc">aborting</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">error</span><span class="w"></span>
<span class="o">-</span><span class="w"></span>
<span class="o">-</span><span class="w"></span>

<span class="n">The</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">stderr</span><span class="w"> </span><span class="n">differed</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">stderr</span><span class="p">.</span><span class="w"></span>
<span class="n">Actual</span><span class="w"> </span><span class="n">stderr</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">infrandomness</span><span class="o">/</span><span class="n">CLionProjects</span><span class="o">/</span><span class="n">rust</span><span class="o">-</span><span class="n">clippy</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">ui</span><span class="o">/</span><span class="n">option_take_on_temporary</span><span class="p">.</span><span class="n">stage</span><span class="o">-</span><span class="n">id</span><span class="p">.</span><span class="n">stderr</span><span class="w"></span>
<span class="n">To</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">references</span><span class="p">,</span><span class="w"> </span><span class="n">rerun</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tests</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">pass</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="err">`</span><span class="o">--</span><span class="n">bless</span><span class="err">`</span><span class="w"> </span><span class="n">flag</span><span class="w"></span>
<span class="n">To</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">test</span><span class="p">,</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">pass</span><span class="w"> </span><span class="err">`</span><span class="o">--</span><span class="n">test</span><span class="o">-</span><span class="n">args</span><span class="w"> </span><span class="n">option_take_on_temporary</span><span class="p">.</span><span class="n">rs</span><span class="err">`</span><span class="w"></span>
</code></pre></div>



<a name="278467933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278467933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278467933">(Apr 10 2022 at 13:22)</a>:</h4>
<p>actually I think my code doesn't work and the test isn't getting triggered</p>



<a name="278478828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278478828" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278478828">(Apr 10 2022 at 17:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459607">infrandomness</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278467933">said</a>:</p>
<blockquote>
<p>actually I think my code doesn't work and the lint isn't getting triggered</p>
</blockquote>
<p><span class="user-mention" data-user-id="369415">@xFrednet</span> do you mind taking a look ? I think I have fed the wrong Path to the match_def_path or simple didn't use the right function for the job but I'm not sure</p>



<a name="278480761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278480761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> xFrednet <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278480761">(Apr 10 2022 at 17:46)</a>:</h4>
<p>I can take a quick look, do you have a branch or draft PR?</p>



<a name="278481856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278481856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278481856">(Apr 10 2022 at 18:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="369415">xFrednet</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278480761">said</a>:</p>
<blockquote>
<p>I can take a quick look, do you have a branch or draft PR?</p>
</blockquote>
<p>here is the draft PR <a href="https://github.com/rust-lang/rust-clippy/pull/8665">https://github.com/rust-lang/rust-clippy/pull/8665</a></p>



<a name="278481921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278481921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278481921">(Apr 10 2022 at 18:10)</a>:</h4>
<p>oh a comment as been left</p>



<a name="278481928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278481928" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278481928">(Apr 10 2022 at 18:10)</a>:</h4>
<p>I did not see it, I had to reload the page for it to appear</p>



<a name="278486668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278486668" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278486668">(Apr 10 2022 at 19:54)</a>:</h4>
<p>This is so weird, the changes have apparently have reversed my lint's behavior, and altered some other lints stdout files<br>
I'm pretty sure this isn't wanted</p>



<a name="278717761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278717761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278717761">(Apr 12 2022 at 16:31)</a>:</h4>
<p>do you guys know why I can't push force push my rebase ?<br>
git is telling me that : </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">git</span><span class="w"> </span><span class="n">push</span><span class="w"> </span><span class="o">--</span><span class="n">force</span><span class="w"> </span><span class="n">fork</span><span class="w"> </span><span class="n">option_take_on_temporary</span><span class="w"></span>
<span class="n">Everything</span><span class="w"> </span><span class="n">up</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">date</span><span class="w"></span>
</code></pre></div>
<p>However, git log : </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">commit</span><span class="w"> </span><span class="mi">6</span><span class="n">f6ce999bc52009368617e386989fe85100527d8</span><span class="w"> </span><span class="p">(</span><span class="n">HEAD</span><span class="p">)</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">flip1995</span><span class="w"> </span><span class="o">&lt;</span><span class="n">philipp</span><span class="p">.</span><span class="n">krones</span><span class="o">@</span><span class="n">embecosm</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Tue</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">15</span>:<span class="mi">27</span>:<span class="mi">28</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0200</span><span class="w"></span>

<span class="w">    </span><span class="n">Prevent</span><span class="w"> </span><span class="n">infinite</span><span class="w"> </span><span class="p">(</span><span class="n">exponential</span><span class="p">)</span><span class="w"> </span><span class="n">recursion</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">only_used_in_recursion</span><span class="w"></span>

<span class="w">    </span><span class="n">This</span><span class="w"> </span><span class="n">simplifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">visitor</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">bit</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">prevents</span><span class="w"> </span><span class="n">checking</span><span class="w"> </span><span class="n">expressions</span><span class="w"></span>
<span class="w">    </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="p">.</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">think</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">lint</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">removed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">now</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">because</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">isn</span><span class="o">'</span><span class="na">t</span><span class="w"> </span><span class="n">really</span><span class="w"> </span><span class="n">tested</span><span class="p">.</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">49</span><span class="n">c9096e21aeacaab4a814e16cc31eb643130a93</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Jason</span><span class="w"> </span><span class="n">Newcomb</span><span class="w"> </span><span class="o">&lt;</span><span class="n">jsnewcomb</span><span class="o">@</span><span class="n">pm</span><span class="p">.</span><span class="n">me</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Mon</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">13</span>:<span class="mi">18</span>:<span class="mi">27</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">-</span><span class="mi">0400</span><span class="w"></span>

<span class="w">    </span><span class="n">Fix</span><span class="w"> </span><span class="n">ICE</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="err">`</span><span class="n">undocumented_unsafe_blocks</span><span class="err">`</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">9</span><span class="n">b74ed35c78f509846f49bd56e473d409d02fb1c</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">kyoto7250</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">50972773</span><span class="o">+</span><span class="n">kyoto7250</span><span class="o">@</span><span class="n">users</span><span class="p">.</span><span class="n">noreply</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Tue</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">09</span>:<span class="mi">49</span>:<span class="mi">00</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0900</span><span class="w"></span>

<span class="w">    </span><span class="n">refactor</span>: <span class="nc">Put</span><span class="w"> </span><span class="n">together</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">statement</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">22</span><span class="n">a2b2f6b7007665951fdde6769ed12fdcfae6e7</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">kyoto7250</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">50972773</span><span class="o">+</span><span class="n">kyoto7250</span><span class="o">@</span><span class="n">users</span><span class="p">.</span><span class="n">noreply</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Tue</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">04</span>:<span class="mi">03</span>:<span class="mi">48</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0900</span><span class="w"></span>

<span class="w">    </span><span class="n">adding</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">map_clone</span><span class="w"> </span><span class="n">message</span><span class="w"></span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">msrv</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1.36</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">tells</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">suggestion</span><span class="w"> </span><span class="n">is</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">39</span><span class="n">d48085aa119de91e63f65d2fa452f350c67ce5</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Peter</span><span class="w"> </span><span class="n">Jaszkowiak</span><span class="w"> </span><span class="o">&lt;</span><span class="n">p</span><span class="p">.</span><span class="n">jaszkow</span><span class="o">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Sat</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">15</span>:<span class="mi">01</span>:<span class="mi">07</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">-</span><span class="mi">0600</span><span class="w"></span>

<span class="w">    </span><span class="n">New</span><span class="w"> </span><span class="n">lint</span><span class="w"> </span><span class="err">`</span><span class="n">is_digit_ascii_radix</span><span class="err">`</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mf">6e150502779</span><span class="n">d142c3d2da40c1d06cb0b2c1d0e16</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Alex</span><span class="w"> </span><span class="n">Macleod</span><span class="w"> </span><span class="o">&lt;</span><span class="n">alex</span><span class="o">@</span><span class="n">macleod</span><span class="p">.</span><span class="n">io</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Mon</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">18</span>:<span class="mi">54</span>:<span class="mi">44</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0100</span><span class="w"></span>

<span class="w">    </span><span class="n">Fix</span><span class="w"> </span><span class="n">subtraction</span><span class="w"> </span><span class="n">overflow</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="err">`</span><span class="n">cast_possible_truncation</span><span class="err">`</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="n">cd7b5affb91c0ab829cc2d28344d07ddd3bb7b17</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Jason</span><span class="w"> </span><span class="n">Newcomb</span><span class="w"> </span><span class="o">&lt;</span><span class="n">jsnewcomb</span><span class="o">@</span><span class="n">pm</span><span class="p">.</span><span class="n">me</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Fri</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">16</span>:<span class="mi">51</span>:<span class="mi">40</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">-</span><span class="mi">0400</span><span class="w"></span>

<span class="w">    </span><span class="n">Don</span><span class="o">'</span><span class="na">t</span><span class="w"> </span><span class="n">lint</span><span class="w"> </span><span class="n">various</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">lints</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">expanded</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">proc</span><span class="o">-</span><span class="kr">macro</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">301929</span><span class="n">a25c36060cfe6f1e90925439158cc38c3f</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Jason</span><span class="w"> </span><span class="n">Newcomb</span><span class="w"> </span><span class="o">&lt;</span><span class="n">jsnewcomb</span><span class="o">@</span><span class="n">pm</span><span class="p">.</span><span class="n">me</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Sun</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">00</span>:<span class="mi">54</span>:<span class="mi">41</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">-</span><span class="mi">0400</span><span class="w"></span>

<span class="w">    </span><span class="n">Compare</span><span class="w"> </span><span class="n">inline</span><span class="w"> </span><span class="n">constants</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">bodies</span><span class="w"> </span><span class="n">rather</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="err">`</span><span class="n">SpanlessEq</span><span class="err">`</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="n">e08b7a0aa128856202e760b1e9467e491932580d</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Jason</span><span class="w"> </span><span class="n">Newcomb</span><span class="w"> </span><span class="o">&lt;</span><span class="n">jsnewcomb</span><span class="o">@</span><span class="n">pm</span><span class="p">.</span><span class="n">me</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Fri</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">23</span>:<span class="mi">15</span>:<span class="mi">18</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">-</span><span class="mi">0400</span><span class="w"></span>

<span class="w">    </span><span class="n">Don</span><span class="o">'</span><span class="na">t</span><span class="w"> </span><span class="n">lint</span><span class="w"> </span><span class="err">`</span><span class="n">iter_with_drain</span><span class="err">`</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">references</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">9</span><span class="n">d4e90114eefb11c9c611b92c0876a9545346c9b</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Yoav</span><span class="w"> </span><span class="n">Lavi</span><span class="w"> </span><span class="o">&lt;</span><span class="n">yoavlavi122</span><span class="o">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Mon</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">13</span>:<span class="mi">05</span>:<span class="mi">42</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0200</span><span class="w"></span>

<span class="w">    </span><span class="n">unnecessary_owned_empty_string</span><span class="w"> </span>-&gt; <span class="nc">unnecessary_owned_empty_strings</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">5466</span><span class="n">b0b93d60f2979bacfe440f5c3e25dee9a46e</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Yoav</span><span class="w"> </span><span class="n">Lavi</span><span class="w"> </span><span class="o">&lt;</span><span class="n">yoavlavi122</span><span class="o">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Thu</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">20</span>:<span class="mi">21</span>:<span class="mi">47</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0200</span><span class="w"></span>

<span class="w">    </span><span class="n">unnecessary_string_new</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="n">b905e6e8cb1034dd2a48971b9bf29a5019c738cb</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Andy</span><span class="w"> </span><span class="n">Kurnia</span><span class="w"> </span><span class="o">&lt;</span><span class="n">andykurn</span><span class="o">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Sun</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">01</span>:<span class="mi">07</span>:<span class="mi">01</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0800</span><span class="w"></span>

<span class="w">    </span><span class="n">fix</span><span class="w"> </span><span class="n">typo</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="n">b2fe61e1315b1b3b20174b6320fbcc3db04378ef</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Alex</span><span class="w"> </span><span class="n">Macleod</span><span class="w"> </span><span class="o">&lt;</span><span class="n">alex</span><span class="o">@</span><span class="n">macleod</span><span class="p">.</span><span class="n">io</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Mon</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">16</span>:<span class="mi">30</span>:<span class="mi">38</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0100</span><span class="w"></span>

<span class="w">    </span><span class="n">Remove</span><span class="w"> </span><span class="n">overlap</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="err">`</span><span class="n">manual_split_once</span><span class="err">`</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="err">`</span><span class="n">needless_splitn</span><span class="err">`</span><span class="w"></span>

<span class="w">    </span><span class="n">Also</span><span class="w"> </span><span class="n">fixes</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">incorrect</span><span class="w"> </span><span class="n">suggestions</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">rsplitn</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">3</span><span class="n">ea0a43a7024ff436fbbc95393af1442e3f7ccfa</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Yoav</span><span class="w"> </span><span class="n">Lavi</span><span class="w"> </span><span class="o">&lt;</span><span class="n">yoavlavi122</span><span class="o">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Fri</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">15</span>:<span class="mi">02</span>:<span class="mi">49</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0200</span><span class="w"></span>

<span class="w">    </span><span class="n">Allow</span><span class="w"> </span><span class="n">passing</span><span class="w"> </span><span class="o">--</span><span class="n">remove</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="err">`</span><span class="n">cargo</span><span class="w"> </span><span class="n">dev</span><span class="w"> </span><span class="n">setup</span><span class="w"> </span><span class="o">&lt;</span><span class="n">SUBCOMMAND</span><span class="o">&gt;</span><span class="err">`</span><span class="w"></span>

<span class="w">    </span><span class="n">add</span><span class="w"> </span><span class="n">missing</span><span class="w"> </span><span class="n">args</span><span class="w"></span>

<span class="w">    </span><span class="n">unque</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">needed</span><span class="w"></span>

<span class="w">    </span><span class="n">more</span><span class="w"> </span><span class="n">descriptive</span><span class="w"> </span><span class="n">help</span><span class="w"></span>

<span class="w">    </span><span class="n">formatting</span><span class="w"> </span><span class="n">fixes</span><span class="w"></span>

<span class="w">    </span><span class="n">missing</span><span class="w"> </span><span class="n">quote</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="n">c3a47741236aab11e5c604b7a307fab65930162e</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">kyoto7250</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">50972773</span><span class="o">+</span><span class="n">kyoto7250</span><span class="o">@</span><span class="n">users</span><span class="p">.</span><span class="n">noreply</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Sat</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="mi">20</span>:<span class="mi">34</span>:<span class="mi">43</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0900</span><span class="w"></span>

<span class="w">    </span><span class="n">fix</span><span class="w"> </span><span class="n">comments</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">split_once</span><span class="w"></span>

<span class="w">    </span><span class="n">split_once</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">stabilized</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mf">1.52</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="n">ccab86935d637f76872199dd509cdf3823316258</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Jason</span><span class="w"> </span><span class="n">Newcomb</span><span class="w"> </span><span class="o">&lt;</span><span class="n">jsnewcomb</span><span class="o">@</span><span class="n">pm</span><span class="p">.</span><span class="n">me</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Wed</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">11</span>:<span class="mi">57</span>:<span class="mi">55</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">-</span><span class="mi">0400</span><span class="w"></span>

<span class="w">    </span><span class="n">Better</span><span class="w"> </span><span class="n">check</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">alignment</span><span class="w"> </span><span class="n">requirements</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="err">`</span><span class="n">unsound_collection_transmute</span><span class="err">`</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">1</span><span class="n">c3f54448dc7b7b4ad12841e4c9079d197d5cbd3</span><span class="w"> </span><span class="p">(</span><span class="n">fork</span><span class="o">/</span><span class="n">option_take_on_temporary</span><span class="p">,</span><span class="w"> </span><span class="n">option_take_on_temporary</span><span class="p">)</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">infrandomness</span><span class="w"> </span><span class="o">&lt;</span><span class="n">infrandomness</span><span class="o">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Mon</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">17</span>:<span class="mi">15</span>:<span class="mi">53</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0200</span><span class="w"></span>

<span class="w">    </span><span class="n">Modify</span><span class="w"> </span><span class="n">lint</span><span class="w"> </span><span class="n">description</span><span class="w"></span>
</code></pre></div>



<a name="278718363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278718363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278718363">(Apr 12 2022 at 16:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459607">infrandomness</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278717761">said</a>:</p>
<blockquote>
<p>do you guys know why I can't push force push my rebase ?<br>
git is telling me that : </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">git</span><span class="w"> </span><span class="n">push</span><span class="w"> </span><span class="o">--</span><span class="n">force</span><span class="w"> </span><span class="n">fork</span><span class="w"> </span><span class="n">option_take_on_temporary</span><span class="w"></span>
<span class="n">Everything</span><span class="w"> </span><span class="n">up</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">date</span><span class="w"></span>
</code></pre></div>
<p>However, git log : </p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">commit</span><span class="w"> </span><span class="mi">6</span><span class="n">f6ce999bc52009368617e386989fe85100527d8</span><span class="w"> </span><span class="p">(</span><span class="n">HEAD</span><span class="p">)</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">flip1995</span><span class="w"> </span><span class="o">&lt;</span><span class="n">philipp</span><span class="p">.</span><span class="n">krones</span><span class="o">@</span><span class="n">embecosm</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Tue</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">15</span>:<span class="mi">27</span>:<span class="mi">28</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0200</span><span class="w"></span>

<span class="w">    </span><span class="n">Prevent</span><span class="w"> </span><span class="n">infinite</span><span class="w"> </span><span class="p">(</span><span class="n">exponential</span><span class="p">)</span><span class="w"> </span><span class="n">recursion</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">only_used_in_recursion</span><span class="w"></span>

<span class="w">    </span><span class="n">This</span><span class="w"> </span><span class="n">simplifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">visitor</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">bit</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">prevents</span><span class="w"> </span><span class="n">checking</span><span class="w"> </span><span class="n">expressions</span><span class="w"></span>
<span class="w">    </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="p">.</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">think</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">lint</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">removed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">now</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">because</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">isn</span><span class="o">'</span><span class="na">t</span><span class="w"> </span><span class="n">really</span><span class="w"> </span><span class="n">tested</span><span class="p">.</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">49</span><span class="n">c9096e21aeacaab4a814e16cc31eb643130a93</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Jason</span><span class="w"> </span><span class="n">Newcomb</span><span class="w"> </span><span class="o">&lt;</span><span class="n">jsnewcomb</span><span class="o">@</span><span class="n">pm</span><span class="p">.</span><span class="n">me</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Mon</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">13</span>:<span class="mi">18</span>:<span class="mi">27</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">-</span><span class="mi">0400</span><span class="w"></span>

<span class="w">    </span><span class="n">Fix</span><span class="w"> </span><span class="n">ICE</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="err">`</span><span class="n">undocumented_unsafe_blocks</span><span class="err">`</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">9</span><span class="n">b74ed35c78f509846f49bd56e473d409d02fb1c</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">kyoto7250</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">50972773</span><span class="o">+</span><span class="n">kyoto7250</span><span class="o">@</span><span class="n">users</span><span class="p">.</span><span class="n">noreply</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Tue</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">09</span>:<span class="mi">49</span>:<span class="mi">00</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0900</span><span class="w"></span>

<span class="w">    </span><span class="n">refactor</span>: <span class="nc">Put</span><span class="w"> </span><span class="n">together</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">statement</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">22</span><span class="n">a2b2f6b7007665951fdde6769ed12fdcfae6e7</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">kyoto7250</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">50972773</span><span class="o">+</span><span class="n">kyoto7250</span><span class="o">@</span><span class="n">users</span><span class="p">.</span><span class="n">noreply</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Tue</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">04</span>:<span class="mi">03</span>:<span class="mi">48</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0900</span><span class="w"></span>

<span class="w">    </span><span class="n">adding</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">map_clone</span><span class="w"> </span><span class="n">message</span><span class="w"></span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">msrv</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1.36</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">tells</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">suggestion</span><span class="w"> </span><span class="n">is</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">39</span><span class="n">d48085aa119de91e63f65d2fa452f350c67ce5</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Peter</span><span class="w"> </span><span class="n">Jaszkowiak</span><span class="w"> </span><span class="o">&lt;</span><span class="n">p</span><span class="p">.</span><span class="n">jaszkow</span><span class="o">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Sat</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">15</span>:<span class="mi">01</span>:<span class="mi">07</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">-</span><span class="mi">0600</span><span class="w"></span>

<span class="w">    </span><span class="n">New</span><span class="w"> </span><span class="n">lint</span><span class="w"> </span><span class="err">`</span><span class="n">is_digit_ascii_radix</span><span class="err">`</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mf">6e150502779</span><span class="n">d142c3d2da40c1d06cb0b2c1d0e16</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Alex</span><span class="w"> </span><span class="n">Macleod</span><span class="w"> </span><span class="o">&lt;</span><span class="n">alex</span><span class="o">@</span><span class="n">macleod</span><span class="p">.</span><span class="n">io</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Mon</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">18</span>:<span class="mi">54</span>:<span class="mi">44</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0100</span><span class="w"></span>

<span class="w">    </span><span class="n">Fix</span><span class="w"> </span><span class="n">subtraction</span><span class="w"> </span><span class="n">overflow</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="err">`</span><span class="n">cast_possible_truncation</span><span class="err">`</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="n">cd7b5affb91c0ab829cc2d28344d07ddd3bb7b17</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Jason</span><span class="w"> </span><span class="n">Newcomb</span><span class="w"> </span><span class="o">&lt;</span><span class="n">jsnewcomb</span><span class="o">@</span><span class="n">pm</span><span class="p">.</span><span class="n">me</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Fri</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">16</span>:<span class="mi">51</span>:<span class="mi">40</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">-</span><span class="mi">0400</span><span class="w"></span>

<span class="w">    </span><span class="n">Don</span><span class="o">'</span><span class="na">t</span><span class="w"> </span><span class="n">lint</span><span class="w"> </span><span class="n">various</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">lints</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">expanded</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">proc</span><span class="o">-</span><span class="kr">macro</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">301929</span><span class="n">a25c36060cfe6f1e90925439158cc38c3f</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Jason</span><span class="w"> </span><span class="n">Newcomb</span><span class="w"> </span><span class="o">&lt;</span><span class="n">jsnewcomb</span><span class="o">@</span><span class="n">pm</span><span class="p">.</span><span class="n">me</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Sun</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">00</span>:<span class="mi">54</span>:<span class="mi">41</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">-</span><span class="mi">0400</span><span class="w"></span>

<span class="w">    </span><span class="n">Compare</span><span class="w"> </span><span class="n">inline</span><span class="w"> </span><span class="n">constants</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">bodies</span><span class="w"> </span><span class="n">rather</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="err">`</span><span class="n">SpanlessEq</span><span class="err">`</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="n">e08b7a0aa128856202e760b1e9467e491932580d</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Jason</span><span class="w"> </span><span class="n">Newcomb</span><span class="w"> </span><span class="o">&lt;</span><span class="n">jsnewcomb</span><span class="o">@</span><span class="n">pm</span><span class="p">.</span><span class="n">me</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Fri</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">23</span>:<span class="mi">15</span>:<span class="mi">18</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">-</span><span class="mi">0400</span><span class="w"></span>

<span class="w">    </span><span class="n">Don</span><span class="o">'</span><span class="na">t</span><span class="w"> </span><span class="n">lint</span><span class="w"> </span><span class="err">`</span><span class="n">iter_with_drain</span><span class="err">`</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">references</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">9</span><span class="n">d4e90114eefb11c9c611b92c0876a9545346c9b</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Yoav</span><span class="w"> </span><span class="n">Lavi</span><span class="w"> </span><span class="o">&lt;</span><span class="n">yoavlavi122</span><span class="o">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Mon</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">13</span>:<span class="mi">05</span>:<span class="mi">42</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0200</span><span class="w"></span>

<span class="w">    </span><span class="n">unnecessary_owned_empty_string</span><span class="w"> </span>-&gt; <span class="nc">unnecessary_owned_empty_strings</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">5466</span><span class="n">b0b93d60f2979bacfe440f5c3e25dee9a46e</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Yoav</span><span class="w"> </span><span class="n">Lavi</span><span class="w"> </span><span class="o">&lt;</span><span class="n">yoavlavi122</span><span class="o">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Thu</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">20</span>:<span class="mi">21</span>:<span class="mi">47</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0200</span><span class="w"></span>

<span class="w">    </span><span class="n">unnecessary_string_new</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="n">b905e6e8cb1034dd2a48971b9bf29a5019c738cb</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Andy</span><span class="w"> </span><span class="n">Kurnia</span><span class="w"> </span><span class="o">&lt;</span><span class="n">andykurn</span><span class="o">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Sun</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">01</span>:<span class="mi">07</span>:<span class="mi">01</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0800</span><span class="w"></span>

<span class="w">    </span><span class="n">fix</span><span class="w"> </span><span class="n">typo</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="n">b2fe61e1315b1b3b20174b6320fbcc3db04378ef</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Alex</span><span class="w"> </span><span class="n">Macleod</span><span class="w"> </span><span class="o">&lt;</span><span class="n">alex</span><span class="o">@</span><span class="n">macleod</span><span class="p">.</span><span class="n">io</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Mon</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">16</span>:<span class="mi">30</span>:<span class="mi">38</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0100</span><span class="w"></span>

<span class="w">    </span><span class="n">Remove</span><span class="w"> </span><span class="n">overlap</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="err">`</span><span class="n">manual_split_once</span><span class="err">`</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="err">`</span><span class="n">needless_splitn</span><span class="err">`</span><span class="w"></span>

<span class="w">    </span><span class="n">Also</span><span class="w"> </span><span class="n">fixes</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">incorrect</span><span class="w"> </span><span class="n">suggestions</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">rsplitn</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">3</span><span class="n">ea0a43a7024ff436fbbc95393af1442e3f7ccfa</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Yoav</span><span class="w"> </span><span class="n">Lavi</span><span class="w"> </span><span class="o">&lt;</span><span class="n">yoavlavi122</span><span class="o">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Fri</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">15</span>:<span class="mi">02</span>:<span class="mi">49</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0200</span><span class="w"></span>

<span class="w">    </span><span class="n">Allow</span><span class="w"> </span><span class="n">passing</span><span class="w"> </span><span class="o">--</span><span class="n">remove</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="err">`</span><span class="n">cargo</span><span class="w"> </span><span class="n">dev</span><span class="w"> </span><span class="n">setup</span><span class="w"> </span><span class="o">&lt;</span><span class="n">SUBCOMMAND</span><span class="o">&gt;</span><span class="err">`</span><span class="w"></span>

<span class="w">    </span><span class="n">add</span><span class="w"> </span><span class="n">missing</span><span class="w"> </span><span class="n">args</span><span class="w"></span>

<span class="w">    </span><span class="n">unque</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">needed</span><span class="w"></span>

<span class="w">    </span><span class="n">more</span><span class="w"> </span><span class="n">descriptive</span><span class="w"> </span><span class="n">help</span><span class="w"></span>

<span class="w">    </span><span class="n">formatting</span><span class="w"> </span><span class="n">fixes</span><span class="w"></span>

<span class="w">    </span><span class="n">missing</span><span class="w"> </span><span class="n">quote</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="n">c3a47741236aab11e5c604b7a307fab65930162e</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">kyoto7250</span><span class="w"> </span><span class="o">&lt;</span><span class="mi">50972773</span><span class="o">+</span><span class="n">kyoto7250</span><span class="o">@</span><span class="n">users</span><span class="p">.</span><span class="n">noreply</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Sat</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="mi">20</span>:<span class="mi">34</span>:<span class="mi">43</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0900</span><span class="w"></span>

<span class="w">    </span><span class="n">fix</span><span class="w"> </span><span class="n">comments</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">split_once</span><span class="w"></span>

<span class="w">    </span><span class="n">split_once</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">stabilized</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mf">1.52</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="n">ccab86935d637f76872199dd509cdf3823316258</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">Jason</span><span class="w"> </span><span class="n">Newcomb</span><span class="w"> </span><span class="o">&lt;</span><span class="n">jsnewcomb</span><span class="o">@</span><span class="n">pm</span><span class="p">.</span><span class="n">me</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Wed</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">11</span>:<span class="mi">57</span>:<span class="mi">55</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">-</span><span class="mi">0400</span><span class="w"></span>

<span class="w">    </span><span class="n">Better</span><span class="w"> </span><span class="n">check</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">alignment</span><span class="w"> </span><span class="n">requirements</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="err">`</span><span class="n">unsound_collection_transmute</span><span class="err">`</span><span class="w"></span>

<span class="n">commit</span><span class="w"> </span><span class="mi">1</span><span class="n">c3f54448dc7b7b4ad12841e4c9079d197d5cbd3</span><span class="w"> </span><span class="p">(</span><span class="n">fork</span><span class="o">/</span><span class="n">option_take_on_temporary</span><span class="p">,</span><span class="w"> </span><span class="n">option_take_on_temporary</span><span class="p">)</span><span class="w"></span>
<span class="n">Author</span>: <span class="nc">infrandomness</span><span class="w"> </span><span class="o">&lt;</span><span class="n">infrandomness</span><span class="o">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Date</span>:   <span class="nc">Mon</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">17</span>:<span class="mi">15</span>:<span class="mi">53</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="o">+</span><span class="mi">0200</span><span class="w"></span>

<span class="w">    </span><span class="n">Modify</span><span class="w"> </span><span class="n">lint</span><span class="w"> </span><span class="n">description</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>
<p>git status seems unusual :</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">git</span><span class="w"> </span><span class="n">status</span><span class="w"></span>
<span class="n">HEAD</span><span class="w"> </span><span class="n">detached</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="mi">0</span><span class="n">c2f4ef66</span><span class="w"></span>
<span class="n">Untracked</span><span class="w"> </span><span class="n">files</span>:
  <span class="p">(</span><span class="k">use</span><span class="w"> </span><span class="s">"git add &lt;file&gt;..."</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">committed</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="o">*</span><span class="w"></span>

<span class="n">nothing</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">untracked</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">present</span><span class="w"> </span><span class="p">(</span><span class="k">use</span><span class="w"> </span><span class="s">"git add"</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">track</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>what's up with that?</p>



<a name="278719731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278719731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278719731">(Apr 12 2022 at 16:46)</a>:</h4>
<p><a href="https://stackoverflow.com/questions/10228760/how-do-i-fix-a-git-detached-head">https://stackoverflow.com/questions/10228760/how-do-i-fix-a-git-detached-head</a></p>



<a name="278720274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278720274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278720274">(Apr 12 2022 at 16:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint/near/278719731">said</a>:</p>
<blockquote>
<p><a href="https://stackoverflow.com/questions/10228760/how-do-i-fix-a-git-detached-head">https://stackoverflow.com/questions/10228760/how-do-i-fix-a-git-detached-head</a></p>
</blockquote>
<p>I lost the rebased content and now it says my branch is up to date when I try to rebase again ._.</p>



<a name="278720511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278720511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278720511">(Apr 12 2022 at 16:52)</a>:</h4>
<p>try <code>git reflog</code></p>



<a name="278720525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278720525" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278720525">(Apr 12 2022 at 16:52)</a>:</h4>
<p>it has everything even if it's not on a branch</p>



<a name="278722699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278722699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278722699">(Apr 12 2022 at 17:08)</a>:</h4>
<p>Okay; fixed, thanks</p>



<a name="278722841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278722841" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278722841">(Apr 12 2022 at 17:09)</a>:</h4>
<p>Is this snippet supposed to be called out by my lint ? </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"Testing non erroneous option_take_on_temporary"</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="nb">Box</span>::<span class="n">new</span><span class="p">(</span><span class="k">move</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">option</span><span class="p">.</span><span class="n">take</span><span class="p">().</span><span class="n">unwrap</span><span class="p">());</span><span class="w"></span>
</code></pre></div>
<p>I'm trying to get around to making a snippet in my tests that wouldn't be a temporary</p>



<a name="278722954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Option%3A%3Atake%20on%20a%20temporary%20lint/near/278722954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> infrandomness <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Option.3A.3Atake.20on.20a.20temporary.20lint.html#278722954">(Apr 12 2022 at 17:10)</a>:</h4>
<p>but I'm not really sure what this code does : <a href="https://github.com/rust-lang/rust-clippy/blob/c7e68638431b2a6639fcbeb44de790619de3b9b1/tests/ui/eta.rs#L118">https://github.com/rust-lang/rust-clippy/blob/c7e68638431b2a6639fcbeb44de790619de3b9b1/tests/ui/eta.rs#L118</a> (stole it from there)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>