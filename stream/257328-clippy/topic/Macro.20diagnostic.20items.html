<html>
<head><meta charset="utf-8"><title>Macro diagnostic items · clippy · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/index.html">clippy</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Macro.20diagnostic.20items.html">Macro diagnostic items</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="266448988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Macro%20diagnostic%20items/near/266448988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Macleod <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Macro.20diagnostic.20items.html#266448988">(Dec 30 2021 at 18:42)</a>:</h4>
<p>Hi, I was looking into adding diagnostic items for some macros, e.g. for <a href="https://github.com/rust-lang/rust-clippy/issues/7195">https://github.com/rust-lang/rust-clippy/issues/7195</a> when I wondered if that's desired or not</p>
<p>Is there a preference between using the macro name (allows linting user supplied macros, <em>but</em> that could be a FP) and a diagnostic item?</p>



<a name="266457424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Macro%20diagnostic%20items/near/266457424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Macro.20diagnostic.20items.html#266457424">(Dec 30 2021 at 20:53)</a>:</h4>
<p>I think we <em>should</em> be using diagnostic items. That would be great if they were added to all the macros in std.</p>



<a name="266457443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Macro%20diagnostic%20items/near/266457443" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Macro.20diagnostic.20items.html#266457443">(Dec 30 2021 at 20:53)</a>:</h4>
<p>We have some, like <code>assert_macro</code></p>



<a name="266508095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Macro%20diagnostic%20items/near/266508095" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Macro.20diagnostic.20items.html#266508095">(Dec 31 2021 at 15:05)</a>:</h4>
<p>I also I have been working on macro-related utils. One side goal is to make it easier to check the <code>DefId</code> of the macro.</p>



<a name="266748849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Macro%20diagnostic%20items/near/266748849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Macro.20diagnostic.20items.html#266748849">(Jan 03 2022 at 23:21)</a>:</h4>
<p>...and I opened a PR at <a href="https://github.com/rust-lang/rust-clippy/issues/8219">rust-lang/rust-clippy#8219</a>. Using diagnostic items is still to-do.</p>



<a name="266931137"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Macro%20diagnostic%20items/near/266931137" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Macleod <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Macro.20diagnostic.20items.html#266931137">(Jan 05 2022 at 12:51)</a>:</h4>
<p>Those look great! I have a change locally that would add diagnostic items for all the macros used in clippy, just wanted to give it some days in case anybody thought it best to stick with names. I'll probably submit it in the next few days if not</p>



<a name="267096091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Macro%20diagnostic%20items/near/267096091" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Macleod <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Macro.20diagnostic.20items.html#267096091">(Jan 06 2022 at 18:27)</a>:</h4>
<p>Opened the PR to rust - <a href="https://github.com/rust-lang/rust/issues/92619">#92619</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>