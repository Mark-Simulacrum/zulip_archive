<html>
<head><meta charset="utf-8"><title>Trouble with `undocumented_unsafe_blocks` · clippy · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/index.html">clippy</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Trouble.20with.20.60undocumented_unsafe_blocks.60.html">Trouble with `undocumented_unsafe_blocks`</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="269602003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Trouble%20with%20%60undocumented_unsafe_blocks%60/near/269602003" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Trouble.20with.20.60undocumented_unsafe_blocks.60.html#269602003">(Jan 27 2022 at 16:55)</a>:</h4>
<p>With this commit <a href="https://github.com/pierwill/influxdb_iox/commit/42c2c71fec4d074ea3af3cd42cfbdfe5838be973">https://github.com/pierwill/influxdb_iox/commit/42c2c71fec4d074ea3af3cd42cfbdfe5838be973</a> I'm still getting errors from <code>undocumented_unsafe_blocks</code> when I run <code>cargo clippy -- -Dclippy::undocumented-unsafe-blocks</code>. I think this might be a bug in the clippy lint? I can't figure out what's wrong :(</p>



<a name="269605180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Trouble%20with%20%60undocumented_unsafe_blocks%60/near/269605180" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Trouble.20with.20.60undocumented_unsafe_blocks.60.html#269605180">(Jan 27 2022 at 17:14)</a>:</h4>
<p>I can't reproduce this, neither on <a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=f1f31ccdb2091ca583c025b5a6dfb655">Playground</a> nor locally. This should not emit a warning.</p>



<a name="269606937"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Trouble%20with%20%60undocumented_unsafe_blocks%60/near/269606937" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Trouble.20with.20.60undocumented_unsafe_blocks.60.html#269606937">(Jan 27 2022 at 17:26)</a>:</h4>
<p>Yeah I can't repro it outside this one project either <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="269606995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Trouble%20with%20%60undocumented_unsafe_blocks%60/near/269606995" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Trouble.20with.20.60undocumented_unsafe_blocks.60.html#269606995">(Jan 27 2022 at 17:26)</a>:</h4>
<p>You tried clippy locally?</p>



<a name="269607050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Trouble%20with%20%60undocumented_unsafe_blocks%60/near/269607050" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Trouble.20with.20.60undocumented_unsafe_blocks.60.html#269607050">(Jan 27 2022 at 17:27)</a>:</h4>
<p>It's happening in our CI too, which is weird...</p>



<a name="269607269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Trouble%20with%20%60undocumented_unsafe_blocks%60/near/269607269" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pierwill <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Trouble.20with.20.60undocumented_unsafe_blocks.60.html#269607269">(Jan 27 2022 at 17:28)</a>:</h4>
<p>Grrrr! lol</p>



<a name="269621233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Trouble%20with%20%60undocumented_unsafe_blocks%60/near/269621233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Trouble.20with.20.60undocumented_unsafe_blocks.60.html#269621233">(Jan 27 2022 at 19:02)</a>:</h4>
<p>My only guess is, that you're using cached builds in CI. If that is the cause for this, that would be bad.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>