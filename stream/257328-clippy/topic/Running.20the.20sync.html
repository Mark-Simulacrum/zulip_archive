<html>
<head><meta charset="utf-8"><title>Running the sync · clippy · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/index.html">clippy</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html">Running the sync</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="224343512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224343512" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224343512">(Jan 28 2021 at 15:39)</a>:</h4>
<p>I'll perform the sync tonight</p>



<a name="224345634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224345634" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224345634">(Jan 28 2021 at 15:51)</a>:</h4>
<p>(I could also do the sync.) We're just waiting for <a href="https://github.com/rust-lang/rust/pull/81176">https://github.com/rust-lang/rust/pull/81176</a> to get merged. Otherwise one PR will probably get an ugly merge conflict.</p>



<a name="224352834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224352834" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224352834">(Jan 28 2021 at 16:34)</a>:</h4>
<p>ah I see. I'm having trouble getting the cache set up, even with the raised ulimit I got a segfault</p>



<a name="224360328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224360328" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224360328">(Jan 28 2021 at 17:17)</a>:</h4>
<p>to which commit did you get before the segfault?</p>



<a name="224364725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224364725" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224364725">(Jan 28 2021 at 17:44)</a>:</h4>
<p>Does it say?</p>



<a name="224364777"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224364777" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224364777">(Jan 28 2021 at 17:44)</a>:</h4>
<p>it didn't for me</p>



<a name="224364854"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224364854" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224364854">(Jan 28 2021 at 17:45)</a>:</h4>
<p>There should a counter go up. Looks like <code>`2974/16034 (1204)</code></p>



<a name="224364901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224364901" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224364901">(Jan 28 2021 at 17:45)</a>:</h4>
<p>Only for  <code>git subtree push</code> though.</p>



<a name="224364906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224364906" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224364906">(Jan 28 2021 at 17:45)</a>:</h4>
<p>ah yeah. it doesn't show the number now, there was one though</p>



<a name="224365231"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224365231" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224365231">(Jan 28 2021 at 17:47)</a>:</h4>
<p>When building the cache, it first stops at <code>19/16034</code> (or something similar) and the number in the parentheses goes up to ~9000 and then the first number starts to go up again.</p>



<a name="224377831"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224377831" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224377831">(Jan 28 2021 at 19:15)</a>:</h4>
<p>Currently at <code>1/17623 (10293) [10293]</code></p>



<a name="224377872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224377872" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224377872">(Jan 28 2021 at 19:15)</a>:</h4>
<p>it's moving _very_ slowly</p>



<a name="224379905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224379905" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224379905">(Jan 28 2021 at 19:28)</a>:</h4>
<p>yeah and building the cache takes longer and longer the more commits get synced. (The 17623 number going up). We can do a resync resetting this number, but then every (synthetic) commit will appear twice in <code>git log</code>.</p>



<a name="224380095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224380095" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224380095">(Jan 28 2021 at 19:30)</a>:</h4>
<p>has there been work on making the git code conserve fds?</p>



<a name="224380170"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224380170" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224380170">(Jan 28 2021 at 19:30)</a>:</h4>
<p>fds?</p>



<a name="224399664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224399664" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224399664">(Jan 28 2021 at 22:04)</a>:</h4>
<p>file descriptors</p>



<a name="224399696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224399696" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224399696">(Jan 28 2021 at 22:05)</a>:</h4>
<p>it's _still running_ lol but it didn't crash this time</p>



<a name="224440203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224440203" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224440203">(Jan 29 2021 at 08:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="132040">Manish Goregaokar</span> <a href="#narrow/stream/257328-clippy/topic/Running.20the.20sync/near/224380095">said</a>:</p>
<blockquote>
<p>has there been work on making the git code conserve fds?</p>
</blockquote>
<p>I don't know.</p>



<a name="224440276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224440276" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224440276">(Jan 29 2021 at 08:04)</a>:</h4>
<p>Oh that is really long. Last time I did it, it only took an hour or so.</p>



<a name="224440390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224440390" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224440390">(Jan 29 2021 at 08:06)</a>:</h4>
<p>Maybe we should consider moving to <code>subrepo</code>. It's an external tool, but to use <code>subtree</code> a patch has to be installed anyway. Also I prefer installing an external tool rather than waiting a few hous before I can use a (patched) tool. That being said, I don't know if a move to subrepo is still possible...</p>



<a name="224469801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224469801" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224469801">(Jan 29 2021 at 13:28)</a>:</h4>
<p>Ah nevermind. subrepo doesn't preserve history. I always forget about that....</p>



<a name="224495710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224495710" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224495710">(Jan 29 2021 at 16:20)</a>:</h4>
<p>I got it to work!!</p>



<a name="224496008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224496008" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224496008">(Jan 29 2021 at 16:22)</a>:</h4>
<p>it ran for 18 hours for me</p>



<a name="224496057"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224496057" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224496057">(Jan 29 2021 at 16:23)</a>:</h4>
<p><span class="user-mention" data-user-id="264664">@flip1995</span> hmm, and it's running for really long _again_</p>



<a name="224496082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224496082" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224496082">(Jan 29 2021 at 16:23)</a>:</h4>
<p>i thought it caches</p>



<a name="224496169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224496169" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224496169">(Jan 29 2021 at 16:23)</a>:</h4>
<p>Yay!</p>
<p>Oh wow, this is insane.</p>
<p>long time as in hours or as seconds/minutes?</p>



<a name="224496295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224496295" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224496295">(Jan 29 2021 at 16:24)</a>:</h4>
<p>it's only been running for minutes. how long does it usually take?</p>



<a name="224496344"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224496344" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224496344">(Jan 29 2021 at 16:24)</a>:</h4>
<p>there _is_ a cache though</p>



<a name="224496367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224496367" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224496367">(Jan 29 2021 at 16:25)</a>:</h4>
<p>For me it only counts up the first number and then it only takes about 30 seconds</p>



<a name="224496398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224496398" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224496398">(Jan 29 2021 at 16:25)</a>:</h4>
<p>ah, it's very slow counting up to the first number for me</p>



<a name="224496462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224496462" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224496462">(Jan 29 2021 at 16:25)</a>:</h4>
<p>happened the first time too, it took forever to count up to thhe first number and then it sped through the rest</p>



<a name="224496479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224496479" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224496479">(Jan 29 2021 at 16:25)</a>:</h4>
<p>from whati can tell from the logs, i was asleep</p>



<a name="224496744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224496744" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224496744">(Jan 29 2021 at 16:27)</a>:</h4>
<p>That is weird. for me the first number counts up like 100-500 per second. This means subtree is checking the cache</p>



<a name="224498029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224498029" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224498029">(Jan 29 2021 at 16:34)</a>:</h4>
<p>i do see a cache that it has built</p>



<a name="224498053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224498053" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224498053">(Jan 29 2021 at 16:35)</a>:</h4>
<p>it's big</p>



<a name="224498165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224498165" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224498165">(Jan 29 2021 at 16:35)</a>:</h4>
<p><span class="user-mention" data-user-id="264664">@flip1995</span> anyway go ahead and do the sync, this will be a while i think</p>



<a name="224498606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224498606" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224498606">(Jan 29 2021 at 16:38)</a>:</h4>
<p>Yeah. I want to do the sync tomorrow, since the PR we were waiting for didn't make it in today's nightly.</p>



<a name="224498897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224498897" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224498897">(Jan 29 2021 at 16:39)</a>:</h4>
<p>ahh</p>



<a name="224957448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224957448" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224957448">(Feb 03 2021 at 00:23)</a>:</h4>
<p>I'm going to do another sync, I think I got my setup working, approvals appreciated: <a href="https://github.com/rust-lang/rust-clippy/pull/6666">https://github.com/rust-lang/rust-clippy/pull/6666</a></p>



<a name="224957533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224957533" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224957533">(Feb 03 2021 at 00:24)</a>:</h4>
<p>wait there's a conflict</p>



<a name="224958046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224958046" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224958046">(Feb 03 2021 at 00:31)</a>:</h4>
<p><span class="user-mention" data-user-id="264664">@flip1995</span> is it expected that <code>git merge</code> will be super conflicty?</p>



<a name="224964153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224964153" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224964153">(Feb 03 2021 at 01:52)</a>:</h4>
<p>i had a bunch of conflicts where most of it was there on both sides but not hte middle</p>



<a name="224971165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224971165" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224971165">(Feb 03 2021 at 03:59)</a>:</h4>
<p>Close to being done! I forgot that the nightly date and the rust date are different &gt;_&lt;</p>



<a name="224973310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224973310" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224973310">(Feb 03 2021 at 04:50)</a>:</h4>
<p>Alright, need an r+ on <a href="https://github.com/rust-lang/rust/pull/81692">https://github.com/rust-lang/rust/pull/81692</a></p>



<a name="224985717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/224985717" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#224985717">(Feb 03 2021 at 08:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="132040">Manish Goregaokar</span> <a href="#narrow/stream/257328-clippy/topic/Running.20the.20sync/near/224958046">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="264664">flip1995</span> is it expected that <code>git merge</code> will be super conflicty?</p>
</blockquote>
<p>Yes. This is mainly because of the generated merge commit in rust-lang/rust. On those conflicts you can mostly use the Clippy changes. After resolving every conflict and before running <code>git commit</code> I always do a <code>cargo dev fmt</code> <code>cargo dev update_lints</code> <code>cargo test</code> (for dogfood) and include all necessary fixes in the merge commit. But overall those conflicts should be easy to resolve.</p>
<p>To avoid having to wait on a nightly I always run <code>rustup check</code>, check out the commit of the latest nightly in rust-lang/rust and then sync from there.</p>



<a name="225043344"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Running%20the%20sync/near/225043344" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/257328-clippy/topic/Running.20the.20sync.html#225043344">(Feb 03 2021 at 16:47)</a>:</h4>
<blockquote>
<p>On those conflicts you can mostly use the Clippy changes. </p>
</blockquote>
<p>Argh, i was afraid of this. I assume we can't use <code>git merge --ours</code> or whatever the conflcit resolution is because _some changes_ from the rust side will exist. Is there a way to do this easily without losign out on rust changes?</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>