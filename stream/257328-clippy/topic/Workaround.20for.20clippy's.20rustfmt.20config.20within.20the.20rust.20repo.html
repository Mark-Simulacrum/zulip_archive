<html>
<head><meta charset="utf-8"><title>Workaround for clippy&#x27;s rustfmt config within the rust repo · clippy · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/index.html">clippy</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Workaround.20for.20clippy&#x27;s.20rustfmt.20config.20within.20the.20rust.20repo.html">Workaround for clippy&#x27;s rustfmt config within the rust repo</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="257388083"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Workaround%20for%20clippy%27s%20rustfmt%20config%20within%20the%20rust%20repo/near/257388083" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cormacrelf <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Workaround.20for.20clippy&#x27;s.20rustfmt.20config.20within.20the.20rust.20repo.html#257388083">(Oct 13 2021 at 15:45)</a>:</h4>
<p>Hey, if you're working on clippy as a subtree of <code>rust-lang/rust</code>, especially in passing due to rustc crate changes, then it can be a bit tricky to avoid messing up the formatting. Text editor format-on-save is probably configured to use the repo-wide config, 2021 edition etc. Somehow <code>cargo fmt</code> inside <code>src/tools/clippy</code> does nothing.</p>
<p>A quick and dirty solution is to run <code>cargo fmt -p clippy_lints</code> and again for each other package you touch, and disable format-on-save. I struggled with this for a bit, hope that helps.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>