<html>
<head><meta charset="utf-8"><title>Remove only_used_in_recursion lint  clippy#8689 · clippy · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/index.html">clippy</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Remove.20only_used_in_recursion.20lint.20.20clippy.238689.html">Remove only_used_in_recursion lint  clippy#8689</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="278694882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Remove%20only_used_in_recursion%20lint%20%20clippy%238689/near/278694882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Remove.20only_used_in_recursion.20lint.20.20clippy.238689.html#278694882">(Apr 12 2022 at 13:48)</a>:</h4>
<p>cc <a href="https://github.com/rust-lang/rust-clippy/issues/8689">clippy#8689</a></p>
<p>I want to talk about this lint. For my investigation see <a href="https://github.com/rust-lang/rust-clippy/issues/8689#issuecomment-1096693028">my comment</a> on the infinite recursion issue about this lint.</p>
<p>Generally I think the lint is over engineered and tries to catch too many cases. To a point where the tests don't cover most of the code AFAICT. The code is therefore also really hard to read (=&gt; maintain) without a visible benefit (e.g. in a specific test case).</p>
<p>My question now is: should we remove the lint and wait for a rewrite? Should we keep it in Clippy but don't run the lint pass for now, effectively disabling the lint? Or am I just too dumb to understand the linting code? <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="278695035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Remove%20only_used_in_recursion%20lint%20%20clippy%238689/near/278695035" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Remove.20only_used_in_recursion.20lint.20.20clippy.238689.html#278695035">(Apr 12 2022 at 13:49)</a>:</h4>
<p>We will have to backport whatever we decide to do here, but at least <a href="https://github.com/rust-lang/rust-clippy/issues/8691">clippy#8691</a>. I don't want to do multiple backports for the same lint though</p>



<a name="278704134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/Remove%20only_used_in_recursion%20lint%20%20clippy%238689/near/278704134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Macleod <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/Remove.20only_used_in_recursion.20lint.20.20clippy.238689.html#278704134">(Apr 12 2022 at 14:53)</a>:</h4>
<p>Could pop it in nursery with an <code>is_lint_allowed</code> check for the time being, then how to refine/rewrite it can be decided at any time</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>