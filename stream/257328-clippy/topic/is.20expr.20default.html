<html>
<head><meta charset="utf-8"><title>is expr default · clippy · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/index.html">clippy</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/is.20expr.20default.html">is expr default</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="249613151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/is%20expr%20default/near/249613151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hkalbasi <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/is.20expr.20default.html#249613151">(Aug 16 2021 at 16:40)</a>:</h4>
<p>For detecting impl of default trait which is equal to derive's one, I need a function to check if a expr is equal to default of its type. <a href="https://github.com/rust-lang/rust-clippy/blob/2288ca5fb737b7570edc91366e8b69942bd0e161/clippy_lints/src/derivable_impls.rs#L71">my current implementation</a> just check literals. I can make it cover more cases, but I believe there should be a general way by using <code>eq_expr_value</code> and something like that.</p>



<a name="249835130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257328-clippy/topic/is%20expr%20default/near/249835130" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://zulip-archive.rust-lang.org/stream/257328-clippy/topic/is.20expr.20default.html#249835130">(Aug 18 2021 at 11:23)</a>:</h4>
<p>We have a <code>SpanlessEq</code> utility if you want to compare 2 expressions. I'm not really sure what you mean by the "default of its type" part though. The <code>default</code> trait function?</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>