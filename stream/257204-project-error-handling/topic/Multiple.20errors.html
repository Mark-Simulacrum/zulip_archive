<html>
<head><meta charset="utf-8"><title>Multiple errors · project-error-handling · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257204-project-error-handling/index.html">project-error-handling</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257204-project-error-handling/topic/Multiple.20errors.html">Multiple errors</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="258272184"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257204-project-error-handling/topic/Multiple%20errors/near/258272184" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/257204-project-error-handling/topic/Multiple.20errors.html#258272184">(Oct 19 2021 at 21:07)</a>:</h4>
<p>One of the things that Rust ecosystem I think didn't solve yet is a situation where a single function call wants to return multiple errors at once.</p>



<a name="258272274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257204-project-error-handling/topic/Multiple%20errors/near/258272274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/257204-project-error-handling/topic/Multiple.20errors.html#258272274">(Oct 19 2021 at 21:07)</a>:</h4>
<p>(<code>Vec&lt;Error&gt;</code> is a natural solution here, but <code>Vec&lt;Error&gt;</code> is not an error by itself)</p>



<a name="258272499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257204-project-error-handling/topic/Multiple%20errors/near/258272499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/257204-project-error-handling/topic/Multiple.20errors.html#258272499">(Oct 19 2021 at 21:09)</a>:</h4>
<p>and the <code>Error</code> trait isn't naturally implementable for errors that internally contain anything else than a straight chain of causations.</p>



<a name="258273454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257204-project-error-handling/topic/Multiple%20errors/near/258273454" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jane Lusby [she/her] <a href="https://zulip-archive.rust-lang.org/stream/257204-project-error-handling/topic/Multiple.20errors.html#258273454">(Oct 19 2021 at 21:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> <a href="#narrow/stream/257204-project-error-handling/topic/Multiple.20errors/near/258272499">said</a>:</p>
<blockquote>
<p>and the <code>Error</code> trait isn't naturally implementable for errors that internally contain anything else than a straight chain of causations.</p>
</blockquote>
<p>generic member access specifically seeks to resolve this</p>



<a name="258273531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257204-project-error-handling/topic/Multiple%20errors/near/258273531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jane Lusby [she/her] <a href="https://zulip-archive.rust-lang.org/stream/257204-project-error-handling/topic/Multiple.20errors.html#258273531">(Oct 19 2021 at 21:16)</a>:</h4>
<p>where you could access an <code>Iterator&lt;Item = &amp;dyn Error&gt;</code> or a <code>&amp;[dyn Error]</code> to get access a tree like structure of causation</p>



<a name="258273647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257204-project-error-handling/topic/Multiple%20errors/near/258273647" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jane Lusby [she/her] <a href="https://zulip-archive.rust-lang.org/stream/257204-project-error-handling/topic/Multiple.20errors.html#258273647">(Oct 19 2021 at 21:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> <a href="#narrow/stream/257204-project-error-handling/topic/Multiple.20errors/near/258272274">said</a>:</p>
<blockquote>
<p>(<code>Vec&lt;Error&gt;</code> is a natural solution here, but <code>Vec&lt;Error&gt;</code> is not an error by itself)</p>
</blockquote>
<p>I expect that at least short term we will still want to rely on users to wrap <code>Vec&lt;Error&gt;</code> in their own types that expose the proper api for adding additional errors and re-exposing them through generic member access</p>



<a name="258273969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257204-project-error-handling/topic/Multiple%20errors/near/258273969" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jane Lusby [she/her] <a href="https://zulip-archive.rust-lang.org/stream/257204-project-error-handling/topic/Multiple.20errors.html#258273969">(Oct 19 2021 at 21:19)</a>:</h4>
<p>it will be interesting to see how it develops though, my feeling is that once generic member access lands all the pieces will be there for errors with multiple causes for things like parsers, but the reporting element of it and how to re-expose those multiple sources through the error trait seems like it could run into issues where people can't decide on a consistent interface (aka type parameter via generic member access) to return the sources as</p>



<a name="258315512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257204-project-error-handling/topic/Multiple%20errors/near/258315512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/257204-project-error-handling/topic/Multiple.20errors.html#258315512">(Oct 20 2021 at 05:44)</a>:</h4>
<p>FWIW, <a href="https://docs.microsoft.com/en-us/dotnet/api/system.aggregateexception?view=net-5.0"><code>AggregateException</code></a> in C# is a royal pain -- it tends to in practice obscure what actually happened and "normal" ways of using exceptions end up just losing all the extra information.</p>
<p>It's not obvious to me that <code>Error</code> and <code>Result</code> are the right way to handle multiple-issue scenarios, vs just passing some sort of <code>Extend</code> or <code>FnMut</code> to handle whatever comes up.</p>



<a name="258315716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257204-project-error-handling/topic/Multiple%20errors/near/258315716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/257204-project-error-handling/topic/Multiple.20errors.html#258315716">(Oct 20 2021 at 05:47)</a>:</h4>
<p>There was a URLO thread about this a while back -- I think it was <a href="https://users.rust-lang.org/t/continue-execution-even-if-the-result-is-err-and-return-an-error-later/17349/8?u=scottmcm">https://users.rust-lang.org/t/continue-execution-even-if-the-result-is-err-and-return-an-error-later/17349/8?u=scottmcm</a></p>



<a name="259725002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257204-project-error-handling/topic/Multiple%20errors/near/259725002" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Duchniewicz <a href="https://zulip-archive.rust-lang.org/stream/257204-project-error-handling/topic/Multiple.20errors.html#259725002">(Oct 30 2021 at 11:10)</a>:</h4>
<p>Is this completely disjoint from error-chain? Or could it be an extension of the existing API?</p>



<a name="259725020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257204-project-error-handling/topic/Multiple%20errors/near/259725020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Duchniewicz <a href="https://zulip-archive.rust-lang.org/stream/257204-project-error-handling/topic/Multiple.20errors.html#259725020">(Oct 30 2021 at 11:11)</a>:</h4>
<p>from what Jane said it looks like there is a threat of non-uniform usage of this API if we leave it to the users to use Generic Member Access for this</p>



<a name="259725022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257204-project-error-handling/topic/Multiple%20errors/near/259725022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Duchniewicz <a href="https://zulip-archive.rust-lang.org/stream/257204-project-error-handling/topic/Multiple.20errors.html#259725022">(Oct 30 2021 at 11:11)</a>:</h4>
<p>hence the notion of unified API</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>