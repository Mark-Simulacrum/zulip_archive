<html>
<head><meta charset="utf-8"><title>weekly meeting May 29 · t-compiler/wg-nll · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/index.html">t-compiler/wg-nll</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html">weekly meeting May 29</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="127269187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269187">(May 29 2018 at 19:30)</a>:</h4>
<p>hello everyone!</p>



<a name="127269197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269197">(May 29 2018 at 19:30)</a>:</h4>
<p>I don't know about the situation where each of you are, but there is a pretty heavy thunderstorm here in Paris. :)</p>



<a name="127269202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269202" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269202">(May 29 2018 at 19:30)</a>:</h4>
<p>hi everyone!!!</p>



<a name="127269284"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269284" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269284">(May 29 2018 at 19:32)</a>:</h4>
<p>o/</p>



<a name="127269306"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269306" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269306">(May 29 2018 at 19:33)</a>:</h4>
<p>so lets see: As you probably know, we just finished up the RustFest impl Days here in Paris</p>



<a name="127269325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269325" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269325">(May 29 2018 at 19:33)</a>:</h4>
<p>I'm not sure whether a happy or sad emoji is more appropriate</p>



<a name="127269328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269328">(May 29 2018 at 19:33)</a>:</h4>
<p>I was not following along with the Polonius progress  of the group there doing that as closely as I would have liked.</p>



<a name="127269335"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269335" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269335">(May 29 2018 at 19:33)</a>:</h4>
<p>so is there anyone present right now who was part of that effort?</p>



<a name="127269385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269385">(May 29 2018 at 19:34)</a>:</h4>
<p>well there is at least a graphviz PR: <a href="https://github.com/rust-lang-nursery/polonius/pull/63" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/63">https://github.com/rust-lang-nursery/polonius/pull/63</a></p>



<a name="127269402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269402" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269402">(May 29 2018 at 19:34)</a>:</h4>
<p>I did tell the people there about the meeting tonight. In hindsight, I probably should have tried to get some peoples emails (to invite them to the meeting formally). But a number of them <em>are</em>/<em>were</em> logged into Zulip, so I figured it was worth a shot to ask...</p>



<a name="127269423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269423">(May 29 2018 at 19:35)</a>:</h4>
<blockquote>
<p>so is there anyone present right now who was part of that effort?</p>
</blockquote>
<p>I am. But on the very shaky internet connection.</p>



<a name="127269476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269476" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269476">(May 29 2018 at 19:36)</a>:</h4>
<p>Maybe it is worth pinging <span class="user-mention" data-user-id="*">@everyone</span> ?</p>



<a name="127269481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269481" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269481">(May 29 2018 at 19:36)</a>:</h4>
<p>Oh @everyone that is a very good idea.</p>



<a name="127269499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269499">(May 29 2018 at 19:37)</a>:</h4>
<p>In the meantime: <span class="user-mention" data-user-id="116109">@Vytautas Astrauskas</span> would you be interested in trying to summarize the outcome (or intermediate state) of the various efforts that went on there? Niko's already pointed out the graphviz PR</p>



<a name="127269517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269517">(May 29 2018 at 19:37)</a>:</h4>
<p>If you go silent for too long, we'll just assume that you've lost connectivity. :)</p>



<a name="127269539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269539" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269539">(May 29 2018 at 19:37)</a>:</h4>
<p>I know there were also some investigations into <a href="#narrow/stream/122657-wg-nll/subject/compress-the-cfg.20(polonius.2320)" title="#narrow/stream/122657-wg-nll/subject/compress-the-cfg.20(polonius.2320)">"compressing the CFG"</a> though I think it didn't really yet yield actionable fruit</p>



<a name="127269602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269602">(May 29 2018 at 19:38)</a>:</h4>
<p>Rustc is using AllFacts and Output from polonius-engine</p>



<a name="127269621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269621" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269621">(May 29 2018 at 19:39)</a>:</h4>
<p>this is indeed very exciting!</p>



<a name="127269625"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269625" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269625">(May 29 2018 at 19:39)</a>:</h4>
<p>did that PR land?</p>



<a name="127269628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269628">(May 29 2018 at 19:39)</a>:</h4>
<p>there's the compare-mode=polonius, PR not merged yet</p>



<a name="127269632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269632" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269632">(May 29 2018 at 19:39)</a>:</h4>
<p>yes, it did</p>



<a name="127269646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269646" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269646">(May 29 2018 at 19:39)</a>:</h4>
<p>(one thing we noticed with that PR was there are some tests failing)</p>



<a name="127269653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269653">(May 29 2018 at 19:39)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> that's great.  Has the use of AllFacts + Output given us any interesting feedback about whether/where the polonius system is incorrect</p>



<a name="127269654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269654">(May 29 2018 at 19:39)</a>:</h4>
<p>?</p>



<a name="127269658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269658" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269658">(May 29 2018 at 19:39)</a>:</h4>
<p>it is :)</p>



<a name="127269660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269660" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269660">(May 29 2018 at 19:39)</a>:</h4>
<p>perhaps the "some tests failing" is that</p>



<a name="127269671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269671">(May 29 2018 at 19:40)</a>:</h4>
<p>so that will take some investigation</p>



<a name="127269705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269705" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269705">(May 29 2018 at 19:40)</a>:</h4>
<p>yesterday I've pasted a huge output</p>



<a name="127269713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269713">(May 29 2018 at 19:40)</a>:</h4>
<p>the errors looked like errors I had seen before</p>



<a name="127269715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269715">(May 29 2018 at 19:40)</a>:</h4>
<p>let me try to find it again</p>



<a name="127269728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269728" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269728">(May 29 2018 at 19:40)</a>:</h4>
<p>That actually gives me some comfort</p>



<a name="127269729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269729">(May 29 2018 at 19:40)</a>:</h4>
<p>but I didn't take time to investigate deeply</p>



<a name="127269731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269731">(May 29 2018 at 19:40)</a>:</h4>
<p>with something like this</p>



<a name="127269734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269734" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269734">(May 29 2018 at 19:40)</a>:</h4>
<p>if it works right out of the box</p>



<a name="127269737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269737">(May 29 2018 at 19:40)</a>:</h4>
<p>when its a big huge change</p>



<a name="127269746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269746">(May 29 2018 at 19:40)</a>:</h4>
<p>my immediate suspicion is "that isn't <em>really</em> integrated..."</p>



<a name="127269747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269747" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269747">(May 29 2018 at 19:40)</a>:</h4>
<p>:)</p>



<a name="127269758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269758" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269758">(May 29 2018 at 19:41)</a>:</h4>
<p>Okay so that makes me pretty happy</p>



<a name="127269762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269762" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269762">(May 29 2018 at 19:41)</a>:</h4>
<p><a href="https://gist.github.com/spastorino/ed32ad31bb3f094aa86d103f5d9cc507" target="_blank" title="https://gist.github.com/spastorino/ed32ad31bb3f094aa86d103f5d9cc507">https://gist.github.com/spastorino/ed32ad31bb3f094aa86d103f5d9cc507</a></p>



<a name="127269812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269812" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269812">(May 29 2018 at 19:42)</a>:</h4>
<p>that .. could be much much worse!</p>



<a name="127269820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269820">(May 29 2018 at 19:42)</a>:</h4>
<p>so — in terms of the upcoming week — i guess that as far as polonius goes, isolating some of those failures is an obvious "to do" item</p>



<a name="127269826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269826" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269826">(May 29 2018 at 19:42)</a>:</h4>
<p>I believe many of them have a common cause, as I said; it's a set of failures I saw before</p>



<a name="127269836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269836">(May 29 2018 at 19:43)</a>:</h4>
<p>I assume that the people who were doing integration are the obvious people to spearhead investigation there</p>



<a name="127269844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269844">(May 29 2018 at 19:43)</a>:</h4>
<p>does that sound correct to others?</p>



<a name="127269851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269851" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269851">(May 29 2018 at 19:43)</a>:</h4>
<p>could be, doesn't have to be</p>



<a name="127269856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269856">(May 29 2018 at 19:43)</a>:</h4>
<p>this was joint effort between <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> and <span class="user-mention" data-user-id="116013">@qmx</span> , right?</p>



<a name="127269871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269871" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269871">(May 29 2018 at 19:43)</a>:</h4>
<p>my feeling is that overall the highest priority thing is probably still to improve the rustc diagnostics</p>



<a name="127269874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269874" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269874">(May 29 2018 at 19:44)</a>:</h4>
<p>(as we said this morning)</p>



<a name="127269913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269913" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269913">(May 29 2018 at 19:44)</a>:</h4>
<p>(I suppose I could just go look at the  listed of landed PR's)</p>



<a name="127269929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269929">(May 29 2018 at 19:44)</a>:</h4>
<p>so yeah, okay, so lets talk about that, and about prioriization in general</p>



<a name="127269939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269939" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269939">(May 29 2018 at 19:44)</a>:</h4>
<p>So <span class="user-mention" data-user-id="116009">@nikomatsakis</span> and <span class="user-mention" data-user-id="116083">@pnkfelix</span> are obvious very excited about Polonius integration</p>



<a name="127269953"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269953" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269953">(May 29 2018 at 19:45)</a>:</h4>
<p>but at the same time, we cannot depend on that actually <em>working</em> soon enough for the timeline that we have in mind for deploying NLL</p>



<a name="127269983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127269983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127269983">(May 29 2018 at 19:45)</a>:</h4>
<p>so the plan of record was and continues to be: We want to initially deploy using the current mir-borrowck NLL code. It won't be as precise an analysis as we want. But it will fix a lot of bugs</p>



<a name="127270044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270044" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270044">(May 29 2018 at 19:46)</a>:</h4>
<p>and such a deploying will be a good starting point for  finding out cases where people were depending on the existing unsoundness/weakness in the AST borrow-checker.</p>



<a name="127270061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270061" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270061">(May 29 2018 at 19:46)</a>:</h4>
<p>Thus, we've got this priority scheme for how to address issues</p>



<a name="127270074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270074">(May 29 2018 at 19:47)</a>:</h4>
<blockquote>
<p>so the plan of record was and continues to be: We want to initially deploy using the current mir-borrowck NLL code. It won't be as precise an analysis as we want. But it will fix a lot of bugs</p>
</blockquote>
<p>when you say deploy, what do you refer to exactly?</p>



<a name="127270083"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270083" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270083">(May 29 2018 at 19:47)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> good question</p>



<a name="127270084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270084" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270084">(May 29 2018 at 19:47)</a>:</h4>
<p>remove the feature flag and be the default thing?</p>



<a name="127270086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270086" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270086">(May 29 2018 at 19:47)</a>:</h4>
<p>is this for 2018 edition?</p>



<a name="127270091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270091" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270091">(May 29 2018 at 19:47)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> that's close to the idea</p>



<a name="127270094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270094" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270094">(May 29 2018 at 19:47)</a>:</h4>
<p>no</p>



<a name="127270099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270099" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270099">(May 29 2018 at 19:47)</a>:</h4>
<p>or, specifically I meant: no this is not <em>specific</em> to the edition</p>



<a name="127270140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270140" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270140">(May 29 2018 at 19:48)</a>:</h4>
<p>(that is, whatever we do would hopefully apply to all code)</p>



<a name="127270161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270161">(May 29 2018 at 19:48)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> To be clear, our plan is <em>not</em> just to turn on <code>#![feature(nll)]</code> by default and hope for the best</p>



<a name="127270164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270164" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270164">(May 29 2018 at 19:48)</a>:</h4>
<p>yeah, it makes sense to no be specific to edition because working code will continue working</p>



<a name="127270179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270179" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270179">(May 29 2018 at 19:49)</a>:</h4>
<p>/me has no desire to maintain two borrow checkers :)</p>



<a name="127270183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270183">(May 29 2018 at 19:49)</a>:</h4>
<p>The deployment plan, at least as I understand it</p>



<a name="127270193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270193" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270193">(May 29 2018 at 19:49)</a>:</h4>
<p>(again Niko may have revised his attitude about this idea, maybe)</p>



<a name="127270206"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270206" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270206">(May 29 2018 at 19:49)</a>:</h4>
<p>is/was to initially keep AST-borrowck as well as MIR-borrowck</p>



<a name="127270214"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270214" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270214">(May 29 2018 at 19:49)</a>:</h4>
<p>(not forever and ever)</p>



<a name="127270225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270225">(May 29 2018 at 19:50)</a>:</h4>
<p>we'd get rid of <code>#![feature(nll)]</code></p>



<a name="127270282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270282">(May 29 2018 at 19:50)</a>:</h4>
<p>instead, we'd run both AST-borrowck and MIR-borrowck.</p>



<a name="127270287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270287" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270287">(May 29 2018 at 19:50)</a>:</h4>
<p>If MIR-borrowck accepts your code, then your code is accepted.</p>



<a name="127270295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270295" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270295">(May 29 2018 at 19:50)</a>:</h4>
<p>I'd say if one borrowck accepts the code is accepted, no?</p>



<a name="127270302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270302" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270302">(May 29 2018 at 19:50)</a>:</h4>
<p>If MIR-borrowck rejects your code, then we consult the output of AST-borrowck. If AST-borrowck accepts it, then we issue a warning</p>



<a name="127270305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270305" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270305">(May 29 2018 at 19:50)</a>:</h4>
<p>Well, not quite</p>



<a name="127270307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270307">(May 29 2018 at 19:50)</a>:</h4>
<p>if AST-borrowck accepts and MIR-borrowck rejects I'd accept the code and file an issue to rustc :P</p>



<a name="127270314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270314">(May 29 2018 at 19:51)</a>:</h4>
<p>We want to warn someone that their code will be rejected in the future</p>



<a name="127270322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270322">(May 29 2018 at 19:51)</a>:</h4>
<p>hmm that's not qutie whatI had in mind</p>



<a name="127270323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270323" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270323">(May 29 2018 at 19:51)</a>:</h4>
<p>when we eventually turn off AST-borrowck and rely solely on MIR-borrowck (or some variant implementation of NLL)</p>



<a name="127270326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270326">(May 29 2018 at 19:51)</a>:</h4>
<p>I had in mind "run the AST checker — if it reports no errors, run MIR borrowck"</p>



<a name="127270328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270328">(May 29 2018 at 19:51)</a>:</h4>
<p>Ah, see, this is why its good to review these things</p>



<a name="127270330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270330" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270330">(May 29 2018 at 19:51)</a>:</h4>
<p>but are there cases where that happens not being a bug?</p>



<a name="127270349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270349" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270349">(May 29 2018 at 19:51)</a>:</h4>
<p>this means you don't enjoy the (full) benefits of NLL though, just see warnings about the bugs we're gonna fix</p>



<a name="127270396"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270396" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270396">(May 29 2018 at 19:52)</a>:</h4>
<p>the <span class="user-mention" data-user-id="116083">@pnkfelix</span> plan also makes sense, modulo some complications around region inference</p>



<a name="127270422"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270422" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270422">(May 29 2018 at 19:52)</a>:</h4>
<p>My plan is documented at: <a href="https://github.com/rust-lang/rust/issues/46908" target="_blank" title="https://github.com/rust-lang/rust/issues/46908">https://github.com/rust-lang/rust/issues/46908</a></p>



<a name="127270425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270425" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270425">(May 29 2018 at 19:52)</a>:</h4>
<p>(that is, there are some errors reported in today's regionck that NLL would ultimately accept, and I'm not sure how best to deal with that)</p>



<a name="127270449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270449">(May 29 2018 at 19:53)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I want to try to clarify whether you are talking about a difference in implementation strategy, or a difference in user experience</p>



<a name="127270451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270451" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270451">(May 29 2018 at 19:53)</a>:</h4>
<p>I guess I didn't read that issue carefully enough :)</p>



<a name="127270466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270466">(May 29 2018 at 19:53)</a>:</h4>
<p>the issue I linked to shows the "truth table" of what results I expect from each combination of runs</p>



<a name="127270467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270467" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270467">(May 29 2018 at 19:53)</a>:</h4>
<blockquote>
<p>different in implementation strategy, or a difference in user experience</p>
</blockquote>
<p>both? :)</p>



<a name="127270522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270522" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270522">(May 29 2018 at 19:54)</a>:</h4>
<p>in particular, if we just run the AST first, and run MIR only when it succeeds, then this case operates differently:</p>
<blockquote>
<p>If AST-borrowck rejects the code and MIR-borrowck accepts, then accept. (Indeed, this is the point of NLL, to start accepting a broader swath of code.)</p>
</blockquote>



<a name="127270525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270525" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270525">(May 29 2018 at 19:54)</a>:</h4>
<p>but it's very easy to do :)</p>



<a name="127270528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270528">(May 29 2018 at 19:54)</a>:</h4>
<p>Okay then I am indeed confused</p>



<a name="127270531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270531">(May 29 2018 at 19:54)</a>:</h4>
<p>tbh I hadn't really thought about the alternative you are proposing here, it's not the usual way we do things</p>



<a name="127270535"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270535" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270535">(May 29 2018 at 19:54)</a>:</h4>
<p>but I see the advantage</p>



<a name="127270545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270545" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270545">(May 29 2018 at 19:55)</a>:</h4>
<p>because I had thought that part of the idea of the deployment was to let us advertise the advantage of NLL very soon</p>



<a name="127270551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270551">(May 29 2018 at 19:55)</a>:</h4>
<p>usually we run the old code (which has bugs); if it errors, great. If not, we run the new, stricter check. If <em>it</em> errors, we issue a warning.</p>



<a name="127270557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270557" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270557">(May 29 2018 at 19:55)</a>:</h4>
<p>/me had thought that we had actually gone over the options in this truth table pretty carefully in some 1:1</p>



<a name="127270558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270558">(May 29 2018 at 19:55)</a>:</h4>
<p>well, specifically I wanted us to hvae two-phase borrows</p>



<a name="127270561"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270561" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270561">(May 29 2018 at 19:55)</a>:</h4>
<p>so as to mitigate the impact</p>



<a name="127270576"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270576" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270576">(May 29 2018 at 19:55)</a>:</h4>
<p>that is, if there is an unsoundness that would ultimately be accepted because NLL, you still don't get an error</p>



<a name="127270615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270615">(May 29 2018 at 19:56)</a>:</h4>
<p>but you don't get to use NLL otherwise (this is the downside of the approach)</p>



<a name="127270629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270629">(May 29 2018 at 19:56)</a>:</h4>
<blockquote>
<p>that is, if there is an unsoundness that would ultimately be accepted because NLL, you still don't get an error</p>
</blockquote>
<p>I don't understand the scenario you outline here</p>



<a name="127270636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270636" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270636">(May 29 2018 at 19:56)</a>:</h4>
<p>are you assuming there is some bug in NLL in that scenario?</p>



<a name="127270638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270638" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270638">(May 29 2018 at 19:56)</a>:</h4>
<p>to repeat though I'm not saying what I had in mind is better :) it's just the usual way we've done these sorts of transitions. But in those cases, I suspect the new analysis was always <em>strictly</em> stricter (that is, it only produced new errors)</p>



<a name="127270640"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270640" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270640">(May 29 2018 at 19:57)</a>:</h4>
<blockquote>
<p>are you assuming there is some bug in NLL in that scenario?</p>
</blockquote>
<p>no, I'm not</p>



<a name="127270659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270659">(May 29 2018 at 19:57)</a>:</h4>
<p>I can give you a real example but I'll give you a fake one first</p>



<a name="127270661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270661" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270661">(May 29 2018 at 19:57)</a>:</h4>
<p>let's say you had</p>



<a name="127270663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270663" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270663">(May 29 2018 at 19:57)</a>:</h4>
<p>then what do you mean "if there is an unsoundness that would ultimately be accepted because NLL, you still don't get an error"</p>



<a name="127270729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270729">(May 29 2018 at 19:58)</a>:</h4>
<div class="codehilite"><pre><span></span>{
  let mut x;
  let p = &amp;x;
  use(p); // last use of `p`

  ignored_write(&amp;mut x); // for some reason, AST borrowck ignores this write
}
</pre></div>



<a name="127270738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270738">(May 29 2018 at 19:58)</a>:</h4>
<p>under lexical borrowck, that <em>should</em> be an error — but the AST-based borrowck is not reporting it</p>



<a name="127270747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270747" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270747">(May 29 2018 at 19:58)</a>:</h4>
<p>under NLL, we no longer ignore the "ignored write", but otoh the borrow ends at <code>use(p)</code>, so no future-compat warning is issued</p>



<a name="127270772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270772" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270772">(May 29 2018 at 19:59)</a>:</h4>
<p>I remember that there was a specific case where 2-phase borrows helped a lot in this way</p>



<a name="127270794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270794">(May 29 2018 at 19:59)</a>:</h4>
<p>I'm sorry I still keep needing clarification</p>



<a name="127270798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270798" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270798">(May 29 2018 at 19:59)</a>:</h4>
<p>"We're not reporting it"</p>



<a name="127270849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270849">(May 29 2018 at 20:00)</a>:</h4>
<p>you mean today, without NLL?</p>



<a name="127270866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270866" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270866">(May 29 2018 at 20:00)</a>:</h4>
<p>rephrased slightly: "under lexical borrowck, that should be an error — but the AST-based borrowck is not reporting it"</p>



<a name="127270882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270882">(May 29 2018 at 20:00)</a>:</h4>
<p>So then that would fall into the category of "AST-borrowck accepts + MIR-borrowck accepts ... " .... ?</p>



<a name="127270886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270886" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270886">(May 29 2018 at 20:00)</a>:</h4>
<p>I am surprised that this is not reported by AST-based</p>



<a name="127270899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270899">(May 29 2018 at 20:00)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> it is this is a hypothetical example</p>



<a name="127270902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270902" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270902">(May 29 2018 at 20:00)</a>:</h4>
<p>/me is feeling like he must be missing something really deep here</p>



<a name="127270911"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270911" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270911">(May 29 2018 at 20:01)</a>:</h4>
<p>ahh ok ok</p>



<a name="127270920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270920" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270920">(May 29 2018 at 20:01)</a>:</h4>
<blockquote>
<p>So then that would fall into the category of "AST-borrowck accepts + MIR-borrowck accepts ... " .... ?</p>
</blockquote>
<p>yes</p>



<a name="127270929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127270929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127270929">(May 29 2018 at 20:01)</a>:</h4>
<p>...... which is handled the same way in either deployment strategy under discussion, surely ... ?</p>



<a name="127271069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271069">(May 29 2018 at 20:03)</a>:</h4>
<p>so there are two ways to do this:</p>
<ul>
<li>
<p>Niko's original plan</p>
<ul>
<li>run normal regionck and AST-based checker, report errors as hard errors<ul>
<li>if no error, run MIR-based checker, reporting errors as "future compat warnings"</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Felix plan</p>
<ul>
<li>run normal regionck, presumably reporting errors</li>
<li>run AST-based borrowck, storing errors for later</li>
<li>run MIR-based borrowck, storing errors for later</li>
<li>consider errors from (AST, MIR):<ul>
<li>if only AST got errors: ignore them</li>
<li>if AST &amp; MIR got errors: display AST errors</li>
<li>if only MIR got errors:  display as future-compat</li>
</ul>
</li>
</ul>
</li>
</ul>



<a name="127271112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271112" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271112">(May 29 2018 at 20:04)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> does that sound correct? (or at least equivalent)</p>



<a name="127271118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271118" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271118">(May 29 2018 at 20:04)</a>:</h4>
<p>I see pros/cons to the "felix plan"</p>



<a name="127271127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271127">(May 29 2018 at 20:04)</a>:</h4>
<p>There's a reason I tried to present this as a truth table rather than an algorithm...</p>



<a name="127271140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271140" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271140">(May 29 2018 at 20:04)</a>:</h4>
<p>ok, hold up :)</p>



<a name="127271175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271175" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271175">(May 29 2018 at 20:05)</a>:</h4>
<p>(I understand that the issue I linked did mix in algorithmic details about e.g. cancelling errors)</p>



<a name="127271234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271234" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271234">(May 29 2018 at 20:06)</a>:</h4>
<p>truth table:</p>
<p>borrowck=compare plan: </p>
<table>
<thead>
<tr>
<th></th>
<th>MIR got no errors</th>
<th>MIR got errors</th>
</tr>
</thead>
<tbody>
<tr>
<td>AST got no errors</td>
<td>no error reported</td>
<td>future-compat warnings reported</td>
</tr>
<tr>
<td>AST got errors</td>
<td>no error reported</td>
<td>AST errors reported</td>
</tr>
</tbody>
</table>



<a name="127271249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271249">(May 29 2018 at 20:06)</a>:</h4>
<p>Ah okay</p>



<a name="127271251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271251" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271251">(May 29 2018 at 20:06)</a>:</h4>
<p>plan Niko was expecting:</p>
<table>
<thead>
<tr>
<th></th>
<th>MIR got no errors</th>
<th>MIR got errors</th>
</tr>
</thead>
<tbody>
<tr>
<td>AST got no errors</td>
<td>no error reported</td>
<td>future-compat warnings reported</td>
</tr>
<tr>
<td>AST got errors</td>
<td>AST errors reported</td>
<td>AST errors reported</td>
</tr>
</tbody>
</table>



<a name="127271252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271252">(May 29 2018 at 20:06)</a>:</h4>
<p>so that is focusing on user experience</p>



<a name="127271259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271259" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271259">(May 29 2018 at 20:06)</a>:</h4>
<p>note this comment in the issue I linked: <a href="https://github.com/rust-lang/rust/issues/46908#issuecomment-353359157" target="_blank" title="https://github.com/rust-lang/rust/issues/46908#issuecomment-353359157">https://github.com/rust-lang/rust/issues/46908#issuecomment-353359157</a></p>



<a name="127271268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271268">(May 29 2018 at 20:07)</a>:</h4>
<p>I see pros/cons for user experience</p>



<a name="127271273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271273" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271273">(May 29 2018 at 20:07)</a>:</h4>
<p>pro: you experience NLL faster</p>



<a name="127271279"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271279" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271279">(May 29 2018 at 20:07)</a>:</h4>
<p>so in fact I think there's a third table that was my intention</p>



<a name="127271281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271281" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271281">(May 29 2018 at 20:07)</a>:</h4>
<p>con: there is some "unevenness" in the errors</p>



<a name="127271288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271288" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271288">(May 29 2018 at 20:07)</a>:</h4>
<p>(or at least my most recent intention)</p>



<a name="127271294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271294" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271294">(May 29 2018 at 20:07)</a>:</h4>
<p>I see</p>



<a name="127271301"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271301" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271301">(May 29 2018 at 20:07)</a>:</h4>
<p>Hmm I don't think I know how to create a table here. :)</p>



<a name="127271303"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271303" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271303">(May 29 2018 at 20:07)</a>:</h4>
<p>truth table:</p>
<p>borrowck=compare plan: </p>
<table>
<thead>
<tr>
<th></th>
<th>MIR got no errors</th>
<th>MIR got errors</th>
</tr>
</thead>
<tbody>
<tr>
<td>AST got no errors</td>
<td>no error reported</td>
<td>future-compat warnings reported</td>
</tr>
<tr>
<td>AST got errors</td>
<td>no error reported</td>
<td>MIR errors reported</td>
</tr>
</tbody>
</table>



<a name="127271353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271353" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271353">(May 29 2018 at 20:08)</a>:</h4>
<p>Yes, that looks like what I wanted</p>



<a name="127271355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271355" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271355">(May 29 2018 at 20:08)</a>:</h4>
<p>I think that does resolve some of my concerns</p>



<a name="127271359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271359" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271359">(May 29 2018 at 20:08)</a>:</h4>
<p>(deleted)</p>



<a name="127271360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271360" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271360">(May 29 2018 at 20:08)</a>:</h4>
<p>in particular, we only ever show the user mir-based errors</p>



<a name="127271370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271370" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271370">(May 29 2018 at 20:08)</a>:</h4>
<p>however, it ups the ante on getting borrowck error quality improved :)</p>



<a name="127271374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271374" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271374">(May 29 2018 at 20:08)</a>:</h4>
<p>yes</p>



<a name="127271389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271389" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271389">(May 29 2018 at 20:08)</a>:</h4>
<p>which perhaps segues nicely into the priority list i had mentioned earlier. :) :) :)</p>



<a name="127271391"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271391" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271391">(May 29 2018 at 20:08)</a>:</h4>
<p>ok, I'm on board with the 3rd plan :) though there is still the complication of regionck errors</p>



<a name="127271393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271393">(May 29 2018 at 20:09)</a>:</h4>
<p>but yes, carry on :)</p>



<a name="127271408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271408">(May 29 2018 at 20:09)</a>:</h4>
<p>Okay... so</p>



<a name="127271415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271415" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271415">(May 29 2018 at 20:09)</a>:</h4>
<p>Clearly the question of how to actually deploy hasn't been hammered out</p>



<a name="127271418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271418">(May 29 2018 at 20:09)</a>:</h4>
<p>:)</p>



<a name="127271430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271430">(May 29 2018 at 20:09)</a>:</h4>
<p>But you can all see how there are a lot of options with various tradeoffs</p>



<a name="127271431"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271431" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271431">(May 29 2018 at 20:09)</a>:</h4>
<p>probably we didn't need to get into the weeds on that, but I'm glad we sorted it out :)</p>



<a name="127271438"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271438" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271438">(May 29 2018 at 20:10)</a>:</h4>
<p>The main thing is, we <em>would</em> like to turn on NLL in some fashion</p>



<a name="127271491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271491">(May 29 2018 at 20:10)</a>:</h4>
<p>I personally had been thinking of it as something we want to do in time for the 2018 edition</p>



<a name="127271498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271498">(May 29 2018 at 20:10)</a>:</h4>
<p>it would still be applied to the 2015 edition</p>



<a name="127271506"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271506" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271506">(May 29 2018 at 20:10)</a>:</h4>
<p>(I assume/hope)</p>



<a name="127271511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271511">(May 29 2018 at 20:10)</a>:</h4>
<p>but in terms of marketing push</p>



<a name="127271527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271527" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271527">(May 29 2018 at 20:10)</a>:</h4>
<p>and/or getting people to deal with writing their code to conform to the rules imposed by the NLL system</p>



<a name="127271541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271541" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271541">(May 29 2018 at 20:11)</a>:</h4>
<p>(namely, there are soundness fixes, especially around <code>match</code>, that we are deploying as part of NLL)</p>



<a name="127271555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271555" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271555">(May 29 2018 at 20:11)</a>:</h4>
<p>it just seemed to me like a good idea if we could get something out the door</p>



<a name="127271560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271560" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271560">(May 29 2018 at 20:11)</a>:</h4>
<p>(I'm gonna have to drop off soon)</p>



<a name="127271572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271572">(May 29 2018 at 20:11)</a>:</h4>
<p>If it turns out that we cannot get <em>anything</em> ready in time, that's not the end of the world</p>



<a name="127271618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271618" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271618">(May 29 2018 at 20:12)</a>:</h4>
<p>NLL could hypothetically be deployed in a future version of <code>rustc</code> (I think); it doesn't <em>have</em> to be released as part of the 2018 edition</p>



<a name="127271622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271622">(May 29 2018 at 20:12)</a>:</h4>
<p>(I would say though <span class="user-mention" data-user-id="116083">@pnkfelix</span> that going with MIR errors as the things we display means though that getting all the suggetions right and so forth is higher in priority than I thought)</p>



<a name="127271630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271630">(May 29 2018 at 20:12)</a>:</h4>
<blockquote>
<p>NLL could hypothetically be deployed in a future version of <code>rustc</code> (I think); it doesn't <em>have</em> to be released as part of the 2018 edition</p>
</blockquote>
<p>well, true, but we should not think this way :)</p>



<a name="127271637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271637" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271637">(May 29 2018 at 20:12)</a>:</h4>
<p>Yes of course</p>



<a name="127271651"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271651" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271651">(May 29 2018 at 20:13)</a>:</h4>
<p>I'm just trying to say that the work here wouldn't block the 2018 edition.</p>



<a name="127271654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271654">(May 29 2018 at 20:13)</a>:</h4>
<p>I assume you agree with that?</p>



<a name="127271658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271658" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271658">(May 29 2018 at 20:13)</a>:</h4>
<p>I do not</p>



<a name="127271659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271659">(May 29 2018 at 20:13)</a>:</h4>
<p>Okay</p>



<a name="127271661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271661" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271661">(May 29 2018 at 20:13)</a>:</h4>
<p>I mean I think it is true in a technical sense</p>



<a name="127271662"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271662" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271662">(May 29 2018 at 20:13)</a>:</h4>
<p>that's a topic you and I can chat about later</p>



<a name="127271663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271663" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271663">(May 29 2018 at 20:13)</a>:</h4>
<p>I just think that NLL is <em>major</em> feature</p>



<a name="127271664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271664" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271664">(May 29 2018 at 20:13)</a>:</h4>
<p>:)</p>



<a name="127271668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271668" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271668">(May 29 2018 at 20:13)</a>:</h4>
<p>but yeah :)</p>



<a name="127271673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271673">(May 29 2018 at 20:13)</a>:</h4>
<p>TL;DR it's super important we get the diagnostics working I guess :)</p>



<a name="127271674"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271674" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271674">(May 29 2018 at 20:13)</a>:</h4>
<p>Right right</p>



<a name="127271675"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271675" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271675">(May 29 2018 at 20:13)</a>:</h4>
<p>SO</p>



<a name="127271677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271677">(May 29 2018 at 20:13)</a>:</h4>
<p>the whole point</p>



<a name="127271686"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271686" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271686">(May 29 2018 at 20:14)</a>:</h4>
<p>since we <strong>do</strong> want NLL as part of the 2018 edition</p>



<a name="127271741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271741" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271741">(May 29 2018 at 20:14)</a>:</h4>
<p>the current strategy we are planning on</p>



<a name="127271748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271748">(May 29 2018 at 20:14)</a>:</h4>
<p>is to deploy the current MIR-borrowck based NLL</p>



<a name="127271752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271752" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271752">(May 29 2018 at 20:15)</a>:</h4>
<p>and thus this yields the following way to prioritize bugs</p>



<a name="127271763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271763">(May 29 2018 at 20:15)</a>:</h4>
<p>1. NLL-sound takes top priority</p>



<a name="127271787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271787">(May 29 2018 at 20:15)</a>:</h4>
<p>This is especially important in a world where if "AST-borrowck got errors and MIR-borrowck didn't get errors" implies code is accepted</p>



<a name="127271840"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271840" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271840">(May 29 2018 at 20:16)</a>:</h4>
<p>then its absolutely top priority to address NLL-soundness issues</p>



<a name="127271848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271848" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271848">(May 29 2018 at 20:16)</a>:</h4>
<p>now as you can see from the above, Niko may have been thinking of a world where we wouldn't do that</p>



<a name="127271873"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271873" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271873">(May 29 2018 at 20:17)</a>:</h4>
<p>(i.e. where AST-borrowck rejecting the code would mean that we would report the AST borrowck errors, even if MIR-borrowck accepted with no errors)</p>



<a name="127271881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271881">(May 29 2018 at 20:17)</a>:</h4>
<p>in that world ... maybe the prioritiy scheme I've been assuming is wrong</p>



<a name="127271888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271888" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271888">(May 29 2018 at 20:17)</a>:</h4>
<p>But in the end, in the long term</p>



<a name="127271893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271893" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271893">(May 29 2018 at 20:17)</a>:</h4>
<p>NLL-soundness issues simply <em>have</em> to get fixed</p>



<a name="127271894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271894" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271894">(May 29 2018 at 20:17)</a>:</h4>
<p>Luckily</p>



<a name="127271901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271901" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271901">(May 29 2018 at 20:17)</a>:</h4>
<p>we're really close to fixing all of them, I think.</p>



<a name="127271941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271941" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271941">(May 29 2018 at 20:18)</a>:</h4>
<p>okay, so, next up</p>



<a name="127271945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271945">(May 29 2018 at 20:18)</a>:</h4>
<p>2. NLL-diagnostic bugs</p>



<a name="127271963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271963">(May 29 2018 at 20:18)</a>:</h4>
<p>these are second highest priority. And you can see from the above conversation that they may be even more important than Niko had already thought they were</p>



<a name="127271979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271979">(May 29 2018 at 20:19)</a>:</h4>
<p>In particular, NLL-diagnostics bugs are higher priority than getting polonius into shape</p>



<a name="127271999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127271999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127271999">(May 29 2018 at 20:19)</a>:</h4>
<p>(because, as noted above, we are currently planning for MIR-borrowck to be the basis for the initial NLL deployment. Not polonius.)</p>



<a name="127272007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272007">(May 29 2018 at 20:19)</a>:</h4>
<p>There a <em>lot</em> of NLL-diagnostic bugs currently open</p>



<a name="127272065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272065" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272065">(May 29 2018 at 20:20)</a>:</h4>
<p>but it is not clear how many of them are dupes of each other or end up having the same root cause</p>



<a name="127272075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272075" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272075">(May 29 2018 at 20:20)</a>:</h4>
<p>Niko did say he would have to drop off</p>



<a name="127272078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272078" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272078">(May 29 2018 at 20:20)</a>:</h4>
<p>/me realizes now what the <em>two-pronged approach</em> really meant</p>



<a name="127272089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272089">(May 29 2018 at 20:20)</a>:</h4>
<p>which is a shame because I think he had some things to say here</p>



<a name="127272102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272102" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272102">(May 29 2018 at 20:20)</a>:</h4>
<p>in terms of pointing out some good starter bugs to attack</p>



<a name="127272113"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272113" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272113">(May 29 2018 at 20:21)</a>:</h4>
<p>I posted a few links in the paper</p>



<a name="127272119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272119">(May 29 2018 at 20:21)</a>:</h4>
<p>I will try to post some more later</p>



<a name="127272121"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272121" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272121">(May 29 2018 at 20:21)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> to be clear, we want development on polonius to continue</p>



<a name="127272123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272123">(May 29 2018 at 20:21)</a>:</h4>
<p>/me afk-ish</p>



<a name="127272141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272141" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272141">(May 29 2018 at 20:21)</a>:</h4>
<p>obviously people are going to choose what they want to work on</p>



<a name="127272146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272146">(May 29 2018 at 20:21)</a>:</h4>
<p>but, perhaps even more importantly</p>



<a name="127272152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272152">(May 29 2018 at 20:21)</a>:</h4>
<p>Polonius is a <em>crucial</em> part of our long-term straetegy</p>



<a name="127272195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272195" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272195">(May 29 2018 at 20:22)</a>:</h4>
<p>because there is a third category of NLL bug I did not mention in this prioritization scheme</p>



<a name="127272202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272202" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272202">(May 29 2018 at 20:22)</a>:</h4>
<p>and that is NLL-complete(ness) bugs</p>



<a name="127272216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272216" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272216">(May 29 2018 at 20:22)</a>:</h4>
<p>i.e. the examples of source inputs that we believe NLL should accept</p>



<a name="127272221"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272221" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272221">(May 29 2018 at 20:22)</a>:</h4>
<p>but for some reason  MIR-borrowck does not today accept</p>



<a name="127272246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272246" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272246">(May 29 2018 at 20:23)</a>:</h4>
<p>We are banking on Polonius to be our long term way to address NLL-complete bugs</p>



<a name="127272265"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272265" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272265">(May 29 2018 at 20:23)</a>:</h4>
<p>as in, at some point in the future, assuming we get the diagnostic issues and performance issues  with Polonius all  resolved</p>



<a name="127272318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272318">(May 29 2018 at 20:24)</a>:</h4>
<p>we will switch to it, and magically NLL will just become smarter</p>



<a name="127272321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272321">(May 29 2018 at 20:24)</a>:</h4>
<p>and accept more code than before</p>



<a name="127272332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272332">(May 29 2018 at 20:24)</a>:</h4>
<p>(deleted)</p>



<a name="127272342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272342">(May 29 2018 at 20:24)</a>:</h4>
<p>So, because we are treating Polonius as our secret weapon for dealing with NLL-completeness in the long term</p>



<a name="127272358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272358">(May 29 2018 at 20:25)</a>:</h4>
<p>that gives us some freedom to downgrade the priority on NLL-complete bugs that have been filed against MIR-borrowck.</p>



<a name="127272408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272408">(May 29 2018 at 20:26)</a>:</h4>
<p>Now, to be clear: Source code that was accepted by AST-borrowck and is supposed to be accepted by NLL, obviously those cases have to keep working</p>



<a name="127272415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272415" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272415">(May 29 2018 at 20:26)</a>:</h4>
<p>we cannot let those slide</p>



<a name="127272463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272463" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272463">(May 29 2018 at 20:27)</a>:</h4>
<p>But the cases where AST-borrowck rejects the code and NLL should accept it ... those are ones where, if MIR-borrowck is rejecting it today, we figure we are better off putting effort into other tasks.</p>



<a name="127272470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272470">(May 29 2018 at 20:27)</a>:</h4>
<p>rather than trying to make MIR-borrowck smarter</p>



<a name="127272520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272520">(May 29 2018 at 20:28)</a>:</h4>
<p>(where those "other tasks" are either 1. NLL-soundness issues with MIR-borrowck, 2. NLL-diagnostics with MIR-borrowck, or 3. Getting Polonius into shape.)</p>



<a name="127272521"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272521" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272521">(May 29 2018 at 20:28)</a>:</h4>
<p>Does this all make sense to the people reading along?</p>



<a name="127272528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272528">(May 29 2018 at 20:28)</a>:</h4>
<p>we are coming close to an hour for this half-hour meeting...</p>



<a name="127272549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272549">(May 29 2018 at 20:29)</a>:</h4>
<p>/me just realized he never posted a status update in the triage doc, either</p>



<a name="127272599"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272599" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272599">(May 29 2018 at 20:30)</a>:</h4>
<p>Okay well I guess the point of all this is</p>



<a name="127272613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272613">(May 29 2018 at 20:30)</a>:</h4>
<p>If you are happily working on polonius currently, and want to continue doing so, please <em>do</em> continue doing so</p>



<a name="127272626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272626" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272626">(May 29 2018 at 20:30)</a>:</h4>
<p>But if you are looking for something to do, either because you're just getting started, or if you feel like getting your feet wet elsewhere</p>



<a name="127272641"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127272641" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127272641">(May 29 2018 at 20:31)</a>:</h4>
<p>then please do look at the "diagnostic issues worth tackling" that Niko links in <a href="https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be" target="_blank" title="https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be">https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be</a></p>



<a name="127273642"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127273642" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127273642">(May 29 2018 at 20:52)</a>:</h4>
<p>even if we didn't cover everything, the whole conversation was very useful and made things clearer. Thanks!</p>



<a name="127275665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127275665" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127275665">(May 29 2018 at 21:39)</a>:</h4>
<blockquote>
<p>however, [the plan to only show mir-based errors] ups the ante on getting borrowck error quality improved :)</p>
</blockquote>
<p>continuing my review of the <a href="https://paper.dropbox.com/doc/NLL-stderr-diagnostic-deviations-KzroSvNgQ7lip3WQyiLTa" target="_blank" title="https://paper.dropbox.com/doc/NLL-stderr-diagnostic-deviations-KzroSvNgQ7lip3WQyiLTa">NLL-stderr-diagnostic-deviations</a>, I have to admit that recreating all of the suggestions that have been implemented for AST-borrowck does seem like quite a daunting task.</p>



<a name="127275728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127275728" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127275728">(May 29 2018 at 21:40)</a>:</h4>
<p>and thus perhaps <span class="user-mention" data-user-id="116009">@nikomatsakis</span> has a good point in arguing that the initial deployment of NLL should still issue all errors signaled by AST-borrowck.</p>



<a name="127275731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127275731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127275731">(May 29 2018 at 21:40)</a>:</h4>
<p>I have a feeling if we focus on it it would go faster than expected</p>



<a name="127275735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127275735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127275735">(May 29 2018 at 21:40)</a>:</h4>
<p>but I guess we can test that hypothesis :)</p>



<a name="127275746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127275746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127275746">(May 29 2018 at 21:40)</a>:</h4>
<p>However, I fear that if we do that (and thus reject all code that AST-borrowck rejects), NLL stops looking like much of a feature.</p>



<a name="127275756"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127275756" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127275756">(May 29 2018 at 21:41)</a>:</h4>
<p>(and more of a burden)</p>



<a name="127275765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127275765" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127275765">(May 29 2018 at 21:41)</a>:</h4>
<p>Of course that would only be a relatively short term status...</p>



<a name="127275828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127275828" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127275828">(May 29 2018 at 21:42)</a>:</h4>
<blockquote>
<p>but I guess we can test that hypothesis :)</p>
</blockquote>
<p>All those AST-borrowck diagnostics were, at least in part, the result of a massive distributed effort by various volunteers, right? We can probably recreate that. :)</p>



<a name="127275831"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127275831" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127275831">(May 29 2018 at 21:42)</a>:</h4>
<p>I'm sort of persuaded to your plan fwiw :)</p>



<a name="127275836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127275836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127275836">(May 29 2018 at 21:42)</a>:</h4>
<p>I was worried about "mixing" AST and MIR-based diagnostics</p>



<a name="127275838"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127275838" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127275838">(May 29 2018 at 21:42)</a>:</h4>
<p>but I hadn't thought of the "Third Way"</p>



<a name="127275849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127275849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127275849">(May 29 2018 at 21:43)</a>:</h4>
<p>(reporting MIR errors  as hard errors)</p>



<a name="127275926"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127275926" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127275926">(May 29 2018 at 21:44)</a>:</h4>
<p>well, semi-hard errors</p>



<a name="127275932"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20May%2029/near/127275932" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20May.2029.html#127275932">(May 29 2018 at 21:44)</a>:</h4>
<p>right, hard errors if AST borrowck failed</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>