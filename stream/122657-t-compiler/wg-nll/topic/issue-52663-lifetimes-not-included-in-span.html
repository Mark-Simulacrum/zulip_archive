<html>
<head><meta charset="utf-8"><title>issue-52663-lifetimes-not-included-in-span · t-compiler/wg-nll · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/index.html">t-compiler/wg-nll</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html">issue-52663-lifetimes-not-included-in-span</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="130769684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130769684" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130769684">(Aug 02 2018 at 10:06)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> opened <a href="https://github.com/rust-lang/rust/issues/52973" target="_blank" title="https://github.com/rust-lang/rust/issues/52973">#52973</a> to address <a href="https://github.com/rust-lang/rust/issues/52663#issuecomment-409036656" target="_blank" title="https://github.com/rust-lang/rust/issues/52663#issuecomment-409036656">this diagnostic improvement</a>.</p>



<a name="130770548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130770548" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130770548">(Aug 02 2018 at 10:32)</a>:</h4>
<p>I left a comment, but I'll ask here: Do you think it would be feasible to highlight the specific uses of <code>'a</code> rather than the site where it is bound?</p>



<a name="130770554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130770554" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130770554">(Aug 02 2018 at 10:33)</a>:</h4>
<p>I totally understand if figuring out which use(s) are the relevant ones is too difficult for the short term</p>



<a name="130770699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130770699" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130770699">(Aug 02 2018 at 10:37)</a>:</h4>
<p>I'm not sure. It occurs to me that I misread the comment as "highlight where this <code>'a</code> thing comes from" rather than "highlight why this <code>'a</code> thing is part of the error".</p>



<a name="130770930"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130770930" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130770930">(Aug 02 2018 at 10:43)</a>:</h4>
<p>I might have a idea how to work that out, not too sure, will experiment for a little bit.</p>



<a name="130773055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773055" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773055">(Aug 02 2018 at 11:37)</a>:</h4>
<p>Unless <span class="user-mention" data-user-id="116009">@nikomatsakis</span> has any suggestions how I might go about working this out, I can't figure out from some brief experimentation how to do this <span class="user-mention" data-user-id="116083">@pnkfelix</span>.</p>



<a name="130773104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773104" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773104">(Aug 02 2018 at 11:38)</a>:</h4>
<p>Okay that's fine. Lets just land this one and I'll open an issue for the longer-term feature request.</p>



<a name="130773125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773125" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773125">(Aug 02 2018 at 11:39)</a>:</h4>
<p>I tried looking at the span of the region one constraint away but that wasn't quite what we were after I don't think.</p>



<a name="130773261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773261" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773261">(Aug 02 2018 at 11:42)</a>:</h4>
<p>In fact, had an idea, let me experiment a little more.</p>



<a name="130773298"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773298" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773298">(Aug 02 2018 at 11:43)</a>:</h4>
<p>okay, well I already r+'ed your PR</p>



<a name="130773303"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773303" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773303">(Aug 02 2018 at 11:43)</a>:</h4>
<p>so now you're on a race with bors</p>



<a name="130773308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773308" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773308">(Aug 02 2018 at 11:43)</a>:</h4>
<p>but in my experience, bors tends to be the tortoise in these races.</p>



<a name="130773309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773309" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773309">(Aug 02 2018 at 11:43)</a>:</h4>
<p>:)</p>



<a name="130773516"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773516" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773516">(Aug 02 2018 at 11:48)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> I can have it highlight the argument (not the type of the argument just yet, but the argument name) where the lifetime is used rather than where the lifetime is defined in the generics - not sure if that's better?</p>



<a name="130773536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773536" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773536">(Aug 02 2018 at 11:49)</a>:</h4>
<p>... hmm... no lets not do that</p>



<a name="130773541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773541" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773541">(Aug 02 2018 at 11:49)</a>:</h4>
<p>or at least, that sounds pretty fragile</p>



<a name="130773569"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773569" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773569">(Aug 02 2018 at 11:50)</a>:</h4>
<p>especially when you have things like <code>where</code> clauses or bounds on type parameters, so the actual occurrecne of <code>'a</code> might be quite far from the relevant variable name, right?</p>



<a name="130773648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773648" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773648">(Aug 02 2018 at 11:50)</a>:</h4>
<p>Yeah, I'm not sure.</p>



<a name="130773666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773666" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773666">(Aug 02 2018 at 11:51)</a>:</h4>
<p>For a test <a href="https://github.com/davidtwco/rust/blob/2488cb6b1027bf88e33dfdc7ce89472f5dc54714/src/test/ui/issue-10291.rs" target="_blank" title="https://github.com/davidtwco/rust/blob/2488cb6b1027bf88e33dfdc7ce89472f5dc54714/src/test/ui/issue-10291.rs">like this one</a> (<a href="https://github.com/davidtwco/rust/blob/2488cb6b1027bf88e33dfdc7ce89472f5dc54714/src/test/ui/issue-10291.nll.stderr" target="_blank" title="https://github.com/davidtwco/rust/blob/2488cb6b1027bf88e33dfdc7ce89472f5dc54714/src/test/ui/issue-10291.nll.stderr">nll.stderr</a>) what would you have it highlight ideally?</p>



<a name="130773718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773718" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773718">(Aug 02 2018 at 11:52)</a>:</h4>
<p>/me is looking</p>



<a name="130773743"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773743" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773743">(Aug 02 2018 at 11:53)</a>:</h4>
<p>The occurrence of <code>'x</code> in <code>x: &amp;'x isize</code>, I think.</p>



<a name="130773749"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773749" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773749">(Aug 02 2018 at 11:53)</a>:</h4>
<p>Yeah, that's what I figured it would be.</p>



<a name="130773751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773751" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773751">(Aug 02 2018 at 11:53)</a>:</h4>
<p>what's the alternative you're considering? Not any of the <code>'z</code>'s, right?</p>



<a name="130773757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773757" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773757">(Aug 02 2018 at 11:53)</a>:</h4>
<p>I thought the same as you, the argument.</p>



<a name="130773765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773765" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773765">(Aug 02 2018 at 11:53)</a>:</h4>
<p>I'm close to having that, it just doesn't have the type in the span currently, just the name.</p>



<a name="130773767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773767" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773767">(Aug 02 2018 at 11:54)</a>:</h4>
<p>This is of course a case where highlighting the binding <code>&lt;'x&gt;</code> is a fine UX, since the whole line gets printed.</p>



<a name="130773808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773808" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773808">(Aug 02 2018 at 11:54)</a>:</h4>
<p>Oh, can we  not find the span of the type via the LocalDecl?</p>



<a name="130773813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773813" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773813">(Aug 02 2018 at 11:54)</a>:</h4>
<p>But yeah, it could fail in <code>where</code> clauses.</p>



<a name="130773815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773815" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773815">(Aug 02 2018 at 11:54)</a>:</h4>
<p>yeah</p>



<a name="130773819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773819" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773819">(Aug 02 2018 at 11:54)</a>:</h4>
<p>you know</p>



<a name="130773821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773821" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773821">(Aug 02 2018 at 11:54)</a>:</h4>
<p><code>mir.local_decls[local].source_info.span</code> is just the name, not the type annotation.</p>



<a name="130773825"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773825" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773825">(Aug 02 2018 at 11:54)</a>:</h4>
<p>looking at the stderr for the AST-borrowck</p>



<a name="130773830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773830" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773830">(Aug 02 2018 at 11:55)</a>:</h4>
<p>it clearly does what you did</p>



<a name="130773834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773834" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773834">(Aug 02 2018 at 11:55)</a>:</h4>
<p>A quick glance didn't spot the type annotation span.</p>



<a name="130773836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773836" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773836">(Aug 02 2018 at 11:55)</a>:</h4>
<p>That's exactly where I got it from.</p>



<a name="130773839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773839" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773839">(Aug 02 2018 at 11:55)</a>:</h4>
<p>i.e. highlights the binding site</p>



<a name="130773842"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773842" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773842">(Aug 02 2018 at 11:55)</a>:</h4>
<p>okay so lets not worry too much about this then</p>



<a name="130773847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773847" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773847">(Aug 02 2018 at 11:55)</a>:</h4>
<p>I like diagnostics because I can search for error messages and find out how it was done in AST or where it is done in MIR.</p>



<a name="130773851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773851" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773851">(Aug 02 2018 at 11:55)</a>:</h4>
<p>Our primary goal is just to make sure we're not egregiously worse than AST-borrowck</p>



<a name="130773893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130773893" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130773893">(Aug 02 2018 at 11:56)</a>:</h4>
<p>Alright, we can leave this as a potential future improvement then.</p>



<a name="130975220"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130975220" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130975220">(Aug 06 2018 at 12:22)</a>:</h4>
<p><span class="user-mention" data-user-id="116107">@davidtwco</span> there is code to identify the <code>'a</code> as part of the type that I wrote some time back</p>



<a name="130975229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span/near/130975229" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-52663-lifetimes-not-included-in-span.html#130975229">(Aug 06 2018 at 12:22)</a>:</h4>
<p>it was targeting anonymous lifetimes but could with relative ease be repurposed to named lifetimes, I think</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>