<html>
<head><meta charset="utf-8"><title>issue-51649-region-obligations-not-empty-ICE · t-compiler/wg-nll · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/index.html">t-compiler/wg-nll</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html">issue-51649-region-obligations-not-empty-ICE</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="128765389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128765389" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128765389">(Jun 28 2018 at 10:34)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="116113">@lqd</span> <span class="user-mention" data-user-id="120054">@Jon Gjengset</span></p>



<a name="128775654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128775654" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128775654">(Jun 28 2018 at 14:46)</a>:</h4>
<p>I think I just commented in the wrong thread <span class="emoji emoji-1f389" title="party popper">:party_popper:</span>issue-51348-ICE</p>



<a name="128775656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128775656" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128775656">(Jun 28 2018 at 14:46)</a>:</h4>
<p>doesn't matter</p>



<a name="128775660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128775660" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jon Gjengset <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128775660">(Jun 28 2018 at 14:46)</a>:</h4>
<p>haha, I see</p>



<a name="128775669"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128775669" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jon Gjengset <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128775669">(Jun 28 2018 at 14:46)</a>:</h4>
<p>yeah, 51649 is the one that matters most to me now, because I don't have a workaround for it</p>



<a name="128775677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128775677" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jon Gjengset <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128775677">(Jun 28 2018 at 14:46)</a>:</h4>
<p>you said you can't reproduce on master, so I'll give the latest nightly a stab with my full codebase and see if it still happens there</p>



<a name="128775975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128775975" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128775975">(Jun 28 2018 at 14:53)</a>:</h4>
<p>ok I moved us to the new topic :)</p>



<a name="128776016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128776016" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128776016">(Jun 28 2018 at 14:54)</a>:</h4>
<p>anyway, yes, I cannot reproduce the <strong>ICE</strong> on master, but the underlying flaw is definitely still there</p>



<a name="128776019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128776019" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128776019">(Jun 28 2018 at 14:54)</a>:</h4>
<p>I added more asserts and now I get the error ;)</p>



<a name="128776024"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128776024" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128776024">(Jun 28 2018 at 14:54)</a>:</h4>
<p>still, I think this is mostly an internal matter</p>



<a name="128776027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128776027" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128776027">(Jun 28 2018 at 14:54)</a>:</h4>
<p>that won't affect you</p>



<a name="128776032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128776032" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128776032">(Jun 28 2018 at 14:54)</a>:</h4>
<p>i.e., as long as you don't see an ICE, compilation isn't doing wrong things</p>



<a name="128776234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128776234" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jon Gjengset <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128776234">(Jun 28 2018 at 14:59)</a>:</h4>
<p>I do get it with the latest nightly, but that's obviously not quite master.</p>



<a name="128776436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128776436" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128776436">(Jun 28 2018 at 15:03)</a>:</h4>
<p>indeed</p>



<a name="128778610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128778610" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jon Gjengset <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128778610">(Jun 28 2018 at 15:48)</a>:</h4>
<p>Is there an easy way for me to get the most recent compiler without compiling everything myself? I remember there being a build artefact store somewhere</p>



<a name="128778923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128778923" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128778923">(Jun 28 2018 at 15:55)</a>:</h4>
<p><a href="https://crates.io/crates/rustup-toolchain-install-master" target="_blank" title="https://crates.io/crates/rustup-toolchain-install-master">https://crates.io/crates/rustup-toolchain-install-master</a></p>



<a name="128778936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128778936" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128778936">(Jun 28 2018 at 15:55)</a>:</h4>
<p>you can give it the SHA1 hash of a bors merge commit</p>



<a name="128779031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128779031" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jon Gjengset <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128779031">(Jun 28 2018 at 15:57)</a>:</h4>
<p>ah, great. I was starting to reverse-engineer it from <a href="https://github.com/Mark-Simulacrum/bisect-rust/blob/1970c7600f6389a375ad1b923e40cdedc7b3b605/src/sysroot.rs#L149" target="_blank" title="https://github.com/Mark-Simulacrum/bisect-rust/blob/1970c7600f6389a375ad1b923e40cdedc7b3b605/src/sysroot.rs#L149">https://github.com/Mark-Simulacrum/bisect-rust/blob/1970c7600f6389a375ad1b923e40cdedc7b3b605/src/sysroot.rs#L149</a> but that's much easier</p>



<a name="128779510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128779510" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jon Gjengset <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128779510">(Jun 28 2018 at 16:07)</a>:</h4>
<p><code>5d95db34a472dc09a90737c83ab533b840dcd224</code> (so latest <code>master</code>) compiles fine for me even with the full codebase! :D</p>



<a name="128779527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE/near/128779527" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/issue-51649-region-obligations-not-empty-ICE.html#128779527">(Jun 28 2018 at 16:07)</a>:</h4>
<p>cool</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>