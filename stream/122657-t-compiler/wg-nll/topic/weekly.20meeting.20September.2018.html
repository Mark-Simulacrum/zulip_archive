<html>
<head><meta charset="utf-8"><title>weekly meeting September 18 · t-compiler/wg-nll · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/index.html">t-compiler/wg-nll</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html">weekly meeting September 18</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="134187356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187356" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187356">(Sep 18 2018 at 19:27)</a>:</h4>
<p>another heads up to <span class="user-group-mention" data-user-group-id="491">@WG-compiler-nll</span> that we'll be starting our 30min weekly meeting in about 3 minutes</p>



<a name="134187590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187590" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187590">(Sep 18 2018 at 19:32)</a>:</h4>
<p>hi everyone!!!</p>



<a name="134187639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187639" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187639">(Sep 18 2018 at 19:32)</a>:</h4>
<p>so lets see, as usual, our triage paper is <a href="https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage--AMicW69dcqk67pkASpFjFKpHAg-Em2cJrvxQMMFWLE7lE5Be#:uid=720601708427570955865879&amp;h2=August-27%2C-2018" target="_blank" title="https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage--AMicW69dcqk67pkASpFjFKpHAg-Em2cJrvxQMMFWLE7lE5Be#:uid=720601708427570955865879&amp;h2=August-27%2C-2018">here</a></p>



<a name="134187656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187656" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187656">(Sep 18 2018 at 19:32)</a>:</h4>
<p>hello everyone :) <span class="emoji emoji-1f44b" title="wave">:wave:</span></p>



<a name="134187672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187672" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187672">(Sep 18 2018 at 19:33)</a>:</h4>
<p>i had meant to triage all of our unlabelled bugs before this meeting, but I didn't finish.</p>



<a name="134187686"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187686" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187686">(Sep 18 2018 at 19:34)</a>:</h4>
<p>but a rough skim makes it seem to me like things aren't too bad</p>



<a name="134187754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187754" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187754">(Sep 18 2018 at 19:34)</a>:</h4>
<p>I also did not have time. I wound up spending it all doing reviews :)</p>



<a name="134187766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187766" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187766">(Sep 18 2018 at 19:35)</a>:</h4>
<p>so having said that, I <em>did</em> nominate some issues for discussion</p>



<a name="134187769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187769" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187769">(Sep 18 2018 at 19:35)</a>:</h4>
<p>so lets maybe jump into that first</p>



<a name="134187776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187776" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187776">(Sep 18 2018 at 19:35)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> thanks for renaming my PR, it was indeed the old name</p>



<a name="134187781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187781" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187781">(Sep 18 2018 at 19:35)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=+is%3Aopen+label%3AA-NLL+label%3AI-nominated" target="_blank" title="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=+is%3Aopen+label%3AA-NLL+label%3AI-nominated">nominated issues</a></p>



<a name="134187789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187789" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187789">(Sep 18 2018 at 19:35)</a>:</h4>
<p>oldest first: ReStatic ICE with nll and thread_local <a href="https://github.com/rust-lang/rust/issues/51269" target="_blank" title="https://github.com/rust-lang/rust/issues/51269">#51269</a></p>



<a name="134187838"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187838" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187838">(Sep 18 2018 at 19:36)</a>:</h4>
<p>I just nominated this because its been taken off the RC milestone but we haven't actually made a decision on it</p>



<a name="134187859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187859" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187859">(Sep 18 2018 at 19:36)</a>:</h4>
<p>yeah</p>



<a name="134187861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187861" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187861">(Sep 18 2018 at 19:36)</a>:</h4>
<p>bother</p>



<a name="134187864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187864" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187864">(Sep 18 2018 at 19:37)</a>:</h4>
<p>The core issue seems to be that this is a particular example where AST-borrowck had rejected the code, and NLL accepts it, and the problem is that is <code>unsafe</code> code operating on a <code>static mut</code> which essentially means that "someone" gets to make up what the rule will be</p>



<a name="134187890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187890" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187890">(Sep 18 2018 at 19:37)</a>:</h4>
<p>If we had infinite time I'd say we could engage the Unsafe Code Guidelines working group</p>



<a name="134187893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187893" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187893">(Sep 18 2018 at 19:37)</a>:</h4>
<p>right so the question is sort of "how to treat <code>static mut</code>" intersected with <code>#[thread_local]</code>, right?</p>



<a name="134187898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187898" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187898">(Sep 18 2018 at 19:37)</a>:</h4>
<p>or just punt the question entirely to them</p>



<a name="134187947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187947" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187947">(Sep 18 2018 at 19:38)</a>:</h4>
<p>(Yes I believe the Question is how do we treat the marriage of <code>static mut</code> with <code>#[thread_local]</code>)</p>



<a name="134187948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187948" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187948">(Sep 18 2018 at 19:38)</a>:</h4>
<p>so, I think that overlapping <code>&amp;mut</code> borrows of a <code>static mut</code> do likely indicate UB</p>



<a name="134187952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187952" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187952">(Sep 18 2018 at 19:38)</a>:</h4>
<p>well, it's a bit broader than that really</p>



<a name="134187955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187955" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187955">(Sep 18 2018 at 19:38)</a>:</h4>
<p>the conservative answer is that we should do whatever AST-borrowck did</p>



<a name="134187988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187988" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187988">(Sep 18 2018 at 19:39)</a>:</h4>
<p>so e.g. the AST borrow checker accepts this:</p>
<div class="codehilite"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">FOO</span>: <span class="kt">u32</span> <span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">unsafe</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">FOO</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">FOO</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="o">*</span><span class="n">y</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>



<a name="134187995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187995" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187995">(Sep 18 2018 at 19:39)</a>:</h4>
<p>however, under every model of the usnafe code guidelines we've come up with this, this is UB</p>



<a name="134187999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134187999" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134187999">(Sep 18 2018 at 19:39)</a>:</h4>
<p>but... it seems consistent with how we handle <code>*mut</code></p>



<a name="134188001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188001" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188001">(Sep 18 2018 at 19:39)</a>:</h4>
<p>to accept it</p>



<a name="134188005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188005" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188005">(Sep 18 2018 at 19:39)</a>:</h4>
<p>(one could imagine linting)</p>



<a name="134188051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188051" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188051">(Sep 18 2018 at 19:40)</a>:</h4>
<p>yes linting is what I was just wondering about</p>



<a name="134188054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188054" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188054">(Sep 18 2018 at 19:40)</a>:</h4>
<p>ah hmm so</p>



<a name="134188055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188055" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188055">(Sep 18 2018 at 19:40)</a>:</h4>
<p>the reason that we accept it presently</p>



<a name="134188058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188058" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188058">(Sep 18 2018 at 19:40)</a>:</h4>
<p>is that we consider <code>FOO</code> to be an "unsafe place"</p>



<a name="134188060"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188060" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188060">(Sep 18 2018 at 19:40)</a>:</h4>
<p>and as a result we ignore the borrow</p>



<a name="134188064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188064" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188064">(Sep 18 2018 at 19:40)</a>:</h4>
<p>you could imagine <em>not</em> ignoring the borrow for unsafe places</p>



<a name="134188069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188069" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188069">(Sep 18 2018 at 19:40)</a>:</h4>
<p>but then modifying the errors we report</p>



<a name="134188070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188070" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188070">(Sep 18 2018 at 19:40)</a>:</h4>
<p>still, I think I'd rather do that... later :)</p>



<a name="134188072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188072" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188072">(Sep 18 2018 at 19:40)</a>:</h4>
<p>I do want to be clear here</p>



<a name="134188075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188075" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188075">(Sep 18 2018 at 19:41)</a>:</h4>
<blockquote>
<p>but then modifying the errors we report</p>
</blockquote>
<p>i.e., to make them lints</p>



<a name="134188083"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188083" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188083">(Sep 18 2018 at 19:41)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> is showing examples where AST-borrowck accepts the code</p>



<a name="134188086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188086" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188086">(Sep 18 2018 at 19:41)</a>:</h4>
<p>but the actual bug under discussion</p>



<a name="134188088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188088" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188088">(Sep 18 2018 at 19:41)</a>:</h4>
<p>presently, the MIR-based borrowck <em>also</em> accepts that code</p>



<a name="134188091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188091" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188091">(Sep 18 2018 at 19:41)</a>:</h4>
<p>shows examples where AST_borrowck rejects teh code</p>



<a name="134188094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188094" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188094">(Sep 18 2018 at 19:41)</a>:</h4>
<p>right</p>



<a name="134188097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188097" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188097">(Sep 18 2018 at 19:41)</a>:</h4>
<p>I am more worried about people relying on those checks</p>



<a name="134188101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188101" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188101">(Sep 18 2018 at 19:41)</a>:</h4>
<p>and getting surprised by NLL's behavior</p>



<a name="134188103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188103" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188103">(Sep 18 2018 at 19:41)</a>:</h4>
<p>relying on them how?</p>



<a name="134188106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188106" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188106">(Sep 18 2018 at 19:41)</a>:</h4>
<p>relying on them to reject their code?</p>



<a name="134188157"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188157" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188157">(Sep 18 2018 at 19:42)</a>:</h4>
<p>maybe. I don't know that one could build a safe abstraction that breaks as a result of this. maybe with some crazy enough macros.</p>



<a name="134188162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188162" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188162">(Sep 18 2018 at 19:42)</a>:</h4>
<p>but indeed it might just catch a bug</p>



<a name="134188166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188166" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188166">(Sep 18 2018 at 19:42)</a>:</h4>
<p>so specifically what happens is this:</p>



<a name="134188177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188177" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188177">(Sep 18 2018 at 19:42)</a>:</h4>
<p>you can return an <code>&amp;'static mut T</code> to a <code>#[thread_local] static mut</code></p>



<a name="134188187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188187" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188187">(Sep 18 2018 at 19:43)</a>:</h4>
<p>normally, <code>#[thread_local]</code> things are not permitted to outlive the current fn</p>



<a name="134188189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188189" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188189">(Sep 18 2018 at 19:43)</a>:</h4>
<p>since your thread may exit after it returns</p>



<a name="134188208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188208" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188208">(Sep 18 2018 at 19:43)</a>:</h4>
<p>the challenge is that the MIR borrowck enforces this by looking for an in-scope borrow when the fn returns</p>



<a name="134188267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188267" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188267">(Sep 18 2018 at 19:44)</a>:</h4>
<p>and if we modify the fn that does that check, it will affect other things too .. I guess we could add some more flags somewhere or other</p>



<a name="134188269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188269" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188269">(Sep 18 2018 at 19:44)</a>:</h4>
<p>feels like a pretty corner case though</p>



<a name="134188273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188273" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188273">(Sep 18 2018 at 19:44)</a>:</h4>
<p>well</p>



<a name="134188274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188274" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188274">(Sep 18 2018 at 19:44)</a>:</h4>
<p>I tend to think <code>static mut</code> should just be deprecated anyway</p>



<a name="134188279"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188279" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188279">(Sep 18 2018 at 19:44)</a>:</h4>
<p>we don't have to <em>decide</em> right now</p>



<a name="134188280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188280" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188280">(Sep 18 2018 at 19:44)</a>:</h4>
<p>(weren't we talking about that anyway?)</p>



<a name="134188284"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188284" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188284">(Sep 18 2018 at 19:44)</a>:</h4>
<p>we just need to set a deadline for a decision</p>



<a name="134188289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188289" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188289">(Sep 18 2018 at 19:44)</a>:</h4>
<p>and the code implementing that decision</p>



<a name="134188299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188299" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188299">(Sep 18 2018 at 19:45)</a>:</h4>
<p>i.e. I want to put a milestone back on this ticket, or close it, ...</p>



<a name="134188315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188315" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188315">(Sep 18 2018 at 19:45)</a>:</h4>
<p>(but really we cannot close it; even if we accept the current behavior, it needs a regression test; thus the E-needstest label)</p>



<a name="134188331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188331" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188331">(Sep 18 2018 at 19:45)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> does this feel like an RC2 thing to you, or a Release thing?</p>



<a name="134188340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188340" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188340">(Sep 18 2018 at 19:45)</a>:</h4>
<p>release, I suppose</p>



<a name="134188390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188390" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188390">(Sep 18 2018 at 19:46)</a>:</h4>
<p>And "release" here means, if we decide to start rejecting code, we'll need to do some beta backporting?</p>



<a name="134188394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188394" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188394">(Sep 18 2018 at 19:46)</a>:</h4>
<p>I guess we could preserve the existing AST behavior with enough work</p>



<a name="134188407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188407" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188407">(Sep 18 2018 at 19:46)</a>:</h4>
<p>but I'd also be ok with the existing MIR behavior of "just ignore the dang things"</p>



<a name="134188417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188417" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188417">(Sep 18 2018 at 19:47)</a>:</h4>
<p>yeah I guess.. let's set the deadline to RC2 to avoid that</p>



<a name="134188428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188428" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188428">(Sep 18 2018 at 19:47)</a>:</h4>
<p>maybe we can raise the question at the T-lang meeting</p>



<a name="134188433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188433" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188433">(Sep 18 2018 at 19:47)</a>:</h4>
<p>of what sorts of rules we ought to impose on <code>static mut</code> etc</p>



<a name="134188516"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188516" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188516">(Sep 18 2018 at 19:48)</a>:</h4>
<p>hmm. We may need to prepare a presentation more structured than this ticket if we want to take it up to T-lang. :)</p>



<a name="134188536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188536" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188536">(Sep 18 2018 at 19:49)</a>:</h4>
<p>yes, definitely</p>



<a name="134188544"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188544" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188544">(Sep 18 2018 at 19:49)</a>:</h4>
<p>let's move on for now but I think you and I should write up something</p>



<a name="134188546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188546" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188546">(Sep 18 2018 at 19:49)</a>:</h4>
<p>and/or I can do it</p>



<a name="134188566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188566" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188566">(Sep 18 2018 at 19:49)</a>:</h4>
<p>see also <a href="https://github.com/rust-lang/rust/issues/53639" target="_blank" title="https://github.com/rust-lang/rust/issues/53639">https://github.com/rust-lang/rust/issues/53639</a></p>



<a name="134188615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188615" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188615">(Sep 18 2018 at 19:50)</a>:</h4>
<p>okay the other nominated issue: "NLL + impl Trait: Borrow checker error on else branch" <a href="https://github.com/rust-lang/rust/issues/53528" target="_blank" title="https://github.com/rust-lang/rust/issues/53528">#53528</a></p>



<a name="134188632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188632" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188632">(Sep 18 2018 at 19:50)</a>:</h4>
<p>so I think I actually want to close it at this point</p>



<a name="134188640"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188640" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188640">(Sep 18 2018 at 19:50)</a>:</h4>
<p>but I also just wanted to double check with you all</p>



<a name="134188646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188646" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188646">(Sep 18 2018 at 19:50)</a>:</h4>
<p>I skimmed your comments</p>



<a name="134188666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188666" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188666">(Sep 18 2018 at 19:51)</a>:</h4>
<p>is this something polonius would handle ?</p>



<a name="134188671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188671" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188671">(Sep 18 2018 at 19:51)</a>:</h4>
<p>here's perhaps the best example to discuss: <a href="https://play.rust-lang.org/?gist=8fd149ec95f133999e084eca5cc27d13&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=8fd149ec95f133999e084eca5cc27d13&amp;version=nightly&amp;mode=debug&amp;edition=2015">https://play.rust-lang.org/?gist=8fd149ec95f133999e084eca5cc27d13&amp;version=nightly&amp;mode=debug&amp;edition=2015</a></p>



<a name="134188686"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188686" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188686">(Sep 18 2018 at 19:51)</a>:</h4>
<p>namely, it shows this great hack of actually <em>binding</em> <code>xx @ None =&gt; ...</code></p>



<a name="134188694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188694" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188694">(Sep 18 2018 at 19:52)</a>:</h4>
<p>and then doing <code>drop(xx)</code></p>



<a name="134188744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188744" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188744">(Sep 18 2018 at 19:52)</a>:</h4>
<p>which I suspect most code reviewers would say "what is wrong with you, delete all that"</p>



<a name="134188758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188758" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188758">(Sep 18 2018 at 19:52)</a>:</h4>
<p>but in this case, dropping a <code>None</code> gets the code to compile</p>



<a name="134188770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188770" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188770">(Sep 18 2018 at 19:53)</a>:</h4>
<p>and I guess I wanted ask: Do we think we'd want to try to make things smarter so that people weren't even tempted to investigate hacks like this</p>



<a name="134188795"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188795" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188795">(Sep 18 2018 at 19:53)</a>:</h4>
<p>My current take is this:</p>



<a name="134188809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188809" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188809">(Sep 18 2018 at 19:53)</a>:</h4>
<p>In the past there have been proposals to unify Enums and Structs in various ways</p>



<a name="134188857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188857" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188857">(Sep 18 2018 at 19:54)</a>:</h4>
<p>such that you could actually have <code>None</code> be a type</p>



<a name="134188864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188864" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188864">(Sep 18 2018 at 19:54)</a>:</h4>
<p>and <code>None: Option</code> would be a subtype, etc</p>



<a name="134188886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188886" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188886">(Sep 18 2018 at 19:55)</a>:</h4>
<p>ok, so, can I just double check something. The error is match we do desugar the <code>if let</code> to something like this:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tmp</span><span class="p">.</span><span class="n">get_iter</span><span class="p">();</span><span class="w"></span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">xx</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="p">..</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="c1">// foo gets dropped here</span>
</pre></div>


<p>To accept this, we would have to figure out that — on the <code>else</code> path — the type of <code>foo</code> can be "refined" to exclude <code>Some</code>? (or, equivalently, to <code>None</code>)</p>



<a name="134188900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188900" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188900">(Sep 18 2018 at 19:55)</a>:</h4>
<p>is this correct, <span class="user-mention" data-user-id="116083">@pnkfelix</span> ?</p>



<a name="134188913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188913" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188913">(Sep 18 2018 at 19:55)</a>:</h4>
<p>perhaps this should be out of band, but I don't understand why the binding <code>xx @</code> causes  a problem if it's never used. That feels like a thing that NLL would handle</p>



<a name="134188915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188915" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188915">(Sep 18 2018 at 19:55)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span>  Yes, to solve the bug in full, we'd have to get to that point</p>



<a name="134188976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188976" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188976">(Sep 18 2018 at 19:56)</a>:</h4>
<p>namely, we'd have to actually deal with the case of <code>if let</code> and having knowledge of what that implies for the <code>else</code> branch</p>



<a name="134188985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188985" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188985">(Sep 18 2018 at 19:56)</a>:</h4>
<p>So</p>



<a name="134188986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188986" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188986">(Sep 18 2018 at 19:56)</a>:</h4>
<p>another way to solve this</p>



<a name="134188990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188990" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188990">(Sep 18 2018 at 19:56)</a>:</h4>
<p>I suspect MIR codegen would have to change to emit drops on each branch</p>



<a name="134188995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134188995" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134188995">(Sep 18 2018 at 19:56)</a>:</h4>
<p>instead of at the end</p>



<a name="134189009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189009" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189009">(Sep 18 2018 at 19:56)</a>:</h4>
<p>I imagine that drop elaboration knows the <code>.as&lt;Some&gt;</code> case.. was moved? Oh, I think we don't track that</p>



<a name="134189012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189012" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189012">(Sep 18 2018 at 19:56)</a>:</h4>
<p>yeah</p>



<a name="134189018"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189018" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189018">(Sep 18 2018 at 19:57)</a>:</h4>
<p>I think this is WONTFIX, possible future extension</p>



<a name="134189023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189023" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189023">(Sep 18 2018 at 19:57)</a>:</h4>
<p>it's an interesting problem though!</p>



<a name="134189028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189028" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189028">(Sep 18 2018 at 19:57)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> maybe follow up about your Q after the meeting; in particular, its not the binding of <code>xx</code> that is causing the problem here.</p>



<a name="134189053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189053" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189053">(Sep 18 2018 at 19:57)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I'm inclined to also just say "this is currently a WONTFIX; maybe for Rust 2027..."</p>



<a name="134189095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189095" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189095">(Sep 18 2018 at 19:58)</a>:</h4>
<p>okay sounds good to me</p>



<a name="134189099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189099" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189099">(Sep 18 2018 at 19:58)</a>:</h4>
<p>we should consider diagnostics though</p>



<a name="134189100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189100" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189100">(Sep 18 2018 at 19:58)</a>:</h4>
<p>Rust 2021 plz</p>



<a name="134189103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189103" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189103">(Sep 18 2018 at 19:58)</a>:</h4>
<p>that said, I think that some of the pending PRs</p>



<a name="134189106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189106" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189106">(Sep 18 2018 at 19:58)</a>:</h4>
<p>might address this</p>



<a name="134189109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189109" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189109">(Sep 18 2018 at 19:58)</a>:</h4>
<p>(but of course other people should chime in if they have thoughts)</p>



<a name="134189112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189112" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189112">(Sep 18 2018 at 19:58)</a>:</h4>
<p>e.g., yours, <span class="user-mention" data-user-id="116083">@pnkfelix</span>, that is more detailed</p>



<a name="134189114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189114" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189114">(Sep 18 2018 at 19:58)</a>:</h4>
<p>it would be very helpful if we were talking about <code>drop</code> here</p>



<a name="134189118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189118" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189118">(Sep 18 2018 at 19:58)</a>:</h4>
<p>at least for experts like us :P</p>



<a name="134189123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189123" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189123">(Sep 18 2018 at 19:58)</a>:</h4>
<p>you could even imagine us trying to explain that, on the <code>else</code> path, we still need to drop because no move occurred</p>



<a name="134189138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189138" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189138">(Sep 18 2018 at 19:59)</a>:</h4>
<p>right. Another instance of "lets explain drops of temporary values"</p>



<a name="134189139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189139" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189139">(Sep 18 2018 at 19:59)</a>:</h4>
<p>Is there any concern that impl trait causes it vs non-impl trait?</p>



<a name="134189150"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189150" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189150">(Sep 18 2018 at 19:59)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> I think that's more about how impl Trait has to allow for a destructor</p>



<a name="134189153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189153" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189153">(Sep 18 2018 at 19:59)</a>:</h4>
<p>I have a comment about this somewhere</p>



<a name="134189164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189164" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189164">(Sep 18 2018 at 20:00)</a>:</h4>
<p>yes, that's the problem</p>



<a name="134189209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189209" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189209">(Sep 18 2018 at 20:00)</a>:</h4>
<p>we don't have a way to say "this impl Trait will never implement Drop"</p>



<a name="134189226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189226" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189226">(Sep 18 2018 at 20:00)</a>:</h4>
<p>the interesting thing that you maybe <em>should</em> be asking is</p>



<a name="134189229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189229" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189229">(Sep 18 2018 at 20:00)</a>:</h4>
<p>gotcha. More cases of diagnostics for the "maybe" case</p>



<a name="134189232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189232" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189232">(Sep 18 2018 at 20:00)</a>:</h4>
<p>doesn't this mean that NLL makes adding <code>Drop</code> semver breaking?</p>



<a name="134189236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189236" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189236">(Sep 18 2018 at 20:00)</a>:</h4>
<p>the answer is "yes", though it already was</p>



<a name="134189241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189241" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189241">(Sep 18 2018 at 20:00)</a>:</h4>
<p>but perhaps more so than before</p>



<a name="134189243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189243" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189243">(Sep 18 2018 at 20:00)</a>:</h4>
<p>Oh, I was about to ask that, but you beat me to it <span class="emoji emoji-1f607" title="innocent">:innocent:</span></p>



<a name="134189244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189244" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189244">(Sep 18 2018 at 20:00)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> yeah just look at my comment sequence on <a href="https://github.com/rust-lang/rust/issues/53528" target="_blank" title="https://github.com/rust-lang/rust/issues/53528">#53528</a></p>



<a name="134189250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189250" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189250">(Sep 18 2018 at 20:01)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> I had a very gradual awakening to the scope of the problem</p>



<a name="134189271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189271" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189271">(Sep 18 2018 at 20:01)</a>:</h4>
<p>Or right, I recall when this was added now.</p>



<a name="134189277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189277" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189277">(Sep 18 2018 at 20:01)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> we need some way to track these sorts of problems</p>



<a name="134189345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189345" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189345">(Sep 18 2018 at 20:02)</a>:</h4>
<p>that is, possible future extensions and interesting scenarios</p>



<a name="134189347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189347" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189347">(Sep 18 2018 at 20:02)</a>:</h4>
<p>not sure where to do that though :(</p>



<a name="134189353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189353" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189353">(Sep 18 2018 at 20:02)</a>:</h4>
<p>so, it's 4pm here...</p>



<a name="134189356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189356" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189356">(Sep 18 2018 at 20:02)</a>:</h4>
<p>rfc repo/issues, of course</p>



<a name="134189357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189357" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189357">(Sep 18 2018 at 20:02)</a>:</h4>
<p>we didn't talk about open issues</p>



<a name="134189360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189360" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189360">(Sep 18 2018 at 20:02)</a>:</h4>
<p>(ha ha)</p>



<a name="134189367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189367" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189367">(Sep 18 2018 at 20:02)</a>:</h4>
<p>sigh</p>



<a name="134189369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189369" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189369">(Sep 18 2018 at 20:02)</a>:</h4>
<p>theoretically yes :)</p>



<a name="134189370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189370" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189370">(Sep 18 2018 at 20:02)</a>:</h4>
<p>oh okay, lets maybe check on the open issues</p>



<a name="134189374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189374" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189374">(Sep 18 2018 at 20:02)</a>:</h4>
<p>one thing I think we should follow up on is type annotations</p>



<a name="134189383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189383" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189383">(Sep 18 2018 at 20:03)</a>:</h4>
<p>I was supposed to open some subissues I think</p>



<a name="134189387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189387" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189387">(Sep 18 2018 at 20:03)</a>:</h4>
<p>but I failed to do it</p>



<a name="134189490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189490" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189490">(Sep 18 2018 at 20:05)</a>:</h4>
<p>PS <span class="user-mention" data-user-id="119009">@eddyb</span> made the cogent observation  that <code>#[thread_local]</code> is unstable <span class="user-mention" data-user-id="116083">@pnkfelix</span> — so we can actually file this under "known issues" with <code>#[thread_local]</code> and move on with our lives, probably</p>



<a name="134189495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189495" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189495">(Sep 18 2018 at 20:05)</a>:</h4>
<p>(re: that other issue)</p>



<a name="134189517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189517" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189517">(Sep 18 2018 at 20:05)</a>:</h4>
<p>it seems like type annotations is the major thing</p>



<a name="134189518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189518" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189518">(Sep 18 2018 at 20:06)</a>:</h4>
<p>okay, lets see, unassigned issues</p>



<a name="134189568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189568" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189568">(Sep 18 2018 at 20:06)</a>:</h4>
<p>though <span class="user-mention" data-user-id="116113">@lqd</span> found some diagnostic issues from the NLL run that I was supposed to open issues on</p>



<a name="134189569"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189569" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189569">(Sep 18 2018 at 20:06)</a>:</h4>
<p>right, and the rest of the type annotations work</p>



<a name="134189571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189571" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189571">(Sep 18 2018 at 20:06)</a>:</h4>
<p>there are a lot of pending diagnostic-y PRs,</p>



<a name="134189572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189572" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189572">(Sep 18 2018 at 20:06)</a>:</h4>
<p>I think want to start giving p=1 to them</p>



<a name="134189577"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189577" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189577">(Sep 18 2018 at 20:06)</a>:</h4>
<p>because it's hard to tell what is "in flight"</p>



<a name="134189583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189583" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189583">(Sep 18 2018 at 20:06)</a>:</h4>
<p>mmm</p>



<a name="134189591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189591" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189591">(Sep 18 2018 at 20:06)</a>:</h4>
<p>I don't know if that's a good argument for p=1</p>



<a name="134189601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189601" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189601">(Sep 18 2018 at 20:06)</a>:</h4>
<p>isn't in flight stuff supposed to have [WIP] on it?</p>



<a name="134189602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189602" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189602">(Sep 18 2018 at 20:06)</a>:</h4>
<p>e.g.  <span class="user-mention" data-user-id="116083">@pnkfelix</span>, <span class="user-mention" data-user-id="116118">@Matthew Jasper</span>, and <span class="user-mention" data-user-id="116107">@davidtwco</span> all have such PRs</p>



<a name="134189605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189605" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189605">(Sep 18 2018 at 20:06)</a>:</h4>
<p>or maybe I misunderstand what you mean by "in flight"</p>



<a name="134189610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189610" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189610">(Sep 18 2018 at 20:07)</a>:</h4>
<p>sorry, what I mean is, it's hard to tell what the fixed problems are</p>



<a name="134189623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189623" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189623">(Sep 18 2018 at 20:07)</a>:</h4>
<p>ah like which issues have PR's</p>



<a name="134189624"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189624" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189624">(Sep 18 2018 at 20:07)</a>:</h4>
<p>and what the diagnostics will look like once those PRs all land</p>



<a name="134189630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189630" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189630">(Sep 18 2018 at 20:07)</a>:</h4>
<p>that just haven't landed</p>



<a name="134189706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189706" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189706">(Sep 18 2018 at 20:08)</a>:</h4>
<p>well</p>



<a name="134189710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189710" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189710">(Sep 18 2018 at 20:08)</a>:</h4>
<p>maybe we need to do a NLL diagnostics rollup PR</p>



<a name="134189730"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189730" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189730">(Sep 18 2018 at 20:08)</a>:</h4>
<p>and p=1 that? wfm</p>



<a name="134189736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189736" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189736">(Sep 18 2018 at 20:08)</a>:</h4>
<p>okay</p>



<a name="134189758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189758" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189758">(Sep 18 2018 at 20:09)</a>:</h4>
<p>do we want to try to figure out who's going to follow up with type annotation work?</p>



<a name="134189780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189780" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189780">(Sep 18 2018 at 20:09)</a>:</h4>
<p>we could, yes</p>



<a name="134189782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189782" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189782">(Sep 18 2018 at 20:09)</a>:</h4>
<p>It might be hard to do a rollup because of merge conflicts. I think all of my PRs in the past few days that are attempting to land or recently landed have needed rebases due to other diagnostic PRs landing.</p>



<a name="134189798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189798" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189798">(Sep 18 2018 at 20:09)</a>:</h4>
<p>a lot of negatives in that sentence :)</p>



<a name="134189803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189803" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189803">(Sep 18 2018 at 20:09)</a>:</h4>
<p><span class="user-mention" data-user-id="116107">@davidtwco</span> I suspect it will indeed be a rollup that will require some manual effort</p>



<a name="134189851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189851" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189851">(Sep 18 2018 at 20:10)</a>:</h4>
<p>which is why one of us will probably need to do it</p>



<a name="134189871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189871" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189871">(Sep 18 2018 at 20:10)</a>:</h4>
<p>instead of having one of the usual rollup creators do it</p>



<a name="134189877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189877" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189877">(Sep 18 2018 at 20:10)</a>:</h4>
<p>confirm</p>



<a name="134189884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189884" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189884">(Sep 18 2018 at 20:10)</a>:</h4>
<p>(that was my expectation)</p>



<a name="134189896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189896" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189896">(Sep 18 2018 at 20:10)</a>:</h4>
<p>I'm happy to have a shot at doing the rollup.</p>



<a name="134189960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134189960" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134189960">(Sep 18 2018 at 20:11)</a>:</h4>
<p>which PRs should be included? maybe we can make a list</p>



<a name="134190009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190009" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190009">(Sep 18 2018 at 20:12)</a>:</h4>
<p>how about this:</p>



<a name="134190012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190012" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190012">(Sep 18 2018 at 20:12)</a>:</h4>
<p>I'll open a bug</p>



<a name="134190035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190035" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190035">(Sep 18 2018 at 20:12)</a>:</h4>
<p>I realize there are more. e.g. <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> has <a href="https://github.com/rust-lang/rust/issues/54255" target="_blank" title="https://github.com/rust-lang/rust/issues/54255">#54255</a></p>



<a name="134190045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190045" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190045">(Sep 18 2018 at 20:12)</a>:</h4>
<p>I just opened <a href="https://github.com/rust-lang/rust/issues/54329" target="_blank" title="https://github.com/rust-lang/rust/issues/54329">#54329</a></p>



<a name="134190046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190046" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190046">(Sep 18 2018 at 20:12)</a>:</h4>
<blockquote>
<p>I'll open a bug</p>
</blockquote>
<p>and we can throw links in there?</p>



<a name="134190050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190050" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190050">(Sep 18 2018 at 20:13)</a>:</h4>
<p>exactly</p>



<a name="134190091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190091" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190091">(Sep 18 2018 at 20:13)</a>:</h4>
<p>so back to "NLL should identify and respect the lifetime annotations that the user wrote" <a href="https://github.com/rust-lang/rust/issues/47184" target="_blank" title="https://github.com/rust-lang/rust/issues/47184">#47184</a></p>



<a name="134190158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190158" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190158">(Sep 18 2018 at 20:14)</a>:</h4>
<p>no one's assigned to the issue. the bullet list has these items left: "Complex bindings with no initializer"; "Associated constants in expressions?"; "Associated constants in patterns?"</p>



<a name="134190162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190162" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190162">(Sep 18 2018 at 20:14)</a>:</h4>
<p>ok so I think I would divide it up into:</p>
<ul>
<li>Lifetimes in patterns:</li>
<li>Associated constants in expressions/patterns</li>
<li>Casts: x as T</li>
<li>More complicated let bindings. eg. let (x, y): (u32, u32) = (33, 54);</li>
</ul>



<a name="134190175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190175" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190175">(Sep 18 2018 at 20:15)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> you were looking for tasks, maybe I can carve out some of those? <span class="user-mention" data-user-id="116108">@Keith Yeung</span> had also expressed interest, and maybe <span class="user-mention" data-user-id="116925">@mikhail-m1</span> ...</p>



<a name="134190183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190183" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190183">(Sep 18 2018 at 20:15)</a>:</h4>
<p>I think "casts" would be a good starter issue</p>



<a name="134190186"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190186" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190186">(Sep 18 2018 at 20:15)</a>:</h4>
<p>maybe it makes sense to have one person, since they are all kind of related</p>



<a name="134190234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190234" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Yeung <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190234">(Sep 18 2018 at 20:16)</a>:</h4>
<p>i was indeed looking for tasks</p>



<a name="134190240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190240" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190240">(Sep 18 2018 at 20:16)</a>:</h4>
<p>well, are they that related?</p>



<a name="134190254"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190254" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190254">(Sep 18 2018 at 20:16)</a>:</h4>
<p>in the sense that they all involve 'capturing' a user's type and enforcing it later</p>



<a name="134190257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190257" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190257">(Sep 18 2018 at 20:17)</a>:</h4>
<p>I guess I was not sure if patterns end up overlapping much with casts</p>



<a name="134190262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190262" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190262">(Sep 18 2018 at 20:17)</a>:</h4>
<p>but not otherwise</p>



<a name="134190271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190271" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190271">(Sep 18 2018 at 20:17)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> you were looking for tasks, maybe I can carve out some of those? <span class="user-mention" data-user-id="116108">@Keith Yeung</span> had also expressed interest, and maybe <span class="user-mention" data-user-id="116925">@mikhail-m1</span> ...</p>
</blockquote>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="134190273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190273" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190273">(Sep 18 2018 at 20:17)</a>:</h4>
<p>it's just that they'll rely on the same helper fns and things</p>



<a name="134190294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190294" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190294">(Sep 18 2018 at 20:17)</a>:</h4>
<p>okay. This issue probably is the most pressing thing right now</p>



<a name="134190344"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190344" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190344">(Sep 18 2018 at 20:18)</a>:</h4>
<p>since I think the last of our known performance issues seem to have been resolved?</p>



<a name="134190362"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190362" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190362">(Sep 18 2018 at 20:18)</a>:</h4>
<p>basically. <span class="user-mention" data-user-id="120989">@nnethercote</span> has a great PR helping with memory use</p>



<a name="134190366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190366" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190366">(Sep 18 2018 at 20:18)</a>:</h4>
<p>two of them</p>



<a name="134190372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190372" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190372">(Sep 18 2018 at 20:18)</a>:</h4>
<p>maybe two, I forget</p>



<a name="134190373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190373" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190373">(Sep 18 2018 at 20:18)</a>:</h4>
<p>but yeah</p>



<a name="134190381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190381" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190381">(Sep 18 2018 at 20:18)</a>:</h4>
<p>it might be time to rejuvenate polonius then :)</p>



<a name="134190383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190383" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190383">(Sep 18 2018 at 20:18)</a>:</h4>
<p>(the first already landed)</p>



<a name="134190388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190388" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190388">(Sep 18 2018 at 20:19)</a>:</h4>
<p>there is something else</p>



<a name="134190393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190393" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190393">(Sep 18 2018 at 20:19)</a>:</h4>
<p>that is also relevant</p>



<a name="134190394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190394" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190394">(Sep 18 2018 at 20:19)</a>:</h4>
<p>the 2nd main one failed travis just now (3h timeout)</p>



<a name="134190400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190400" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190400">(Sep 18 2018 at 20:19)</a>:</h4>
<p>oh didn't someone ask above if Polonius would help with that WONTFIX bug</p>



<a name="134190401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190401" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190401">(Sep 18 2018 at 20:19)</a>:</h4>
<p>not sure how to schedule</p>



<a name="134190403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190403" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190403">(Sep 18 2018 at 20:19)</a>:</h4>
<blockquote>
<p>oh didn't someone ask above if Polonius would help with that WONTFIX bug</p>
</blockquote>
<p>it won't</p>



<a name="134190411"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190411" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190411">(Sep 18 2018 at 20:19)</a>:</h4>
<p>at least, not directly</p>



<a name="134190420"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190420" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190420">(Sep 18 2018 at 20:19)</a>:</h4>
<p>in particular, we'll still generate the facts that say that the region is live and used in the dtor</p>



<a name="134190482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190482" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190482">(Sep 18 2018 at 20:20)</a>:</h4>
<blockquote>
<p>the 2nd main one failed travis just now (3h timeout)</p>
</blockquote>
<p>sounds maybe like a retry</p>



<a name="134190489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190489" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190489">(Sep 18 2018 at 20:20)</a>:</h4>
<blockquote>
<p>there is something else</p>
</blockquote>
<p>what I was referring to here:</p>
<p>right now, we still use the "lexical region checker" for things that are not fn bodies</p>



<a name="134190493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190493" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190493">(Sep 18 2018 at 20:20)</a>:</h4>
<p>e.g., WF checking</p>



<a name="134190501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190501" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190501">(Sep 18 2018 at 20:20)</a>:</h4>
<p>I would like to be able to fully transition to NLL at some point</p>



<a name="134190504"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190504" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190504">(Sep 18 2018 at 20:20)</a>:</h4>
<p>this will require removing that code</p>



<a name="134190507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190507" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Yeung <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190507">(Sep 18 2018 at 20:20)</a>:</h4>
<p>what's WF?</p>



<a name="134190510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190510" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190510">(Sep 18 2018 at 20:20)</a>:</h4>
<p>sorry, well-formedness checking</p>



<a name="134190527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190527" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190527">(Sep 18 2018 at 20:21)</a>:</h4>
<blockquote>
<p>sounds maybe like a retry</p>
</blockquote>
<p>(it's <a href="https://github.com/rust-lang/rust/issues/54318" target="_blank" title="https://github.com/rust-lang/rust/issues/54318">#54318</a> for people with bors permissions)</p>



<a name="134190531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190531" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190531">(Sep 18 2018 at 20:21)</a>:</h4>
<p>e.g., if you have</p>
<div class="codehilite"><pre><span></span><span class="k">struct</span> <span class="nc">Foo</span><span class="o">&lt;</span><span class="na">&#39;a</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">x</span>: <span class="kp">&amp;</span><span class="na">&#39;a</span><span class="w"> </span><span class="n">T</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>


<p>this is the code that checks that <code>T: 'a</code> is required (though now we infer that)</p>



<a name="134190541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190541" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190541">(Sep 18 2018 at 20:21)</a>:</h4>
<p>but there are also lots of random bits of code that rely on the old checker</p>



<a name="134190549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190549" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190549">(Sep 18 2018 at 20:21)</a>:</h4>
<p>e.g., the stuff that checks impl method signatures against the sig from the traits</p>



<a name="134190631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190631" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190631">(Sep 18 2018 at 20:22)</a>:</h4>
<p>(<span class="user-mention" data-user-id="116155">@Jake Goulding</span> thanks)</p>



<a name="134190636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190636" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190636">(Sep 18 2018 at 20:23)</a>:</h4>
<p>anyway, let's drop that for now</p>



<a name="134190644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190644" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190644">(Sep 18 2018 at 20:23)</a>:</h4>
<p>I'll try to file some issues about type annotations</p>



<a name="134190664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190664" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190664">(Sep 18 2018 at 20:23)</a>:</h4>
<p>(right now, probably)</p>



<a name="134190678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190678" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190678">(Sep 18 2018 at 20:23)</a>:</h4>
<p>wait, is type ascription still a thing?</p>



<a name="134190681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190681" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190681">(Sep 18 2018 at 20:23)</a>:</h4>
<p>we probably should add that to the list too</p>



<a name="134190718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190718" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Yeung <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190718">(Sep 18 2018 at 20:24)</a>:</h4>
<p>isn't that <a href="https://github.com/rust-lang/rust/issues/47184" target="_blank" title="https://github.com/rust-lang/rust/issues/47184">#47184</a>?</p>



<a name="134190738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190738" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Yeung <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190738">(Sep 18 2018 at 20:24)</a>:</h4>
<p>no wait, i was thinking of an RFC</p>



<a name="134190740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190740" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190740">(Sep 18 2018 at 20:24)</a>:</h4>
<p>yes, some of the subparts of this issue</p>



<a name="134190751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190751" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190751">(Sep 18 2018 at 20:24)</a>:</h4>
<p>(ah recent generalized type ascription rfc from centril)</p>



<a name="134190783"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190783" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Yeung <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190783">(Sep 18 2018 at 20:25)</a>:</h4>
<p>yes, the fact that you can have type ascriptions with expressions</p>



<a name="134190789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190789" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Yeung <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190789">(Sep 18 2018 at 20:25)</a>:</h4>
<p>i'm unsure if that relates to us</p>



<a name="134190799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190799" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190799">(Sep 18 2018 at 20:25)</a>:</h4>
<p>is it all-hands on deck with type annotations for this week ?</p>



<a name="134190808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/weekly%20meeting%20September%2018/near/134190808" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/122657-t-compiler/wg-nll/topic/weekly.20meeting.20September.2018.html#134190808">(Sep 18 2018 at 20:25)</a>:</h4>
<p>(i'll move to a topic)</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>