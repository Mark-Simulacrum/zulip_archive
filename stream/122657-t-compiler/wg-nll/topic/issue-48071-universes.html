<html>
<head><meta charset="utf-8"><title>issue-48071-universes · t-compiler/wg-nll · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/index.html">t-compiler/wg-nll</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html">issue-48071-universes</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="130153863"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130153863" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130153863">(Jul 23 2018 at 15:06)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> are you around now by any chance?</p>



<a name="130153895"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130153895" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130153895">(Jul 23 2018 at 15:07)</a>:</h4>
<p>I'd like to talk about <a href="https://github.com/rust-lang/rust/issues/52488" target="_blank" title="https://github.com/rust-lang/rust/issues/52488">#52488</a>?</p>



<a name="130153986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130153986" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130153986">(Jul 23 2018 at 15:08)</a>:</h4>
<p>maybe we can schedule a time to chat tomorrow</p>



<a name="130154020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130154020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130154020">(Jul 23 2018 at 15:09)</a>:</h4>
<p>I’m en route to my apt right now, on mobile phone</p>



<a name="130154041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130154041" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130154041">(Jul 23 2018 at 15:09)</a>:</h4>
<p>Ill be able to chat for a short while (until ~18:00 CET) after I get there</p>



<a name="130154437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130154437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130154437">(Jul 23 2018 at 15:15)</a>:</h4>
<p>ok. Let me sketch out the scenario just a bit:</p>



<a name="130154449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130154449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130154449">(Jul 23 2018 at 15:15)</a>:</h4>
<ul>
<li>Right now, the type check uses this conservative form of handling higher-ranked types ("leak check")</li>
</ul>



<a name="130154455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130154455" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130154455">(Jul 23 2018 at 15:15)</a>:</h4>
<ul>
<li>This has a known bug around <code>'static</code></li>
</ul>



<a name="130154498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130154498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130154498">(Jul 23 2018 at 15:16)</a>:</h4>
<ul>
<li>I want to move to the "universes method" more generally; it does not have this bug</li>
</ul>



<a name="130154520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130154520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130154520">(Jul 23 2018 at 15:16)</a>:</h4>
<ul>
<li>As a baby step, I rewrote the NLL type-checker to use a new version of subtyping that is tailored to its exact conditions:<ul>
<li>Almost no type variables, except for one special case (things like <code>let x: Foo&lt;_&gt; = ...</code>)</li>
<li>Uses universes</li>
</ul>
</li>
</ul>



<a name="130154570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130154570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130154570">(Jul 23 2018 at 15:17)</a>:</h4>
<ul>
<li>This passes all tests and seems to work; it's even mildly faster than before (and I think could be optimized further)</li>
</ul>



<a name="130154590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130154590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130154590">(Jul 23 2018 at 15:17)</a>:</h4>
<ul>
<li>It also fixes the ICEs we were getting, where the leak check was failing during NLL because it erased knowledge of <code>'static</code></li>
</ul>



<a name="130154610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130154610" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130154610">(Jul 23 2018 at 15:17)</a>:</h4>
<ul>
<li>However, I can't come up with a way to write "negative tests" -- that is, because the type-check pre-screen is stricter than NLL, in some sense, I can't test the error paths</li>
</ul>



<a name="130154656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130154656" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130154656">(Jul 23 2018 at 15:18)</a>:</h4>
<ul>
<li>I guess I could maybe add a <code>-Zunsound-leak-check</code> flag or something</li>
</ul>



<a name="130154673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130154673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130154673">(Jul 23 2018 at 15:18)</a>:</h4>
<ul>
<li>Sort of like we did when we had a similar problem with match guards</li>
</ul>



<a name="130154678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130154678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130154678">(Jul 23 2018 at 15:18)</a>:</h4>
<p>mmmm maybe that's what I should do</p>



<a name="130154684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130154684" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130154684">(Jul 23 2018 at 15:18)</a>:</h4>
<p>I don't feel great landing the code without tests, I already found some obvious bugs when rebasing</p>



<a name="130155509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155509">(Jul 23 2018 at 15:31)</a>:</h4>
<p>yes, I would say add a debug flag that disables the type-check pre-screen</p>



<a name="130155569"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155569" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155569">(Jul 23 2018 at 15:32)</a>:</h4>
<p>did you resolve the performance issues that you and kennytm were discussing in the comment thread on the PR ?</p>



<a name="130155587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155587">(Jul 23 2018 at 15:33)</a>:</h4>
<p>no, I can't reproduce those, I am not convinced they are real</p>



<a name="130155590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155590">(Jul 23 2018 at 15:33)</a>:</h4>
<p>I was planning to retest</p>



<a name="130155600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155600">(Jul 23 2018 at 15:33)</a>:</h4>
<p>once I had it rebased etc</p>



<a name="130155603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155603" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155603">(Jul 23 2018 at 15:33)</a>:</h4>
<p>wait I thought you said you observed 3x slowdown locally?</p>



<a name="130155607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155607">(Jul 23 2018 at 15:33)</a>:</h4>
<p>no I observed MASTER slowing down</p>



<a name="130155620"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155620" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155620">(Jul 23 2018 at 15:33)</a>:</h4>
<p>and my branch being 3x <em>faster</em></p>



<a name="130155625"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155625" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155625">(Jul 23 2018 at 15:33)</a>:</h4>
<p><em>OH</em></p>



<a name="130155631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155631" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155631">(Jul 23 2018 at 15:33)</a>:</h4>
<p>but I think I must have been mismeasuring</p>



<a name="130155634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155634" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155634">(Jul 23 2018 at 15:33)</a>:</h4>
<p>regardless I never saw my branch be slower</p>



<a name="130155700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155700" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155700">(Jul 23 2018 at 15:34)</a>:</h4>
<p>I'm seeing a bunch of link-time errors on master on my linux box. :(</p>



<a name="130155703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155703" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155703">(Jul 23 2018 at 15:34)</a>:</h4>
<p>on four of the run-pass tests</p>



<a name="130155708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155708" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155708">(Jul 23 2018 at 15:34)</a>:</h4>
<p>it is annoying</p>



<a name="130155710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155710">(Jul 23 2018 at 15:34)</a>:</h4>
<p>my linux box is not ssh'able and I am sad</p>



<a name="130155713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155713">(Jul 23 2018 at 15:34)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> I've seen those too today (<a href="https://gist.github.com/davidtwco/083e5b0b0146958f3a2ab65a1b71b247" target="_blank" title="https://gist.github.com/davidtwco/083e5b0b0146958f3a2ab65a1b71b247">https://gist.github.com/davidtwco/083e5b0b0146958f3a2ab65a1b71b247</a>)</p>



<a name="130155715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155715">(Jul 23 2018 at 15:34)</a>:</h4>
<p>however, it does experience weird problems sometimes</p>



<a name="130155717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155717">(Jul 23 2018 at 15:34)</a>:</h4>
<p>not link errors though</p>



<a name="130155726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155726" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155726">(Jul 23 2018 at 15:35)</a>:</h4>
<blockquote>
<p>my linux box is not ssh'able and I am sad</p>
</blockquote>
<p>oh that is super sad</p>



<a name="130155735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130155735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130155735">(Jul 23 2018 at 15:35)</a>:</h4>
<p>but I'll be back home in a week or two. who knows what went wrong.</p>



<a name="130267876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130267876" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130267876">(Jul 25 2018 at 10:45)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> ping</p>



<a name="130267881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130267881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130267881">(Jul 25 2018 at 10:45)</a>:</h4>
<p>pong; reviewing now</p>



<a name="130274093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130274093" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130274093">(Jul 25 2018 at 13:05)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> so is that r=you if I correct nits + fix travis?</p>



<a name="130274135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130274135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130274135">(Jul 25 2018 at 13:06)</a>:</h4>
<p>I am debating how much to worry, there is one UI regression I am looking at now</p>



<a name="130274139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130274139" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130274139">(Jul 25 2018 at 13:06)</a>:</h4>
<p>where I think we are doing a less good job picking spans</p>



<a name="130274143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130274143" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130274143">(Jul 25 2018 at 13:06)</a>:</h4>
<p>I had some ideas for improving it but they are not entirely trivial</p>



<a name="130274162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130274162" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130274162">(Jul 25 2018 at 13:06)</a>:</h4>
<p>yeah let me write r=me explicitly</p>



<a name="130274168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130274168" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130274168">(Jul 25 2018 at 13:06)</a>:</h4>
<p>there was some reason I thought I would want to take a second pass over it</p>



<a name="130274175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130274175" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130274175">(Jul 25 2018 at 13:07)</a>:</h4>
<p>but looking at my comments now, I don't know why I thought that</p>



<a name="130340378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130340378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130340378">(Jul 26 2018 at 12:38)</a>:</h4>
<p>the perf results for this PR were nice :)</p>



<a name="130345094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130345094" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130345094">(Jul 26 2018 at 13:53)</a>:</h4>
<p>Link for us lazy - <a href="https://perf.rust-lang.org/compare.html?start=fefe81605d6111faa8dbb3635ab2c51d59de740a&amp;end=73f817a0577649c3ffd1045b12c45f406a41a47f" target="_blank" title="https://perf.rust-lang.org/compare.html?start=fefe81605d6111faa8dbb3635ab2c51d59de740a&amp;end=73f817a0577649c3ffd1045b12c45f406a41a47f">https://perf.rust-lang.org/compare.html?start=fefe81605d6111faa8dbb3635ab2c51d59de740a&amp;end=73f817a0577649c3ffd1045b12c45f406a41a47f</a></p>



<a name="130345160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130345160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130345160">(Jul 26 2018 at 13:54)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> ^ 504 Gateway Time-out</p>



<a name="130345301"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130345301" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130345301">(Jul 26 2018 at 13:57)</a>:</h4>
<p>and fixed now... ?</p>



<a name="130345487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130345487" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130345487">(Jul 26 2018 at 14:00)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span>  that reminds me I had 500s on the playground (apparently some other too since they notified /  jokingly blamed <em>me</em> for some reason ;)</p>



<a name="130347467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130347467" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130347467">(Jul 26 2018 at 14:34)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> Turns out we were DDOS-ing ourselves (the interpolation takes ~20 seconds and we were running it every 30)</p>



<a name="130347481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130347481" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130347481">(Jul 26 2018 at 14:34)</a>:</h4>
<p>Should be fixed now but I'll keep an eye on it</p>



<a name="130349812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes/near/130349812" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/issue-48071-universes.html#130349812">(Jul 26 2018 at 15:02)</a>:</h4>
<p>Haha, programming is a silly thing</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>