<html>
<head><meta charset="utf-8"><title>rustc-and-polonius integration · t-compiler/wg-nll · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/index.html">t-compiler/wg-nll</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html">rustc-and-polonius integration</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="126750783"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750783" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750783">(May 18 2018 at 13:53)</a>:</h4>
<p>one last thing</p>



<a name="126750786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750786" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750786">(May 18 2018 at 13:53)</a>:</h4>
<p>maybe short</p>



<a name="126750787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750787">(May 18 2018 at 13:53)</a>:</h4>
<p>maybe not</p>



<a name="126750792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750792">(May 18 2018 at 13:53)</a>:</h4>
<p>ok</p>



<a name="126750793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750793">(May 18 2018 at 13:53)</a>:</h4>
<p>I've been chugging along on integration</p>



<a name="126750796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750796" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750796">(May 18 2018 at 13:53)</a>:</h4>
<p>ah right</p>



<a name="126750798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750798" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750798">(May 18 2018 at 13:53)</a>:</h4>
<p>you mentioned that</p>



<a name="126750806"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750806" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750806">(May 18 2018 at 13:53)</a>:</h4>
<p>But I'm worried my plan may be flawed</p>



<a name="126750856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750856">(May 18 2018 at 13:54)</a>:</h4>
<p>My understanding is that polonius is meant to, "replace", both solving the region constraints <em>and</em> solving the borrowck dataflow</p>



<a name="126750864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750864" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750864">(May 18 2018 at 13:54)</a>:</h4>
<p>so I had been thinking</p>



<a name="126750865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750865" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750865">(May 18 2018 at 13:54)</a>:</h4>
<p>(and doing)</p>



<a name="126750868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750868" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750868">(May 18 2018 at 13:54)</a>:</h4>
<p>1. refactor the code a bit so that those two stages can actually be swapped out and polonius swapped in</p>



<a name="126750870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750870">(May 18 2018 at 13:54)</a>:</h4>
<p>2. implement swapping in polonius</p>



<a name="126750872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750872">(May 18 2018 at 13:55)</a>:</h4>
<p>but while refactoring the code, I noted</p>



<a name="126750882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750882">(May 18 2018 at 13:55)</a>:</h4>
<p>the actual <em>data structure</em> for the borrowck dataflow</p>



<a name="126750898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750898" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750898">(May 18 2018 at 13:55)</a>:</h4>
<p>is the <code>struct FlowAtLocation</code></p>



<a name="126750946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750946" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750946">(May 18 2018 at 13:56)</a>:</h4>
<p>which wants want the ...</p>



<a name="126750950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750950" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750950">(May 18 2018 at 13:56)</a>:</h4>
<p>well I'm working my way toward convincing myself this isn't a big problem</p>



<a name="126750952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750952">(May 18 2018 at 13:56)</a>:</h4>
<p>but essentially</p>



<a name="126750960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750960" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750960">(May 18 2018 at 13:56)</a>:</h4>
<p>(on a related note, while chatting with <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> on another topic, I was debating about how we might want to do the integration as well, in particular which relation we would want to use)</p>



<a name="126750961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750961" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750961">(May 18 2018 at 13:56)</a>:</h4>
<p>the <code>struct FlowAtLocation</code> carries both the solved dataflow results</p>



<a name="126750965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750965">(May 18 2018 at 13:56)</a>:</h4>
<p>as well as the original gen/kill sets used</p>



<a name="126750983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750983">(May 18 2018 at 13:57)</a>:</h4>
<p>So i've been wondering/worrying</p>



<a name="126750985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750985" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750985">(May 18 2018 at 13:57)</a>:</h4>
<p>whether I'm taking the wrong tack</p>



<a name="126750986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750986" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750986">(May 18 2018 at 13:57)</a>:</h4>
<p>hold on, I'm gonna branch a new topic ;)</p>



<a name="126750997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750997">(May 18 2018 at 13:57)</a>:</h4>
<p>meh never mind</p>



<a name="126750998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126750998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126750998">(May 18 2018 at 13:57)</a>:</h4>
<p>you can rename this ne</p>



<a name="126751000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751000">(May 18 2018 at 13:57)</a>:</h4>
<p>carry on</p>



<a name="126751044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751044" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751044">(May 18 2018 at 13:58)</a>:</h4>
<p>ok, well,</p>



<a name="126751045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751045">(May 18 2018 at 13:58)</a>:</h4>
<p>somehow</p>



<a name="126751062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751062" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751062">(May 18 2018 at 13:58)</a>:</h4>
<p>oh, wow</p>



<a name="126751063"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751063" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751063">(May 18 2018 at 13:58)</a>:</h4>
<p>I won the race</p>



<a name="126751064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751064" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751064">(May 18 2018 at 13:58)</a>:</h4>
<p>neat</p>



<a name="126751067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751067" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751067">(May 18 2018 at 13:58)</a>:</h4>
<p>not sure how you did that</p>



<a name="126751070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751070">(May 18 2018 at 13:58)</a>:</h4>
<p>but i'm impressed</p>



<a name="126751072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751072">(May 18 2018 at 13:58)</a>:</h4>
<p>its very cool</p>



<a name="126751074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751074">(May 18 2018 at 13:59)</a>:</h4>
<p>I guess you can "split off"?</p>



<a name="126751079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751079" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751079">(May 18 2018 at 13:59)</a>:</h4>
<p>you ca choose</p>



<a name="126751084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751084" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751084">(May 18 2018 at 13:59)</a>:</h4>
<p>that <em>is</em> very cool</p>



<a name="126751085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751085">(May 18 2018 at 13:59)</a>:</h4>
<p>&lt;3 Zulip</p>



<a name="126751087"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751087" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751087">(May 18 2018 at 13:59)</a>:</h4>
<p>ok, so, anyway:</p>



<a name="126751088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751088">(May 18 2018 at 13:59)</a>:</h4>
<p>whether to rename a single msg, all of the msgs, or all of the msgs inclduin and after the selected one</p>



<a name="126751093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751093" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751093">(May 18 2018 at 13:59)</a>:</h4>
<p>okay so</p>



<a name="126751102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751102" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751102">(May 18 2018 at 13:59)</a>:</h4>
<p>the whole point of this plan</p>



<a name="126751103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751103">(May 18 2018 at 13:59)</a>:</h4>
<p>did I tell you what I did  before?</p>



<a name="126751105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751105" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751105">(May 18 2018 at 13:59)</a>:</h4>
<p>I <em>think</em> it's related</p>



<a name="126751108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751108" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751108">(May 18 2018 at 13:59)</a>:</h4>
<p>would be to minimize how much code I have to rewrite/dup[licate</p>



<a name="126751154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751154" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751154">(May 18 2018 at 14:00)</a>:</h4>
<p>You did tell me but I didn't look at it carefully</p>



<a name="126751159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751159" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751159">(May 18 2018 at 14:00)</a>:</h4>
<p>maybe that was a big mistake</p>



<a name="126751162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751162" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751162">(May 18 2018 at 14:00)</a>:</h4>
<p>I sort of jumped in with just getting the basics (debug flag, process spawning) going</p>



<a name="126751163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751163">(May 18 2018 at 14:00)</a>:</h4>
<p>and figured the rest would come naturally</p>



<a name="126751170"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751170" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751170">(May 18 2018 at 14:00)</a>:</h4>
<p>so what I did was to extend the "meta results" type (I forget what it's called)</p>



<a name="126751176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751176" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751176">(May 18 2018 at 14:01)</a>:</h4>
<p>to carry the <code>borrow_live_at</code> tuples</p>



<a name="126751192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751192">(May 18 2018 at 14:01)</a>:</h4>
<p>this btw is a rebased commit: <a href="https://github.com/nikomatsakis/rust/commit/5656960ea0b62624341a10c175ab9d154a5fe94c" target="_blank" title="https://github.com/nikomatsakis/rust/commit/5656960ea0b62624341a10c175ab9d154a5fe94c">link</a></p>



<a name="126751237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751237">(May 18 2018 at 14:02)</a>:</h4>
<p>I'm trying to find the part in question</p>



<a name="126751244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751244">(May 18 2018 at 14:02)</a>:</h4>
<p>I guess the heart  of my question: Is it sensible to try to convert the output of polonius into an instance of a <code>struct FlowAtLocation</code></p>



<a name="126751260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751260" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751260">(May 18 2018 at 14:02)</a>:</h4>
<p>ah, <code>Flows</code> is the type I meant</p>



<a name="126751264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751264" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751264">(May 18 2018 at 14:02)</a>:</h4>
<p>I see</p>



<a name="126751265"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751265" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751265">(May 18 2018 at 14:02)</a>:</h4>
<p>I did not do that</p>



<a name="126751269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751269" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751269">(May 18 2018 at 14:02)</a>:</h4>
<p>instead, I encapsulated (some of this may have landed, I forget) the access to the <code>borrows</code> field</p>



<a name="126751273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751273" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751273">(May 18 2018 at 14:02)</a>:</h4>
<p>ah i see</p>



<a name="126751276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751276" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751276">(May 18 2018 at 14:03)</a>:</h4>
<p>we basically only (need to) ask one question: what borrows are in scope at the location L?</p>



<a name="126751280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751280" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751280">(May 18 2018 at 14:03)</a>:</h4>
<p>you <em>removed</em> the <code>borrows: FlowAtLocation</code></p>



<a name="126751283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751283" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751283">(May 18 2018 at 14:03)</a>:</h4>
<p>and that is readily accessible from the tuples</p>



<a name="126751285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751285" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751285">(May 18 2018 at 14:03)</a>:</h4>
<p>yep</p>



<a name="126751287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751287" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751287">(May 18 2018 at 14:03)</a>:</h4>
<p>okay</p>



<a name="126751288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751288" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751288">(May 18 2018 at 14:03)</a>:</h4>
<p>you may not want to do that :)</p>



<a name="126751289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751289" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751289">(May 18 2018 at 14:03)</a>:</h4>
<p>maybe the answer here</p>



<a name="126751291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751291" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751291">(May 18 2018 at 14:03)</a>:</h4>
<p>is to abstract over the two</p>



<a name="126751292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751292" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751292">(May 18 2018 at 14:03)</a>:</h4>
<p>via a trait</p>



<a name="126751293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751293">(May 18 2018 at 14:03)</a>:</h4>
<p>right</p>



<a name="126751294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751294" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751294">(May 18 2018 at 14:03)</a>:</h4>
<p>okay</p>



<a name="126751297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751297" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751297">(May 18 2018 at 14:03)</a>:</h4>
<p>well, or a bool</p>



<a name="126751298"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751298" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751298">(May 18 2018 at 14:03)</a>:</h4>
<p>but yes</p>



<a name="126751299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751299" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751299">(May 18 2018 at 14:03)</a>:</h4>
<p>somehow</p>



<a name="126751301"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751301" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751301">(May 18 2018 at 14:03)</a>:</h4>
<p>well</p>



<a name="126751302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751302" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751302">(May 18 2018 at 14:03)</a>:</h4>
<p>my hope</p>



<a name="126751304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751304" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751304">(May 18 2018 at 14:03)</a>:</h4>
<p>one tricky bit</p>



<a name="126751305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751305" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751305">(May 18 2018 at 14:03)</a>:</h4>
<p>that is not <em>too</em> tricky</p>



<a name="126751307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751307">(May 18 2018 at 14:03)</a>:</h4>
<p>is that I don't want a bunch of duplicated logic</p>



<a name="126751308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751308">(May 18 2018 at 14:03)</a>:</h4>
<p>is the generator code</p>



<a name="126751309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751309">(May 18 2018 at 14:03)</a>:</h4>
<p>in the borrow-checker</p>



<a name="126751345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751345">(May 18 2018 at 14:04)</a>:</h4>
<p>right, you shouldn't need that</p>



<a name="126751348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751348" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751348">(May 18 2018 at 14:04)</a>:</h4>
<p>what I meant is</p>



<a name="126751353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751353" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751353">(May 18 2018 at 14:04)</a>:</h4>
<p>a bool in <code>Flows</code></p>



<a name="126751357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751357">(May 18 2018 at 14:04)</a>:</h4>
<p>and basically a method like <code>borrows_at_location(...)</code></p>



<a name="126751359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751359" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751359">(May 18 2018 at 14:04)</a>:</h4>
<p>hmm about which thing to consult, I see</p>



<a name="126751361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751361" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751361">(May 18 2018 at 14:04)</a>:</h4>
<p>yes okay</p>



<a name="126751362"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751362" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751362">(May 18 2018 at 14:04)</a>:</h4>
<p>actually you wuld probably want it o track the current location then</p>



<a name="126751366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751366">(May 18 2018 at 14:04)</a>:</h4>
<p>(right now I think it doesn't)</p>



<a name="126751367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751367">(May 18 2018 at 14:04)</a>:</h4>
<p>I considered going that way but didn't</p>



<a name="126751369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751369" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751369">(May 18 2018 at 14:04)</a>:</h4>
<p>alright, that's enough for me to jump back in I think</p>



<a name="126751371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751371">(May 18 2018 at 14:04)</a>:</h4>
<p>I at least don't feel like I'm totally off base.</p>



<a name="126751372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751372" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751372">(May 18 2018 at 14:04)</a>:</h4>
<p>does <a href="https://github.com/nikomatsakis/rust/commit/5656960ea0b62624341a10c175ab9d154a5fe94c#diff-5b4d01d26caf43976125ba0f877e78c0R613" target="_blank" title="https://github.com/nikomatsakis/rust/commit/5656960ea0b62624341a10c175ab9d154a5fe94c#diff-5b4d01d26caf43976125ba0f877e78c0R613">this link</a> work for you?</p>



<a name="126751373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751373" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751373">(May 18 2018 at 14:04)</a>:</h4>
<p>I just wanted to show you one bit</p>



<a name="126751379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751379" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751379">(May 18 2018 at 14:05)</a>:</h4>
<p>yes it does</p>



<a name="126751386"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751386" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751386">(May 18 2018 at 14:05)</a>:</h4>
<p>there are two bits of code that call <code>with_outgoing_borrows</code></p>



<a name="126751391"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751391" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751391">(May 18 2018 at 14:05)</a>:</h4>
<p>I rewrote them in terms of finding a point</p>



<a name="126751392"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751392" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751392">(May 18 2018 at 14:05)</a>:</h4>
<p>which anyway I think is clearer</p>



<a name="126751396"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751396" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751396">(May 18 2018 at 14:05)</a>:</h4>
<p>in the one case, it's a <code>Yield</code> terminator: and you basically want the borrows still live when we resume</p>



<a name="126751400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751400">(May 18 2018 at 14:05)</a>:</h4>
<p>in the other, it's a <code>Return</code> terminator, and the borrows live on entry suffice</p>



<a name="126751404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751404">(May 18 2018 at 14:05)</a>:</h4>
<p>I don't know why it was using <code>with_outgoing_borrows</code> anyway except to be less efficient</p>



<a name="126751406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751406">(May 18 2018 at 14:06)</a>:</h4>
<p>I think ariel added that</p>



<a name="126751445"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751445" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751445">(May 18 2018 at 14:06)</a>:</h4>
<p>which means there was probably a good reason</p>



<a name="126751446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751446">(May 18 2018 at 14:06)</a>:</h4>
<p>...</p>



<a name="126751450"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751450" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751450">(May 18 2018 at 14:06)</a>:</h4>
<p>let me look</p>



<a name="126751453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751453" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751453">(May 18 2018 at 14:06)</a>:</h4>
<p>I can't imagine what it would be, but maybe. I think it's actively <em>wrong</em> in the new analysis tho</p>



<a name="126751455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751455" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751455">(May 18 2018 at 14:06)</a>:</h4>
<p>I mean...there is no point after the return anyway</p>



<a name="126751460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751460">(May 18 2018 at 14:06)</a>:</h4>
<p>but if there <em>was</em>, then e.g. the slot <code>_0</code> would be dead there</p>



<a name="126751461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751461" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751461">(May 18 2018 at 14:06)</a>:</h4>
<p>and we don't want that</p>



<a name="126751463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751463" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751463">(May 18 2018 at 14:06)</a>:</h4>
<p>anyway, it doesn't matter</p>



<a name="126751465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751465">(May 18 2018 at 14:06)</a>:</h4>
<p>you'll see, I just wanted to answer that question</p>



<a name="126751467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751467" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751467">(May 18 2018 at 14:06)</a>:</h4>
<p>before it came up</p>



<a name="126751470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751470">(May 18 2018 at 14:06)</a>:</h4>
<p>I have to run now too</p>



<a name="126751482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751482">(May 18 2018 at 14:07)</a>:</h4>
<p>but I agree with your assessment that if @arielb1 did it, there is prob a reason</p>



<a name="126751493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751493" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751493">(May 18 2018 at 14:07)</a>:</h4>
<p>ok</p>



<a name="126751502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751502" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751502">(May 18 2018 at 14:08)</a>:</h4>
<p>gotta run, ttyl</p>



<a name="126751578"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751578" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751578">(May 18 2018 at 14:09)</a>:</h4>
<p>(ah, the specific case of generators was Zoxc)</p>



<a name="126751587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751587">(May 18 2018 at 14:09)</a>:</h4>
<p><a href="https://github.com/nikomatsakis/rust/commit/55c6c88782cfcce9b593c431200dad5f05bd9125" target="_blank" title="https://github.com/nikomatsakis/rust/commit/55c6c88782cfcce9b593c431200dad5f05bd9125">https://github.com/nikomatsakis/rust/commit/55c6c88782cfcce9b593c431200dad5f05bd9125</a></p>



<a name="126751641"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751641" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751641">(May 18 2018 at 14:10)</a>:</h4>
<p>"across yield" may be the relevant thing there ...? They may have thought using the entry set would not suffice?</p>



<a name="126751648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751648" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751648">(May 18 2018 at 14:10)</a>:</h4>
<p>(now I'm just trying to read minds... via git logs ... not a good sign.)</p>



<a name="126751661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751661" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751661">(May 18 2018 at 14:11)</a>:</h4>
<p>for <em>yields</em> it makes sense</p>



<a name="126751667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751667" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751667">(May 18 2018 at 14:11)</a>:</h4>
<p>and in that case I used the resume point</p>



<a name="126751673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751673">(May 18 2018 at 14:11)</a>:</h4>
<p>oh okay, there's the other with Resume/Return/GeneratorDrop</p>



<a name="126751677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751677">(May 18 2018 at 14:12)</a>:</h4>
<p>that's on <a href="https://github.com/nikomatsakis/rust/commit/5656960ea0b62624341a10c175ab9d154a5fe94c#diff-5b4d01d26caf43976125ba0f877e78c0R598" target="_blank" title="https://github.com/nikomatsakis/rust/commit/5656960ea0b62624341a10c175ab9d154a5fe94c#diff-5b4d01d26caf43976125ba0f877e78c0R598">this line</a></p>



<a name="126751731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751731">(May 18 2018 at 14:12)</a>:</h4>
<p>and that's this: <a href="https://github.com/nikomatsakis/rust/commit/af8c2339cfb26363610899e6bffbd1913e83db08" target="_blank" title="https://github.com/nikomatsakis/rust/commit/af8c2339cfb26363610899e6bffbd1913e83db08">https://github.com/nikomatsakis/rust/commit/af8c2339cfb26363610899e6bffbd1913e83db08</a></p>



<a name="126751739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751739" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751739">(May 18 2018 at 14:12)</a>:</h4>
<p>in terms of what commit  added it</p>



<a name="126751752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751752" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751752">(May 18 2018 at 14:12)</a>:</h4>
<p>(right?)</p>



<a name="126751792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126751792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126751792">(May 18 2018 at 14:13)</a>:</h4>
<p>okay really gotta go, shouldn't have taken the bait! :)</p>



<a name="126987204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987204" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987204">(May 23 2018 at 17:39)</a>:</h4>
<p>so <span class="user-mention" data-user-id="116013">@qmx</span>,  <span class="user-mention" data-user-id="116113">@lqd</span>, <span class="user-mention" data-user-id="116106">@Reed Koser</span>, <span class="user-mention" data-user-id="116108">@Keith Yeung</span> or anyone else — are any of you interested in working on the rustc polonius I described? I think <em>somebody</em> should be on this. <span class="user-mention" data-user-id="116013">@qmx</span> you mentioned having free time on Friday, might be a good fit for that time... (That would also give a bit of time for <span class="user-mention" data-user-id="116106">@Reed Koser</span>'s PRs to land...)</p>



<a name="126987221"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987221" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987221">(May 23 2018 at 17:39)</a>:</h4>
<p>otherwise, I think we should probably put more energy into the <a href="#narrow/stream/122657-wg-nll/subject/diagnostics" title="#narrow/stream/122657-wg-nll/subject/diagnostics">diagnostics</a>, but we'll have to open more issues there</p>



<a name="126987228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987228">(May 23 2018 at 17:39)</a>:</h4>
<p>yep, I have the entire Friday for rust work</p>



<a name="126987232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987232">(May 23 2018 at 17:40)</a>:</h4>
<p>(and potentially the weekend also)</p>



<a name="126987295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987295" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987295">(May 23 2018 at 17:40)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I can also help here</p>



<a name="126987298"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987298" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987298">(May 23 2018 at 17:40)</a>:</h4>
<p>have plenty of time to do rustc</p>



<a name="126987315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987315" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987315">(May 23 2018 at 17:41)</a>:</h4>
<p>it's going to be tougher for me — I'm finishing the frontend now, and leaving for Rustfest on Friday</p>



<a name="126987316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987316">(May 23 2018 at 17:41)</a>:</h4>
<p>I guess we should break it into steps</p>



<a name="126987324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987324" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987324">(May 23 2018 at 17:41)</a>:</h4>
<p>I think I mentioned that we could start just by breaking out the <code>AllFacts</code> and having rustc generate that</p>



<a name="126987328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987328">(May 23 2018 at 17:41)</a>:</h4>
<p>we could even pair with <span class="user-mention" data-user-id="116013">@qmx</span> if needed</p>



<a name="126987329"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987329" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987329">(May 23 2018 at 17:41)</a>:</h4>
<p>(right now, they each have their own copy of that same data structure)</p>



<a name="126987382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987382" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987382">(May 23 2018 at 17:42)</a>:</h4>
<p>I'd be happy to be around on Friday to consult, particualrly in the morning hours</p>



<a name="126987388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987388">(May 23 2018 at 17:42)</a>:</h4>
<p>this link describes the expected crate organization I believe ? <a href="https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be#:uid=513600694358508882742191&amp;h2=General-overview" target="_blank" title="https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be#:uid=513600694358508882742191&amp;h2=General-overview">https://paper.dropbox.com/doc/Non-lexical-lifetimes-NLL-Triage-Em2cJrvxQMMFWLE7lE5Be#:uid=513600694358508882742191&amp;h2=General-overview</a>:</p>



<a name="126987406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987406">(May 23 2018 at 17:42)</a>:</h4>
<p>err, apart from it being the wrong paragraph :3</p>



<a name="126987747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987747" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987747">(May 23 2018 at 17:49)</a>:</h4>
<p>right so I guess the very first step is breaking out a <code>polonius-engine</code> crate that contains <code>AllFacts</code> and it's supporting things</p>



<a name="126987751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987751" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987751">(May 23 2018 at 17:49)</a>:</h4>
<p>maybe we should open up an issue on polonius for tracking this</p>



<a name="126987858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987858">(May 23 2018 at 17:51)</a>:</h4>
<p>oh, I am reminded that I wanted help landing <a href="https://github.com/rust-lang/rust/pull/50938" target="_blank" title="https://github.com/rust-lang/rust/pull/50938">https://github.com/rust-lang/rust/pull/50938</a></p>



<a name="126987890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126987890" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126987890">(May 23 2018 at 17:51)</a>:</h4>
<p>Niko, can I help you in some way with the removal of Location:All?</p>



<a name="126988013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126988013" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126988013">(May 23 2018 at 17:54)</a>:</h4>
<p>filed <a href="https://github.com/rust-lang-nursery/polonius/issues/44" target="_blank" title="https://github.com/rust-lang-nursery/polonius/issues/44">https://github.com/rust-lang-nursery/polonius/issues/44</a> which contains the rustc-polonius integration steps</p>



<a name="126988031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126988031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126988031">(May 23 2018 at 17:54)</a>:</h4>
<p>broken down very fine-grain</p>



<a name="126988062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126988062" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126988062">(May 23 2018 at 17:54)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> you could :) I'll open a new topic :)</p>



<a name="126988101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126988101" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126988101">(May 23 2018 at 17:55)</a>:</h4>
<p>I'll probably have time to work on splitting Polonius up before Friday, assuming <span class="user-mention" data-user-id="116013">@qmx</span>  doesn't mind =)</p>



<a name="126988107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126988107" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126988107">(May 23 2018 at 17:55)</a>:</h4>
<p>at least the first task can be completed before my refactor lands</p>



<a name="126988108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126988108" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126988108">(May 23 2018 at 17:55)</a>:</h4>
<p>sounds good</p>



<a name="126988118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126988118" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126988118">(May 23 2018 at 17:55)</a>:</h4>
<p>in my ideal world, we'd actually get the first 1 or 2 done before Friday</p>



<a name="126988121"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126988121" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126988121">(May 23 2018 at 17:55)</a>:</h4>
<p>since they are minor</p>



<a name="126988178"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126988178" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126988178">(May 23 2018 at 17:56)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span> should definitely be doable. Hopefully I'll get to it either tonight or tomorrow</p>



<a name="126988313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126988313" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126988313">(May 23 2018 at 17:58)</a>:</h4>
<p><span class="user-mention" data-user-id="116106">@Reed Koser</span> I don't mind :)</p>



<a name="126988447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126988447" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126988447">(May 23 2018 at 18:00)</a>:</h4>
<p>cool, I'll try to get a patch out either tonight or tomorrow then. I'll also have a lot of time to hack on rustc stuff over the weekend, we get Monday off =)</p>



<a name="126989003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126989003" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Yeung <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126989003">(May 23 2018 at 18:10)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> i'm guessing you want polonius to generate a library on top of a binary?</p>



<a name="126989034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126989034" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126989034">(May 23 2018 at 18:11)</a>:</h4>
<p>I was proposing that we have a shared subcrate called <code>polonius-engine</code> which will be that library</p>



<a name="126990360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/126990360" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Yeung <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#126990360">(May 23 2018 at 18:42)</a>:</h4>
<p>(obligatory <span class="emoji emoji-1f438" title="frog">:frog:</span> comment)</p>



<a name="127010236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127010236" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127010236">(May 24 2018 at 03:19)</a>:</h4>
<p><a href="https://github.com/rust-lang-nursery/polonius/pull/46" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/46">https://github.com/rust-lang-nursery/polonius/pull/46</a></p>



<a name="127010241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127010241" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127010241">(May 24 2018 at 03:19)</a>:</h4>
<p>Depending on what order this lands in, it'll invalidate all other PRs because I moved things so that the repo could become a cargo workspace</p>



<a name="127010554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127010554" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127010554">(May 24 2018 at 03:30)</a>:</h4>
<p>so either <span class="user-mention" data-user-id="116113">@lqd</span>  or myself is going to have some cleanup to do =)</p>



<a name="127010622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127010622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127010622">(May 24 2018 at 03:32)</a>:</h4>
<p><a href="https://www.youtube.com/watch?v=VQ1xHmQgXDM" target="_blank" title="https://www.youtube.com/watch?v=VQ1xHmQgXDM">https://www.youtube.com/watch?v=VQ1xHmQgXDM</a></p>
<div class="youtube-video message_inline_image"><a data-id="VQ1xHmQgXDM" href="https://www.youtube.com/watch?v=VQ1xHmQgXDM" target="_blank" title="https://www.youtube.com/watch?v=VQ1xHmQgXDM"><img src="https://i.ytimg.com/vi/VQ1xHmQgXDM/default.jpg"></a></div>



<a name="127010652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127010652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127010652">(May 24 2018 at 03:34)</a>:</h4>
<p>lol<br>
It's not a huge deal either way, I think <code>git</code> should be able to figure out some of it (if not all of it) since most things are just file renames</p>



<a name="127014680"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127014680" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127014680">(May 24 2018 at 06:02)</a>:</h4>
<p>yeah I thought this reorg would impact my PRs as I also switched to a cargo workspace <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span> I thought we would leave the majority of the crate as-is — just moving AllFacts — to a structure similar to chalk's</p>



<a name="127014841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127014841" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127014841">(May 24 2018 at 06:10)</a>:</h4>
<p>Indeed, that's what my PR does. I believe the eventual goal is to move all the computation into polonius-engine, but that's somewhat blocked on <span class="user-mention" data-user-id="116609">@Frank McSherry</span>  getting Datafrog licensed, transferred to rust-lang-nursery, and up on <code>crates.io</code> to my knowledge =P. We took slightly different approaches to moving things to workspaces (I moved the frontend into its own folder, looks like you just added a <code>[workspace]</code> tag. The merge should be relatively painless though.</p>



<a name="127014941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127014941" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127014941">(May 24 2018 at 06:12)</a>:</h4>
<p>I'm not sure which PR makes the most sense to land first, but either way I'm willing to do the rebase. My impression is that you'll have time to get to it first though, so perhaps merging my PR and then yours, with you doing the rebase, makes more sense as that'll get work that depends on either unblocked faster. If you don't want to deal with the rebase, I would say merge your PR and then I'll rebase mine (probably around 7-8PM PDT) to include your changes</p>



<a name="127014997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127014997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127014997">(May 24 2018 at 06:14)</a>:</h4>
<p>or I could just not move everything. If that's the route we want to go I can probably get that committed while waiting for my eggs to fry tomorrow morning ;)</p>



<a name="127015011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127015011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127015011">(May 24 2018 at 06:15)</a>:</h4>
<p><span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span> — It's fine, whichever merges first, I don't mind</p>



<a name="127015051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127015051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127015051">(May 24 2018 at 06:16)</a>:</h4>
<p>I guess it'll be up to the gods <em>cough</em> <span class="user-mention" data-user-id="116009">@nikomatsakis</span>  <em>cough</em> then</p>



<a name="127015052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127015052" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127015052">(May 24 2018 at 06:16)</a>:</h4>
<p>(it looks you need to fix the tests TravIs is unhappy)</p>



<a name="127015056"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127015056" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127015056">(May 24 2018 at 06:17)</a>:</h4>
<p>haha <span class="emoji emoji-1f642" title="simple smile">:simple_smile:</span></p>



<a name="127015061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127015061" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127015061">(May 24 2018 at 06:17)</a>:</h4>
<p>oh I probably completely broke travis didn't I</p>



<a name="127015066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127015066" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127015066">(May 24 2018 at 06:17)</a>:</h4>
<p>probably just looking at the wrong folder to find the facts</p>



<a name="127015068"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127015068" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127015068">(May 24 2018 at 06:18)</a>:</h4>
<p>yep, I broke all 2 tests</p>



<a name="127015605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127015605" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127015605">(May 24 2018 at 06:37)</a>:</h4>
<p>I redid my PR so that the repo structure ends up more like <code>chalk</code>'s. It should pass tests now, and I won't be breaking git history as badly</p>



<a name="127015708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127015708" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127015708">(May 24 2018 at 06:41)</a>:</h4>
<p>I think you have some leftover code in there ? I see some timely analysis</p>



<a name="127015802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127015802" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127015802">(May 24 2018 at 06:45)</a>:</h4>
<p>oh god that got picked up didn't it</p>



<a name="127015842"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127015842" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127015842">(May 24 2018 at 06:46)</a>:</h4>
<p>that was me playing around with timely a few weeks ago and I guess it was left sitting in my tree</p>



<a name="127015843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127015843" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127015843">(May 24 2018 at 06:46)</a>:</h4>
<p>/me really needs to stop being so sloppy with patches...</p>



<a name="127015844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127015844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127015844">(May 24 2018 at 06:46)</a>:</h4>
<p>I think I accidentally downgraded <span class="emoji emoji-1f438" title="frog">:frog:</span> too, I'll fix those</p>



<a name="127015989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127015989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127015989">(May 24 2018 at 06:52)</a>:</h4>
<p>should be fixed now. I really need to get in the habit of _carefully_ reviewing my own patches before sending them upstream</p>



<a name="127020833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127020833" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127020833">(May 24 2018 at 09:33)</a>:</h4>
<p><span class="user-mention" data-user-id="116106">@Reed Koser</span> ok merged — I changed authors of both projects to "The Rust Developers", but maybe it should be "The Polonius Developers"...?</p>



<a name="127020844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127020844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127020844">(May 24 2018 at 09:34)</a>:</h4>
<p>if we <em>really</em> wanted to go crazy with crates, we could make that <code>polonius-engine</code> crate be <code>polonius-facts</code> — then we could start in right now on splitting out the datafrog code into <code>polonius-engine</code>, which seems interesting (and rustc could just depend on <code>polonius-facts</code>)</p>



<a name="127020883"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127020883" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127020883">(May 24 2018 at 09:34)</a>:</h4>
<p>but I don't know if that's worth it :)</p>



<a name="127020887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127020887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127020887">(May 24 2018 at 09:34)</a>:</h4>
<p>well, alternatively, we can just try rewriting the datafrog code to be generic</p>



<a name="127021059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021059">(May 24 2018 at 09:39)</a>:</h4>
<p>I had put <code>authors = ["Rust Compiler Team", "Polonius developers"]</code> in the polonius-parser crate, I hope that's ok</p>



<a name="127021111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021111" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021111">(May 24 2018 at 09:40)</a>:</h4>
<p>(very similar to Chalk in any case)</p>



<a name="127021168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021168" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021168">(May 24 2018 at 09:42)</a>:</h4>
<p>yeah, seems also ok</p>



<a name="127021169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021169" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021169">(May 24 2018 at 09:42)</a>:</h4>
<p>it's not that important in the end :)</p>



<a name="127021171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021171" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021171">(May 24 2018 at 09:42)</a>:</h4>
<p>I guess it depends on whether we consider the polonius devs a distinct set from rust devs :)</p>



<a name="127021174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021174">(May 24 2018 at 09:42)</a>:</h4>
<p>so I missed around a bit with making stuff generic</p>



<a name="127021177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021177" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021177">(May 24 2018 at 09:42)</a>:</h4>
<p>it is pretty easy to do but we have to do a bit of cleanup:</p>



<a name="127021187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021187">(May 24 2018 at 09:43)</a>:</h4>
<p>separating out the <code>dump</code> code for example — or else doing a more involved bit of genericity</p>



<a name="127021195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021195" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021195">(May 24 2018 at 09:43)</a>:</h4>
<p>I..oh I have a few more minutes, maybe I'll just keep hacking on this for fun</p>



<a name="127021197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021197">(May 24 2018 at 09:43)</a>:</h4>
<p>/me should probably be doing something else :)</p>



<a name="127021409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021409">(May 24 2018 at 09:50)</a>:</h4>
<p>nah, I don't have time to do this properly, i'll just stop; I'm not sure where <code>Dump</code> ought to go</p>



<a name="127021418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021418">(May 24 2018 at 09:51)</a>:</h4>
<p><a href="https://github.com/nikomatsakis/borrow-check/tree/generic-over-r-l-p" target="_blank" title="https://github.com/nikomatsakis/borrow-check/tree/generic-over-r-l-p">https://github.com/nikomatsakis/borrow-check/tree/generic-over-r-l-p</a> in case you're curious</p>



<a name="127021422"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021422" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021422">(May 24 2018 at 09:51)</a>:</h4>
<p>mostly just works fine</p>



<a name="127021470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021470">(May 24 2018 at 09:52)</a>:</h4>
<p>I think I would like to introduce a </p>
<div class="codehilite"><pre><span></span><span class="k">trait</span><span class="w"> </span><span class="n">Atoms</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">type</span> <span class="nc">Region</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">type</span> <span class="nc">Loan</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">type</span> <span class="nc">Point</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>


<p>and maybe have  that trait also contain enough stuff so that the dump code can operate</p>



<a name="127021473"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021473" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021473">(May 24 2018 at 09:53)</a>:</h4>
<p>in particular, the "untern" logic</p>



<a name="127021479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021479">(May 24 2018 at 09:53)</a>:</h4>
<p>seems like rustc would also want to be able to dump its results? maybe? or maybe not...</p>



<a name="127021489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021489" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021489">(May 24 2018 at 09:53)</a>:</h4>
<p>before I was integrating them into mir-dump, so maybe we should just pull the dump code out into polonius and make it not be generic</p>



<a name="127021672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021672">(May 24 2018 at 09:59)</a>:</h4>
<p>(ok, that works)</p>



<a name="127021734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021734" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021734">(May 24 2018 at 10:01)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> are you not a member of the org...?</p>



<a name="127021738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127021738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127021738">(May 24 2018 at 10:01)</a>:</h4>
<p>no, just an innocent bystander :3</p>



<a name="127026254"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127026254" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127026254">(May 24 2018 at 12:22)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> ok I think I will merge <a href="https://github.com/rust-lang-nursery/polonius/pull/47" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/47">https://github.com/rust-lang-nursery/polonius/pull/47</a> then (I removed the stats option)</p>



<a name="127026289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127026289" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127026289">(May 24 2018 at 12:23)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span> (and then I'll rebase the frontend again :p)</p>



<a name="127026370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127026370" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Yeung <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127026370">(May 24 2018 at 12:25)</a>:</h4>
<p>hmm... how do you include external crates into rustc?</p>



<a name="127026378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127026378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Yeung <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127026378">(May 24 2018 at 12:25)</a>:</h4>
<p>should we include them as git submodules?</p>



<a name="127026558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127026558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Yeung <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127026558">(May 24 2018 at 12:30)</a>:</h4>
<p>wait nvm, we can definitely just import the crate via cargo</p>



<a name="127026570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127026570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Yeung <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127026570">(May 24 2018 at 12:31)</a>:</h4>
<p>but i don't think polonius is published on <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a> yet, so we'll have to use it as a git dependency</p>



<a name="127027360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127027360" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127027360">(May 24 2018 at 12:52)</a>:</h4>
<blockquote>
<p>but i don't think polonius is published on <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a> yet, so we'll have to use it as a git dependency</p>
</blockquote>
<p>now that we have a polonius-engine we can push to <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a></p>



<a name="127032593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127032593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127032593">(May 24 2018 at 14:56)</a>:</h4>
<p>No strong opinions on the authorship here, Rust Project and Polonius developers seems to make sense (since I don't think everyone that hacks on Polonius also hacks on rustc? I could be wrong though)</p>



<a name="127032626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127032626" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127032626">(May 24 2018 at 14:57)</a>:</h4>
<p>I view them both as part of the Rust umbrella :) but yeah</p>



<a name="127032671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127032671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127032671">(May 24 2018 at 14:58)</a>:</h4>
<p>in general I want to move towards rustc as a kind of a "federation" of projects in any case</p>



<a name="127032692"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127032692" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127032692">(May 24 2018 at 14:58)</a>:</h4>
<p>so e.g. chalk, polonius would be a part of rustc of course but carry their own distinct identities</p>



<a name="127032717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127032717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127032717">(May 24 2018 at 14:59)</a>:</h4>
<p>(as I understand it, this is sort of how servo development works)</p>



<a name="127033444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127033444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127033444">(May 24 2018 at 15:15)</a>:</h4>
<blockquote>
<p>should be fixed now. I really need to get in the habit of _carefully_ reviewing my own patches before sending them upstream</p>
</blockquote>
<p>I use <code>git add -pu</code> to review before ever committing</p>



<a name="127033598"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127033598" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127033598">(May 24 2018 at 15:18)</a>:</h4>
<p>Yeah, I have the tools. It's jus a matter of developing the muscle memory and mental fortitude to review my own patches without having my eyes glaze over =P</p>



<a name="127033696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127033696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127033696">(May 24 2018 at 15:20)</a>:</h4>
<p>I've been writing code for 5 or 6 years, but it's only in the last 12 months or so that I've started collaborating on larger projects. Part of the reason I started working on Rust back in January was just to try and keep those skills sharp</p>



<a name="127033733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127033733" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127033733">(May 24 2018 at 15:21)</a>:</h4>
<p>Unfortunately the CS program I attend (and probably most others, at least in the US) tend to focus more on developing individual skill and not on how to be an effective member of a large software organization</p>



<a name="127033789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127033789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reed Koser <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127033789">(May 24 2018 at 15:22)</a>:</h4>
<p>I guess s/keep skills sharp/develop them at all honestly</p>



<a name="127035763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035763">(May 24 2018 at 16:06)</a>:</h4>
<p>so <span class="user-mention" data-user-id="116013">@qmx</span> you were asking about tomorrow =) we have <a href="https://github.com/rust-lang-nursery/polonius/blob/master/polonius-engine/src/facts.rs" target="_blank" title="https://github.com/rust-lang-nursery/polonius/blob/master/polonius-engine/src/facts.rs">extracted the <code>AllFacts</code> out now</a> into a subcrate <a href="https://github.com/rust-lang-nursery/polonius/tree/master/polonius-engine" target="_blank" title="https://github.com/rust-lang-nursery/polonius/tree/master/polonius-engine">polonius-engine</a></p>



<a name="127035767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035767" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035767">(May 24 2018 at 16:06)</a>:</h4>
<p>I think the next step was to make rustc use it</p>



<a name="127035776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035776">(May 24 2018 at 16:07)</a>:</h4>
<p>currently our fact definition <a href="https://github.com/rust-lang/rust/blob/d022dd48cceaceffa931f87490c7921aa3c3f8b1/src/librustc_mir/borrow_check/nll/facts.rs" target="_blank" title="https://github.com/rust-lang/rust/blob/d022dd48cceaceffa931f87490c7921aa3c3f8b1/src/librustc_mir/borrow_check/nll/facts.rs">is here</a></p>



<a name="127035784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035784" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035784">(May 24 2018 at 16:07)</a>:</h4>
<p>we should be able to just add <code>polonius-engine</code> as a pre-req</p>



<a name="127035785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035785" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035785">(May 24 2018 at 16:07)</a>:</h4>
<p>this could be done today</p>



<a name="127035787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035787">(May 24 2018 at 16:07)</a>:</h4>
<p>should publish <code>polonius_engine</code> to <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a>...</p>



<a name="127035849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035849">(May 24 2018 at 16:08)</a>:</h4>
<p>the crate is named with dashes right?</p>



<a name="127035851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035851" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035851">(May 24 2018 at 16:08)</a>:</h4>
<p>/me always forgets the naming rules</p>



<a name="127035853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035853">(May 24 2018 at 16:08)</a>:</h4>
<p>heh :)</p>



<a name="127035857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035857" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035857">(May 24 2018 at 16:08)</a>:</h4>
<p>crate names with dashes</p>



<a name="127035859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035859" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035859">(May 24 2018 at 16:08)</a>:</h4>
<p>is my preference :)</p>



<a name="127035866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035866" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035866">(May 24 2018 at 16:08)</a>:</h4>
<p>though my true preference is to make <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a> translate them silently</p>



<a name="127035870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035870">(May 24 2018 at 16:08)</a>:</h4>
<p>i.e., you give either <code>-</code> or <code>_</code>, you see <code>-</code></p>



<a name="127035872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035872">(May 24 2018 at 16:08)</a>:</h4>
<p><a href="https://github.com/rust-lang-nursery/api-guidelines/issues/29" target="_blank" title="https://github.com/rust-lang-nursery/api-guidelines/issues/29">https://github.com/rust-lang-nursery/api-guidelines/issues/29</a></p>



<a name="127035874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035874" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035874">(May 24 2018 at 16:09)</a>:</h4>
<p>mandatory would be even better</p>



<a name="127035882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035882">(May 24 2018 at 16:09)</a>:</h4>
<p>I just don't want to have to think about it ever</p>



<a name="127035884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035884" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035884">(May 24 2018 at 16:09)</a>:</h4>
<p>but I want to see <code>-</code> :)</p>



<a name="127035887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035887">(May 24 2018 at 16:09)</a>:</h4>
<p>anyway, whatever..</p>



<a name="127035888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035888" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035888">(May 24 2018 at 16:09)</a>:</h4>
<p><code>cargo add</code> translates them</p>



<a name="127035893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035893" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035893">(May 24 2018 at 16:09)</a>:</h4>
<p>but i agree with dashes</p>



<a name="127035954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035954">(May 24 2018 at 16:10)</a>:</h4>
<p>there are some fights in which I am (thanfully) a bystander</p>



<a name="127035963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035963">(May 24 2018 at 16:10)</a>:</h4>
<p>and this is one :)</p>



<a name="127035964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127035964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127035964">(May 24 2018 at 16:10)</a>:</h4>
<p>for now</p>



<a name="127036036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036036" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036036">(May 24 2018 at 16:12)</a>:</h4>
<p>I forget what we decided re: authors</p>



<a name="127036042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036042" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036042">(May 24 2018 at 16:13)</a>:</h4>
<p>authors = ["The Rust Project Developers", "Polonius Developers"]</p>



<a name="127036045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036045">(May 24 2018 at 16:13)</a>:</h4>
<p>?</p>



<a name="127036047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036047" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036047">(May 24 2018 at 16:13)</a>:</h4>
<p>personally I feel polonius is a piece of the Rust project, so those are redundant, but it seems ok :)</p>



<a name="127036051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036051">(May 24 2018 at 16:13)</a>:</h4>
<p>(I was gonna push this crate to <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a>)</p>



<a name="127036054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036054">(May 24 2018 at 16:13)</a>:</h4>
<p>push it</p>



<a name="127036126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036126">(May 24 2018 at 16:15)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> about the integration let me know how can I help</p>



<a name="127036127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036127">(May 24 2018 at 16:15)</a>:</h4>
<p>or if I can help <span class="user-mention" data-user-id="116013">@qmx</span> in any way</p>



<a name="127036128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036128" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036128">(May 24 2018 at 16:15)</a>:</h4>
<p>I will push both polonius (executable) and polonius-engine (library)</p>



<a name="127036130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036130" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036130">(May 24 2018 at 16:16)</a>:</h4>
<p>the latter just to save the name :)</p>



<a name="127036262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036262">(May 24 2018 at 16:19)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> while you are doing housekeeping, you should add the Polonus quote and a nice Wikipedia link to the README <span class="emoji emoji-1f63b" title="heart eyes cat">:heart_eyes_cat:</span></p>



<a name="127036334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036334" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036334">(May 24 2018 at 16:20)</a>:</h4>
<p>I kinda wanted people to google it for themselves :)</p>



<a name="127036335"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036335" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036335">(May 24 2018 at 16:20)</a>:</h4>
<p>but I guess I wouldn't turn away a PR ;)</p>



<a name="127036341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036341" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036341">(May 24 2018 at 16:21)</a>:</h4>
<p>Subtle hint noted!</p>



<a name="127036343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036343">(May 24 2018 at 16:21)</a>:</h4>
<p>oh, we can't publish <code>polonius</code> until <code>datafrog</code> is published</p>



<a name="127036345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036345">(May 24 2018 at 16:21)</a>:</h4>
<p>but <code>polonius-engine</code> is fine</p>



<a name="127036356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036356" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036356">(May 24 2018 at 16:21)</a>:</h4>
<p>Also, this thread title is "polonus" and you just said "polonius". May be worth 2x checking?</p>



<a name="127036402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036402" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036402">(May 24 2018 at 16:22)</a>:</h4>
<p><a href="https://crates.io/crates/polonius-engine" target="_blank" title="https://crates.io/crates/polonius-engine">https://crates.io/crates/polonius-engine</a></p>



<a name="127036405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036405" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036405">(May 24 2018 at 16:22)</a>:</h4>
<p>it is polonius</p>



<a name="127036407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036407" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036407">(May 24 2018 at 16:22)</a>:</h4>
<p>whew</p>



<a name="127036415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036415" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036415">(May 24 2018 at 16:23)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> can't you just publish datafrog and put <span class="user-mention" data-user-id="116609">@Frank McSherry</span> as an owner also?</p>



<a name="127036417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036417">(May 24 2018 at 16:23)</a>:</h4>
<p>so we save the name</p>



<a name="127036418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036418">(May 24 2018 at 16:23)</a>:</h4>
<p>I suppose I could :)</p>



<a name="127036421"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036421" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036421">(May 24 2018 at 16:23)</a>:</h4>
<p>or I could just fork it or something</p>



<a name="127036424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036424">(May 24 2018 at 16:23)</a>:</h4>
<p>he seemed to indicate that he wants to transfer it over anyway</p>



<a name="127036427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036427" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036427">(May 24 2018 at 16:24)</a>:</h4>
<p>I could also make a dummy project</p>



<a name="127036441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036441">(May 24 2018 at 16:24)</a>:</h4>
<p>to save the name ;)</p>



<a name="127036609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036609" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036609">(May 24 2018 at 16:28)</a>:</h4>
<p><code>sed -i /-engine// Cargo.toml &amp;&amp; cargo publish</code></p>



<a name="127036676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036676">(May 24 2018 at 16:30)</a>:</h4>
<p>indeed</p>



<a name="127036677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036677">(May 24 2018 at 16:30)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> so if you wanted to port rustc in prep for tomorrow I'd be in favor of that</p>



<a name="127036678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036678">(May 24 2018 at 16:31)</a>:</h4>
<p>do you know what I mean by that?</p>



<a name="127036695"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036695" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036695">(May 24 2018 at 16:31)</a>:</h4>
<p>I guess ...</p>



<a name="127036753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036753" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036753">(May 24 2018 at 16:32)</a>:</h4>
<p>basically <a href="#narrow/stream/122657-wg-nll/subject/rustc-and-polonus.20integration/near/127035763" title="#narrow/stream/122657-wg-nll/subject/rustc-and-polonus.20integration/near/127035763">what I wrote here</a></p>



<a name="127036775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036775">(May 24 2018 at 16:33)</a>:</h4>
<p>for some reason the link does not navigate for me</p>



<a name="127036788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036788">(May 24 2018 at 16:33)</a>:</h4>
<p>yeah, link fail</p>



<a name="127036846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036846" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036846">(May 24 2018 at 16:34)</a>:</h4>
<p><a href="#narrow/stream/122657-wg-nll/subject/rustc-and-polonus.20integration/near/127035763" title="#narrow/stream/122657-wg-nll/subject/rustc-and-polonus.20integration/near/127035763">https://rust-lang.zulipchat.com/#narrow/stream/122657-wg-nll/subject/rustc-and-polonus.20integration/near/127035763</a></p>



<a name="127036851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036851" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036851">(May 24 2018 at 16:34)</a>:</h4>
<p>curious</p>



<a name="127036861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036861">(May 24 2018 at 16:34)</a>:</h4>
<p>at 12:06pm :)</p>



<a name="127036942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036942" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036942">(May 24 2018 at 16:36)</a>:</h4>
<p>the links does not work for me</p>



<a name="127036943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036943">(May 24 2018 at 16:36)</a>:</h4>
<p>any of them</p>



<a name="127036948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036948">(May 24 2018 at 16:36)</a>:</h4>
<p>it may be a Firefox plugin or something</p>



<a name="127036976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127036976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127036976">(May 24 2018 at 16:37)</a>:</h4>
<p>anyway ... will tackle that</p>



<a name="127037047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127037047" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127037047">(May 24 2018 at 16:39)</a>:</h4>
<p>yea, link does not work</p>



<a name="127037101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127037101" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127037101">(May 24 2018 at 16:40)</a>:</h4>
<p>huh, that's a big minus for Zulip :)</p>



<a name="127037114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127037114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127037114">(May 24 2018 at 16:40)</a>:</h4>
<p>and also the time for me is 1.06pm :P</p>



<a name="127037135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127037135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127037135">(May 24 2018 at 16:41)</a>:</h4>
<p>clearly it should auto-translate things that look like times between timezones</p>



<a name="127037144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127037144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127037144">(May 24 2018 at 16:41)</a>:</h4>
<p>hehehe</p>



<a name="127041377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127041377" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127041377">(May 24 2018 at 18:14)</a>:</h4>
<p><a href="https://crates.io/crates/datafrog" target="_blank" title="https://crates.io/crates/datafrog">https://crates.io/crates/datafrog</a></p>



<a name="127041381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127041381" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127041381">(May 24 2018 at 18:14)</a>:</h4>
<p>it's a thing :)</p>



<a name="127041510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127041510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127041510">(May 24 2018 at 18:16)</a>:</h4>
<p>as is <a href="https://crates.io/crates/polonius" target="_blank" title="https://crates.io/crates/polonius">https://crates.io/crates/polonius</a></p>



<a name="127042037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127042037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127042037">(May 24 2018 at 18:26)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> asked me over privmsg:</p>
<blockquote>
<p>is rustc currently using a thing similar to IntererTables and that stuff in Polonius?</p>
</blockquote>
<p>you shouldn't need that stuff</p>



<a name="127042047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127042047" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127042047">(May 24 2018 at 18:27)</a>:</h4>
<p>or maybe I'm not sure 100% sure what you mean</p>



<a name="127042053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127042053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127042053">(May 24 2018 at 18:27)</a>:</h4>
<p>but the goal of that stuff was to convert strings into integers</p>



<a name="127042056"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127042056" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127042056">(May 24 2018 at 18:27)</a>:</h4>
<p>but in rustc the types are already small integers...</p>



<a name="127042063"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127042063" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127042063">(May 24 2018 at 18:27)</a>:</h4>
<p>...and the dumping code I think already has some logic for converting them  to strings that I guess can be used just fine?</p>



<a name="127044754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127044754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127044754">(May 24 2018 at 19:20)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> back</p>



<a name="127044758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127044758" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127044758">(May 24 2018 at 19:20)</a>:</h4>
<p>I see</p>



<a name="127044773"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127044773" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127044773">(May 24 2018 at 19:21)</a>:</h4>
<p>I needed to implement Atom</p>



<a name="127044778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127044778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127044778">(May 24 2018 at 19:21)</a>:</h4>
<p>but yeah, I can make stuff simpler</p>



<a name="127044833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127044833" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127044833">(May 24 2018 at 19:22)</a>:</h4>
<p>just return self</p>



<a name="127044914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127044914" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127044914">(May 24 2018 at 19:24)</a>:</h4>
<p>isn't there already an index() method for RegionVid and such</p>



<a name="127046240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046240" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046240">(May 24 2018 at 19:54)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> yes not sure what it's called though</p>



<a name="127046243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046243" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046243">(May 24 2018 at 19:54)</a>:</h4>
<p>you wrote the dang macro <span class="emoji emoji-1f61b" title="stuck out tongue">:stuck_out_tongue:</span></p>



<a name="127046245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046245" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046245">(May 24 2018 at 19:54)</a>:</h4>
<p>yes</p>



<a name="127046247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046247" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046247">(May 24 2018 at 19:54)</a>:</h4>
<p>newindex_something</p>



<a name="127046249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046249">(May 24 2018 at 19:54)</a>:</h4>
<p>newindex_idx</p>



<a name="127046275"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046275" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046275">(May 24 2018 at 19:55)</a>:</h4>
<p>I think maybe <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> you have to import the <code>Idx</code> trait</p>



<a name="127046278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046278">(May 24 2018 at 19:56)</a>:</h4>
<p>to do what?</p>



<a name="127046322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046322">(May 24 2018 at 19:56)</a>:</h4>
<p>to have index() available?</p>



<a name="127046326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046326">(May 24 2018 at 19:56)</a>:</h4>
<p>gain access to the method</p>



<a name="127046336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046336" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046336">(May 24 2018 at 19:56)</a>:</h4>
<p>yeap, anyway there are other issues</p>



<a name="127046358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046358">(May 24 2018 at 19:57)</a>:</h4>
<div class="codehilite"><pre><span></span>69 | impl Atom for RegionVid {
   | ^^^^^^^^^^^^^^^^^^^^^^^ impl doesn&#39;t use types inside crate
</pre></div>



<a name="127046434"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046434" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046434">(May 24 2018 at 19:58)</a>:</h4>
<p>ah yeah that's annoying, you have to move the impl into <code>librustc</code></p>



<a name="127046436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046436">(May 24 2018 at 19:58)</a>:</h4>
<p>but we can do that</p>



<a name="127046437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046437">(May 24 2018 at 19:58)</a>:</h4>
<p>but also if I bring index in scope to have it available on RegionVid then I need to implement index :P</p>



<a name="127046449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046449">(May 24 2018 at 19:58)</a>:</h4>
<p><code>RegionVid</code> does implement <code>Idx</code></p>



<a name="127046454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046454" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046454">(May 24 2018 at 19:58)</a>:</h4>
<blockquote>
<p>ah yeah that's annoying, you have to move the impl into <code>librustc</code></p>
</blockquote>
<p>yes, I was doing that</p>



<a name="127046465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046465">(May 24 2018 at 19:59)</a>:</h4>
<blockquote>
<p><code>RegionVid</code> does implement <code>Idx</code></p>
</blockquote>
<p>and what do you mean by that?</p>



<a name="127046535"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046535" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046535">(May 24 2018 at 20:00)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> <a href="https://github.com/rust-lang/rust/blob/07465222ca9454d7c274908424a5e084710efd7e/src/librustc/ty/sty.rs#L1166-L1170" target="_blank" title="https://github.com/rust-lang/rust/blob/07465222ca9454d7c274908424a5e084710efd7e/src/librustc/ty/sty.rs#L1166-L1170">I mean this</a></p>



<a name="127046579"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046579" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046579">(May 24 2018 at 20:01)</a>:</h4>
<p>yes, I know that, unsure what are you trying to say :P</p>



<a name="127046592"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046592" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046592">(May 24 2018 at 20:01)</a>:</h4>
<p>doing use Idx make index() available</p>



<a name="127046600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046600">(May 24 2018 at 20:01)</a>:</h4>
<blockquote>
<p>but also if I bring index in scope to have it available on RegionVid then I need to implement index :P</p>
</blockquote>
<p>you wrote this</p>



<a name="127046606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046606" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046606">(May 24 2018 at 20:02)</a>:</h4>
<p>I'm confused what you meant by "implement index"</p>



<a name="127046665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046665" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046665">(May 24 2018 at 20:02)</a>:</h4>
<p>well better said ... I need to implement Atom trait which requires an index method</p>



<a name="127046678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046678">(May 24 2018 at 20:02)</a>:</h4>
<p>and I already have one but I'm not implementing the trait</p>



<a name="127046704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046704">(May 24 2018 at 20:03)</a>:</h4>
<p>there's where I'm lacking of basic Rust knowledge</p>



<a name="127046706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046706">(May 24 2018 at 20:03)</a>:</h4>
<p>hehe</p>



<a name="127046721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046721">(May 24 2018 at 20:03)</a>:</h4>
<p>in this kind of cases there are a lot of solutions unsure what's possible in Rust</p>



<a name="127046726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046726" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046726">(May 24 2018 at 20:04)</a>:</h4>
<p>I think maybe the confusion is because two traits have methods with the same name?</p>



<a name="127046771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046771" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046771">(May 24 2018 at 20:04)</a>:</h4>
<p>yes</p>



<a name="127046774"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046774" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046774">(May 24 2018 at 20:04)</a>:</h4>
<p>I see. That's not really important.</p>



<a name="127046779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046779">(May 24 2018 at 20:04)</a>:</h4>
<p>though may impact your ability to write <code>foo.index()</code></p>



<a name="127046781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046781" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046781">(May 24 2018 at 20:04)</a>:</h4>
<p>you can write <code>Idx::index(foo)</code></p>



<a name="127046786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046786" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046786">(May 24 2018 at 20:04)</a>:</h4>
<p>if you want to specify which trait method is called</p>



<a name="127046803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046803" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046803">(May 24 2018 at 20:05)</a>:</h4>
<p>I see that's fine</p>



<a name="127046806"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046806" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046806">(May 24 2018 at 20:05)</a>:</h4>
<p>thanks</p>



<a name="127046809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046809">(May 24 2018 at 20:05)</a>:</h4>
<blockquote>
<p>though may impact your ability to write <code>foo.index()</code></p>
</blockquote>
<p>because of ambiguity</p>



<a name="127046811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046811" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046811">(May 24 2018 at 20:05)</a>:</h4>
<p>yep</p>



<a name="127046813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127046813" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127046813">(May 24 2018 at 20:05)</a>:</h4>
<p>make complete sense</p>



<a name="127048591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127048591" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127048591">(May 24 2018 at 20:41)</a>:</h4>
<div class="codehilite"><pre><span></span>error[E0599]: no function or associated item named `default` found for type `polonius_engine::AllFacts&lt;rustc::ty::RegionVid, dataflow::move_paths::indexes::BorrowIndex, borrow_check::location::LocationIndex&gt;` in the current scope
   --&gt; librustc_mir/borrow_check/nll/mod.rs:101:14
    |
101 |         Some(AllFacts::default())
    |              ^^^^^^^^^^^^^^^^^ function or associated item not found in `polonius_engine::AllFacts&lt;rustc::ty::RegionVid, dataflow::move_paths::indexes::BorrowIndex, borrow_check::location::LocationIndex&gt;`
    |
    = note: the method `default` exists but the following trait bounds were not satisfied:
            `polonius_engine::AllFacts&lt;rustc::ty::RegionVid, dataflow::move_paths::indexes::BorrowIndex, borrow_check::location::LocationIndex&gt; : std::default::Default`

error[E0609]: no field `universal_region` on type `&amp;mut _`
   --&gt; librustc_mir/borrow_check/nll/mod.rs:108:14
    |
108 |             .universal_region
    |              ^^^^^^^^^^^^^^^^

error: aborting due to 2 previous errors
</pre></div>



<a name="127048600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127048600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127048600">(May 24 2018 at 20:41)</a>:</h4>
<p>two errors to go ... I need to leave for a while will continue later</p>



<a name="127049147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049147" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049147">(May 24 2018 at 20:54)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> I guess we didn't <code>#[derive(Default)]</code> — we should do that :)</p>



<a name="127049154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049154" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049154">(May 24 2018 at 20:55)</a>:</h4>
<p>if you like, you can make these edits locally and temporary redirect rustc</p>



<a name="127049158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049158" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049158">(May 24 2018 at 20:55)</a>:</h4>
<p>this is what I usually do</p>



<a name="127049161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049161">(May 24 2018 at 20:55)</a>:</h4>
<p>basically clone polonius somewhere and edit the <code>Cargo.toml</code> to just be a <code>path</code> dependency</p>



<a name="127049162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049162" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049162">(May 24 2018 at 20:55)</a>:</h4>
<p>hey</p>



<a name="127049163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049163">(May 24 2018 at 20:55)</a>:</h4>
<p>back</p>



<a name="127049165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049165">(May 24 2018 at 20:55)</a>:</h4>
<p>that's the easiest thing to do</p>



<a name="127049171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049171" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049171">(May 24 2018 at 20:55)</a>:</h4>
<p>AllFacts has Default derived</p>



<a name="127049211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049211">(May 24 2018 at 20:56)</a>:</h4>
<p>the thing is ...</p>



<a name="127049218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049218">(May 24 2018 at 20:56)</a>:</h4>
<div class="codehilite"><pre><span></span>  = note: the method `default` exists but the following trait bounds were not satisfied:
            `polonius_engine::AllFacts&lt;rustc::ty::RegionVid, dataflow::move_paths::indexes::BorrowIndex, borrow_check::location::LocationIndex&gt; : std::default::Default`
</pre></div>



<a name="127049223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049223" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049223">(May 24 2018 at 20:56)</a>:</h4>
<p>I guess all the indexes need to derive default and it's ok to do it</p>



<a name="127049233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049233">(May 24 2018 at 20:56)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> oh, that's a bug</p>



<a name="127049234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049234" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049234">(May 24 2018 at 20:56)</a>:</h4>
<p>we should not derive default</p>



<a name="127049235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049235" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049235">(May 24 2018 at 20:56)</a>:</h4>
<p>but rather write our own impl</p>



<a name="127049243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049243" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049243">(May 24 2018 at 20:57)</a>:</h4>
<p>those types should not require <code>Default</code> and I would rather they didn't</p>



<a name="127049248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049248" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049248">(May 24 2018 at 20:57)</a>:</h4>
<p>ok</p>



<a name="127049249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049249">(May 24 2018 at 20:57)</a>:</h4>
<p>because it's not sensible to have a "default" region vid</p>



<a name="127049253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049253" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049253">(May 24 2018 at 20:57)</a>:</h4>
<p>(what region do you mean?)</p>



<a name="127049255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049255">(May 24 2018 at 20:57)</a>:</h4>
<p>right</p>



<a name="127049257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049257" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049257">(May 24 2018 at 20:57)</a>:</h4>
<p>makes sense</p>



<a name="127049259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049259" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049259">(May 24 2018 at 20:57)</a>:</h4>
<p>if we modify <code>polonius-engine</code> and write the default-impl ourselves, we'll find we don't need those types to have <code>Default</code></p>



<a name="127049262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049262">(May 24 2018 at 20:57)</a>:</h4>
<p>because e.g. <code>Vec&lt;R&gt;</code> implements <code>Default</code> even if <code>R</code> does not</p>



<a name="127049266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049266" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049266">(May 24 2018 at 20:57)</a>:</h4>
<p>I see</p>



<a name="127049307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049307">(May 24 2018 at 20:58)</a>:</h4>
<p>it's annoying that there is no way to make <code>#[derive]</code> understand that</p>



<a name="127049308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049308">(May 24 2018 at 20:58)</a>:</h4>
<p>makes sense</p>



<a name="127049309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049309">(May 24 2018 at 20:58)</a>:</h4>
<p>there was an RFC for it</p>



<a name="127049314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049314">(May 24 2018 at 20:58)</a>:</h4>
<p>not sure what has happened with it</p>



<a name="127049317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049317" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049317">(May 24 2018 at 20:58)</a>:</h4>
<p>might be good to push on it :)</p>



<a name="127049338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127049338" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127049338">(May 24 2018 at 20:59)</a>:</h4>
<p>:)</p>



<a name="127051350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051350" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051350">(May 24 2018 at 21:43)</a>:</h4>
<p>I have the thing working</p>



<a name="127051371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051371">(May 24 2018 at 21:43)</a>:</h4>
<p><span class="emoji emoji-1f389" title="tada">:tada:</span></p>



<a name="127051433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051433" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051433">(May 24 2018 at 21:44)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> first we need this <a href="https://github.com/rust-lang-nursery/polonius/pull/49" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/49">https://github.com/rust-lang-nursery/polonius/pull/49</a></p>



<a name="127051445"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051445" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051445">(May 24 2018 at 21:44)</a>:</h4>
<p>and then ... are we going to depend on polonius from github? or are you releasing a new version?</p>



<a name="127051473"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051473" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051473">(May 24 2018 at 21:45)</a>:</h4>
<p>nice!</p>



<a name="127051480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051480" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051480">(May 24 2018 at 21:45)</a>:</h4>
<blockquote>
<p>and then ... are we going to depend on polonius from github? or are you releasing a new version?</p>
</blockquote>
<p>I'll release a new version</p>



<a name="127051485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051485">(May 24 2018 at 21:45)</a>:</h4>
<p>ok</p>



<a name="127051534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051534">(May 24 2018 at 21:46)</a>:</h4>
<p>and let me know so I can change the code and open a PR on rustc</p>



<a name="127051545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051545" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051545">(May 24 2018 at 21:46)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> we can continue tomorrow pairing if <span class="user-mention" data-user-id="116009">@nikomatsakis</span> has something else we can do</p>



<a name="127051556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051556" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051556">(May 24 2018 at 21:46)</a>:</h4>
<blockquote>
<p>and let me know so I can change the code and open a PR on rustc</p>
</blockquote>
<p>I'll do it right now</p>



<a name="127051576"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051576" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051576">(May 24 2018 at 21:47)</a>:</h4>
<p>I know there are tons of things to do, but I prefer to ask so we tackle what you consider more urgent</p>



<a name="127051587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051587">(May 24 2018 at 21:48)</a>:</h4>
<p>I'm wrapping up dayjob stuff now, do we have a gameplan for tomorrow?</p>



<a name="127051633"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051633" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051633">(May 24 2018 at 21:48)</a>:</h4>
<p>that's what I'm asking Niko :)</p>



<a name="127051638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051638" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051638">(May 24 2018 at 21:48)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> what's your time schedule for tomorrow?</p>



<a name="127051643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051643" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051643">(May 24 2018 at 21:48)</a>:</h4>
<p>well ... let's talk about this details in private so we don't bother the rest</p>



<a name="127051758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051758" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051758">(May 24 2018 at 21:51)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> published v0.1.1</p>



<a name="127051762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051762" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051762">(May 24 2018 at 21:51)</a>:</h4>
<p>I think that should be semver compatible :)</p>



<a name="127051766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051766">(May 24 2018 at 21:51)</a>:</h4>
<p>already assumed 0.1.1 :P</p>



<a name="127051767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051767" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051767">(May 24 2018 at 21:51)</a>:</h4>
<p>was winning time meanwhile you were pushing</p>



<a name="127051822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051822">(May 24 2018 at 21:52)</a>:</h4>
<p>this is so exciting <span class="emoji emoji-203c" title="double exclamation mark">:double_exclamation_mark:</span></p>



<a name="127051948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051948">(May 24 2018 at 21:55)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <a href="https://github.com/rust-lang/rust/pull/51047" target="_blank" title="https://github.com/rust-lang/rust/pull/51047">https://github.com/rust-lang/rust/pull/51047</a></p>



<a name="127051956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051956" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051956">(May 24 2018 at 21:55)</a>:</h4>
<p>pushed so you can start seeing it but I've rebased and I'm compiling again</p>



<a name="127051961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127051961" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127051961">(May 24 2018 at 21:55)</a>:</h4>
<p>should be good but ...</p>



<a name="127052745"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127052745" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127052745">(May 24 2018 at 22:13)</a>:</h4>
<p>thing is ok</p>



<a name="127053969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127053969" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127053969">(May 24 2018 at 22:47)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> you have to add the crate to <a href="https://github.com/rust-lang/rust/blob/master/src/tools/tidy/src/deps.rs#L58-L59" target="_blank" title="https://github.com/rust-lang/rust/blob/master/src/tools/tidy/src/deps.rs#L58-L59">the whitelist</a></p>



<a name="127054349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127054349" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127054349">(May 24 2018 at 22:57)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> done!</p>



<a name="127054516"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127054516" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127054516">(May 24 2018 at 23:01)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> gotta run but I delegated to you so — once travis is green — you can do <code>@bors r=nikomatsakis</code></p>



<a name="127054583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127054583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127054583">(May 24 2018 at 23:03)</a>:</h4>
<p>ok</p>



<a name="127054598"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127054598" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127054598">(May 24 2018 at 23:03)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> what can we do with @qmx? how can we continue?</p>



<a name="127054603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127054603" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127054603">(May 24 2018 at 23:03)</a>:</h4>
<p>if you're leaving don't worry but let us know when you're back later/tomorrow</p>



<a name="127054670"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127054670" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127054670">(May 24 2018 at 23:05)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> see the steps <a href="https://github.com/rust-lang-nursery/polonius/issues/44" target="_blank" title="https://github.com/rust-lang-nursery/polonius/issues/44">laid out in #44</a></p>



<a name="127054674"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127054674" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127054674">(May 24 2018 at 23:05)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127057570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127057570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127057570">(May 25 2018 at 00:32)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> saw you r+, <span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127078924"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127078924" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127078924">(May 25 2018 at 12:28)</a>:</h4>
<p>hey <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> and <span class="user-mention" data-user-id="116013">@qmx</span>, morning =)</p>



<a name="127078997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127078997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127078997">(May 25 2018 at 12:30)</a>:</h4>
<p>morning</p>



<a name="127079005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127079005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127079005">(May 25 2018 at 12:31)</a>:</h4>
<p>will wait a bit for Douglas so we can start</p>



<a name="127079009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127079009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127079009">(May 25 2018 at 12:31)</a>:</h4>
<p>there's no rush, I can have breakfast before :P</p>



<a name="127079013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127079013" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127079013">(May 25 2018 at 12:31)</a>:</h4>
<div class="codehilite"><pre><span></span>move the Output and datafrog code into polonius-engine
    hopefully the datafrog version we need is in crates.io by then
</pre></div>



<a name="127079057"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127079057" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127079057">(May 25 2018 at 12:32)</a>:</h4>
<p>first task would be to move Output with Algorithm from cli module and datafrog to polonius-engine</p>



<a name="127079066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127079066" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127079066">(May 25 2018 at 12:32)</a>:</h4>
<p>datafrog is already published if I'm not wrong</p>



<a name="127079070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127079070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127079070">(May 25 2018 at 12:32)</a>:</h4>
<p>so that should be easy</p>



<a name="127079082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127079082" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127079082">(May 25 2018 at 12:32)</a>:</h4>
<p>yes, that's right</p>



<a name="127079088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127079088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127079088">(May 25 2018 at 12:32)</a>:</h4>
<p>and I already made the <code>Output</code> code generic</p>



<a name="127079092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127079092" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127079092">(May 25 2018 at 12:32)</a>:</h4>
<p>so in principle should be straightforward</p>



<a name="127079101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127079101" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127079101">(May 25 2018 at 12:33)</a>:</h4>
<blockquote>
<p>and I already made the <code>Output</code> code generic</p>
</blockquote>
<p>so even easier :)</p>



<a name="127080446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127080446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127080446">(May 25 2018 at 13:08)</a>:</h4>
<p>I'm here</p>



<a name="127080716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127080716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127080716">(May 25 2018 at 13:14)</a>:</h4>
<p>o/</p>



<a name="127080719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127080719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127080719">(May 25 2018 at 13:14)</a>:</h4>
<p>not sure where <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> is</p>



<a name="127080724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127080724" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127080724">(May 25 2018 at 13:14)</a>:</h4>
<p>but did the first step of moving <code>Output</code> into <code>polonius-engine</code> make sense to you?</p>



<a name="127080738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127080738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127080738">(May 25 2018 at 13:15)</a>:</h4>
<p>reading, will tell in a few minutes :P</p>



<a name="127080950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127080950" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127080950">(May 25 2018 at 13:19)</a>:</h4>
<p>yea, makes sense</p>



<a name="127081369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127081369" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127081369">(May 25 2018 at 13:28)</a>:</h4>
<p>here</p>



<a name="127081645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127081645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127081645">(May 25 2018 at 13:34)</a>:</h4>
<p>so what have you done so far?</p>



<a name="127081779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127081779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127081779">(May 25 2018 at 13:38)</a>:</h4>
<p>so ... there's the PR from yesterday</p>



<a name="127081780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127081780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127081780">(May 25 2018 at 13:38)</a>:</h4>
<p>and we need to start moving things</p>



<a name="127081781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127081781" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127081781">(May 25 2018 at 13:38)</a>:</h4>
<p>hold on ...</p>



<a name="127081797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127081797" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127081797">(May 25 2018 at 13:38)</a>:</h4>
<p>we can start, let me ping you in private</p>



<a name="127083200"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083200" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083200">(May 25 2018 at 14:09)</a>:</h4>
<div class="codehilite"><pre><span></span>error[E0658]: `crate` visibility modifier is experimental (see issue #45388)                                                                                                                                │······
  --&gt; polonius-engine/src/output/mod.rs:93:5                                                                                                                                                                │······
   |                                                                                                                                                                                                        │······
93 |     crate fn regions_live_at(&amp;self, location: Point) -&gt; &amp;[Region] {                                                                                                                                    │······
   |     ^^^^^                                                                                                                                                                                              │······
   |                                                                                                                                                                                                        │······
   = help: add #![feature(crate_visibility_modifier)] to the crate attributes to enable
</pre></div>



<a name="127083202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083202" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083202">(May 25 2018 at 14:09)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> ^^^</p>



<a name="127083206"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083206" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083206">(May 25 2018 at 14:09)</a>:</h4>
<p>this is happening besides we already added the feature</p>



<a name="127083208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083208">(May 25 2018 at 14:09)</a>:</h4>
<p>is there something else to do?</p>



<a name="127083212"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083212" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083212">(May 25 2018 at 14:09)</a>:</h4>
<p>you probably added it wrong</p>



<a name="127083214"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083214" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083214">(May 25 2018 at 14:09)</a>:</h4>
<p>:P</p>



<a name="127083262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083262">(May 25 2018 at 14:10)</a>:</h4>
<p>though not obviously so :)</p>



<a name="127083265"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083265" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083265">(May 25 2018 at 14:10)</a>:</h4>
<p>we added the thing on polonius-engine/src/lib.rs</p>



<a name="127083267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083267">(May 25 2018 at 14:10)</a>:</h4>
<p>I don't know what else would be needed... that <em>should</em> be enough :)</p>



<a name="127083268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083268">(May 25 2018 at 14:10)</a>:</h4>
<p><code>#![feature(crate_visibility_modifier)]</code></p>



<a name="127083269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083269" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083269">(May 25 2018 at 14:10)</a>:</h4>
<p>ok</p>



<a name="127083270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083270" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083270">(May 25 2018 at 14:10)</a>:</h4>
<p>let's see</p>



<a name="127083339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083339">(May 25 2018 at 14:12)</a>:</h4>
<p>spying on your ssh session, it looks like you are getting other errors too?</p>



<a name="127083341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083341" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083341">(May 25 2018 at 14:12)</a>:</h4>
<p>maybe you just need to add more feature gates?</p>



<a name="127083343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083343">(May 25 2018 at 14:12)</a>:</h4>
<p>you could probably just lift the ones from <code>polonius/src/main.rs</code></p>



<a name="127083345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083345">(May 25 2018 at 14:12)</a>:</h4>
<p>just copy them all</p>



<a name="127083346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083346">(May 25 2018 at 14:12)</a>:</h4>
<p>figured</p>



<a name="127083350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083350" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083350">(May 25 2018 at 14:12)</a>:</h4>
<p>the issue was that the thing was below doc comments</p>



<a name="127083351"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083351" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083351">(May 25 2018 at 14:12)</a>:</h4>
<p>we were getting a warning</p>



<a name="127083512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127083512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127083512">(May 25 2018 at 14:16)</a>:</h4>
<p>oh, I thought it might be something weird like that</p>



<a name="127084135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127084135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127084135">(May 25 2018 at 14:30)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> output/tracking.rs is not implemented in a generic way</p>



<a name="127084141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127084141" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127084141">(May 25 2018 at 14:30)</a>:</h4>
<p>what is that?</p>



<a name="127084143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127084143" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127084143">(May 25 2018 at 14:31)</a>:</h4>
<p>I don't even remember what tracking is about</p>



<a name="127084152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127084152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127084152">(May 25 2018 at 14:31)</a>:</h4>
<p>maybe just delete it:)</p>



<a name="127084157"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127084157" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127084157">(May 25 2018 at 14:31)</a>:</h4>
<p>:D</p>



<a name="127084161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127084161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127084161">(May 25 2018 at 14:31)</a>:</h4>
<p>I think that may be related to the tracking on in- and out-degrees?</p>



<a name="127084163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127084163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127084163">(May 25 2018 at 14:31)</a>:</h4>
<p>yea, that was for finding the degree counts</p>



<a name="127084164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127084164" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127084164">(May 25 2018 at 14:31)</a>:</h4>
<p>let me check</p>



<a name="127084167"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127084167" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127084167">(May 25 2018 at 14:31)</a>:</h4>
<p>if so, I killed that code</p>



<a name="127084174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127084174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127084174">(May 25 2018 at 14:31)</a>:</h4>
<p>because it no longer seemed esp. relevant</p>



<a name="127084175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127084175" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127084175">(May 25 2018 at 14:31)</a>:</h4>
<p><span class="emoji emoji-1f52a" title="kitchen knife">:kitchen_knife:</span></p>



<a name="127084181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127084181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127084181">(May 25 2018 at 14:31)</a>:</h4>
<p>ok</p>



<a name="127084192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127084192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127084192">(May 25 2018 at 14:31)</a>:</h4>
<p>I was about to say that :) I had missed we could remove it in the review; this and the histo crate dependency etc</p>



<a name="127084254"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127084254" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127084254">(May 25 2018 at 14:32)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127085441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085441">(May 25 2018 at 14:56)</a>:</h4>
<p>so, we are confused about something right now</p>



<a name="127085444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085444">(May 25 2018 at 14:56)</a>:</h4>
<p><a href="https://github.com/rust-lang-nursery/polonius/blob/master/src/dump.rs#L227" target="_blank" title="https://github.com/rust-lang-nursery/polonius/blob/master/src/dump.rs#L227">https://github.com/rust-lang-nursery/polonius/blob/master/src/dump.rs#L227</a></p>



<a name="127085455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085455" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085455">(May 25 2018 at 14:56)</a>:</h4>
<p>ok</p>



<a name="127085468"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085468" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085468">(May 25 2018 at 14:56)</a>:</h4>
<p>and</p>



<a name="127085469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085469">(May 25 2018 at 14:56)</a>:</h4>
<p><a href="https://github.com/rust-lang-nursery/polonius/blob/master/polonius-engine/src/facts.rs#L44" target="_blank" title="https://github.com/rust-lang-nursery/polonius/blob/master/polonius-engine/src/facts.rs#L44">https://github.com/rust-lang-nursery/polonius/blob/master/polonius-engine/src/facts.rs#L44</a></p>



<a name="127085481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085481" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085481">(May 25 2018 at 14:57)</a>:</h4>
<p>I understand from rustc point of view</p>



<a name="127085486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085486">(May 25 2018 at 14:57)</a>:</h4>
<p>but why do polonius redefine Atom?</p>



<a name="127085489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085489" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085489">(May 25 2018 at 14:57)</a>:</h4>
<p>I mean, it's clear how to do in rustc + polonius-engine</p>



<a name="127085495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085495" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085495">(May 25 2018 at 14:57)</a>:</h4>
<p>but unsure what are we trying to do in polonius</p>



<a name="127085543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085543">(May 25 2018 at 14:58)</a>:</h4>
<p>it's just that in polonius we should don't care about polonius-engine's Atom and roll our own?</p>



<a name="127085544"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085544" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085544">(May 25 2018 at 14:58)</a>:</h4>
<p>oh, they are just independent traits</p>



<a name="127085549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085549">(May 25 2018 at 14:58)</a>:</h4>
<p>I should have renamed the <code>Atom</code> in polonius</p>



<a name="127085554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085554" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085554">(May 25 2018 at 14:58)</a>:</h4>
<p>but I don't know why this impacts you</p>



<a name="127085556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085556" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085556">(May 25 2018 at 14:58)</a>:</h4>
<p>that dump code should not be in the engine</p>



<a name="127085559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085559" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085559">(May 25 2018 at 14:58)</a>:</h4>
<p>in fact, I specifically moved it out from the <code>output</code> module for that reason</p>



<a name="127085566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085566" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085566">(May 25 2018 at 14:58)</a>:</h4>
<p>yeah, it's not</p>



<a name="127085578"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085578" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085578">(May 25 2018 at 14:59)</a>:</h4>
<p>maybe we did some use wrong or something</p>



<a name="127085580"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085580" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085580">(May 25 2018 at 14:59)</a>:</h4>
<p>(well, I should have renamed it or otherwise refactored)</p>



<a name="127085582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085582" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085582">(May 25 2018 at 14:59)</a>:</h4>
<p>let me see all again</p>



<a name="127085593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085593">(May 25 2018 at 14:59)</a>:</h4>
<p>/me peeks</p>



<a name="127085776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085776">(May 25 2018 at 15:02)</a>:</h4>
<p>fixed</p>



<a name="127085784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085784" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085784">(May 25 2018 at 15:02)</a>:</h4>
<p>Region, Loan, Point in dump_output in src/dump.rs  need to be bound to polonius_engine:Atom</p>



<a name="127085788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085788">(May 25 2018 at 15:03)</a>:</h4>
<p>but we have to Atom</p>



<a name="127085793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127085793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127085793">(May 25 2018 at 15:03)</a>:</h4>
<p>that's why the confusion</p>



<a name="127086148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127086148" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127086148">(May 25 2018 at 15:10)</a>:</h4>
<p>ok I don't understand but seems fine =)</p>



<a name="127087501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127087501" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127087501">(May 25 2018 at 15:39)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <a href="https://github.com/rust-lang-nursery/polonius/pull/52" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/52">https://github.com/rust-lang-nursery/polonius/pull/52</a></p>



<a name="127087562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127087562" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127087562">(May 25 2018 at 15:40)</a>:</h4>
<p>we need to fix this <a href="https://github.com/rust-lang-nursery/polonius/pull/52/files#diff-dba02791b4baf8a328939029ac920005R51" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/52/files#diff-dba02791b4baf8a328939029ac920005R51">https://github.com/rust-lang-nursery/polonius/pull/52/files#diff-dba02791b4baf8a328939029ac920005R51</a></p>



<a name="127087572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127087572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127087572">(May 25 2018 at 15:40)</a>:</h4>
<p>we can continue a bit more but opening the PR so you can check how goes :)</p>



<a name="127087575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127087575" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127087575">(May 25 2018 at 15:40)</a>:</h4>
<p>I'll do that on a follow-up PR</p>



<a name="127087602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127087602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127087602">(May 25 2018 at 15:41)</a>:</h4>
<p>looks pretty good, left one nit</p>



<a name="127088295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127088295" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127088295">(May 25 2018 at 15:54)</a>:</h4>
<p>I've dropped the changes on a follow-up PR since <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> stepped out for a bit</p>



<a name="127088314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127088314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127088314">(May 25 2018 at 15:55)</a>:</h4>
<p><a href="https://github.com/rust-lang-nursery/polonius/pull/53" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/53">https://github.com/rust-lang-nursery/polonius/pull/53</a></p>



<a name="127088461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127088461" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127088461">(May 25 2018 at 15:58)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> merged!</p>



<a name="127088487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127088487" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127088487">(May 25 2018 at 15:59)</a>:</h4>
<p><span class="emoji emoji-1f389" title="tada">:tada:</span></p>



<a name="127089250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127089250" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127089250">(May 25 2018 at 16:17)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> added a tick to the task here <a href="https://github.com/rust-lang-nursery/polonius/issues/44" target="_blank" title="https://github.com/rust-lang-nursery/polonius/issues/44">https://github.com/rust-lang-nursery/polonius/issues/44</a></p>



<a name="127089254"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127089254" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127089254">(May 25 2018 at 16:17)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> should we continue porting the stuff now to rustc?</p>



<a name="127089304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127089304" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127089304">(May 25 2018 at 16:18)</a>:</h4>
<p>we need to fix the enums hack from previous PR and then we can continue</p>



<a name="127089311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127089311" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127089311">(May 25 2018 at 16:18)</a>:</h4>
<p>I'm working on fixing the enum thing now</p>



<a name="127089326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127089326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127089326">(May 25 2018 at 16:19)</a>:</h4>
<p>share the thing so I can join you :)</p>



<a name="127090699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127090699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127090699">(May 25 2018 at 16:52)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> should we continue porting the stuff now to rustc?</p>
</blockquote>
<p>go for it!</p>



<a name="127090897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127090897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127090897">(May 25 2018 at 16:57)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127090901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127090901" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127090901">(May 25 2018 at 16:57)</a>:</h4>
<p>we are fixing the hack</p>



<a name="127090906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127090906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127090906">(May 25 2018 at 16:57)</a>:</h4>
<p>and will continue with that in a little while</p>



<a name="127091079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127091079" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127091079">(May 25 2018 at 17:00)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> another one <a href="https://github.com/rust-lang-nursery/polonius/pull/54" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/54">https://github.com/rust-lang-nursery/polonius/pull/54</a></p>



<a name="127091117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127091117" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127091117">(May 25 2018 at 17:01)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> merged</p>



<a name="127091161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127091161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127091161">(May 25 2018 at 17:02)</a>:</h4>
<p>I'm moving to rustc integration now</p>



<a name="127091167"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127091167" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127091167">(May 25 2018 at 17:02)</a>:</h4>
<p>are you going to do a polonius release?</p>



<a name="127091493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127091493" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127091493">(May 25 2018 at 17:10)</a>:</h4>
<p>I can yeah</p>



<a name="127091500"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127091500" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127091500">(May 25 2018 at 17:10)</a>:</h4>
<p>I'll go ahead and call this 0.2.0</p>



<a name="127091501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127091501" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127091501">(May 25 2018 at 17:10)</a>:</h4>
<p>even though it's probably semver-compatible</p>



<a name="127091525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127091525" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127091525">(May 25 2018 at 17:11)</a>:</h4>
<p>ok</p>



<a name="127091650"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127091650" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127091650">(May 25 2018 at 17:14)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> done <a href="https://crates.io/crates/polonius-engine" target="_blank" title="https://crates.io/crates/polonius-engine">https://crates.io/crates/polonius-engine</a></p>



<a name="127091675"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127091675" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127091675">(May 25 2018 at 17:15)</a>:</h4>
<p><span class="emoji emoji-1f389" title="tada">:tada:</span></p>



<a name="127091677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127091677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127091677">(May 25 2018 at 17:15)</a>:</h4>
<p>building a fresh rust</p>



<a name="127091763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127091763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127091763">(May 25 2018 at 17:17)</a>:</h4>
<p>will be afk for a bit (fyi)</p>



<a name="127091765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127091765" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127091765">(May 25 2018 at 17:17)</a>:</h4>
<p>ok</p>



<a name="127092933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127092933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127092933">(May 25 2018 at 17:49)</a>:</h4>
<p>I'm reading your integration commit here, but will probably need some walkthrough when you're back</p>



<a name="127093739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127093739" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127093739">(May 25 2018 at 18:07)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> we are starting with <span class="user-mention" data-user-id="116013">@qmx</span></p>



<a name="127093744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127093744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127093744">(May 25 2018 at 18:07)</a>:</h4>
<p>we are basing the work on my current unmerged PR about AllFacts</p>



<a name="127093748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127093748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127093748">(May 25 2018 at 18:07)</a>:</h4>
<p>I guess this is the way to go</p>



<a name="127096354"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096354" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096354">(May 25 2018 at 19:04)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> I'm back now :)</p>



<a name="127096358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096358">(May 25 2018 at 19:04)</a>:</h4>
<p>¿qué pása?</p>



<a name="127096367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096367">(May 25 2018 at 19:05)</a>:</h4>
<p>I don't know how to say it in Portuguese but I hope Spanish's close enough ;)</p>



<a name="127096373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096373" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096373">(May 25 2018 at 19:05)</a>:</h4>
<p>also I think I got the accents wrong</p>



<a name="127096374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096374" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096374">(May 25 2018 at 19:05)</a>:</h4>
<p>oh well :)</p>



<a name="127096377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096377" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096377">(May 25 2018 at 19:05)</a>:</h4>
<p>so what's up?</p>



<a name="127096378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096378">(May 25 2018 at 19:05)</a>:</h4>
<p>that was spanish</p>



<a name="127096382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096382" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096382">(May 25 2018 at 19:05)</a>:</h4>
<p>:)</p>



<a name="127096384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096384" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096384">(May 25 2018 at 19:05)</a>:</h4>
<p>I'm aware :)</p>



<a name="127096388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096388">(May 25 2018 at 19:05)</a>:</h4>
<p>hey <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> speaks Spanish</p>



<a name="127096391"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096391" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096391">(May 25 2018 at 19:05)</a>:</h4>
<p>yep, he's really good at it! I'm definitely not :P</p>



<a name="127096393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096393">(May 25 2018 at 19:05)</a>:</h4>
<p>so I'm reading your <a href="https://github.com/rust-lang/rust/compare/master...nikomatsakis:nll-alias-analysis-with-differential-dataflow?expand=1" target="_blank" title="https://github.com/rust-lang/rust/compare/master...nikomatsakis:nll-alias-analysis-with-differential-dataflow?expand=1">branch</a> diff</p>



<a name="127096434"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096434" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096434">(May 25 2018 at 19:06)</a>:</h4>
<p>and having a hard time following all the changes there</p>



<a name="127096435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096435" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096435">(May 25 2018 at 19:06)</a>:</h4>
<blockquote>
<p>yep, he's really good at it! I'm definitely not :P</p>
</blockquote>
<p>heh. One of the things that amuses me about learning a foreign language is that basically the best complement you can have is that you are indistinguishable from the average person</p>



<a name="127096451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096451" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096451">(May 25 2018 at 19:06)</a>:</h4>
<blockquote>
<blockquote>
<p>yep, he's really good at it! I'm definitely not :P</p>
</blockquote>
<p>heh. One of the things that amuses me about learning a foreign language is that basically the best complement you can have is that you are indistinguishable from the average person</p>
</blockquote>
<p>so true <span class="emoji emoji-1f602" title="joy">:joy:</span></p>



<a name="127096461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096461" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096461">(May 25 2018 at 19:06)</a>:</h4>
<p>ok, what have you done so far?</p>



<a name="127096465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096465">(May 25 2018 at 19:06)</a>:</h4>
<p>want to maybe try to pair briefly?</p>



<a name="127096475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096475">(May 25 2018 at 19:07)</a>:</h4>
<p>(or just chat over Zulip, either wfm)</p>



<a name="127096487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096487" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096487">(May 25 2018 at 19:07)</a>:</h4>
<p>pairing would be nice</p>



<a name="127096496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096496" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096496">(May 25 2018 at 19:07)</a>:</h4>
<p>ok gimme 2 min</p>



<a name="127096539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127096539" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127096539">(May 25 2018 at 19:08)</a>:</h4>
<p>k</p>



<a name="127098793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127098793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127098793">(May 25 2018 at 20:00)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <span class="user-mention" data-user-id="116013">@qmx</span> you around?</p>



<a name="127098917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127098917" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127098917">(May 25 2018 at 20:03)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> needed to leave for a while, I'm back</p>



<a name="127098932"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127098932" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127098932">(May 25 2018 at 20:04)</a>:</h4>
<p>did you already paired?</p>



<a name="127099261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127099261" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127099261">(May 25 2018 at 20:11)</a>:</h4>
<p>yeah we made a video I plan to upload</p>



<a name="127099320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127099320" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127099320">(May 25 2018 at 20:12)</a>:</h4>
<p>cool</p>



<a name="127099325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127099325" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127099325">(May 25 2018 at 20:12)</a>:</h4>
<p>did you finish the task?</p>



<a name="127099328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127099328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127099328">(May 25 2018 at 20:12)</a>:</h4>
<p>I was kind of tackling it also</p>



<a name="127099330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127099330" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127099330">(May 25 2018 at 20:13)</a>:</h4>
<p>heh no but we sketched out the steps :)</p>



<a name="127099338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127099338" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127099338">(May 25 2018 at 20:13)</a>:</h4>
<p>cool</p>



<a name="127099353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127099353" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127099353">(May 25 2018 at 20:13)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> wanna continue with me?</p>



<a name="127099358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127099358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127099358">(May 25 2018 at 20:13)</a>:</h4>
<p>can't wait for your PR to land <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span></p>



<a name="127099360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127099360" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127099360">(May 25 2018 at 20:13)</a>:</h4>
<p>hehe I can give you some time to rest :P</p>



<a name="127100899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127100899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127100899">(May 25 2018 at 20:51)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> what I recommended to <span class="user-mention" data-user-id="116013">@qmx</span> was that — roughly at the spot where we presently dump out the NLL facts to disk — we would do the polonius computation (this is in <code>nll::compute_regions()</code>). The resulting <code>Output</code> would be returned (not stored in the <code>RegionInferenceContext</code>)</p>



<a name="127100905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127100905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127100905">(May 25 2018 at 20:51)</a>:</h4>
<p>we would then put that <code>Output</code> into the <code>Flows</code> data structure that currently stores the <code>borrows</code> set</p>



<a name="127100908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127100908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127100908">(May 25 2018 at 20:51)</a>:</h4>
<p>yes I was looking exactly at compute_regions</p>



<a name="127100909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127100909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127100909">(May 25 2018 at 20:51)</a>:</h4>
<p>and (if the switch is enabled) use it instead to answer the functions <code>borrows_live_at</code> and <code>with_outgoing_borrows</code></p>



<a name="127100911"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127100911" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127100911">(May 25 2018 at 20:51)</a>:</h4>
<p>this is somewhat different from what I did in my commit, but similar</p>



<a name="127100963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127100963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127100963">(May 25 2018 at 20:52)</a>:</h4>
<p>right now compute_regions returns ...</p>



<a name="127100965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127100965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127100965">(May 25 2018 at 20:52)</a>:</h4>
<div class="codehilite"><pre><span></span>) -&gt; (
    RegionInferenceContext&lt;&#39;tcx&gt;,
    Option&lt;ClosureRegionRequirements&lt;&#39;gcx&gt;&gt;,
) {
</pre></div>



<a name="127100975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127100975" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127100975">(May 25 2018 at 20:53)</a>:</h4>
<p>yeah you would return a 3rd thing</p>



<a name="127100976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127100976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127100976">(May 25 2018 at 20:53)</a>:</h4>
<p>you mean to add another thing to that tuple?</p>



<a name="127100980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127100980" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127100980">(May 25 2018 at 20:53)</a>:</h4>
<p>:D</p>



<a name="127100984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127100984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127100984">(May 25 2018 at 20:53)</a>:</h4>
<p>beautiful :P</p>



<a name="127100992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127100992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127100992">(May 25 2018 at 20:53)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> is this somewhat the same we discussed on the call?</p>



<a name="127100996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127100996" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127100996">(May 25 2018 at 20:53)</a>:</h4>
<p>or something different?</p>



<a name="127101039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101039" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101039">(May 25 2018 at 20:54)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> I think it's the same, I'm trying to catch up :)</p>



<a name="127101041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101041" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101041">(May 25 2018 at 20:54)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> same</p>



<a name="127101045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101045">(May 25 2018 at 20:54)</a>:</h4>
<p>still need to see the video when is up</p>



<a name="127101047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101047" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101047">(May 25 2018 at 20:54)</a>:</h4>
<p>encoding just finished</p>



<a name="127101048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101048">(May 25 2018 at 20:54)</a>:</h4>
<p>take your time to have lunch</p>



<a name="127101049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101049" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101049">(May 25 2018 at 20:54)</a>:</h4>
<p>so now I'm worried about overlap</p>



<a name="127101054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101054">(May 25 2018 at 20:54)</a>:</h4>
<p>are you working on this thing now?</p>



<a name="127101089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101089">(May 25 2018 at 20:55)</a>:</h4>
<p>yup, adding the flag atm, but I'll have to stop for getting lunch :P</p>



<a name="127101094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101094" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101094">(May 25 2018 at 20:55)</a>:</h4>
<p>(waaaay past overdue :P)</p>



<a name="127101141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101141" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101141">(May 25 2018 at 20:56)</a>:</h4>
<p>ahh thought we were going to pair</p>



<a name="127101147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101147" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101147">(May 25 2018 at 20:56)</a>:</h4>
<p>I wasn't coding was waiting for you</p>



<a name="127101149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101149" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101149">(May 25 2018 at 20:56)</a>:</h4>
<p>no worries, you can continue with the task</p>



<a name="127101151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101151">(May 25 2018 at 20:56)</a>:</h4>
<p>I will try to do something else</p>



<a name="127101167"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101167" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101167">(May 25 2018 at 20:57)</a>:</h4>
<p>the pairing with niko was a walkthrough of all those codepaths</p>



<a name="127101232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101232">(May 25 2018 at 20:58)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127101272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101272" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101272">(May 25 2018 at 20:59)</a>:</h4>
<p>jfyi video with <span class="user-mention" data-user-id="116013">@qmx</span> is going to be at youtube at <a href="https://youtu.be/EM_j4suuA1Y" target="_blank" title="https://youtu.be/EM_j4suuA1Y">https://youtu.be/EM_j4suuA1Y</a></p>



<a name="127101332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101332">(May 25 2018 at 21:00)</a>:</h4>
<p>in case you want to review something :)</p>



<a name="127101335"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101335" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101335">(May 25 2018 at 21:00)</a>:</h4>
<p>I'm not sure where to catalog and list these videos :)</p>



<a name="127101574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101574" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101574">(May 25 2018 at 21:06)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> creating a channel and or a playlist?</p>



<a name="127101582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101582" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101582">(May 25 2018 at 21:06)</a>:</h4>
<p>I guess, I don't know what those things are :) though I can guess ;)</p>



<a name="127101585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101585" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101585">(May 25 2018 at 21:06)</a>:</h4>
<p>/me not very YouTube savvy apparently</p>



<a name="127101595"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101595" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101595">(May 25 2018 at 21:07)</a>:</h4>
<p>hehehe</p>



<a name="127101602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101602">(May 25 2018 at 21:07)</a>:</h4>
<p>you know what is a borrow checker but you don't what's a playlist? :P</p>



<a name="127101691"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101691" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101691">(May 25 2018 at 21:09)</a>:</h4>
<p>confirm:)</p>



<a name="127101708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101708" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101708">(May 25 2018 at 21:09)</a>:</h4>
<p>I only ever used youtube by getting a link :)</p>



<a name="127101752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101752" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101752">(May 25 2018 at 21:10)</a>:</h4>
<p>I understand there are other .. things .. on there ..</p>



<a name="127101755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127101755" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127101755">(May 25 2018 at 21:10)</a>:</h4>
<p>:)</p>



<a name="127102340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127102340" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127102340">(May 25 2018 at 21:25)</a>:</h4>
<p>ok I made a <a href="https://www.youtube.com/playlist?list=PLCQVvhKUrTN9VfaQx2AyOSAstwENaGkYA" target="_blank" title="https://www.youtube.com/playlist?list=PLCQVvhKUrTN9VfaQx2AyOSAstwENaGkYA">rustc pair programming playlist</a> :)</p>



<a name="127109225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109225">(May 26 2018 at 00:49)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> so we've managed to do all the steps but pass the polonius output into <code>FlowState</code></p>



<a name="127109226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109226" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109226">(May 26 2018 at 00:49)</a>:</h4>
<p>ok</p>



<a name="127109231"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109231" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109231">(May 26 2018 at 00:49)</a>:</h4>
<p><a href="http://github.com/qmx/rust/tree/use_polonius_Output" target="_blank" title="http://github.com/qmx/rust/tree/use_polonius_Output">http://github.com/qmx/rust/tree/use_polonius_Output</a></p>



<a name="127109277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109277">(May 26 2018 at 00:50)</a>:</h4>
<p>is it really important for now to pass through FlowState?</p>



<a name="127109280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109280" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109280">(May 26 2018 at 00:50)</a>:</h4>
<p>I guess we could land something and then try to refactor</p>



<a name="127109288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109288" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109288">(May 26 2018 at 00:51)</a>:</h4>
<p>it doesn't have to go into flow state</p>



<a name="127109289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109289" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109289">(May 26 2018 at 00:51)</a>:</h4>
<p>maybe that's why you stored it initially inside the <code>MirBorrowContext</code></p>



<a name="127109294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109294" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109294">(May 26 2018 at 00:51)</a>:</h4>
<p>what problem are you hitting exactly?</p>



<a name="127109299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109299" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109299">(May 26 2018 at 00:51)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> one thing ... in your changes you changed how each_borrow_involving_path works</p>



<a name="127109300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109300" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109300">(May 26 2018 at 00:51)</a>:</h4>
<p>not knowing how/where to store the polonius output</p>



<a name="127109306"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109306" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109306">(May 26 2018 at 00:51)</a>:</h4>
<p>you were suggesting to do the same and use polonius output there</p>



<a name="127109347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109347">(May 26 2018 at 00:52)</a>:</h4>
<p>this is changing in the way things will work</p>



<a name="127109348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109348" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109348">(May 26 2018 at 00:52)</a>:</h4>
<p>are you doing that because is exactly equivalent?</p>



<a name="127109352"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109352" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109352">(May 26 2018 at 00:52)</a>:</h4>
<p>I mean, from the top of my head I don't know what is this function actually checking</p>



<a name="127109354"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109354" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109354">(May 26 2018 at 00:52)</a>:</h4>
<p>if we don't store it inside <code>FlowState</code>, how can we reach it later inside <code>borrows_in_scope(Location)</code>?</p>



<a name="127109357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109357">(May 26 2018 at 00:53)</a>:</h4>
<p>right — acutally I gotta run to put my daughter to bed — but you could either put it in the <code>MirBorrowckCtxt</code>, as I did in the commit, or the flow state</p>



<a name="127109360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109360" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109360">(May 26 2018 at 00:53)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> if you don't put it in there, you have to not call that routine, basically</p>



<a name="127109361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109361" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109361">(May 26 2018 at 00:53)</a>:</h4>
<p>I think it shouldn't be hard to put it in the flow-state though...</p>



<a name="127109362"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109362" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109362">(May 26 2018 at 00:53)</a>:</h4>
<p>I'll try now on <code>MirBorrowCtx</code></p>



<a name="127109366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109366">(May 26 2018 at 00:53)</a>:</h4>
<p>but maybe try on the mir borrowck ctxt first</p>



<a name="127109367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109367">(May 26 2018 at 00:53)</a>:</h4>
<p>(since there is the model from that commit)</p>



<a name="127109368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109368" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109368">(May 26 2018 at 00:53)</a>:</h4>
<p>anyway bbl</p>



<a name="127109369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109369" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109369">(May 26 2018 at 00:53)</a>:</h4>
<p>k, thanks</p>



<a name="127109657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109657">(May 26 2018 at 01:02)</a>:</h4>
<p>ok back</p>



<a name="127109658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109658" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109658">(May 26 2018 at 01:02)</a>:</h4>
<p>I figured that my question was silly :)</p>



<a name="127109659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109659">(May 26 2018 at 01:03)</a>:</h4>
<p>the answer is things are equivalent</p>



<a name="127109664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109664" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109664">(May 26 2018 at 01:03)</a>:</h4>
<p>just in case asking</p>



<a name="127109671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109671">(May 26 2018 at 01:03)</a>:</h4>
<p>(do you have a textmate session or something?)</p>



<a name="127109672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109672">(May 26 2018 at 01:03)</a>:</h4>
<p>because I'm not 100% what polonius is not covering</p>



<a name="127109716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109716">(May 26 2018 at 01:04)</a>:</h4>
<p>actually we were pairing with qmx but then we splitted work</p>



<a name="127109717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109717">(May 26 2018 at 01:04)</a>:</h4>
<p>I'm trying to investigate and help him</p>



<a name="127109719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109719">(May 26 2018 at 01:04)</a>:</h4>
<p>maybe tomorrow we can pair again</p>



<a name="127109721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109721">(May 26 2018 at 01:04)</a>:</h4>
<p>unsure</p>



<a name="127109723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109723" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109723">(May 26 2018 at 01:05)</a>:</h4>
<p>I was mentioned to him — not sure if this is how you split it — that if you have the <code>Output</code></p>



<a name="127109731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109731">(May 26 2018 at 01:05)</a>:</h4>
<p>it makes sense to augment the output from <code>-Zdump-mir</code></p>



<a name="127109732"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109732" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109732">(May 26 2018 at 01:05)</a>:</h4>
<p>with the derived tuples at each point</p>



<a name="127109733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109733" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109733">(May 26 2018 at 01:05)</a>:</h4>
<p>(which that PR also does...)</p>



<a name="127109735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109735">(May 26 2018 at 01:05)</a>:</h4>
<p>er, that commit</p>



<a name="127109736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109736" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109736">(May 26 2018 at 01:05)</a>:</h4>
<p>ok</p>



<a name="127109737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109737">(May 26 2018 at 01:05)</a>:</h4>
<p>would be a sort of independent thing</p>



<a name="127109774"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109774" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109774">(May 26 2018 at 01:06)</a>:</h4>
<p>I think Douglas figured this thing out</p>



<a name="127109778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109778">(May 26 2018 at 01:06)</a>:</h4>
<p>I'm also have something on my machine</p>



<a name="127109779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109779">(May 26 2018 at 01:06)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> so this is the <code>flow_state</code> type, <code>Flows</code> (<a href="https://github.com/rust-lang/rust/blob/990d8aa743b1dda3cc0f68fe09524486261812c6/src/librustc_mir/borrow_check/flows.rs#L28" target="_blank" title="https://github.com/rust-lang/rust/blob/990d8aa743b1dda3cc0f68fe09524486261812c6/src/librustc_mir/borrow_check/flows.rs#L28">here</a>)</p>



<a name="127109780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109780">(May 26 2018 at 01:06)</a>:</h4>
<p>when we can, we can sync again</p>



<a name="127109783"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109783" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109783">(May 26 2018 at 01:06)</a>:</h4>
<p>one problem might be that <code>borrows_in_scope</code> presently returns an <code>impl Iterator</code></p>



<a name="127109784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109784" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109784">(May 26 2018 at 01:07)</a>:</h4>
<p>which is sometimes a pain when you want to return two different kinds of iterators</p>



<a name="127109790"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109790" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109790">(May 26 2018 at 01:07)</a>:</h4>
<p>we could change it to a "callback" form</p>



<a name="127109794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109794">(May 26 2018 at 01:07)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="116013">@qmx</span> so this is the <code>flow_state</code> type, <code>Flows</code> (<a href="https://github.com/rust-lang/rust/blob/990d8aa743b1dda3cc0f68fe09524486261812c6/src/librustc_mir/borrow_check/flows.rs#L28" target="_blank" title="https://github.com/rust-lang/rust/blob/990d8aa743b1dda3cc0f68fe09524486261812c6/src/librustc_mir/borrow_check/flows.rs#L28">here</a>)</p>
</blockquote>
<p>why did you mention this?</p>



<a name="127109795"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109795" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109795">(May 26 2018 at 01:07)</a>:</h4>
<p>where it invokes a closure with each <code>Borrow</code>Index`</p>



<a name="127109796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109796" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109796">(May 26 2018 at 01:07)</a>:</h4>
<p>and take a closure as callback?</p>



<a name="127109797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109797" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109797">(May 26 2018 at 01:07)</a>:</h4>
<p>I may be missing something :)</p>



<a name="127109798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109798" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109798">(May 26 2018 at 01:07)</a>:</h4>
<p>boom</p>



<a name="127109799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109799">(May 26 2018 at 01:07)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> I was just jumping back to what <span class="user-mention" data-user-id="116013">@qmx</span> asked earlier</p>



<a name="127109846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109846" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109846">(May 26 2018 at 01:09)</a>:</h4>
<p>I've managed to get the output inside <code>MirBorrowCtx</code></p>



<a name="127109849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109849">(May 26 2018 at 01:09)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> something like</p>
<div class="codehilite"><pre><span></span><span class="k">fn</span> <span class="nf">borrows_in_scope</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">location</span>: <span class="nc">PointIndex</span><span class="p">,</span><span class="w"> </span><span class="n">each_borrow</span>: <span class="nc">impl</span><span class="w"> </span><span class="nb">FnMut</span><span class="p">(</span><span class="n">BorrowIndex</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">polonius</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">borrow</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">polonius</span><span class="p">.</span><span class="n">errors_at</span><span class="p">(</span><span class="n">location</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">each_borrow</span><span class="p">(</span><span class="n">borrow</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="bp">self</span><span class="p">.</span><span class="n">borrows</span><span class="p">.</span><span class="n">iter_incoming</span><span class="p">().</span><span class="n">for_each</span><span class="p">(</span><span class="n">each_borrow</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>



<a name="127109852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109852" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109852">(May 26 2018 at 01:09)</a>:</h4>
<p>oh, ok</p>



<a name="127109853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109853">(May 26 2018 at 01:09)</a>:</h4>
<p>at least the build didn't break so far :P</p>



<a name="127109854"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109854" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109854">(May 26 2018 at 01:09)</a>:</h4>
<p>(still running)</p>



<a name="127109858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109858">(May 26 2018 at 01:09)</a>:</h4>
<p>er, I guess the main method is still <code>borrow_live_at</code>?</p>



<a name="127109859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109859" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109859">(May 26 2018 at 01:10)</a>:</h4>
<p>I think the closure version might be easier to deal with</p>



<a name="127109880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109880">(May 26 2018 at 01:10)</a>:</h4>
<p>I thought we landed a PR that changed that</p>



<a name="127109902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109902" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109902">(May 26 2018 at 01:10)</a>:</h4>
<p>but I see <a href="https://github.com/rust-lang-nursery/polonius/blob/master/polonius-engine/src/output/mod.rs#L77-L82" target="_blank" title="https://github.com/rust-lang-nursery/polonius/blob/master/polonius-engine/src/output/mod.rs#L77-L82">this</a></p>



<a name="127109908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109908">(May 26 2018 at 01:10)</a>:</h4>
<p>hmmm</p>



<a name="127109913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109913" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109913">(May 26 2018 at 01:11)</a>:</h4>
<p>oh, no we did change it</p>



<a name="127109917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109917" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109917">(May 26 2018 at 01:11)</a>:</h4>
<p>the <code>Output</code> type just wasn't reorganized it seems</p>



<a name="127109918"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109918" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109918">(May 26 2018 at 01:11)</a>:</h4>
<p>in this PR <a href="https://github.com/rust-lang-nursery/polonius/pull/42/" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/42/">https://github.com/rust-lang-nursery/polonius/pull/42/</a></p>



<a name="127109919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109919" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109919">(May 26 2018 at 01:11)</a>:</h4>
<p>the "main" type is <code>potential_errors</code></p>



<a name="127109920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109920" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109920">(May 26 2018 at 01:11)</a>:</h4>
<p>which is now misnamed</p>



<a name="127109921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109921">(May 26 2018 at 01:11)</a>:</h4>
<p>the main <em>field</em> that is</p>



<a name="127109922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109922" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109922">(May 26 2018 at 01:11)</a>:</h4>
<p>should just be <code>errors</code>, not <code>potential_errors</code></p>



<a name="127109925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109925" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109925">(May 26 2018 at 01:11)</a>:</h4>
<p>so now every change in mir is taking ~7 minutes to build</p>



<a name="127109964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109964">(May 26 2018 at 01:12)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> if you just want to know if it builds, I suggest <code>./x.py check</code></p>



<a name="127109965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109965">(May 26 2018 at 01:12)</a>:</h4>
<p>it's way faster</p>



<a name="127109966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109966" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109966">(May 26 2018 at 01:12)</a>:</h4>
<p>I tend to iterate with that</p>



<a name="127109968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109968" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109968">(May 26 2018 at 01:12)</a>:</h4>
<p><code>RUST_BACKTRACE=full ./x.py build -i --stage 1 --keep-stage 0 src/libstd</code></p>



<a name="127109969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109969" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109969">(May 26 2018 at 01:12)</a>:</h4>
<p>until I am ready to run tests</p>



<a name="127109971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109971">(May 26 2018 at 01:12)</a>:</h4>
<p><code>./x.py check</code> what does it do?</p>



<a name="127109975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109975" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109975">(May 26 2018 at 01:13)</a>:</h4>
<p>it just checks if it compiles or not</p>



<a name="127109976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109976">(May 26 2018 at 01:13)</a>:</h4>
<p>I've forgot about it</p>



<a name="127109980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109980" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109980">(May 26 2018 at 01:13)</a>:</h4>
<p>but doens't produce teh binary</p>



<a name="127109983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109983">(May 26 2018 at 01:13)</a>:</h4>
<p>that's awesome</p>



<a name="127109984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109984">(May 26 2018 at 01:13)</a>:</h4>
<p>ok</p>



<a name="127109986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109986" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109986">(May 26 2018 at 01:13)</a>:</h4>
<p>makes sense</p>



<a name="127109988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109988">(May 26 2018 at 01:13)</a>:</h4>
<p>that said, if all your changes are local to <code>librustc_mir</code>, there's not as much advantage, since you could just kill the build once that succeeds</p>



<a name="127109992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109992">(May 26 2018 at 01:13)</a>:</h4>
<p>but with check you don't have to remember to do so</p>



<a name="127109999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127109999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127109999">(May 26 2018 at 01:13)</a>:</h4>
<p>but if you e.g. edit <code>librustc</code></p>



<a name="127110037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110037">(May 26 2018 at 01:14)</a>:</h4>
<p>and want to work through the ramifications through the various crates</p>



<a name="127110041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110041" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110041">(May 26 2018 at 01:14)</a>:</h4>
<p><code>x.py check</code> is a real winner</p>



<a name="127110049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110049" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110049">(May 26 2018 at 01:15)</a>:</h4>
<p>true</p>



<a name="127110100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110100" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110100">(May 26 2018 at 01:16)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> well I think either putting it in <code>MirBorrowckCtxt</code> or <code>FlowState</code> is fine</p>



<a name="127110103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110103">(May 26 2018 at 01:16)</a>:</h4>
<p>I'd love to have a <code>rustfmt</code> that would only format lines you changed</p>



<a name="127110105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110105" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110105">(May 26 2018 at 01:16)</a>:</h4>
<p>vs re-doing the whole file</p>



<a name="127110152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110152">(May 26 2018 at 01:18)</a>:</h4>
<p>lol I was looking at the wrong struct, that's why it was so hard to put it inside <code>FlowState</code></p>



<a name="127110155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110155">(May 26 2018 at 01:18)</a>:</h4>
<p>will move it there</p>



<a name="127110163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110163">(May 26 2018 at 01:19)</a>:</h4>
<p>d'oh</p>



<a name="127110165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110165">(May 26 2018 at 01:19)</a>:</h4>
<p>I think rustfmt <em>can</em> do that, but editors aren't using it very well</p>



<a name="127110169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110169" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110169">(May 26 2018 at 01:20)</a>:</h4>
<p>not sure tho</p>



<a name="127110216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110216" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110216">(May 26 2018 at 01:20)</a>:</h4>
<p>also RLS worked inside rustc for a while, it was glorious - then it crashed badly :P</p>



<a name="127110217"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110217" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110217">(May 26 2018 at 01:20)</a>:</h4>
<p>heh</p>



<a name="127110224"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110224" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110224">(May 26 2018 at 01:21)</a>:</h4>
<p>never dared try</p>



<a name="127110283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110283" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110283">(May 26 2018 at 01:24)</a>:</h4>
<p>we are you able to get it working @qmx?</p>



<a name="127110322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110322">(May 26 2018 at 01:24)</a>:</h4>
<p>have the thing compiling here</p>



<a name="127110324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110324" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110324">(May 26 2018 at 01:24)</a>:</h4>
<p>ok I'm off to bed soon — if you all have any last-minute questions let me know soon :)</p>



<a name="127110325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110325" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110325">(May 26 2018 at 01:24)</a>:</h4>
<p>anyway I need to leave now but if you’re available tomorrow we can pair or something</p>



<a name="127110333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110333" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110333">(May 26 2018 at 01:25)</a>:</h4>
<p>yea, I'm trying to move it to <code>FlowState</code></p>



<a name="127110335"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127110335" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127110335">(May 26 2018 at 01:25)</a>:</h4>
<p>have a good night y'all, I'll still hack for a little bit more</p>



<a name="127127205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127127205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127127205">(May 26 2018 at 12:52)</a>:</h4>
<p>@qmx what do you have by now? wanna continue pairing?</p>



<a name="127127261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127127261" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127127261">(May 26 2018 at 12:54)</a>:</h4>
<p>or how can we continue? maybe split in some way?</p>



<a name="127129616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127129616" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127129616">(May 26 2018 at 14:16)</a>:</h4>
<p>I'm in a bad spot for pairing now</p>



<a name="127129874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127129874" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127129874">(May 26 2018 at 14:26)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span>, how can we split the task?</p>



<a name="127129931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127129931" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127129931">(May 26 2018 at 14:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span>  that's where I'm getting stuck:</p>
<div class="codehilite"><pre><span></span>error[E0412]: cannot find type `PointIndex` in this scope
  --&gt; librustc_mir/borrow_check/flows.rs:64:48
   |
64 |     crate fn borrows_in_scope(&amp;self, location: PointIndex, each_borrow: impl FnMut(BorrowIndex)) {
   |                                                ^^^^^^^^^^ not found in this scope

error[E0308]: mismatched types
  --&gt; librustc_mir/borrow_check/flows.rs:66:76
   |
66 |             for borrow in polonius.regions_live_at(location) { each_borrow(borrow) }
   |                                                                            ^^^^^^ expected struct `dataflow::move_paths::indexe
s::BorrowIndex`, found reference
   |
   = note: expected type `dataflow::move_paths::indexes::BorrowIndex`
              found type `&amp;rustc::ty::RegionVid`
</pre></div>


<p>lemme unpack this<br>
1)  you mentioned that I should use <code>polonius.errors</code> or something like this - and mentioned that probable_errors wasn't a good name - shall I go and cut a PR for polonius-engine with those changes? Was the field the expected way of accessing this data?  </p>
<p>2)  I can't find <code>PointIndex</code> anywhere, did you meant another type?</p>
<p>3) I need the <code>MirBorrowCtx</code> inside <code>FlowState::borrows_in_scope</code> for resolving the indexes - is it ok if I capture it via closure?</p>



<a name="127130074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127130074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127130074">(May 26 2018 at 14:32)</a>:</h4>
<p>changes are in <a href="https://github.com/qmx/rust/tree/use_polonius_Output" target="_blank" title="https://github.com/qmx/rust/tree/use_polonius_Output">this branch</a></p>



<a name="127130314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127130314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127130314">(May 26 2018 at 14:39)</a>:</h4>
<p>1) I think we need to provide a method in polonius-engine similar to regions_live_at(location) but that returns potential_errors and change the name from potential_errors to errors</p>



<a name="127130315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127130315" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127130315">(May 26 2018 at 14:40)</a>:</h4>
<p>2) I think it's LocationIndex what you need</p>



<a name="127132280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127132280" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127132280">(May 26 2018 at 15:45)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <span class="user-mention" data-user-id="116013">@qmx</span> didn't have much time and I'm with the baby but I did this <a href="https://github.com/rust-lang-nursery/polonius/pull/56" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/56">https://github.com/rust-lang-nursery/polonius/pull/56</a> I think we would need something like this so we can do <code>output.errors_at(location)</code> from rustc</p>



<a name="127134191"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134191" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134191">(May 26 2018 at 16:56)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> I was rebasing your work on top of master</p>



<a name="127134193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134193" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134193">(May 26 2018 at 16:56)</a>:</h4>
<p>there are some conflicts</p>



<a name="127134194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134194" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134194">(May 26 2018 at 16:56)</a>:</h4>
<p>do you want me to push what I have?</p>



<a name="127134201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134201" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134201">(May 26 2018 at 16:57)</a>:</h4>
<p>I should have said ... rebasing because my PR landed</p>



<a name="127134204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134204" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134204">(May 26 2018 at 16:57)</a>:</h4>
<p>probably better to rebase than continue because otherwise would generate more conflicts</p>



<a name="127134316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134316">(May 26 2018 at 17:01)</a>:</h4>
<p>if you already rebased plese push it somewhere, otherwise I'll rebase</p>



<a name="127134560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134560" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134560">(May 26 2018 at 17:10)</a>:</h4>
<p>yep</p>



<a name="127134561"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134561" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134561">(May 26 2018 at 17:10)</a>:</h4>
<p><a href="https://github.com/spastorino/rust/commits/make_borrowck_use_output" target="_blank" title="https://github.com/spastorino/rust/commits/make_borrowck_use_output">https://github.com/spastorino/rust/commits/make_borrowck_use_output</a></p>



<a name="127134563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134563">(May 26 2018 at 17:10)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127134564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134564" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134564">(May 26 2018 at 17:10)</a>:</h4>
<p>left out the wip commit</p>



<a name="127134569"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134569" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134569">(May 26 2018 at 17:11)</a>:</h4>
<p>but I guess you can put my branch in yours again and add that on top :)</p>



<a name="127134571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134571" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134571">(May 26 2018 at 17:11)</a>:</h4>
<p>yea, I'll take care of that</p>



<a name="127134762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134762" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134762">(May 26 2018 at 17:18)</a>:</h4>
<p>actually have added your wip commit</p>



<a name="127134764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134764">(May 26 2018 at 17:18)</a>:</h4>
<p>it needed a little change</p>



<a name="127134769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127134769" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127134769">(May 26 2018 at 17:19)</a>:</h4>
<p>take a look at the stuff and feel free to get what you need or throw away :)</p>



<a name="127179942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127179942" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127179942">(May 27 2018 at 23:03)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> <span class="user-mention" data-user-id="116009">@nikomatsakis</span> I've pushed a couple of fixes on top of the last qmx commit here <a href="https://github.com/spastorino/rust/commits/make_borrowck_use_output" target="_blank" title="https://github.com/spastorino/rust/commits/make_borrowck_use_output">https://github.com/spastorino/rust/commits/make_borrowck_use_output</a></p>



<a name="127179947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127179947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127179947">(May 27 2018 at 23:03)</a>:</h4>
<p>I think the thing is almost there</p>



<a name="127179949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127179949" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127179949">(May 27 2018 at 23:03)</a>:</h4>
<p>couldn't spend any time during the weekend on this thing, just had a couple of minutes and could fix the stuff you see on the last commit</p>



<a name="127179951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127179951" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127179951">(May 27 2018 at 23:04)</a>:</h4>
<p>anyway it's giving some compiling errors as I think <span class="user-mention" data-user-id="116009">@nikomatsakis</span> predicted</p>



<a name="127179988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127179988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127179988">(May 27 2018 at 23:04)</a>:</h4>
<div class="codehilite"><pre><span></span>error[E0308]: `if let` arms have incompatible types
  --&gt; librustc_mir/borrow_check/flows.rs:65:9
   |
65 | /         if let Some(polonius) = self.polonius_output {
66 | |             polonius.borrows_in_scope_at(location)
67 | |         } else {
68 | |             self.borrows.iter_incoming()
69 | |         }
   | |_________^ expected reference, found struct `std::iter::Peekable`
   |
   = note: expected type `&amp;[dataflow::move_paths::indexes::BorrowIndex]`
              found type `std::iter::Peekable&lt;rustc_data_structures::indexed_set::Iter&lt;&#39;_, dataflow::move_paths::indexes::BorrowIndex&gt;&gt;`
note: `if let` arm with an incompatible type
  --&gt; librustc_mir/borrow_check/flows.rs:67:16
   |
67 |           } else {
   |  ________________^
68 | |             self.borrows.iter_incoming()
69 | |         }
   | |_________^

error: aborting due to previous error
</pre></div>



<a name="127179995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127179995" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127179995">(May 27 2018 at 23:04)</a>:</h4>
<p>Niko suggested to use callbacks for that but in order to use callbacks with the new code I think it needs a tiny refactor</p>



<a name="127179996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127179996" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127179996">(May 27 2018 at 23:04)</a>:</h4>
<p>couldn't look into that but tomorrow I can continue with this</p>



<a name="127179997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127179997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127179997">(May 27 2018 at 23:04)</a>:</h4>
<p>if <span class="user-mention" data-user-id="116013">@qmx</span> want we can pair again and try to finish this</p>



<a name="127180203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127180203" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127180203">(May 27 2018 at 23:13)</a>:</h4>
<p>Sure, tomorrow is rust day again <span class="emoji emoji-1f980" title="crab">:crab:</span></p>



<a name="127198884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127198884" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127198884">(May 28 2018 at 10:11)</a>:</h4>
<p>hey y'all — I'm around today, didn't really have access to a computer last few days, it turned out</p>



<a name="127198886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127198886" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127198886">(May 28 2018 at 10:11)</a>:</h4>
<p>is <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span>'s branch still the latest thing?</p>



<a name="127199238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127199238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127199238">(May 28 2018 at 10:21)</a>:</h4>
<p>Regarding the diffs in <a href="https://github.com/spastorino/rust/commit/14ff76a3ca8f8c7b55adcae5823414eb377ffec4" target="_blank" title="https://github.com/spastorino/rust/commit/14ff76a3ca8f8c7b55adcae5823414eb377ffec4">this HEAD commit</a>:</p>
<ul>
<li>Using <code>LocationIndex</code> is correct. If needed, it can be imported from <a href="https://github.com/rust-lang/rust/blob/68e0e58df7669d548861751e9f710f85dfc39958/src/librustc_mir/borrow_check/location.rs" target="_blank" title="https://github.com/rust-lang/rust/blob/68e0e58df7669d548861751e9f710f85dfc39958/src/librustc_mir/borrow_check/location.rs">borrow_check::location</a>. The different is that <code>LocationIndex</code> can refer to either the start or mid point of a <code>Location</code>; it's also the way that the facts from Polonius are organized. I was confused with the name and thought i had called it <code>PointIndex</code> (maybe we should rename it...).</li>
<li>Hmm, I see why <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> was converting back to returning an <code>impl  Iterator</code>, but we'll have to overcome the challenge of returning two distinct types. </li>
</ul>
<p>Maybe the best option is to add a dependency on the <a href="https://docs.rs/either/1.5.0/either/enum.Either.html" target="_blank" title="https://docs.rs/either/1.5.0/either/enum.Either.html"><code>Either</code></a> crate. This... seems like a harmless enough crate to rely on. Then we could change the method body to:</p>
<div class="codehilite"><pre><span></span><span class="w">    </span><span class="k">crate</span><span class="w"> </span><span class="k">fn</span> <span class="nf">borrows_in_scope</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">location</span>: <span class="nc">LocationIndex</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">impl</span><span class="w"> </span><span class="nb">Iterator</span><span class="o">&lt;</span><span class="n">Item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BorrowIndex</span><span class="o">&gt;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="na">&#39;_</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">polonius</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">polonius_output</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">Either</span>::<span class="n">Left</span><span class="p">(</span><span class="n">polonius</span><span class="p">.</span><span class="n">borrows_in_scope_at</span><span class="p">(</span><span class="n">location</span><span class="p">))</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">Either</span>::<span class="n">Right</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">borrows</span><span class="p">.</span><span class="n">iter_incoming</span><span class="p">())</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>



<a name="127200070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200070">(May 28 2018 at 10:45)</a>:</h4>
<blockquote>
<p>hey y'all — I'm around today, didn't really have access to a computer last few days, it turned out</p>
</blockquote>
<p>no worries, I only had a few minutes during the weekend</p>



<a name="127200076"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200076" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200076">(May 28 2018 at 10:45)</a>:</h4>
<p>(technically, today is a holiday too, but I was planning to work at least somewhat to try and get on top of things)</p>



<a name="127200079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200079" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200079">(May 28 2018 at 10:45)</a>:</h4>
<blockquote>
<p>is <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span>'s branch still the latest thing?</p>
</blockquote>
<p>is the last thing, yeah</p>



<a name="127200124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200124" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200124">(May 28 2018 at 10:46)</a>:</h4>
<blockquote>
<p>(technically, today is a holiday too, but I was planning to work at least somewhat to try and get on top of things)</p>
</blockquote>
<p>what happens today in US?</p>



<a name="127200142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200142" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200142">(May 28 2018 at 10:47)</a>:</h4>
<p>"Memorial Day" — officially for remembering those who died in war. Or, more commonly, to have a BBQ and enjoy summer weather.</p>



<a name="127200147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200147" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200147">(May 28 2018 at 10:47)</a>:</h4>
<p>Today it's raining, though, and I don't eat meat :)</p>



<a name="127200188"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200188" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200188">(May 28 2018 at 10:48)</a>:</h4>
<p>hehehe</p>



<a name="127200339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200339">(May 28 2018 at 10:52)</a>:</h4>
<blockquote>
<p>Using LocationIndex is correct. If needed, it can be imported from borrow_check::location. The different is that LocationIndex can refer to either the start or mid point of a Location; it's also the way that the facts from Polonius are organized. I was confused with the name and thought i had called it PointIndex (maybe we should rename it...).</p>
</blockquote>
<p>did you mention this for some reason?</p>



<a name="127200349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200349" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200349">(May 28 2018 at 10:52)</a>:</h4>
<p>I mean, what's in the code is right or I understood your comment wrong?</p>



<a name="127200535"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200535" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200535">(May 28 2018 at 10:58)</a>:</h4>
<blockquote>
<p>I mean, what's in the code is right or I understood your comment wrong?</p>
</blockquote>
<p>your code is correct</p>



<a name="127200536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200536" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200536">(May 28 2018 at 10:58)</a>:</h4>
<p>I was just confirming that :)</p>



<a name="127200537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200537" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200537">(May 28 2018 at 10:58)</a>:</h4>
<p>ok</p>



<a name="127200538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200538">(May 28 2018 at 10:58)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127200539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200539" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200539">(May 28 2018 at 10:58)</a>:</h4>
<p>Either ... hehe, sounds useful for this case</p>



<a name="127200540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200540" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200540">(May 28 2018 at 10:58)</a>:</h4>
<p>had no idea such a thing existed</p>



<a name="127200546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200546" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200546">(May 28 2018 at 10:59)</a>:</h4>
<p>I guess the purpose is for cases like this?</p>



<a name="127200595"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200595" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200595">(May 28 2018 at 11:00)</a>:</h4>
<p>README doesn't say the motivation for the existence of this thing</p>



<a name="127200652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200652">(May 28 2018 at 11:02)</a>:</h4>
<blockquote>
<p>I guess the purpose is for cases like this?</p>
</blockquote>
<p>it is one purpose, at least</p>



<a name="127200653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200653">(May 28 2018 at 11:02)</a>:</h4>
<p>yeah the docs are not great</p>



<a name="127200656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200656" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200656">(May 28 2018 at 11:02)</a>:</h4>
<p>but if you look at <a href="https://docs.rs/either/1.5.0/either/enum.Either.html" target="_blank" title="https://docs.rs/either/1.5.0/either/enum.Either.html">https://docs.rs/either/1.5.0/either/enum.Either.html</a> you will see it has an impl of <code>Iterator</code></p>



<a name="127200660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200660" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200660">(May 28 2018 at 11:02)</a>:</h4>
<p><a href="https://docs.rs/either/1.5.0/either/enum.Either.html#impl-Iterator" target="_blank" title="https://docs.rs/either/1.5.0/either/enum.Either.html#impl-Iterator">https://docs.rs/either/1.5.0/either/enum.Either.html#impl-Iterator</a></p>



<a name="127200872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127200872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127200872">(May 28 2018 at 11:09)</a>:</h4>
<p>ahh I see</p>



<a name="127201737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127201737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127201737">(May 28 2018 at 11:32)</a>:</h4>
<div class="codehilite"><pre><span></span>error[E0271]: type mismatch resolving `&lt;either::Either&lt;std::slice::Iter&lt;&#39;_, dataflow::move_paths::indexes::BorrowIndex&gt;, std::iter::Peekable&lt;rustc_data_structures::indexed_set::Iter&lt;&#39;_, dataflow::move_paths::indexes::BorrowIndex&gt;&gt;&gt; as std::iter::Iterator&gt;::Item == dataflow::move_paths::indexes::BorrowIndex`
  --&gt; librustc_mir/borrow_check/flows.rs:65:66
   |
65 |     crate fn borrows_in_scope(&amp;self, location: LocationIndex) -&gt; impl Iterator&lt;Item = BorrowIndex&gt; + &#39;_ {
   |                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected reference, found struct `dataflow::move_paths::indexes::BorrowIndex`
   |
   = note: expected type `&amp;dataflow::move_paths::indexes::BorrowIndex`
              found type `dataflow::move_paths::indexes::BorrowIndex`
   = note: the return type of a function must have a statically known size

error[E0271]: type mismatch resolving `&lt;std::iter::Peekable&lt;rustc_data_structures::indexed_set::Iter&lt;&#39;_, dataflow::move_paths::indexes::BorrowIndex&gt;&gt; as std::iter::Iterator&gt;::Item == &amp;dataflow::move_paths::indexes::BorrowIndex`
  --&gt; librustc_mir/borrow_check/flows.rs:65:66
   |
65 |     crate fn borrows_in_scope(&amp;self, location: LocationIndex) -&gt; impl Iterator&lt;Item = BorrowIndex&gt; + &#39;_ {
   |                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected struct `dataflow::move_paths::indexes::BorrowIndex`, found reference
   |
   = note: expected type `dataflow::move_paths::indexes::BorrowIndex`
              found type `&amp;dataflow::move_paths::indexes::BorrowIndex`
   = note: required because of the requirements on the impl of `std::iter::Iterator` for `either::Either&lt;std::slice::Iter&lt;&#39;_, dataflow::move_paths::indexes::BorrowIndex&gt;, std::iter::Peekable&lt;rustc_data_structures::indexed_set::Iter&lt;&#39;_, dataflow::move_paths::indexes::BorrowIndex&gt;&gt;&gt;`
   = note: the return type of a function must have a statically known size
</pre></div>



<a name="127201751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127201751" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127201751">(May 28 2018 at 11:32)</a>:</h4>
<p>can you send me the source? :)</p>



<a name="127201802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127201802" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127201802">(May 28 2018 at 11:34)</a>:</h4>
<p><a href="https://github.com/spastorino/rust/commits/make_borrowck_use_output" target="_blank" title="https://github.com/spastorino/rust/commits/make_borrowck_use_output">https://github.com/spastorino/rust/commits/make_borrowck_use_output</a></p>



<a name="127201819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127201819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127201819">(May 28 2018 at 11:35)</a>:</h4>
<p>just added the Either thing on top of what we talked about</p>



<a name="127201825"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127201825" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127201825">(May 28 2018 at 11:35)</a>:</h4>
<p>yeah; so the problem is that your iterators — or at least some of them — are yielding up <code>&amp;BorrowIndex</code> and not <code>BorrowIndex</code></p>



<a name="127201831"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127201831" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127201831">(May 28 2018 at 11:35)</a>:</h4>
<p>I suspect the problem is <a href="https://github.com/spastorino/rust/commit/2cf481cfbd125057f5f1bd62d238e5b590bbf512#diff-c465d57c1fa45544d4293399e34ce2ccR67" target="_blank" title="https://github.com/spastorino/rust/commit/2cf481cfbd125057f5f1bd62d238e5b590bbf512#diff-c465d57c1fa45544d4293399e34ce2ccR67">the new one</a> :)</p>



<a name="127201878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127201878" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127201878">(May 28 2018 at 11:36)</a>:</h4>
<p>in particular <code>.iter()</code> over a <code>Vec&lt;T&gt;</code> (or any other collection) will yield up <code>&amp;T</code></p>



<a name="127201880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127201880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127201880">(May 28 2018 at 11:36)</a>:</h4>
<p>to fix, just add <code>.cloned()</code></p>



<a name="127201882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127201882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127201882">(May 28 2018 at 11:36)</a>:</h4>
<p><code>.iter().cloned()</code></p>



<a name="127201887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127201887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127201887">(May 28 2018 at 11:36)</a>:</h4>
<p>you can <a href="https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.cloned" target="_blank" title="https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.cloned">read more about <code>.cloned()</code> in rustdoc</a></p>



<a name="127201896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127201896" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127201896">(May 28 2018 at 11:37)</a>:</h4>
<p>/me senses a good blog post topic</p>



<a name="127201899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127201899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127201899">(May 28 2018 at 11:37)</a>:</h4>
<p>:)</p>



<a name="127201902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127201902" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127201902">(May 28 2018 at 11:37)</a>:</h4>
<p>yeah have seen all this</p>



<a name="127202208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127202208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127202208">(May 28 2018 at 11:45)</a>:</h4>
<p>this thing is compiling now</p>



<a name="127202209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127202209" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127202209">(May 28 2018 at 11:45)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127203050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127203050" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127203050">(May 28 2018 at 12:09)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> nice!</p>



<a name="127203115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127203115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127203115">(May 28 2018 at 12:12)</a>:</h4>
<p>gonna run tests</p>



<a name="127203302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127203302" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127203302">(May 28 2018 at 12:16)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <a href="https://github.com/rust-lang-nursery/polonius/pull/56" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/56">https://github.com/rust-lang-nursery/polonius/pull/56</a></p>



<a name="127203303"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127203303" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127203303">(May 28 2018 at 12:16)</a>:</h4>
<p>we can call that from rustc</p>



<a name="127203307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127203307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127203307">(May 28 2018 at 12:16)</a>:</h4>
<p>not sure if you've seen the PR</p>



<a name="127203368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127203368" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127203368">(May 28 2018 at 12:19)</a>:</h4>
<p>I was actually thinking that the callback version would have nothing as return</p>



<a name="127203371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127203371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127203371">(May 28 2018 at 12:19)</a>:</h4>
<p>brb, will sync with Douglas when ... hehe :)</p>



<a name="127203372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127203372" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127203372">(May 28 2018 at 12:19)</a>:</h4>
<p>was writing this and you showed up</p>



<a name="127203375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127203375" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127203375">(May 28 2018 at 12:19)</a>:</h4>
<p>we are connected :P</p>



<a name="127203516"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127203516" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127203516">(May 28 2018 at 12:23)</a>:</h4>
<p>Will ping once properly cafffeinated</p>



<a name="127204454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204454" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204454">(May 28 2018 at 12:50)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> we replaced the callbacks with an iterator using <code>Either</code>, which solves the same problem but perhaps more nicely</p>



<a name="127204461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204461" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204461">(May 28 2018 at 12:50)</a>:</h4>
<p>how do you pass -Zpolonius to tests?</p>



<a name="127204466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204466">(May 28 2018 at 12:51)</a>:</h4>
<div class="codehilite"><pre><span></span>$ RUST_BACKTRACE=full RUSTFLAGS=-Zpolonius ./x.py test --stage 1 --incremental src/test/{ui,run-pass,compile-fail}
Updating only changed submodules
Submodules updated in 0.03 seconds
    Finished dev [unoptimized] target(s) in 0.24s
Building stage0 std artifacts (x86_64-unknown-linux-gnu -&gt; x86_64-unknown-linux-gnu)
error: failed to run `rustc` to learn about target-specific information

Caused by:
  process didn&#39;t exit successfully: `/home/santiago/src/oss/rust1/build/bootstrap/debug/rustc - --crate-name ___ --print=file-names -Zpolonius --target x86_64-unknown-linux-gnu --crate-type bin --crate-type rlib --crate-type dylib --crate-type cdylib --crate-type staticlib --crate-type proc-macro` (exit code: 101)
--- stderr
error: unknown debugging option: `polonius`
</pre></div>



<a name="127204470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204470">(May 28 2018 at 12:51)</a>:</h4>
<p>gonna be back in a bit but wanted to leave this thing running :)</p>



<a name="127204482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204482">(May 28 2018 at 12:51)</a>:</h4>
<p>I mentioned this when talking to <span class="user-mention" data-user-id="116013">@qmx</span> — I don't think there is a nice way, actually, you probably have to add a compare-mode to the test harness</p>



<a name="127204536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204536" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204536">(May 28 2018 at 12:52)</a>:</h4>
<p>ok</p>



<a name="127204545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204545" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204545">(May 28 2018 at 12:53)</a>:</h4>
<p>and the other thing I wanted to talk about is <a href="https://github.com/rust-lang-nursery/polonius/pull/56" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/56">https://github.com/rust-lang-nursery/polonius/pull/56</a> and change to use errors_at in rustc</p>



<a name="127204560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204560" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204560">(May 28 2018 at 12:53)</a>:</h4>
<p>I'm not sure if current code make sense if you want to use errors_at</p>



<a name="127204561"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204561" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204561">(May 28 2018 at 12:53)</a>:</h4>
<p>in particular</p>



<a name="127204600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204600">(May 28 2018 at 12:54)</a>:</h4>
<div class="codehilite"><pre><span></span>    crate fn borrows_in_scope(&amp;self, location: LocationIndex) -&gt; impl Iterator&lt;Item = BorrowIndex&gt; + &#39;_ {
        if let Some(ref polonius) = self.polonius_output {
            Either::Left(polonius.borrows_in_scope_at(location).iter().cloned())
        } else {
            Either::Right(self.borrows.iter_incoming())
        }
    }
</pre></div>



<a name="127204603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204603" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204603">(May 28 2018 at 12:54)</a>:</h4>
<p>would be returning errors in the if part and borrows in the else part</p>



<a name="127204604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204604" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204604">(May 28 2018 at 12:54)</a>:</h4>
<p>well I guess we can do that if before calling borrows_in_scope</p>



<a name="127204606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204606" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204606">(May 28 2018 at 12:55)</a>:</h4>
<p>leave borrows_in_scope at it was</p>



<a name="127204621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204621" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204621">(May 28 2018 at 12:55)</a>:</h4>
<p>and use polonius output in the caller or something like that</p>



<a name="127204886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127204886" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127204886">(May 28 2018 at 13:03)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> if you want help with the compare-mode stuff, I might be able to help</p>



<a name="127205379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127205379" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127205379">(May 28 2018 at 13:17)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> <span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127205383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127205383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127205383">(May 28 2018 at 13:17)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> wanna do this with me?</p>



<a name="127205385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127205385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127205385">(May 28 2018 at 13:17)</a>:</h4>
<p>will be available in ~ 20mins</p>



<a name="127205390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127205390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127205390">(May 28 2018 at 13:17)</a>:</h4>
<p>sure</p>



<a name="127205438"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127205438" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127205438">(May 28 2018 at 13:18)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127205439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127205439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127205439">(May 28 2018 at 13:18)</a>:</h4>
<p>will be back in ~ 20</p>



<a name="127205558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127205558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127205558">(May 28 2018 at 13:22)</a>:</h4>
<p>I'm back-ish now</p>



<a name="127205560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127205560" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127205560">(May 28 2018 at 13:22)</a>:</h4>
<p>(fyi)</p>



<a name="127206860"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127206860" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127206860">(May 28 2018 at 13:58)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> back</p>



<a name="127206884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127206884" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127206884">(May 28 2018 at 13:59)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> are you available to start with this?</p>



<a name="127206976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127206976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127206976">(May 28 2018 at 14:01)</a>:</h4>
<p>yup, looking at your branch now</p>



<a name="127206978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127206978" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127206978">(May 28 2018 at 14:02)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127207018"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207018" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207018">(May 28 2018 at 14:02)</a>:</h4>
<p>I added one commit</p>



<a name="127207023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207023" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207023">(May 28 2018 at 14:02)</a>:</h4>
<p>then squashed with yours</p>



<a name="127207027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207027">(May 28 2018 at 14:02)</a>:</h4>
<p>we could fix the history to make a PR at some point</p>



<a name="127207040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207040">(May 28 2018 at 14:03)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> wait what was this about <code>errors_at</code> or whatever?</p>



<a name="127207048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207048">(May 28 2018 at 14:03)</a>:</h4>
<p><a href="#narrow/stream/122657-wg-nll/subject/rustc-and-polonius.20integration/near/127204545" title="#narrow/stream/122657-wg-nll/subject/rustc-and-polonius.20integration/near/127204545">https://rust-lang.zulipchat.com/#narrow/stream/122657-wg-nll/subject/rustc-and-polonius.20integration/near/127204545</a></p>



<a name="127207053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207053">(May 28 2018 at 14:03)</a>:</h4>
<p>9.53am my time, I think it's 8.53am your time</p>



<a name="127207092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207092" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207092">(May 28 2018 at 14:04)</a>:</h4>
<p>ok. sadly links don't really work here for some reason.</p>



<a name="127207097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207097">(May 28 2018 at 14:04)</a>:</h4>
<blockquote>
<p>and the other thing I wanted to talk about is <a href="https://github.com/rust-lang-nursery/polonius/pull/56" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/56">https://github.com/rust-lang-nursery/polonius/pull/56</a> and change to use errors_at in rustc</p>
</blockquote>
<p>starts at this point ^</p>



<a name="127207102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207102" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207102">(May 28 2018 at 14:04)</a>:</h4>
<p>ok I see</p>



<a name="127207103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207103">(May 28 2018 at 14:04)</a>:</h4>
<p>just scroll up a bit</p>



<a name="127207108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207108" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207108">(May 28 2018 at 14:04)</a>:</h4>
<blockquote>
<p>would be returning errors in the if part and borrows in the else part</p>
</blockquote>
<p>yes, that's right, and I believe it makes sense.</p>



<a name="127207118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207118" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207118">(May 28 2018 at 14:05)</a>:</h4>
<p>yeah, sorry, as I said on private, don't want to insist but right now it's impossible to follow for me, I can't imagine how is for you that follow way more than I do :)</p>



<a name="127207119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207119">(May 28 2018 at 14:05)</a>:</h4>
<p>well I mean you are pointing out a real inconsistency</p>



<a name="127207121"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207121" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207121">(May 28 2018 at 14:05)</a>:</h4>
<p>however</p>



<a name="127207126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207126">(May 28 2018 at 14:05)</a>:</h4>
<p>the reason it makes sense is that we are basically interested only in borrows that lead to errors</p>



<a name="127207127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207127">(May 28 2018 at 14:05)</a>:</h4>
<p>it might make sense to rename the methods</p>



<a name="127207130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207130" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207130">(May 28 2018 at 14:05)</a>:</h4>
<p>this is a case where -- eventually -- polonius can be more efficient</p>



<a name="127207133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207133" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207133">(May 28 2018 at 14:05)</a>:</h4>
<p>basically right now we do something like:</p>



<a name="127207136"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207136" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207136">(May 28 2018 at 14:05)</a>:</h4>
<p>yea, let's rename this for the sake of clarity</p>



<a name="127207139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207139" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207139">(May 28 2018 at 14:06)</a>:</h4>
<p>or at least comment heavily</p>



<a name="127207182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207182" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207182">(May 28 2018 at 14:06)</a>:</h4>
<div class="codehilite"><pre><span></span>for point P in all_points() {
  for loan L in scope at P {
    if is_error(L, P) {
      report_error(L, P);
    }
  }
}
</pre></div>



<a name="127207185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207185" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207185">(May 28 2018 at 14:06)</a>:</h4>
<p>however with polonius to generate the <code>Invalidates</code> facts, we've already figured out some parts of that</p>



<a name="127207187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207187">(May 28 2018 at 14:06)</a>:</h4>
<p>you mean <code>borrows_in_scope</code> to <code>possible_errors_in_scope</code> or something like that?</p>



<a name="127207188"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207188" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207188">(May 28 2018 at 14:06)</a>:</h4>
<p>in particular we know which loans <em>would be errors</em> if they are in scope</p>



<a name="127207190"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207190" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207190">(May 28 2018 at 14:06)</a>:</h4>
<p>that's what the <code>Invalidates</code> facts represent</p>



<a name="127207191"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207191" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207191">(May 28 2018 at 14:07)</a>:</h4>
<p>so eventually we could just do</p>



<a name="127207198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207198" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207198">(May 28 2018 at 14:07)</a>:</h4>
<div class="codehilite"><pre><span></span>for (L, P) in errors {
    report_error(L, P);
}
</pre></div>



<a name="127207199"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207199" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207199">(May 28 2018 at 14:07)</a>:</h4>
<p>yes errors in polonius and possible errors when not in polonius</p>



<a name="127207203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207203" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207203">(May 28 2018 at 14:07)</a>:</h4>
<p>but for now it's harmless enough to do</p>
<div class="codehilite"><pre><span></span>for point P in all_points() {
  for L in errors at P {
    if is_error(L, P) { // always true
      report_error(L, P);
    }
  }
}
</pre></div>



<a name="127207246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207246" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207246">(May 28 2018 at 14:08)</a>:</h4>
<p>yeah, <code>possible_errors_in_scope_at(...)</code> or whatever seems ok</p>



<a name="127207248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207248" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207248">(May 28 2018 at 14:08)</a>:</h4>
<p>yep so your last snippet would match just leaving things as they are renaming to ... exactly</p>



<a name="127207249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207249">(May 28 2018 at 14:08)</a>:</h4>
<p>and calling errors_at</p>



<a name="127207255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207255">(May 28 2018 at 14:08)</a>:</h4>
<p>well to call errors_at we need you to merge the PR and then to release :)</p>



<a name="127207266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207266" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207266">(May 28 2018 at 14:09)</a>:</h4>
<p>or we could point the thing to github so we don't bother you everytime we need something like this</p>



<a name="127207268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207268">(May 28 2018 at 14:09)</a>:</h4>
<p>what you prefer :)</p>



<a name="127207273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207273" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207273">(May 28 2018 at 14:09)</a>:</h4>
<p>I think we kinda wanted to avoid git dependencies</p>



<a name="127207315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207315" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207315">(May 28 2018 at 14:10)</a>:</h4>
<p>yeah, we do, but <code>Either</code> is tiny ;)</p>



<a name="127207320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207320" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207320">(May 28 2018 at 14:10)</a>:</h4>
<p>I don't really know how to draw the line here</p>



<a name="127207327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207327">(May 28 2018 at 14:10)</a>:</h4>
<p>on the one hand I dont' want to re-invent the wheel, on the other I don't want to go crazy cloning the world</p>



<a name="127207332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207332">(May 28 2018 at 14:10)</a>:</h4>
<p>isn't <code>Either</code> a crate already?</p>



<a name="127207334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207334" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207334">(May 28 2018 at 14:11)</a>:</h4>
<p>right</p>



<a name="127207341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207341" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207341">(May 28 2018 at 14:11)</a>:</h4>
<p>I maybe answering the wrong thing :)</p>



<a name="127207343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207343">(May 28 2018 at 14:11)</a>:</h4>
<p>I thought you were reacting to using the <code>Either</code> crate</p>



<a name="127207345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207345">(May 28 2018 at 14:11)</a>:</h4>
<p>and I'm saying that I think we might as well use it</p>



<a name="127207348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207348" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207348">(May 28 2018 at 14:11)</a>:</h4>
<p>though in general I try to avoid adding deps</p>



<a name="127207355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207355" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207355">(May 28 2018 at 14:11)</a>:</h4>
<p>no, I'm talking about you merging <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> 's PR on polonius and cutting another release</p>



<a name="127207356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207356" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207356">(May 28 2018 at 14:11)</a>:</h4>
<p>:)</p>



<a name="127207357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207357">(May 28 2018 at 14:11)</a>:</h4>
<p>oh :)</p>



<a name="127207393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207393">(May 28 2018 at 14:12)</a>:</h4>
<p>yes I can do that</p>



<a name="127207396"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207396" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207396">(May 28 2018 at 14:12)</a>:</h4>
<p>we should avoid a git dep</p>



<a name="127207403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207403">(May 28 2018 at 14:12)</a>:</h4>
<p>though if you want to just make a git dep to keep hacking while I do so</p>



<a name="127207404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207404">(May 28 2018 at 14:12)</a>:</h4>
<p>seems fine</p>



<a name="127207405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207405" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207405">(May 28 2018 at 14:12)</a>:</h4>
<p>we can always cut a final release just before landing</p>



<a name="127207408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207408">(May 28 2018 at 14:12)</a>:</h4>
<p>we're kinda ready for a PR if I'm understanding correctly</p>



<a name="127207411"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207411" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207411">(May 28 2018 at 14:12)</a>:</h4>
<p>point is, there may be more ;)</p>



<a name="127207413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207413">(May 28 2018 at 14:12)</a>:</h4>
<p>anyway I merged the PD</p>



<a name="127207414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207414" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207414">(May 28 2018 at 14:12)</a>:</h4>
<p>point taken</p>



<a name="127207416"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207416" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207416">(May 28 2018 at 14:13)</a>:</h4>
<p>and I can happily issue a release, it's no big deal</p>



<a name="127207423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207423">(May 28 2018 at 14:13)</a>:</h4>
<p>(I don't personally see the point of using <code>Either</code>; isn't that a trivial enum to write, and more readable since you can choose names that have meaning tailored to the usage?</p>



<a name="127207424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207424">(May 28 2018 at 14:13)</a>:</h4>
<blockquote>
<p>though if you want to just make a git dep to keep hacking while I do so</p>
</blockquote>
<p>yes I was referring to this, not to keep it as a long term thing</p>



<a name="127207426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207426" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207426">(May 28 2018 at 14:13)</a>:</h4>
<p>whatever works better for you</p>



<a name="127207427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207427" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207427">(May 28 2018 at 14:13)</a>:</h4>
<p>Maybe I'm missing some benefit encoded in the <code>either</code> crate</p>



<a name="127207474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207474" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207474">(May 28 2018 at 14:14)</a>:</h4>
<p><code>impl&lt;L: Iterator, R: Iterator&gt; Iterator for Either&lt;L, R&gt;</code></p>



<a name="127207475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207475">(May 28 2018 at 14:14)</a>:</h4>
<p>I agree pnkfelix I think</p>



<a name="127207478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207478">(May 28 2018 at 14:14)</a>:</h4>
<p>we can rewrite that code, but why?</p>



<a name="127207482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207482">(May 28 2018 at 14:14)</a>:</h4>
<p>indeed, the reason that <code>Either</code> exists is precisely to encode this basically :) it got pulled out of itertools so that rayon could depend on it (and only it)</p>



<a name="127207484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207484">(May 28 2018 at 14:14)</a>:</h4>
<p>we don't rewrite we just copy and paste <span class="emoji emoji-1f602" title="joy">:joy:</span></p>



<a name="127207491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207491">(May 28 2018 at 14:15)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> oh it has something special when the two have the same Iterator::Item? (Yoiu left that detail out I think)</p>



<a name="127207493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207493" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207493">(May 28 2018 at 14:15)</a>:</h4>
<p>sure :)</p>



<a name="127207499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207499">(May 28 2018 at 14:15)</a>:</h4>
<p>but if it's a common thing that people use maybe is worth leaving the dep</p>



<a name="127207501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207501" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207501">(May 28 2018 at 14:15)</a>:</h4>
<p>I think it requires them to have the same <code>Item</code></p>



<a name="127207502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207502" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207502">(May 28 2018 at 14:15)</a>:</h4>
<p>(otherwise ... it wouldn't make sense...?)</p>



<a name="127207510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207510">(May 28 2018 at 14:15)</a>:</h4>
<p>I feel torn overall. I like the idea of rustc "playing nice" with the ecosystem, as I said, and using stuff that makes sense. But I don't want us to go crazy and pull in a bunch of big, unvettable deps.</p>



<a name="127207563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207563">(May 28 2018 at 14:16)</a>:</h4>
<blockquote>
<p>(otherwise ... it wouldn't make sense...?)</p>
</blockquote>
<p>yeah, not really, though I guess you <em>could</em> yield up <code>Either&lt;L::Item, R::Item&gt;</code> as your item.  But I think nobody wants that in practice.</p>



<a name="127207570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207570">(May 28 2018 at 14:16)</a>:</h4>
<p>in practice it's really useful for <code>-&gt; impl Iterator&lt;Item = ..&gt;</code>, when you might have multiple ways to fulfill it</p>



<a name="127207581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207581" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207581">(May 28 2018 at 14:17)</a>:</h4>
<blockquote>
<p>I feel torn overall. I like the idea of rustc "playing nice" with the ecosystem, as I said, and using stuff that makes sense. But I don't want us to go crazy and pull in a bunch of big, unvettable deps.</p>
</blockquote>
<p>to complete this thought: this seems like a sample case that exists and hence is easy to vet (and I trust bluss)</p>



<a name="127207587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207587">(May 28 2018 at 14:17)</a>:</h4>
<p>Oh true, I wonder what the category theorists would say is "more natural"</p>



<a name="127207588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207588" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207588">(May 28 2018 at 14:17)</a>:</h4>
<p>I wouldn't be surprised if bluss were happy to move to rust-lang-nursery, tbh</p>



<a name="127207649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207649" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207649">(May 28 2018 at 14:18)</a>:</h4>
<p>anyway if in this case the <code>Left</code> and <code>Right</code> do indeed have <code>Iterator</code>s with the same <code>Item</code>, then I retract my objection to using the <code>either</code> crate here.</p>



<a name="127207714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207714" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207714">(May 28 2018 at 14:20)</a>:</h4>
<p>what other usage in practice you see the either crate having?</p>



<a name="127207727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207727" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207727">(May 28 2018 at 14:20)</a>:</h4>
<p>I mean, not talking inside rustc, talking in general</p>



<a name="127207744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207744">(May 28 2018 at 14:21)</a>:</h4>
<p>this is the primary usage :) but it is also used in itertools in some cases where you are gluing two sources together</p>



<a name="127207809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207809">(May 28 2018 at 14:22)</a>:</h4>
<p>can't remember what</p>



<a name="127207819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207819">(May 28 2018 at 14:22)</a>:</h4>
<p>I know though that several times in rustc I have wanted the ability to return either A <em>or</em> B for iterators</p>



<a name="127207821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207821" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207821">(May 28 2018 at 14:22)</a>:</h4>
<p>exactly like this case</p>



<a name="127207826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207826" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207826">(May 28 2018 at 14:22)</a>:</h4>
<p>I usually just workaround it some other way because I've been too lazy to add the <code>either</code> crate as a dep ;)</p>



<a name="127207840"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207840" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207840">(May 28 2018 at 14:23)</a>:</h4>
<p>do you think it's good to cut a PR with what we have already?</p>



<a name="127207849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207849">(May 28 2018 at 14:23)</a>:</h4>
<p>have you tried it on any tests yet? :) like, by hand?</p>



<a name="127207853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207853">(May 28 2018 at 14:23)</a>:</h4>
<p>but yes, I think it's basically at <em>roughly</em> the right spot</p>



<a name="127207854"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207854" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207854">(May 28 2018 at 14:23)</a>:</h4>
<p>we can cover the rest in review I suppose</p>



<a name="127207857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207857" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207857">(May 28 2018 at 14:23)</a>:</h4>
<p>I would like to see the <code>compare-mode</code> tests so we can actually test it</p>



<a name="127207900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207900" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207900">(May 28 2018 at 14:24)</a>:</h4>
<p>I would be entirely happy if <code>-Z polonius</code> landed before <code>compare-mode</code></p>



<a name="127207905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207905">(May 28 2018 at 14:24)</a>:</h4>
<p>gonna work on the compare-mode now</p>



<a name="127207906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207906">(May 28 2018 at 14:24)</a>:</h4>
<p>just seems like it's like a 1-line diff to add :)</p>



<a name="127207908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207908">(May 28 2018 at 14:24)</a>:</h4>
<p><code>compare-mode</code> support itself seems pretty easy to add. The hard part will be the tests</p>



<a name="127207909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207909">(May 28 2018 at 14:24)</a>:</h4>
<p>right, I don't feel the need to add <em>those</em></p>



<a name="127207910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207910">(May 28 2018 at 14:24)</a>:</h4>
<p>(and even there, you could just bless them all)</p>



<a name="127207916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207916" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207916">(May 28 2018 at 14:25)</a>:</h4>
<p>I see, maybe you do want to add them</p>



<a name="127207921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207921">(May 28 2018 at 14:25)</a>:</h4>
<p>I can add the mode and run by hand then</p>



<a name="127207923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207923">(May 28 2018 at 14:25)</a>:</h4>
<p>what we <em>don't</em> want to do</p>



<a name="127207926"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207926" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207926">(May 28 2018 at 14:25)</a>:</h4>
<p>is accidentally turn on compare-mode=polonius in bors</p>



<a name="127207927"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207927" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207927">(May 28 2018 at 14:25)</a>:</h4>
<p>one problem with compare-mode as is</p>



<a name="127207929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207929">(May 28 2018 at 14:25)</a>:</h4>
<p>is that it compares against the "default"</p>



<a name="127207933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207933">(May 28 2018 at 14:25)</a>:</h4>
<p>whereas I would prefer for polonius to compare against "nll" :)</p>



<a name="127207935"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207935" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207935">(May 28 2018 at 14:25)</a>:</h4>
<p>I wonder how hard that would be to change</p>



<a name="127207936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207936" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207936">(May 28 2018 at 14:25)</a>:</h4>
<p>oh... hmm...</p>



<a name="127207988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207988">(May 28 2018 at 14:26)</a>:</h4>
<p>now that I think about the complications I think I agree with <span class="user-mention" data-user-id="116083">@pnkfelix</span> that we should land the PR w/o compare-mode first</p>



<a name="127207989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207989">(May 28 2018 at 14:26)</a>:</h4>
<p>or at least open it</p>



<a name="127207995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127207995" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127207995">(May 28 2018 at 14:26)</a>:</h4>
<p>but maybe compare-mode is the next logical thing to hack on ...</p>



<a name="127208031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208031">(May 28 2018 at 14:27)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I imagine what you mean is that we want a fallback chain</p>



<a name="127208047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208047" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208047">(May 28 2018 at 14:27)</a>:</h4>
<p>good, I'll cut a PR then</p>



<a name="127208049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208049" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208049">(May 28 2018 at 14:27)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> where we would search first if test.polonius.stderr exists, use it. If not, look for test.nll.stderr. And then finally test.stderr</p>



<a name="127208093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208093" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208093">(May 28 2018 at 14:28)</a>:</h4>
<p>I could probably whip something up</p>



<a name="127208095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208095" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208095">(May 28 2018 at 14:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> <span class="user-mention" data-user-id="116013">@qmx</span> remind me, does your PR include mir-dump integration?</p>



<a name="127208101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208101" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208101">(May 28 2018 at 14:28)</a>:</h4>
<p>no</p>



<a name="127208106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208106" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208106">(May 28 2018 at 14:28)</a>:</h4>
<p>I think we need to add that</p>



<a name="127208108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208108" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208108">(May 28 2018 at 14:28)</a>:</h4>
<p>once the basic <code>-Z polonius</code> (with or without <code>--compare-mode=polonius</code>) lands</p>



<a name="127208112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208112" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208112">(May 28 2018 at 14:28)</a>:</h4>
<p>ok, so I think there are at least 2 (independent) things to potentially follow up on then</p>



<a name="127208113"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208113" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208113">(May 28 2018 at 14:28)</a>:</h4>
<p>and probably change to use errors_at</p>



<a name="127208117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208117" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208117">(May 28 2018 at 14:28)</a>:</h4>
<p>compare-mode + MIr-dump integration</p>



<a name="127208118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208118" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208118">(May 28 2018 at 14:28)</a>:</h4>
<p>seems good</p>



<a name="127208122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208122" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208122">(May 28 2018 at 14:28)</a>:</h4>
<p>then we should just change to errors_at?</p>



<a name="127208125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208125" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208125">(May 28 2018 at 14:29)</a>:</h4>
<p>fyi <a href="https://github.com/rust-lang-nursery/polonius/pull/57" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/57">https://github.com/rust-lang-nursery/polonius/pull/57</a></p>



<a name="127208133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208133" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208133">(May 28 2018 at 14:29)</a>:</h4>
<p>or do you prefer to land it this way and then change to errors_at later?</p>



<a name="127208144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208144">(May 28 2018 at 14:29)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> do you mean the method on <code>Flows</code> or whatever?</p>



<a name="127208145"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208145" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208145">(May 28 2018 at 14:29)</a>:</h4>
<p>if so, I think we should rename before landing</p>



<a name="127208147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208147" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208147">(May 28 2018 at 14:29)</a>:</h4>
<p>yes</p>



<a name="127208148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208148" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208148">(May 28 2018 at 14:29)</a>:</h4>
<p>ok</p>



<a name="127208149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208149" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208149">(May 28 2018 at 14:29)</a>:</h4>
<p>going to do this</p>



<a name="127208151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208151">(May 28 2018 at 14:29)</a>:</h4>
<p>and we can cut the PR</p>



<a name="127208193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208193" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208193">(May 28 2018 at 14:30)</a>:</h4>
<p>will be just a couple of minutes</p>



<a name="127208229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208229" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208229">(May 28 2018 at 14:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> published</p>



<a name="127208275"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208275" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208275">(May 28 2018 at 14:32)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127208277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208277">(May 28 2018 at 14:32)</a>:</h4>
<p>compiling the changes :)</p>



<a name="127208775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208775">(May 28 2018 at 14:45)</a>:</h4>
<p>so ... I'm hitting one issue</p>



<a name="127208833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208833" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208833">(May 28 2018 at 14:46)</a>:</h4>
<p>we had a <code>&amp;[Loan]</code> thing and now have a <code>Cow&lt;'_, Vec&lt;Loan&gt;&gt;</code></p>



<a name="127208845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208845" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208845">(May 28 2018 at 14:47)</a>:</h4>
<p>hitting Rust newbies problems :D</p>



<a name="127208847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208847">(May 28 2018 at 14:47)</a>:</h4>
<div class="codehilite"><pre><span></span>error[E0597]: borrowed value does not live long enough
  --&gt; librustc_mir/borrow_check/flows.rs:67:26
   |
67 |             Either::Left(polonius.errors_at(location).iter().cloned())
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ temporary value does not live long enough
68 |         } else {
   |         - temporary value only lives until here
   |
note: borrowed value must be valid for the anonymous lifetime #1 defined on the method body at 65:5...
  --&gt; librustc_mir/borrow_check/flows.rs:65:5
   |
65 | /     crate fn borrows_in_scope(&amp;self, location: LocationIndex) -&gt; impl Iterator&lt;Item = BorrowIndex&gt; + &#39;_ {
66 | |         if let Some(ref polonius) = self.polonius_output {
67 | |             Either::Left(polonius.errors_at(location).iter().cloned())
68 | |         } else {
69 | |             Either::Right(self.borrows.iter_incoming())
70 | |         }
71 | |     }
   | |_____^

error: aborting due to previous error
</pre></div>



<a name="127208928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208928" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208928">(May 28 2018 at 14:49)</a>:</h4>
<p>I don't understand what's going on very well because the data comes from the same place so unsure what's happening with lifetimes and what <code>Cow</code> changes</p>



<a name="127208981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208981" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208981">(May 28 2018 at 14:50)</a>:</h4>
<p>try <code>into_iter</code> and not <code>iter</code></p>



<a name="127208996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127208996" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127208996">(May 28 2018 at 14:50)</a>:</h4>
<p>this is <em>definitely</em> a good blog post (and probably something we should improve error messages for)</p>



<a name="127209019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209019" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209019">(May 28 2018 at 14:51)</a>:</h4>
<p>what's going on is that <code>errors_at</code> is returning a temporary (the <code>Cow</code>) which <em>maybe</em> owns some data</p>



<a name="127209031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209031">(May 28 2018 at 14:51)</a>:</h4>
<p>when you invoke <code>iter()</code>, it borrows the thing you are iterating over — so when you return that iterator, it is still borrowing from the stack</p>



<a name="127209036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209036" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209036">(May 28 2018 at 14:51)</a>:</h4>
<p>this worked out before because you had a <code>&amp;[]</code> you were iterating over, which was always borrowed</p>



<a name="127209039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209039" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209039">(May 28 2018 at 14:51)</a>:</h4>
<p>but now the <code>Cow</code> maybe owns it</p>



<a name="127209040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209040">(May 28 2018 at 14:51)</a>:</h4>
<blockquote>
<p>when you invoke <code>iter()</code>, it borrows the thing you are iterating over — so when you return that iterator, it is still borrowing from the stack</p>
</blockquote>
<p>ahh I see</p>



<a name="127209078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209078" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209078">(May 28 2018 at 14:52)</a>:</h4>
<p>so you get an error because you would be dropping the <code>Cow</code> while still iterating over it</p>



<a name="127209088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209088">(May 28 2018 at 14:52)</a>:</h4>
<p>using <code>into_iter</code> avoids that borrow</p>



<a name="127209091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209091" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209091">(May 28 2018 at 14:52)</a>:</h4>
<p>that said, <code>Cow</code> may not implement <code>into_iter</code>...?</p>



<a name="127209093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209093" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209093">(May 28 2018 at 14:52)</a>:</h4>
<p>so this may not actually work</p>



<a name="127209096"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209096" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209096">(May 28 2018 at 14:52)</a>:</h4>
<div class="codehilite"><pre><span></span>error[E0507]: cannot move out of borrowed content
  --&gt; librustc_mir/borrow_check/flows.rs:67:26
   |
67 |             Either::Left(polonius.errors_at(location).into_iter())
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ cannot move out of borrowed content

error: aborting due to previous error

For more information about this error, try `rustc --explain E0507`.
error: Could not compile `rustc_mir`.
</pre></div>



<a name="127209102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209102" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209102">(May 28 2018 at 14:52)</a>:</h4>
<p>yeah hmm I wonder what's the right way to do this</p>



<a name="127209103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209103">(May 28 2018 at 14:52)</a>:</h4>
<p>:)</p>



<a name="127209105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209105" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209105">(May 28 2018 at 14:53)</a>:</h4>
<p>(why are we returning <code>Cow</code> anyway?)</p>



<a name="127209119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209119">(May 28 2018 at 14:53)</a>:</h4>
<p>oh, we shouldn't be :)</p>



<a name="127209120"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209120" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209120">(May 28 2018 at 14:53)</a>:</h4>
<p>that's the simple fix</p>



<a name="127209125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209125" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209125">(May 28 2018 at 14:53)</a>:</h4>
<p>I'll open a PR to show you what I mean ;)</p>



<a name="127209132"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209132" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209132">(May 28 2018 at 14:54)</a>:</h4>
<p>yep</p>



<a name="127209174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209174">(May 28 2018 at 14:54)</a>:</h4>
<p>I guessed we should always return a borrow from polonius-engine</p>



<a name="127209181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209181">(May 28 2018 at 14:54)</a>:</h4>
<p>I saw there are a lot of cases doing Vec::default() so owning the thing and using Cow for that purposes</p>



<a name="127209182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209182" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209182">(May 28 2018 at 14:54)</a>:</h4>
<p>also, we should not be assering <code>dump_enabled</code></p>



<a name="127209183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209183">(May 28 2018 at 14:54)</a>:</h4>
<p>if this is the primary output, then <code>dump_enabled</code> should not have to be true</p>



<a name="127209185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209185" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209185">(May 28 2018 at 14:54)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127209187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209187">(May 28 2018 at 14:55)</a>:</h4>
<p>to be honest that part I just copy pasted the whole thing :P</p>



<a name="127209193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209193" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209193">(May 28 2018 at 14:55)</a>:</h4>
<p>now that I'm think I guess we should always borrow stuff from there</p>



<a name="127209255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209255">(May 28 2018 at 14:56)</a>:</h4>
<p><a href="https://github.com/rust-lang-nursery/polonius/pull/59" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/59">https://github.com/rust-lang-nursery/polonius/pull/59</a></p>



<a name="127209269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209269" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209269">(May 28 2018 at 14:57)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> well slices are a bit .. special</p>



<a name="127209272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209272" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209272">(May 28 2018 at 14:57)</a>:</h4>
<p>hehe yes, makes a lot of sense</p>



<a name="127209275"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209275" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209275">(May 28 2018 at 14:57)</a>:</h4>
<p>yeah</p>



<a name="127209276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209276" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209276">(May 28 2018 at 14:57)</a>:</h4>
<p>that is, you can make an empty slice <code>&amp;[]</code> with any lifetime because it is a compile-time constant</p>



<a name="127209278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209278">(May 28 2018 at 14:57)</a>:</h4>
<p>the other things return hashmaps and so forth</p>



<a name="127209279"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209279" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209279">(May 28 2018 at 14:57)</a>:</h4>
<p>they require a <code>Cow</code></p>



<a name="127209282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209282">(May 28 2018 at 14:57)</a>:</h4>
<p>ahhhh</p>



<a name="127209283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209283" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209283">(May 28 2018 at 14:57)</a>:</h4>
<p>though eventually they should not</p>



<a name="127209286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209286">(May 28 2018 at 14:57)</a>:</h4>
<p>yeah so you can't do the same trick for the rest</p>



<a name="127209287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209287" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209287">(May 28 2018 at 14:57)</a>:</h4>
<p>(that is, eventually we should be able to execute <code>HashMap::new</code> at compile time to get a constant, but we can't yet)</p>



<a name="127209289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209289" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209289">(May 28 2018 at 14:58)</a>:</h4>
<p>anyway it's easier if you don't need <code>Cow</code></p>



<a name="127209328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209328">(May 28 2018 at 14:58)</a>:</h4>
<p>yes</p>



<a name="127209331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209331" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209331">(May 28 2018 at 14:58)</a>:</h4>
<p>makes a lot of sense</p>



<a name="127209333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209333" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209333">(May 28 2018 at 14:58)</a>:</h4>
<p>you need to cut another release :P</p>



<a name="127209342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209342">(May 28 2018 at 14:58)</a>:</h4>
<p>0.3.0 wasted :P</p>



<a name="127209348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209348" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209348">(May 28 2018 at 14:59)</a>:</h4>
<p>heh see this is why I said we ought to work off master first ;)</p>



<a name="127209368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209368" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209368">(May 28 2018 at 14:59)</a>:</h4>
<p>(no big thing)</p>



<a name="127209423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209423">(May 28 2018 at 15:00)</a>:</h4>
<p>yes and I agree</p>



<a name="127209432"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209432" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209432">(May 28 2018 at 15:00)</a>:</h4>
<p>if you want I can make the thing point to master until we are in a stable point</p>



<a name="127209623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209623" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209623">(May 28 2018 at 15:04)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> I landed the changes on master, if you want to try that first</p>



<a name="127209630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209630">(May 28 2018 at 15:05)</a>:</h4>
<p>I can also issue a new release though</p>



<a name="127209690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127209690" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127209690">(May 28 2018 at 15:06)</a>:</h4>
<p>can try with master</p>



<a name="127210993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127210993" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127210993">(May 28 2018 at 15:39)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> the thing compiled</p>



<a name="127210999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127210999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127210999">(May 28 2018 at 15:39)</a>:</h4>
<p>you want me to provide a PR depending on github? or you want now the cut the release?</p>



<a name="127211222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211222" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211222">(May 28 2018 at 15:45)</a>:</h4>
<p>I'll cut the release <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span></p>



<a name="127211239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211239" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211239">(May 28 2018 at 15:45)</a>:</h4>
<p>done</p>



<a name="127211434"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211434" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211434">(May 28 2018 at 15:51)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/51133" target="_blank" title="https://github.com/rust-lang/rust/pull/51133">https://github.com/rust-lang/rust/pull/51133</a></p>



<a name="127211516"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211516" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211516">(May 28 2018 at 15:53)</a>:</h4>
<p>nice job <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> and <span class="user-mention" data-user-id="116013">@qmx</span></p>



<a name="127211579"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211579" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211579">(May 28 2018 at 15:54)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> so ... didn't get quite correct if you wanted to do something about compare or not</p>



<a name="127211583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211583">(May 28 2018 at 15:55)</a>:</h4>
<p>and what about dump_mir</p>



<a name="127211606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211606" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211606">(May 28 2018 at 15:55)</a>:</h4>
<p>but I'm ready to start something else on top of this</p>



<a name="127211670"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211670" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211670">(May 28 2018 at 15:57)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> I think <span class="user-mention" data-user-id="116083">@pnkfelix</span> and I were saying let's do the compare-mode in a separate PR</p>



<a name="127211673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211673">(May 28 2018 at 15:57)</a>:</h4>
<p>but I think it's a good thing to get started with</p>



<a name="127211676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211676">(May 28 2018 at 15:57)</a>:</h4>
<p>cool</p>



<a name="127211677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211677">(May 28 2018 at 15:57)</a>:</h4>
<p>better to do that or dump-mir?</p>



<a name="127211719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211719">(May 28 2018 at 15:58)</a>:</h4>
<p>if I had my druthers, you would do compare-mode and <span class="user-mention" data-user-id="116013">@qmx</span> would do dump-mir :)</p>



<a name="127211720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211720" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211720">(May 28 2018 at 15:58)</a>:</h4>
<p>or vice versa :)</p>



<a name="127211721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211721">(May 28 2018 at 15:58)</a>:</h4>
<p>because both seem imp't</p>



<a name="127211725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211725" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211725">(May 28 2018 at 15:58)</a>:</h4>
<p>but really either is good</p>



<a name="127211792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211792">(May 28 2018 at 16:00)</a>:</h4>
<p>sounds good</p>



<a name="127211798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211798" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211798">(May 28 2018 at 16:00)</a>:</h4>
<p>tell me more about dump-mir</p>



<a name="127211812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211812" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211812">(May 28 2018 at 16:01)</a>:</h4>
<p>well the idea is to take the add'l bits of <code>Output</code> and integrate them into the <code>-Zdump-mir</code> output</p>



<a name="127211815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211815" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211815">(May 28 2018 at 16:01)</a>:</h4>
<blockquote>
<p>because both seem imp't</p>
</blockquote>
<p>to clarify: both seem imp't, and yet they seem like nicely splittable tasks</p>



<a name="127211866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211866" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211866">(May 28 2018 at 16:02)</a>:</h4>
<p>right now I thikn the <code>Output</code> data is mostly organized by <code>Point</code></p>



<a name="127211877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211877">(May 28 2018 at 16:02)</a>:</h4>
<p>this is because it's a useful way to "read" it as a human</p>



<a name="127211896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211896" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211896">(May 28 2018 at 16:03)</a>:</h4>
<p>so when you say additional data, is all the contents of the hashmaps?</p>



<a name="127211898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211898" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211898">(May 28 2018 at 16:03)</a>:</h4>
<p>is there an expected format for dumping all that info?</p>



<a name="127211990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211990">(May 28 2018 at 16:05)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> if you look at <a href="https://github.com/nikomatsakis/rust/commit/5656960ea0b62624341a10c175ab9d154a5fe94c#diff-cce7509357d5dcbb2c3bd87102f77005R162" target="_blank" title="https://github.com/nikomatsakis/rust/commit/5656960ea0b62624341a10c175ab9d154a5fe94c#diff-cce7509357d5dcbb2c3bd87102f77005R162">my old commit</a>, you can see what I was doing before</p>



<a name="127211994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211994" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211994">(May 28 2018 at 16:05)</a>:</h4>
<p>it's kind of up to you</p>



<a name="127211998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127211998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127211998">(May 28 2018 at 16:05)</a>:</h4>
<p>the format I mean</p>



<a name="127212041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127212041" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127212041">(May 28 2018 at 16:06)</a>:</h4>
<p>in particular <a href="https://github.com/nikomatsakis/rust/commit/5656960ea0b62624341a10c175ab9d154a5fe94c#diff-cce7509357d5dcbb2c3bd87102f77005R275" target="_blank" title="https://github.com/nikomatsakis/rust/commit/5656960ea0b62624341a10c175ab9d154a5fe94c#diff-cce7509357d5dcbb2c3bd87102f77005R275">down here</a>, when we dump out a given location,</p>



<a name="127212042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127212042" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127212042">(May 28 2018 at 16:06)</a>:</h4>
<p>I was also going over the start/mid points associated with it,</p>



<a name="127212045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127212045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127212045">(May 28 2018 at 16:06)</a>:</h4>
<p>and dumping out the related tuples</p>



<a name="127212054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127212054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127212054">(May 28 2018 at 16:07)</a>:</h4>
<p>aaaah, now it makes more sense</p>



<a name="127212055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127212055" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127212055">(May 28 2018 at 16:07)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127212107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127212107" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127212107">(May 28 2018 at 16:08)</a>:</h4>
<blockquote>
<p>what other usage in practice you see the either crate having?</p>
</blockquote>
<p>Futures, for the same reason. Although I think they reimplemented it internally <span class="emoji emoji-1f937" title="shrug">:shrug:</span></p>



<a name="127212324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127212324" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127212324">(May 28 2018 at 16:15)</a>:</h4>
<p>probably unaware of the crate</p>



<a name="127212370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127212370" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127212370">(May 28 2018 at 16:16)</a>:</h4>
<p>or just didn't feel like adding the dep I guess</p>



<a name="127213480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127213480" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127213480">(May 28 2018 at 16:55)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> there are tidy errors, fixes here <a href="https://github.com/qmx/rust/compare/make_borrowck_use_output...qmx:fix-tidy?expand=1" target="_blank" title="https://github.com/qmx/rust/compare/make_borrowck_use_output...qmx:fix-tidy?expand=1">https://github.com/qmx/rust/compare/make_borrowck_use_output...qmx:fix-tidy?expand=1</a></p>



<a name="127213531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127213531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127213531">(May 28 2018 at 16:56)</a>:</h4>
<p>already pushed</p>



<a name="127213532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127213532" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127213532">(May 28 2018 at 16:56)</a>:</h4>
<p>(The 51133 PR fails CI because of tidy and I think the <span class="emoji emoji-1f438" title="frog">:frog:</span> whitelisting)</p>



<a name="127213533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127213533" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127213533">(May 28 2018 at 16:56)</a>:</h4>
<p>yeah, I've already pushed fixes</p>



<a name="127213538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127213538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127213538">(May 28 2018 at 16:56)</a>:</h4>
<p>awesome</p>



<a name="127213539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127213539" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127213539">(May 28 2018 at 16:56)</a>:</h4>
<p>:) (sorry, backlogging on my phone)</p>



<a name="127213548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127213548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127213548">(May 28 2018 at 16:57)</a>:</h4>
<p>no worries, thanks for letting me know :)</p>



<a name="127213550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127213550" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127213550">(May 28 2018 at 16:57)</a>:</h4>
<p>gonna read the log of this channel now :)</p>



<a name="127213613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127213613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127213613">(May 28 2018 at 16:59)</a>:</h4>
<blockquote>
<p>if I had my druthers, you would do compare-mode and <span class="user-mention" data-user-id="116013">@qmx</span> would do dump-mir :)</p>
</blockquote>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <span class="user-mention" data-user-id="116013">@qmx</span>  sounds like a plan</p>



<a name="127215353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127215353" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127215353">(May 28 2018 at 17:57)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> <span class="user-mention" data-user-id="116013">@qmx</span> have you tried this PR on some inputs?</p>



<a name="127215354"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127215354" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127215354">(May 28 2018 at 17:57)</a>:</h4>
<p>e.g., did you try running on <code>issue-47680.rs</code> from the polonius repo etc?</p>



<a name="127215355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127215355" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127215355">(May 28 2018 at 17:57)</a>:</h4>
<p>it looks basically right to me</p>



<a name="127215365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127215365" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127215365">(May 28 2018 at 17:57)</a>:</h4>
<p>i think I'll build and try it out though</p>



<a name="127215893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127215893" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127215893">(May 28 2018 at 18:11)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> yes, I've tried it</p>



<a name="127215931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127215931" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127215931">(May 28 2018 at 18:12)</a>:</h4>
<p>let me run it again for you</p>



<a name="127215946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127215946" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127215946">(May 28 2018 at 18:12)</a>:</h4>
<div class="codehilite"><pre><span></span>[santiago@archlinux oss]$ rustc +stage1 polonius/inputs/issue-47680/issue-47680.rs
error[E0499]: cannot borrow `*temp` as mutable more than once at a time
  --&gt; polonius/inputs/issue-47680/issue-47680.rs:13:15
   |
13 |         match temp.maybe_next() {
   |               ^^^^
   |               |
   |               mutable borrow starts here in previous iteration of loop
   |               borrow later used here

error: aborting due to previous error

For more information about this error, try `rustc --explain E0499`.
[santiago@archlinux oss]$ rustc +stage1 -Zpolonius polonius/inputs/issue-47680/issue-47680.rs
[santiago@archlinux oss]$
</pre></div>



<a name="127216006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127216006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127216006">(May 28 2018 at 18:14)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> I presume that test has <code>#![feature(nll)]</code>?</p>



<a name="127216007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127216007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127216007">(May 28 2018 at 18:14)</a>:</h4>
<p>if so, nice!</p>



<a name="127216083"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127216083" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127216083">(May 28 2018 at 18:16)</a>:</h4>
<p>yes</p>



<a name="127216161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127216161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127216161">(May 28 2018 at 18:18)</a>:</h4>
<p>can we do something like <code>#![feature(nll, polonius)]</code></p>



<a name="127216163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127216163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127216163">(May 28 2018 at 18:18)</a>:</h4>
<p>or something like that?</p>



<a name="127216165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127216165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127216165">(May 28 2018 at 18:18)</a>:</h4>
<p>unsure if makes sense</p>



<a name="127216168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127216168" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127216168">(May 28 2018 at 18:18)</a>:</h4>
<p>would be a temporary thing</p>



<a name="127216185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127216185" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127216185">(May 28 2018 at 18:19)</a>:</h4>
<p>we could... but yeah I'm not sure if it makes sense</p>



<a name="127225225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127225225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127225225">(May 28 2018 at 23:27)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> seems like <a href="https://github.com/rust-lang/rust/pull/51133" target="_blank" title="https://github.com/rust-lang/rust/pull/51133">https://github.com/rust-lang/rust/pull/51133</a> is green, needs an r+</p>



<a name="127225854"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127225854" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127225854">(May 28 2018 at 23:51)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> interestingly, my local runs reveal a number of tests passing that ought not to — the failures look very familiar. But I don't think it's the fault of the integration, more that it's revealing bugs in polonius. One thing I was thinking: we should add a way to select the polonius algorithm. I was considering maybe an environment var? <code>RUSTC_POLONIUS_ALGORITHM=naive</code> or something? (Something rustc could check)</p>



<a name="127225859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127225859" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127225859">(May 28 2018 at 23:51)</a>:</h4>
<p>or we could make it <code>-Zpolonius=foo</code>, but that makes compare-mode more complex</p>



<a name="127225860"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127225860" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127225860">(May 28 2018 at 23:51)</a>:</h4>
<p>(cc <span class="user-mention" data-user-id="116013">@qmx</span>)</p>



<a name="127225912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127225912" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127225912">(May 28 2018 at 23:53)</a>:</h4>
<p>yes</p>



<a name="127225915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127225915" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127225915">(May 28 2018 at 23:53)</a>:</h4>
<p>I can add that tomorrow I guess</p>



<a name="127225916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127225916" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127225916">(May 28 2018 at 23:53)</a>:</h4>
<p>will ping you tomorrow</p>



<a name="127226221"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127226221" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127226221">(May 29 2018 at 00:04)</a>:</h4>
<p>I'm gonna r+ as is since the queue is kinda empty right now</p>



<a name="127226226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127226226" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127226226">(May 29 2018 at 00:05)</a>:</h4>
<p>can always do as a follow up</p>



<a name="127240182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127240182" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127240182">(May 29 2018 at 08:21)</a>:</h4>
<p><span class="user-mention" data-user-id="116109">@Vytautas Astrauskas</span> you can see my comment earler in this thread</p>



<a name="127240190"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127240190" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127240190">(May 29 2018 at 08:21)</a>:</h4>
<p>but actually before that</p>



<a name="127240191"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127240191" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127240191">(May 29 2018 at 08:21)</a>:</h4>
<p>there is some work needed on polonius side</p>



<a name="127240230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127240230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127240230">(May 29 2018 at 08:22)</a>:</h4>
<p>nothing too major :)</p>



<a name="127240238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127240238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127240238">(May 29 2018 at 08:22)</a>:</h4>
<p>I think we need some function to take an algorithm string and select an algorithm</p>



<a name="127240258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127240258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127240258">(May 29 2018 at 08:23)</a>:</h4>
<p>currently we have two definitions of the <code>Algorithm</code> enum, <a href="https://github.com/rust-lang-nursery/polonius/blob/5b6a3bcaec2984419d16d5a36622b425ee2cd5ef/src/cli.rs#L13-L30" target="_blank" title="https://github.com/rust-lang-nursery/polonius/blob/5b6a3bcaec2984419d16d5a36622b425ee2cd5ef/src/cli.rs#L13-L30">one of them in the cli interface</a> and <a href="https://github.com/rust-lang-nursery/polonius/blob/master/polonius-engine/src/output/mod.rs#L20-L25" target="_blank" title="https://github.com/rust-lang-nursery/polonius/blob/master/polonius-engine/src/output/mod.rs#L20-L25">one in the engine itself</a></p>



<a name="127240260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127240260" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127240260">(May 29 2018 at 08:23)</a>:</h4>
<p>I think we should just have one — in the engine</p>



<a name="127240263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127240263" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127240263">(May 29 2018 at 08:23)</a>:</h4>
<p>and it should have a <a href="https://doc.rust-lang.org/std/str/trait.FromStr.html" target="_blank" title="https://doc.rust-lang.org/std/str/trait.FromStr.html"><code>FromStr</code> impl</a></p>



<a name="127240268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127240268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127240268">(May 29 2018 at 08:24)</a>:</h4>
<p>used by the CLI</p>



<a name="127240309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127240309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127240309">(May 29 2018 at 08:24)</a>:</h4>
<p>I'm not 100% sure what is needed to make clap integration work mega smoothly but presumably it is possible</p>



<a name="127240317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127240317" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127240317">(May 29 2018 at 08:24)</a>:</h4>
<p>(this is what that <code>arg_enum!</code> macro does)</p>



<a name="127240343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127240343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127240343">(May 29 2018 at 08:25)</a>:</h4>
<p><a href="https://docs.rs/clap/2.31.2/clap/macro.arg_enum.html" target="_blank" title="https://docs.rs/clap/2.31.2/clap/macro.arg_enum.html">docs for <code>arg_enum!</code></a></p>



<a name="127240348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127240348" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127240348">(May 29 2018 at 08:25)</a>:</h4>
<p>(we could then add another variant to do comparisons)</p>



<a name="127240495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127240495" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127240495">(May 29 2018 at 08:29)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I will try to fix this the selection of the algorithm.</p>



<a name="127243462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127243462" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127243462">(May 29 2018 at 09:52)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> think you or <span class="user-mention" data-user-id="116013">@qmx</span> would have time to rebase <a href="https://github.com/rust-lang/rust/pull/51133" target="_blank" title="https://github.com/rust-lang/rust/pull/51133">https://github.com/rust-lang/rust/pull/51133</a> ? if not, I can do it</p>



<a name="127243468"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127243468" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127243468">(May 29 2018 at 09:52)</a>:</h4>
<p>in fact, maybe I just <em>will</em> do it</p>



<a name="127243471"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127243471" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127243471">(May 29 2018 at 09:52)</a>:</h4>
<p>seeing as the queue is kinda empty right now :)</p>



<a name="127243547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127243547" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127243547">(May 29 2018 at 09:54)</a>:</h4>
<p>(force pushed)</p>



<a name="127244677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127244677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127244677">(May 29 2018 at 10:29)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> A pull request that removes<code>AlgorithmOpt</code> enum: <a href="https://github.com/rust-lang-nursery/polonius/pull/60" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/60">https://github.com/rust-lang-nursery/polonius/pull/60</a>. I have also added an option to select the algorithm via <code>POLONIUS_ALGORITHM</code> environment variable.</p>



<a name="127245022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127245022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127245022">(May 29 2018 at 10:39)</a>:</h4>
<p>Next steps: add <code>Compare</code> to the <code>Algorithm</code> enum that compares errors reported by <code>DatafrogOpt</code> with the ones reported by <code>Naive</code>. <span class="user-mention" data-user-id="116009">@nikomatsakis</span> what you would like to happen when computed errors differ? Panic with <code>bug!</code>?</p>



<a name="127247646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127247646" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127247646">(May 29 2018 at 11:55)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> think you or <span class="user-mention" data-user-id="116013">@qmx</span> would have time to rebase <a href="https://github.com/rust-lang/rust/pull/51133" target="_blank" title="https://github.com/rust-lang/rust/pull/51133">https://github.com/rust-lang/rust/pull/51133</a> ? if not, I can do it</p>
</blockquote>
<p>rebased</p>



<a name="127247653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127247653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127247653">(May 29 2018 at 11:55)</a>:</h4>
<p>oh, niko did it already</p>



<a name="127247654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127247654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127247654">(May 29 2018 at 11:55)</a>:</h4>
<p>ahh ok</p>



<a name="127247656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127247656" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127247656">(May 29 2018 at 11:55)</a>:</h4>
<p>nevermind then</p>



<a name="127247709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127247709" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> qmx <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127247709">(May 29 2018 at 11:56)</a>:</h4>
<p>...and we're back to the bottom of the queue <span class="emoji emoji-1f622" title="cry">:cry:</span></p>



<a name="127248527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127248527" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127248527">(May 29 2018 at 12:17)</a>:</h4>
<p><span class="user-mention" data-user-id="116013">@qmx</span> no more :)</p>



<a name="127248798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127248798" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127248798">(May 29 2018 at 12:23)</a>:</h4>
<p><span class="user-mention" data-user-id="116109">@Vytautas Astrauskas</span> how goes btw ?</p>



<a name="127249384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127249384" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127249384">(May 29 2018 at 12:38)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> </p>
<blockquote>
<p><span class="user-mention" data-user-id="116109">@Vytautas Astrauskas</span> how goes btw ?</p>
</blockquote>
<p>Currently writing the code that compares errors returned by Naïve and Optimized.</p>



<a name="127249397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127249397" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127249397">(May 29 2018 at 12:38)</a>:</h4>
<p>I am thinking to report differences via <code>error!</code> and then <code>panic!</code>.</p>



<a name="127249474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127249474" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127249474">(May 29 2018 at 12:40)</a>:</h4>
<p>seems fine for now; we could also make the computation return a <code>Result</code></p>



<a name="127249583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127249583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127249583">(May 29 2018 at 12:43)</a>:</h4>
<p>If computation returned a <code>Result</code>, I would expect that result to be either the borrow checking succeeded or a list of borrow errors.</p>



<a name="127249634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127249634" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127249634">(May 29 2018 at 12:44)</a>:</h4>
<p>In other words, I think that it would be confusing API to use <code>Err</code> to indicate a bug.</p>



<a name="127249636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127249636" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127249636">(May 29 2018 at 12:44)</a>:</h4>
<p>well, you might expect that, but that doesn't have to be what it is ;)</p>



<a name="127249645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127249645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127249645">(May 29 2018 at 12:45)</a>:</h4>
<p>but I think panic is fine for now</p>



<a name="127249654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127249654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127249654">(May 29 2018 at 12:45)</a>:</h4>
<p>and .. probably the right thing</p>



<a name="127250724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127250724" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127250724">(May 29 2018 at 13:09)</a>:</h4>
<p>argh <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> <a href="https://github.com/rust-lang/rust/pull/51133" target="_blank" title="https://github.com/rust-lang/rust/pull/51133">https://github.com/rust-lang/rust/pull/51133</a> needs rebase again</p>



<a name="127250728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127250728" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127250728">(May 29 2018 at 13:09)</a>:</h4>
<p>it's just Cargo.lock conflicts I think</p>



<a name="127250729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127250729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127250729">(May 29 2018 at 13:09)</a>:</h4>
<p>are you able to do it?</p>



<a name="127251570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251570">(May 29 2018 at 13:26)</a>:</h4>
<p>ohh saw you were pinging me here</p>



<a name="127251573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251573" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251573">(May 29 2018 at 13:27)</a>:</h4>
<p>starting to read this :)</p>



<a name="127251747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251747" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251747">(May 29 2018 at 13:30)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> what happened now <a href="https://github.com/rust-lang/rust/pull/51133#issuecomment-392775090" target="_blank" title="https://github.com/rust-lang/rust/pull/51133#issuecomment-392775090">https://github.com/rust-lang/rust/pull/51133#issuecomment-392775090</a> ?</p>



<a name="127251768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251768" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251768">(May 29 2018 at 13:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> looks like an error when merging the cargo.lock ?</p>



<a name="127251772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251772" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251772">(May 29 2018 at 13:31)</a>:</h4>
<blockquote>
<p>[00:01:16] error: failed to parse lock file at: /checkout/src/Cargo.lock</p>
</blockquote>



<a name="127251813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251813" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251813">(May 29 2018 at 13:32)</a>:</h4>
<p>usually what I do when there is a Cargo.lock conflict is to rerun <code>x.py</code></p>



<a name="127251816"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251816" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251816">(May 29 2018 at 13:32)</a>:</h4>
<p>which will re-generate it</p>



<a name="127251817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251817">(May 29 2018 at 13:32)</a>:</h4>
<p>I usually kill it before it gets too far :)</p>



<a name="127251818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251818" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251818">(May 29 2018 at 13:32)</a>:</h4>
<p>you may need to do that</p>



<a name="127251829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251829">(May 29 2018 at 13:33)</a>:</h4>
<p>though I don't see any obvious problem</p>



<a name="127251885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251885">(May 29 2018 at 13:34)</a>:</h4>
<p>but I get the same error locally</p>



<a name="127251898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251898" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251898">(May 29 2018 at 13:35)</a>:</h4>
<p>yes</p>



<a name="127251901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251901" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251901">(May 29 2018 at 13:35)</a>:</h4>
<p>was surprised that git rebase master didn't fail</p>



<a name="127251905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251905">(May 29 2018 at 13:35)</a>:</h4>
<p>I mean, it was what I did when merging</p>



<a name="127251906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251906">(May 29 2018 at 13:35)</a>:</h4>
<p>checkout the lock and rerun x.py</p>



<a name="127251952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251952">(May 29 2018 at 13:36)</a>:</h4>
<p>but this last merge conflicts didn't conflict locally and for some reason did the wrong thing</p>



<a name="127251954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251954">(May 29 2018 at 13:36)</a>:</h4>
<p>anyway ... fixing it</p>



<a name="127251979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251979">(May 29 2018 at 13:37)</a>:</h4>
<p>I just pushed a fix..</p>



<a name="127251988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251988">(May 29 2018 at 13:37)</a>:</h4>
<p>(sorry, race condition)</p>



<a name="127251990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251990">(May 29 2018 at 13:37)</a>:</h4>
<p>it seems like something went wrong with rustc-hash</p>



<a name="127251991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251991" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251991">(May 29 2018 at 13:37)</a>:</h4>
<p>hehe</p>



<a name="127251993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127251993" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127251993">(May 29 2018 at 13:37)</a>:</h4>
<p>no worries</p>



<a name="127252005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127252005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127252005">(May 29 2018 at 13:37)</a>:</h4>
<p>the way I fixed was: <code>git checkout $(git merge-base rust-lang/master HEAD) Cargo.lock</code> and then rerun <code>x.py build</code></p>



<a name="127252008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127252008" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127252008">(May 29 2018 at 13:37)</a>:</h4>
<p>which generated that diff :)</p>



<a name="127252052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127252052" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127252052">(May 29 2018 at 13:38)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127255129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127255129" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127255129">(May 29 2018 at 14:43)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I have opened a pull request: <a href="https://github.com/rust-lang-nursery/polonius/pull/64" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/64">https://github.com/rust-lang-nursery/polonius/pull/64</a>.</p>



<a name="127255141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127255141" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127255141">(May 29 2018 at 14:43)</a>:</h4>
<p>I need to catch my train now, I'll address issues tomorrow morning (if you have any).</p>



<a name="127261505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127261505" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127261505">(May 29 2018 at 16:52)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I guess we need to mark the last checkbox here <a href="https://github.com/rust-lang-nursery/polonius/issues/44" target="_blank" title="https://github.com/rust-lang-nursery/polonius/issues/44">https://github.com/rust-lang-nursery/polonius/issues/44</a></p>



<a name="127311865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127311865" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127311865">(May 30 2018 at 15:02)</a>:</h4>
<blockquote>
<p>Rustc has DatafrogOpt <a href="https://github.com/rust-lang/rust/blob/20af72b943527d584df4b99e157262f9b297b3e4/src/librustc_mir/borrow_check/nll/mod.rs#L159-L162" target="_blank" title="https://github.com/rust-lang/rust/blob/20af72b943527d584df4b99e157262f9b297b3e4/src/librustc_mir/borrow_check/nll/mod.rs#L159-L162">hard coded</a>. We could change it to something like:</p>
<div class="codehilite"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">algorithm</span>: <span class="nc">Algorithm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">env</span>::<span class="n">var</span><span class="p">(</span><span class="s">&quot;POLONIUS_ALGORITHM&quot;</span><span class="p">).</span><span class="n">unwrap_or</span><span class="p">(</span><span class="s">&quot;DatafrogOpt&quot;</span><span class="p">).</span><span class="n">into</span><span class="p">();</span><span class="w"></span>
</pre></div>


<p>However, for that we need a new version of polonius-engine to be released and it probably would make sense to land first all PRs that are currently in flight.</p>
</blockquote>
<p>I think we should do this. What is in flight that we ought to wait for?</p>



<a name="127311877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127311877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127311877">(May 30 2018 at 15:02)</a>:</h4>
<p>(cc <span class="user-mention" data-user-id="116109">@Vytautas Astrauskas</span> and <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span>)</p>



<a name="127311888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127311888" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127311888">(May 30 2018 at 15:03)</a>:</h4>
<p>issuing a new version of polonius is easy enough</p>



<a name="127312074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127312074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127312074">(May 30 2018 at 15:06)</a>:</h4>
<p>I think it needs this <a href="https://github.com/rust-lang-nursery/polonius/pull/64" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/64">https://github.com/rust-lang-nursery/polonius/pull/64</a> ?</p>



<a name="127312078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127312078" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127312078">(May 30 2018 at 15:06)</a>:</h4>
<p>can check better a bit later</p>



<a name="127312097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127312097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127312097">(May 30 2018 at 15:06)</a>:</h4>
<p>or maybe just compare-mode ? otherwise #51133 has landed yesterday (maybe that was the only one we do need)</p>



<a name="127312194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127312194" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127312194">(May 30 2018 at 15:08)</a>:</h4>
<blockquote>
<p>I think it needs this <a href="https://github.com/rust-lang-nursery/polonius/pull/64" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/64">https://github.com/rust-lang-nursery/polonius/pull/64</a> ?</p>
</blockquote>
<p>I just merged that :)</p>



<a name="127312214"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127312214" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127312214">(May 30 2018 at 15:08)</a>:</h4>
<blockquote>
<p>I think we should do this. What is in flight that we ought to wait for?</p>
</blockquote>
<p>I can implement this now.</p>



<a name="127314252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314252">(May 30 2018 at 15:46)</a>:</h4>
<blockquote>
<blockquote>
<p>I think it needs this <a href="https://github.com/rust-lang-nursery/polonius/pull/64" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/64">https://github.com/rust-lang-nursery/polonius/pull/64</a> ?</p>
</blockquote>
<p>I just merged that :)</p>
</blockquote>
<p>It seems that I did something stupid, which caused this pull request to result in a merge error and non-compiling code.</p>



<a name="127314256"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314256" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314256">(May 30 2018 at 15:46)</a>:</h4>
<p>My attempt to fix it: <a href="https://github.com/rust-lang-nursery/polonius/pull/66" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/66">https://github.com/rust-lang-nursery/polonius/pull/66</a>.</p>



<a name="127314284"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314284" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314284">(May 30 2018 at 15:47)</a>:</h4>
<p>By the way, don't we have CI enabled for the Polonius repository to prevent such errors?</p>



<a name="127314366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314366">(May 30 2018 at 15:48)</a>:</h4>
<p>we do <span class="emoji emoji-1f914" title="thinking face">:thinking_face:</span> that is weird</p>



<a name="127314404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314404">(May 30 2018 at 15:49)</a>:</h4>
<p>well, it tests pre-merge I think</p>



<a name="127314408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314408">(May 30 2018 at 15:49)</a>:</h4>
<p>rarely makes a difference</p>



<a name="127314409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314409">(May 30 2018 at 15:49)</a>:</h4>
<p>but sometimes it does!</p>



<a name="127314460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314460">(May 30 2018 at 15:50)</a>:</h4>
<p>I've debated about setting up bors-ng or some such thing</p>



<a name="127314478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314478">(May 30 2018 at 15:50)</a>:</h4>
<p><span class="user-mention" data-user-id="116109">@Vytautas Astrauskas</span> we no longer need the <code>variants</code> fn?</p>



<a name="127314549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314549">(May 30 2018 at 15:52)</a>:</h4>
<blockquote>
<p>or maybe just compare-mode ? otherwise #51133 has landed yesterday (maybe that was the only one we do need)</p>
</blockquote>
<p><a href="https://github.com/rust-lang/rust/pull/51138" target="_blank" title="https://github.com/rust-lang/rust/pull/51138">https://github.com/rust-lang/rust/pull/51138</a></p>



<a name="127314562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314562" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314562">(May 30 2018 at 15:52)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span>  We do need the <code>variants</code>fn, and we do have one: <a href="https://github.com/rust-lang-nursery/polonius/pull/66/files#diff-29826c0b0a8116137a1af9348ecacac9R30" target="_blank" title="https://github.com/rust-lang-nursery/polonius/pull/66/files#diff-29826c0b0a8116137a1af9348ecacac9R30">https://github.com/rust-lang-nursery/polonius/pull/66/files#diff-29826c0b0a8116137a1af9348ecacac9R30</a></p>



<a name="127314563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314563">(May 30 2018 at 15:52)</a>:</h4>
<p>if you're referring to that didn't land yet</p>



<a name="127314577"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314577" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314577">(May 30 2018 at 15:52)</a>:</h4>
<p>Currently,  in the Polonius master we have two of them.</p>



<a name="127314656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314656" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314656">(May 30 2018 at 15:54)</a>:</h4>
<p>Sorry, for the mess.</p>



<a name="127314668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314668" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314668">(May 30 2018 at 15:54)</a>:</h4>
<p>no worries, I should have done my due diligence before merging :)</p>



<a name="127314684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314684" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314684">(May 30 2018 at 15:54)</a>:</h4>
<p>I merged #66, <span class="user-mention" data-user-id="116109">@Vytautas Astrauskas</span></p>



<a name="127314824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314824" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314824">(May 30 2018 at 15:57)</a>:</h4>
<p>Cool, I am testing locally <a href="https://github.com/vakaras/rust/commit/e08b0b1d44c7f8345b33e20fdda5484acc37515d" target="_blank" title="https://github.com/vakaras/rust/commit/e08b0b1d44c7f8345b33e20fdda5484acc37515d">my code</a> that allows choosing Polonius algorithm via env variable against Polonius master.</p>



<a name="127314907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127314907" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127314907">(May 30 2018 at 15:58)</a>:</h4>
<p>Once I am convinced that it works, I will open a pull request.</p>



<a name="127317760"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127317760" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127317760">(May 30 2018 at 17:07)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <a href="https://github.com/rust-lang/rust/pull/51138" target="_blank" title="https://github.com/rust-lang/rust/pull/51138">https://github.com/rust-lang/rust/pull/51138</a></p>



<a name="127317773"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127317773" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127317773">(May 30 2018 at 17:07)</a>:</h4>
<p>force pushed again, because there were merge conflicts after something was merged on master</p>



<a name="127317828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127317828" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127317828">(May 30 2018 at 17:08)</a>:</h4>
<p>it need to be r+ again, right?</p>



<a name="127318311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127318311" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127318311">(May 30 2018 at 17:18)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> errors in <a href="https://github.com/rust-lang/rust/pull/51138" target="_blank" title="https://github.com/rust-lang/rust/pull/51138">https://github.com/rust-lang/rust/pull/51138</a></p>



<a name="127318774"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127318774" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127318774">(May 30 2018 at 17:28)</a>:</h4>
<p>will check</p>



<a name="127318821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127318821" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127318821">(May 30 2018 at 17:29)</a>:</h4>
<p>unsure how this happened</p>



<a name="127318824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127318824" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127318824">(May 30 2018 at 17:29)</a>:</h4>
<p>checking</p>



<a name="127318919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127318919" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127318919">(May 30 2018 at 17:30)</a>:</h4>
<p>my changes are lost, I have no idea what's going on with <code>git rebase</code> yesterday something similar happened</p>



<a name="127318922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127318922" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127318922">(May 30 2018 at 17:31)</a>:</h4>
<p>anyway fixing it</p>



<a name="127319378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127319378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127319378">(May 30 2018 at 17:38)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> it should be fine now</p>



<a name="127369652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127369652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127369652">(May 31 2018 at 16:12)</a>:</h4>
<p><span class="user-mention" data-user-id="116109">@Vytautas Astrauskas</span> I guess that <a href="https://github.com/rust-lang/rust/pull/51246" target="_blank" title="https://github.com/rust-lang/rust/pull/51246">https://github.com/rust-lang/rust/pull/51246</a> needs a new release of polonius?</p>



<a name="127370557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127370557" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127370557">(May 31 2018 at 16:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="127371494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127371494" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127371494">(May 31 2018 at 16:52)</a>:</h4>
<p>I'll just make it 0.5.0</p>



<a name="127371495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127371495" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127371495">(May 31 2018 at 16:52)</a>:</h4>
<p>I can't be bothered to tell if this is semver compat or what</p>



<a name="127371509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127371509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127371509">(May 31 2018 at 16:53)</a>:</h4>
<p>presumably not since we are modifying enums etc</p>



<a name="127371762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127371762" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127371762">(May 31 2018 at 16:58)</a>:</h4>
<p>below 1.0 doesn't matter :P</p>



<a name="127371775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127371775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127371775">(May 31 2018 at 16:58)</a>:</h4>
<p><span class="user-mention" data-user-id="116109">@Vytautas Astrauskas</span> would need to change Cargo.toml and Cargo.lock now from that PR</p>



<a name="127371891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127371891" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127371891">(May 31 2018 at 17:01)</a>:</h4>
<blockquote>
<p>I'll just make it 0.5.0</p>
</blockquote>
<p>Thank you!</p>



<a name="127371895"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127371895" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127371895">(May 31 2018 at 17:01)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="116109">@Vytautas Astrauskas</span> would need to change Cargo.toml and Cargo.lock now from that PR</p>
</blockquote>
<p>Updating…</p>



<a name="127372282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127372282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127372282">(May 31 2018 at 17:10)</a>:</h4>
<p><span class="user-mention" data-user-id="116109">@Vytautas Astrauskas</span> published</p>



<a name="127372306"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127372306" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127372306">(May 31 2018 at 17:11)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="116109">@Vytautas Astrauskas</span> published</p>
</blockquote>
<p>Thanks! I have updated the pull request. However, I am still compiling to test if it works.</p>



<a name="127372313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127372313" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127372313">(May 31 2018 at 17:11)</a>:</h4>
<p>Should take around 30 minutes.</p>



<a name="127373639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127373639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127373639">(May 31 2018 at 17:38)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> Selecting the algorithm seems to work:</p>
<div class="codehilite"><pre><span></span>POLONIUS_ALGORITHM=compare RUST_LOG=rustc_mir::borrow_check::nll=trace  ./x.py test --stage 1 --compare-mode polonius -- src/test/ui/nll/issue-47680.rs
...
stderr:
------------------------------------------
 INFO 2018-05-31T17:35:31Z: rustc_mir::borrow_check::nll: Using Polonius algorithm: Compare
 INFO 2018-05-31T17:35:31Z: rustc_mir::borrow_check::nll: Using Polonius algorithm: Compare

------------------------------------------
...
</pre></div>



<a name="127373648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127373648" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127373648">(May 31 2018 at 17:38)</a>:</h4>
<p>However, I still have not found a way how to get logs from <code>polonius_engine</code>.</p>



<a name="127373756"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127373756" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127373756">(May 31 2018 at 17:41)</a>:</h4>
<p>(This command <code>POLONIUS_ALGORITHM=compare RUST_LOG=polonius_engine::output=trace  ./x.py test --stage 1 --compare-mode polonius -- src/test/ui/nll/issue-47680.rs</code> does not output anything.)</p>



<a name="127373801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127373801" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127373801">(May 31 2018 at 17:42)</a>:</h4>
<blockquote>
<p>(This command <code>POLONIUS_ALGORITHM=compare RUST_LOG=polonius_engine::output=trace  ./x.py test --stage 1 --compare-mode polonius -- src/test/ui/nll/issue-47680.rs</code> does not output anything.)</p>
</blockquote>
<p>huh, that's confusing</p>



<a name="127373804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127373804" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127373804">(May 31 2018 at 17:42)</a>:</h4>
<p>maybe we should ping sfackler</p>



<a name="127374021"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127374021" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127374021">(May 31 2018 at 17:46)</a>:</h4>
<blockquote>
<p>maybe we should ping sfackler</p>
</blockquote>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> Just to be clear: by anything I mean that it does not output any logs from <code>polonius_engine</code>.</p>



<a name="127540041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127540041" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127540041">(Jun 04 2018 at 11:13)</a>:</h4>
<p><span class="user-mention" data-user-id="116109">@Vytautas Astrauskas</span> btw <a href="https://github.com/rust-lang/rust/pull/51246" target="_blank" title="https://github.com/rust-lang/rust/pull/51246">https://github.com/rust-lang/rust/pull/51246</a> is ready for r+ right ?</p>



<a name="127540696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127540696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vytautas Astrauskas [he/him] <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127540696">(Jun 04 2018 at 11:35)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> I have addressed the Niko comment about log levels, so yes.</p>



<a name="127540733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127540733" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127540733">(Jun 04 2018 at 11:36)</a>:</h4>
<p>sweet <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<a name="127547986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127547986" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127547986">(Jun 04 2018 at 14:43)</a>:</h4>
<p>(btw if people end up using this PR to compare between the different polonius variants, please note that <code>-a compare</code> compares _errors_ today, not <code>borrow_live_at</code> which we know can differ between Naive and Opt, and that Naive doesn't produce errors today)</p>



<a name="127548066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127548066" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127548066">(Jun 04 2018 at 14:45)</a>:</h4>
<p>I thought we fixed that</p>



<a name="127548068"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127548068" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127548068">(Jun 04 2018 at 14:45)</a>:</h4>
<p>that is, fixed Naive to produce errors?</p>



<a name="127548085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127548085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127548085">(Jun 04 2018 at 14:46)</a>:</h4>
<p>IIRC it was both Opt and LocInsensitive</p>



<a name="127548148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127548148" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127548148">(Jun 04 2018 at 14:46)</a>:</h4>
<p>but ia0 did have a branch when he worked during the impl days IIRC</p>



<a name="127548234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127548234" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127548234">(Jun 04 2018 at 14:48)</a>:</h4>
<p>which was <a href="https://github.com/ia0/polonius/commit/f6398b278c5542368faf1de748cc8c62dc1ba350" target="_blank" title="https://github.com/ia0/polonius/commit/f6398b278c5542368faf1de748cc8c62dc1ba350">here</a></p>



<a name="127606896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127606896" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127606896">(Jun 05 2018 at 15:42)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> what was your x.py test command line for when you generated the list of -Zpolonius failures ? .ie. how does one add the -Zpolonius ? :D</p>



<a name="127606970"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127606970" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127606970">(Jun 05 2018 at 15:44)</a>:</h4>
<p>what I did at that time was to change the code locally :)</p>



<a name="127607000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127607000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127607000">(Jun 05 2018 at 15:45)</a>:</h4>
<p>haha</p>



<a name="127607011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127607011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127607011">(Jun 05 2018 at 15:45)</a>:</h4>
<p>but now we merged my PR and <span class="user-mention" data-user-id="116109">@Vytautas Astrauskas</span>'s one I guess we can do --compare-mode polonius</p>



<a name="127607097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius%20integration/near/127607097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/rustc-and-polonius.20integration.html#127607097">(Jun 05 2018 at 15:46)</a>:</h4>
<p>nice, I'll try that then, when my build is finished</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>