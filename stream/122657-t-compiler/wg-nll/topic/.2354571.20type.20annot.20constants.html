<html>
<head><meta charset="utf-8"><title>#54571 type annot constants · t-compiler/wg-nll · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/index.html">t-compiler/wg-nll</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html">#54571 type annot constants</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="135790490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135790490" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135790490">(Oct 14 2018 at 19:39)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> would you be able to provide some high level pointers for this? I've <a href="https://github.com/rust-lang/rust/blob/master/src/librustc_mir/hair/cx/expr.rs#L903" target="_blank" title="https://github.com/rust-lang/rust/blob/master/src/librustc_mir/hair/cx/expr.rs#L903">found this part of the code</a> but haven't been able to decipher exactly what it should be in the case of a constant?</p>



<a name="135790583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135790583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135790583">(Oct 14 2018 at 19:41)</a>:</h4>
<p>That is, if you aren't already handling it - it was one that you mentioned at the meeting.</p>



<a name="135829417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135829417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135829417">(Oct 15 2018 at 13:11)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="116107">@davidtwco</span> — so I just opened <a href="https://github.com/rust-lang/rust/pull/55093" target="_blank" title="https://github.com/rust-lang/rust/pull/55093">https://github.com/rust-lang/rust/pull/55093</a> and I was planning on tackling constants next, building on that</p>



<a name="135829505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135829505" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135829505">(Oct 15 2018 at 13:13)</a>:</h4>
<p>If it's a priority then you'll be able to get a PR landed for that quicker than I can, so I don't mind working on something else.</p>



<a name="135829751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135829751" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135829751">(Oct 15 2018 at 13:16)</a>:</h4>
<p>this depends on how much time I have :)</p>



<a name="135829761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135829761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135829761">(Oct 15 2018 at 13:16)</a>:</h4>
<p>I had meant to open that PR on Thu and hoped to have it landed by today but it wasn't <em>quite</em> ready</p>



<a name="135829782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135829782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135829782">(Oct 15 2018 at 13:17)</a>:</h4>
<p>It's been a while since I've done any non-diagnostic PRs so I'm a little rusty.</p>



<a name="135829793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135829793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135829793">(Oct 15 2018 at 13:17)</a>:</h4>
<p>Pun not intended.</p>



<a name="135829809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135829809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135829809">(Oct 15 2018 at 13:17)</a>:</h4>
<p>:)</p>



<a name="135830319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135830319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135830319">(Oct 15 2018 at 13:24)</a>:</h4>
<p><span class="user-mention" data-user-id="116107">@davidtwco</span> are you fishing around for a task?</p>



<a name="135830381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135830381" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135830381">(Oct 15 2018 at 13:24)</a>:</h4>
<p>I've not got anything else in progress at the moment, so yeah.</p>



<a name="135831025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135831025" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135831025">(Oct 15 2018 at 13:32)</a>:</h4>
<p>ok, let me see if I can leave some tips for constants; I've got a few other things to tend to this week so it'd be nice to be not "on the hook" for that PR</p>



<a name="135842568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135842568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135842568">(Oct 15 2018 at 16:29)</a>:</h4>
<p><span class="user-mention" data-user-id="116107">@davidtwco</span> ok, <a href="https://github.com/rust-lang/rust/issues/54571#issuecomment-429922740" target="_blank" title="https://github.com/rust-lang/rust/issues/54571#issuecomment-429922740">I left a comment here</a></p>



<a name="135842572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135842572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135842572">(Oct 15 2018 at 16:30)</a>:</h4>
<p>I <em>think</em> this will be fairly easy</p>



<a name="135842622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135842622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135842622">(Oct 15 2018 at 16:30)</a>:</h4>
<p>I'm happy if you want to take a stab at it, I don't expect to get to it today or at least not for many hours</p>



<a name="135842630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135842630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135842630">(Oct 15 2018 at 16:30)</a>:</h4>
<p>but if you'd rather not — it's pretty heavily based on my PR — no problem either</p>



<a name="135842741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135842741" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135842741">(Oct 15 2018 at 16:32)</a>:</h4>
<p>I'll take a look tonight.</p>



<a name="135842743"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135842743" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135842743">(Oct 15 2018 at 16:32)</a>:</h4>
<p>Thanks.</p>



<a name="135842752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135842752" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135842752">(Oct 15 2018 at 16:32)</a>:</h4>
<p>ok, if I do do any hacking, I'll leave some comments, but I don't expect to</p>



<a name="135900738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135900738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135900738">(Oct 16 2018 at 13:45)</a>:</h4>
<p><span class="user-mention" data-user-id="116107">@davidtwco</span> did you get a chance to take a look at this?</p>



<a name="135900832"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135900832" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135900832">(Oct 16 2018 at 13:47)</a>:</h4>
<p>I didn't.</p>



<a name="135900841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135900841" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135900841">(Oct 16 2018 at 13:47)</a>:</h4>
<p>Was busier than expected last night.</p>



<a name="135902901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135902901" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135902901">(Oct 16 2018 at 14:20)</a>:</h4>
<p>ok, I may poke at it this morning, unclear how this day is going to shake it still :)</p>



<a name="135902919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135902919" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135902919">(Oct 16 2018 at 14:20)</a>:</h4>
<p>Cool, I'll not get a chance to look for a while yet.</p>



<a name="135928754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135928754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135928754">(Oct 16 2018 at 20:52)</a>:</h4>
<p>ok <span class="user-mention" data-user-id="116107">@davidtwco</span> I didn't do anything here yet :)</p>



<a name="135928768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135928768" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135928768">(Oct 16 2018 at 20:53)</a>:</h4>
<p>I was investigating <a href="https://github.com/rust-lang/rust/issues/54940" target="_blank" title="https://github.com/rust-lang/rust/issues/54940">https://github.com/rust-lang/rust/issues/54940</a>; I tracked down the cause of that, but not sure of the best strategy to fix yet. Could be a royal pain.</p>



<a name="135972782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135972782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135972782">(Oct 17 2018 at 13:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116107">@davidtwco</span> did you do anything here, or were you fully occupied with compare-mode etc?</p>



<a name="135972786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135972786" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135972786">(Oct 17 2018 at 13:31)</a>:</h4>
<p>(if not, I might poke at it now)</p>



<a name="135972799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135972799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135972799">(Oct 17 2018 at 13:31)</a>:</h4>
<p>I only did the compare-mode stuff yesterday.</p>



<a name="135981770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135981770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135981770">(Oct 17 2018 at 16:00)</a>:</h4>
<p>ok, I implemented this, fixing one last case</p>



<a name="135984141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135984141" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135984141">(Oct 17 2018 at 16:35)</a>:</h4>
<p>ok, fixing that "one last case" has been a bit trickier than I thought :P</p>



<a name="135984150"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135984150" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135984150">(Oct 17 2018 at 16:35)</a>:</h4>
<p>/me hopes they have it now</p>



<a name="135984461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135984461" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135984461">(Oct 17 2018 at 16:39)</a>:</h4>
<p>it works <span class="emoji emoji-1f630" title="cold sweat">:cold_sweat:</span></p>



<a name="135993590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135993590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135993590">(Oct 17 2018 at 19:01)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> I left <a href="https://github.com/rust-lang/rust/pull/55152" target="_blank" title="https://github.com/rust-lang/rust/pull/55152">https://github.com/rust-lang/rust/pull/55152</a> for your review fyi</p>



<a name="135999552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/135999552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#135999552">(Oct 17 2018 at 20:44)</a>:</h4>
<p>jfyi <span class="user-mention" data-user-id="116083">@pnkfelix</span> I tagged a few more commits onto <a href="https://github.com/rust-lang/rust/issues/55152" target="_blank" title="https://github.com/rust-lang/rust/issues/55152">#55152</a>, fixing the cast issue as well..</p>



<a name="136000142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/136000142" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#136000142">(Oct 17 2018 at 20:54)</a>:</h4>
<p>although I wonder if I should break those into a separate PR</p>



<a name="136000144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/136000144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#136000144">(Oct 17 2018 at 20:54)</a>:</h4>
<p>they seem to cause some diagnostic fallout</p>



<a name="136059423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/136059423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#136059423">(Oct 18 2018 at 17:44)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> ok I've resolved I think almost all the fallout but one case. I'm debating how hard to work on that last case.</p>



<a name="136059427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/136059427" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#136059427">(Oct 18 2018 at 17:44)</a>:</h4>
<p>we basically wind up with duplicate errors sometimes</p>



<a name="136059436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/136059436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#136059436">(Oct 18 2018 at 17:44)</a>:</h4>
<p>I think maybe it's worth trying to fix</p>



<a name="136059598"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/136059598" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#136059598">(Oct 18 2018 at 17:47)</a>:</h4>
<p>at least I'll try one simple thing :)</p>



<a name="136061842"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2354571%20type%20annot%20constants/near/136061842" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2354571.20type.20annot.20constants.html#136061842">(Oct 18 2018 at 18:21)</a>:</h4>
<p>...ok, it worked</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>