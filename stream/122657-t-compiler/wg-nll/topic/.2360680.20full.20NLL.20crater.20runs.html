<html>
<head><meta charset="utf-8"><title>#60680 full NLL crater runs · t-compiler/wg-nll · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/index.html">t-compiler/wg-nll</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html">#60680 full NLL crater runs</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="165844247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165844247" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165844247">(May 16 2019 at 20:03)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> let me know if I can help with <a href="https://github.com/rust-lang/rust/issues/60680" target="_blank" title="https://github.com/rust-lang/rust/issues/60680">#60680</a>, for the runs themselves and/or triaging</p>



<a name="165846072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165846072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165846072">(May 16 2019 at 20:24)</a>:</h4>
<p>(I can take the issue if you'd rather focus on something else)</p>



<a name="165848624"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165848624" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165848624">(May 16 2019 at 20:58)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> that would be great; crater is a bit borked atm but if you can get the PR up I can take care of scheduling crater when it works</p>



<a name="165848650"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165848650" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165848650">(May 16 2019 at 20:58)</a>:</h4>
<p>yeah I know it's waiting on the cargo update</p>



<a name="165848683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165848683" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165848683">(May 16 2019 at 20:59)</a>:</h4>
<p>it's unlikely I'll be able to do the PR before the other one merges though, I can try tomorrow</p>



<a name="165848904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165848904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165848904">(May 16 2019 at 21:02)</a>:</h4>
<p>IIUC it's <a href="https://github.com/rust-lang/rust/issues/60874" target="_blank" title="https://github.com/rust-lang/rust/issues/60874">#60874</a>, which is being tested now</p>



<a name="165848913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165848913" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165848913">(May 16 2019 at 21:02)</a>:</h4>
<p>Tomorrow would be awesome</p>



<a name="165849123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165849123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165849123">(May 16 2019 at 21:05)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> do you know if the two ways mentioned in the issue (denying the warning, changing the borrowck default) needed to be done in different PRs/crater runs to gather data for each ? or both in one run ?</p>



<a name="165849141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165849141" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165849141">(May 16 2019 at 21:05)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span>  I think you want them in different PRs</p>



<a name="165849182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165849182" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165849182">(May 16 2019 at 21:06)</a>:</h4>
<p>or they would overlap I think</p>



<a name="165849228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165849228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165849228">(May 16 2019 at 21:06)</a>:</h4>
<p>probable</p>



<a name="165849232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165849232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165849232">(May 16 2019 at 21:07)</a>:</h4>
<p>alright, will do</p>



<a name="165885137"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165885137" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165885137">(May 17 2019 at 09:26)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> re <a href="https://github.com/rust-lang/rust/issues/60680#issuecomment-493385312" target="_blank" title="https://github.com/rust-lang/rust/issues/60680#issuecomment-493385312">your comment</a> yeah, I'll open the 2 PRs at lunch break, IIRC one of the ways is just changing the default borrowck, and the other always returning false for each borrowckmode when asked "do we also want to use AST" (right ?)</p>



<a name="165885162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165885162" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165885162">(May 17 2019 at 09:27)</a>:</h4>
<p>hmm</p>



<a name="165885182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165885182" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165885182">(May 17 2019 at 09:27)</a>:</h4>
<p>I agree that changing the borrowck default is how I'd go about doing the "change default borrowck mode to NLL"</p>



<a name="165885233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165885233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165885233">(May 17 2019 at 09:28)</a>:</h4>
<p>I hadn't considered the approach you describe for the other goal (of making the future-compat warnings  under migrate mode denied instead of warned)</p>



<a name="165885235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165885235" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165885235">(May 17 2019 at 09:28)</a>:</h4>
<p>if it works, great. <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="165885255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165885255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165885255">(May 17 2019 at 09:29)</a>:</h4>
<p>that may be too optimistic/stupid of me</p>



<a name="165885313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165885313" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165885313">(May 17 2019 at 09:30)</a>:</h4>
<p>because in a sense it could be seen as strictly 2 different ways of doing the same thing (eg: not calling AST ends up never downgrading an error to a warning, and therefore equivalent to having the mode be full NLL even though we are in migrate mode still), thus maybe wrong</p>



<a name="165885323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165885323" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165885323">(May 17 2019 at 09:30)</a>:</h4>
<p>I'll look more through the code where we downgrade the error to a warning</p>



<a name="165885526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165885526" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165885526">(May 17 2019 at 09:35)</a>:</h4>
<p>oh, yeah: Maybe just comment out the downgrade path!</p>



<a name="165885538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165885538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165885538">(May 17 2019 at 09:35)</a>:</h4>
<p>implementation-via-code-deletion!</p>



<a name="165890896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165890896" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165890896">(May 17 2019 at 11:13)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> I opened the simpler 1st PR, and wanted to validate my changes for the 2nd one: do you have an example where I could see the difference made by having errors from denying the lint in migrate mode, with having errors from turning on NLLs ?</p>



<a name="165890957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165890957" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165890957">(May 17 2019 at 11:14)</a>:</h4>
<p>by "turning on NLLs", you mean going from migrate mode to full NLL?</p>



<a name="165890961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165890961" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165890961">(May 17 2019 at 11:14)</a>:</h4>
<p>yeah</p>



<a name="165891008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891008" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891008">(May 17 2019 at 11:15)</a>:</h4>
<p>well there are cases where the full NLL's improved region analysis causes differences</p>



<a name="165891013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891013" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891013">(May 17 2019 at 11:15)</a>:</h4>
<p>didn't we change compare-mode=nll to do this?</p>



<a name="165891072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891072">(May 17 2019 at 11:16)</a>:</h4>
<p>see for example <a href="https://github.com/rust-lang/rust/issues/59299" target="_blank" title="https://github.com/rust-lang/rust/issues/59299">#59299</a></p>



<a name="165891088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891088">(May 17 2019 at 11:16)</a>:</h4>
<p>oh alright yeah that must be it</p>



<a name="165891120"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891120" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891120">(May 17 2019 at 11:17)</a>:</h4>
<p>see also PR <a href="https://github.com/rust-lang/rust/issues/60171" target="_blank" title="https://github.com/rust-lang/rust/issues/60171">#60171</a></p>



<a name="165891176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891176" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891176">(May 17 2019 at 11:18)</a>:</h4>
<p>which I think I'm now going to r+</p>



<a name="165891219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891219" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891219">(May 17 2019 at 11:19)</a>:</h4>
<p>would the regionck errors be AST borrowck errors ?</p>



<a name="165891225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891225">(May 17 2019 at 11:20)</a>:</h4>
<p>and thus, still present in migrate mode</p>



<a name="165891274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891274">(May 17 2019 at 11:20)</a>:</h4>
<p>Regionck errors are supposed in a different way.</p>



<a name="165891283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891283" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891283">(May 17 2019 at 11:20)</a>:</h4>
<p>("suppressed"? )</p>



<a name="165891379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891379" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891379">(May 17 2019 at 11:22)</a>:</h4>
<p>so just removing <a href="https://github.com/rust-lang/rust/blob/767f59462663fbc55a69d39fc5e1f7f83b6fb37d/src/librustc_mir/borrow_check/mod.rs#L436-L448" target="_blank" title="https://github.com/rust-lang/rust/blob/767f59462663fbc55a69d39fc5e1f7f83b6fb37d/src/librustc_mir/borrow_check/mod.rs#L436-L448">this</a>, called 20 lines earlier, would have no impact on regionck errors, while borrowck mode would have ?</p>



<a name="165891383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891383">(May 17 2019 at 11:23)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> yes</p>



<a name="165891405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891405" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891405">(May 17 2019 at 11:23)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> I think that's right. And I think this is one expected cause of deviation between the two PR's we're looking for.</p>



<a name="165891464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891464" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891464">(May 17 2019 at 11:24)</a>:</h4>
<p>Correct, regionck errors use the SuppressRegionErrors type (I'm on mobile so you'll have to search for it yourself).</p>



<a name="165891477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891477" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891477">(May 17 2019 at 11:24)</a>:</h4>
<p>alright thank you both :)</p>



<a name="165891500"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891500" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891500">(May 17 2019 at 11:25)</a>:</h4>
<p>I'l look for one of the regionck issues test, just to check it does what we want and then open the PR</p>



<a name="165891593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891593">(May 17 2019 at 11:27)</a>:</h4>
<p>You can look through the nll compare mode pr to see some examples.</p>



<a name="165891678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165891678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165891678">(May 17 2019 at 11:28)</a>:</h4>
<p>(for those following at home <a href="https://github.com/rust-lang/rust/blob/767f59462663fbc55a69d39fc5e1f7f83b6fb37d/src/librustc/infer/mod.rs#L93-L100" target="_blank" title="https://github.com/rust-lang/rust/blob/767f59462663fbc55a69d39fc5e1f7f83b6fb37d/src/librustc/infer/mod.rs#L93-L100">this</a> is where regionck errors are suppressed according to borrowck mode)</p>



<a name="165895976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165895976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165895976">(May 17 2019 at 12:28)</a>:</h4>
<p>alright I opened <a href="https://github.com/rust-lang/rust/issues/60911" target="_blank" title="https://github.com/rust-lang/rust/issues/60911">#60911</a> and <a href="https://github.com/rust-lang/rust/issues/60914" target="_blank" title="https://github.com/rust-lang/rust/issues/60914">#60914</a> to be double checked</p>



<a name="165896105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165896105" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165896105">(May 17 2019 at 12:30)</a>:</h4>
<p>also I do not have try nor crater permissions to actually launch the runs</p>



<a name="165896153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165896153" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165896153">(May 17 2019 at 12:31)</a>:</h4>
<p>finally: I remember last summer we ran crater with cap-lints=warn and wondered whether we needed this still (I think so but I'm not sure)</p>



<a name="165927906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/165927906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#165927906">(May 17 2019 at 19:06)</a>:</h4>
<p><span class="user-mention" data-user-id="116118">@Matthew Jasper</span> thanks for taking care of the try/crater commands (I've noticed craterbot can now detect the try build commit so we don't have to input them anymore)</p>



<a name="166014557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166014557" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166014557">(May 19 2019 at 09:10)</a>:</h4>
<p>ouch: <a href="https://github.com/rust-lang/rust/pull/60914#issuecomment-493739422" target="_blank" title="https://github.com/rust-lang/rust/pull/60914#issuecomment-493739422">https://github.com/rust-lang/rust/pull/60914#issuecomment-493739422</a></p>



<a name="166016290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166016290" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166016290">(May 19 2019 at 10:04)</a>:</h4>
<p>The good news is that many of these are not on <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a></p>



<a name="166016444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166016444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166016444">(May 19 2019 at 10:09)</a>:</h4>
<p>Yes, and a lot are due to a few key crates that may need new patch versions or backported patch versions.</p>



<a name="166017165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166017165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166017165">(May 19 2019 at 10:30)</a>:</h4>
<p>we're seeing a lot of the same ones <a href="https://github.com/nikomatsakis/nll-crater-run-results" target="_blank" title="https://github.com/nikomatsakis/nll-crater-run-results">as last year</a></p>



<a name="166017327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166017327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166017327">(May 19 2019 at 10:34)</a>:</h4>
<p>I'll triage them similarly to last time — but yeah it looks very similar, a few key crates count heavily, eg servo's <code>url</code> has a lot of dependent crates, creating hundreds of downstream regressions, for all the versions before the issue was fixed. <code>nalgrebra</code> also does appear a lot.</p>



<a name="166017425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166017425" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166017425">(May 19 2019 at 10:37)</a>:</h4>
<p>Does it really count as a regression if running <code>cargo update</code> fixes the problem? <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>



<a name="166017474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166017474" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166017474">(May 19 2019 at 10:38)</a>:</h4>
<p>:)</p>



<a name="166019910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166019910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166019910">(May 19 2019 at 11:47)</a>:</h4>
<p>I get the point, but it does affect people negatively if <code>cargo update</code> needs to cross a semver boundary and then your code fails for other reasons</p>



<a name="166019915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166019915" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166019915">(May 19 2019 at 11:47)</a>:</h4>
<p>Which is why the "backported patch" can be so important</p>



<a name="166022238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166022238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166022238">(May 19 2019 at 12:51)</a>:</h4>
<p>I think there's around 130 root regressions</p>



<a name="166022311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166022311" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166022311">(May 19 2019 at 12:52)</a>:</h4>
<p>with the vast majority being the same crates and errors as before of course</p>



<a name="166023684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166023684" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166023684">(May 19 2019 at 13:31)</a>:</h4>
<p>that is, <a href="https://gist.github.com/lqd/aca30ac14e7f8c6b429a87af25c465c8#file-report-deps-md" target="_blank" title="https://gist.github.com/lqd/aca30ac14e7f8c6b429a87af25c465c8#file-report-deps-md">these 87 crates</a> cause 1859 crates to fail downstream, while <a href="https://gist.github.com/lqd/aca30ac14e7f8c6b429a87af25c465c8#file-report-crates-md" target="_blank" title="https://gist.github.com/lqd/aca30ac14e7f8c6b429a87af25c465c8#file-report-crates-md">these 54 crates</a> fail to build themselves (there is some overlap between these 2 categories)</p>



<a name="166023945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166023945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166023945">(May 19 2019 at 13:39)</a>:</h4>
<p>All of those crates that would probably be fixed by updating URL...</p>



<a name="166024015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166024015" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166024015">(May 19 2019 at 13:41)</a>:</h4>
<p>yeah url being so widely used, accounts for 900-1000 errors by itself</p>



<a name="166024125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166024125" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166024125">(May 19 2019 at 13:44)</a>:</h4>
<p>(and they're in the same major version so cargo updating should work indeed)</p>



<a name="166253340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166253340" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166253340">(May 22 2019 at 10:01)</a>:</h4>
<p>ah the other run <a href="https://github.com/rust-lang/rust/issues/60911" target="_blank" title="https://github.com/rust-lang/rust/issues/60911">#60911</a> is also done. From a quick glance it looks like a hundred more root crates in errors or so than <a href="https://github.com/rust-lang/rust/issues/60914" target="_blank" title="https://github.com/rust-lang/rust/issues/60914">#60914</a>. I'll triage soon and also point out the crates differing between the 2 runs</p>



<a name="166254014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166254014" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166254014">(May 22 2019 at 10:11)</a>:</h4>
<p>I’m not sure what kind of data the lang team is looking for, though (hopefully the count/crate/deps list matches at least partially)</p>



<a name="166254428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166254428" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166254428">(May 22 2019 at 10:17)</a>:</h4>
<p>Was one of the goals to attempt to address fallout by submitting patches to relevant crates?</p>



<a name="166254437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166254437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166254437">(May 22 2019 at 10:17)</a>:</h4>
<p>I feel like I should know the "standard procedure" here when it comes to fallout from crater runs, but I do not.</p>



<a name="166254496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166254496" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166254496">(May 22 2019 at 10:18)</a>:</h4>
<p>(part of the problem is that crater in meant, in part, to give an estimate of fallout across the ecosystem as a whole beyond craters. But it is also meant to just let us know what crates we might fix.)</p>



<a name="166254558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166254558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166254558">(May 22 2019 at 10:19)</a>:</h4>
<blockquote>
<p>Was one of the goals to attempt to address fallout by submitting patches to relevant crates?</p>
</blockquote>
<p>possibly, yeah. <a href="https://github.com/rust-lang/rust/issues/60680" target="_blank" title="https://github.com/rust-lang/rust/issues/60680">#60680</a> mostly mentions "just to get a rough idea of how many affected crates there will be"</p>



<a name="166254651"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166254651" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166254651">(May 22 2019 at 10:20)</a>:</h4>
<p>a lot of the most depended on crates have been since fixed it seems, but the ecosystem sometimes depends on older versions</p>



<a name="166254693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166254693" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166254693">(May 22 2019 at 10:21)</a>:</h4>
<blockquote>
<p>[...] but the ecosystem sometimes depends on older versions</p>
</blockquote>
<p>yeah. I've seen references to people saying that one approach to that is to submit patches to old versions</p>



<a name="166254703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166254703" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166254703">(May 22 2019 at 10:21)</a>:</h4>
<p>e.g. when there is a 2.0 and a 3.0 release, and 2.0 breaks, send in a 2.1 patch</p>



<a name="166254766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166254766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166254766">(May 22 2019 at 10:22)</a>:</h4>
<p>of course doing that still requires that the ecosystem dependencies be written in a way that allows for minor version upgrades.</p>



<a name="166255317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166255317" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166255317">(May 22 2019 at 10:31)</a>:</h4>
<p>(here is where I make a plug for the min lint levels... =P)</p>



<a name="166255322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166255322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166255322">(May 22 2019 at 10:31)</a>:</h4>
<p>but yeah, I think we wanted a rough idea</p>



<a name="166255378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166255378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166255378">(May 22 2019 at 10:32)</a>:</h4>
<p>I'd suggest creating issues or something... PRs seems too much work for so many crates?</p>



<a name="166259807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166259807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166259807">(May 22 2019 at 11:44)</a>:</h4>
<p>The common crates on <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a> should be fixed though.</p>



<a name="166263673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166263673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166263673">(May 22 2019 at 12:48)</a>:</h4>
<p>quick triage: <a href="https://gist.github.com/lqd/36f62e379ae0d39c3f96c449aaef0042#file-report-deps-md" target="_blank" title="https://gist.github.com/lqd/36f62e379ae0d39c3f96c449aaef0042#file-report-deps-md">99 crates</a> causing 1892 failures downstream, <a href="https://gist.github.com/lqd/36f62e379ae0d39c3f96c449aaef0042#file-report-crates-md" target="_blank" title="https://gist.github.com/lqd/36f62e379ae0d39c3f96c449aaef0042#file-report-crates-md">140 crates</a> themselves failing to build. 220 crates in total (all the 131 in <a href="https://github.com/rust-lang/rust/issues/60914" target="_blank" title="https://github.com/rust-lang/rust/issues/60914">#60914</a> + <a href="https://gist.github.com/lqd/74378ebba533a228f622adc894cb548f" target="_blank" title="https://gist.github.com/lqd/74378ebba533a228f622adc894cb548f">these 89 new ones</a>)</p>



<a name="166282909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166282909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166282909">(May 22 2019 at 16:06)</a>:</h4>
<p>I guess we can close the 2 PRs ?</p>



<a name="166335031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166335031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166335031">(May 23 2019 at 06:01)</a>:</h4>
<p>Yeah I think we can close them; the results aren't going anywhere ^^</p>



<a name="166335077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166335077" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166335077">(May 23 2019 at 06:02)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> if you didn't already, can you add the results of triage to GH?</p>



<a name="166336725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166336725" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166336725">(May 23 2019 at 06:40)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> I added them to each PR already, to show they were "not as bad as the many <span aria-label="eyes" class="emoji emoji-1f440" role="img" title="eyes">:eyes:</span> emoji made them look" :) I'll copy them over to the initial issue and close the PRs — <a href="https://github.com/rust-lang/rust/issues/60680#issuecomment-495089654" target="_blank" title="https://github.com/rust-lang/rust/issues/60680#issuecomment-495089654">done</a></p>



<a name="166337148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/%2360680%20full%20NLL%20crater%20runs/near/166337148" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/.2360680.20full.20NLL.20crater.20runs.html#166337148">(May 23 2019 at 06:50)</a>:</h4>
<p><span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>