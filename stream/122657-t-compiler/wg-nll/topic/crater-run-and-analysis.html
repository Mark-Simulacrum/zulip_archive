<html>
<head><meta charset="utf-8"><title>crater-run-and-analysis · t-compiler/wg-nll · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/index.html">t-compiler/wg-nll</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html">crater-run-and-analysis</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="128477202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128477202" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128477202">(Jun 22 2018 at 15:06)</a>:</h4>
<p>I was thinking that we ought to do a crater run with NLL enabled and then try to divvy up the work of analyzing the results -- I thought that e.g. folks like <span class="user-mention" data-user-id="116155">@Jake Goulding</span> might be interested in looking at places where NLL reports new errors and trying to decide if the code was broken to start or not.</p>



<a name="128477229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128477229" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128477229">(Jun 22 2018 at 15:07)</a>:</h4>
<p>I am going to be away starting in about 22 minutes for the weekend, but maybe we can start in on this next week (or if people want to make steps in that direction independently, wfm).</p>
<p>I imagine we would do the following:</p>
<ul>
<li>Create a branch where NLL is on by default</li>
<li>Open a <code>[WIP]</code> PR</li>
<li>Request a crater run</li>
</ul>



<a name="128477239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128477239" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128477239">(Jun 22 2018 at 15:07)</a>:</h4>
<p>my goal here is to try and unearth bugs earlier rather than later</p>



<a name="128477245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128477245" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128477245">(Jun 22 2018 at 15:07)</a>:</h4>
<p>another similar goal would be trying to get rustc to bootstrap with NLL enabled and seeing what breaks</p>



<a name="128477252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128477252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128477252">(Jun 22 2018 at 15:07)</a>:</h4>
<p>this could perhaps be done by adding <code>#![feature(nll)]</code> to every crate one by one</p>



<a name="128478652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128478652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128478652">(Jun 22 2018 at 15:40)</a>:</h4>
<p>oh but for checking if bootstrapping works, only a x.py check would be enough right ? should go pretty fast</p>



<a name="128478781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128478781" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128478781">(Jun 22 2018 at 15:43)</a>:</h4>
<p>Yes, mostly -- there might be some parts (e.g., stdsimd/coresimd) that won't be checked via that approach, though. It's likely though that most issues can be resolved via x.py check.</p>



<a name="128478877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128478877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128478877">(Jun 22 2018 at 15:45)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> great, thank you</p>



<a name="128478933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128478933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128478933">(Jun 22 2018 at 15:46)</a>:</h4>
<p>we might not want to commit these into master since presumably they'd slow down bootstrap (quite yet) but it'd be good to do a survey</p>



<a name="128480238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128480238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128480238">(Jun 22 2018 at 16:13)</a>:</h4>
<p>hehe MIR-borrowck borrowcking AST-borrowck AKA the passing of the torch</p>



<a name="128667097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128667097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128667097">(Jun 26 2018 at 16:58)</a>:</h4>
<blockquote>
<p>folks like <span class="user-mention" data-user-id="116155">@Jake Goulding</span> might be interested in looking at places where NLL reports new errors</p>
</blockquote>
<p>Sure, but don't let me get in y'all critical path ;-)</p>



<a name="128669185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128669185" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128669185">(Jun 26 2018 at 17:44)</a>:</h4>
<p>well the point is</p>



<a name="128669189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128669189" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128669189">(Jun 26 2018 at 17:44)</a>:</h4>
<p>this is <strong>not</strong> on the criticial path</p>



<a name="128669190"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128669190" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128669190">(Jun 26 2018 at 17:44)</a>:</h4>
<p>and I'm looking to get a bit ahead of the game</p>



<a name="128669196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128669196" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128669196">(Jun 26 2018 at 17:44)</a>:</h4>
<p>and start to "parallelize" the effort of finding problems</p>



<a name="128669457"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128669457" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128669457">(Jun 26 2018 at 17:50)</a>:</h4>
<p>then it might be a good fit for me</p>



<a name="128684417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128684417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128684417">(Jun 26 2018 at 22:34)</a>:</h4>
<p>OK, I opened an issue about doing a crater run here: <a href="https://github.com/rust-lang/rust/issues/51827" target="_blank" title="https://github.com/rust-lang/rust/issues/51827">https://github.com/rust-lang/rust/issues/51827</a></p>
<p>I'll add some mentoring instructions for how to make the <code>-Zborrowck=mir</code> default change.</p>
<p>Now to find someone to run it. =)</p>



<a name="128685796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128685796" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128685796">(Jun 26 2018 at 23:07)</a>:</h4>
<p>try build and we should be able to schedule quickly -- we don't even need to run tests I believe so should be a 3-4 day operation :)</p>



<a name="128685861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128685861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128685861">(Jun 26 2018 at 23:08)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> Also, I think it might be better to do <code>#![cfg_attr(stage1, feature(nll))]</code> for now</p>



<a name="128685875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128685875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128685875">(Jun 26 2018 at 23:09)</a>:</h4>
<p>That we can make sure the compiler doesn't regress and land things incrementally</p>



<a name="128685937"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128685937" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128685937">(Jun 26 2018 at 23:10)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> for bootstrap you mean ? rather than <code>RUSTFLAGS_STAGE_NOT_0</code>?</p>



<a name="128685945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128685945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128685945">(Jun 26 2018 at 23:10)</a>:</h4>
<p>Yeah</p>



<a name="128685957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128685957" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128685957">(Jun 26 2018 at 23:11)</a>:</h4>
<p>/me hits <code>ctrl</code> and then <code>C</code></p>



<a name="128685963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128685963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128685963">(Jun 26 2018 at 23:11)</a>:</h4>
<p>alright, thank you :)</p>



<a name="128685964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128685964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128685964">(Jun 26 2018 at 23:11)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> Well, if it works right away with RUSTFLAGS_STAGE_NOT_0, then great, but otherwise I would do this incrementally</p>



<a name="128686019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128686019" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128686019">(Jun 26 2018 at 23:12)</a>:</h4>
<p>absolutely</p>



<a name="128687951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128687951" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128687951">(Jun 27 2018 at 00:02)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> I was reluctant to add that if it will regress bors cycle time</p>



<a name="128687954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128687954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128687954">(Jun 27 2018 at 00:02)</a>:</h4>
<p>we should measure</p>



<a name="128687960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128687960" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128687960">(Jun 27 2018 at 00:02)</a>:</h4>
<p>but I like the idea of "locking in" crate by crate</p>



<a name="128691361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128691361" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128691361">(Jun 27 2018 at 01:36)</a>:</h4>
<p>Yeah, but even for a PR that "gets us ready" it'll be nice to work through things</p>



<a name="128691363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128691363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128691363">(Jun 27 2018 at 01:36)</a>:</h4>
<p>Plus NLL is looking faster by the day -- so it might not actually regress us all that much (i.e., be within margin of error anyway)</p>



<a name="128728426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128728426" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128728426">(Jun 27 2018 at 17:43)</a>:</h4>
<p>quick summary of background bootstrapping: 10-11 crates refuse to build, because of 1) a couple of known ICEs (incl the one that possibly stops futures from compiling), 2) I think that the "unused mut" lint is buggy in 1 or 2 usage patterns (eg w/ closures), 3) a simple but confusing (to me) piece of code which might be "this should have been a warning before and is now warned by MIR borrowck" 4) some correct new "unused mut" denied warnings 5) I'm still not done investigating, esp the errors (in 2 crates) actually about lifetimes and borrowing</p>



<a name="128728479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128728479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128728479">(Jun 27 2018 at 17:44)</a>:</h4>
<p>nice!</p>



<a name="128728509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128728509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128728509">(Jun 27 2018 at 17:45)</a>:</h4>
<p>(3) sounds somewhat concerning, is that warning wording correct? I can't recall warnings from borrowck...</p>



<a name="128728527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128728527" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128728527">(Jun 27 2018 at 17:45)</a>:</h4>
<p>WIP summary which I'll eventually turn into something more usable is <a href="https://gist.github.com/lqd/e962785da3090718e0a64666cf237a27" target="_blank" title="https://gist.github.com/lqd/e962785da3090718e0a64666cf237a27">here</a></p>



<a name="128728528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128728528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128728528">(Jun 27 2018 at 17:45)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> let me get you the repro</p>



<a name="128728685"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128728685" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128728685">(Jun 27 2018 at 17:48)</a>:</h4>
<p><a href="https://play.rust-lang.org/?gist=bad0f50fef757aa9ba1499254b104fa2&amp;version=nightly&amp;mode=debug" target="_blank" title="https://play.rust-lang.org/?gist=bad0f50fef757aa9ba1499254b104fa2&amp;version=nightly&amp;mode=debug">https://play.rust-lang.org/?gist=bad0f50fef757aa9ba1499254b104fa2&amp;version=nightly&amp;mode=debug</a> -&gt; this gives an unused mut warning under NLL -- and the two things I noted were: 1) NLL vs AST, and 2) move/non-move closure</p>



<a name="128728788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128728788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128728788">(Jun 27 2018 at 17:50)</a>:</h4>
<p>ie, with a move closure either AST or MIR is right that the mut is unused</p>



<a name="128728789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128728789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128728789">(Jun 27 2018 at 17:50)</a>:</h4>
<p>yeah I think there are some other reported bugs about the "unused  mut" lint</p>



<a name="128728818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128728818" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128728818">(Jun 27 2018 at 17:51)</a>:</h4>
<p>I've seem some in closures where the mut is inferred, and others with I think mutable references (and sometimes closures are involved as well)</p>



<a name="128728916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128728916" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128728916">(Jun 27 2018 at 17:53)</a>:</h4>
<p>ah, unused mut, okay</p>



<a name="128729073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128729073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128729073">(Jun 27 2018 at 17:57)</a>:</h4>
<p>I've never thought about if an assigned-to variable is moved into a <code>move</code> closure</p>



<a name="128729380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128729380" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128729380">(Jun 27 2018 at 18:04)</a>:</h4>
<p>I think I'm going to have to do a more thorough re-read of the used-mut code — it was kind of tricky to do, iirc, and I think there's probably some ways to make it simpler</p>



<a name="128729384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128729384" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128729384">(Jun 27 2018 at 18:05)</a>:</h4>
<p>now that we have a first draft and some known flaws :)</p>



<a name="128729563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128729563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128729563">(Jun 27 2018 at 18:08)</a>:</h4>
<p>I’m not sure I reproduced the behavior of the rustc code accurately, and not just the warning; I’ve had real bugs that the unused mut warning noticed so it caught my eye but might be nothing</p>



<a name="128739437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128739437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128739437">(Jun 27 2018 at 21:26)</a>:</h4>
<p>would we want to document cases where unused muts warnings were missed before, similarly to how we track "fixed by MIR borrowck" cases ? I'm looking at <a href="https://github.com/rust-lang/rust/blob/master/src/librustc_resolve/resolve_imports.rs#L921" target="_blank" title="https://github.com/rust-lang/rust/blob/master/src/librustc_resolve/resolve_imports.rs#L921">this one</a> specifically, and if I needed to reproduce it (extracting the code naively does not reproduce the missing unused mut warning without NLL) ?</p>



<a name="128739810"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128739810" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128739810">(Jun 27 2018 at 21:33)</a>:</h4>
<p>if the warnings are legit -- that is, the mut really <strong>is</strong> unnecessary -- seems ok?</p>



<a name="128739868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128739868" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128739868">(Jun 27 2018 at 21:34)</a>:</h4>
<p>it is unnecessary yeah AFAICT</p>



<a name="128739948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128739948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128739948">(Jun 27 2018 at 21:36)</a>:</h4>
<p>ok, I'm not sure if we need to document it per se</p>



<a name="128740040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128740040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128740040">(Jun 27 2018 at 21:38)</a>:</h4>
<p>servo also builds with deny warnings, and they've been surprised about new warnings since it broke their build</p>



<a name="128740075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128740075" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128740075">(Jun 27 2018 at 21:39)</a>:</h4>
<p>but for something as big as NLL, this new warning seems relatively unimportant for sure</p>



<a name="128740131"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128740131" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128740131">(Jun 27 2018 at 21:40)</a>:</h4>
<p>We make essentially <em>zero</em> guarantees about deny warnings; we try to stem breakage but I don't see this as unexpected</p>



<a name="128740135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128740135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128740135">(Jun 27 2018 at 21:40)</a>:</h4>
<p>my opinion is that if you build with deny(warnings)...well :) then you want warnings to braek your build.</p>



<a name="128740139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128740139" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128740139">(Jun 27 2018 at 21:40)</a>:</h4>
<p>but we should offer nice ways to handle it in CI with lint capping</p>



<a name="128740145"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128740145" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128740145">(Jun 27 2018 at 21:40)</a>:</h4>
<p>in any case, we do aggressively fix and add lints...</p>



<a name="128740155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128740155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128740155">(Jun 27 2018 at 21:41)</a>:</h4>
<p>oh agreed, I was just checking :)</p>



<a name="128745686"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128745686" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128745686">(Jun 28 2018 at 00:01)</a>:</h4>
<p>(updated the WIP gist, there's only the 4-5 lifetime errors to check/repro left to do tomorrow — and writeup, issues, etc)</p>



<a name="128767628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128767628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128767628">(Jun 28 2018 at 11:40)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I'm having trouble reproducing the liballoc bootstrapping errors: extracting the 10-15 minimal types only yields warnings and not those errors. Specifically, <a href="https://github.com/rust-lang/rust/blob/master/src/liballoc/btree/map.rs#L150-L218" target="_blank" title="https://github.com/rust-lang/rust/blob/master/src/liballoc/btree/map.rs#L150-L218">this code</a> seems to cause <a href="https://gist.github.com/lqd/e962785da3090718e0a64666cf237a27#file-nll-bootstrap-L1-L38" target="_blank" title="https://gist.github.com/lqd/e962785da3090718e0a64666cf237a27#file-nll-bootstrap-L1-L38">these errors</a> apparently because of the interaction between the inner fn anonymous lifetime and its generic parameters. To clarify the error messages, since K &amp; V are also generic parameters in the outer fn, the errors point to the _inner_ fn's K &amp; V, clone_subtree</p>



<a name="128769529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128769529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128769529">(Jun 28 2018 at 12:30)</a>:</h4>
<p>hmm</p>



<a name="128769544"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128769544" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128769544">(Jun 28 2018 at 12:31)</a>:</h4>
<p>these errors are caused by adding <code>#![feature(nll)]</code> to liballoc?</p>



<a name="128769552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128769552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128769552">(Jun 28 2018 at 12:31)</a>:</h4>
<p>well, probably <code>#![cfg_attr(not(stage0), feature(nll))]</code>?</p>



<a name="128769553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128769553" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128769553">(Jun 28 2018 at 12:31)</a>:</h4>
<p>I can try to take a look</p>



<a name="128769556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128769556" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128769556">(Jun 28 2018 at 12:31)</a>:</h4>
<p>yes, lemme get you the cfg</p>



<a name="128769598"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128769598" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128769598">(Jun 28 2018 at 12:32)</a>:</h4>
<p><code>#![cfg_attr(stage1, feature(nll))]</code></p>



<a name="128769673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128769673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128769673">(Jun 28 2018 at 12:34)</a>:</h4>
<p>Oh, yeah, we'll want to change stage1 to not(stage0). Minor nit though :)</p>



<a name="128769768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128769768" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128769768">(Jun 28 2018 at 12:37)</a>:</h4>
<p>yeah when we enable it in the future indeed, as I was just looking for bootstrapping issues for now :)</p>



<a name="128782666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128782666" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128782666">(Jun 28 2018 at 17:09)</a>:</h4>
<p>I managed to minimize the bootstrap failure on <code>librustc_passes</code> though, it <a href="https://play.rust-lang.org/?gist=437ee47c710623d41f5c444f8a46b81f&amp;version=nightly&amp;mode=debug" target="_blank" title="https://play.rust-lang.org/?gist=437ee47c710623d41f5c444f8a46b81f&amp;version=nightly&amp;mode=debug">looks cute</a> but probably we're already tracking something like it ?</p>



<a name="128782678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128782678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128782678">(Jun 28 2018 at 17:09)</a>:</h4>
<p>well</p>



<a name="128782680"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128782680" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128782680">(Jun 28 2018 at 17:09)</a>:</h4>
<p>I do recall seing that</p>



<a name="128782684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128782684" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128782684">(Jun 28 2018 at 17:10)</a>:</h4>
<p>I think that it is correct for us to reject it</p>



<a name="128782724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128782724" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128782724">(Jun 28 2018 at 17:10)</a>:</h4>
<p>unless we choose to expand 2-phase borrows</p>



<a name="128782736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128782736" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128782736">(Jun 28 2018 at 17:10)</a>:</h4>
<p>I think I proposed it somewhere, motivated by a similar example</p>



<a name="128782756"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128782756" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128782756">(Jun 28 2018 at 17:10)</a>:</h4>
<p>there were similar examples with "self / nested calls" and others in our "fixed by NLL" category</p>



<a name="128782853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128782853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128782853">(Jun 28 2018 at 17:13)</a>:</h4>
<p>in any case this one is super easy to fix in rustc (like all the valid unused mut lint warnings)</p>



<a name="128815693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128815693" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128815693">(Jun 29 2018 at 07:29)</a>:</h4>
<p>interesting, the liballoc errors I mentioned earlier could actually be linked to temporary lifetimes and tail expressions cases mentioned on discord (it's not the same error message and involves anonymous lifetimes as well <span class="emoji emoji-1f914" title="thinking face">:thinking_face:</span>)</p>



<a name="128818944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128818944" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128818944">(Jun 29 2018 at 09:16)</a>:</h4>
<p>hmm :(</p>



<a name="128818945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128818945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128818945">(Jun 29 2018 at 09:16)</a>:</h4>
<p>we may have to see if we can sneak in some changes here</p>



<a name="128818947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128818947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128818947">(Jun 29 2018 at 09:16)</a>:</h4>
<p>I've not seriously thought about it</p>



<a name="128818969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128818969" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128818969">(Jun 29 2018 at 09:17)</a>:</h4>
<p>(I could be very wrong ofc :3)</p>



<a name="128819019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128819019" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128819019">(Jun 29 2018 at 09:18)</a>:</h4>
<p>well I do notice it coming up a lot more now</p>



<a name="128819021"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128819021" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128819021">(Jun 29 2018 at 09:18)</a>:</h4>
<p>presumably the AST borrowck was just buggy :/</p>



<a name="128819651"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128819651" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128819651">(Jun 29 2018 at 09:37)</a>:</h4>
<p>yeah :/</p>



<a name="128819772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128819772" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128819772">(Jun 29 2018 at 09:41)</a>:</h4>
<p>apart from these still a bit unclear, it seems all the other things were either known issues (some with fixes) or correct warnings, so still good news I think</p>



<a name="128820134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128820134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128820134">(Jun 29 2018 at 09:50)</a>:</h4>
<p>since some of those ICEs apparently don't appear on master anymore, I'll update and try again</p>



<a name="128820339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128820339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128820339">(Jun 29 2018 at 09:56)</a>:</h4>
<p>sounds good</p>



<a name="128833658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128833658" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128833658">(Jun 29 2018 at 15:18)</a>:</h4>
<p>update: with some of the previous ICEs removed, I just found other cases of both correct and incorrect mut warnings; also got a weird broken MIR ICE which I had missed before but was already known from previous NLL bootstrapping attempts.</p>



<a name="128833979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128833979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128833979">(Jun 29 2018 at 15:25)</a>:</h4>
<p>Are you filing (or going to file) issues on these things?</p>



<a name="128833991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128833991" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128833991">(Jun 29 2018 at 15:25)</a>:</h4>
<p>yeah</p>



<a name="128834004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128834004" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128834004">(Jun 29 2018 at 15:26)</a>:</h4>
<p>most of them are already filed (some multiple times) so I've been tagging a couple and adding minimized repros</p>



<a name="128834058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128834058" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128834058">(Jun 29 2018 at 15:26)</a>:</h4>
<p>wrt the liballoc errors you might have had a patch fixing them before <span class="user-mention" data-user-id="116009">@nikomatsakis</span> ? <a href="https://github.com/rust-lang/rust/issues/48224#issuecomment-365952037" target="_blank" title="https://github.com/rust-lang/rust/issues/48224#issuecomment-365952037">https://github.com/rust-lang/rust/issues/48224#issuecomment-365952037</a></p>



<a name="128834091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128834091" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128834091">(Jun 29 2018 at 15:27)</a>:</h4>
<p>I'll summarize all this and report now on the issue we created at the last meeting</p>



<a name="128838897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128838897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128838897">(Jun 29 2018 at 17:03)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> thank you so much for taking this on &lt;3 =)</p>



<a name="128838916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128838916" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128838916">(Jun 29 2018 at 17:04)</a>:</h4>
<p>:) no problem!</p>



<a name="128838965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128838965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128838965">(Jun 29 2018 at 17:04)</a>:</h4>
<p>I'm 99% done writing the "report", just trying to repro another unused mut warning, in case it's not one we already know</p>



<a name="128838974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128838974" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128838974">(Jun 29 2018 at 17:05)</a>:</h4>
<p>(I can publish right now and finish later if need be)</p>



<a name="128839276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128839276" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128839276">(Jun 29 2018 at 17:11)</a>:</h4>
<p>it's fine</p>



<a name="128839277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128839277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128839277">(Jun 29 2018 at 17:11)</a>:</h4>
<p>I did have some patches for some crates</p>



<a name="128840552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128840552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128840552">(Jun 29 2018 at 17:39)</a>:</h4>
<p>ok I'm finally done <a href="https://github.com/rust-lang/rust/issues/51823#issuecomment-401423108" target="_blank" title="https://github.com/rust-lang/rust/issues/51823#issuecomment-401423108">https://github.com/rust-lang/rust/issues/51823#issuecomment-401423108</a></p>



<a name="128841064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128841064" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128841064">(Jun 29 2018 at 17:50)</a>:</h4>
<p>seems like we should prioritize some of those problems (e.g., <a href="https://github.com/rust-lang/rust/issues/51351" target="_blank" title="https://github.com/rust-lang/rust/issues/51351">https://github.com/rust-lang/rust/issues/51351</a>)</p>



<a name="128841881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128841881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128841881">(Jun 29 2018 at 18:04)</a>:</h4>
<p>yeah it looks interesting</p>



<a name="128845112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845112" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845112">(Jun 29 2018 at 19:10)</a>:</h4>
<p>ok <span class="user-mention" data-user-id="116113">@lqd</span> I found my fixes for <a href="https://github.com/rust-lang/rust/issues/48224" target="_blank" title="https://github.com/rust-lang/rust/issues/48224">https://github.com/rust-lang/rust/issues/48224</a></p>



<a name="128845114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845114">(Jun 29 2018 at 19:10)</a>:</h4>
<p>I will open a PR</p>



<a name="128845246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845246" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845246">(Jun 29 2018 at 19:13)</a>:</h4>
<p>sweet :)</p>



<a name="128845271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845271" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845271">(Jun 29 2018 at 19:13)</a>:</h4>
<p>so the problem was in the borrowck and not liballoc ?</p>



<a name="128845464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845464" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845464">(Jun 29 2018 at 19:18)</a>:</h4>
<p>no</p>



<a name="128845505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845505" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845505">(Jun 29 2018 at 19:18)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/51914" target="_blank" title="https://github.com/rust-lang/rust/pull/51914">https://github.com/rust-lang/rust/pull/51914</a></p>



<a name="128845628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845628">(Jun 29 2018 at 19:20)</a>:</h4>
<p>I'm trying to find the issue where we were talking about expanding two-phase to cover that scenario you highlighted</p>



<a name="128845631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845631" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845631">(Jun 29 2018 at 19:20)</a>:</h4>
<p>oh great</p>



<a name="128845665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845665" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845665">(Jun 29 2018 at 19:21)</a>:</h4>
<p>I did try adding such lifetimes to liballoc but I missed adding them to marker::Immut</p>



<a name="128845744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845744">(Jun 29 2018 at 19:22)</a>:</h4>
<p>that code is doing some complex stuff :)</p>



<a name="128845821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845821" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845821">(Jun 29 2018 at 19:24)</a>:</h4>
<p>so <span class="user-mention" data-user-id="116122">@simulacrum</span>, <span class="user-mention" data-user-id="116113">@lqd</span>, <span class="user-mention" data-user-id="116155">@Jake Goulding</span> — just to be sure, nobody made any movement towards a crater run yet, right?</p>



<a name="128845828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845828" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845828">(Jun 29 2018 at 19:24)</a>:</h4>
<p>(:) even extracting it didn't repro the error so I gave up)</p>



<a name="128845831"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845831" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845831">(Jun 29 2018 at 19:24)</a>:</h4>
<p>I myself didn't no</p>



<a name="128845833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845833" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845833">(Jun 29 2018 at 19:24)</a>:</h4>
<p>also, <span class="user-mention" data-user-id="116113">@lqd</span> would you consider opening a PR adding <code>#![feature(nll)]</code> to the crates that worked to prevent further regressions?</p>



<a name="128845835"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845835" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845835">(Jun 29 2018 at 19:24)</a>:</h4>
<p>not sure if we should or not</p>



<a name="128845839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845839">(Jun 29 2018 at 19:24)</a>:</h4>
<p>but might be a good idea</p>



<a name="128845867"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845867" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845867">(Jun 29 2018 at 19:25)</a>:</h4>
<p>this would slow down the build a bit I guess</p>



<a name="128845918"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845918" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845918">(Jun 29 2018 at 19:26)</a>:</h4>
<p>that's the concern, yeah</p>



<a name="128845923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845923">(Jun 29 2018 at 19:26)</a>:</h4>
<p>not sure how much</p>



<a name="128845930"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845930" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845930">(Jun 29 2018 at 19:26)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> do you know what the original source was from which you reduced <a href="https://play.rust-lang.org/?gist=9b797f941b3aa419991e15fd5a2d07a0&amp;version=nightly&amp;mode=debug" target="_blank" title="https://play.rust-lang.org/?gist=9b797f941b3aa419991e15fd5a2d07a0&amp;version=nightly&amp;mode=debug">this example</a>?</p>



<a name="128845954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128845954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128845954">(Jun 29 2018 at 19:27)</a>:</h4>
<p>I think so yes, I'll look at my notes</p>



<a name="128846055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846055" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846055">(Jun 29 2018 at 19:29)</a>:</h4>
<div class="codehilite"><pre><span></span>- librustc_passes: 1 error
error[E0502]: cannot borrow `*self.tables` as immutable because it is also borrowed as mutable
   --&gt; librustc_passes/rvalue_promotion.rs:206:76
    |
206 |         euv::ExprUseVisitor::new(self, tcx, param_env, &amp;region_scope_tree, self.tables, None)
    |         -------------------------------------------------------------------^^^^^^^^^^^-------
    |         |                        |                                         |
    |         |                        |                                         immutable borrow occurs here
    |         |                        mutable borrow occurs here
| borrow later used here
</pre></div>


<p>from <a href="https://github.com/rust-lang/rust/blob/master/src/librustc_passes/rvalue_promotion.rs#L178-L215" target="_blank" title="https://github.com/rust-lang/rust/blob/master/src/librustc_passes/rvalue_promotion.rs#L178-L215">here</a></p>



<a name="128846122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846122" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846122">(Jun 29 2018 at 19:30)</a>:</h4>
<p>thanks</p>



<a name="128846124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846124" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846124">(Jun 29 2018 at 19:30)</a>:</h4>
<p>I filed <a href="https://github.com/rust-lang/rust/issues/51915" target="_blank" title="https://github.com/rust-lang/rust/issues/51915">https://github.com/rust-lang/rust/issues/51915</a></p>



<a name="128846142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846142" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846142">(Jun 29 2018 at 19:31)</a>:</h4>
<p>I have not done anything towards crater; I expected I'd just help read through results</p>



<a name="128846161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846161">(Jun 29 2018 at 19:31)</a>:</h4>
<p>that sounds right</p>



<a name="128846162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846162" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846162">(Jun 29 2018 at 19:31)</a>:</h4>
<p>I may try to make that branch then</p>



<a name="128846439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846439">(Jun 29 2018 at 19:37)</a>:</h4>
<p>Re: adding the outlives to <code>BTreeMap</code> — I wonder if <em>anyone</em> adds the outlives annotations by default, or if we all wait for the compiler error</p>



<a name="128846452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846452" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846452">(Jun 29 2018 at 19:37)</a>:</h4>
<p>I certainly wait for the error</p>



<a name="128846453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846453" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846453">(Jun 29 2018 at 19:37)</a>:</h4>
<p>BUT in Rust 2018</p>



<a name="128846454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846454" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846454">(Jun 29 2018 at 19:37)</a>:</h4>
<p>they will be inferred</p>



<a name="128846455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846455" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846455">(Jun 29 2018 at 19:37)</a>:</h4>
<p>=)</p>



<a name="128846459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846459" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846459">(Jun 29 2018 at 19:37)</a>:</h4>
<p><code>#![feature(infer_struct_outlives)]</code> or something like that -- mostly works, but for a cross-crate issue</p>



<a name="128846464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846464" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846464">(Jun 29 2018 at 19:37)</a>:</h4>
<p>oh nice</p>



<a name="128846525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846525" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846525">(Jun 29 2018 at 19:38)</a>:</h4>
<p><code>infer_struct_outlives</code> — but this isn't on a struct, it's on a function... ?</p>



<a name="128846628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846628">(Jun 29 2018 at 19:40)</a>:</h4>
<p>I don't know if it would have gotten this case</p>



<a name="128846630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846630">(Jun 29 2018 at 19:40)</a>:</h4>
<p>don't remember the details</p>



<a name="128846633"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128846633" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128846633">(Jun 29 2018 at 19:40)</a>:</h4>
<p>we already infer on functions anyway much of the time</p>



<a name="128849973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128849973" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128849973">(Jun 29 2018 at 20:53)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> Confirming that I have made no crater movement</p>



<a name="128879095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128879095" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128879095">(Jun 30 2018 at 12:42)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> Was enabling more benchmarks on perf.rlo -- the html5ever benchmark seems to exit with status code 1 with <code>--Zborrowck=mir</code> but no errors are reported, have you seen something like this before?</p>



<a name="128879258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128879258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128879258">(Jun 30 2018 at 12:46)</a>:</h4>
<p>oh wow, no I don't think I have, however the broken MIR one could have a similar behaviour</p>



<a name="128879266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128879266" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128879266">(Jun 30 2018 at 12:47)</a>:</h4>
<p>even though it did have an error printed hum</p>



<a name="128879381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128879381" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128879381">(Jun 30 2018 at 12:50)</a>:</h4>
<p>I'll see if the old-ish build I have here has the same behaviour on html5ever</p>



<a name="128879791"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128879791" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128879791">(Jun 30 2018 at 13:02)</a>:</h4>
<p>at the moment it's just killing my computer :) could it have been the OS killing the process, à la OOM-killer ?</p>



<a name="128879849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128879849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128879849">(Jun 30 2018 at 13:04)</a>:</h4>
<p>hm, maybe</p>



<a name="128879862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128879862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128879862">(Jun 30 2018 at 13:05)</a>:</h4>
<p>yeah I think that's what happened</p>



<a name="128880507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128880507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128880507">(Jun 30 2018 at 13:25)</a>:</h4>
<p>we're going to have to look into that :)</p>



<a name="128880550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128880550" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128880550">(Jun 30 2018 at 13:26)</a>:</h4>
<p>after one or two minutes, rustc is using 10+ GB of memory (even on a month-old nightly)</p>



<a name="128882256"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128882256" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128882256">(Jun 30 2018 at 14:19)</a>:</h4>
<blockquote>
<p>using 10+ GB of memory</p>
</blockquote>
<div class="message_inline_image"><a href="http://i0.kym-cdn.com/entries/icons/original/000/021/311/free.jpg" target="_blank" title="http://i0.kym-cdn.com/entries/icons/original/000/021/311/free.jpg"><img src="https://uploads.zulipusercontent.net/ffdcb5b141250d0a0c4c8008315247a40df924c9/687474703a2f2f69302e6b796d2d63646e2e636f6d2f656e74726965732f69636f6e732f6f726967696e616c2f3030302f3032312f3331312f667265652e6a7067"></a></div>



<a name="128926441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128926441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128926441">(Jul 01 2018 at 16:52)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> Have you done any work on the crater run? If not I can probably get a run going...</p>



<a name="128926488"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128926488" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128926488">(Jul 01 2018 at 16:54)</a>:</h4>
<p>no I haven't done anything</p>



<a name="128926499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128926499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128926499">(Jul 01 2018 at 16:56)</a>:</h4>
<p>Okay, I'll try to get something going</p>



<a name="128926538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128926538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128926538">(Jul 01 2018 at 16:56)</a>:</h4>
<p>awesome, thank you <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<a name="128970666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128970666" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128970666">(Jul 02 2018 at 15:37)</a>:</h4>
<p>I didn't either, didn't quite have time</p>



<a name="128971883"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128971883" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128971883">(Jul 02 2018 at 15:57)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> did you end up doing anything here?</p>



<a name="128971893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128971893" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128971893">(Jul 02 2018 at 15:57)</a>:</h4>
<p>Yes, crater run is started -- ETA around 3 days, I think</p>



<a name="128971951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128971951" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128971951">(Jul 02 2018 at 15:58)</a>:</h4>
<p>awesome!</p>



<a name="128971954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128971954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128971954">(Jul 02 2018 at 15:58)</a>:</h4>
<p>can you link the PR in <a href="https://github.com/rust-lang/rust/issues/51827" target="_blank" title="https://github.com/rust-lang/rust/issues/51827">https://github.com/rust-lang/rust/issues/51827</a> ?</p>



<a name="128971959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128971959" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128971959">(Jul 02 2018 at 15:58)</a>:</h4>
<p>or whatever the basis for the crater run is</p>



<a name="128971966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128971966" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128971966">(Jul 02 2018 at 15:58)</a>:</h4>
<p>It's not any specific PR, just a commit on master</p>



<a name="128971980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128971980" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128971980">(Jul 02 2018 at 15:59)</a>:</h4>
<p>ok; link to commit? :)</p>



<a name="128971982"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128971982" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128971982">(Jul 02 2018 at 15:59)</a>:</h4>
<p>Yeah, sure</p>



<a name="128971985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128971985" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128971985">(Jul 02 2018 at 15:59)</a>:</h4>
<p>ty</p>



<a name="128971987"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128971987" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128971987">(Jul 02 2018 at 15:59)</a>:</h4>
<p>or maybe give the diff</p>



<a name="128971993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128971993" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128971993">(Jul 02 2018 at 15:59)</a>:</h4>
<p>I'd just like some record for posterity</p>



<a name="128972102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/128972102" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#128972102">(Jul 02 2018 at 16:01)</a>:</h4>
<p>(this is recorded in the crater spreadsheet, too); this run had 0 diff with rust-lang/rust because we ended up just using <code>RUSTFLAGS</code> instead of changing rustc itself to pass the borrowck arg</p>



<a name="129032894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129032894" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129032894">(Jul 03 2018 at 16:20)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> fyi, crater run failed with an out of memory error</p>



<a name="129032900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129032900" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129032900">(Jul 03 2018 at 16:20)</a>:</h4>
<p>looking into it now</p>



<a name="129032925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129032925" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129032925">(Jul 03 2018 at 16:21)</a>:</h4>
<p>oh, hmm, didn't we find something that consumed tons of memory? I should investigate those extreme results...</p>



<a name="129032944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129032944" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129032944">(Jul 03 2018 at 16:21)</a>:</h4>
<p>ah, yes, <span class="user-mention" data-user-id="116113">@lqd</span> mentioned html5ever</p>



<a name="129033007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033007">(Jul 03 2018 at 16:22)</a>:</h4>
<p>anyway, I'm going to see if I can just restart it -- if that works, great, if not I might be able to generate a report based on what happened already</p>



<a name="129033054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033054">(Jul 03 2018 at 16:23)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> for tuple-stress, do we do --lib or --bin ? I can't tell</p>



<a name="129033058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033058" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033058">(Jul 03 2018 at 16:23)</a>:</h4>
<p>since html5ever is on <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a> it might even be the cause of the OOM</p>



<a name="129033115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033115">(Jul 03 2018 at 16:24)</a>:</h4>
<p>for tuple stress I don't use either lib or bin</p>



<a name="129033127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033127">(Jul 03 2018 at 16:24)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> There is only bin?</p>



<a name="129033130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033130" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033130">(Jul 03 2018 at 16:24)</a>:</h4>
<p>no, there is both</p>



<a name="129033131"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033131" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033131">(Jul 03 2018 at 16:24)</a>:</h4>
<p>i.e. it's just one file?</p>



<a name="129033134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033134">(Jul 03 2018 at 16:24)</a>:</h4>
<p>at least in my directory</p>



<a name="129033138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033138">(Jul 03 2018 at 16:24)</a>:</h4>
<p>src/lib.rs exists</p>



<a name="129033139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033139" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033139">(Jul 03 2018 at 16:24)</a>:</h4>
<p>maybe I touched it</p>



<a name="129033140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033140" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033140">(Jul 03 2018 at 16:24)</a>:</h4>
<p>oh, I did :)</p>



<a name="129033151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033151">(Jul 03 2018 at 16:25)</a>:</h4>
<p>only main tho</p>



<a name="129033160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033160">(Jul 03 2018 at 16:25)</a>:</h4>
<p>right phew :)</p>



<a name="129033180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033180" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033180">(Jul 03 2018 at 16:25)</a>:</h4>
<p>/me remembers this dang test</p>



<a name="129033252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033252">(Jul 03 2018 at 16:26)</a>:</h4>
<p>can we do something special for constants/statics ? this thing is huge</p>



<a name="129033297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033297" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033297">(Jul 03 2018 at 16:27)</a>:</h4>
<p>yes, that's why it's in the test suite :)</p>



<a name="129033303"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033303" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033303">(Jul 03 2018 at 16:27)</a>:</h4>
<p>well, we've thought about specializing these exact sorts of huge constants</p>



<a name="129033308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033308">(Jul 03 2018 at 16:27)</a>:</h4>
<p>but that's fairly orthogonal from NLL</p>



<a name="129033311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033311" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033311">(Jul 03 2018 at 16:27)</a>:</h4>
<p>mostly we wanted to do that for memory consumption</p>



<a name="129033328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033328">(Jul 03 2018 at 16:27)</a>:</h4>
<p>(in principle we can do it, now that miri is all integrated etc)</p>



<a name="129033375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033375" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033375">(Jul 03 2018 at 16:28)</a>:</h4>
<p>anyway, I am going to <em>guess</em> that the problem is the "for each block, iterate over each live variable" setup</p>



<a name="129033379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033379" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033379">(Jul 03 2018 at 16:28)</a>:</h4>
<p>in particular, we keep the live variables in a bit set</p>



<a name="129033384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033384" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033384">(Jul 03 2018 at 16:28)</a>:</h4>
<p>(the MIR is huge I meant)</p>



<a name="129033389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033389" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033389">(Jul 03 2018 at 16:28)</a>:</h4>
<p>which does not support O(n) iteration really</p>



<a name="129033394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033394">(Jul 03 2018 at 16:28)</a>:</h4>
<p>well, point is, iteration is proportional to the total number of locals</p>



<a name="129033398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033398">(Jul 03 2018 at 16:28)</a>:</h4>
<p>not the number <em>live</em> locals</p>



<a name="129033404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033404">(Jul 03 2018 at 16:28)</a>:</h4>
<p>but let me do my profile and see</p>



<a name="129033422"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033422" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033422">(Jul 03 2018 at 16:29)</a>:</h4>
<p>oh, and there are 65k*2 locals at least</p>



<a name="129033511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033511">(Jul 03 2018 at 16:30)</a>:</h4>
<p>not sure if that hypothesis holds up</p>



<a name="129033518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033518" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033518">(Jul 03 2018 at 16:30)</a>:</h4>
<p>given the time spent in folding</p>



<a name="129033529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033529">(Jul 03 2018 at 16:30)</a>:</h4>
<p>I was wondering whether the SCC would impact here</p>



<a name="129033538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033538">(Jul 03 2018 at 16:30)</a>:</h4>
<p>not the PR I made I don't think</p>



<a name="129033539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033539" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033539">(Jul 03 2018 at 16:30)</a>:</h4>
<p>doesn't affect liveness</p>



<a name="129033567"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033567" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033567">(Jul 03 2018 at 16:31)</a>:</h4>
<p>oh yeah it was about regions</p>



<a name="129033587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033587">(Jul 03 2018 at 16:31)</a>:</h4>
<p>SCC seems to make the bad cases worse, loosely</p>



<a name="129033637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033637" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033637">(Jul 03 2018 at 16:32)</a>:</h4>
<p><a href="https://perf.rust-lang.org/nll-dashboard.html?commit=3fcccbf34a7af46ec467dc21c321db20994357ea&amp;stat=max-rss" target="_blank" title="https://perf.rust-lang.org/nll-dashboard.html?commit=3fcccbf34a7af46ec467dc21c321db20994357ea&amp;stat=max-rss">https://perf.rust-lang.org/nll-dashboard.html?commit=3fcccbf34a7af46ec467dc21c321db20994357ea&amp;stat=max-rss</a> vs <a href="https://perf.rust-lang.org/nll-dashboard.html?commit=&amp;stat=max-rss" target="_blank" title="https://perf.rust-lang.org/nll-dashboard.html?commit=&amp;stat=max-rss">https://perf.rust-lang.org/nll-dashboard.html?commit=&amp;stat=max-rss</a></p>



<a name="129033696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033696">(Jul 03 2018 at 16:33)</a>:</h4>
<p>this url's "from" commit is not the one we should be using to compare to the previous merge ? <a href="http://perf.rust-lang.org/compare.html?start=4faaf7e3359fa78bad2e8c54011e94ce8ac078c6&amp;end=3fcccbf34a7af46ec467dc21c321db20994357ea&amp;stat=instructions%3Au" target="_blank" title="http://perf.rust-lang.org/compare.html?start=4faaf7e3359fa78bad2e8c54011e94ce8ac078c6&amp;end=3fcccbf34a7af46ec467dc21c321db20994357ea&amp;stat=instructions%3Au">http://perf.rust-lang.org/compare.html?start=4faaf7e3359fa78bad2e8c54011e94ce8ac078c6&amp;end=3fcccbf34a7af46ec467dc21c321db20994357ea&amp;stat=instructions%3Au</a></p>



<a name="129033757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033757">(Jul 03 2018 at 16:34)</a>:</h4>
<p>I loosely compared to master, but that might be wrong</p>



<a name="129033777"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033777" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033777">(Jul 03 2018 at 16:34)</a>:</h4>
<p>I observed some similar things locally. Seems surprising. I'll have to investigate a bit more.</p>



<a name="129033819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033819">(Jul 03 2018 at 16:35)</a>:</h4>
<p>but also: the master status is looking pretty decent</p>



<a name="129033837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033837" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033837">(Jul 03 2018 at 16:35)</a>:</h4>
<p>yeah, memory is not bad</p>



<a name="129033841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033841" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033841">(Jul 03 2018 at 16:35)</a>:</h4>
<p>or, I see, that was just memory</p>



<a name="129033843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033843" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033843">(Jul 03 2018 at 16:35)</a>:</h4>
<p>:)</p>



<a name="129033882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033882">(Jul 03 2018 at 16:36)</a>:</h4>
<p>I was like "man when did we get to 105%!"</p>



<a name="129033898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033898" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033898">(Jul 03 2018 at 16:36)</a>:</h4>
<p><span class="emoji emoji-1f389" title="tada">:tada:</span> oh noes</p>



<a name="129033946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033946" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033946">(Jul 03 2018 at 16:37)</a>:</h4>
<p>SCCs have positive impacts on inflate</p>



<a name="129033964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129033964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129033964">(Jul 03 2018 at 16:37)</a>:</h4>
<p>but it seems like it doesn't for most of the others</p>



<a name="129034015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129034015" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129034015">(Jul 03 2018 at 16:38)</a>:</h4>
<p>yeah. I can't really see why that would be, I'll have to do more profiling locally</p>



<a name="129034358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129034358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129034358">(Jul 03 2018 at 16:44)</a>:</h4>
<p>crater run seems to have restarted successfully -- about 1/2 done loosely speaking</p>



<a name="129080715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129080715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129080715">(Jul 04 2018 at 12:01)</a>:</h4>
<p>Crater run is done, currently uploading logs</p>



<a name="129080798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129080798" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129080798">(Jul 04 2018 at 12:02)</a>:</h4>
<p>However it looks like I messed up a little when hacking crater since both toolchains appear to have ran with NLL enabled</p>



<a name="129080855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129080855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129080855">(Jul 04 2018 at 12:03)</a>:</h4>
<p>though that might be an artifact of reporting -- I'll try to determine that</p>



<a name="129080959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129080959" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129080959">(Jul 04 2018 at 12:05)</a>:</h4>
<p>Yeah okay crater isn't properly working with the same master commit it looks like</p>



<a name="129081180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081180" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081180">(Jul 04 2018 at 12:10)</a>:</h4>
<p>oh; can we salvage something out of the run or would we have to do another one ? (eg can we compare errors to another recent run)</p>



<a name="129081218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081218">(Jul 04 2018 at 12:11)</a>:</h4>
<p>I'm looking into it</p>



<a name="129081222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081222" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081222">(Jul 04 2018 at 12:11)</a>:</h4>
<p>Technically the run is quite good -- sort of</p>



<a name="129081271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081271" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081271">(Jul 04 2018 at 12:12)</a>:</h4>
<p>There's no regressions but many of the build failures are likely NLL related, though it's hard to tell. <a href="https://cargobomb-reports.s3.amazonaws.com/nll-1/index.html" target="_blank" title="https://cargobomb-reports.s3.amazonaws.com/nll-1/index.html">https://cargobomb-reports.s3.amazonaws.com/nll-1/index.html</a> is the index page -- some logs won't be uploaded yet though</p>



<a name="129081332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081332">(Jul 04 2018 at 12:13)</a>:</h4>
<p>I think I can salvage the run successfully</p>



<a name="129081378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081378">(Jul 04 2018 at 12:14)</a>:</h4>
<p>But I'll wait for these logs to upload just in case</p>



<a name="129081381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081381" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081381">(Jul 04 2018 at 12:14)</a>:</h4>
<p>the regressions would only be noticed if crater could compare to the other commit right ?</p>



<a name="129081406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081406">(Jul 04 2018 at 12:15)</a>:</h4>
<p>Yeah -- I think I can convince crater that we actually ran against a different commit; should be relatively easy to point it at a past PR run (well, master from that run)</p>



<a name="129081420"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081420" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081420">(Jul 04 2018 at 12:15)</a>:</h4>
<p>do you by any chance remember if 3432 failures is in the ballpark of recent master runs ?</p>



<a name="129081428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081428" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081428">(Jul 04 2018 at 12:15)</a>:</h4>
<p>I can look... I think.</p>



<a name="129081487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081487" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081487">(Jul 04 2018 at 12:16)</a>:</h4>
<p>if not no worries, tricking crater into thinking we used another commit will take of it</p>



<a name="129081488"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081488" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081488">(Jul 04 2018 at 12:16)</a>:</h4>
<p>last PR run has ~2000 build-fails <a href="https://cargobomb-reports.s3.amazonaws.com/pr-51762/index.html" target="_blank" title="https://cargobomb-reports.s3.amazonaws.com/pr-51762/index.html">https://cargobomb-reports.s3.amazonaws.com/pr-51762/index.html</a></p>



<a name="129081527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081527" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081527">(Jul 04 2018 at 12:17)</a>:</h4>
<p>awesome thank you</p>



<a name="129081529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081529">(Jul 04 2018 at 12:17)</a>:</h4>
<p>okay all logs uploaded, I'll try to hack crater now</p>



<a name="129081601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081601" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081601">(Jul 04 2018 at 12:19)</a>:</h4>
<p>until then I'll be looking at all the crates starting with an "A" -- there are "NLL errors" from the couple I've looked at, so likely I don't need to wait for the crater hack :)</p>



<a name="129081936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081936" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081936">(Jul 04 2018 at 12:26)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> wait, was the run using 2 phase borrows ?</p>



<a name="129081943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081943">(Jul 04 2018 at 12:26)</a>:</h4>
<p>Unfortunately, no, because I only found out yesterday that's part of what we're shipping</p>



<a name="129081989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129081989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129081989">(Jul 04 2018 at 12:27)</a>:</h4>
<p>:) ok good to know for everyone that some of the errors we can see in <a href="https://github.com/rust-lang/rust/issues/51372" target="_blank" title="https://github.com/rust-lang/rust/issues/51372">https://github.com/rust-lang/rust/issues/51372</a> esp <code>cannot borrow "_" as mutable because it is also borrowed as immutable</code> are normally no big deal</p>



<a name="129082183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082183">(Jul 04 2018 at 12:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> Should I kick off another run with two phase borrows immediately?</p>



<a name="129082260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082260" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082260">(Jul 04 2018 at 12:33)</a>:</h4>
<p>probably better to ask <span class="user-mention" data-user-id="116009">@nikomatsakis</span> :) I myself guess it couldn't hurt</p>



<a name="129082334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082334" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082334">(Jul 04 2018 at 12:34)</a>:</h4>
<p>I don't know what errors not having them could make, and I only saw the "cannot borrow _" once in the 10-20 I just opened now (but ofc they may exist here, I just can't tell from a glance)</p>



<a name="129082877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082877">(Jul 04 2018 at 12:43)</a>:</h4>
<blockquote>
<p>wait, was the run using 2 phase borrows ?</p>
</blockquote>
<p>argh</p>



<a name="129082889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082889" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082889">(Jul 04 2018 at 12:43)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> I think you should probably kick off another run, yes.</p>



<a name="129082891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082891" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082891">(Jul 04 2018 at 12:43)</a>:</h4>
<p>that sucks :(</p>



<a name="129082899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082899">(Jul 04 2018 at 12:43)</a>:</h4>
<p>I've been wanting to change the sense of that flag forever</p>



<a name="129082901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082901" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082901">(Jul 04 2018 at 12:43)</a>:</h4>
<p>i.e., to make <code>-Zno-two-phase-borrows</code> =)</p>



<a name="129082904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082904">(Jul 04 2018 at 12:43)</a>:</h4>
<p>since we want them on by default</p>



<a name="129082908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082908">(Jul 04 2018 at 12:43)</a>:</h4>
<p>/me wishes he had done that now :)</p>



<a name="129082911"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082911" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082911">(Jul 04 2018 at 12:43)</a>:</h4>
<p>I'm still slightly confused -- I thought two phase borrows didn't exist with old borrowck?</p>



<a name="129082920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082920" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082920">(Jul 04 2018 at 12:43)</a>:</h4>
<p>they don't</p>



<a name="129082958"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082958" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082958">(Jul 04 2018 at 12:44)</a>:</h4>
<p>the flag has no effect if you are not using MIR borrowck</p>



<a name="129082979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082979">(Jul 04 2018 at 12:44)</a>:</h4>
<p>hm, so we shouldn't see regressions because of it?</p>



<a name="129082985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082985" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082985">(Jul 04 2018 at 12:44)</a>:</h4>
<p>well MIR borrowck fixes a lot of bugs</p>



<a name="129082994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082994" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082994">(Jul 04 2018 at 12:44)</a>:</h4>
<p>however, a non-trivial percentage of those bugs</p>



<a name="129082997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129082997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129082997">(Jul 04 2018 at 12:44)</a>:</h4>
<p>because of two phase borrows, I mean?</p>



<a name="129083000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083000">(Jul 04 2018 at 12:44)</a>:</h4>
<p>are STILL not errors because of 2-phase borrows</p>



<a name="129083009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083009">(Jul 04 2018 at 12:45)</a>:</h4>
<p>ah, hm, okay, that makes sense</p>



<a name="129083015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083015" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083015">(Jul 04 2018 at 12:45)</a>:</h4>
<p>no I mean that there are cases that -- without 2-phase borrows -- ought to be rejected (but we fail to do so)</p>



<a name="129083019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083019" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083019">(Jul 04 2018 at 12:45)</a>:</h4>
<p>but with 2-phase borrows ought to be accepted</p>



<a name="129083026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083026" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083026">(Jul 04 2018 at 12:45)</a>:</h4>
<p>Right, so we'll have "false" regressions</p>



<a name="129083028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083028">(Jul 04 2018 at 12:45)</a>:</h4>
<p>yeah</p>



<a name="129083046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083046" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083046">(Jul 04 2018 at 12:45)</a>:</h4>
<p>still actually it's kind of interesting to have data on that :)</p>



<a name="129083048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083048">(Jul 04 2018 at 12:45)</a>:</h4>
<p>silver lining</p>



<a name="129083093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083093" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083093">(Jul 04 2018 at 12:46)</a>:</h4>
<p>I wonder if we can start by screening for ICEs?</p>



<a name="129083095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083095" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083095">(Jul 04 2018 at 12:46)</a>:</h4>
<p>is that something we can automate?</p>



<a name="129083113"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083113" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083113">(Jul 04 2018 at 12:46)</a>:</h4>
<p>(what format are crater results stored in...?)</p>



<a name="129083118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083118" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083118">(Jul 04 2018 at 12:46)</a>:</h4>
<p>S3</p>



<a name="129083135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083135">(Jul 04 2018 at 12:47)</a>:</h4>
<p>I'll look into hunting for ICEs once I try to get regressions actually working and start the two phase borrows run</p>



<a name="129083725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083725" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083725">(Jul 04 2018 at 13:00)</a>:</h4>
<p>in the crater report, do we have the tested crate's commit in addition to its version, or if I needed to look at the code I should the get commit from ... somewhere on <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a> if the GH doesn't have it tagged ?</p>



<a name="129083762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083762" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083762">(Jul 04 2018 at 13:01)</a>:</h4>
<p>or to ask differently, how can I reproduce the errors crater sees ? :)</p>



<a name="129083765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083765" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083765">(Jul 04 2018 at 13:01)</a>:</h4>
<p>It's just the <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a> upload, so you can get the precise source code via <a href="https://gist.github.com/nikomatsakis/75e09ed314bea715e192ce226127d3c6" target="_blank" title="https://gist.github.com/nikomatsakis/75e09ed314bea715e192ce226127d3c6">https://gist.github.com/nikomatsakis/75e09ed314bea715e192ce226127d3c6</a></p>



<a name="129083811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083811" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083811">(Jul 04 2018 at 13:02)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> sweet, thanks a lot</p>



<a name="129083833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083833" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083833">(Jul 04 2018 at 13:02)</a>:</h4>
<p>Also, proper regression report is ready; should be able to extract and open index.html <a href="/user_uploads/4715/_gwSL0sK9gZupUuxnpq9vdqt/report.tar.gz" target="_blank" title="report.tar.gz">report.tar.gz</a></p>



<a name="129083834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083834" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083834">(Jul 04 2018 at 13:02)</a>:</h4>
<p>(file is tiny)</p>



<a name="129083867"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083867" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083867">(Jul 04 2018 at 13:03)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> Okay, so to be sure, I need to pass <code>-Zborrowck=mir -Ztwo-phase-borrows</code>, and that's it, right?</p>



<a name="129083887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083887">(Jul 04 2018 at 13:04)</a>:</h4>
<p>let me double check but I believe that is true :)</p>



<a name="129083947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083947">(Jul 04 2018 at 13:04)</a>:</h4>
<p>correct</p>



<a name="129083957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129083957" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129083957">(Jul 04 2018 at 13:04)</a>:</h4>
<p>okay, then I'll kick off a run that should hopefully not need fixing post run this time :)</p>



<a name="129084059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084059">(Jul 04 2018 at 13:06)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> Hm, do you happen to have an existing try build you think we could use for this? (I just need it to not cause regressions of its own)</p>



<a name="129084071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084071">(Jul 04 2018 at 13:07)</a>:</h4>
<p>i.e. I need two commits that will be equivalent on master or on try</p>



<a name="129084073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084073">(Jul 04 2018 at 13:07)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> yeah, I suppose so</p>



<a name="129084081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084081" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084081">(Jul 04 2018 at 13:07)</a>:</h4>
<p>one of the recent PRs would probably do?</p>



<a name="129084094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084094" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084094">(Jul 04 2018 at 13:07)</a>:</h4>
<p>they are a <em>bit</em> outdated but...</p>



<a name="129084097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084097">(Jul 04 2018 at 13:07)</a>:</h4>
<p>I guess I can look ...</p>



<a name="129084152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084152">(Jul 04 2018 at 13:08)</a>:</h4>
<p>maybe the build from here <a href="https://github.com/rust-lang/rust/pull/52007" target="_blank" title="https://github.com/rust-lang/rust/pull/52007">https://github.com/rust-lang/rust/pull/52007</a> ?</p>



<a name="129084164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084164" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084164">(Jul 04 2018 at 13:08)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/commit/00bcc44fb92c28465c727881355c3235a56a4045" target="_blank" title="https://github.com/rust-lang/rust/commit/00bcc44fb92c28465c727881355c3235a56a4045">https://github.com/rust-lang/rust/commit/00bcc44fb92c28465c727881355c3235a56a4045</a></p>



<a name="129084172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084172" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084172">(Jul 04 2018 at 13:08)</a>:</h4>
<p>parent is 1 day old: <a href="https://github.com/rust-lang/rust/commit/860d169474acabdc53b9a698f8ce02eba7e0daeb" target="_blank" title="https://github.com/rust-lang/rust/commit/860d169474acabdc53b9a698f8ce02eba7e0daeb">https://github.com/rust-lang/rust/commit/860d169474acabdc53b9a698f8ce02eba7e0daeb</a></p>



<a name="129084204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084204" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084204">(Jul 04 2018 at 13:09)</a>:</h4>
<p>I can take two master commits too, if that helps</p>



<a name="129084264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084264" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084264">(Jul 04 2018 at 13:10)</a>:</h4>
<p>well... I suppose any master commit is fine?</p>



<a name="129084276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084276" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084276">(Jul 04 2018 at 13:10)</a>:</h4>
<p>I'm not really clear on what you need :)</p>



<a name="129084277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084277">(Jul 04 2018 at 13:10)</a>:</h4>
<p>hm, I'll just use that PR I think</p>



<a name="129084289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084289" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084289">(Jul 04 2018 at 13:10)</a>:</h4>
<p>I need two separate SHAs but the same underlying code, basically -- well, as close as "same"</p>



<a name="129084308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084308">(Jul 04 2018 at 13:10)</a>:</h4>
<p>anyway, that PR's try build should be fine</p>



<a name="129084312"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084312" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084312">(Jul 04 2018 at 13:10)</a>:</h4>
<p>yeah</p>



<a name="129084315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084315" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084315">(Jul 04 2018 at 13:10)</a>:</h4>
<p>should be ok</p>



<a name="129084319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129084319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129084319">(Jul 04 2018 at 13:11)</a>:</h4>
<p>Time to look for ICEs</p>



<a name="129086377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129086377" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129086377">(Jul 04 2018 at 13:54)</a>:</h4>
<p>Okay, looks like 276 ICEs</p>



<a name="129086380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129086380" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129086380">(Jul 04 2018 at 13:54)</a>:</h4>
<p>(some might be duplicates)</p>



<a name="129086407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129086407" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129086407">(Jul 04 2018 at 13:55)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> What's the best way to report these? Somehow deduplicate and open issues?</p>



<a name="129086466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129086466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129086466">(Jul 04 2018 at 13:56)</a>:</h4>
<p>good question :)</p>



<a name="129086471"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129086471" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129086471">(Jul 04 2018 at 13:57)</a>:</h4>
<p>I guess trying to deduplicate somehow would be a start -- maybe just group them by the panic message?</p>



<a name="129086473"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129086473" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129086473">(Jul 04 2018 at 13:57)</a>:</h4>
<p>and/or location of the panic</p>



<a name="129086479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129086479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129086479">(Jul 04 2018 at 13:57)</a>:</h4>
<p>it seems like opening 276 ICEs is a bit overkill — maybe opening up one issue with a list...?</p>



<a name="129086480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129086480" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129086480">(Jul 04 2018 at 13:57)</a>:</h4>
<p>hm, okay, location should work</p>



<a name="129086482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129086482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129086482">(Jul 04 2018 at 13:57)</a>:</h4>
<p>as I'm going through the As, some of their dependencies fail, so anything else depending on:<br>
- num-bigint-0.1.44<br>
- pulldown-cmark-0.1.2<br>
- crossbeam-channel-0.1.3<br>
will fail because of 2 phase borrows (bit of a PSA, and I'll try and doing this again if I stumble upon more)</p>



<a name="129086484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129086484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129086484">(Jul 04 2018 at 13:57)</a>:</h4>
<p>depends how much we can group them I guess</p>



<a name="129086485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129086485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129086485">(Jul 04 2018 at 13:57)</a>:</h4>
<p>I think many are duplicates</p>



<a name="129088331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129088331" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129088331">(Jul 04 2018 at 14:33)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/52054" target="_blank" title="https://github.com/rust-lang/rust/issues/52054">https://github.com/rust-lang/rust/issues/52054</a> -- <span class="user-mention" data-user-id="116009">@nikomatsakis</span></p>



<a name="129088345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129088345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129088345">(Jul 04 2018 at 14:33)</a>:</h4>
<p>Looks like ~3 categories</p>



<a name="129088468"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129088468" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129088468">(Jul 04 2018 at 14:35)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> are there false positives ? there is no error <a href="https://cargobomb-reports.s3.amazonaws.com/nll-1/ef9a322843fa9f1d6eb6f05b3ba8f9f96ef1de46/reg/africastalking_gateway-0.1.0/log.txt" target="_blank" title="https://cargobomb-reports.s3.amazonaws.com/nll-1/ef9a322843fa9f1d6eb6f05b3ba8f9f96ef1de46/reg/africastalking_gateway-0.1.0/log.txt">here</a> ?</p>



<a name="129088557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129088557" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129088557">(Jul 04 2018 at 14:36)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span>  Less so false positive and more so probably an error in which directory the log was copied from -- you can see that log doesn't have MIR borrowck enabled</p>



<a name="129088644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129088644" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129088644">(Jul 04 2018 at 14:38)</a>:</h4>
<p>I also built that crate with NLL to make sure</p>



<a name="129088654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129088654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129088654">(Jul 04 2018 at 14:38)</a>:</h4>
<p>hm, no idea then -- might be a false positive</p>



<a name="129088690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129088690" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129088690">(Jul 04 2018 at 14:39)</a>:</h4>
<p>yeah maybe, I'll just note it for later if we want/need to look more into it</p>



<a name="129088790"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129088790" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129088790">(Jul 04 2018 at 14:40)</a>:</h4>
<p>oh it's some leftover artefacts that it builds here, the crate builds but one of its deps doesn't</p>



<a name="129088814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129088814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129088814">(Jul 04 2018 at 14:41)</a>:</h4>
<p>so likely just wrong log indeed</p>



<a name="129090075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129090075" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129090075">(Jul 04 2018 at 15:05)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> interesting, thanks! &lt;3</p>



<a name="129093377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093377" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093377">(Jul 04 2018 at 16:16)</a>:</h4>
<p>/me sees the light at the end of the tunnel of As</p>



<a name="129093390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093390">(Jul 04 2018 at 16:16)</a>:</h4>
<p>quick analysis of those &lt;50 crates <a href="https://hackmd.io/s/H1x-c18cGm" target="_blank" title="https://hackmd.io/s/H1x-c18cGm">https://hackmd.io/s/H1x-c18cGm</a></p>



<a name="129093411"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093411" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093411">(Jul 04 2018 at 16:17)</a>:</h4>
<p>only 1442 to go :D</p>



<a name="129093469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093469">(Jul 04 2018 at 16:18)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> It might be faster if you write a script or something to analyze them if the results are fairly methodical... I can give you all the regressed logs if you want</p>



<a name="129093474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093474" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093474">(Jul 04 2018 at 16:18)</a>:</h4>
<p>in a tarball, that is</p>



<a name="129093490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093490" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093490">(Jul 04 2018 at 16:18)</a>:</h4>
<p>interesting thought for sure</p>



<a name="129093508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093508" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093508">(Jul 04 2018 at 16:19)</a>:</h4>
<p>I think pietroalbini had some script too...</p>



<a name="129093512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093512">(Jul 04 2018 at 16:19)</a>:</h4>
<p>some of the logs have the problems we mentioned</p>



<a name="129093574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093574" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093574">(Jul 04 2018 at 16:20)</a>:</h4>
<p>yeah I bet it must be very helpful to the infra-team and thus would be helpful to me :D</p>



<a name="129093611"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093611" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093611">(Jul 04 2018 at 16:21)</a>:</h4>
<p>this is the script I used for the ICE hunt: <a href="https://gist.github.com/Mark-Simulacrum/2a3cf12527d541a29f66316c55ec54f8" target="_blank" title="https://gist.github.com/Mark-Simulacrum/2a3cf12527d541a29f66316c55ec54f8">https://gist.github.com/Mark-Simulacrum/2a3cf12527d541a29f66316c55ec54f8</a></p>



<a name="129093626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093626" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093626">(Jul 04 2018 at 16:21)</a>:</h4>
<p>If it looks helpful I can help guide you through setup; it basically just downloads the logs and does "things" to them</p>



<a name="129093645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093645">(Jul 04 2018 at 16:22)</a>:</h4>
<p>even though the most mechanical task I had to do was filtering out the 2 phase borrow errors, as I have not really started trying to reproduce/minimize/understand the real errors I saw</p>



<a name="129093704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093704">(Jul 04 2018 at 16:23)</a>:</h4>
<p>oooh shiny</p>



<a name="129093811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093811" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093811">(Jul 04 2018 at 16:25)</a>:</h4>
<p>yeah looks helpful</p>



<a name="129093949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093949" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093949">(Jul 04 2018 at 16:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> Okay, so you'll want to download the inputs to it</p>



<a name="129093965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093965">(Jul 04 2018 at 16:28)</a>:</h4>
<p>the 2 json files, which I'm guessing are different from the ones in your report tarball ?</p>



<a name="129093979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093979">(Jul 04 2018 at 16:29)</a>:</h4>
<div class="codehilite"><pre><span></span>wget https://cargobomb-reports.s3.amazonaws.com/nll-1/results.json -O results-nll-1.json
wget http://cargobomb-reports.s3.amazonaws.com/pr-51762/results.json -O results-pr-51762.json
</pre></div>



<a name="129093994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129093994" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129093994">(Jul 04 2018 at 16:29)</a>:</h4>
<p>I think that should be all you need to run it... but if it breaks, I'll investigate</p>



<a name="129094084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129094084" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129094084">(Jul 04 2018 at 16:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> thanks a lot! I've downloaded the inputs, I'll ping you if I have a problem but agreed seems like all I'd need. I might not do it right now :)</p>



<a name="129096484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129096484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129096484">(Jul 04 2018 at 17:33)</a>:</h4>
<p>hum there are errors I saw in these crates' dependencies, but they themselves don't all appear as regressions</p>



<a name="129096490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129096490" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129096490">(Jul 04 2018 at 17:33)</a>:</h4>
<p>I think I'll continue by analyzing/minimizing more of the errors in the "A" crates I did earlier, before looking at more crates from the crater report (this can serve as a reminder for others, if they look at this, start from the crates beginning with a B -- even though most of the errors are probably in their dependencies unfortunately)</p>



<a name="129096533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129096533" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129096533">(Jul 04 2018 at 17:34)</a>:</h4>
<p>I'm gonna spend an hour looking at those ICEs</p>



<a name="129096609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129096609" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129096609">(Jul 04 2018 at 17:37)</a>:</h4>
<blockquote>
<p>broken MIR in DefId(0/0:2416 ~ syntex_syntax[45c6]::ext[0]::</p>
</blockquote>
<p>that is so curious</p>



<a name="129096613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129096613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129096613">(Jul 04 2018 at 17:37)</a>:</h4>
<p>why on earth are we borrow checking syntex</p>



<a name="129096614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129096614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129096614">(Jul 04 2018 at 17:37)</a>:</h4>
<p><em>oh</em>, I know what that is</p>



<a name="129096615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129096615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129096615">(Jul 04 2018 at 17:37)</a>:</h4>
<p>it's a known bug</p>



<a name="129096619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129096619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129096619">(Jul 04 2018 at 17:37)</a>:</h4>
<p>assigned to me, in fact :)</p>



<a name="129097196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129097196" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129097196">(Jul 04 2018 at 17:53)</a>:</h4>
<p>ok, categorized the ICEs and linked them to open issues. One was not previously known.</p>



<a name="129099364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099364" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099364">(Jul 04 2018 at 18:53)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> this is a <a href="https://play.rust-lang.org/?gist=14e1e0c616b95e846e46fd4a322d8c06&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=14e1e0c616b95e846e46fd4a322d8c06&amp;version=nightly&amp;mode=debug&amp;edition=2015">legit error</a> right ? it's from url 1.7.0 and prevents building 10-15 out of the 50 crates I've looked at</p>



<a name="129099430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099430">(Jul 04 2018 at 18:55)</a>:</h4>
<p>hmm</p>



<a name="129099432"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099432" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099432">(Jul 04 2018 at 18:55)</a>:</h4>
<p>what do you mean by "legit"?</p>



<a name="129099436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099436">(Jul 04 2018 at 18:55)</a>:</h4>
<p>a valid error</p>



<a name="129099439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099439">(Jul 04 2018 at 18:55)</a>:</h4>
<p>like, the code should not compile?</p>



<a name="129099442"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099442" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099442">(Jul 04 2018 at 18:55)</a>:</h4>
<p>I think yeah ?</p>



<a name="129099485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099485">(Jul 04 2018 at 18:56)</a>:</h4>
<p>it does seem correct</p>



<a name="129099486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099486">(Jul 04 2018 at 18:56)</a>:</h4>
<p>thanks to the drop, yes</p>



<a name="129099487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099487" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099487">(Jul 04 2018 at 18:56)</a>:</h4>
<p>took me a second to see that</p>



<a name="129099492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099492" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099492">(Jul 04 2018 at 18:56)</a>:</h4>
<p>I feel like there is a patched version of <code>url</code> that solves this?</p>



<a name="129099496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099496" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099496">(Jul 04 2018 at 18:56)</a>:</h4>
<p>but I am wrong :)</p>



<a name="129099499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099499">(Jul 04 2018 at 18:56)</a>:</h4>
<p>really ? oh lol</p>



<a name="129099503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099503" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099503">(Jul 04 2018 at 18:56)</a>:</h4>
<p>no, I am mistaken, 1.7.0 seems to be the newest</p>



<a name="129099509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099509">(Jul 04 2018 at 18:57)</a>:</h4>
<p>there was some other crate with (iirc) a similar thing going on</p>



<a name="129099514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099514">(Jul 04 2018 at 18:57)</a>:</h4>
<p>the error is pretty bad :(</p>



<a name="129099517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099517">(Jul 04 2018 at 18:57)</a>:</h4>
<p>we should file a diagnostic bug on that</p>



<a name="129099520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099520">(Jul 04 2018 at 18:57)</a>:</h4>
<p>it's still like this in rust-url master btw</p>



<a name="129099534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099534">(Jul 04 2018 at 18:58)</a>:</h4>
<p>it is a bit obscure :)</p>



<a name="129099572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099572">(Jul 04 2018 at 18:58)</a>:</h4>
<p>it should say something about Drop, clearly</p>



<a name="129099578"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099578" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099578">(Jul 04 2018 at 18:58)</a>:</h4>
<p>I'll file an issue</p>



<a name="129099580"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099580" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099580">(Jul 04 2018 at 18:58)</a>:</h4>
<p>the <em>easiest</em> fix would probably be to make it an <code>Option&lt;&amp;'a mut&gt;</code> in the crate</p>



<a name="129099583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099583">(Jul 04 2018 at 18:58)</a>:</h4>
<p>so you can <code>take()</code> it</p>



<a name="129099585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099585" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099585">(Jul 04 2018 at 18:59)</a>:</h4>
<p>(presuming of course that the Drop is needed)</p>



<a name="129099592"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099592" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099592">(Jul 04 2018 at 18:59)</a>:</h4>
<p>I'll tell that to Simon :p</p>



<a name="129099652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099652">(Jul 04 2018 at 19:00)</a>:</h4>
<p>if you do:</p>
<div class="codehilite"><pre><span></span><span class="k">impl</span><span class="o">&lt;</span><span class="na">&#39;a</span><span class="o">&gt;</span><span class="w"> </span><span class="n">S</span><span class="o">&lt;</span><span class="na">&#39;a</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">finish</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kp">&amp;</span><span class="na">&#39;a</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="nb">String</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">url</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="n">p</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>


<p>you get a better error...but anyway.</p>



<a name="129099666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099666" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099666">(Jul 04 2018 at 19:01)</a>:</h4>
<p>at least it mentions Drop <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<a name="129099674"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099674" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099674">(Jul 04 2018 at 19:01)</a>:</h4>
<p>the reason is that just returning <code>self.url</code> implicitly reborrows</p>



<a name="129099676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099676">(Jul 04 2018 at 19:01)</a>:</h4>
<p>so you get <code>&amp;mut self.url</code></p>



<a name="129099681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099681" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099681">(Jul 04 2018 at 19:01)</a>:</h4>
<p>I'm not sure why this leads to that precise error about temporaries</p>



<a name="129099682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099682" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099682">(Jul 04 2018 at 19:01)</a>:</h4>
<p>seems like a bug</p>



<a name="129099724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099724" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099724">(Jul 04 2018 at 19:02)</a>:</h4>
<p>oh but maybe we're already tracking this diagnostics issue, I'll need to check</p>



<a name="129099730"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099730" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099730">(Jul 04 2018 at 19:02)</a>:</h4>
<p>oh, I guess it doesn't talk about temporaries</p>



<a name="129099733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099733" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099733">(Jul 04 2018 at 19:02)</a>:</h4>
<p>there may well be an issue, yes.</p>



<a name="129099977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129099977" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129099977">(Jul 04 2018 at 19:09)</a>:</h4>
<p>the title of <a href="https://github.com/rust-lang/rust/issues/46634" target="_blank" title="https://github.com/rust-lang/rust/issues/46634">https://github.com/rust-lang/rust/issues/46634</a> was promising</p>



<a name="129100030"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129100030" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129100030">(Jul 04 2018 at 19:10)</a>:</h4>
<p>yeah, I thought of that one, but it seems to be distinct issue</p>



<a name="129100189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129100189" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129100189">(Jul 04 2018 at 19:14)</a>:</h4>
<p>yeah, and I can't find a specific issue so I'll file it as "Implicit reborrow hides error <code>Cannot move out of Struct with destructor</code>" if that sounds good</p>



<a name="129100295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129100295" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129100295">(Jul 04 2018 at 19:17)</a>:</h4>
<p>sure</p>



<a name="129101066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129101066" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129101066">(Jul 04 2018 at 19:34)</a>:</h4>
<p>(filed as <a href="https://github.com/rust-lang/rust/issues/52059" target="_blank" title="https://github.com/rust-lang/rust/issues/52059">https://github.com/rust-lang/rust/issues/52059</a>) now to talk to Simon about servo's crate</p>



<a name="129104356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129104356" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129104356">(Jul 04 2018 at 20:53)</a>:</h4>
<p>fixed_by_nll += 1; <a href="https://github.com/servo/rust-url/pull/454" target="_blank" title="https://github.com/servo/rust-url/pull/454">https://github.com/servo/rust-url/pull/454</a></p>



<a name="129136906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129136906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129136906">(Jul 05 2018 at 13:13)</a>:</h4>
<p>this feels like a workaround for the lack of GATs but the error is a bit obscure again <a href="https://play.rust-lang.org/?gist=ce6ac6b0e7db4be75fc3bcac57c6ba9c&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=ce6ac6b0e7db4be75fc3bcac57c6ba9c&amp;version=nightly&amp;mode=debug&amp;edition=2015">https://play.rust-lang.org/?gist=ce6ac6b0e7db4be75fc3bcac57c6ba9c&amp;version=nightly&amp;mode=debug&amp;edition=2015</a> (extracted from specs 0.10) <span class="emoji emoji-1f615" title="confused">:confused:</span></p>



<a name="129138240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138240" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138240">(Jul 05 2018 at 13:35)</a>:</h4>
<p>also here's an alternative to niko's <code>cargo-curl</code> which also accepts the crate-version format that the crater report uses: <a href="https://gist.github.com/lqd/4a8af10389d10840d90655c109df5eac" target="_blank" title="https://gist.github.com/lqd/4a8af10389d10840d90655c109df5eac">https://gist.github.com/lqd/4a8af10389d10840d90655c109df5eac</a></p>



<a name="129138401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138401" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138401">(Jul 05 2018 at 13:38)</a>:</h4>
<p>hmm, that seems like a bug to me <span class="user-mention" data-user-id="116113">@lqd</span></p>



<a name="129138412"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138412" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138412">(Jul 05 2018 at 13:38)</a>:</h4>
<p>specifically, I think the implied bounds computation may be messing up somehow</p>



<a name="129138447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138447" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138447">(Jul 05 2018 at 13:39)</a>:</h4>
<p><a href="https://play.rust-lang.org/?gist=1cede31dc3f102bb779ae37607c719b0&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=1cede31dc3f102bb779ae37607c719b0&amp;version=nightly&amp;mode=debug&amp;edition=2015">this variant has a clearer error message</a></p>



<a name="129138462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138462" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138462">(Jul 05 2018 at 13:40)</a>:</h4>
<p>but I think we should infer a relationship between <code>'a</code> and <code>'b</code> from the argument type</p>



<a name="129138520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138520">(Jul 05 2018 at 13:40)</a>:</h4>
<p>I forgot to mention there was something related to the bounds, that is specs does not have the T: 'a, but didn't show an error while this minimized version actually did</p>



<a name="129138578"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138578" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138578">(Jul 05 2018 at 13:41)</a>:</h4>
<p>yes indeed a bit clearer, I also tried this</p>



<a name="129138588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138588" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138588">(Jul 05 2018 at 13:41)</a>:</h4>
<p>the empty named region was cute though</p>



<a name="129138669"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138669" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138669">(Jul 05 2018 at 13:42)</a>:</h4>
<p>(so there might still be something else to extract from specs, more scaffolding causing some implied bounds to be missed)</p>



<a name="129138764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138764">(Jul 05 2018 at 13:44)</a>:</h4>
<p>this crater run is <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<a name="129138817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138817">(Jul 05 2018 at 13:46)</a>:</h4>
<blockquote>
<p>this crater run is <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>
</blockquote>
<p>in what sense? like, finding bugs?</p>



<a name="129138858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138858">(Jul 05 2018 at 13:46)</a>:</h4>
<p>are you filing bugs or taking notes?</p>



<a name="129138869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138869">(Jul 05 2018 at 13:46)</a>:</h4>
<p>ps thank you one million times :)</p>



<a name="129138887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138887">(Jul 05 2018 at 13:46)</a>:</h4>
<p>(also, I think we should think about trying to advertise this as a wider effort? maybe?)</p>



<a name="129138906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138906">(Jul 05 2018 at 13:47)</a>:</h4>
<p>finding bugs and issues both in borrowck and existing crates</p>



<a name="129138943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129138943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129138943">(Jul 05 2018 at 13:47)</a>:</h4>
<p>I'm doing both, notes from yesterday are here <a href="https://hackmd.io/s/H1x-c18cGm" target="_blank" title="https://hackmd.io/s/H1x-c18cGm">https://hackmd.io/s/H1x-c18cGm</a>, and I'll file this new issue soon</p>



<a name="129139007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139007">(Jul 05 2018 at 13:49)</a>:</h4>
<p>I just did a first pass on the "As" yesterday, and now sifting through the interesting errors</p>



<a name="129139169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139169" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139169">(Jul 05 2018 at 13:51)</a>:</h4>
<p>(and seeing that in those 50 crates, the dependencies were the source of errors, it made me worried that we might duplicate triaging efforts if we shard work by the first letter, and that realization also made me hope crater uses sccache or similar, otherwise it'll be compiling the same dependencies a lot ;)</p>



<a name="129139351"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139351" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139351">(Jul 05 2018 at 13:54)</a>:</h4>
<p>I think it compiles things into a shared workspace, but I'm not sure. <span class="user-mention" data-user-id="116122">@simulacrum</span> might know.</p>



<a name="129139378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139378">(Jul 05 2018 at 13:55)</a>:</h4>
<p>It does, but the order of compilation isn't the best I believe</p>



<a name="129139389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139389" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139389">(Jul 05 2018 at 13:55)</a>:</h4>
<p>We probably are also making Cargo somewhat unhappy since we put ~20,000 crates into the same target dir</p>



<a name="129139404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139404">(Jul 05 2018 at 13:55)</a>:</h4>
<p>sweet! (it was just a random thought anyway)</p>



<a name="129139449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139449">(Jul 05 2018 at 13:56)</a>:</h4>
<p>a good cargo stress test</p>



<a name="129139471"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139471" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139471">(Jul 05 2018 at 13:56)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> I think we can take the crates and generate a graph from it if you want, should be able to help with the duplicated work problem -- at least for <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a> crates that's easy</p>



<a name="129139483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139483" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139483">(Jul 05 2018 at 13:56)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> roughly, how many GB is that target dir?</p>



<a name="129139541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139541" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139541">(Jul 05 2018 at 13:57)</a>:</h4>
<p>hm, the docs suggest that after a full run it's ~600 GB but I'm looking how the nll run is doing now</p>



<a name="129139563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139563">(Jul 05 2018 at 13:58)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> could be interesting to graph out the regressions yeah; however: the errors I'm seeing only appear as regressions in dependent crates, they themselves don't seem to be in the report ? it could be because we massaged the report, or does that sound familiar ?</p>



<a name="129139612"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139612" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139612">(Jul 05 2018 at 13:58)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> It's possible we're skipping the dependent crates or something like that -- you can try and see if the dependent crate exists at all (e.g., enable all the tabs at the top of index.html)</p>



<a name="129139652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139652">(Jul 05 2018 at 13:59)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> 35 GB at ~8000 crates tested out of the 20,000 we look at</p>



<a name="129139657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139657">(Jul 05 2018 at 13:59)</a>:</h4>
<p>(this is for a check run, though)</p>



<a name="129139729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139729">(Jul 05 2018 at 14:00)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> for example url 1.7.0 is indeed in build-fails but not in regressions</p>



<a name="129139766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139766">(Jul 05 2018 at 14:01)</a>:</h4>
<p>oh but it could be because of warnings</p>



<a name="129139776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139776">(Jul 05 2018 at 14:01)</a>:</h4>
<p>The report shows that in both the original run and later run it failed to build</p>



<a name="129139789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139789">(Jul 05 2018 at 14:01)</a>:</h4>
<p>yeah and one of those 2 denies lints</p>



<a name="129139847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139847">(Jul 05 2018 at 14:02)</a>:</h4>
<p>right ?</p>



<a name="129139867"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139867" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139867">(Jul 05 2018 at 14:02)</a>:</h4>
<p>Hm, no we cap lints at warn; the errors look like missing functions which feels odd...</p>



<a name="129139883"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139883" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139883">(Jul 05 2018 at 14:02)</a>:</h4>
<p>in the "new toolchain" but not the old one</p>



<a name="129139907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139907" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139907">(Jul 05 2018 at 14:03)</a>:</h4>
<p>url-1.7.0 is build fail in the old one too, <a href="https://cargobomb-reports.s3.amazonaws.com/pr-51762/01cc982e936120acb0424e41de14e42ba2d88c6f/reg/url-1.7.0" target="_blank" title="https://cargobomb-reports.s3.amazonaws.com/pr-51762/01cc982e936120acb0424e41de14e42ba2d88c6f/reg/url-1.7.0">https://cargobomb-reports.s3.amazonaws.com/pr-51762/01cc982e936120acb0424e41de14e42ba2d88c6f/reg/url-1.7.0</a></p>



<a name="129139916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139916" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139916">(Jul 05 2018 at 14:03)</a>:</h4>
<p>er, <a href="https://cargobomb-reports.s3.amazonaws.com/pr-51762/01cc982e936120acb0424e41de14e42ba2d88c6f/reg/url-1.7.0/log.txt" target="_blank" title="https://cargobomb-reports.s3.amazonaws.com/pr-51762/01cc982e936120acb0424e41de14e42ba2d88c6f/reg/url-1.7.0/log.txt">https://cargobomb-reports.s3.amazonaws.com/pr-51762/01cc982e936120acb0424e41de14e42ba2d88c6f/reg/url-1.7.0/log.txt</a></p>



<a name="129139988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139988">(Jul 05 2018 at 14:04)</a>:</h4>
<p>what I'm saying is, url-1.7.0 fails in the non-nll toolchain because of --cap-lints=forbid, while it fails in the NLL toolchain because of its lifetime bug</p>



<a name="129139994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129139994" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129139994">(Jul 05 2018 at 14:04)</a>:</h4>
<p>is that correct ?</p>



<a name="129140005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140005">(Jul 05 2018 at 14:04)</a>:</h4>
<p>no</p>



<a name="129140014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140014" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140014">(Jul 05 2018 at 14:04)</a>:</h4>
<p>good :D</p>



<a name="129140028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140028">(Jul 05 2018 at 14:04)</a>:</h4>
<p>the log I linked is from the non-nll toolchain and has the assert function not found errors</p>



<a name="129140037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140037">(Jul 05 2018 at 14:05)</a>:</h4>
<p>e.g. <code>Jun 27 14:06:10.335 INFO kablam! error[E0425]: cannot find function </code>assert_test_result<code> in module </code>self::test`</p>



<a name="129140051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140051">(Jul 05 2018 at 14:05)</a>:</h4>
<p>how are those found only enabling NLL on the same master commit</p>



<a name="129140058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140058" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140058">(Jul 05 2018 at 14:05)</a>:</h4>
<p>it's possible the crate's tests are just failing in general</p>



<a name="129140064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140064" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140064">(Jul 05 2018 at 14:05)</a>:</h4>
<p>spuriously maybe ?</p>



<a name="129140105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140105" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140105">(Jul 05 2018 at 14:06)</a>:</h4>
<p>This does not look like a spurious failure</p>



<a name="129140110"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140110" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140110">(Jul 05 2018 at 14:06)</a>:</h4>
<p>this seems strange</p>



<a name="129140238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140238">(Jul 05 2018 at 14:08)</a>:</h4>
<p>The assert_test_result function comes from libtest, I think</p>



<a name="129140252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140252">(Jul 05 2018 at 14:08)</a>:</h4>
<p>I'll look at this crate again because I can't repro these errors with NLL disabled</p>



<a name="129140277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140277">(Jul 05 2018 at 14:09)</a>:</h4>
<p>I can reproduce locally too</p>



<a name="129140279"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140279" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140279">(Jul 05 2018 at 14:09)</a>:</h4>
<p><code>cargo check --all-targets</code> in the tarball reproduces</p>



<a name="129140290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140290" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140290">(Jul 05 2018 at 14:09)</a>:</h4>
<p>so it is the cfgs that I'm missing while reproducing</p>



<a name="129140440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140440">(Jul 05 2018 at 14:12)</a>:</h4>
<p>cargo test indeed fails to compile like expected</p>



<a name="129140497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140497" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140497">(Jul 05 2018 at 14:13)</a>:</h4>
<p>thankfully some other crate depended on its default target or I would have missed it</p>



<a name="129140756"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140756" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140756">(Jul 05 2018 at 14:17)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> You generally want to do <code>--all-targets</code>.</p>



<a name="129140769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140769" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140769">(Jul 05 2018 at 14:17)</a>:</h4>
<p>Anyway, did you want that crate graph so you can eliminate children?</p>



<a name="129140837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140837" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140837">(Jul 05 2018 at 14:18)</a>:</h4>
<p>if you have one available sure :)</p>



<a name="129140843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140843" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140843">(Jul 05 2018 at 14:18)</a>:</h4>
<p>(but don't go out of your way to build it just for me)</p>



<a name="129140911"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129140911" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129140911">(Jul 05 2018 at 14:19)</a>:</h4>
<p>I think I have some code that does it anyway, just need to pull it in for crater's regressions</p>



<a name="129145195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129145195" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129145195">(Jul 05 2018 at 15:27)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> <a href="https://github.com/Mark-Simulacrum/crater-report-merge" target="_blank" title="https://github.com/Mark-Simulacrum/crater-report-merge">https://github.com/Mark-Simulacrum/crater-report-merge</a> -- <a href="https://github.com/Mark-Simulacrum/crater-report-merge/blob/master/src/main.rs#L222-L225" target="_blank" title="https://github.com/Mark-Simulacrum/crater-report-merge/blob/master/src/main.rs#L222-L225">https://github.com/Mark-Simulacrum/crater-report-merge/blob/master/src/main.rs#L222-L225</a> -- not sure how to format it better, right now it just dumps a wall of text at you</p>



<a name="129145266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129145266" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129145266">(Jul 05 2018 at 15:28)</a>:</h4>
<p>which for URL is quite long: dependents on url 1.7.0: 11498 crates, 11237 versions</p>



<a name="129145367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129145367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129145367">(Jul 05 2018 at 15:30)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> oh thanks a lot for this :)</p>



<a name="129145510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129145510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129145510">(Jul 05 2018 at 15:33)</a>:</h4>
<p>(if anyone was interested about url's test story: <a href="https://github.com/servo/rust-url/pull/439" target="_blank" title="https://github.com/servo/rust-url/pull/439">https://github.com/servo/rust-url/pull/439</a>)</p>



<a name="129145869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129145869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129145869">(Jul 05 2018 at 15:40)</a>:</h4>
<p>filed <a href="https://github.com/rust-lang/rust/issues/52078" target="_blank" title="https://github.com/rust-lang/rust/issues/52078">https://github.com/rust-lang/rust/issues/52078</a> for the specs issue, I don't know what tags I should add so just A-NLL for now</p>



<a name="129150210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129150210" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129150210">(Jul 05 2018 at 17:00)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> fyi, until we have a fix for the memory issue I think it will be somewhat painful to run crater</p>



<a name="129150309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129150309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129150309">(Jul 05 2018 at 17:02)</a>:</h4>
<p>do you mean the one that effects html5ever?</p>



<a name="129150558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129150558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129150558">(Jul 05 2018 at 17:08)</a>:</h4>
<p>Yeah, there's a few other crates it affects (well, perhaps one)</p>



<a name="129150995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129150995" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129150995">(Jul 05 2018 at 17:17)</a>:</h4>
<p>do we have any idea what they are?</p>



<a name="129150998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129150998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129150998">(Jul 05 2018 at 17:17)</a>:</h4>
<p>I should probably prioritize that</p>



<a name="129151001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129151001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129151001">(Jul 05 2018 at 17:17)</a>:</h4>
<p>I have at least one idea that should ameliorate it</p>



<a name="129151009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129151009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129151009">(Jul 05 2018 at 17:17)</a>:</h4>
<p>I was hoping to mentor it out but maybe should just try to <em>do it</em></p>



<a name="129151056"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129151056" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129151056">(Jul 05 2018 at 17:18)</a>:</h4>
<p>I'd probably want to build on <a href="https://github.com/rust-lang/rust/pull/51987" target="_blank" title="https://github.com/rust-lang/rust/pull/51987">https://github.com/rust-lang/rust/pull/51987</a></p>



<a name="129151486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129151486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129151486">(Jul 05 2018 at 17:27)</a>:</h4>
<p>marksman_escape</p>



<a name="129151491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129151491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129151491">(Jul 05 2018 at 17:27)</a>:</h4>
<blockquote>
<p>14GB usage</p>
</blockquote>



<a name="129153556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129153556" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129153556">(Jul 05 2018 at 18:02)</a>:</h4>
<blockquote>
<p>I was hoping to mentor it out but maybe should just try to <em>do it</em></p>
</blockquote>
<p>so <span class="user-mention" data-user-id="116107">@David Wood</span> — sorry I got distracted — actually maybe you want to work on trying to address <a href="https://github.com/rust-lang/rust/issues/52028" target="_blank" title="https://github.com/rust-lang/rust/issues/52028">https://github.com/rust-lang/rust/issues/52028</a> ?</p>



<a name="129153606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129153606" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129153606">(Jul 05 2018 at 18:03)</a>:</h4>
<p>that said, we should at least discuss the other thing</p>



<a name="129153619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129153619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129153619">(Jul 05 2018 at 18:03)</a>:</h4>
<p>let me go leave a few comments there, maybe file an issue</p>



<a name="129153628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129153628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129153628">(Jul 05 2018 at 18:03)</a>:</h4>
<p>Is @nnethercote not working on that?</p>



<a name="129153711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129153711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129153711">(Jul 05 2018 at 18:04)</a>:</h4>
<p>I don't think so...they were looking at <code>unroll_place</code>...</p>



<a name="129153759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129153759" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129153759">(Jul 05 2018 at 18:05)</a>:</h4>
<p>I was thinking <span class="user-mention" data-user-id="116107">@David Wood</span> specifically of <a href="https://github.com/rust-lang/rust/issues/52028#issuecomment-402509289" target="_blank" title="https://github.com/rust-lang/rust/issues/52028#issuecomment-402509289">this idea</a></p>



<a name="129153766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129153766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129153766">(Jul 05 2018 at 18:05)</a>:</h4>
<p>let's open a thread I guess</p>



<a name="129161836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129161836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129161836">(Jul 05 2018 at 20:19)</a>:</h4>
<p>I'm working on triaging the run with a script — thanks to the awesome <span class="user-mention" data-user-id="116122">@simulacrum</span> — but in the meantime, here's another crate which takes a lot of RAM in my tests: <code>isolang-0.2.1</code>(again, 10G in a minute or so)</p>



<a name="129168325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129168325" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129168325">(Jul 05 2018 at 22:22)</a>:</h4>
<p>alrighty, progress update, I'm not 100% sure about all this but here goes — 1) I first separated in the report, the regressions with local errors from the ones whose errors are only in dependencies, <a href="https://hackmd.io/s/H1x-c18cGm#Automated-results-1" target="_blank" title="https://hackmd.io/s/H1x-c18cGm#Automated-results-1">here</a> 2) out of those, I <code>cratesio-curled</code>ed my way to checking each of them for 2-phase-borrows (2PB in my linked notes) false positives (I'm not typing ariel's 2ΦB ever again :p), 3) I then did a first quick pass on those to clear the ones which didn't look like NLL-related (some liballoc shenanigans, etc) which you can see <a href="https://hackmd.io/s/H1x-c18cGm#Automated-results-2" target="_blank" title="https://hackmd.io/s/H1x-c18cGm#Automated-results-2">here</a> 4) there are some crates with errors marked interesting to investigate later which I will do ... later ... before extracting from the report the regressions located in dependencies only</p>



<a name="129168778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129168778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129168778">(Jul 05 2018 at 22:31)</a>:</h4>
<p>(we could make NLLbot with this: it downloads all crates and if one doesn't build with NLLs it opens an issue in its repo :)</p>



<a name="129175401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129175401" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129175401">(Jul 06 2018 at 01:13)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> <a href="https://github.com/pietroalbini/crater-tree" target="_blank" title="https://github.com/pietroalbini/crater-tree">https://github.com/pietroalbini/crater-tree</a> is probably much better than my hacky tool</p>



<a name="129179729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129179729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129179729">(Jul 06 2018 at 03:34)</a>:</h4>
<p>Crater run should be done tomorrow morning I think</p>



<a name="129183536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129183536" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129183536">(Jul 06 2018 at 05:45)</a>:</h4>
<p>oh thanks, yours worked fine</p>



<a name="129190598"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129190598" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129190598">(Jul 06 2018 at 09:06)</a>:</h4>
<p>ok I'm see a 2PB ICE when trying to filter them from the report; it's likely we'll see it again in the new crater run</p>



<a name="129190904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129190904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129190904">(Jul 06 2018 at 09:15)</a>:</h4>
<p>(it's the one <span class="user-mention" data-user-id="116107">@David Wood</span> fixed but the run won't have this PR ofc)</p>



<a name="129196582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129196582" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129196582">(Jul 06 2018 at 11:48)</a>:</h4>
<p>am I misunderstanding this <a href="https://play.rust-lang.org/?gist=9c644f7e792ca4ae0d2ac0b3239e45ff&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=9c644f7e792ca4ae0d2ac0b3239e45ff&amp;version=nightly&amp;mode=debug&amp;edition=2015">piece of code</a> (extracted from the fscmp crater failures) ?  is it normal that the second line compiles and the first doesn't ?</p>



<a name="129197322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129197322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129197322">(Jul 06 2018 at 12:05)</a>:</h4>
<p>seems wacky to me:)</p>



<a name="129197846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129197846" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129197846">(Jul 06 2018 at 12:17)</a>:</h4>
<p>same :)</p>



<a name="129201246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129201246" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129201246">(Jul 06 2018 at 13:25)</a>:</h4>
<p>the 1s line failing looks like a "fixed by NLL" case though (in the real crate it's not as useless as the version I minimized of course)</p>



<a name="129203649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129203649" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129203649">(Jul 06 2018 at 14:12)</a>:</h4>
<p>err, looking at it more, I'm confused and the 1st line should probably compile ?!</p>



<a name="129203764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129203764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129203764">(Jul 06 2018 at 14:14)</a>:</h4>
<p>I think it should compile</p>



<a name="129203770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129203770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129203770">(Jul 06 2018 at 14:14)</a>:</h4>
<p>that's what I meant before :)</p>



<a name="129203846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129203846" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129203846">(Jul 06 2018 at 14:15)</a>:</h4>
<p>right I confused myself :/</p>



<a name="129206827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129206827" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129206827">(Jul 06 2018 at 15:05)</a>:</h4>
<p>(as I couldn't find a similar issue, filed as <a href="https://github.com/rust-lang/rust/issues/52111" target="_blank" title="https://github.com/rust-lang/rust/issues/52111">https://github.com/rust-lang/rust/issues/52111</a>)</p>



<a name="129207571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129207571" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129207571">(Jul 06 2018 at 15:19)</a>:</h4>
<p>I'm going to throw that on the Edition Preview 2 milestone for now</p>



<a name="129207622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129207622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129207622">(Jul 06 2018 at 15:20)</a>:</h4>
<p>maybe we need an "needs diagnosis" label...</p>



<a name="129207851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129207851" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129207851">(Jul 06 2018 at 15:24)</a>:</h4>
<p>as in "we need to diagnose these issues" ?</p>



<a name="129207862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129207862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129207862">(Jul 06 2018 at 15:24)</a>:</h4>
<p>yes e.g. there are a few ICEs whose cause I do not know</p>



<a name="129207870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129207870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129207870">(Jul 06 2018 at 15:24)</a>:</h4>
<p>similarly I have no idea what is leading to that particular bug</p>



<a name="129207880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129207880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129207880">(Jul 06 2018 at 15:24)</a>:</h4>
<p>I feel like it's important to "classify" the error in order to assess how hard it will be to fix :)</p>



<a name="129207920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129207920" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129207920">(Jul 06 2018 at 15:25)</a>:</h4>
<p>very true, as of now we don't have a whole lot of information on a small number of issues</p>



<a name="129208182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129208182" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129208182">(Jul 06 2018 at 15:30)</a>:</h4>
<p>and the results of the new crater run with 2PB should be ready soon, so maybe new issues we'll need to diagnose as well</p>



<a name="129208979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129208979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129208979">(Jul 06 2018 at 15:46)</a>:</h4>
<p>I keep thinking  "lead" and "peanut butter" for "2PB"</p>



<a name="129208987"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129208987" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129208987">(Jul 06 2018 at 15:46)</a>:</h4>
<p>I definitely think of PBJ</p>



<a name="129208992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129208992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129208992">(Jul 06 2018 at 15:46)</a>:</h4>
<p>makes it more amusing</p>



<a name="129209030"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129209030" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129209030">(Jul 06 2018 at 15:47)</a>:</h4>
<p>btw is there a better/official acronym ?</p>



<a name="129211241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211241" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211241">(Jul 06 2018 at 16:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> New crater run done, 2342 regressions (this one will 2PB enabled) <a href="https://cargobomb-reports.s3.amazonaws.com/nll-3/index.html" target="_blank" title="https://cargobomb-reports.s3.amazonaws.com/nll-3/index.html">https://cargobomb-reports.s3.amazonaws.com/nll-3/index.html</a> -- not sure why the number is higher than before this time around :/</p>



<a name="129211252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211252">(Jul 06 2018 at 16:29)</a>:</h4>
<p>That's progress of a sort ;-)</p>



<a name="129211264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211264" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211264">(Jul 06 2018 at 16:29)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> thank you</p>



<a name="129211269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211269" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211269">(Jul 06 2018 at 16:30)</a>:</h4>
<p>indeed an interesting question</p>



<a name="129211329"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211329" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211329">(Jul 06 2018 at 16:30)</a>:</h4>
<p>It might be that we previously didn't detect all regressions or something like that</p>



<a name="129211358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211358">(Jul 06 2018 at 16:31)</a>:</h4>
<p>could be</p>



<a name="129211365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211365" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211365">(Jul 06 2018 at 16:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> how can I determine why a crate is skipped?</p>



<a name="129211380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211380" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211380">(Jul 06 2018 at 16:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> <a href="https://github.com/rust-lang-nursery/crater/blob/master/config.toml" target="_blank" title="https://github.com/rust-lang-nursery/crater/blob/master/config.toml">https://github.com/rust-lang-nursery/crater/blob/master/config.toml</a> -- search for the name</p>



<a name="129211386"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211386" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211386">(Jul 06 2018 at 16:31)</a>:</h4>
<p>master wasn't especially different from the previous run ?</p>



<a name="129211421"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211421" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211421">(Jul 06 2018 at 16:32)</a>:</h4>
<p>ah skipped is the blacklist maybe ?</p>



<a name="129211437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211437">(Jul 06 2018 at 16:32)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> Hm, not sure -- you can compare the commits, it might have been more recent</p>



<a name="129211441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211441">(Jul 06 2018 at 16:32)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> <code>twox-hash = { skip = true } #automatic</code> — so... what does "automatic" mean? <span class="emoji emoji-1f607" title="innocent">:innocent:</span></p>



<a name="129211443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211443" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211443">(Jul 06 2018 at 16:32)</a>:</h4>
<p>previous run was somewhat faulty since I think there may have been race conditions</p>



<a name="129211449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211449">(Jul 06 2018 at 16:32)</a>:</h4>
<p>and  the OOMs were probably not helping</p>



<a name="129211460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211460">(Jul 06 2018 at 16:33)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> Not sure. Maybe <a href="https://github.com/rust-lang-nursery/crater/blob/master/find-bad-crates.py" target="_blank" title="https://github.com/rust-lang-nursery/crater/blob/master/find-bad-crates.py">https://github.com/rust-lang-nursery/crater/blob/master/find-bad-crates.py</a>?</p>



<a name="129211484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211484">(Jul 06 2018 at 16:34)</a>:</h4>
<p>I'd like to make sure all of my crates <em>can</em> be tested, so I'm trying to figure out if I screwed something up</p>



<a name="129211562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211562" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211562">(Jul 06 2018 at 16:35)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> It looks like it was added after it didn't pass 8 runs in <a href="https://github.com/rust-lang-nursery/crater/commit/cf95b1063aacc71ddd6af7386b658240720f5013" target="_blank" title="https://github.com/rust-lang-nursery/crater/commit/cf95b1063aacc71ddd6af7386b658240720f5013">https://github.com/rust-lang-nursery/crater/commit/cf95b1063aacc71ddd6af7386b658240720f5013</a></p>
<p>You can fairly easily run crater yourself on just that crate by adding it to the demo-crates list I think, I'd check if that works</p>



<a name="129211572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211572">(Jul 06 2018 at 16:35)</a>:</h4>
<p>could I ask what those are at the bottom of the regressions, they look like weird versions ?</p>



<a name="129211578"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211578" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211578">(Jul 06 2018 at 16:35)</a>:</h4>
<p>Generally it can be that crates with odd build scripts (e.g., writing files) are not quite right</p>



<a name="129211582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211582" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211582">(Jul 06 2018 at 16:35)</a>:</h4>
<p>er, don't build</p>



<a name="129211586"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211586" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211586">(Jul 06 2018 at 16:35)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> You mean "ubnt-intrepid.hyper-web-server.ac6165a6a2f30cb5cf6dc"?</p>



<a name="129211638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211638" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211638">(Jul 06 2018 at 16:36)</a>:</h4>
<p>That's a GitHub repo, ubnt-intrepid/hyper-web-server at that commit hash</p>



<a name="129211640"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211640" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211640">(Jul 06 2018 at 16:36)</a>:</h4>
<p>yeah, alexcrichton.cargo-edit-locally.28605545a3ddf9b164d5 etc</p>



<a name="129211669"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211669" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211669">(Jul 06 2018 at 16:36)</a>:</h4>
<p>searching <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a> didn't seem to know about them</p>



<a name="129211687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211687" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211687">(Jul 06 2018 at 16:37)</a>:</h4>
<p>GH repos</p>



<a name="129211700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211700" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211700">(Jul 06 2018 at 16:37)</a>:</h4>
<p>so coming from crates depending on those specific git commits ?</p>



<a name="129211760"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211760" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211760">(Jul 06 2018 at 16:38)</a>:</h4>
<p>no, we scan github too, and find rust projects there</p>



<a name="129211770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211770">(Jul 06 2018 at 16:38)</a>:</h4>
<p>oh ok I didn't know that</p>



<a name="129211898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211898" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211898">(Jul 06 2018 at 16:41)</a>:</h4>
<p>Yeah, that's pretty wild.</p>



<a name="129211954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129211954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129211954">(Jul 06 2018 at 16:42)</a>:</h4>
<p>We need a mind blown emoji.</p>



<a name="129213547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213547" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213547">(Jul 06 2018 at 17:14)</a>:</h4>
<p>the github repos list is pretty old though...</p>



<a name="129213580"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213580" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213580">(Jul 06 2018 at 17:15)</a>:</h4>
<p>and good luck triaging 2300+ regressions ;-)</p>



<a name="129213595"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213595" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213595">(Jul 06 2018 at 17:15)</a>:</h4>
<p>thanks <span class="emoji emoji-1f631" title="scream">:scream:</span></p>



<a name="129213604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213604" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213604">(Jul 06 2018 at 17:15)</a>:</h4>
<p>I made the perhaps not-so-good decision of running crater-tree locally and am now waiting for good old fake binary cargos to be created</p>



<a name="129213653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213653">(Jul 06 2018 at 17:16)</a>:</h4>
<p>I might go back to my approach which generates the graph and update it to work better</p>



<a name="129213664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213664" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213664">(Jul 06 2018 at 17:16)</a>:</h4>
<p>LOL, crater-tree is everything but optimized</p>



<a name="129213713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213713">(Jul 06 2018 at 17:17)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> <a href="https://gist.github.com/Mark-Simulacrum/6a8c998ba184dcf0849863864aa3ac8b" target="_blank" title="https://gist.github.com/Mark-Simulacrum/6a8c998ba184dcf0849863864aa3ac8b">https://gist.github.com/Mark-Simulacrum/6a8c998ba184dcf0849863864aa3ac8b</a></p>



<a name="129213716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213716">(Jul 06 2018 at 17:17)</a>:</h4>
<p>569 ICEs <a href="https://gist.github.com/lqd/e9ef65a3f5eacdafdc3f0e16bf6bbbd2" target="_blank" title="https://gist.github.com/lqd/e9ef65a3f5eacdafdc3f0e16bf6bbbd2">https://gist.github.com/lqd/e9ef65a3f5eacdafdc3f0e16bf6bbbd2</a></p>



<a name="129213777"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213777" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213777">(Jul 06 2018 at 17:18)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> nice, thanks! :)</p>



<a name="129213787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213787">(Jul 06 2018 at 17:19)</a>:</h4>
<p>Looks like ~445 root regressions in the <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a> part of the regressions</p>



<a name="129213789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213789">(Jul 06 2018 at 17:19)</a>:</h4>
<p>is it sorted in a special way ?</p>



<a name="129213794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213794">(Jul 06 2018 at 17:19)</a>:</h4>
<p>no idea, this is crater-tree</p>



<a name="129213798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213798" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213798">(Jul 06 2018 at 17:19)</a>:</h4>
<p>nope, it's not sorted</p>



<a name="129213801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213801" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213801">(Jul 06 2018 at 17:19)</a>:</h4>
<p><span class="emoji emoji-1f604" title="smile">:smile:</span></p>



<a name="129213802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213802" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213802">(Jul 06 2018 at 17:19)</a>:</h4>
<p><code>grep -v '^|'</code> for the roots</p>



<a name="129213807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213807">(Jul 06 2018 at 17:19)</a>:</h4>
<p>(I think)</p>



<a name="129213869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129213869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129213869">(Jul 06 2018 at 17:20)</a>:</h4>
<p>oh this is crater-tree returning regressions ?</p>



<a name="129214008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129214008" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129214008">(Jul 06 2018 at 17:23)</a>:</h4>
<p>yeah, that should be the crater-tree output</p>



<a name="129214212"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129214212" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129214212">(Jul 06 2018 at 17:26)</a>:</h4>
<p>assuming all the <code>plugin_registrar</code> ICEs are the same, I don't _think_ there are new ones</p>



<a name="129214573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129214573" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129214573">(Jul 06 2018 at 17:33)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> could you explain crater-tree's output a bit please ? (I have virtually no experience with crater or its results) -- here's how I understand it,  it is the dependency tree of the crates which regressed, in order to differentiate the regressions which happened because of a crate's code vs the ones which happened because of an upstream dependency ?</p>



<a name="129214643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129214643" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129214643">(Jul 06 2018 at 17:34)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> exactly</p>



<a name="129214677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129214677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129214677">(Jul 06 2018 at 17:35)</a>:</h4>
<p>awesome thank you <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<a name="129217696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129217696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129217696">(Jul 06 2018 at 18:39)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> the report mentions 2342 regressions, and the crater-tree output simulacrum posted has 1995, is that expected ?</p>



<a name="129217748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129217748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129217748">(Jul 06 2018 at 18:40)</a>:</h4>
<p>crater-tree doesn't support GitHub repos, so there are also 347 broken repos</p>



<a name="129219645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129219645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129219645">(Jul 06 2018 at 19:21)</a>:</h4>
<p>hey all -- can I get a kind of update here on the status?</p>



<a name="129219649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129219649" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129219649">(Jul 06 2018 at 19:21)</a>:</h4>
<p>seems like we got some results</p>



<a name="129219654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129219654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129219654">(Jul 06 2018 at 19:21)</a>:</h4>
<p>did we break down the ICEs like we did before?</p>



<a name="129219971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129219971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129219971">(Jul 06 2018 at 19:25)</a>:</h4>
<p>I looked at them, they look the same, and tagged the "unexpected panics" with the known issue they were</p>



<a name="129219988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129219988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129219988">(Jul 06 2018 at 19:25)</a>:</h4>
<p>one of which has a fix in queue</p>



<a name="129220039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129220039" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129220039">(Jul 06 2018 at 19:26)</a>:</h4>
<p>but have not categorized the same way yet</p>



<a name="129221734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129221734" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129221734">(Jul 06 2018 at 20:05)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <a href="https://gist.github.com/lqd/e9ef65a3f5eacdafdc3f0e16bf6bbbd2" target="_blank" title="https://gist.github.com/lqd/e9ef65a3f5eacdafdc3f0e16bf6bbbd2">https://gist.github.com/lqd/e9ef65a3f5eacdafdc3f0e16bf6bbbd2</a></p>



<a name="129221770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129221770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129221770">(Jul 06 2018 at 20:05)</a>:</h4>
<p>wow, thanks</p>



<a name="129221853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129221853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129221853">(Jul 06 2018 at 20:06)</a>:</h4>
<p>double check it of course ;)</p>



<a name="129222052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129222052" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129222052">(Jul 06 2018 at 20:10)</a>:</h4>
<p>looks about right</p>



<a name="129222053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129222053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129222053">(Jul 06 2018 at 20:10)</a>:</h4>
<p>no new ICEs, seems good</p>



<a name="129222075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129222075" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129222075">(Jul 06 2018 at 20:11)</a>:</h4>
<p>yup that was a bit of a relief earlier</p>



<a name="129222148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129222148" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129222148">(Jul 06 2018 at 20:12)</a>:</h4>
<p>I'm currently trying to regenerate a root regression report (without GH repos for now) with links to logs and all that</p>



<a name="129222965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129222965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129222965">(Jul 06 2018 at 20:27)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> Let me know if I can help</p>



<a name="129223044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129223044" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129223044">(Jul 06 2018 at 20:28)</a>:</h4>
<p>I should be good, you have already helped a lot :)</p>



<a name="129224500"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129224500" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129224500">(Jul 06 2018 at 20:54)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> on second thought :) it's not a huge deal, but the crate versions are missing from the crater-tree output, so there are duplicates I cannot distinguish</p>



<a name="129224534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129224534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129224534">(Jul 06 2018 at 20:55)</a>:</h4>
<p>Hm, that might be easy to add. I don't really want to rerun crater tree though -- I think I'll finish up my version :)</p>



<a name="129224539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129224539" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129224539">(Jul 06 2018 at 20:55)</a>:</h4>
<p>:D</p>



<a name="129224631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129224631" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129224631">(Jul 06 2018 at 20:57)</a>:</h4>
<p>what do you need the crate version though? if a crate failed multiple times you can just collapse them into one failure</p>



<a name="129224635"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129224635" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129224635">(Jul 06 2018 at 20:57)</a>:</h4>
<p>I'll continue on my side, outputting the logs of all the versions of a root regression</p>



<a name="129224700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129224700" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129224700">(Jul 06 2018 at 20:58)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> I would have liked to distinguish the errors between versions, but as I said it's not a huge deal</p>



<a name="129224711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129224711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129224711">(Jul 06 2018 at 20:58)</a>:</h4>
<p>I will do so manually after outputting all versions regardless :)</p>



<a name="129224851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129224851" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129224851">(Jul 06 2018 at 21:01)</a>:</h4>
<p>so ofc <span class="user-mention" data-user-id="116122">@simulacrum</span> don't worry too much about it vs other things to do, enjoying life and so on</p>



<a name="129224866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129224866" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129224866">(Jul 06 2018 at 21:01)</a>:</h4>
<p>Somehow loading and working with Crater results is quite fun</p>



<a name="129224990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129224990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129224990">(Jul 06 2018 at 21:03)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span>  also, we <em>really</em> need a tool faster than crater-tree for this kind of stuff<br>
another run just finished, and that one has 7k regressions</p>



<a name="129225036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129225036" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129225036">(Jul 06 2018 at 21:04)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> to be precise I wanted to also dinstiguish root regressions from regressions, so "fusing" part of the crater-tree output to the crater report. without versions I just know that a version that regressed has a crate in root regressions</p>



<a name="129225065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129225065" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129225065">(Jul 06 2018 at 21:04)</a>:</h4>
<p>and sorry, NLL is not the thing that broke the highest number of crates :P</p>



<a name="129225077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129225077" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129225077">(Jul 06 2018 at 21:05)</a>:</h4>
<p>oh wow, yeah the code simulacrum showed me was quite fast (can I call them <span class="user-mention" data-user-id="116122">@simulacrum</span> 's simulacra ?)</p>



<a name="129225111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129225111" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129225111">(Jul 06 2018 at 21:05)</a>:</h4>
<p>crater-tree is fairly slow IMO -- it does a lot of extra work I think</p>



<a name="129225166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129225166" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129225166">(Jul 06 2018 at 21:06)</a>:</h4>
<p>and you're most of the way there already</p>



<a name="129225192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129225192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129225192">(Jul 06 2018 at 21:07)</a>:</h4>
<p>should soon become a cool new crater tool</p>



<a name="129225286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129225286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129225286">(Jul 06 2018 at 21:09)</a>:</h4>
<p>yeah, with crater-tree I just chose the faster way to <em>implement</em> it, and that worked fine until today :P</p>



<a name="129225348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129225348" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129225348">(Jul 06 2018 at 21:10)</a>:</h4>
<p>for sure, I'm grateful to already have the root regressions it gave me <span class="user-mention" data-user-id="121055">@Pietro Albini</span> <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<a name="129225368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129225368" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129225368">(Jul 06 2018 at 21:10)</a>:</h4>
<p>by the way, we should have proper support for NLL runs next time, the PR for it is up</p>



<a name="129225380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129225380" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129225380">(Jul 06 2018 at 21:11)</a>:</h4>
<p>7k regressions is fun though :)</p>



<a name="129225677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129225677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129225677">(Jul 06 2018 at 21:17)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> quick question, an example 'ammonia' is a root regression: <a href="https://gist.github.com/Mark-Simulacrum/6a8c998ba184dcf0849863864aa3ac8b#file-gistfile1-txt-L1713" target="_blank" title="https://gist.github.com/Mark-Simulacrum/6a8c998ba184dcf0849863864aa3ac8b#file-gistfile1-txt-L1713">https://gist.github.com/Mark-Simulacrum/6a8c998ba184dcf0849863864aa3ac8b#file-gistfile1-txt-L1713</a> or am I misunderstanding the output ? but here's its log: <a href="https://cargobomb-reports.s3.amazonaws.com/nll-3/00bcc44fb92c28465c727881355c3235a56a4045/reg/ammonia-1.1.0/log.txt" target="_blank" title="https://cargobomb-reports.s3.amazonaws.com/nll-3/00bcc44fb92c28465c727881355c3235a56a4045/reg/ammonia-1.1.0/log.txt">https://cargobomb-reports.s3.amazonaws.com/nll-3/00bcc44fb92c28465c727881355c3235a56a4045/reg/ammonia-1.1.0/log.txt</a>, it fails because of url, so I might have misunderstood if it was a root ?</p>



<a name="129225885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129225885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129225885">(Jul 06 2018 at 21:21)</a>:</h4>
<p>yeah, the root regression for that is the url crate</p>



<a name="129225941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129225941" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129225941">(Jul 06 2018 at 21:22)</a>:</h4>
<p>it's not marked as such because the url crate is technically not a regression: it was already failing to build on the first toolchain</p>



<a name="129225982"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129225982" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129225982">(Jul 06 2018 at 21:23)</a>:</h4>
<p>ok understood thank you, so I will refilter those logs again to remove the ones without local errors</p>



<a name="129226044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226044" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226044">(Jul 06 2018 at 21:24)</a>:</h4>
<p>it might only happen because of url, but since it's a popular crate I suspect it will be necessary to filter them out</p>



<a name="129226070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226070">(Jul 06 2018 at 21:25)</a>:</h4>
<blockquote>
<p>it's not marked as such because the url crate is technically not a regression: it was already failing to build on the first toolchain</p>
</blockquote>
<p>I wonder if we can instead say "root build failure causes"</p>



<a name="129226076"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226076" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226076">(Jul 06 2018 at 21:25)</a>:</h4>
<p>i.e. generate a report that looks just at whether we failed to build</p>



<a name="129226130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226130" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226130">(Jul 06 2018 at 21:26)</a>:</h4>
<p>ultimately crate X only regressed because crate Y failed to build; fixing crate Y is the only way to fix crate X in this situation</p>



<a name="129226152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226152">(Jul 06 2018 at 21:26)</a>:</h4>
<p>what I'd really like to do is to do a diff of the errors instead of just checking if it builds, so we can catch regressions even on same-build-fail crates</p>



<a name="129226164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226164" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226164">(Jul 06 2018 at 21:27)</a>:</h4>
<p>but that's a bit longer term than this</p>



<a name="129226170"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226170" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226170">(Jul 06 2018 at 21:27)</a>:</h4>
<p>Sure, that'd be better -- but it would make logs ~unreadable since we need json error then</p>



<a name="129226175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226175" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226175">(Jul 06 2018 at 21:27)</a>:</h4>
<p>And there's not currently a good way to go from JSON to human :/</p>



<a name="129226182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226182" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226182">(Jul 06 2018 at 21:27)</a>:</h4>
<p>sure there is, the json output includes the <code>rendered</code> field last time I checked</p>



<a name="129226225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226225">(Jul 06 2018 at 21:28)</a>:</h4>
<p>ah, interesting</p>



<a name="129226238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226238">(Jul 06 2018 at 21:28)</a>:</h4>
<p>we can replace the json in the logs with the rendered field while we catch those errors</p>



<a name="129226257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226257" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226257">(Jul 06 2018 at 21:29)</a>:</h4>
<p>but before there is craterbot to finish...</p>



<a name="129226308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226308">(Jul 06 2018 at 21:30)</a>:</h4>
<p>how close is craterbot btw ? looked almost ready, and/or in review</p>



<a name="129226318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226318">(Jul 06 2018 at 21:31)</a>:</h4>
<p>it just needs the last PR to be merged (better-run-graph) before we can start trying it live, and aidanhs promised to review it before monday</p>



<a name="129226343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226343">(Jul 06 2018 at 21:31)</a>:</h4>
<p>and that PR alone turns a 2 days check only run into only one day</p>



<a name="129226393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226393">(Jul 06 2018 at 21:32)</a>:</h4>
<p>niiiiice</p>



<a name="129226490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226490" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226490">(Jul 06 2018 at 21:34)</a>:</h4>
<p>ok now we're talking</p>



<a name="129226522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226522" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226522">(Jul 06 2018 at 21:35)</a>:</h4>
<p>in fact it is _so_ reduced I'm worried it's wrong :p <a href="https://hackmd.io/s/Bkqcxvazm" target="_blank" title="https://hackmd.io/s/Bkqcxvazm">https://hackmd.io/s/Bkqcxvazm</a></p>



<a name="129226585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226585" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226585">(Jul 06 2018 at 21:36)</a>:</h4>
<p>well, just fix those and see if that did something in the next run</p>



<a name="129226610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226610" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226610">(Jul 06 2018 at 21:37)</a>:</h4>
<p>check-only runs will be really fast soon, so doing one or two extra won't be a problem ;)</p>



<a name="129226627"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226627" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226627">(Jul 06 2018 at 21:37)</a>:</h4>
<p>lol if only I could "just fix" them, I'm not niko :p</p>



<a name="129226681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226681" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226681">(Jul 06 2018 at 21:38)</a>:</h4>
<p>:D</p>



<a name="129226736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226736" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226736">(Jul 06 2018 at 21:39)</a>:</h4>
<p>(some of these errors are from the previously triaged ICEs so I could filter them out as well; and some of the errors here were already triaged from the previous nll-1 run)</p>



<a name="129226820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226820">(Jul 06 2018 at 21:40)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> Do you think the "tree" aspect of the root regression finder is important? It's simpler to just say how many dependent crates there are...</p>



<a name="129226926"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226926" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226926">(Jul 06 2018 at 21:42)</a>:</h4>
<p>well, yeah, the thing that matters is the root regressions, not the reverse deps, so the tree is not that important</p>



<a name="129226957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226957" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226957">(Jul 06 2018 at 21:43)</a>:</h4>
<p>(by the way, it's fun how we moved the crater dev discussions from nowhere to the nll chan :D)</p>



<a name="129226982"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226982" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226982">(Jul 06 2018 at 21:44)</a>:</h4>
<p>it is sometimes useful to know the <em>direct</em> dependencies</p>



<a name="129226998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129226998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129226998">(Jul 06 2018 at 21:44)</a>:</h4>
<p>because sometimes the only fix is to update those</p>



<a name="129227003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129227003" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129227003">(Jul 06 2018 at 21:44)</a>:</h4>
<p>e.g. to use a newer version</p>



<a name="129227013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129227013" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129227013">(Jul 06 2018 at 21:44)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> Hm, because the root isn't responding?</p>



<a name="129227016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129227016" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129227016">(Jul 06 2018 at 21:44)</a>:</h4>
<p>or because fixing required a breaking change to API</p>



<a name="129227023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129227023" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129227023">(Jul 06 2018 at 21:44)</a>:</h4>
<p>ah, okay</p>



<a name="129227033"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129227033" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129227033">(Jul 06 2018 at 21:45)</a>:</h4>
<p>often people don't backport fixes, too</p>



<a name="129227621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129227621" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129227621">(Jul 06 2018 at 21:54)</a>:</h4>
<p>Maybe a O(n^3) algorithm isn't the right way to find root crates...</p>



<a name="129228792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129228792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129228792">(Jul 06 2018 at 22:16)</a>:</h4>
<p>(slight aside: with the unused mut lint and liballoc PRs merged, I think we're 2 ICEs fixed away from being able to bootstrap with NLL! and both of those ICEs show up in the crater runs)</p>



<a name="129230179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129230179" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129230179">(Jul 06 2018 at 22:48)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> Could be broken, but <a href="https://gist.github.com/Mark-Simulacrum/5dada20317f73d4cf4dd71b8ae87de81" target="_blank" title="https://gist.github.com/Mark-Simulacrum/5dada20317f73d4cf4dd71b8ae87de81">https://gist.github.com/Mark-Simulacrum/5dada20317f73d4cf4dd71b8ae87de81</a></p>



<a name="129230249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129230249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129230249">(Jul 06 2018 at 22:50)</a>:</h4>
<p>oh already nice :)</p>



<a name="129230250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129230250" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129230250">(Jul 06 2018 at 22:50)</a>:</h4>
<p>should the logs point at the craterbomb-reports site ?</p>



<a name="129230308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129230308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129230308">(Jul 06 2018 at 22:52)</a>:</h4>
<p>uh, they were supposed to, but I think I forgot that bit</p>



<a name="129230374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129230374" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129230374">(Jul 06 2018 at 22:54)</a>:</h4>
<p>regenerating...</p>



<a name="129230378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129230378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129230378">(Jul 06 2018 at 22:55)</a>:</h4>
<p>btw I'm getting S3 access denied errors on some of the logs</p>



<a name="129230404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129230404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129230404">(Jul 06 2018 at 22:55)</a>:</h4>
<p>to be precise, all of the ones with + in the crate names ;)</p>



<a name="129230450"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129230450" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129230450">(Jul 06 2018 at 22:56)</a>:</h4>
<p>which should be escaped as %2B</p>



<a name="129230460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129230460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129230460">(Jul 06 2018 at 22:57)</a>:</h4>
<p>example: google-drive3-cli-1.0.7+20171201, crater link <a href="https://cargobomb-reports.s3.amazonaws.com/nll-3/00bcc44fb92c28465c727881355c3235a56a4045/reg/google-drive3-cli-1.0.7+20171201/log.txt" target="_blank" title="https://cargobomb-reports.s3.amazonaws.com/nll-3/00bcc44fb92c28465c727881355c3235a56a4045/reg/google-drive3-cli-1.0.7+20171201/log.txt">https://cargobomb-reports.s3.amazonaws.com/nll-3/00bcc44fb92c28465c727881355c3235a56a4045/reg/google-drive3-cli-1.0.7+20171201/log.txt</a> but should be <a href="https://cargobomb-reports.s3.amazonaws.com/nll-3/00bcc44fb92c28465c727881355c3235a56a4045/reg/google-drive3-cli-1.0.7%2B20171201/log.txt" target="_blank" title="https://cargobomb-reports.s3.amazonaws.com/nll-3/00bcc44fb92c28465c727881355c3235a56a4045/reg/google-drive3-cli-1.0.7%2B20171201/log.txt">https://cargobomb-reports.s3.amazonaws.com/nll-3/00bcc44fb92c28465c727881355c3235a56a4045/reg/google-drive3-cli-1.0.7%2B20171201/log.txt</a></p>



<a name="129230529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129230529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129230529">(Jul 06 2018 at 22:59)</a>:</h4>
<p>note that your crater-merge-report downloaded them fine, it's just in the html crater report that they fail</p>



<a name="129231011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129231011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129231011">(Jul 06 2018 at 23:12)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span></p>



<a name="129231012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129231012" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129231012">(Jul 06 2018 at 23:12)</a>:</h4>
<p>Need to replace + with %2B</p>



<a name="129231163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129231163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129231163">(Jul 06 2018 at 23:17)</a>:</h4>
<p>right :)</p>



<a name="129231227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129231227" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129231227">(Jul 06 2018 at 23:18)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> <a href="https://gist.github.com/Mark-Simulacrum/22ee460c5ff2a6f64ee04b41fe638bc6" target="_blank" title="https://gist.github.com/Mark-Simulacrum/22ee460c5ff2a6f64ee04b41fe638bc6">https://gist.github.com/Mark-Simulacrum/22ee460c5ff2a6f64ee04b41fe638bc6</a></p>



<a name="129231247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129231247" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129231247">(Jul 06 2018 at 23:19)</a>:</h4>
<p>niiice!</p>



<a name="129231301"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129231301" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129231301">(Jul 06 2018 at 23:20)</a>:</h4>
<p>there are so many crates broken by url 1.7.0</p>



<a name="129231379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129231379" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129231379">(Jul 06 2018 at 23:23)</a>:</h4>
<p>680 crates depend on it, and those are super popular as well</p>



<a name="129236233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129236233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129236233">(Jul 07 2018 at 01:39)</a>:</h4>
<p>d'oh</p>



<a name="129260884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129260884" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129260884">(Jul 07 2018 at 15:26)</a>:</h4>
<blockquote>
<p>lol if only I could "just fix" them, I'm not niko :p</p>
</blockquote>
<p>Not yet, maybe...</p>



<a name="129296264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129296264" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129296264">(Jul 08 2018 at 11:45)</a>:</h4>
<p>so update on crater:</p>
<ul>
<li>ICEs: the ones from the 2 runs have been triaged. <a href="https://github.com/rust-lang/rust/issues/52054" target="_blank" title="https://github.com/rust-lang/rust/issues/52054">nll-1</a> thoroughly by simulacrum and niko, <a href="https://gist.github.com/lqd/e9ef65a3f5eacdafdc3f0e16bf6bbbd2" target="_blank" title="https://gist.github.com/lqd/e9ef65a3f5eacdafdc3f0e16bf6bbbd2">nll-3</a> quickly by me. (Maybe we could use a second pair on eyes to double check both the list and triage)</li>
<li>root regressions : <a href="https://gist.github.com/Mark-Simulacrum/6a8c998ba184dcf0849863864aa3ac8b" target="_blank" title="https://gist.github.com/Mark-Simulacrum/6a8c998ba184dcf0849863864aa3ac8b">crater-tree's regressions</a> found 444 root regressions, while <a href="https://gist.github.com/Mark-Simulacrum/22ee460c5ff2a6f64ee04b41fe638bc6" target="_blank" title="https://gist.github.com/Mark-Simulacrum/22ee460c5ff2a6f64ee04b41fe638bc6">this other one</a> 1588 root regressions (in the second report, each version of a crate's root regressions will be shown — that's interesting for automated scripting but not exactly different from the other). However, the root regressions don't differentiate the source of the error causing the regression (just that they used to build and now they don't), so the situation we have with the bugged url-1.7.0 (and possibly more) leaks into any of its dependents and there are a lot. Those errors are not actionable since they're not in the root regressions crate, so I tried so separate those again.</li>
<li>root regressions with no errors from dependencies : <a href="https://hackmd.io/2sR4vloZQhC8arJkFOFyLA?both" target="_blank" title="https://hackmd.io/2sR4vloZQhC8arJkFOFyLA?both">Here is what I came up with</a>. There's a little blurb at the top on how this list was generated. I've started on this by marking the ICEs, and the results I already had done on the nll-1 run. That's something which can be triaged, and hackmd is supposedly multi user.</li>
<li>root regressions caused at least by an error in one of its dependencies : <a href="https://hackmd.io/VCYh_KdgQkO2O_45jWAxaw?both" target="_blank" title="https://hackmd.io/VCYh_KdgQkO2O_45jWAxaw?both">Here is what I came up with</a>. I've marked the crate I dealt with before in nll-1 (url-1.7.0, and which accounts for the majority of the errors in this list). There are still about 20 other crates to triage. I've seen some of these in nll-1, and we have some issues filed already, so I will mark these tomorrow. The ones I remember were mostly around what could be seen as expansions to 2 phase borrows. However, I have not automated or checked if this list could be filtered again because of the known ICEs.</li>
<li>root regressions with both errors in dependencies and in their own code: unknown at this time, and I'm not sure we can do this with certainty, as the build will usually fail because of the dependency error before even trying to build the dependent crate. (And I don't think there are logs in this state but I could be wrong). So there might be more things to discover (albeit in future crater runs)</li>
<li>things I forgot : I might be wrong in the analyses before, so if anyone wants to spitball (starting tomorrow though) the thought process, double check results, etc it could also be useful I'm sure.</li>
</ul>
<p>This is all I have. Enjoy your Sunday everyone (and/or flights to Greece) :)</p>



<a name="129758117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129758117" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129758117">(Jul 16 2018 at 15:44)</a>:</h4>
<p>lol at minimizing errors in crates with dozens of </p>
<div class="codehilite"><pre><span></span><span class="k">impl</span><span class="o">&lt;</span><span class="na">&#39;v</span><span class="p">,</span><span class="w"> </span><span class="na">&#39;i</span><span class="p">,</span><span class="w"> </span><span class="na">&#39;c</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="p">,</span><span class="w"> </span><span class="n">I</span><span class="p">,</span><span class="w"> </span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">W</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Apply</span><span class="o">&lt;</span><span class="na">&#39;c</span><span class="p">,</span><span class="w"> </span><span class="nb">Vec</span><span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">GroupBy</span><span class="o">&lt;</span><span class="na">&#39;i</span><span class="p">,</span><span class="w"> </span><span class="n">Block</span><span class="o">&lt;</span><span class="na">&#39;v</span><span class="p">,</span><span class="w"> </span><span class="na">&#39;i</span><span class="p">,</span><span class="w"> </span><span class="na">&#39;c</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="p">,</span><span class="w"> </span><span class="n">I</span><span class="p">,</span><span class="w"> </span><span class="n">C</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">G</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">    </span><span class="k">where</span><span class="w"> </span><span class="n">V</span>: <span class="nb">Clone</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="n">I</span>: <span class="nb">Clone</span> <span class="o">+</span><span class="w"> </span><span class="nb">Eq</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Hash</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="n">C</span>: <span class="nb">Clone</span> <span class="o">+</span><span class="w"> </span><span class="nb">Eq</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Hash</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="n">G</span>: <span class="na">&#39;c</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">Clone</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">Eq</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Hash</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">Ord</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="n">W</span>: <span class="na">&#39;c</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">Clone</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">In</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Block</span><span class="o">&lt;</span><span class="na">&#39;v</span><span class="p">,</span><span class="w"> </span><span class="na">&#39;i</span><span class="p">,</span><span class="w"> </span><span class="na">&#39;c</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="p">,</span><span class="w"> </span><span class="n">I</span><span class="p">,</span><span class="w"> </span><span class="n">C</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">FOut</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Vec</span><span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Block</span><span class="o">&lt;</span><span class="na">&#39;c</span><span class="p">,</span><span class="w"> </span><span class="na">&#39;c</span><span class="p">,</span><span class="w"> </span><span class="na">&#39;c</span><span class="p">,</span><span class="w"> </span><span class="n">W</span><span class="p">,</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">C</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
</pre></div>



<a name="129758163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129758163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129758163">(Jul 16 2018 at 15:45)</a>:</h4>
<p>these are the SO questions I hate the most</p>



<a name="129762381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129762381" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129762381">(Jul 16 2018 at 16:54)</a>:</h4>
<p>and then there's the error hidden in layers of macros</p>



<a name="129762388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129762388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129762388">(Jul 16 2018 at 16:54)</a>:</h4>
<p>I did leave the best ones for the end :3</p>



<a name="129764249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129764249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129764249">(Jul 16 2018 at 17:27)</a>:</h4>
<p>"Pokémon Gen3 save data" <span class="emoji emoji-1f602" title="joy">:joy:</span></p>



<a name="129764334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129764334" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129764334">(Jul 16 2018 at 17:28)</a>:</h4>
<p>I don't what this is doing but it's awesome</p>



<a name="129764469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129764469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129764469">(Jul 16 2018 at 17:31)</a>:</h4>
<p>funny:)</p>



<a name="129765826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129765826" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129765826">(Jul 16 2018 at 17:57)</a>:</h4>
<p>ok so I think they're "all" done bar one with thousands of lines of macros I couldn't untangle in an hour (and also the ones crater-tree ignores: the GH repos). Since some of the errors are weird or in a grey area between bugs and feature requests, it would be awesome if someone more knowledgeable about all these could do a pass over the results and reduced repros to correct my mistakes and things I didn't know or missed :)</p>



<a name="129766038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129766038" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129766038">(Jul 16 2018 at 18:01)</a>:</h4>
<p>amazing! awesome</p>



<a name="129767023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129767023" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129767023">(Jul 16 2018 at 18:19)</a>:</h4>
<p>Hopefully you fix all those and all the github ones get fixed too ;-)</p>



<a name="129767149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129767149" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129767149">(Jul 16 2018 at 18:21)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span>  don't forget some of those are definitely bugs in crates that AST borrowck let slip through :p</p>



<a name="129767208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129767208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129767208">(Jul 16 2018 at 18:22)</a>:</h4>
<p>which was in a sense lucky for me; "yay 300 regressions off the list" ;)</p>



<a name="129768002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129768002" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129768002">(Jul 16 2018 at 18:37)</a>:</h4>
<p>The AST borrow-sometimes-checker</p>



<a name="129809444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129809444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129809444">(Jul 17 2018 at 12:15)</a>:</h4>
<p>so there are 2 main "reports", I'll first start with the one about the root regressions' dependencies <a href="https://hackmd.io/VCYh_KdgQkO2O_45jWAxaw?both" target="_blank" title="https://hackmd.io/VCYh_KdgQkO2O_45jWAxaw?both">here</a>. These results contain both ICEs and errors spanning multiple versions of a crate (marked "same errors as XXXX"), so we can ignore all those. Then there are little bits of text for the others, some are "this looks like the 2-phase-borrows expansion feature" we just talked about, but others are less clear cut to me, so I've added a repro as well as why they seemed interesting/weird. For example "this might be fixed-by-NLL" or "some outlives annotations are missing but I'm not sure if rustc should/will infer them" or "is this for NLL2/polonius rather than today". The page might look big but that's like 25 crates, with the ICEs, multiple versions, known issues etc we mentioned, the ones needing a quick pass are maybe 8 total.</p>



<a name="129809763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129809763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129809763">(Jul 17 2018 at 12:24)</a>:</h4>
<p>The second report is about the errors in root regressions which were really in the crates and not their dependencies <a href="https://hackmd.io/2sR4vloZQhC8arJkFOFyLA?both" target="_blank" title="https://hackmd.io/2sR4vloZQhC8arJkFOFyLA?both">here</a>. 31 in total, &lt;10 to be ignored because of ICEs, known errors, and a couple of errors happening in multiple versions of crate, etc and is basically the same story as the previous report: a little blurb explaining what I thought the error was when I could, and repros. All in all mostly similar cases to the previous report, not exactly the same but where I wasn't sure, especially around the ones which feel correct to reject, or we're currently rejecting but maybe not in the future expanded 2ΦB, and the likes.</p>



<a name="129884877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/129884877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eh2406 <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#129884877">(Jul 18 2018 at 17:27)</a>:</h4>
<blockquote>
<p>We probably are also making Cargo somewhat unhappy since we put ~20,000 crates into the same target dir</p>
</blockquote>
<p>I got into dev for Cargo in order to make crater faster... It was a furry yak. What percentage of a crater run is spent in cargo?</p>



<a name="130629103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/130629103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#130629103">(Jul 31 2018 at 08:29)</a>:</h4>
<p>with Felix landing Niko's <a href="https://github.com/rust-lang/rust/issues/52731" target="_blank" title="https://github.com/rust-lang/rust/issues/52731">#52731</a> yesterday, it looks to me like all the ICEs encountered in the crater runs are fixed <span class="emoji emoji-1f389" title="tada">:tada:</span> so we could do another one soon (but we might hit another recent ICE that Oli and Matthew have been working on if we do it before their fix lands)</p>



<a name="130637698"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/130637698" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#130637698">(Jul 31 2018 at 11:31)</a>:</h4>
<p>The ICE is fixed, but there will still be regressions from the additional errors.</p>



<a name="132236570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132236570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132236570">(Aug 16 2018 at 12:35)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> <a href="https://github.com/rust-lang/rust/issues/53426" target="_blank" title="https://github.com/rust-lang/rust/issues/53426">#53426</a> should be sufficient for another crater run right ?</p>



<a name="132237216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132237216" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132237216">(Aug 16 2018 at 12:45)</a>:</h4>
<p>I think so, kicked off a try build</p>



<a name="132237313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132237313" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132237313">(Aug 16 2018 at 12:47)</a>:</h4>
<p>awesome, thank you</p>



<a name="132237443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132237443" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132237443">(Aug 16 2018 at 12:49)</a>:</h4>
<p>I'm not sure this is the correct patch either btw, but it did seem to enable the MIR borrowck and 2PB in my tests</p>



<a name="132241284"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132241284" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132241284">(Aug 16 2018 at 14:01)</a>:</h4>
<p>nice</p>



<a name="132242626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132242626" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132242626">(Aug 16 2018 at 14:25)</a>:</h4>
<p>mostly I'm wondering about tests, as they will not pass by just enabling these default borrowck/2PB options, but I don't know if the try builds or crater require them ?</p>



<a name="132247421"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132247421" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132247421">(Aug 16 2018 at 15:36)</a>:</h4>
<p>(the try build for the crater PR succeeded btw, it appears to match the instructions for <a href="https://github.com/rust-lang/rust/issues/53171" target="_blank" title="https://github.com/rust-lang/rust/issues/53171">#53171</a> -- I guess we'll need an final ok from <span class="user-mention" data-user-id="116083">@pnkfelix</span> or <span class="user-mention" data-user-id="116009">@nikomatsakis</span> and it should be good to go :)</p>



<a name="132249083"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132249083" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132249083">(Aug 16 2018 at 16:05)</a>:</h4>
<p>I think it looks great</p>



<a name="132249090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132249090" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132249090">(Aug 16 2018 at 16:05)</a>:</h4>
<p>I don't know how to start crater though I've heard of things like <code>craterbot</code></p>



<a name="132249259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132249259" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132249259">(Aug 16 2018 at 16:08)</a>:</h4>
<p>oh yeah I forgot about that :) it'll be for whenever the lovely people in the infra team have time :) (there might not even be a crater box available rn who knows)</p>



<a name="132351862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132351862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132351862">(Aug 18 2018 at 09:02)</a>:</h4>
<p>the crater run is finished! <a href="https://crater-reports.s3.amazonaws.com/pr-53426/index.html" target="_blank" title="https://crater-reports.s3.amazonaws.com/pr-53426/index.html">962 "regressions"</a> — I'll start triaging later but just looking at 50 random results there's this very widespread ICE <code>scrape_region_constraints</code> which seems new to me (but then might be already tracked since I was away :)</p>



<a name="132352240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132352240" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> memoryruins <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132352240">(Aug 18 2018 at 09:14)</a>:</h4>
<p>there appear to be handful of recent issues with that ICE</p>



<a name="132352242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132352242" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> memoryruins <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132352242">(Aug 18 2018 at 09:14)</a>:</h4>
<p>crash: checking hyper with borrowck-migrate <a href="https://github.com/rust-lang/rust/issues/52992" target="_blank" title="https://github.com/rust-lang/rust/issues/52992">#52992</a> <a href="https://github.com/rust-lang/rust/issues/52992" target="_blank" title="https://github.com/rust-lang/rust/issues/52992">https://github.com/rust-lang/rust/issues/52992</a></p>



<a name="132352256"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132352256" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> memoryruins <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132352256">(Aug 18 2018 at 09:15)</a>:</h4>
<p>Failed to compile hyper with NLL feature enabled <a href="https://github.com/rust-lang/rust/issues/53182" target="_blank" title="https://github.com/rust-lang/rust/issues/53182">#53182</a></p>



<a name="132352549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132352549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132352549">(Aug 18 2018 at 09:23)</a>:</h4>
<p>it's good that we already track it, less surprises :) thank you</p>



<a name="132363475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132363475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132363475">(Aug 18 2018 at 14:31)</a>:</h4>
<p>oh there's a 2nd ICE, <code>unresolved inference variable in outlives</code>on a couple crates; the rest (568 out of 962) are the <code>scrape_region_constraints</code> one</p>



<a name="132364239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132364239" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132364239">(Aug 18 2018 at 14:55)</a>:</h4>
<p>looks to me like the return of <a href="https://github.com/rust-lang/rust/issues/52057" target="_blank" title="https://github.com/rust-lang/rust/issues/52057">#52057</a> but in an even less probable situation than before — which I'll minimize next</p>



<a name="132381734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132381734" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132381734">(Aug 19 2018 at 00:14)</a>:</h4>
<p>here are the ICEs from the crater run <a href="https://github.com/rust-lang/rust/issues/53482" target="_blank" title="https://github.com/rust-lang/rust/issues/53482">#53482</a></p>



<a name="132383249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132383249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> memoryruins <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132383249">(Aug 19 2018 at 01:11)</a>:</h4>
<p>good analysis :)</p>



<a name="132412676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132412676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132412676">(Aug 19 2018 at 16:44)</a>:</h4>
<p>So between what crater reports as a "regression" and the ones which can appear in other crate's dependencies or crater "errors" or the blacklist etc, I think I have a tally that makes sense to me. </p>
<p>982 regressions, 591 ICEs. 357 crates failing because of a dependency (grouped to 30 root regression crates, even though crater doesn't see all of them as regressions per se), 24 crates failing by themselves. (The astute calculist will notice it doesn't add up to 982 but 972). Compared to the previous reports, I have incorporated more errors from the github projects we track (but ofc those won't be available to <code>cargo-curl</code> or <code>cratesio-curl</code>). </p>
<p>Here is the 24 crates <a href="https://hackmd.io/yK9YhE8-TGGA79tqOpkoCA?both" target="_blank" title="https://hackmd.io/yK9YhE8-TGGA79tqOpkoCA?both">regression report</a> and the 30/357 crate's dependencies <a href="https://hackmd.io/ELjNXP76TpKPXZjUZvzBIg" target="_blank" title="https://hackmd.io/ELjNXP76TpKPXZjUZvzBIg">regression report</a>. Of course, we've seen a lot of those in the previous 2 runs, but I have not yet incorporated the previous triaging results into these new reports, which is what I will do next.</p>



<a name="132412910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132412910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132412910">(Aug 19 2018 at 16:51)</a>:</h4>
<p>A lot of those look like know soundness fixes.</p>



<a name="132413065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132413065" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132413065">(Aug 19 2018 at 16:55)</a>:</h4>
<p>yeah, it doesn't look <em>that</em> different from the previous run, a good sign (I think :)</p>



<a name="132413138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132413138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132413138">(Aug 19 2018 at 16:57)</a>:</h4>
<p>the number of ICE occurrences has gone up (slightly) but the kinds of ICEs have gone down, there's way less "regressions", etc</p>



<a name="132437968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132437968" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132437968">(Aug 20 2018 at 07:02)</a>:</h4>
<p>to make it less confusing I will merge the "deps" report into the crates one somehow later today (eg by taking logs from dependent crates instead for the ones where we "don't have" them) so use only the second one ;)</p>



<a name="132463439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132463439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132463439">(Aug 20 2018 at 15:41)</a>:</h4>
<p>alright I'm out of time, so, update: I've merged the 2 reports into <a href="https://hackmd.io/yK9YhE8-TGGA79tqOpkoCA?both" target="_blank" title="https://hackmd.io/yK9YhE8-TGGA79tqOpkoCA?both">the crates one</a>, and maybe 40 out the 45/27 are now done (they don't all have repros as some errors look similar or are too time consuming to minimize) and ready to be double-checked</p>



<a name="132468417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132468417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> memoryruins <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132468417">(Aug 20 2018 at 17:09)</a>:</h4>
<p>unable to help double-checking until back in town end of week. enjoying staying updated on the progress, well done with the round-up!</p>



<a name="132511600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132511600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132511600">(Aug 21 2018 at 11:18)</a>:</h4>
<p>does <a href="https://play.rust-lang.org/?gist=b6e2b7ba1f746b2a91f237cbe2892f74&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=b6e2b7ba1f746b2a91f237cbe2892f74&amp;version=nightly&amp;mode=debug&amp;edition=2015">this</a> feel familiar to anyone or should I file an issue ? it's like 25% of the regressions in the crater run</p>



<a name="132515761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132515761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132515761">(Aug 21 2018 at 13:04)</a>:</h4>
<p>Feels like that's the same as foo(&amp;mut self, bar(&amp;self))</p>



<a name="132515829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132515829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132515829">(Aug 21 2018 at 13:05)</a>:</h4>
<p>Note it compiles with <code>    let mut w= [Gf256{}];</code></p>



<a name="132515907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132515907" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132515907">(Aug 21 2018 at 13:06)</a>:</h4>
<p>So I'm thinking it's some subtlety around <code>Index</code> desugaring or maybe the difference of "built in" indexing</p>



<a name="132516097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132516097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132516097">(Aug 21 2018 at 13:10)</a>:</h4>
<p>that's basically what I thought as well, it seems close the the 2PB expansion feature request but not exactly the same, seems to involve indexing and operator overloading, so I don't know</p>



<a name="132516126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132516126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132516126">(Aug 21 2018 at 13:10)</a>:</h4>
<p>in the meantime I'll leave it as is in the report and <span class="user-mention" data-user-id="116009">@nikomatsakis</span> and <span class="user-mention" data-user-id="116083">@pnkfelix</span> can weigh in when they have time to double check</p>



<a name="132516458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132516458" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132516458">(Aug 21 2018 at 13:16)</a>:</h4>
<p><code>*IndexMut::index_mut(&amp;mut w, 0) -= *Index::index(&amp;w, 0)</code> fails; hmm</p>



<a name="132527012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527012" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527012">(Aug 21 2018 at 16:23)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> I'd like to update <a href="https://github.com/nikomatsakis/nll-crater-run-results" target="_blank" title="https://github.com/nikomatsakis/nll-crater-run-results">https://github.com/nikomatsakis/nll-crater-run-results</a> with the latest crater run results... is there something I can read over to see the classifications you've done so far etc?</p>



<a name="132527113"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527113" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527113">(Aug 21 2018 at 16:25)</a>:</h4>
<p>oops I had forgotten about that or could have a made a PR :/</p>



<a name="132527122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527122" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527122">(Aug 21 2018 at 16:25)</a>:</h4>
<p>no big thing</p>



<a name="132527131"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527131" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527131">(Aug 21 2018 at 16:25)</a>:</h4>
<p>besides the ICE issue, there is <a href="https://hackmd.io/yK9YhE8-TGGA79tqOpkoCA?both" target="_blank" title="https://hackmd.io/yK9YhE8-TGGA79tqOpkoCA?both">https://hackmd.io/yK9YhE8-TGGA79tqOpkoCA?both</a></p>



<a name="132527183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527183">(Aug 21 2018 at 16:26)</a>:</h4>
<blockquote>
<p>does <a href="https://play.rust-lang.org/?gist=b6e2b7ba1f746b2a91f237cbe2892f74&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=b6e2b7ba1f746b2a91f237cbe2892f74&amp;version=nightly&amp;mode=debug&amp;edition=2015">this</a> feel familiar to anyone or should I file an issue ? it's like 25% of the regressions in the crater run</p>
</blockquote>
<p>I believe this may be <a href="https://github.com/rust-lang/rust/issues/47349" target="_blank" title="https://github.com/rust-lang/rust/issues/47349">https://github.com/rust-lang/rust/issues/47349</a> (which is categorized as WONTFIX afaik)</p>



<a name="132527198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527198" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527198">(Aug 21 2018 at 16:26)</a>:</h4>
<p>there may be some kind of 2PB expansion we can do but that's not clear</p>



<a name="132527226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527226" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527226">(Aug 21 2018 at 16:27)</a>:</h4>
<p>like <a href="https://github.com/rust-lang/rust/issues/51915" target="_blank" title="https://github.com/rust-lang/rust/issues/51915">https://github.com/rust-lang/rust/issues/51915</a></p>



<a name="132527233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527233">(Aug 21 2018 at 16:27)</a>:</h4>
<p>yeah but that alone wouldn't suffice</p>



<a name="132527249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527249">(Aug 21 2018 at 16:27)</a>:</h4>
<p>yeah</p>



<a name="132527250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527250" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527250">(Aug 21 2018 at 16:27)</a>:</h4>
<p>I think what happens here is that we first deref the <code>Vec&lt;T&gt;</code> to <code> [T]</code></p>



<a name="132527252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527252">(Aug 21 2018 at 16:27)</a>:</h4>
<p>and right <em>there</em> we do a mutable borrow</p>



<a name="132527303"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527303" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527303">(Aug 21 2018 at 16:28)</a>:</h4>
<p>and <em>then</em> we index into the <code>[T]</code> (mutably)</p>



<a name="132527314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527314">(Aug 21 2018 at 16:28)</a>:</h4>
<p>so there is a whole bunch of stuff happening before we get to the reads</p>



<a name="132527322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527322">(Aug 21 2018 at 16:28)</a>:</h4>
<p>I think it's beyond what 2PB can achieve</p>



<a name="132527326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527326">(Aug 21 2018 at 16:28)</a>:</h4>
<p>perhaps some more advanced variant could do it</p>



<a name="132527343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527343">(Aug 21 2018 at 16:29)</a>:</h4>
<p>e.g., the "phi" borrows that arielby was proposing</p>



<a name="132527554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527554" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527554">(Aug 21 2018 at 16:33)</a>:</h4>
<p>gluon_base and try_transform_mut seem fixed compared to before</p>



<a name="132527755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132527755" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132527755">(Aug 21 2018 at 16:37)</a>:</h4>
<p>the ICEs are <a href="https://github.com/rust-lang/rust/issues/53482" target="_blank" title="https://github.com/rust-lang/rust/issues/53482">here</a> btw</p>



<a name="132529720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132529720" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132529720">(Aug 21 2018 at 17:20)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> ok so the hackmd document contains the rest, and the ICEs are in <a href="https://github.com/rust-lang/rust/issues/53482" target="_blank" title="https://github.com/rust-lang/rust/issues/53482">#53482</a>?</p>



<a name="132529738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132529738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132529738">(Aug 21 2018 at 17:21)</a>:</h4>
<p>yeah, and I did <a href="https://github.com/nikomatsakis/nll-crater-run-results/pull/1" target="_blank" title="https://github.com/nikomatsakis/nll-crater-run-results/pull/1">https://github.com/nikomatsakis/nll-crater-run-results/pull/1</a> to start</p>



<a name="132529796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132529796" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132529796">(Aug 21 2018 at 17:22)</a>:</h4>
<p>oh nice!</p>



<a name="132529797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132529797" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132529797">(Aug 21 2018 at 17:22)</a>:</h4>
<p>is that complete?</p>



<a name="132529798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132529798" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132529798">(Aug 21 2018 at 17:22)</a>:</h4>
<p>i.e., should I merge?</p>



<a name="132529807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132529807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132529807">(Aug 21 2018 at 17:22)</a>:</h4>
<p>it's just updating a couple crates</p>



<a name="132529819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132529819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132529819">(Aug 21 2018 at 17:22)</a>:</h4>
<p>not complete unfortunately, I was working on adding more which you could then double check and review</p>



<a name="132529933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132529933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132529933">(Aug 21 2018 at 17:24)</a>:</h4>
<p>ie a lot of the crates in the hackmd doc are not in the repo yet, so I started by updating the ones which were in both</p>



<a name="132530125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530125" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530125">(Aug 21 2018 at 17:28)</a>:</h4>
<p>but it's mergeable I mean, those 3-4 crates are complete, it's just not the full run yet :)</p>



<a name="132530166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530166" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530166">(Aug 21 2018 at 17:29)</a>:</h4>
<p>would you rather I wait?</p>



<a name="132530268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530268">(Aug 21 2018 at 17:30)</a>:</h4>
<p>I can add what I did from the hackmd to this PR, I'd just need to know how you'd want to review/modify the results that wouldn't be 100% sure</p>



<a name="132530318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530318">(Aug 21 2018 at 17:31)</a>:</h4>
<p>for example the case we talked about earlier, maybe a different commit for those, and so on ?</p>



<a name="132530399"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530399" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530399">(Aug 21 2018 at 17:32)</a>:</h4>
<p>I'm confused by the attr case</p>



<a name="132530401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530401" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530401">(Aug 21 2018 at 17:32)</a>:</h4>
<p>I thought I filed a bug for that...</p>



<a name="132530413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530413">(Aug 21 2018 at 17:33)</a>:</h4>
<p>I was confused as well :)</p>



<a name="132530425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530425" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530425">(Aug 21 2018 at 17:33)</a>:</h4>
<p>/me feels disorganized</p>



<a name="132530492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530492" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530492">(Aug 21 2018 at 17:34)</a>:</h4>
<p>I searched for an issue mentioning attr while doing the doc and didn't seem to find any</p>



<a name="132530497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530497" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530497">(Aug 21 2018 at 17:35)</a>:</h4>
<p>(but travis messages contain "attr" so it makes search a bit hit and miss in this case :)</p>



<a name="132530498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530498">(Aug 21 2018 at 17:35)</a>:</h4>
<p>maybe I just forgot to file?</p>



<a name="132530513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530513" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530513">(Aug 21 2018 at 17:35)</a>:</h4>
<p>possible</p>



<a name="132530525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530525" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530525">(Aug 21 2018 at 17:35)</a>:</h4>
<p>possible :)</p>



<a name="132530534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530534">(Aug 21 2018 at 17:36)</a>:</h4>
<p>or maybe tried it on a branch where it worked</p>



<a name="132530817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530817">(Aug 21 2018 at 17:40)</a>:</h4>
<p>I guess regarding this ICE: "2. unresolved inference variable in outlives: _#3t"</p>



<a name="132530824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530824" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530824">(Aug 21 2018 at 17:40)</a>:</h4>
<p>we should open a new issue</p>



<a name="132530828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530828" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530828">(Aug 21 2018 at 17:40)</a>:</h4>
<p>I hate to reopen existing issues, too depressing</p>



<a name="132530857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530857" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530857">(Aug 21 2018 at 17:41)</a>:</h4>
<p>plus it looks a bit more involved (eg, possible impl Trait interaction) even if it manifests with the same ICE</p>



<a name="132530993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530993" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530993">(Aug 21 2018 at 17:43)</a>:</h4>
<p>right</p>



<a name="132530999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132530999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132530999">(Aug 21 2018 at 17:43)</a>:</h4>
<p>ok, I opened another issue</p>



<a name="132531119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531119">(Aug 21 2018 at 17:45)</a>:</h4>
<p>I'll put the ones where I'm not sure in the top table, and feel free to move them down as "correctly failing by MIR borrowck"</p>



<a name="132531190"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531190" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531190">(Aug 21 2018 at 17:46)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> can you link attr to <a href="https://github.com/rust-lang/rust/issues/53569" target="_blank" title="https://github.com/rust-lang/rust/issues/53569">https://github.com/rust-lang/rust/issues/53569</a> in <a href="https://github.com/nikomatsakis/nll-crater-run-results/pull/1/files" target="_blank" title="https://github.com/nikomatsakis/nll-crater-run-results/pull/1/files">https://github.com/nikomatsakis/nll-crater-run-results/pull/1/files</a> ?</p>



<a name="132531212"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531212" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531212">(Aug 21 2018 at 17:46)</a>:</h4>
<p>sure</p>



<a name="132531240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531240" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531240">(Aug 21 2018 at 17:47)</a>:</h4>
<p>I guess let me ask a different question :)</p>



<a name="132531241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531241" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531241">(Aug 21 2018 at 17:47)</a>:</h4>
<p>I want to go over these results</p>



<a name="132531249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531249">(Aug 21 2018 at 17:47)</a>:</h4>
<p>would you rather I go through the hackmd comment and leave comments?</p>



<a name="132531252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531252">(Aug 21 2018 at 17:47)</a>:</h4>
<p>I remember last time feeling a need to organize differently later on</p>



<a name="132531255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531255">(Aug 21 2018 at 17:47)</a>:</h4>
<p>but it is a handy way to do a first pass, I suppose</p>



<a name="132531319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531319">(Aug 21 2018 at 17:48)</a>:</h4>
<p>yeah maybe it can be a nice first pass, so that I can then incorporate those comments into the PR</p>



<a name="132531321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531321">(Aug 21 2018 at 17:48)</a>:</h4>
<p>k</p>



<a name="132531364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531364" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531364">(Aug 21 2018 at 17:49)</a>:</h4>
<p>all the  cases similar to <code>sprs-0.6.2</code> are what we talked about before and can be all marked as <a href="https://github.com/rust-lang/rust/issues/47349" target="_blank" title="https://github.com/rust-lang/rust/issues/47349">#47349</a> I think</p>



<a name="132531420"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531420" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531420">(Aug 21 2018 at 17:50)</a>:</h4>
<p>another question that is worth thinking about</p>



<a name="132531430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531430">(Aug 21 2018 at 17:50)</a>:</h4>
<p>is whether we want to make an effort to track WONTFIX so that later we can have some idea</p>



<a name="132531432"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531432" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531432">(Aug 21 2018 at 17:50)</a>:</h4>
<p>seems like yes</p>



<a name="132531441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531441">(Aug 21 2018 at 17:50)</a>:</h4>
<p>e.g., it'd be very useful to know the "classes" of fixes we saw in the wild</p>



<a name="132531445"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531445" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531445">(Aug 21 2018 at 17:50)</a>:</h4>
<p>so e.g. there is <a href="https://github.com/rust-lang/rust/issues/47349" target="_blank" title="https://github.com/rust-lang/rust/issues/47349">#47349</a></p>



<a name="132531464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531464" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531464">(Aug 21 2018 at 17:51)</a>:</h4>
<p>there is <code>foo(&amp;mut bar, ...)</code>, which you have been tagging as <a href="https://github.com/rust-lang/rust/issues/51915" target="_blank" title="https://github.com/rust-lang/rust/issues/51915">#51915</a> -- though I might draw finer distinctions</p>



<a name="132531472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531472">(Aug 21 2018 at 17:51)</a>:</h4>
<p>in particular between e.g. <code>foo(bar, ...)</code> (with an implicit reborrow) and the explicit form</p>



<a name="132531483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531483" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531483">(Aug 21 2018 at 17:51)</a>:</h4>
<p>seems like it would be good to classify those</p>



<a name="132531485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531485">(Aug 21 2018 at 17:51)</a>:</h4>
<p>I guess by tagging with issues</p>



<a name="132531534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531534">(Aug 21 2018 at 17:52)</a>:</h4>
<p>(if nothing else, these might be cases where we also want specialized diagnostics)</p>



<a name="132531543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132531543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132531543">(Aug 21 2018 at 17:52)</a>:</h4>
<p>agreed; (and maybe in the same vein we still have the run results without 2PB in case we want to see what the different "levels" of 2PB handling look like in the wild)</p>



<a name="132532257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132532257" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132532257">(Aug 21 2018 at 18:04)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> maybe I'll leave FIXME tags for things where it seems like some further work could be done (e.g., filing or finding a tracking issue for Fixed By NLL etc)</p>



<a name="132532259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132532259" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132532259">(Aug 21 2018 at 18:04)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> yeah I think liner is weird</p>



<a name="132532350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132532350" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132532350">(Aug 21 2018 at 18:06)</a>:</h4>
<p>I think the error is <em>probably</em> legit</p>



<a name="132532358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132532358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132532358">(Aug 21 2018 at 18:06)</a>:</h4>
<p>specifically I think there is a bug in AST borrowck .. I guess I should go see if I can find it</p>



<a name="132532380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132532380" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132532380">(Aug 21 2018 at 18:07)</a>:</h4>
<p>the repro surely was done for the previous run, I didn't notice the errors are probably different now for this crate</p>



<a name="132532451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132532451" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132532451">(Aug 21 2018 at 18:08)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> may recall... I think that AST borrowck though doesn't consider <code>match b { true, false }</code> to read <code>b</code>, which is clearly false</p>



<a name="132532457"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132532457" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132532457">(Aug 21 2018 at 18:08)</a>:</h4>
<p>or at least it doesn't under some circumstances</p>



<a name="132532485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132532485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132532485">(Aug 21 2018 at 18:09)</a>:</h4>
<p>yep, <a href="https://play.rust-lang.org/?gist=ac2a8a07e00d92032223408f1e4337b8&amp;version=stable&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=ac2a8a07e00d92032223408f1e4337b8&amp;version=stable&amp;mode=debug&amp;edition=2015">example from playground</a>:</p>
<div class="codehilite"><pre><span></span><span class="k">enum</span> <span class="nc">Foo</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">V1</span><span class="p">,</span><span class="w"> </span><span class="n">V2</span><span class="w"> </span><span class="p">}</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Foo</span>::<span class="n">V1</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">foo</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">match</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Foo</span>::<span class="n">V1</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(),</span><span class="w"> </span><span class="n">Foo</span>::<span class="n">V2</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="n">drop</span><span class="p">(</span><span class="n">bar</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>



<a name="132532486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132532486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132532486">(Aug 21 2018 at 18:09)</a>:</h4>
<p>that compiles with AST borrowck (!)</p>



<a name="132532540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132532540" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132532540">(Aug 21 2018 at 18:10)</a>:</h4>
<p>but not with NLL</p>



<a name="132532543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132532543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132532543">(Aug 21 2018 at 18:10)</a>:</h4>
<p>seems like <a href="https://github.com/rust-lang/rust/issues/27282" target="_blank" title="https://github.com/rust-lang/rust/issues/27282">https://github.com/rust-lang/rust/issues/27282</a> <em>may</em> be the right issue, but that's really for a different problem</p>



<a name="132532744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132532744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132532744">(Aug 21 2018 at 18:15)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> in the repo you have "wants a more aggressive 2PB" is that the WONTFIX one like for <code>capnp</code> ?</p>



<a name="132532945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132532945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132532945">(Aug 21 2018 at 18:18)</a>:</h4>
<p>probably... where did I write that?</p>



<a name="132533027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533027">(Aug 21 2018 at 18:20)</a>:</h4>
<p>lower table, <code>extended-collections</code></p>



<a name="132533039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533039" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533039">(Aug 21 2018 at 18:20)</a>:</h4>
<p>maybe not since there is an issue hmm</p>



<a name="132533128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533128" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533128">(Aug 21 2018 at 18:22)</a>:</h4>
<p>maybe the WONTFIX for <code>capnp</code>in the hackmd doc might be one of those cases we mentioned where we can track them later</p>



<a name="132533225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533225">(Aug 21 2018 at 18:24)</a>:</h4>
<p>I guess I wish I had transcribed the log links =)</p>



<a name="132533243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533243" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533243">(Aug 21 2018 at 18:25)</a>:</h4>
<p>but yes looking at <a href="https://crater-reports.s3.amazonaws.com/pr-53426/a5d98b025f62ace80fe9d2a15781f900fc42515e-alt/reg/extended-collections-0.2.0/log.txt" target="_blank" title="https://crater-reports.s3.amazonaws.com/pr-53426/a5d98b025f62ace80fe9d2a15781f900fc42515e-alt/reg/extended-collections-0.2.0/log.txt">the log here</a>, it looks like this comes from the <code>foo(&amp;mut bar, use(bar))</code> pattern</p>



<a name="132533267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533267">(Aug 21 2018 at 18:25)</a>:</h4>
<p>Really, I think we should file a tracking issue for .. hmm, what to call it</p>



<a name="132533276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533276" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533276">(Aug 21 2018 at 18:25)</a>:</h4>
<p>I think arielby's name was Ref2Φ</p>



<a name="132533279"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533279" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533279">(Aug 21 2018 at 18:25)</a>:</h4>
<p>but I'd prefer something one can type in ASCII :P</p>



<a name="132533283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533283" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533283">(Aug 21 2018 at 18:25)</a>:</h4>
<p>:D</p>



<a name="132533294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533294" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533294">(Aug 21 2018 at 18:25)</a>:</h4>
<p>maybe just Ref2 :)</p>



<a name="132533330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533330" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533330">(Aug 21 2018 at 18:26)</a>:</h4>
<p>Ref2Phi2Furious</p>



<a name="132533343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533343">(Aug 21 2018 at 18:26)</a>:</h4>
<p>anyway, the point, a generalized form of 2PB that is integrated into the type system proper</p>



<a name="132533364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533364" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533364">(Aug 21 2018 at 18:26)</a>:</h4>
<p>it seems like the examples we see almost all fall into that category</p>



<a name="132533368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533368" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533368">(Aug 21 2018 at 18:26)</a>:</h4>
<p>rather than the <em>actual</em> expansion I had in mind for <a href="https://github.com/rust-lang/rust/issues/51915" target="_blank" title="https://github.com/rust-lang/rust/issues/51915">#51915</a></p>



<a name="132533375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533375" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533375">(Aug 21 2018 at 18:26)</a>:</h4>
<p>so maybe we should just repurpose <a href="https://github.com/rust-lang/rust/issues/51915" target="_blank" title="https://github.com/rust-lang/rust/issues/51915">#51915</a>, I don't know</p>



<a name="132533405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533405" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533405">(Aug 21 2018 at 18:27)</a>:</h4>
<p>in particular here the extended-collections error in question:</p>
<div class="codehilite"><pre><span></span><span class="n">Aug</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mi">23</span>:<span class="mi">13</span>:<span class="mf">06.434</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">kablam</span><span class="o">!</span><span class="w"> </span><span class="mi">155</span><span class="w"> </span><span class="o">|</span><span class="w">                       </span><span class="n">curr_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">mem</span>::<span class="n">replace</span><span class="p">(</span><span class="w"></span>
<span class="n">Aug</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mi">23</span>:<span class="mi">13</span>:<span class="mf">06.434</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">kablam</span><span class="o">!</span><span class="w">     </span><span class="o">|</span><span class="w">  </span><span class="n">______________________________________</span><span class="o">-</span><span class="w"></span>
<span class="n">Aug</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mi">23</span>:<span class="mi">13</span>:<span class="mf">06.434</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">kablam</span><span class="o">!</span><span class="w"> </span><span class="mi">156</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                         </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">next_link</span><span class="p">,</span><span class="w"></span>
<span class="n">Aug</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mi">23</span>:<span class="mi">13</span>:<span class="mf">06.434</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">kablam</span><span class="o">!</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                         </span><span class="o">--------------</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">mutable</span><span class="w"> </span><span class="n">borrow</span><span class="w"> </span><span class="n">occurs</span><span class="w"> </span><span class="n">here</span><span class="w"></span>
<span class="n">Aug</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mi">23</span>:<span class="mi">13</span>:<span class="mf">06.434</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">kablam</span><span class="o">!</span><span class="w"> </span><span class="mi">157</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                         </span><span class="p">(</span><span class="o">*</span><span class="n">next_link</span><span class="p">.</span><span class="n">next</span><span class="p">).</span><span class="n">get_pointer_mut</span><span class="p">(</span><span class="n">curr_height</span><span class="p">),</span><span class="w"></span>
<span class="n">Aug</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mi">23</span>:<span class="mi">13</span>:<span class="mf">06.434</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">kablam</span><span class="o">!</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                         </span><span class="o">^^^^^^^^^^^^^^^^^</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">mutable</span><span class="w"> </span><span class="n">borrow</span><span class="w"> </span><span class="n">occurs</span><span class="w"> </span><span class="n">here</span><span class="w"></span>
<span class="n">Aug</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mi">23</span>:<span class="mi">13</span>:<span class="mf">06.434</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">kablam</span><span class="o">!</span><span class="w"> </span><span class="mi">158</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">                     </span><span class="p">).</span><span class="n">next</span><span class="p">;</span><span class="w"></span>
<span class="n">Aug</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mi">23</span>:<span class="mi">13</span>:<span class="mf">06.434</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">kablam</span><span class="o">!</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_____________________</span><span class="o">-</span><span class="w"> </span><span class="n">borrow</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">here</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">later</span><span class="w"> </span><span class="n">iteration</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="k">loop</span><span class="w"></span>
</pre></div>



<a name="132533485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533485">(Aug 21 2018 at 18:28)</a>:</h4>
<p>(maybe we can link all the hackmd we've made in the repo, to at least have those until all the FIXMEs are done)</p>



<a name="132533518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533518" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533518">(Aug 21 2018 at 18:29)</a>:</h4>
<p>it seems like we basically have two common regressions—</p>



<a name="132533522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533522" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533522">(Aug 21 2018 at 18:29)</a>:</h4>
<p>this one (<a href="https://github.com/rust-lang/rust/issues/51915" target="_blank" title="https://github.com/rust-lang/rust/issues/51915">#51915</a>) and the fact that we correctly check <code>+=</code> now</p>



<a name="132533564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533564" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533564">(Aug 21 2018 at 18:30)</a>:</h4>
<p>interestingly, <em>both</em> of those might be fixed by the same 2-phase borrow sort of thing</p>



<a name="132533645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533645">(Aug 21 2018 at 18:31)</a>:</h4>
<p>hmm <span class="user-mention" data-user-id="116113">@lqd</span> this example may be a bug:</p>
<p><a href="https://play.rust-lang.org/?gist=2d4da1787e06a75def402cfe1f9e544e&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=2d4da1787e06a75def402cfe1f9e544e&amp;version=nightly&amp;mode=debug&amp;edition=2015">minimized</a></p>



<a name="132533663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533663" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533663">(Aug 21 2018 at 18:31)</a>:</h4>
<p>in particular because of this:</p>
<div class="codehilite"><pre><span></span><span class="w">    </span><span class="n">parse_sess</span>: <span class="kp">&amp;</span><span class="na">&#39;a</span><span class="w"> </span><span class="n">ParseSess</span><span class="p">,</span><span class="w"></span>
</pre></div>



<a name="132533667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533667" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533667">(Aug 21 2018 at 18:31)</a>:</h4>
<p>this implies that e.g. you could rewrite that code too</p>



<a name="132533717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533717">(Aug 21 2018 at 18:32)</a>:</h4>
<p>oh...</p>



<a name="132533722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533722" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533722">(Aug 21 2018 at 18:32)</a>:</h4>
<p><em>never mind</em> :)</p>



<a name="132533735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533735">(Aug 21 2018 at 18:32)</a>:</h4>
<p>I was going to say you could rewrite to <code>let parse_sess = cx.parse_sess;</code></p>



<a name="132533740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533740" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533740">(Aug 21 2018 at 18:32)</a>:</h4>
<p>but of course that <em>itself</em> would be an illegal access</p>



<a name="132533751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533751" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533751">(Aug 21 2018 at 18:32)</a>:</h4>
<p>presumably this same confusion is why the AST-based checker accepted it</p>



<a name="132533776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533776">(Aug 21 2018 at 18:33)</a>:</h4>
<p>ok I went through the whole hackmd doc</p>



<a name="132533799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533799">(Aug 21 2018 at 18:33)</a>:</h4>
<p>thanks a million times for doing this initial triage work <span class="user-mention" data-user-id="116113">@lqd</span> <span class="emoji emoji-1f451" title="crown">:crown:</span></p>



<a name="132533802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132533802" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132533802">(Aug 21 2018 at 18:33)</a>:</h4>
<p>so, so helpful</p>



<a name="132534001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132534001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132534001">(Aug 21 2018 at 18:36)</a>:</h4>
<p>awesome thank you! I'll incorporate the hackmd comments now</p>



<a name="132534235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132534235" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132534235">(Aug 21 2018 at 18:40)</a>:</h4>
<p>oh but I can link the WONTFIX cases to <a href="https://github.com/rust-lang/rust/issues/47349" target="_blank" title="https://github.com/rust-lang/rust/issues/47349">https://github.com/rust-lang/rust/issues/47349</a> as it's "the diagnostics to guide users" for cases which used to work IIUC</p>



<a name="132534407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132534407" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132534407">(Aug 21 2018 at 18:43)</a>:</h4>
<p>yes, seems good</p>



<a name="132534410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132534410" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132534410">(Aug 21 2018 at 18:43)</a>:</h4>
<p>it's worth separating the cases anyway</p>



<a name="132534452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132534452" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132534452">(Aug 21 2018 at 18:44)</a>:</h4>
<p>as there might be some targeted fix for one and not the other</p>



<a name="132535043"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535043" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535043">(Aug 21 2018 at 18:55)</a>:</h4>
<p>I'll reminimize <code>rs-graph-0.14.0</code> to show more specifically where the 2 borrowcks differ, otherwise it'll be tough to check if it's <a href="https://github.com/rust-lang/rust/issues/53121" target="_blank" title="https://github.com/rust-lang/rust/issues/53121">#53121</a></p>



<a name="132535051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535051">(Aug 21 2018 at 18:56)</a>:</h4>
<p>yep</p>



<a name="132535089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535089">(Aug 21 2018 at 18:56)</a>:</h4>
<p>that'd be awesome</p>



<a name="132535102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535102" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535102">(Aug 21 2018 at 18:56)</a>:</h4>
<p>need to write that auto minimization tool, like bugpoint ;-)</p>



<a name="132535244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535244">(Aug 21 2018 at 18:58)</a>:</h4>
<p>creduce works "fine"</p>



<a name="132535277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535277">(Aug 21 2018 at 18:59)</a>:</h4>
<p>Oh?</p>



<a name="132535282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535282">(Aug 21 2018 at 18:59)</a>:</h4>
<p>but it's super aggressive in reducing the names, making it a bit harder to link to the original crate</p>



<a name="132535294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535294" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535294">(Aug 21 2018 at 18:59)</a>:</h4>
<blockquote>
<p>C-Reduce happens to do a pretty good job reducing the size of programs in languages other than C/C++, such as JavaScript and Rust.</p>
</blockquote>



<a name="132535298"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535298" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535298">(Aug 21 2018 at 18:59)</a>:</h4>
<p>huh, TIL</p>



<a name="132535354"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535354" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535354">(Aug 21 2018 at 19:00)</a>:</h4>
<p>I wonder how useful reducing names actually is to finding bugs. Be nice if you could disable that</p>



<a name="132535355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535355" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535355">(Aug 21 2018 at 19:00)</a>:</h4>
<p>I did use it for the one crate linking super generic code from hyper, futures, and tokio</p>



<a name="132535365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535365" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535365">(Aug 21 2018 at 19:00)</a>:</h4>
<p>but then renamed everything so it's easier to understand and closer to the crate</p>



<a name="132535391"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535391" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535391">(Aug 21 2018 at 19:01)</a>:</h4>
<p>that was after a couple hours of reducing this case manually :)</p>



<a name="132535452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535452" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535452">(Aug 21 2018 at 19:02)</a>:</h4>
<p>(also it uses clang-format so it looks weird, maybe we can hook up rustfmt for it)</p>



<a name="132535512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535512">(Aug 21 2018 at 19:03)</a>:</h4>
<p>I was confused by <a href="https://crater-reports.s3.amazonaws.com/pr-53426/a5d98b025f62ace80fe9d2a15781f900fc42515e-alt/reg/segment-tree-1.1.0/log.txt" target="_blank" title="https://crater-reports.s3.amazonaws.com/pr-53426/a5d98b025f62ace80fe9d2a15781f900fc42515e-alt/reg/segment-tree-1.1.0/log.txt">segment-tree</a> as it built fine on nightly</p>



<a name="132535576"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132535576" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132535576">(Aug 21 2018 at 19:04)</a>:</h4>
<p>but probably I did something wrong instead</p>



<a name="132536940"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132536940" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132536940">(Aug 21 2018 at 19:31)</a>:</h4>
<p>just in time for the meeting, I've pushed the missing results to <a href="https://github.com/nikomatsakis/nll-crater-run-results/pull/1" target="_blank" title="https://github.com/nikomatsakis/nll-crater-run-results/pull/1">https://github.com/nikomatsakis/nll-crater-run-results/pull/1</a> for all except rs-graph which I'll re-minimize before either opening a new pr or pushing to this one</p>



<a name="132572841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132572841" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132572841">(Aug 22 2018 at 11:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> added a couple things, including the new rs-graph repros where the 2 borrowcks disagree <a href="https://github.com/nikomatsakis/nll-crater-run-results/pull/2" target="_blank" title="https://github.com/nikomatsakis/nll-crater-run-results/pull/2">https://github.com/nikomatsakis/nll-crater-run-results/pull/2</a></p>



<a name="132572865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132572865" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132572865">(Aug 22 2018 at 11:29)</a>:</h4>
<p>that was quick :)</p>



<a name="132572869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132572869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132572869">(Aug 22 2018 at 11:29)</a>:</h4>
<p>/me looks</p>



<a name="132572921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132572921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132572921">(Aug 22 2018 at 11:30)</a>:</h4>
<p>living on the edge, merging before looking :)</p>



<a name="132573012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132573012" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132573012">(Aug 22 2018 at 11:32)</a>:</h4>
<p>I'll reminimize liner now</p>



<a name="132573710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132573710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132573710">(Aug 22 2018 at 11:51)</a>:</h4>
<p>I think last time I minimized liner, using a _ pattern might have made things confusing (rather than contributing to my goal of not focusing on the match arms): that is, the errors didn't change between the 2 crater runs, and the 2 borrowcks differed on the minimal repro.</p>



<a name="132573713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132573713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132573713">(Aug 22 2018 at 11:51)</a>:</h4>
<p><a href="https://play.rust-lang.org/?gist=7f96eeac405c6f2316fdc794c1631124&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=7f96eeac405c6f2316fdc794c1631124&amp;version=nightly&amp;mode=debug&amp;edition=2015">This repro</a> is more truthful to the crate</p>



<a name="132573753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132573753" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132573753">(Aug 22 2018 at 11:52)</a>:</h4>
<p>but <a href="https://play.rust-lang.org/?gist=ccb6c558bf380bc7026074c958be3c7a&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=ccb6c558bf380bc7026074c958be3c7a&amp;version=nightly&amp;mode=debug&amp;edition=2015">this one</a> with the _ pattern was tagged as <a href="https://github.com/rust-lang/rust/issues/53114" target="_blank" title="https://github.com/rust-lang/rust/issues/53114">#53114</a></p>



<a name="132573756"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132573756" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132573756">(Aug 22 2018 at 11:52)</a>:</h4>
<p>(while I thought the errors looked legit)</p>



<a name="132573956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132573956" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132573956">(Aug 22 2018 at 11:59)</a>:</h4>
<p>thanks :)</p>



<a name="132573957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132573957" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132573957">(Aug 22 2018 at 11:59)</a>:</h4>
<p>my take would be that the "truthful" repro is "not a bug"</p>



<a name="132574001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132574001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132574001">(Aug 22 2018 at 12:00)</a>:</h4>
<p>(though, incidentally, I think that the Ref2 proposal might accept it)</p>



<a name="132574005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132574005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132574005">(Aug 22 2018 at 12:00)</a>:</h4>
<p>(or some variants thereof)</p>



<a name="132574006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132574006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132574006">(Aug 22 2018 at 12:00)</a>:</h4>
<p>but <a href="https://github.com/rust-lang/rust/issues/53114" target="_blank" title="https://github.com/rust-lang/rust/issues/53114">#53114</a> may well be a bug :P</p>



<a name="132574008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132574008" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132574008">(Aug 22 2018 at 12:00)</a>:</h4>
<p>sometimes lies are useful I guess</p>



<a name="132574011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132574011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132574011">(Aug 22 2018 at 12:00)</a>:</h4>
<p>I'll open another PR on your repo for the repro and moving them in the "correct" table</p>



<a name="132574370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132574370" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132574370">(Aug 22 2018 at 12:10)</a>:</h4>
<p>and here it is <a href="https://github.com/nikomatsakis/nll-crater-run-results/pull/3" target="_blank" title="https://github.com/nikomatsakis/nll-crater-run-results/pull/3">https://github.com/nikomatsakis/nll-crater-run-results/pull/3</a></p>



<a name="132576947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132576947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132576947">(Aug 22 2018 at 13:11)</a>:</h4>
<p>ty &lt;3</p>



<a name="132577652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132577652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132577652">(Aug 22 2018 at 13:24)</a>:</h4>
<p>np :)</p>



<a name="132928799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132928799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132928799">(Aug 28 2018 at 16:59)</a>:</h4>
<p>/me realizes he still hasn't minimized the 2 remaining crates from the crater run <span class="emoji emoji-1f631" title="scream">:scream:</span></p>



<a name="132928815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132928815" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132928815">(Aug 28 2018 at 16:59)</a>:</h4>
<p><em>eek</em></p>



<a name="132928819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132928819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132928819">(Aug 28 2018 at 16:59)</a>:</h4>
<p>I didn't realize there were any left :)</p>



<a name="132928829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132928829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132928829">(Aug 28 2018 at 16:59)</a>:</h4>
<p>/me shouldn't have said anything</p>



<a name="132929022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132929022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132929022">(Aug 28 2018 at 17:02)</a>:</h4>
<p>for reals centril's proptest-arbitrary + proptest is tough to do, I spent a "couple" hours on it and came up short so with new hope and energy and c-reduce I'll try to do so before the meeting (I was finishing automating the timing of the "modern crate versions")</p>



<a name="132933209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132933209" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132933209">(Aug 28 2018 at 18:15)</a>:</h4>
<p>this is what I mean, repro, not minimized <a href="https://play.rust-lang.org/?gist=c990af931ab56d93207efcade0ffd01b&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=c990af931ab56d93207efcade0ffd01b&amp;version=nightly&amp;mode=debug&amp;edition=2015">https://play.rust-lang.org/?gist=c990af931ab56d93207efcade0ffd01b&amp;version=nightly&amp;mode=debug&amp;edition=2015</a></p>



<a name="132933277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132933277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132933277">(Aug 28 2018 at 18:16)</a>:</h4>
<p><span class="emoji emoji-1f631" title="scream">:scream:</span></p>



<a name="132933306"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132933306" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132933306">(Aug 28 2018 at 18:17)</a>:</h4>
<p>well.. that's not <em>terrible</em></p>



<a name="132933323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132933323" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132933323">(Aug 28 2018 at 18:17)</a>:</h4>
<p>can we run the expanded form instead?</p>



<a name="132933337"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132933337" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132933337">(Aug 28 2018 at 18:17)</a>:</h4>
<p>the destination was not terrible but the journey was :p</p>



<a name="132933417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132933417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132933417">(Aug 28 2018 at 18:18)</a>:</h4>
<p>heh</p>



<a name="132933429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132933429" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132933429">(Aug 28 2018 at 18:19)</a>:</h4>
<p>by now probably yeah, I'll just throw it at c-reduce you never know :)</p>



<a name="132933454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132933454" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132933454">(Aug 28 2018 at 18:19)</a>:</h4>
<p>(c-reduce works on a single file)</p>



<a name="132934003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132934003" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132934003">(Aug 28 2018 at 18:29)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> ping me if you want to bounce around ideas on how to reduce. (As Niko says, the first step is often to work on an expanded form. My second step is often, or at least used to be, to employ “everybody loops”.)</p>



<a name="132934097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132934097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132934097">(Aug 28 2018 at 18:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> cool, thank you :) thankfully in my cases it's mostly about traits and bounds so I can remove all the methods and/or employ "everybody-unimplementeds"</p>



<a name="132934186"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132934186" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132934186">(Aug 28 2018 at 18:32)</a>:</h4>
<p>Bah; why panic when you can diverge? ;)</p>



<a name="132992504"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132992504" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132992504">(Aug 29 2018 at 12:22)</a>:</h4>
<p>the <code>proptest-arbitrary</code> minimized results in <a href="https://github.com/nikomatsakis/nll-crater-run-results/pull/4" target="_blank" title="https://github.com/nikomatsakis/nll-crater-run-results/pull/4">https://github.com/nikomatsakis/nll-crater-run-results/pull/4</a> look like <a href="https://github.com/rust-lang/rust/issues/53570" target="_blank" title="https://github.com/rust-lang/rust/issues/53570">#53570</a></p>



<a name="132994331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132994331" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132994331">(Aug 29 2018 at 12:57)</a>:</h4>
<p>ok, I should test if my fix fixes it</p>



<a name="132994504"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132994504" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132994504">(Aug 29 2018 at 13:00)</a>:</h4>
<p>ah yes, there's already a PR fixing this issue, nice</p>



<a name="132998356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132998356" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132998356">(Aug 29 2018 at 14:06)</a>:</h4>
<p>my branch does not fix the examples</p>



<a name="132998358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132998358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132998358">(Aug 29 2018 at 14:06)</a>:</h4>
<p>did we file  a bug for them?</p>



<a name="132998365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132998365" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132998365">(Aug 29 2018 at 14:06)</a>:</h4>
<p>I think they are a separate — but perhaps similar — problem</p>



<a name="132998367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132998367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132998367">(Aug 29 2018 at 14:06)</a>:</h4>
<p>I've not dug into it more deeply yet</p>



<a name="132998413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132998413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132998413">(Aug 29 2018 at 14:07)</a>:</h4>
<p>I don't think we did no</p>



<a name="132998476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132998476" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132998476">(Aug 29 2018 at 14:08)</a>:</h4>
<p>I can do it and ref it in the PR if you want ?</p>



<a name="132998893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/132998893" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#132998893">(Aug 29 2018 at 14:15)</a>:</h4>
<p>would be good, thanks</p>



<a name="133000238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133000238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133000238">(Aug 29 2018 at 14:42)</a>:</h4>
<p><span class="emoji emoji-1f926" title="face palm">:face_palm:</span> <a href="https://github.com/rust-lang/rust/issues/53570" target="_blank" title="https://github.com/rust-lang/rust/issues/53570">#53570</a> is about closures and there were no closures in the minimized versions, sorry. I filed <a href="https://github.com/rust-lang/rust/issues/53789" target="_blank" title="https://github.com/rust-lang/rust/issues/53789">#53789</a> and updated the <code>nll-crater-run-results</code> PR</p>



<a name="133007909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133007909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133007909">(Aug 29 2018 at 16:39)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> if those proptest-arbitrary cases are a duplicate of <a href="https://github.com/rust-lang/rust/issues/53121" target="_blank" title="https://github.com/rust-lang/rust/issues/53121">#53121</a> it'll be interesting to see why they differ wrt crate-type=lib ?</p>



<a name="133008455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133008455" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133008455">(Aug 29 2018 at 16:50)</a>:</h4>
<p>yeah, I forgot about that</p>



<a name="133306503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133306503" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133306503">(Sep 04 2018 at 11:56)</a>:</h4>
<p>I finalized minimized <code>pom</code> from the crater run: is <a href="https://play.rust-lang.org/?gist=c6a5e5dcf99e04855350770b62528486&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=c6a5e5dcf99e04855350770b62528486&amp;version=nightly&amp;mode=debug&amp;edition=2015">this playground example</a> an instance of <a href="https://github.com/rust-lang/rust/issues/53040" target="_blank" title="https://github.com/rust-lang/rust/issues/53040">#53040</a> ? and is this issue tracking the fact that the error "returning this value requires that <code>'1</code> must outlive <code>'2</code>" doesn't contain a note with the <code>'2</code> lifetime here ?</p>



<a name="133893616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133893616" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133893616">(Sep 13 2018 at 15:34)</a>:</h4>
<p>also I was wondering, now that type ascription support is more advanced, and the previous run's ICEs are fixed, if we'll need another crater run soon, maybe wait until more of the type ascription work lands ?  (and since I'm guessing the RC is super soon, it could be for some time during RC2 ?)</p>



<a name="133895009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895009">(Sep 13 2018 at 15:56)</a>:</h4>
<p>I'm mildly nervous about ascription causing ICEs or errors</p>



<a name="133895010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895010" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895010">(Sep 13 2018 at 15:56)</a>:</h4>
<p>so it seems good to run it</p>



<a name="133895017"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895017" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895017">(Sep 13 2018 at 15:57)</a>:</h4>
<p>but it may indeed be that we can piggy back on the RC run</p>



<a name="133895024"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895024" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895024">(Sep 13 2018 at 15:57)</a>:</h4>
<p>although</p>



<a name="133895027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895027">(Sep 13 2018 at 15:57)</a>:</h4>
<p>I think that may not work for us</p>



<a name="133895030"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895030" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895030">(Sep 13 2018 at 15:57)</a>:</h4>
<p>beacuse it will be in migration mode</p>



<a name="133895031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895031">(Sep 13 2018 at 15:57)</a>:</h4>
<p>and we want to see errors, right?</p>



<a name="133895037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895037">(Sep 13 2018 at 15:57)</a>:</h4>
<p>seems like we should do our own run</p>



<a name="133895044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895044" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895044">(Sep 13 2018 at 15:57)</a>:</h4>
<p>yeah good point</p>



<a name="133895047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895047" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895047">(Sep 13 2018 at 15:57)</a>:</h4>
<p>Craterbot allows anyone on the compiler team (which it gets through, I think, the GH team) to queue runs now :)</p>



<a name="133895054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895054">(Sep 13 2018 at 15:58)</a>:</h4>
<p>nice</p>



<a name="133895144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895144">(Sep 13 2018 at 15:59)</a>:</h4>
<p><a href="https://crater.rust-lang.org/" target="_blank" title="https://crater.rust-lang.org/">https://crater.rust-lang.org/</a> is also a wonderful UI now</p>



<a name="133895224"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895224" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895224">(Sep 13 2018 at 16:00)</a>:</h4>
<p>and wonderfully devoid of running experiments which we could take advantage of at any time :)</p>



<a name="133895760"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895760" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> memoryruins <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895760">(Sep 13 2018 at 16:09)</a>:</h4>
<p>perfect timing :) would you mind opening the PR for a crater run again <span class="user-mention" data-user-id="116113">@lqd</span> ?</p>



<a name="133895892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133895892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133895892">(Sep 13 2018 at 16:11)</a>:</h4>
<p>yeah I can take care of that, do we want it like soon or would we want more of the remaining ascription work to land first ?</p>



<a name="133896006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133896006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133896006">(Sep 13 2018 at 16:13)</a>:</h4>
<p>I thnk all the ascription work that is going to land in near future has landed</p>



<a name="133896009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133896009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133896009">(Sep 13 2018 at 16:13)</a>:</h4>
<p>the rest isn't even started yet</p>



<a name="133896010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133896010" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133896010">(Sep 13 2018 at 16:13)</a>:</h4>
<p>also, we believe it's mostly "the details"</p>



<a name="133896011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133896011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133896011">(Sep 13 2018 at 16:13)</a>:</h4>
<p>but not the common cases</p>



<a name="133896080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133896080" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133896080">(Sep 13 2018 at 16:14)</a>:</h4>
<p>oh ok I'll take care of it now then</p>



<a name="133898219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133898219" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133898219">(Sep 13 2018 at 16:53)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/53426" target="_blank" title="https://github.com/rust-lang/rust/pull/53426">https://github.com/rust-lang/rust/pull/53426</a> is updated, and should be ready to be <code>try</code>-ed and then <code>craterbot</code>-ted</p>



<a name="133920550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133920550" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> memoryruins <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133920550">(Sep 13 2018 at 23:49)</a>:</h4>
<p><a href="/user_uploads/4715/sl3l2f-40E44fHj060o_HrV5/screenshot.3561.png" target="_blank" title="screenshot.3561.png">screenshot.3561.png</a> <br>
<code>The actual stderr differed from the expected stderr.</code></p>
<div class="message_inline_image"><a href="/user_uploads/4715/sl3l2f-40E44fHj060o_HrV5/screenshot.3561.png" target="_blank" title="screenshot.3561.png"><img src="/user_uploads/4715/sl3l2f-40E44fHj060o_HrV5/screenshot.3561.png"></a></div>



<a name="133928744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133928744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133928744">(Sep 14 2018 at 03:04)</a>:</h4>
<p>(if that's a screenshot of CI errors, the failing tests are expected, but the try run will succeed)</p>



<a name="133929272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133929272" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> memoryruins <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133929272">(Sep 14 2018 at 03:23)</a>:</h4>
<p>ah yea, it is haha (good to know!)</p>



<a name="133944394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133944394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133944394">(Sep 14 2018 at 10:49)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> salut Felix :) could you ask bors for a try run on <a href="https://github.com/rust-lang/rust/pull/53426" target="_blank" title="https://github.com/rust-lang/rust/pull/53426">this PR</a> so we can later do the crater run ?</p>



<a name="133944427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133944427" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133944427">(Sep 14 2018 at 10:49)</a>:</h4>
<p>done</p>



<a name="133944479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133944479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133944479">(Sep 14 2018 at 10:50)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> merci</p>



<a name="133951736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133951736" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133951736">(Sep 14 2018 at 13:25)</a>:</h4>
<p>btw we're good to go for the crater run on <a href="https://github.com/rust-lang/rust/issues/53426" target="_blank" title="https://github.com/rust-lang/rust/issues/53426">#53426</a>. However, since a run has already been made for this PR, it's likely the <code>name</code> parameter needs to be different for craterbot this time, I guess "pr-53426-2" or similar would be enough</p>



<a name="133952049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952049" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952049">(Sep 14 2018 at 13:29)</a>:</h4>
<p>okay lets see</p>



<a name="133952152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952152">(Sep 14 2018 at 13:31)</a>:</h4>
<p>can you just save me time and tell me what to type into the comment? I  haven't used craterbot before and don't want to thrash trying to identify the correct values for e.g. start=master#f00ba5</p>



<a name="133952171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952171" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952171">(Sep 14 2018 at 13:31)</a>:</h4>
<p>or should it be literally the same except for the name field?</p>



<a name="133952183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952183">(Sep 14 2018 at 13:31)</a>:</h4>
<p>(same compared to <a href="https://github.com/rust-lang/rust/pull/53426#issuecomment-413696519" target="_blank" title="https://github.com/rust-lang/rust/pull/53426#issuecomment-413696519">https://github.com/rust-lang/rust/pull/53426#issuecomment-413696519</a> that is ...)</p>



<a name="133952185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952185" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952185">(Sep 14 2018 at 13:31)</a>:</h4>
<p>I don't know either but can look it up :)</p>



<a name="133952252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952252">(Sep 14 2018 at 13:32)</a>:</h4>
<p>ah wait the <code>end</code> needs to point to the new try commit probably</p>



<a name="133952255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952255">(Sep 14 2018 at 13:32)</a>:</h4>
<p>since I rebased over a more recent master I think it's going to be a different sha</p>



<a name="133952263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952263" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952263">(Sep 14 2018 at 13:32)</a>:</h4>
<p>yup</p>



<a name="133952285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952285" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952285">(Sep 14 2018 at 13:33)</a>:</h4>
<p>okay well if you give me a comment to write, I'll sanity-check it and then paste in.</p>



<a name="133952325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952325" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952325">(Sep 14 2018 at 13:33)</a>:</h4>
<p>yeah I'm trying to understand how it works (I've never used it not have access) but I think I got it, just a sec</p>



<a name="133952330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952330" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952330">(Sep 14 2018 at 13:33)</a>:</h4>
<p>right, I understand that you and I are both thrashing</p>



<a name="133952410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952410" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952410">(Sep 14 2018 at 13:35)</a>:</h4>
<p>my understanding is that it's <code>@craterbot run start=master#fccde0018a618eb6f45d2a3c97f629809994dff6 end=try#e3ede4ae5297558caacf160ecf523f3a5759f682 mode=check-only name=pr-53426-2</code> what do you think ?</p>



<a name="133952443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952443" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952443">(Sep 14 2018 at 13:35)</a>:</h4>
<p>e3ed being the merge of the try run, and fcc the parent master commit IIUC</p>



<a name="133952520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952520">(Sep 14 2018 at 13:36)</a>:</h4>
<p>we can also run that by the infra team for extra verification :)</p>



<a name="133952782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952782">(Sep 14 2018 at 13:41)</a>:</h4>
<p>lets give it a whirl</p>



<a name="133952874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952874" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952874">(Sep 14 2018 at 13:42)</a>:</h4>
<p>though you left off the caps-lint=warn that was in <span class="user-mention" data-user-id="116122">@simulacrum</span> 's <a href="https://github.com/rust-lang/rust/pull/53426#issuecomment-413696519" target="_blank" title="https://github.com/rust-lang/rust/pull/53426#issuecomment-413696519">run</a></p>



<a name="133952939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952939" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952939">(Sep 14 2018 at 13:43)</a>:</h4>
<p>interesting</p>



<a name="133952952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952952">(Sep 14 2018 at 13:43)</a>:</h4>
<p>I don't remember if it's needed <em>this time</em></p>



<a name="133952963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133952963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133952963">(Sep 14 2018 at 13:43)</a>:</h4>
<p>oh</p>



<a name="133953014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133953014" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133953014">(Sep 14 2018 at 13:44)</a>:</h4>
<p>would we be better off leaving that off for this run?</p>



<a name="133953026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133953026" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133953026">(Sep 14 2018 at 13:44)</a>:</h4>
<p>I think it's likely you're right and we need it</p>



<a name="133953047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133953047" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133953047">(Sep 14 2018 at 13:44)</a>:</h4>
<p><span class="user-mention" data-user-id="125254">@kennytm</span> if you have a second ^</p>



<a name="133953063"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133953063" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133953063">(Sep 14 2018 at 13:45)</a>:</h4>
<p>default would be forbid</p>



<a name="133953074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133953074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133953074">(Sep 14 2018 at 13:45)</a>:</h4>
<p>I would cap-lints to warn by default</p>



<a name="133953078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133953078" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133953078">(Sep 14 2018 at 13:45)</a>:</h4>
<p>unless you have some reason not to (though I don't know what that would be)</p>



<a name="133953079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133953079" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133953079">(Sep 14 2018 at 13:45)</a>:</h4>
<p>it's likely to not prevent the crates denying all warnings</p>



<a name="133953134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133953134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133953134">(Sep 14 2018 at 13:46)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="116122">@simulacrum</span></p>



<a name="133953299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133953299" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133953299">(Sep 14 2018 at 13:48)</a>:</h4>
<p>sweet</p>



<a name="133953321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/133953321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#133953321">(Sep 14 2018 at 13:49)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="116083">@pnkfelix</span> <span class="user-mention" data-user-id="116122">@simulacrum</span> and <span class="user-mention" data-user-id="125254">@kennytm</span></p>



<a name="134006918"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134006918" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134006918">(Sep 15 2018 at 10:35)</a>:</h4>
<p>♪ the number of ICEs is zero ♫</p>



<a name="134007002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134007002" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134007002">(Sep 15 2018 at 10:36)</a>:</h4>
<p>woohoo!</p>



<a name="134007003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134007003" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134007003">(Sep 15 2018 at 10:36)</a>:</h4>
<p>I was nervous about ascriptions adding more ICEs</p>



<a name="134007005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134007005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134007005">(Sep 15 2018 at 10:36)</a>:</h4>
<p>:)</p>



<a name="134007015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134007015" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134007015">(Sep 15 2018 at 10:36)</a>:</h4>
<p>and out of the previous 500-600 ICE instances, only 4 crates are unknown/new to us</p>



<a name="134007037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134007037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134007037">(Sep 15 2018 at 10:37)</a>:</h4>
<p>I haven't yet looked at the errors in detail or tried to minimize (<a href="https://hackmd.io/LSqF054HSLecpHJe7H8K0g" target="_blank" title="https://hackmd.io/LSqF054HSLecpHJe7H8K0g">WIP doc is here</a> until then and the nll-crater-results repo PRs which will follow)</p>



<a name="134008696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134008696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134008696">(Sep 15 2018 at 11:31)</a>:</h4>
<p>I updated <a href="https://github.com/nikomatsakis/nll-crater-run-results/pull/4" target="_blank" title="https://github.com/nikomatsakis/nll-crater-run-results/pull/4">https://github.com/nikomatsakis/nll-crater-run-results/pull/4</a> and will work through the 4 new crates by next meeting</p>



<a name="134009219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009219" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009219">(Sep 15 2018 at 11:48)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> hey :) have you seen things like <a href="https://crater-reports.s3.amazonaws.com/pr-53426-2/master%23fccde0018a618eb6f45d2a3c97f629809994dff6/reg/opcua-server-0.3.0/log.txt" target="_blank" title="https://crater-reports.s3.amazonaws.com/pr-53426-2/master%23fccde0018a618eb6f45d2a3c97f629809994dff6/reg/opcua-server-0.3.0/log.txt">this</a> or <a href="https://crater-reports.s3.amazonaws.com/pr-53426-2/try%23e3ede4ae5297558caacf160ecf523f3a5759f682/reg/opcua-server-0.3.0/log.txt" target="_blank" title="https://crater-reports.s3.amazonaws.com/pr-53426-2/try%23e3ede4ae5297558caacf160ecf523f3a5759f682/reg/opcua-server-0.3.0/log.txt">this</a>: they are categorized "SameBuildFail", but there are no errors in the logs, is that familiar to you ?</p>



<a name="134009268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009268">(Sep 15 2018 at 11:48)</a>:</h4>
<p>wut</p>



<a name="134009271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009271" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009271">(Sep 15 2018 at 11:48)</a>:</h4>
<p>rustc returns that there is an error... let me try those locally</p>



<a name="134009276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009276" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009276">(Sep 15 2018 at 11:48)</a>:</h4>
<p>that is weird indeed</p>



<a name="134009292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009292" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009292">(Sep 15 2018 at 11:49)</a>:</h4>
<p>I'm trying locally as well</p>



<a name="134009346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009346">(Sep 15 2018 at 11:51)</a>:</h4>
<p>opcua-server 0.3.0 seems to build on a nightly from last week <span class="emoji emoji-1f914" title="thinking">:thinking:</span></p>



<a name="134009446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009446">(Sep 15 2018 at 11:56)</a>:</h4>
<p>wtf, it's building fine even with the run's toolchain</p>



<a name="134009487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009487" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009487">(Sep 15 2018 at 11:56)</a>:</h4>
<p>the plot thickens</p>



<a name="134009532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009532" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009532">(Sep 15 2018 at 11:58)</a>:</h4>
<p>let me start a crater run locally</p>



<a name="134009534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009534">(Sep 15 2018 at 11:58)</a>:</h4>
<p>maybe a spurious weirdness</p>



<a name="134009546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009546" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009546">(Sep 15 2018 at 11:59)</a>:</h4>
<p>it's strange if this is spurious and happened on both toolchains</p>



<a name="134009548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009548">(Sep 15 2018 at 11:59)</a>:</h4>
<p>but rustc reported some errors :/</p>



<a name="134009553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009553" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009553">(Sep 15 2018 at 11:59)</a>:</h4>
<p>rustc didn't want to share those errors with us</p>



<a name="134009672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009672">(Sep 15 2018 at 12:03)</a>:</h4>
<p>wtf, this is happening in my local crater run</p>



<a name="134009676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009676">(Sep 15 2018 at 12:03)</a>:</h4>
<p>progress :)</p>



<a name="134009963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134009963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134009963">(Sep 15 2018 at 12:11)</a>:</h4>
<p><a href="https://crater-reports.s3.amazonaws.com/pr-53426-2/master%23fccde0018a618eb6f45d2a3c97f629809994dff6/reg/hyper-0.12.8/log.txt" target="_blank" title="https://crater-reports.s3.amazonaws.com/pr-53426-2/master%23fccde0018a618eb6f45d2a3c97f629809994dff6/reg/hyper-0.12.8/log.txt">hyper</a> doesn't build on crater but that seems normal I guess ? it's missing  examples in the <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a> package but they are referenced in Cargo.toml, we can see the failure just because of our --all-targets config</p>



<a name="134010166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010166" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010166">(Sep 15 2018 at 12:16)</a>:</h4>
<p>hmm, maybe we should directly strip missing examples</p>



<a name="134010178"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010178" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010178">(Sep 15 2018 at 12:17)</a>:</h4>
<p>now, it would be really interesting to manage to reproduce the opcua failure outside of the docker container</p>



<a name="134010188"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010188" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010188">(Sep 15 2018 at 12:18)</a>:</h4>
<p>true</p>



<a name="134010368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010368" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010368">(Sep 15 2018 at 12:22)</a>:</h4>
<p>does <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a> remove parts of your crate when you publish (examples, benchmarks, etc) or this hyper case is probably an author error  (cargo.toml "include" doesn't include examples) ? or maybe this is something that can just happen and we may need to be more resilient of this kinds of cases in crater  ?</p>



<a name="134010517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010517">(Sep 15 2018 at 12:26)</a>:</h4>
<p>don't know</p>



<a name="134010522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010522" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010522">(Sep 15 2018 at 12:26)</a>:</h4>
<p>This may actually be my fault... <span class="emoji emoji-1f633" title="embarrassed">:embarrassed:</span></p>



<a name="134010523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010523" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010523">(Sep 15 2018 at 12:26)</a>:</h4>
<p>wow, so many tests, examples, benches that don't build</p>



<a name="134010531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010531">(Sep 15 2018 at 12:27)</a>:</h4>
<p>I know one of these crates used to ship many MB of test data</p>



<a name="134010538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010538">(Sep 15 2018 at 12:27)</a>:</h4>
<p>And it annoyed me so I removed it from the cargo package</p>



<a name="134010540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010540" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010540">(Sep 15 2018 at 12:27)</a>:</h4>
<p>I'm wondering whether having both check and check --all-targets separately would slow down things in crater</p>



<a name="134010581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010581" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010581">(Sep 15 2018 at 12:28)</a>:</h4>
<p>Since most people never want to run the tests / examples / etc. from the package</p>



<a name="134010591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010591" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010591">(Sep 15 2018 at 12:29)</a>:</h4>
<p>it makes sense that you did it, and only can impact us I think, eg on crater</p>



<a name="134010676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010676">(Sep 15 2018 at 12:32)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> I was also wondering before, what kinds of cases were the "Errors" ? docker problems, OOMs, cargo having problems with lockfiles for some reason, things like that ? for instance <a href="https://crater-reports.s3.amazonaws.com/pr-53426-2/master%23fccde0018a618eb6f45d2a3c97f629809994dff6/reg/aquaengine-0.0.2/log.txt" target="_blank" title="https://crater-reports.s3.amazonaws.com/pr-53426-2/master%23fccde0018a618eb6f45d2a3c97f629809994dff6/reg/aquaengine-0.0.2/log.txt">this</a> I don't know what to think</p>



<a name="134010704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010704">(Sep 15 2018 at 12:32)</a>:</h4>
<p>It also affects distro packagers who would run tests</p>



<a name="134010714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010714" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010714">(Sep 15 2018 at 12:33)</a>:</h4>
<p><span class="user-mention" data-user-id="116155">@Jake Goulding</span> the examples you mean ?</p>



<a name="134010754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010754">(Sep 15 2018 at 12:34)</a>:</h4>
<p>lemme see if I can find my commit, It might have been something else ;-)</p>



<a name="134010755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010755" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010755">(Sep 15 2018 at 12:34)</a>:</h4>
<p>(from hyper?)</p>



<a name="134010821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010821" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010821">(Sep 15 2018 at 12:36)</a>:</h4>
<p>Ah, no, <a href="https://github.com/carllerche/h2/pull/290" target="_blank" title="https://github.com/carllerche/h2/pull/290">h2</a></p>
<p>### Before</p>
<p>Unpacked: 59M<br>
Compressed: 5.4M</p>
<p>### After</p>
<p>Unpacked: 788K<br>
Compressed: 133K</p>



<a name="134010829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010829">(Sep 15 2018 at 12:37)</a>:</h4>
<blockquote>
<p>This will make people emo. </p>
</blockquote>
<p>That's you! <span class="emoji emoji-1f609" title="wink">:wink:</span></p>



<a name="134010830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010830">(Sep 15 2018 at 12:38)</a>:</h4>
<p>lol</p>



<a name="134010882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010882">(Sep 15 2018 at 12:39)</a>:</h4>
<p>I was mostly wondering, 10% of the crates don't build for various reasons; if they don't break downstream that's good enough for me :)</p>



<a name="134010928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134010928" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134010928">(Sep 15 2018 at 12:40)</a>:</h4>
<p>like the futures crates don't build either, etc ¯\_(ツ)_/¯</p>



<a name="134015558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134015558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134015558">(Sep 15 2018 at 15:04)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> you shouldn't care about the "errors" section</p>



<a name="134015570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134015570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134015570">(Sep 15 2018 at 15:04)</a>:</h4>
<p>those are crater errors I need to triage and fix, so they don't depend on the experiment</p>



<a name="134015583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134015583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134015583">(Sep 15 2018 at 15:05)</a>:</h4>
<p>I just need the time to look into them a bit more :P</p>



<a name="134015585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134015585" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134015585">(Sep 15 2018 at 15:05)</a>:</h4>
<p>oh ok, thank you! :)</p>



<a name="134015592"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134015592" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134015592">(Sep 15 2018 at 15:05)</a>:</h4>
<p>it was mostly out of curiosity</p>



<a name="134015670"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134015670" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134015670">(Sep 15 2018 at 15:07)</a>:</h4>
<p>the problem with that is, I need to improve the logging to include in the report more stuff</p>



<a name="134015673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134015673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134015673">(Sep 15 2018 at 15:07)</a>:</h4>
<p>at the moment just the error is not useful, and I need to log into the agent machines and grep the logs :P</p>



<a name="134015793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134015793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134015793">(Sep 15 2018 at 15:10)</a>:</h4>
<p>understandable :) <span class="user-mention" data-user-id="121055">@Pietro Albini</span> thanks for the awesome job on crater, the bot, the UI, and more that you do</p>



<a name="134064227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134064227" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134064227">(Sep 16 2018 at 18:51)</a>:</h4>
<p>(update: the crater run was restarted as some, less than 200, logs have failed uploading)</p>



<a name="134090365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134090365" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134090365">(Sep 17 2018 at 09:36)</a>:</h4>
<p>the new run is finished, from a cursory glance I don't think these missing logs were NLL-related, but I'll check in more detail later</p>



<a name="134090466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134090466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134090466">(Sep 17 2018 at 09:39)</a>:</h4>
<p>looked at it</p>



<a name="134090470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134090470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134090470">(Sep 17 2018 at 09:39)</a>:</h4>
<p>the missing logs were too big to be uploaded, so they were missing before</p>



<a name="134090524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134090524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134090524">(Sep 17 2018 at 09:40)</a>:</h4>
<p>probably in the samebuildfail or sametestpass categories</p>



<a name="134090531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134090531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134090531">(Sep 17 2018 at 09:40)</a>:</h4>
<p>the only one that seems a "regression" is <a href="https://crater-reports.s3.amazonaws.com/pr-53426-3/try%23e3ede4ae5297558caacf160ecf523f3a5759f682/reg/cluLamansh-0.1.4/log.txt" target="_blank" title="https://crater-reports.s3.amazonaws.com/pr-53426-3/try%23e3ede4ae5297558caacf160ecf523f3a5759f682/reg/cluLamansh-0.1.4/log.txt">cluLamansh</a>, but that's just <em>a lot</em> of warnings</p>



<a name="134090558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134090558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134090558">(Sep 17 2018 at 09:41)</a>:</h4>
<p>(which means, it was the only one with test-pass on the first toolchain and error on the second one)</p>



<a name="134090559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134090559" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134090559">(Sep 17 2018 at 09:41)</a>:</h4>
<p>yeah, no errors</p>



<a name="134090566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134090566" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134090566">(Sep 17 2018 at 09:42)</a>:</h4>
<p>well, great :D</p>



<a name="134090613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134090613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134090613">(Sep 17 2018 at 09:42)</a>:</h4>
<p>:)</p>



<a name="134090646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134090646" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134090646">(Sep 17 2018 at 09:43)</a>:</h4>
<p>it could be interesting to look at these warnings and diagnostics in case there are weird cases we don't know about, but today is not that day for me :p</p>



<a name="134106296"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134106296" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134106296">(Sep 17 2018 at 15:03)</a>:</h4>
<blockquote>
<p>wow, so many tests, examples, benches that don't build</p>
</blockquote>
<p>say more?</p>



<a name="134106313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134106313" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134106313">(Sep 17 2018 at 15:03)</a>:</h4>
<blockquote>
<p>understandable :) <span class="user-mention" data-user-id="121055">@Pietro Albini</span> thanks for the awesome job on crater, the bot, the UI, and more that you do</p>
</blockquote>
<p>also, yes, <span class="emoji emoji-1f44f" title="clap">:clap:</span></p>



<a name="134107123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134107123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134107123">(Sep 17 2018 at 15:17)</a>:</h4>
<p>if you randomly look at the logs in the "SameBuildFail" category of the <a href="https://crater-reports.s3.amazonaws.com/pr-53426-3/full.html" target="_blank" title="https://crater-reports.s3.amazonaws.com/pr-53426-3/full.html">full report</a> you'll see a number of crates where tests, benchmarks, examples, don't build on crater, example: <a href="https://crater-reports.s3.amazonaws.com/pr-53426-3/try%23e3ede4ae5297558caacf160ecf523f3a5759f682/reg/aci_ppm-0.7.0/log.txt" target="_blank" title="https://crater-reports.s3.amazonaws.com/pr-53426-3/try%23e3ede4ae5297558caacf160ecf523f3a5759f682/reg/aci_ppm-0.7.0/log.txt">this one</a>, or <a href="https://crater-reports.s3.amazonaws.com/pr-53426-3/try%23e3ede4ae5297558caacf160ecf523f3a5759f682/reg/aes-0.2.0/log.txt" target="_blank" title="https://crater-reports.s3.amazonaws.com/pr-53426-3/try%23e3ede4ae5297558caacf160ecf523f3a5759f682/reg/aes-0.2.0/log.txt">that one</a></p>



<a name="134122180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134122180" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134122180">(Sep 17 2018 at 19:39)</a>:</h4>
<p>two of the new crates in the crater run are of <a href="https://play.rust-lang.org/?gist=b61db3de15c2c0716d76d7e5df9abb02&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=b61db3de15c2c0716d76d7e5df9abb02&amp;version=nightly&amp;mode=debug&amp;edition=2015">this form</a>, was it a bug in AST borrowck that it used to compile, or is it a bug in MIR borrowck that it does not ?</p>



<a name="134122205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134122205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134122205">(Sep 17 2018 at 19:39)</a>:</h4>
<p>probably fixed-by-nll right?</p>



<a name="134122370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134122370" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134122370">(Sep 17 2018 at 19:42)</a>:</h4>
<p>Yes it's an AST borrowck bug. <em>goes to find issue</em></p>



<a name="134122405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134122405" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134122405">(Sep 17 2018 at 19:43)</a>:</h4>
<p>/me starts humming Foo Fighters — My Hero</p>



<a name="134122741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134122741" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134122741">(Sep 17 2018 at 19:50)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/53432" target="_blank" title="https://github.com/rust-lang/rust/issues/53432">#53432</a></p>



<a name="134122746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134122746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134122746">(Sep 17 2018 at 19:51)</a>:</h4>
<p>yussss <span class="user-mention" data-user-id="116118">@Matthew Jasper</span> thanks!!!</p>



<a name="134122764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134122764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134122764">(Sep 17 2018 at 19:51)</a>:</h4>
<p><span class="user-mention" data-user-id="116118">@Matthew Jasper</span>  too bad it seems that a lot of hyper-based crates rely on it :)</p>



<a name="134122835"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134122835" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134122835">(Sep 17 2018 at 19:53)</a>:</h4>
<p>That's seems to be true of all soundness bugs that are in the compiler long enough</p>



<a name="134122866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134122866" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134122866">(Sep 17 2018 at 19:54)</a>:</h4>
<p>Especially when people have limited institution of when things are valid</p>



<a name="134128606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134128606" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134128606">(Sep 17 2018 at 21:46)</a>:</h4>
<p>alright I think I'm basically done <span class="user-mention" data-user-id="116009">@nikomatsakis</span>: I updated <a href="https://github.com/nikomatsakis/nll-crater-run-results/pull/4" target="_blank" title="https://github.com/nikomatsakis/nll-crater-run-results/pull/4">https://github.com/nikomatsakis/nll-crater-run-results/pull/4</a> for the 4th run repros, and also added all the previous runs failing crates' logs (so this one commit kinda messes up the diff, do you want to review/check the other commits individually or want me to make a separate PR for these logs ?) I'll do one final pass over the results now to check I haven't forgotten anything</p>



<a name="134135117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134135117" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134135117">(Sep 17 2018 at 23:40)</a>:</h4>
<p>I dislike <a href="https://hackmd.io/Wn5iqR0MQmuPbzV_Ohjjow" target="_blank" title="https://hackmd.io/Wn5iqR0MQmuPbzV_Ohjjow">this</a> very much: 22 crates marked as Regressed don't have logs, I think it's safe to say that at lest <em>some</em> of those are OOMs</p>



<a name="134135424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134135424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134135424">(Sep 17 2018 at 23:49)</a>:</h4>
<p>eg <code>unic-ucd-name-0.7.0</code> == 12GB ram usage after 63s</p>



<a name="134135991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134135991" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134135991">(Sep 18 2018 at 00:03)</a>:</h4>
<p>(but njn has some in-progress <a href="https://github.com/rust-lang/rust/issues/52028#issuecomment-421944193" target="_blank" title="https://github.com/rust-lang/rust/issues/52028#issuecomment-421944193">work</a> to reduce NLL memory consumption in many perf.rlo benchmarks, and will be running some tests with e.g. this crate by tomorrow — it's likely that it will help, but maybe not completely fix these potential new issues, so we'll see how it goes :)</p>



<a name="134138322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134138322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134138322">(Sep 18 2018 at 01:04)</a>:</h4>
<p>A person on SO was trying to build Rust code on a VPS with 256MB of RAM. lol 12G</p>



<a name="134149764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134149764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134149764">(Sep 18 2018 at 07:11)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/52028#issuecomment-422235908" target="_blank" title="https://github.com/rust-lang/rust/issues/52028#issuecomment-422235908">update on njn's work</a> </p>
<blockquote>
<p>reduces its max-rss by 96%, from 29.1GB to 1.2GB<br>
<span class="emoji emoji-1f389" title="tada">:tada:</span></p>
</blockquote>



<a name="134157545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134157545" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134157545">(Sep 18 2018 at 10:29)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> there is currently a 1.5gb memory limit for builds</p>



<a name="134157548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134157548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134157548">(Sep 18 2018 at 10:29)</a>:</h4>
<p>also, which are the flags you're using for NLL runs?</p>



<a name="134157619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134157619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134157619">(Sep 18 2018 at 10:31)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> I've also seen some not that big builds, but my thinking was that if crater runs multiple crates at once, the OOM killer might randomly kill one of the smaller processes first ? this could explain the non-huge crates from my list. But a 1.5GB limit explains the other more "mundane" ones at 1-2GB failures</p>



<a name="134157668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134157668" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134157668">(Sep 18 2018 at 10:32)</a>:</h4>
<p>the machine shouldn't run out of memory, we have 16gb and the sum of the limits for the 8 parallel containers is 12gb...</p>



<a name="134157669"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134157669" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134157669">(Sep 18 2018 at 10:32)</a>:</h4>
<p>for the runs, the defaults are changed to automatically flip on -Zborrowck=mir and -Ztwo-phase-borrows</p>



<a name="134157696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134157696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134157696">(Sep 18 2018 at 10:33)</a>:</h4>
<blockquote>
<p>for the runs, the defaults are changed to automatically flip on -Zborrowck=mir and -Ztwo-phase-borrows</p>
</blockquote>
<p>great...</p>



<a name="134157699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134157699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134157699">(Sep 18 2018 at 10:33)</a>:</h4>
<p>maybe the couple small ones from <a href="https://hackmd.io/Wn5iqR0MQmuPbzV_Ohjjow?both" target="_blank" title="https://hackmd.io/Wn5iqR0MQmuPbzV_Ohjjow?both">the list</a> are random stuff, as these build locally without issues or high memory usage anyways; most of the others however are likely killed because of the limits</p>



<a name="134168983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134168983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134168983">(Sep 18 2018 at 14:16)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> so how should I review this PR?</p>



<a name="134168986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134168986" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134168986">(Sep 18 2018 at 14:16)</a>:</h4>
<p>commit by commit?</p>



<a name="134168992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134168992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134168992">(Sep 18 2018 at 14:16)</a>:</h4>
<p>also, thanks again for your work on this. invaluable.</p>



<a name="134169020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169020">(Sep 18 2018 at 14:17)</a>:</h4>
<p>yeah, commit by commit should work better, or I can remove the big logs one into another PR if need be</p>



<a name="134169102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169102" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169102">(Sep 18 2018 at 14:18)</a>:</h4>
<p>also...dear god...</p>
<div class="codehilite"><pre><span></span><span class="k">struct</span> <span class="nc">Chain</span><span class="o">&lt;</span><span class="n">P</span><span class="p">,</span><span class="w"> </span><span class="n">F</span><span class="o">&gt;</span><span class="p">(</span><span class="n">P</span><span class="p">,</span><span class="w"> </span><span class="n">F</span><span class="p">);</span><span class="w"></span>
<span class="k">impl</span><span class="o">&lt;</span><span class="na">&#39;a</span><span class="p">,</span><span class="w"> </span><span class="n">I</span><span class="p">,</span><span class="w"> </span><span class="n">O</span><span class="p">,</span><span class="w"> </span><span class="n">P</span>: <span class="nc">Parser</span><span class="o">&lt;</span><span class="na">&#39;a</span><span class="p">,</span><span class="w"> </span><span class="n">I</span><span class="p">,</span><span class="w"> </span><span class="n">Output</span><span class="o">=</span><span class="n">O</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">Q</span>: <span class="nc">Parser</span><span class="o">&lt;</span><span class="na">&#39;a</span><span class="p">,</span><span class="w"> </span><span class="n">I</span><span class="p">,</span><span class="w"> </span><span class="n">Output</span><span class="o">=</span><span class="n">U</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">F</span>: <span class="nb">Fn</span><span class="p">(</span><span class="n">O</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Combinator</span><span class="o">&lt;</span><span class="n">Q</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">Parser</span><span class="o">&lt;</span><span class="na">&#39;a</span><span class="p">,</span><span class="w"> </span><span class="n">I</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Chain</span><span class="o">&lt;</span><span class="n">P</span><span class="p">,</span><span class="w"> </span><span class="n">F</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">U</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">parse</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">input</span>: <span class="kp">&amp;</span><span class="na">&#39;a</span><span class="w"> </span><span class="p">[</span><span class="n">I</span><span class="p">],</span><span class="w"> </span><span class="n">start</span>: <span class="kt">usize</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">(</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="kt">usize</span><span class="p">)</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="bp">self</span><span class="p">.</span><span class="mf">0.</span><span class="n">parse</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">start</span><span class="p">).</span><span class="n">and_then</span><span class="p">(</span><span class="o">|</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">)</span><span class="o">|</span><span class="w"></span>
<span class="w">            </span><span class="bp">self</span><span class="p">.</span><span class="mi">1</span><span class="p">(</span><span class="n">out</span><span class="p">).</span><span class="mf">0.</span><span class="n">parse</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>



<a name="134169106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169106" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169106">(Sep 18 2018 at 14:18)</a>:</h4>
<p>from one of your repros :)</p>



<a name="134169109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169109" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169109">(Sep 18 2018 at 14:18)</a>:</h4>
<p>there is at minimum a diagnostics issue there</p>



<a name="134169124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169124" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169124">(Sep 18 2018 at 14:18)</a>:</h4>
<p>that was "fun" to repro :p</p>



<a name="134169262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169262">(Sep 18 2018 at 14:20)</a>:</h4>
<p>yeah I wanted to check whether the slight missing diagnostics was known to anyone or if we needed a new issue</p>



<a name="134169417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169417">(Sep 18 2018 at 14:22)</a>:</h4>
<p>well</p>



<a name="134169427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169427" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169427">(Sep 18 2018 at 14:22)</a>:</h4>
<p>ok so I looked at it more closely</p>



<a name="134169440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169440">(Sep 18 2018 at 14:23)</a>:</h4>
<p>the diagnostics issue, I presume, is that the error just gives <code>'_</code> but we talk about a <code>'2</code>?</p>



<a name="134169449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169449">(Sep 18 2018 at 14:23)</a>:</h4>
<p>that seems clearly like a problem</p>



<a name="134169453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169453" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169453">(Sep 18 2018 at 14:23)</a>:</h4>
<p>yeah</p>



<a name="134169456"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169456" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169456">(Sep 18 2018 at 14:23)</a>:</h4>
<p>I believe that the error itself is <em>legitimate</em> but <em>unfortunate</em></p>



<a name="134169464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169464" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169464">(Sep 18 2018 at 14:23)</a>:</h4>
<p>what's happening here is that, when you write the closure <code>|x: &amp;u8| { .. }</code></p>



<a name="134169467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169467" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169467">(Sep 18 2018 at 14:23)</a>:</h4>
<p>given that there is no "expected type" from context</p>



<a name="134169479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169479">(Sep 18 2018 at 14:23)</a>:</h4>
<p>we infer that the lifetime of <code>x</code> is local to the closure itself</p>



<a name="134169483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169483" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169483">(Sep 18 2018 at 14:23)</a>:</h4>
<p>and hence that the data cannot escape</p>



<a name="134169530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169530" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169530">(Sep 18 2018 at 14:24)</a>:</h4>
<p>(this error needs more improvement, but <span class="user-mention" data-user-id="116107">@davidtwco</span> has been iterating some on that...)</p>



<a name="134169539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169539" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169539">(Sep 18 2018 at 14:24)</a>:</h4>
<p>at least, I <em>think</em> this is the problem</p>



<a name="134169548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169548">(Sep 18 2018 at 14:24)</a>:</h4>
<p>we actually don't have a good way to annotate this type afaik</p>



<a name="134169568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169568">(Sep 18 2018 at 14:24)</a>:</h4>
<p>I think the bottom line is that using <code>&gt;&gt;</code> for this is a bad choice in rust :)</p>



<a name="134169584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169584">(Sep 18 2018 at 14:25)</a>:</h4>
<p>in any case, if you <a href="https://play.rust-lang.org/?gist=92455b30ff0d8b0b0cd838ec84e822da&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=92455b30ff0d8b0b0cd838ec84e822da&amp;version=nightly&amp;mode=debug&amp;edition=2015">modify the example to have a named lifetime that we can talk about</a>, then it passes</p>



<a name="134169607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169607">(Sep 18 2018 at 14:25)</a>:</h4>
<p>sorry, wrong link</p>



<a name="134169612"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169612" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169612">(Sep 18 2018 at 14:25)</a>:</h4>
<p><a href="https://play.rust-lang.org/?gist=afecac3dc0c8f12a84209f52630db60b&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=afecac3dc0c8f12a84209f52630db60b&amp;version=nightly&amp;mode=debug&amp;edition=2015">passing version</a></p>



<a name="134169618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169618" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169618">(Sep 18 2018 at 14:25)</a>:</h4>
<p>that version contains </p>
<div class="codehilite"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">parser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">take</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">|</span><span class="n">v</span>:<span class="kp">&amp;</span><span class="na">&#39;a</span><span class="w"> </span><span class="p">[</span><span class="kt">u8</span><span class="p">]</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">take</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="n">map</span><span class="p">(</span><span class="k">move</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">v</span><span class="p">.</span><span class="n">to_vec</span><span class="p">()</span><span class="w"></span>
<span class="w">        </span><span class="p">})</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
</pre></div>



<a name="134169622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169622">(Sep 18 2018 at 14:25)</a>:</h4>
<p>note the explicit <code>'a</code></p>



<a name="134169629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169629">(Sep 18 2018 at 14:26)</a>:</h4>
<p>I'm not sure why the old borrow checker didn't error out here</p>



<a name="134169686"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169686" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169686">(Sep 18 2018 at 14:26)</a>:</h4>
<blockquote>
<p>we actually don't have a good way to annotate this type afaik</p>
</blockquote>
<p>I've seen hacks like <code>fn enforce&lt;T: FnOnce(...)&gt;(f: T) -&gt; T</code> to apply complicated rules to closures</p>



<a name="134169697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169697" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169697">(Sep 18 2018 at 14:26)</a>:</h4>
<p>yes, you can do that</p>



<a name="134169704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169704">(Sep 18 2018 at 14:27)</a>:</h4>
<p>note that I said a <em>good</em> way :)</p>



<a name="134169711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169711">(Sep 18 2018 at 14:27)</a>:</h4>
<p>in any case, if you are doing that, you might as well make a method</p>



<a name="134169720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169720" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169720">(Sep 18 2018 at 14:27)</a>:</h4>
<p>so e.g. instead of <code>foo &gt;&gt; bar</code> something like <code>foo.and_then(bar)</code></p>



<a name="134169724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169724" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake Goulding <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169724">(Sep 18 2018 at 14:27)</a>:</h4>
<p><a href="https://stackoverflow.com/a/46198877/155423" target="_blank" title="https://stackoverflow.com/a/46198877/155423">https://stackoverflow.com/a/46198877/155423</a></p>



<a name="134169738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169738">(Sep 18 2018 at 14:27)</a>:</h4>
<p>there might be a fixed-by-nll issue we're tracking for this ?</p>



<a name="134169748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169748">(Sep 18 2018 at 14:28)</a>:</h4>
<p>I feel like we can probably minimize this further</p>



<a name="134169789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169789">(Sep 18 2018 at 14:28)</a>:</h4>
<p>let me see...</p>



<a name="134169800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169800" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169800">(Sep 18 2018 at 14:28)</a>:</h4>
<p>I don't know if there's an issue or not</p>



<a name="134169917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134169917" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134169917">(Sep 18 2018 at 14:30)</a>:</h4>
<p>as you can see the repros are not always <em>minimal</em></p>



<a name="134170916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134170916" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134170916">(Sep 18 2018 at 14:48)</a>:</h4>
<p>ok I went in detail over everything</p>



<a name="134170923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134170923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134170923">(Sep 18 2018 at 14:48)</a>:</h4>
<p>this is encouraging</p>



<a name="134170929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134170929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134170929">(Sep 18 2018 at 14:48)</a>:</h4>
<p>seems like no real "new" bugs?</p>



<a name="134170941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134170941" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134170941">(Sep 18 2018 at 14:49)</a>:</h4>
<p>(but for the diagnostic issue)</p>



<a name="134170974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134170974" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134170974">(Sep 18 2018 at 14:50)</a>:</h4>
<p>I think yeah</p>



<a name="134171029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171029" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171029">(Sep 18 2018 at 14:50)</a>:</h4>
<p>I've also added the doc links to the PR desc if you wanted to check these notes</p>



<a name="134171051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171051">(Sep 18 2018 at 14:50)</a>:</h4>
<p>that is, apart from the couple crates which OOM, if you've been following <a href="#narrow/stream/122657-wg-nll/subject/crater-run-and-analysis/near/134135117" title="#narrow/stream/122657-wg-nll/subject/crater-run-and-analysis/near/134135117">this</a></p>



<a name="134171085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171085">(Sep 18 2018 at 14:51)</a>:</h4>
<p>hmm yes I saw that</p>



<a name="134171089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171089">(Sep 18 2018 at 14:51)</a>:</h4>
<p>so we have to figure those out</p>



<a name="134171094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171094" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171094">(Sep 18 2018 at 14:51)</a>:</h4>
<p>have you tried building them locally?</p>



<a name="134171101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171101" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171101">(Sep 18 2018 at 14:52)</a>:</h4>
<p>yeah, I've all run them locally, the 20 or so</p>



<a name="134171155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171155">(Sep 18 2018 at 14:52)</a>:</h4>
<p>and njn's PR with a -96% max-rss is ready to r+</p>



<a name="134171185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171185" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171185">(Sep 18 2018 at 14:53)</a>:</h4>
<p>I don't know if they tested the second crate I saw yet, but we'll find out as soon as it lands I will recheck</p>



<a name="134171254"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171254" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171254">(Sep 18 2018 at 14:54)</a>:</h4>
<p>that is <a href="https://github.com/rust-lang/rust/issues/54318" target="_blank" title="https://github.com/rust-lang/rust/issues/54318">#54318</a> which <span class="user-mention" data-user-id="116083">@pnkfelix</span> reviewed earlier, but not r+ed yet, since those results were not available yet</p>



<a name="134171328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171328">(Sep 18 2018 at 14:55)</a>:</h4>
<p>I have not yet timed the only one of these 2 I can build, to see how longer it takes with NLL on, but will do so before tonight's meeting</p>



<a name="134171402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171402" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171402">(Sep 18 2018 at 14:56)</a>:</h4>
<p>(the other wants 29GB of ram ;)</p>



<a name="134171869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171869">(Sep 18 2018 at 15:04)</a>:</h4>
<p>bumped to p=1</p>



<a name="134171877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171877">(Sep 18 2018 at 15:04)</a>:</h4>
<p>(if there are crates that we want to find out how much RAM they use; and you don't have a machine with sufficient RAM to find that out; I have a 64GB machine that I can build stuff on to find out where they max out)</p>



<a name="134171899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171899">(Sep 18 2018 at 15:05)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> I guess I will file those diagnostic issues</p>



<a name="134171970"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134171970" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134171970">(Sep 18 2018 at 15:06)</a>:</h4>
<p>(<span class="user-mention" data-user-id="116107">@davidtwco</span> good to know for the future; thankfully it was only this one crate locally, and njn had found out this number. on crater the limit is 1.5GB so we're cutting it close often there)</p>



<a name="134190625"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134190625" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134190625">(Sep 18 2018 at 20:22)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> nll runs will be a lot easier soon :)</p>



<a name="134190657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134190657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134190657">(Sep 18 2018 at 20:23)</a>:</h4>
<p><code>@craterbot run start=nightly-1970-01-01 end=nightly-1970-01-01+rustflags="-Zborrowck=mir -Ztwo-phase-borrows"</code></p>



<a name="134190659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134190659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134190659">(Sep 18 2018 at 20:23)</a>:</h4>
<p>ah yes you were probably working on flag support :)</p>



<a name="134190662"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134190662" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134190662">(Sep 18 2018 at 20:23)</a>:</h4>
<p>haha nice</p>



<a name="134190685"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis/near/134190685" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/122657-t-compiler/wg-nll/topic/crater-run-and-analysis.html#134190685">(Sep 18 2018 at 20:23)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> nicely done <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>