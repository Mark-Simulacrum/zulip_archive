<html>
<head><meta charset="utf-8"><title>status meeting 2020-12-03 · t-compiler/wg-rfc-2229 · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/index.html">t-compiler/wg-rfc-2229</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html">status meeting 2020-12-03</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="218715809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218715809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218715809">(Dec 03 2020 at 16:11)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="281950">@Aman Arora</span> can we maybe move the meeting to later in the day?</p>



<a name="218715894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218715894" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218715894">(Dec 03 2020 at 16:12)</a>:</h4>
<p>maybe 1hour later?</p>



<a name="218716076"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218716076" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218716076">(Dec 03 2020 at 16:12)</a>:</h4>
<p>e.g., <time datetime="2020-12-03T18:00:00Z">2020-12-03T13:00:00-05:00</time></p>



<a name="218716584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218716584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218716584">(Dec 03 2020 at 16:15)</a>:</h4>
<p>Let me check</p>



<a name="218717546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218717546" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218717546">(Dec 03 2020 at 16:23)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I can do that but I'd have to leave at 1:45</p>



<a name="218717570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218717570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218717570">(Dec 03 2020 at 16:23)</a>:</h4>
<p>(so 45 min meeting)</p>



<a name="218719915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218719915" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218719915">(Dec 03 2020 at 16:37)</a>:</h4>
<p><span class="user-mention" data-user-id="281950">@Aman Arora</span> how about 30-45 minutes later then?</p>



<a name="218719921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218719921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218719921">(Dec 03 2020 at 16:37)</a>:</h4>
<p>I can ping you when I'm avail</p>



<a name="218719932"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218719932" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218719932">(Dec 03 2020 at 16:38)</a>:</h4>
<p>just had a last minute conflict arise</p>



<a name="218719998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218719998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218719998">(Dec 03 2020 at 16:38)</a>:</h4>
<p>Sounds good</p>



<a name="218729984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218729984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218729984">(Dec 03 2020 at 17:51)</a>:</h4>
<p><span class="user-mention" data-user-id="281950">@Aman Arora</span> available now</p>



<a name="218730031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218730031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218730031">(Dec 03 2020 at 17:51)</a>:</h4>
<p>Give me 5 mins</p>



<a name="218730069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218730069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218730069">(Dec 03 2020 at 17:51)</a>:</h4>
<p>ok I'm in the zoom</p>



<a name="218764534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218764534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218764534">(Dec 03 2020 at 22:34)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span>  can you upload the video from today?</p>



<a name="218797382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218797382" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218797382">(Dec 04 2020 at 06:09)</a>:</h4>
<p>So the two fixes that we discussed over the last two days (mutability + dropping derefs) allow stdlib to compile</p>



<a name="218797387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218797387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218797387">(Dec 04 2020 at 06:09)</a>:</h4>
<p>Found another pattern issue, I'll discuss it in that topic</p>



<a name="218800151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218800151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218800151">(Dec 04 2020 at 07:15)</a>:</h4>
<p>Fixup^ It's not a pttern it's struct update syntax</p>



<a name="218802843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218802843" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218802843">(Dec 04 2020 at 08:05)</a>:</h4>
<p><a href="#narrow/stream/189812-t-compiler.2Fwg-rfc-2229/topic/MIR.20lowering.20struct.20update.20syntax">struct update topic</a></p>



<a name="218802971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/218802971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#218802971">(Dec 04 2020 at 08:07)</a>:</h4>
<p>So I kinda just realized destructure patterns don't work at all in closures right now. because even if we have <code>(a, b) = tup</code>, MIR still searches for the entire <code>tup</code>., whereas we have <code>tup[0]</code> and <code>tup[1]</code><br>
The reason is still the same, I just never realized that patterns don't work at all.</p>



<a name="219114263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/219114263" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#219114263">(Dec 07 2020 at 17:57)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <br>
I wrote out the motivations for the restrictions we discussed last week here: <a href="https://hackmd.io/71qq-IOpTNqzMkPpAI1dVg?view">https://hackmd.io/71qq-IOpTNqzMkPpAI1dVg?view</a></p>
<p>I did perf runs with the feature enabled with lowering and they look kind of nice: <a href="https://hackmd.io/71qq-IOpTNqzMkPpAI1dVg?view#THIRMIR-lowering">https://hackmd.io/71qq-IOpTNqzMkPpAI1dVg?view#THIRMIR-lowering</a></p>
<p>I also talked to the team and we will probably want to spend some time over the winter break working on this project. It would be nice if we can work on some kind of plan around migration that we can prototype over the break. </p>
<p>Also, the mir lowering PR (<a href="https://github.com/rust-lang/rust/pull/79553">https://github.com/rust-lang/rust/pull/79553</a>)  is ready for review and I have tested code for handling the mutability issues that we can then build on that PR</p>



<a name="219206951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/219206951" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#219206951">(Dec 08 2020 at 13:39)</a>:</h4>
<p>Awesome! I just left some notes on the PR you had open, <span class="user-mention" data-user-id="281950">@Aman Arora</span>, and I can prioritize <a href="https://github.com/rust-lang/rust/issues/79553">#79553</a></p>



<a name="219206964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/219206964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#219206964">(Dec 08 2020 at 13:39)</a>:</h4>
<p>I'm generally planning to "unhook" over winter break, but I might make an exception to sync up with you all ;)</p>



<a name="219206982"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/219206982" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#219206982">(Dec 08 2020 at 13:40)</a>:</h4>
<p>I'm pretty excited to see this coming together</p>



<a name="219207039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/219207039" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#219207039">(Dec 08 2020 at 13:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/189812-t-compiler.2Fwg-rfc-2229/topic/status.20meeting.202020-12-03/near/219206951">said</a>:</p>
<blockquote>
<p>Awesome! I just left some notes on the PR you had open, <span class="user-mention silent" data-user-id="281950">Aman Arora</span>, and I can prioritize <a href="https://github.com/rust-lang/rust/issues/79553">#79553</a></p>
</blockquote>
<p>oh, sorry, that <em>is</em> the PR I reviewed :)</p>



<a name="219304374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/219304374" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#219304374">(Dec 09 2020 at 07:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/189812-t-compiler.2Fwg-rfc-2229/topic/status.20meeting.202020-12-03/near/219206964">said</a>:</p>
<blockquote>
<p>I'm generally planning to "unhook" over winter break, but I might make an exception to sync up with you all <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>
</blockquote>
<p>Thank you <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> </p>
<p>I think as long as we have a decent idea and/or samples for what we are prototyping that would be great. And we can prioritize this over the next sync, I think we have workarounds to get things mostly working in non-migration cases. And maybe a sync either on zoom or just async discussions on Zulip would help with blockers.</p>



<a name="219304579"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/status%20meeting%202020-12-03/near/219304579" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/status.20meeting.202020-12-03.html#219304579">(Dec 09 2020 at 07:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/189812-t-compiler.2Fwg-rfc-2229/topic/status.20meeting.202020-12-03/near/219207039">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/189812-t-compiler.2Fwg-rfc-2229/topic/status.20meeting.202020-12-03/near/219206951">said</a>:</p>
<blockquote>
<p>Awesome! I just left some notes on the PR you had open, <span class="user-mention silent" data-user-id="281950">Aman Arora</span>, and I can prioritize <a href="https://github.com/rust-lang/rust/issues/79553">#79553</a></p>
</blockquote>
<p>oh, sorry, that <em>is</em> the PR I reviewed <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>
</blockquote>
<p>I have updated the PR  <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>