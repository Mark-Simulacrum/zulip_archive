<html>
<head><meta charset="utf-8"><title>min capture PR and perf results · t-compiler/wg-rfc-2229 · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/index.html">t-compiler/wg-rfc-2229</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/min.20capture.20PR.20and.20perf.20results.html">min capture PR and perf results</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="215806359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/min%20capture%20PR%20and%20perf%20results/near/215806359" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/min.20capture.20PR.20and.20perf.20results.html#215806359">(Nov 06 2020 at 04:51)</a>:</h4>
<p>I had requested a perf run on the PR I had created this morning. Results just came in <a href="https://perf.rust-lang.org/compare.html?start=9d78d1d02761b906038ba4d54c5f3427f920f5fb&amp;end=4ef9e8c67e8251f2b7d6a6657c2b8cdf2c13b4d2&amp;stat=instructions%3Au">https://perf.rust-lang.org/compare.html?start=9d78d1d02761b906038ba4d54c5f3427f920f5fb&amp;end=4ef9e8c67e8251f2b7d6a6657c2b8cdf2c13b4d2&amp;stat=instructions%3Au</a></p>
<p>Instructions for the most part are mostly neutral. But the wall clocks times are kind of interesting</p>



<a name="215806360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/min%20capture%20PR%20and%20perf%20results/near/215806360" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/min.20capture.20PR.20and.20perf.20results.html#215806360">(Nov 06 2020 at 04:51)</a>:</h4>
<p><a href="/user_uploads/4715/lAgXfuCKFIjKIbopPWinaa06/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/lAgXfuCKFIjKIbopPWinaa06/image.png" title="image.png"><img src="/user_uploads/4715/lAgXfuCKFIjKIbopPWinaa06/image.png"></a></div>



<a name="215806362"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/min%20capture%20PR%20and%20perf%20results/near/215806362" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/min.20capture.20PR.20and.20perf.20results.html#215806362">(Nov 06 2020 at 04:51)</a>:</h4>
<p>incremental unchanged is affected. I'm assuming that's noise in the wall clock times</p>



<a name="215806861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/min%20capture%20PR%20and%20perf%20results/near/215806861" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/min.20capture.20PR.20and.20perf.20results.html#215806861">(Nov 06 2020 at 05:03)</a>:</h4>
<p>Also couple notes would be</p>
<ul>
<li>We don't have the initializer stage (since the feature is enabled) in the current perf test</li>
<li>We have the bridge which is an extra step</li>
</ul>



<a name="215811702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/min%20capture%20PR%20and%20perf%20results/near/215811702" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/min.20capture.20PR.20and.20perf.20results.html#215811702">(Nov 06 2020 at 07:05)</a>:</h4>
<p>Min capture PR is out: <a href="https://github.com/rust-lang/rust/pull/78801">https://github.com/rust-lang/rust/pull/78801</a></p>



<a name="216156890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/min%20capture%20PR%20and%20perf%20results/near/216156890" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/min.20capture.20PR.20and.20perf.20results.html#216156890">(Nov 09 2020 at 23:38)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I replied to your comments, I think for nested closures it's hard to distinguish error logs</p>



<a name="216157261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/min%20capture%20PR%20and%20perf%20results/near/216157261" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/min.20capture.20PR.20and.20perf.20results.html#216157261">(Nov 09 2020 at 23:43)</a>:</h4>
<p><span class="user-mention" data-user-id="281950">@Aman Arora</span> OK, it seems so, since I was a bit confused</p>



<a name="216157885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/min%20capture%20PR%20and%20perf%20results/near/216157885" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/min.20capture.20PR.20and.20perf.20results.html#216157885">(Nov 09 2020 at 23:53)</a>:</h4>
<p>I'll have to look at how the error messages get generated, but I did notice that they seemed to contain various things interspersed</p>



<a name="216158099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/min%20capture%20PR%20and%20perf%20results/near/216158099" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/min.20capture.20PR.20and.20perf.20results.html#216158099">(Nov 09 2020 at 23:56)</a>:</h4>
<p>I think that is only in the nested closure case</p>



<a name="216158131"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/min%20capture%20PR%20and%20perf%20results/near/216158131" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/min.20capture.20PR.20and.20perf.20results.html#216158131">(Nov 09 2020 at 23:57)</a>:</h4>
<p>Or do you think that is the case in other test cases as well?</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>