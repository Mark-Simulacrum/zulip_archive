<html>
<head><meta charset="utf-8"><title>regression roundup ¬∑ t-compiler/wg-rfc-2229 ¬∑ Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/index.html">t-compiler/wg-rfc-2229</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html">regression roundup</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="250673371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250673371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250673371">(Aug 25 2021 at 19:54)</a>:</h4>
<p>I thought I saw a new regression that <span class="user-mention" data-user-id="307184">@rocksand</span>  claimed, but otherwise, I think we're largely on top of the issues?</p>



<a name="250673525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250673525" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250673525">(Aug 25 2021 at 19:55)</a>:</h4>
<p>I _think_ so</p>



<a name="250673545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250673545" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rocksand <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250673545">(Aug 25 2021 at 19:55)</a>:</h4>
<p>Yes, I think this is the last bug issue which does not have a open PR yet. I will try to have a fix tonight</p>



<a name="250673549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250673549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250673549">(Aug 25 2021 at 19:55)</a>:</h4>
<p>Only thing left is the insig dtors</p>



<a name="250674600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250674600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250674600">(Aug 25 2021 at 20:03)</a>:</h4>
<p><span class="user-mention" data-user-id="307184">@rocksand</span> do you know the cause?</p>



<a name="250675005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250675005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rocksand <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250675005">(Aug 25 2021 at 20:06)</a>:</h4>
<p>I haven‚Äôt looked at it yet, but it seemed related to a previous issue I solved: <a href="https://github.com/rust-lang/rust/issues/87988">https://github.com/rust-lang/rust/issues/87988</a>. Probably another missing edge case in the match pattern code üò©</p>



<a name="250675596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250675596" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250675596">(Aug 25 2021 at 20:10)</a>:</h4>
<p>It's most likely that we are ignoring the capture because the only match case we have is  a constant</p>



<a name="250675628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250675628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250675628">(Aug 25 2021 at 20:10)</a>:</h4>
<p>The problem is that the code is incorrect but we somehow get to MIR build</p>



<a name="250675647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250675647" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250675647">(Aug 25 2021 at 20:10)</a>:</h4>
<p>If I remove the closure: <a href="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2021&amp;gist=e4e3a0a44729fbb118eeb3db25be2726">https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2021&amp;gist=e4e3a0a44729fbb118eeb3db25be2726</a></p>



<a name="250675669"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250675669" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250675669">(Aug 25 2021 at 20:10)</a>:</h4>
<p>Ah exhaustiveness checking probably hapens after MIR build</p>



<a name="250676251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250676251" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rocksand <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250676251">(Aug 25 2021 at 20:15)</a>:</h4>
<p>I mean we ignore the capture because of a missing edge case. It‚Äôs a struct so we should capture the match discriminant, and my guess is we don‚Äôt right now</p>



<a name="250679605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250679605" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250679605">(Aug 25 2021 at 20:42)</a>:</h4>
<p>Exhaustiveness checking happens before MIR build</p>



<a name="250679611"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250679611" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250679611">(Aug 25 2021 at 20:42)</a>:</h4>
<p>But it's based on THIR</p>



<a name="250679663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250679663" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250679663">(Aug 25 2021 at 20:43)</a>:</h4>
<p>Is this the issue <a href="https://github.com/rust-lang/rust/issues/88331">https://github.com/rust-lang/rust/issues/88331</a> ?</p>



<a name="250679682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250679682" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250679682">(Aug 25 2021 at 20:43)</a>:</h4>
<p>Yes</p>



<a name="250679712"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250679712" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250679712">(Aug 25 2021 at 20:43)</a>:</h4>
<p>Yes, seems clearly like the problem is that don't consider matching a constant a read?</p>



<a name="250679766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250679766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250679766">(Aug 25 2021 at 20:44)</a>:</h4>
<p>I think so</p>



<a name="250679807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250679807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250679807">(Aug 25 2021 at 20:44)</a>:</h4>
<p>I haven't gotten a chance to go look at debug logs</p>



<a name="250698415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250698415" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rocksand <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250698415">(Aug 25 2021 at 23:41)</a>:</h4>
<p>I think we need to account for the Adt fields too</p>



<a name="250698609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250698609" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250698609">(Aug 25 2021 at 23:42)</a>:</h4>
<p><span class="user-mention" data-user-id="307184">@rocksand</span> what do you mean by the ADT fields?</p>



<a name="250698646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250698646" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250698646">(Aug 25 2021 at 23:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307184">rocksand</span> <a href="#narrow/stream/189812-t-compiler.2Fwg-rfc-2229/topic/regression.20roundup/near/250676251">said</a>:</p>
<blockquote>
<p>It‚Äôs a struct so we should capture the match discriminant, and my guess is we don‚Äôt right now</p>
</blockquote>
<p>I don't quite understand this -- what do you mean by "match discriminant"?</p>



<a name="250698758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250698758" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rocksand <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250698758">(Aug 25 2021 at 23:44)</a>:</h4>
<p>Sorry, I meant VariantDef fields <a href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.VariantDef.html">https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.VariantDef.html</a></p>



<a name="250698794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250698794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rocksand <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250698794">(Aug 25 2021 at 23:44)</a>:</h4>
<p>By match discreminant I mean the place we are comparing the patterns with</p>



<a name="250698825"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250698825" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rocksand <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250698825">(Aug 25 2021 at 23:45)</a>:</h4>
<p>I thought it was called the match discreminant but maybe I have got it wrong all along</p>



<a name="250698995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250698995" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250698995">(Aug 25 2021 at 23:47)</a>:</h4>
<p>So I was thinking about adt fields. Assuming the match contains all cases, we don't really care about fields of an adt unless they create a binding.</p>



<a name="250699020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250699020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250699020">(Aug 25 2021 at 23:47)</a>:</h4>
<p>Well until the const case showed up</p>



<a name="250699028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250699028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rocksand <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250699028">(Aug 25 2021 at 23:47)</a>:</h4>
<p>If we have only one variant, but that variant contains any field then there are more that one case to be compared to</p>



<a name="250699047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250699047" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250699047">(Aug 25 2021 at 23:47)</a>:</h4>
<p>Yes but then they will create a binding</p>



<a name="250699116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250699116" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rocksand <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250699116">(Aug 25 2021 at 23:48)</a>:</h4>
<p>I think they do unless we have const</p>



<a name="250699177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250699177" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250699177">(Aug 25 2021 at 23:49)</a>:</h4>
<p>Yea we currently don't process const I think?</p>



<a name="250699400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250699400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250699400">(Aug 25 2021 at 23:51)</a>:</h4>
<p>Nvm that's a patkind const is THIR</p>



<a name="250699423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250699423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250699423">(Aug 25 2021 at 23:52)</a>:</h4>
<p>We see constant as a path in HIR</p>



<a name="250699487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250699487" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rocksand <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250699487">(Aug 25 2021 at 23:52)</a>:</h4>
<p>If I replace <code>Opcode(0x1) =&gt; unimplemented!()</code> with we have 2 patterns <code>Lit</code> and <code>TupleStruct</code>,  while if I use the const there is only one pattern and it's a Path</p>



<a name="250918545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250918545" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250918545">(Aug 27 2021 at 11:39)</a>:</h4>
<p><span class="user-mention" data-user-id="307184">@rocksand</span> did you ever have time to investigate? if not, I can spend some time today-- I'd really like to make sure we have PRs up for everything by today.</p>



<a name="250924564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250924564" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rocksand <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250924564">(Aug 27 2021 at 12:36)</a>:</h4>
<p>I worked on it yesterday. I still need to add better comments but this was my idea to solve the issue <a href="https://github.com/rust-lang/rust/pull/88390">https://github.com/rust-lang/rust/pull/88390</a></p>



<a name="250945814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250945814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250945814">(Aug 27 2021 at 15:08)</a>:</h4>
<p>this doesn't <em>seem</em> right to me</p>



<a name="250945886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250945886" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250945886">(Aug 27 2021 at 15:08)</a>:</h4>
<p>oh, wait</p>



<a name="250945936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250945936" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250945936">(Aug 27 2021 at 15:09)</a>:</h4>
<p>I am beginning to see :)</p>



<a name="250949321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250949321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250949321">(Aug 27 2021 at 15:32)</a>:</h4>
<p>I will have to pull this</p>



<a name="250954164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250954164" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rocksand <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250954164">(Aug 27 2021 at 16:07)</a>:</h4>
<p>Another potential solution, I think, would be to look at/change how we ‚Äúprocess‚Äù const so we get don‚Äôt just get a PatKind that is Path</p>



<a name="250956623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250956623" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250956623">(Aug 27 2021 at 16:24)</a>:</h4>
<p>I don't think we can decide if A::B is an associated type or constant until after typechk though</p>



<a name="250956884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250956884" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250956884">(Aug 27 2021 at 16:26)</a>:</h4>
<p>Outside of assuming that a path in match arm is most likely a constant than a type</p>



<a name="250965150"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250965150" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250965150">(Aug 27 2021 at 17:26)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/88372">https://github.com/rust-lang/rust/issues/88372</a></p>



<a name="250965183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250965183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250965183">(Aug 27 2021 at 17:26)</a>:</h4>
<p>I won't be able to get to this until late evening/tomorrow morning</p>



<a name="250984202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250984202" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250984202">(Aug 27 2021 at 19:37)</a>:</h4>
<p>going to look a bit at <span class="user-mention" data-user-id="307184">@rocksand</span>'s PR now</p>



<a name="250985135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250985135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250985135">(Aug 27 2021 at 19:44)</a>:</h4>
<p><span class="user-mention" data-user-id="307184">@rocksand</span> so this is the code that converts from patterns to "THIR" patterns:</p>
<p><a href="https://github.com/rust-lang/rust/blob/110a9b3b1ca1fddd34a3ecb8ec47fd8bb5ca7424/compiler/rustc_mir_build/src/thir/pattern/mod.rs?plain=1#L448-L462">https://github.com/rust-lang/rust/blob/110a9b3b1ca1fddd34a3ecb8ec47fd8bb5ca7424/compiler/rustc_mir_build/src/thir/pattern/mod.rs?plain=1#L448-L462</a></p>



<a name="250985168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250985168" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250985168">(Aug 27 2021 at 19:44)</a>:</h4>
<p>most notably, this seems to be the case of constants:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="p">(</span><span class="n">def_id</span><span class="p">,</span><span class="w"> </span><span class="n">is_associated_const</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">Res</span>::<span class="n">Def</span><span class="p">(</span><span class="n">DefKind</span>::<span class="n">Const</span><span class="p">,</span><span class="w"> </span><span class="n">def_id</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">def_id</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">),</span><span class="w"></span>
<span class="w">            </span><span class="n">Res</span>::<span class="n">Def</span><span class="p">(</span><span class="n">DefKind</span>::<span class="n">AssocConst</span><span class="p">,</span><span class="w"> </span><span class="n">def_id</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">def_id</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">),</span><span class="w"></span>
</code></pre></div>



<a name="250985402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250985402" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250985402">(Aug 27 2021 at 19:46)</a>:</h4>
<p>I suppose we should have this information from typechk by the time we run capture analysis?</p>



<a name="250985403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250985403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250985403">(Aug 27 2021 at 19:46)</a>:</h4>
<p>I think I'd like the code to look a bit more like that</p>



<a name="250985413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250985413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250985413">(Aug 27 2021 at 19:46)</a>:</h4>
<p>I might push some commits to the branch</p>



<a name="250985614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250985614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250985614">(Aug 27 2021 at 19:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281950">Aman Arora</span> <a href="#narrow/stream/189812-t-compiler.2Fwg-rfc-2229/topic/regression.20roundup/near/250985402">said</a>:</p>
<blockquote>
<p>I suppose we should have this information from typechk by the time we run capture analysis?</p>
</blockquote>
<p>yes</p>



<a name="250985737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250985737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250985737">(Aug 27 2021 at 19:48)</a>:</h4>
<p>Though I think we still need the fields check</p>



<a name="250985799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250985799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250985799">(Aug 27 2021 at 19:49)</a>:</h4>
<p>what do you mean by "the fields check?"</p>



<a name="250985807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250985807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250985807">(Aug 27 2021 at 19:49)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">struct</span> <span class="nc">A</span><span class="p">{}</span><span class="w"></span>

<span class="k">impl</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">const</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">{}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="250985847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250985847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250985847">(Aug 27 2021 at 19:49)</a>:</h4>
<p>That the class has non 0 fields</p>



<a name="250986189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250986189" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250986189">(Aug 27 2021 at 19:51)</a>:</h4>
<p>Hmm, I see.</p>



<a name="250986444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250986444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250986444">(Aug 27 2021 at 19:53)</a>:</h4>
<p>I guess a "zero-sized type" could be exempt</p>



<a name="250986471"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250986471" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250986471">(Aug 27 2021 at 19:54)</a>:</h4>
<p>but I'm not sure if that's the behavior we want</p>



<a name="250986534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250986534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250986534">(Aug 27 2021 at 19:54)</a>:</h4>
<p>annoyingly pattern lowering is in a bit of flux, too</p>



<a name="250986710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250986710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250986710">(Aug 27 2021 at 19:55)</a>:</h4>
<p>Right now zst don't seem to cause a borrow conflict</p>



<a name="250986713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250986713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250986713">(Aug 27 2021 at 19:55)</a>:</h4>
<p>Which is understandable</p>



<a name="250986792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250986792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250986792">(Aug 27 2021 at 19:56)</a>:</h4>
<p>At least that's what I remember when I tested it couple days ago</p>



<a name="250986876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250986876" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250986876">(Aug 27 2021 at 19:57)</a>:</h4>
<p>That seems likely</p>



<a name="250986891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250986891" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250986891">(Aug 27 2021 at 19:57)</a>:</h4>
<p>I'm thinking about this</p>



<a name="250986903"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250986903" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250986903">(Aug 27 2021 at 19:57)</a>:</h4>
<p>what we <em>really</em> want is to use the THIR pattern lowering code</p>



<a name="250986920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250986920" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250986920">(Aug 27 2021 at 19:57)</a>:</h4>
<p>Yes</p>



<a name="250986955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250986955" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250986955">(Aug 27 2021 at 19:57)</a>:</h4>
<p>I feel like there is probably far too code/logic duplication</p>



<a name="250987015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250987015" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250987015">(Aug 27 2021 at 19:58)</a>:</h4>
<p>It might be hard to fix though</p>



<a name="250987068"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250987068" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250987068">(Aug 27 2021 at 19:58)</a>:</h4>
<p>I'm wondering if we can factor out that logic a bit</p>



<a name="250987073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250987073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250987073">(Aug 27 2021 at 19:58)</a>:</h4>
<p>Like what we are doing here is essentially what some later stage of the compiler does to figure out if borrow needs to happen or not</p>



<a name="250987848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250987848" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250987848">(Aug 27 2021 at 20:04)</a>:</h4>
<p>If my understanding is correct<br>
90% Typechk -&gt; capture analysis -&gt; write out typechk results -&gt; thir lowering.</p>
<p>We might need significant refactor to support utilize their lowering</p>
<p>Because it's possible that we have closure that contains a match where a block associated with an arm contains a closure and we'll end up in some weird boundary b/w thir and hir</p>



<a name="250989066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989066" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989066">(Aug 27 2021 at 20:13)</a>:</h4>
<p>well</p>



<a name="250989084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989084" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989084">(Aug 27 2021 at 20:13)</a>:</h4>
<p>it's actually not <em>that</em> hard for us to do</p>



<a name="250989139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989139" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989139">(Aug 27 2021 at 20:14)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">crate</span><span class="w"> </span><span class="k">fn</span> <span class="nf">pat_from_hir</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="o">'</span><span class="na">tcx</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">tcx</span>: <span class="nc">TyCtxt</span><span class="o">&lt;'</span><span class="na">tcx</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">param_env</span>: <span class="nc">ty</span>::<span class="n">ParamEnv</span><span class="o">&lt;'</span><span class="na">tcx</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">typeck_results</span>: <span class="kp">&amp;</span><span class="o">'</span><span class="na">a</span> <span class="nc">ty</span>::<span class="n">TypeckResults</span><span class="o">&lt;'</span><span class="na">tcx</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">pat</span>: <span class="kp">&amp;</span><span class="o">'</span><span class="na">tcx</span> <span class="nc">hir</span>::<span class="n">Pat</span><span class="o">&lt;'</span><span class="na">tcx</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Pat</span><span class="o">&lt;'</span><span class="na">tcx</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</code></pre></div>



<a name="250989198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989198" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989198">(Aug 27 2021 at 20:14)</a>:</h4>
<p>Oh that's awesome</p>



<a name="250989314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989314">(Aug 27 2021 at 20:15)</a>:</h4>
<p>I don't love that we're going to wind up re-doing it later</p>



<a name="250989329"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989329" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989329">(Aug 27 2021 at 20:15)</a>:</h4>
<p>but....maybe ok</p>



<a name="250989387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989387">(Aug 27 2021 at 20:16)</a>:</h4>
<p>Oh true</p>



<a name="250989400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989400">(Aug 27 2021 at 20:16)</a>:</h4>
<p>actually</p>



<a name="250989406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989406">(Aug 27 2021 at 20:16)</a>:</h4>
<p>if we <em>wanted</em> we could cache it</p>



<a name="250989412"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989412" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989412">(Aug 27 2021 at 20:16)</a>:</h4>
<p>in the <code>TypeckResults</code></p>



<a name="250989430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989430">(Aug 27 2021 at 20:16)</a>:</h4>
<p>I'm not sure that it'll be a perf problem</p>



<a name="250989613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989613">(Aug 27 2021 at 20:18)</a>:</h4>
<p>we actually already lower patterns more than once</p>



<a name="250989644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989644" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989644">(Aug 27 2021 at 20:18)</a>:</h4>
<p>once in <code>check_match</code> and then again in MIR build</p>



<a name="250989661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989661" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989661">(Aug 27 2021 at 20:18)</a>:</h4>
<p>If we have some struct that contains a closure?</p>
<p>Like</p>
<div class="codehilite"><pre><span></span><code>match x {
A::B(f, y) =&gt; f(y)
}
</code></pre></div>
<p>Would we ever end up in a situation where it's expecting type of a closure, but it hasn't been resolved?</p>



<a name="250989701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989701" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989701">(Aug 27 2021 at 20:19)</a>:</h4>
<p>Because the typechk tables in that function call are complete</p>



<a name="250989704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989704">(Aug 27 2021 at 20:19)</a>:</h4>
<p>no, we already enforce a DAG across closures</p>



<a name="250989789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989789">(Aug 27 2021 at 20:19)</a>:</h4>
<p>Also the typechk tables we have during closure analysis is MaybeTypechk tables and we can't just read types out of them</p>



<a name="250989887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989887">(Aug 27 2021 at 20:20)</a>:</h4>
<p>for this to work, we would have to make rustc_typeck depend on rustc_mir_build</p>



<a name="250989913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989913" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989913">(Aug 27 2021 at 20:20)</a>:</h4>
<p>We read types out using fcx.node_ty which does maybe resolve</p>



<a name="250989933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989933">(Aug 27 2021 at 20:21)</a>:</h4>
<p>yeah, that's true</p>



<a name="250989954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989954">(Aug 27 2021 at 20:21)</a>:</h4>
<p>still, it's definitely <em>doable</em></p>



<a name="250989958"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989958" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989958">(Aug 27 2021 at 20:21)</a>:</h4>
<p>That feels wrong ... Also a possible cyclic dependency</p>



<a name="250989968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989968" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989968">(Aug 27 2021 at 20:21)</a>:</h4>
<p>no, it's not a cyclic dependency</p>



<a name="250989973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989973" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989973">(Aug 27 2021 at 20:21)</a>:</h4>
<p>it's not really wrong</p>



<a name="250989986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250989986" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250989986">(Aug 27 2021 at 20:21)</a>:</h4>
<p>it is sort of wrong that THIR construction is in rustc_mir_build</p>



<a name="250990020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250990020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250990020">(Aug 27 2021 at 20:21)</a>:</h4>
<p>we could factor it out into a crate of its own</p>



<a name="250990075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250990075" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250990075">(Aug 27 2021 at 20:22)</a>:</h4>
<p>alternatively</p>



<a name="250990089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250990089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250990089">(Aug 27 2021 at 20:22)</a>:</h4>
<p>we could maybe build some sort of query for this</p>



<a name="250990114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250990114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250990114">(Aug 27 2021 at 20:22)</a>:</h4>
<p>that is:</p>



<a name="250990121"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250990121" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250990121">(Aug 27 2021 at 20:22)</a>:</h4>
<p>what we have is a reference to a constant</p>



<a name="250990123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250990123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250990123">(Aug 27 2021 at 20:22)</a>:</h4>
<p>For the short term do we want to merge Roxane's changes and maybe do the refactoring later?</p>



<a name="250990148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250990148" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250990148">(Aug 27 2021 at 20:22)</a>:</h4>
<p>I'm testing a diff to the patern matching code that (imo) simplifies it</p>



<a name="250990171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250990171" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250990171">(Aug 27 2021 at 20:23)</a>:</h4>
<p>that is, a patch to <span class="user-mention" data-user-id="307184">@rocksand</span>'s PR</p>



<a name="250990192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250990192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250990192">(Aug 27 2021 at 20:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281950">Aman Arora</span> <a href="#narrow/stream/189812-t-compiler.2Fwg-rfc-2229/topic/regression.20roundup/near/250990123">said</a>:</p>
<blockquote>
<p>For the short term do we want to merge Roxane's changes and maybe do the refactoring later?</p>
</blockquote>
<p>yes, probably</p>



<a name="250990204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250990204" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250990204">(Aug 27 2021 at 20:23)</a>:</h4>
<p>I'm not sure we want to do it at all :)</p>



<a name="250990216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250990216" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250990216">(Aug 27 2021 at 20:23)</a>:</h4>
<p>or at least, I think there's something to be improved</p>



<a name="250990224"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250990224" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250990224">(Aug 27 2021 at 20:23)</a>:</h4>
<p>just not 100% sure what it is</p>



<a name="250991010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250991010" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250991010">(Aug 27 2021 at 20:29)</a>:</h4>
<p>Okay</p>



<a name="250991273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250991273" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250991273">(Aug 27 2021 at 20:31)</a>:</h4>
<p>pushed the commit</p>



<a name="250991278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250991278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250991278">(Aug 27 2021 at 20:31)</a>:</h4>
<p>it seems to work locally</p>



<a name="250991293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250991293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250991293">(Aug 27 2021 at 20:31)</a>:</h4>
<p>and it mkes sense to me</p>



<a name="250991307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250991307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250991307">(Aug 27 2021 at 20:31)</a>:</h4>
<p>it doesn't handle the zero-sized type, though, and I don't see the logic around non-exhaustiveness</p>



<a name="250991314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250991314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250991314">(Aug 27 2021 at 20:31)</a>:</h4>
<p>maybe that didn't land yet?</p>



<a name="250991316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250991316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250991316">(Aug 27 2021 at 20:31)</a>:</h4>
<p>I remember r+'ing it I thought</p>



<a name="250991344"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250991344" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250991344">(Aug 27 2021 at 20:32)</a>:</h4>
<p>Probably didn't merge yet?</p>



<a name="250992307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250992307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250992307">(Aug 27 2021 at 20:40)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/88280">https://github.com/rust-lang/rust/pull/88280</a></p>



<a name="250992319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250992319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250992319">(Aug 27 2021 at 20:40)</a>:</h4>
<p>guess not</p>



<a name="250992423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250992423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250992423">(Aug 27 2021 at 20:40)</a>:</h4>
<p>take a look at <a href="https://github.com/rust-lang/rust/pull/88390/files#diff-7e389c2ca4db213dcaee698d12a364e7e39f77179a0da1c6578e1ffc9187a9e2">these diffs</a></p>



<a name="250992536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250992536" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250992536">(Aug 27 2021 at 20:41)</a>:</h4>
<p>Looking</p>



<a name="250992873"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250992873" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250992873">(Aug 27 2021 at 20:44)</a>:</h4>
<p>minor nit</p>



<a name="250992887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250992887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250992887">(Aug 27 2021 at 20:44)</a>:</h4>
<p>are we not checking for ZST scenario?</p>



<a name="250993074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250993074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250993074">(Aug 27 2021 at 20:45)</a>:</h4>
<p>I'm not checking :)</p>



<a name="250993208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250993208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250993208">(Aug 27 2021 at 20:46)</a>:</h4>
<p>Can you leave a fixme?</p>



<a name="250993228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250993228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250993228">(Aug 27 2021 at 20:47)</a>:</h4>
<p>yep</p>



<a name="250993238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250993238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250993238">(Aug 27 2021 at 20:47)</a>:</h4>
<p>Thanks!</p>



<a name="250994197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250994197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250994197">(Aug 27 2021 at 20:55)</a>:</h4>
<p>Left a comment about the <code>needs_to_be_read = is_multivariant_adt(place_ty);</code> we want <code>|=</code></p>



<a name="250996473"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/250996473" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#250996473">(Aug 27 2021 at 21:12)</a>:</h4>
<p>ah yeah</p>



<a name="251004565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251004565" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251004565">(Aug 27 2021 at 22:29)</a>:</h4>
<p>so ok I r+'d the PR</p>



<a name="251004582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251004582" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251004582">(Aug 27 2021 at 22:29)</a>:</h4>
<p>but we do have to decide if we want to deal with ZSTs etc</p>



<a name="251006220"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251006220" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251006220">(Aug 27 2021 at 22:49)</a>:</h4>
<p>I think we should. Though I'm not sure if capturing or not capturing makes any difference?</p>
<p>Like I might have not tested it properly but I think I was able to read the variable while having a &amp;Mut reference to it</p>



<a name="251006323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251006323" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251006323">(Aug 27 2021 at 22:50)</a>:</h4>
<p>The impact might be compiler performance because we are tracking more data</p>



<a name="251008278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251008278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251008278">(Aug 27 2021 at 23:14)</a>:</h4>
<p>I'm of mixed minds about it</p>



<a name="251008289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251008289" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251008289">(Aug 27 2021 at 23:14)</a>:</h4>
<p>we should definitely match the const behavior</p>



<a name="251008295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251008295" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251008295">(Aug 27 2021 at 23:14)</a>:</h4>
<p>I don't love that behavior :P</p>



<a name="251008304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251008304" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251008304">(Aug 27 2021 at 23:14)</a>:</h4>
<p>but I'm not sure whether there are privacy considerations</p>



<a name="251008331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251008331" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251008331">(Aug 27 2021 at 23:15)</a>:</h4>
<p>e.g. non-exhaustive is still a factor</p>



<a name="251008349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251008349" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251008349">(Aug 27 2021 at 23:15)</a>:</h4>
<p>just testing for "is it zero sized" doesn't seem right</p>



<a name="251008370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251008370" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251008370">(Aug 27 2021 at 23:15)</a>:</h4>
<p>so I think I might rather fix it by trying to adapt the lowering code</p>



<a name="251025034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251025034" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251025034">(Aug 28 2021 at 03:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/189812-t-compiler.2Fwg-rfc-2229/topic/regression.20roundup/near/251008370">said</a>:</p>
<blockquote>
<p>so I think I might rather fix it by trying to adapt the lowering code</p>
</blockquote>
<p>I'm not sure what do you mean by this. I'm also not entirely aware of all the nitty-gritty details that are around ZST/patterns, so from that prespective using extistng code to ensure correctness/consistency seems like a good idea to me, but that might be too hard.</p>



<a name="251153303"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251153303" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251153303">(Aug 29 2021 at 19:39)</a>:</h4>
<p>(deleted)</p>



<a name="251153314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251153314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251153314">(Aug 29 2021 at 19:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281950">Aman Arora</span> <a href="#narrow/stream/189812-t-compiler.2Fwg-rfc-2229/topic/regression.20roundup/near/250965150">said</a>:</p>
<blockquote>
<p><a href="https://github.com/rust-lang/rust/issues/88372">https://github.com/rust-lang/rust/issues/88372</a></p>
</blockquote>
<p><a href="https://github.com/rust-lang/rust/pull/88466/files">https://github.com/rust-lang/rust/pull/88466/files</a></p>



<a name="251153879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/regression%20roundup/near/251153879" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://zulip-archive.rust-lang.org/stream/189812-t-compiler/wg-rfc-2229/topic/regression.20roundup.html#251153879">(Aug 29 2021 at 19:50)</a>:</h4>
<p>Open issues:</p>
<ul>
<li>Capture analysis fixup (<a href="https://github.com/rust-lang/rust/issues/88372">#88372</a>): PR open <a href="https://github.com/rust-lang/rust/issues/88466">#88466</a></li>
<li>Lifetimes/ref in move error (<a href="https://github.com/rust-lang/rust/issues/88431">#88431</a>)</li>
<li>Macro migration issue (<a href="https://github.com/rust-lang/rust/issues/88440">#88440</a>)</li>
<li>Variant of <a href="https://github.com/rust-lang/rust/issues/88114">#88114</a> (<a href="https://github.com/rust-lang/rust/issues/88444">#88444</a>)</li>
</ul>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>