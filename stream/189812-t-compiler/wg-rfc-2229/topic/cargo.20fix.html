<html>
<head><meta charset="utf-8"><title>cargo fix · t-compiler/wg-rfc-2229 · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/index.html">t-compiler/wg-rfc-2229</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html">cargo fix</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="232339700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232339700" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232339700">(Mar 29 2021 at 21:31)</a>:</h4>
<p>I know we discussed the solution but the migrations worked out far more easily than i expected</p>



<a name="232339705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232339705" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232339705">(Mar 29 2021 at 21:31)</a>:</h4>
<p><a href="/user_uploads/4715/Vtf7q8zM6lSEyttAO9wHPYqT/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/Vtf7q8zM6lSEyttAO9wHPYqT/image.png" title="image.png"><img src="/user_uploads/4715/Vtf7q8zM6lSEyttAO9wHPYqT/image.png"></a></div>



<a name="232339740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232339740" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232339740">(Mar 29 2021 at 21:31)</a>:</h4>
<p><a href="/user_uploads/4715/rJ0QJU4ByxyI3kgGafDTn1wf/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/rJ0QJU4ByxyI3kgGafDTn1wf/image.png" title="image.png"><img src="/user_uploads/4715/rJ0QJU4ByxyI3kgGafDTn1wf/image.png"></a></div>



<a name="232339847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232339847" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232339847">(Mar 29 2021 at 21:32)</a>:</h4>
<p>It doesn't automatically run runfmt and I'm not sure how to test the machine applicabilty</p>



<a name="232339862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232339862" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232339862">(Mar 29 2021 at 21:33)</a>:</h4>
<p>I'll check with wg-diagonstics on that</p>



<a name="232447358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232447358" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232447358">(Mar 30 2021 at 15:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281950">Aman Arora</span> <a href="#narrow/stream/189812-t-compiler.2Fwg-rfc-2229/topic/cargo.20fix/near/232339847">said</a>:</p>
<blockquote>
<p>It doesn't automatically run runfmt and I'm not sure how to test the machine applicabilty</p>
</blockquote>
<p>I <em>think</em> running rustfmt is more part of <code>cargo fix</code></p>



<a name="232447378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232447378" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232447378">(Mar 30 2021 at 15:40)</a>:</h4>
<p>"not our problem"</p>



<a name="232447394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232447394" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232447394">(Mar 30 2021 at 15:40)</a>:</h4>
<p>but there <em>is</em> a way to write tests for it</p>



<a name="232447395"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232447395" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232447395">(Mar 30 2021 at 15:40)</a>:</h4>
<p>let me go look</p>



<a name="232447580"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232447580" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232447580">(Mar 30 2021 at 15:42)</a>:</h4>
<p><span class="user-mention" data-user-id="281950">@Aman Arora</span> so check out <a href="https://github.com/rust-lang/rust/blob/9d7126b6def686536f77164356e1ed23cc94de24/src/test/ui/type/type-ascription-with-fn-call.rs#L1-L2">this test</a>:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// run-rustfix</span>
<span class="cp">#![feature(type_ascription)]</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">f</span><span class="p">()</span><span class="w">  </span>:
    <span class="nc">f</span><span class="p">();</span><span class="w"> </span><span class="c1">//~ ERROR expected type, found function</span>
<span class="p">}</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">f</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
</code></pre></div>



<a name="232447589"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232447589" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232447589">(Mar 30 2021 at 15:42)</a>:</h4>
<p>see the comment on the top?</p>



<a name="232447645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232447645" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232447645">(Mar 30 2021 at 15:42)</a>:</h4>
<p>then you have a <a href="https://github.com/rust-lang/rust/blob/9d7126b6def686536f77164356e1ed23cc94de24/src/test/ui/type/type-ascription-with-fn-call.fixed#L1-L10"><code>.fixed</code> file</a> that goes along with it</p>



<a name="232447656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232447656" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232447656">(Mar 30 2021 at 15:42)</a>:</h4>
<p>showing the result after rustfix runs</p>



<a name="232447678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232447678" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232447678">(Mar 30 2021 at 15:42)</a>:</h4>
<p>I <em>think</em> <code>--bless</code> even works?</p>



<a name="232483238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/189812-t-compiler/wg-rfc-2229/topic/cargo%20fix/near/232483238" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aman Arora <a href="https://rust-lang.github.io/zulip_archive/stream/189812-t-compiler/wg-rfc-2229/topic/cargo.20fix.html#232483238">(Mar 30 2021 at 19:27)</a>:</h4>
<p>Yes it does</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>