<html>
<head><meta charset="utf-8"><title>Retrieving DefId for AsRef · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Retrieving.20DefId.20for.20AsRef.html">Retrieving DefId for AsRef</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="258901539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Retrieving%20DefId%20for%20AsRef/near/258901539" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuval Dolev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Retrieving.20DefId.20for.20AsRef.html#258901539">(Oct 24 2021 at 22:21)</a>:</h4>
<p>Hi, I'm quite new to the rustc compiler.<br>
I'm currently working on issue <a href="https://github.com/rust-lang/rust/issues/89806">#89806</a>.<br>
I'm trying to add <code>AsRef</code> to the <code>skippable</code> array in line 991 of <code>suggest.rs</code>.<br>
However, I cannot add <code>AsRef</code>to the array, as it is not a Lang Item and the array's element type is <code>DefId</code>.<br>
Is there a simple way to retrieve the <code>DefId</code> for the <code>AsRef</code> trait?<br>
Thanks!</p>



<a name="258902177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Retrieving%20DefId%20for%20AsRef/near/258902177" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Retrieving.20DefId.20for.20AsRef.html#258902177">(Oct 24 2021 at 22:37)</a>:</h4>
<p>You can annotate the type with <code>rustc_diagnostic_item</code>, which works almost the same as <code>lang_item</code></p>



<a name="259299408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Retrieving%20DefId%20for%20AsRef/near/259299408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuval Dolev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Retrieving.20DefId.20for.20AsRef.html#259299408">(Oct 27 2021 at 20:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="119031">Esteban Küber</span> <a href="#narrow/stream/182449-t-compiler.2Fhelp/topic/Retrieving.20DefId.20for.20AsRef/near/258902177">said</a>:</p>
<blockquote>
<p>You can annotate the type with <code>rustc_diagnostic_item</code>, which works almost the same as <code>lang_item</code></p>
</blockquote>
<p>Thanks!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>