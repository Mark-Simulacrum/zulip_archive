<html>
<head><meta charset="utf-8"><title>Manually repeating bootstrap rustc invocation · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Manually.20repeating.20bootstrap.20rustc.20invocation.html">Manually repeating bootstrap rustc invocation</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="184864763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Manually%20repeating%20bootstrap%20rustc%20invocation/near/184864763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Manually.20repeating.20bootstrap.20rustc.20invocation.html#184864763">(Jan 05 2020 at 21:02)</a>:</h4>
<p>If rustc crashes while compiling libstd and I want to rerun under gdb, how do I do that? The command itself is printed, but it seems to also expect a boatload of additional environment variables (RUSTC_STAGE, RUSTC_SYSROOT, etc). How can I get those? They don't seem to be part of -vvv either.</p>



<a name="184864883"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Manually%20repeating%20bootstrap%20rustc%20invocation/near/184864883" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Manually.20repeating.20bootstrap.20rustc.20invocation.html#184864883">(Jan 05 2020 at 21:05)</a>:</h4>
<p><span class="user-mention" data-user-id="133224">@Nikita Popov</span> in what stage?</p>



<a name="184864939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Manually%20repeating%20bootstrap%20rustc%20invocation/near/184864939" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Manually.20repeating.20bootstrap.20rustc.20invocation.html#184864939">(Jan 05 2020 at 21:06)</a>:</h4>
<p>generally speaking you can replace all the env variables and the rustc binary with <code>./build/x86*/stageN/bin/rustc</code> and that should just work, if it doesn't, then I can likely help you make it work</p>



<a name="184865353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Manually%20repeating%20bootstrap%20rustc%20invocation/near/184865353" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Manually.20repeating.20bootstrap.20rustc.20invocation.html#184865353">(Jan 05 2020 at 21:16)</a>:</h4>
<p>Thanks, that worked!</p>



<a name="185055513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Manually%20repeating%20bootstrap%20rustc%20invocation/near/185055513" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yerkebulan Tulibergenov <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Manually.20repeating.20bootstrap.20rustc.20invocation.html#185055513">(Jan 07 2020 at 21:14)</a>:</h4>
<p><span class="user-mention" data-user-id="133224">@Nikita Popov</span> are you switching to Rust from PHP by any chance? ;)</p>



<a name="185057252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Manually%20repeating%20bootstrap%20rustc%20invocation/near/185057252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Manually.20repeating.20bootstrap.20rustc.20invocation.html#185057252">(Jan 07 2020 at 21:34)</a>:</h4>
<p>Nah, I only do Rust work occasionally, and even then it's more LLVM than Rust ;)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>