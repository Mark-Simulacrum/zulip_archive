<html>
<head><meta charset="utf-8"><title>Why is libc no_core? · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html">Why is libc no_core?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="252103965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252103965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252103965">(Sep 05 2021 at 21:47)</a>:</h4>
<p>Why is it actually no_core?</p>



<a name="252104026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252104026" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252104026">(Sep 05 2021 at 21:48)</a>:</h4>
<p>Same as no_std, it avoids linking core (and does not add it to the root or prelude)</p>



<a name="252104053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252104053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252104053">(Sep 05 2021 at 21:49)</a>:</h4>
<p>I was asking why it is no_core and not what no_core is.</p>



<a name="252104059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252104059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252104059">(Sep 05 2021 at 21:49)</a>:</h4>
<p>oh, haha <span aria-label="stuck out tongue" class="emoji emoji-1f61b" role="img" title="stuck out tongue">:stuck_out_tongue:</span></p>



<a name="252104067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252104067" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252104067">(Sep 05 2021 at 21:49)</a>:</h4>
<p>should have realized, you probably know more than most</p>



<a name="252104133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252104133" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252104133">(Sep 05 2021 at 21:50)</a>:</h4>
<p>I think it's related to rustc-dep-of-std</p>



<a name="252104141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252104141" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252104141">(Sep 05 2021 at 21:50)</a>:</h4>
<p>I knew at one point why it is no_core, and now I can't remember.</p>



<a name="252104147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252104147" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252104147">(Sep 05 2021 at 21:51)</a>:</h4>
<p>If it's not no_core, it might link to the wrong core?</p>



<a name="252104153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252104153" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252104153">(Sep 05 2021 at 21:51)</a>:</h4>
<p>Maybe that was necessary in the past?</p>



<a name="252104178"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252104178" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252104178">(Sep 05 2021 at 21:51)</a>:</h4>
<p>All other dep-of-std crates use no_std instead of no_core.</p>



<a name="252104230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252104230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252104230">(Sep 05 2021 at 21:52)</a>:</h4>
<p>(I am about to try and split these threads so zulip will be very confusing for about a minute)</p>



<a name="252104276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252104276" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252104276">(Sep 05 2021 at 21:53)</a>:</h4>
<p>ok should be done</p>



<a name="252104434"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252104434" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252104434">(Sep 05 2021 at 21:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="133247">bjorn3</span> <a href="#narrow/stream/182449-t-compiler.2Fhelp/topic/Why.20is.20libc.20no_core.3F/near/252104178">said</a>:</p>
<blockquote>
<p>All other dep-of-std crates use no_std instead of no_core.</p>
</blockquote>
<p>Well, obviously they all have to be <code>no_std</code> since they are dependencies of std. But my guess is that libc being a Rust 2015 crate, it needs to do <code>extern crate rustc_std_workspace_core as core;</code> to refer to the correct core.</p>



<a name="252104448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252104448" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252104448">(Sep 05 2021 at 21:56)</a>:</h4>
<p>I never fully understand all the rustc-dep-of-std tricks so don't take my words seriously :)</p>



<a name="252105917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252105917" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252105917">(Sep 05 2021 at 22:24)</a>:</h4>
<p>Ah, it is still using the 2015 edition. That makes sense.</p>



<a name="252105954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Why%20is%20libc%20no_core%3F/near/252105954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Why.20is.20libc.20no_core.3F.html#252105954">(Sep 05 2021 at 22:25)</a>:</h4>
<p><code>--extern core=/path/to/rustc_std_workspace_core-*.rlib</code> doesn't work in the 2015 edition afaik.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>