<html>
<head><meta charset="utf-8"><title>stage1 compiler without std · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html">stage1 compiler without std</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="212077925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212077925" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian-Wollersberger <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212077925">(Oct 02 2020 at 13:58)</a>:</h4>
<p>How can you just compile the stage1 compiler without std?<br>
<code>x.py build</code> or <code>x.py build --stage 1 compiler/rustc</code> does also compile std.</p>
<p>I need this because I just want the output of <code>RUSTFLAGS="--emit=llvm-ir" ./x.py build</code> for cargo-llvm-lines.</p>



<a name="212078834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212078834" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lzutao <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212078834">(Oct 02 2020 at 14:05)</a>:</h4>
<p>is it stage0 std or stage1 std ?</p>



<a name="212079062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212079062" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212079062">(Oct 02 2020 at 14:08)</a>:</h4>
<p>--stage 0 compiler/rustc should do it</p>



<a name="212079800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212079800" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian-Wollersberger <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212079800">(Oct 02 2020 at 14:13)</a>:</h4>
<p>Thanks! That works.<br>
I guess I mixed up stage 1 and stage 0. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="212079915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212079915" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212079915">(Oct 02 2020 at 14:14)</a>:</h4>
<p>--stage 0 builds <em>with</em> stage 0</p>



<a name="212079942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212079942" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212079942">(Oct 02 2020 at 14:14)</a>:</h4>
<p><code>--stage 0 compiler/rustc</code> eventually turns into <code>stage1/rustc</code></p>



<a name="212079950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212079950" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212079950">(Oct 02 2020 at 14:14)</a>:</h4>
<p><a href="https://github.com/rust-lang/rustc-dev-guide/pull/857/">https://github.com/rust-lang/rustc-dev-guide/pull/857/</a></p>



<a name="212081590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212081590" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212081590">(Oct 02 2020 at 14:28)</a>:</h4>
<p><span class="user-mention" data-user-id="200368">@Julius-Beides</span> ^ does that clear up some confusion?</p>



<a name="212082532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212082532" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian-Wollersberger <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212082532">(Oct 02 2020 at 14:35)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="200368">Julius-Beides</span> ^ does that clear up some confusion?</p>
</blockquote>
<p>Yes, <a href="https://user-images.githubusercontent.com/23638587/94874258-924dc680-041f-11eb-8c90-b23948b513b3.png">that graphic</a> is really helpful ^^</p>
<div class="message_inline_image"><a href="https://user-images.githubusercontent.com/23638587/94874258-924dc680-041f-11eb-8c90-b23948b513b3.png" title="that graphic"><img src="https://user-images.githubusercontent.com/23638587/94874258-924dc680-041f-11eb-8c90-b23948b513b3.png"></a></div>



<a name="212452552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212452552" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212452552">(Oct 06 2020 at 16:28)</a>:</h4>
<p>That's wildly useful!</p>



<a name="212452592"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212452592" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212452592">(Oct 06 2020 at 16:28)</a>:</h4>
<p>You should tweet that to @rustlang</p>



<a name="212452618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212452618" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212452618">(Oct 06 2020 at 16:28)</a>:</h4>
<p>ugh</p>



<a name="212452652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212452652" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212452652">(Oct 06 2020 at 16:28)</a>:</h4>
<p><a href="https://github.com/rust-lang/rustc-dev-guide/pull/857/#discussion_r498874126">https://github.com/rust-lang/rustc-dev-guide/pull/857/#discussion_r498874126</a></p>



<a name="212452879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212452879" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212452879">(Oct 06 2020 at 16:30)</a>:</h4>
<p>especially <a href="https://github.com/rust-lang/rustc-dev-guide/pull/843#issuecomment-688932572">https://github.com/rust-lang/rustc-dev-guide/pull/843#issuecomment-688932572</a></p>



<a name="212452968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212452968" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212452968">(Oct 06 2020 at 16:31)</a>:</h4>
<p>I'd love to have this in the docs but I don't have the energy to keep arguing about this</p>



<a name="212462694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212462694" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212462694">(Oct 06 2020 at 17:57)</a>:</h4>
<p>Thank you so much for working on this.</p>



<a name="212462761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212462761" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212462761">(Oct 06 2020 at 17:58)</a>:</h4>
<p>The diagram is the clearest and most useful explanation of this I've ever seen.</p>



<a name="212463158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212463158" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212463158">(Oct 06 2020 at 18:00)</a>:</h4>
<p><span class="user-mention" data-user-id="239881">@Josh Triplett</span> you need to convince <span class="user-mention" data-user-id="120518">@Eric Huss</span> , not me :P</p>



<a name="212463207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212463207" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212463207">(Oct 06 2020 at 18:01)</a>:</h4>
<p>This is part of why I suggested tweeting it. ;)</p>



<a name="212463415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212463415" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212463415">(Oct 06 2020 at 18:02)</a>:</h4>
<p>FWIW, it seems like dropping the extra row and column caption would suffice to address the objections.</p>



<a name="212463438"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212463438" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212463438">(Oct 06 2020 at 18:03)</a>:</h4>
<p>No new term, just a diagram about stages.</p>



<a name="212463506"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212463506" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212463506">(Oct 06 2020 at 18:03)</a>:</h4>
<p>Or change them to "linked" and "toolchain".</p>



<a name="212463673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212463673" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212463673">(Oct 06 2020 at 18:05)</a>:</h4>
<p>I am probably not going to push this through. If you want to make a PR I'm happy to review it :)</p>



<a name="212463796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212463796" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212463796">(Oct 06 2020 at 18:05)</a>:</h4>
<p>also don't thank me for the diagram, <span class="user-mention silent" data-user-id="198054">mark-i-m</span> was the one who came up with it</p>



<a name="212470690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212470690" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212470690">(Oct 06 2020 at 19:03)</a>:</h4>
<p>in my opinion it is sad to not have this diagram or a modified version of it merged after receiving sooo many good feedback about it</p>



<a name="212471926"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212471926" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212471926">(Oct 06 2020 at 19:13)</a>:</h4>
<p>I do not want this to be my responsibility.</p>



<a name="212471976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212471976" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212471976">(Oct 06 2020 at 19:14)</a>:</h4>
<p>I'm happy for other people to work on it.</p>



<a name="212494027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212494027" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212494027">(Oct 06 2020 at 22:29)</a>:</h4>
<p>Why don't we tag the issue help-wanted then, and see if someone wants to pick it up?</p>



<a name="212494610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/stage1%20compiler%20without%20std/near/212494610" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/stage1.20compiler.20without.20std.html#212494610">(Oct 06 2020 at 22:36)</a>:</h4>
<p>I opened <a href="https://github.com/rust-lang/rustc-dev-guide/issues/914">https://github.com/rust-lang/rustc-dev-guide/issues/914</a></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>