<html>
<head><meta charset="utf-8"><title>x.py clean only incremental data · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/x.2Epy.20clean.20only.20incremental.20data.html">x.py clean only incremental data</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="265515806"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/x.py%20clean%20only%20incremental%20data/near/265515806" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Reeves <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/x.2Epy.20clean.20only.20incremental.20data.html#265515806">(Dec 20 2021 at 02:51)</a>:</h4>
<p>I'm doing some bisecting and occasionally the rebuild will fail with an ICE. It seems like the ICEs occur when reading data from the metadata store (so that makes me think something something incremental compilation cache). This isn't terribly surprising to me.</p>
<p>Is there any option I can pass to <code>./x.py clean</code> to make it only clean the incremental compilation cache and nothing else?</p>



<a name="265518370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/x.py%20clean%20only%20incremental%20data/near/265518370" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/x.2Epy.20clean.20only.20incremental.20data.html#265518370">(Dec 20 2021 at 03:48)</a>:</h4>
<p>How are you building (what commands, etc)? In general, any errors related to metadata and such arising from compilation are bugs we should fix (rather than delete incremental data and such).</p>
<p>x.py clean cannot delete just incremental data, but you can likely do something like <code>rm -f build/**/incremental</code> if I'm recalling the directory name Cargo uses correctly.</p>



<a name="265518372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/x.py%20clean%20only%20incremental%20data/near/265518372" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/x.2Epy.20clean.20only.20incremental.20data.html#265518372">(Dec 20 2021 at 03:48)</a>:</h4>
<p>It might be helpful to get  the exact error message as well.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>