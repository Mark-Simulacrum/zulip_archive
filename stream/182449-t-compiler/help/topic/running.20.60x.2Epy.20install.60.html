<html>
<head><meta charset="utf-8"><title>running `x.py install` · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/running.20.60x.2Epy.20install.60.html">running `x.py install`</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="267487512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/running%20%60x.py%20install%60/near/267487512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Collin Baker <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/running.20.60x.2Epy.20install.60.html#267487512">(Jan 10 2022 at 19:26)</a>:</h4>
<p>Is there a way to install just rustc and std with <code>x.py install</code>? If I run <code>x.py install -h -v</code> the list doesn't include rustc.</p>



<a name="267487560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/running%20%60x.py%20install%60/near/267487560" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Collin Baker <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/running.20.60x.2Epy.20install.60.html#267487560">(Jan 10 2022 at 19:26)</a>:</h4>
<p><code>x.py install library/std</code> doesn't copy rustc over</p>



<a name="267808958"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/running%20%60x.py%20install%60/near/267808958" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/running.20.60x.2Epy.20install.60.html#267808958">(Jan 13 2022 at 00:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="465034">Collin Baker</span> has marked this topic as unresolved.</p>



<a name="267809154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/running%20%60x.py%20install%60/near/267809154" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Collin Baker <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/running.20.60x.2Epy.20install.60.html#267809154">(Jan 13 2022 at 00:38)</a>:</h4>
<p>I have a follow-up question here: if I do <code>x.py install --stage 1 library/std src/librustc</code>, will this install the stage 1 rustc, or a stage 2 rustc? it's still hard for me to understand the output, but it does look like it builds rustc again with the stage 1 toolchain. the stage 2 rustc seems to get installed</p>



<a name="267809424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/running%20%60x.py%20install%60/near/267809424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Collin Baker <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/running.20.60x.2Epy.20install.60.html#267809424">(Jan 13 2022 at 00:42)</a>:</h4>
<p>so if I understand correctly, <code>x.py build --stage 1 library/std</code> will use the stage 0 toolchain to build library/std, then build rustc linked to this, then copy this over to the "stage 1 toolchain". then library/std will be built with the stage 1 toolchain. if I had also passed in other targets needing std, they'd use the rustc built in stage 0, but link with the std build in stage 1</p>



<a name="267809461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/running%20%60x.py%20install%60/near/267809461" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Collin Baker <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/running.20.60x.2Epy.20install.60.html#267809461">(Jan 13 2022 at 00:43)</a>:</h4>
<p>if I wanted to install the rustc build in stage 0 and std built in stage 1, is <code>x.py install --stage 1 library/std src/librustc</code> supposed to accomplish this?</p>



<a name="267809499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/running%20%60x.py%20install%60/near/267809499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Collin Baker <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/running.20.60x.2Epy.20install.60.html#267809499">(Jan 13 2022 at 00:43)</a>:</h4>
<p>sorry if this question is worded poorly, I'm still getting to know the bootstrapping system</p>



<a name="267811100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/running%20%60x.py%20install%60/near/267811100" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/running.20.60x.2Epy.20install.60.html#267811100">(Jan 13 2022 at 01:07)</a>:</h4>
<p>it's not really intended for folks to pass stages to install</p>



<a name="267811145"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/running%20%60x.py%20install%60/near/267811145" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/running.20.60x.2Epy.20install.60.html#267811145">(Jan 13 2022 at 01:07)</a>:</h4>
<p>I suspect it may be ignored, but not sure</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>