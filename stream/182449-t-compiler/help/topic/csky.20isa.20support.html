<html>
<head><meta charset="utf-8"><title>csky isa support · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/csky.20isa.20support.html">csky isa support</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="260218866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/csky%20isa%20support/near/260218866" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> luojia65 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/csky.20isa.20support.html#260218866">(Nov 04 2021 at 01:24)</a>:</h4>
<p>Hello! I want to implement a new architecture for Rust compiler. This architecture is supported by LLVM as an experimental backend. Where should I begin to support a new ISA, is there some guidelines I can refer to? :)</p>



<a name="260243707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/csky%20isa%20support/near/260243707" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/csky.20isa.20support.html#260243707">(Nov 04 2021 at 09:02)</a>:</h4>
<p>You need to add a target for it in compiler/rustc_target/src/spec.</p>



<a name="260243740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/csky%20isa%20support/near/260243740" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/csky.20isa.20support.html#260243740">(Nov 04 2021 at 09:03)</a>:</h4>
<p>And you'll need to add ABI lowering in compiler/rustc_target/src/abi.</p>



<a name="260267204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/csky%20isa%20support/near/260267204" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/csky.20isa.20support.html#260267204">(Nov 04 2021 at 13:13)</a>:</h4>
<p>It may help to look at how m68k was added.</p>



<a name="260370675"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/csky%20isa%20support/near/260370675" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> luojia65 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/csky.20isa.20support.html#260370675">(Nov 05 2021 at 06:41)</a>:</h4>
<p>Thanks! :)</p>



<a name="261748181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/csky%20isa%20support/near/261748181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> luojia65 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/csky.20isa.20support.html#261748181">(Nov 17 2021 at 06:30)</a>:</h4>
<p>Hello! I've compiled rustc for a new target, but there is no 'core' crate installed when I try to compile any Rust source code. What should I to do build the core crate?</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>