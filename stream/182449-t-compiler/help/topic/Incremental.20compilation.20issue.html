<html>
<head><meta charset="utf-8"><title>Incremental compilation issue · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Incremental.20compilation.20issue.html">Incremental compilation issue</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="240479945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Incremental%20compilation%20issue/near/240479945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Incremental.20compilation.20issue.html#240479945">(May 27 2021 at 14:54)</a>:</h4>
<p>I'm running into an issue when building the compiler for a change I'm making (<a href="https://github.com/rust-lang/rust/issues/85512">#85512</a>). The issue appears to be <a href="https://github.com/rust-lang/rust/issues/85360">#85360</a>. Is anyone else running into this? I've done a clean of build folder which fixes it (since it's a clean build), and then it breaks again.</p>



<a name="240480165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Incremental%20compilation%20issue/near/240480165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Incremental.20compilation.20issue.html#240480165">(May 27 2021 at 14:55)</a>:</h4>
<p>hmm</p>



<a name="240480206"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Incremental%20compilation%20issue/near/240480206" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Incremental.20compilation.20issue.html#240480206">(May 27 2021 at 14:55)</a>:</h4>
<p><span class="user-mention" data-user-id="224872">@rylev</span> are you fully rebased?</p>



<a name="240480209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Incremental%20compilation%20issue/near/240480209" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Incremental.20compilation.20issue.html#240480209">(May 27 2021 at 14:56)</a>:</h4>
<p>how reproducible is it?</p>



<a name="240480264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Incremental%20compilation%20issue/near/240480264" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Incremental.20compilation.20issue.html#240480264">(May 27 2021 at 14:56)</a>:</h4>
<p>can you point me at a commit?</p>



<a name="240487093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Incremental%20compilation%20issue/near/240487093" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Incremental.20compilation.20issue.html#240487093">(May 27 2021 at 15:39)</a>:</h4>
<p>I did briefly use incremental mode for rustc development today but that was proven to be rather unsuccessful. At glance most issues looked like those that are already fixed but fixes are not yet available in bootstrap version of the compiler.</p>



<a name="240533347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Incremental%20compilation%20issue/near/240533347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Incremental.20compilation.20issue.html#240533347">(May 27 2021 at 21:18)</a>:</h4>
<p>I've also hit a few incremental issues locally, requiring cleaning here and there. And just now, two of the variations of <a href="https://github.com/rust-lang/rust/issues/83311">#83311</a> happened ^^ (on <code>opt_def_kind</code> fingerprints)</p>



<a name="240549115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Incremental%20compilation%20issue/near/240549115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Incremental.20compilation.20issue.html#240549115">(May 28 2021 at 00:35)</a>:</h4>
<p>Note that you don't need to do a full x.py clean, you can just remove build/stage0/TARGET/release/incremental</p>



<a name="240608644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Incremental%20compilation%20issue/near/240608644" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Incremental.20compilation.20issue.html#240608644">(May 28 2021 at 14:06)</a>:</h4>
<p>Ah, <span class="user-mention" data-user-id="352985">@tm</span>, this is a good point -- we are using the <em>beta</em></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>