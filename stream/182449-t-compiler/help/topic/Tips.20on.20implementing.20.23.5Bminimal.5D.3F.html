<html>
<head><meta charset="utf-8"><title>Tips on implementing #[minimal]? · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html">Tips on implementing #[minimal]?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="265367306"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265367306" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265367306">(Dec 17 2021 at 22:08)</a>:</h4>
<p>Hey! <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> </p>
<p>I'm new to compiler development in general and rustc development in particular. But I want to try implementing analogue to GHCs <code>{-# MINIMAL #-}</code> pragma, ie adding a way to say that some methods of a trait must be implemented even if they have default implementations (this can be useful when a trait has methods with circular defaults).</p>
<p>For the start, I want to implement an internal attribute, say <code>#[rustc_must_implement_one_of(f, g)]</code>. This way it (hopefully) shouldn't be too hard and we can experiment with using it in <code>std</code> (for example there is a desire to use it in <code>Read</code> for <code>read</code> and <code>read_buf</code>).</p>
<p>I'd appreciate any tips, like where should I look first to implement this or if there may be some unexpected problems. Thanks in advice &lt;3</p>



<a name="265368152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265368152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265368152">(Dec 17 2021 at 22:14)</a>:</h4>
<p>I would recommend modifiying <code>check_impl_items_against_trait</code>: <a href="https://github.com/rust-lang/rust/blob/7abab1efb21617ba6845fa86328dffa16cfcf1dc/compiler/rustc_typeck/src/check/check.rs#L897">https://github.com/rust-lang/rust/blob/7abab1efb21617ba6845fa86328dffa16cfcf1dc/compiler/rustc_typeck/src/check/check.rs#L897</a></p>



<a name="265368196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265368196" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265368196">(Dec 17 2021 at 22:15)</a>:</h4>
<p>You can get the attributes from the trait method, and keep track of which methods were found in the impl</p>



<a name="265368306"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265368306" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265368306">(Dec 17 2021 at 22:16)</a>:</h4>
<p>In particular, you could extend the logic that checks for missing non-defaulted methods: <a href="https://github.com/rust-lang/rust/blob/7abab1efb21617ba6845fa86328dffa16cfcf1dc/compiler/rustc_typeck/src/check/check.rs#L1021-L1042">https://github.com/rust-lang/rust/blob/7abab1efb21617ba6845fa86328dffa16cfcf1dc/compiler/rustc_typeck/src/check/check.rs#L1021-L1042</a></p>



<a name="265368328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265368328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265368328">(Dec 17 2021 at 22:16)</a>:</h4>
<p>let me know if you'd like more specific advice</p>



<a name="265368438"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265368438" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265368438">(Dec 17 2021 at 22:17)</a>:</h4>
<p>Thanks! I'll look into it tomorrow (or in a couple of days :D)</p>



<a name="265437438"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265437438" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265437438">(Dec 18 2021 at 19:29)</a>:</h4>
<p>Feel free to implement an unstable version with a rustc name, and we can always give it a permanent stable name later (e.g. minimal_impl).</p>



<a name="265501070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265501070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265501070">(Dec 19 2021 at 21:30)</a>:</h4>
<p>I'm getting somewhere!</p>
<p><a href="/user_uploads/4715/D6zP5Re-Tb-bxLdEzlLHm_Mq/2021-12-20_00-27.png">2021-12-20_00-27.png</a> <a href="/user_uploads/4715/J1YduPQPokvWKhak9Ok0ZITM/2021-12-20_00-24.png">2021-12-20_00-24.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/D6zP5Re-Tb-bxLdEzlLHm_Mq/2021-12-20_00-27.png" title="2021-12-20_00-27.png"><img src="/user_uploads/4715/D6zP5Re-Tb-bxLdEzlLHm_Mq/2021-12-20_00-27.png"></a></div><div class="message_inline_image"><a href="/user_uploads/4715/J1YduPQPokvWKhak9Ok0ZITM/2021-12-20_00-24.png" title="2021-12-20_00-24.png"><img src="/user_uploads/4715/J1YduPQPokvWKhak9Ok0ZITM/2021-12-20_00-24.png"></a></div>



<a name="265619005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265619005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265619005">(Dec 20 2021 at 21:43)</a>:</h4>
<p>Hm, I'm now thinking, is it ok to find &amp; re-parse the annotation every time <code>check_impl_items_against_trait</code> is called? Wouldn't it make more sense to parse it the same time as the trait definition and then store it? This way we could also provide an earlier error if the annotation is malformed and won't do the same work for every impl.</p>



<a name="265623291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265623291" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265623291">(Dec 20 2021 at 22:27)</a>:</h4>
<p>Yeah, parsing it once would be better than reparsing it.</p>



<a name="265638025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265638025" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265638025">(Dec 21 2021 at 01:43)</a>:</h4>
<p>You might need to put it in metadata anyway to be able to have it work cross-crate, since IIRC you can't get HIR of the upstream crate to look at the attributes directly.</p>



<a name="265638188"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265638188" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265638188">(Dec 21 2021 at 01:46)</a>:</h4>
<p><span class="user-mention" data-user-id="273349">@Waffle Lapkin</span> here's an old PR where I added a flag to trait info, in case it helps: <a href="https://github.com/rust-lang/rust/pull/53693/files#diff-8f26efb783c324a11328b1d3843e01e444624bfa835605204dfa608c5889aee2R42">https://github.com/rust-lang/rust/pull/53693/files#diff-8f26efb783c324a11328b1d3843e01e444624bfa835605204dfa608c5889aee2R42</a></p>



<a name="265646406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265646406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cjgillot <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265646406">(Dec 21 2021 at 04:34)</a>:</h4>
<p>There is a method to get the attributes for an item in upstream crate. By memory, it's tcx.get_attrs().</p>



<a name="265696004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265696004" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265696004">(Dec 21 2021 at 15:17)</a>:</h4>
<p><span class="user-mention" data-user-id="125270">@scottmcm</span> thanks! it helps C:</p>



<a name="265696332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265696332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265696332">(Dec 21 2021 at 15:19)</a>:</h4>
<p>Does <code>x fmt</code> work on compiler code? I have some obviously misformatted code, but both <code>x fmt</code> and <code>x test tools/tidy</code> don't change/highlight anything.</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">                </span><span class="nb">Some</span><span class="p">(</span><span class="n">items</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="n">items</span><span class="w"></span>
<span class="w">                        </span><span class="p">.</span><span class="n">into_iter</span><span class="p">()</span><span class="w"></span>
<span class="w">                        </span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="o">|</span><span class="n">item</span><span class="o">|</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="n">ident</span><span class="p">().</span><span class="n">ok_or</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="n">span</span><span class="p">()))</span><span class="w"></span>
<span class="w">                        </span><span class="p">.</span><span class="n">collect</span>::<span class="o">&lt;</span><span class="nb">Result</span><span class="o">&lt;</span><span class="nb">Box</span><span class="o">&lt;</span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="o">&gt;&gt;</span><span class="p">().</span><span class="n">map_err</span><span class="p">(</span><span class="o">|</span><span class="n">span</span><span class="o">|</span><span class="w"> </span><span class="n">tcx</span><span class="p">.</span><span class="n">sees</span><span class="w"></span>
<span class="w">                                            </span><span class="p">.</span><span class="n">struct_span_err</span><span class="p">(</span><span class="w"></span>
<span class="w">                                                </span><span class="n">span</span><span class="p">,</span><span class="w"></span>
<span class="w">                                                </span><span class="s">"must be an identifier of a method"</span><span class="p">,</span><span class="w"></span>
<span class="w">                                            </span><span class="p">)</span><span class="w"></span>
<span class="w">                        </span><span class="p">.</span><span class="n">emit</span><span class="p">()).</span><span class="n">ok</span><span class="p">()</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="265697216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265697216" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265697216">(Dec 21 2021 at 15:25)</a>:</h4>
<p>It does, yes. Are you sure you saved the file?</p>



<a name="265697268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265697268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265697268">(Dec 21 2021 at 15:25)</a>:</h4>
<p>If it's in a particularly large macro rustfmt itself might be getting confused</p>



<a name="265697540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265697540" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265697540">(Dec 21 2021 at 15:27)</a>:</h4>
<p>I'm sure I saved it, yes (I checked with <code>cat</code>/<code>bat</code>). I also don't see any macros around, it's just in a function...</p>



<a name="265697919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265697919" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265697919">(Dec 21 2021 at 15:30)</a>:</h4>
<p>Not sure then, maybe make a simpler wrong change to make sure rustfmt is being run</p>



<a name="265697956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265697956" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265697956">(Dec 21 2021 at 15:31)</a>:</h4>
<p>(like add an empty leading newline to the file or something)</p>



<a name="265698400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265698400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265698400">(Dec 21 2021 at 15:35)</a>:</h4>
<p>Leading newlines were removed, but this piece is still not formatted...</p>



<a name="265698461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265698461" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265698461">(Dec 21 2021 at 15:35)</a>:</h4>
<p>Should I make a draft PR, so we can figure out if this is something local to me being broken?</p>



<a name="265698478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265698478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265698478">(Dec 21 2021 at 15:36)</a>:</h4>
<p>Ok, this is a rustfmt bug then and you should report it</p>



<a name="265698565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265698565" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265698565">(Dec 21 2021 at 15:36)</a>:</h4>
<p>Sure, a draft PR is fine - I suspect CI has a similar version of rustfmt with the same bug</p>



<a name="265699995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265699995" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265699995">(Dec 21 2021 at 15:48)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/92164#discussion_r773245118">https://github.com/rust-lang/rust/pull/92164#discussion_r773245118</a> (opened a PR)</p>



<a name="265713910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265713910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265713910">(Dec 21 2021 at 17:43)</a>:</h4>
<p>Turns out this is a known issue: <a href="https://github.com/rust-lang/rustfmt/issues/3863">https://github.com/rust-lang/rustfmt/issues/3863</a></p>



<a name="265714342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265714342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265714342">(Dec 21 2021 at 17:47)</a>:</h4>
<p>Is there a canonical way to refer to things passed to an attribute?</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#[attribute(abc, aaaaaa)]</span><span class="w"></span>
<span class="c1">//          ^^^  ^^^^^^ these things</span>
</code></pre></div>
<p>I need to call them something in error messages <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="265729797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/265729797" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Henry-Mantilla <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#265729797">(Dec 21 2021 at 20:18)</a>:</h4>
<p>attribute args / parameters? (<em>c.f.</em>, <a href="https://docs.rs/syn/1.0.82/syn/type.AttributeArgs.html">https://docs.rs/syn/1.0.82/syn/type.AttributeArgs.html</a>)</p>



<a name="266699844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/266699844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#266699844">(Jan 03 2022 at 15:41)</a>:</h4>
<p>Hey! I think the PR is finally ready for review<br>
<a href="https://github.com/rust-lang/rust/pull/92164">https://github.com/rust-lang/rust/pull/92164</a></p>



<a name="266719270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/266719270" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#266719270">(Jan 03 2022 at 18:18)</a>:</h4>
<p><span class="user-mention" data-user-id="273349">@Waffle Lapkin</span> Would you like it assigned to someone for review?</p>



<a name="266719906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/266719906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#266719906">(Jan 03 2022 at 18:24)</a>:</h4>
<p>Uhh. Nevermind. You have enough PRs that you probably already know how to r?. Sorry!</p>



<a name="266720067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/266720067" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fee1-dead <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#266720067">(Jan 03 2022 at 18:25)</a>:</h4>
<p>It might be helpful, GitHub magic suggests three people that could review this: <code>davidtwco</code>, <code>jackh726</code>, and <code>nikomatsakis</code>.</p>
<p>AFAIK this is only visible to members</p>



<a name="266721210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/266721210" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#266721210">(Jan 03 2022 at 18:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="417924">inquisitivecrystal</span> <a href="#narrow/stream/182449-t-compiler.2Fhelp/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F/near/266719270">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="273349">Waffle Lapkin</span> Would you like it assigned to someone for review?</p>
</blockquote>
<p>I would, but I don't know whom to assign it to <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="266721281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/266721281" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#266721281">(Jan 03 2022 at 18:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="361356">fee1-dead</span> <a href="#narrow/stream/182449-t-compiler.2Fhelp/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F/near/266720067">said</a>:</p>
<blockquote>
<p>AFAIK this is only visible to members</p>
</blockquote>
<p>Yep, I don't see these suggestions</p>



<a name="266722737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/266722737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#266722737">(Jan 03 2022 at 18:52)</a>:</h4>
<p>Maybe Aaron Hill?</p>



<a name="266723100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Tips%20on%20implementing%20%23%5Bminimal%5D%3F/near/266723100" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Tips.20on.20implementing.20.23.5Bminimal.5D.3F.html#266723100">(Jan 03 2022 at 18:55)</a>:</h4>
<p>Since they were familiar enough with the relevant code to tell you what to modify.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>