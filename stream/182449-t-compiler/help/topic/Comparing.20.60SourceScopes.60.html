<html>
<head><meta charset="utf-8"><title>Comparing `SourceScopes` · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Comparing.20.60SourceScopes.60.html">Comparing `SourceScopes`</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="263839389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Comparing%20%60SourceScopes%60/near/263839389" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Comparing.20.60SourceScopes.60.html#263839389">(Dec 06 2021 at 11:55)</a>:</h4>
<p>Is there any way to determine whether a <code>SourceScope</code> <code>s1</code> 'contains' a scope <code>s2</code>? I see that <code>SourceScope</code> implements <code>Ord</code> but it seems to just use the order on the underlying index, and its unclear what that guarantees</p>



<a name="263839462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Comparing%20%60SourceScopes%60/near/263839462" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Comparing.20.60SourceScopes.60.html#263839462">(Dec 06 2021 at 11:56)</a>:</h4>
<p>For context: I'm trying to determine the set of local variable bindings at a <code>Location</code>, accountign for shadowing</p>



<a name="263841156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Comparing%20%60SourceScopes%60/near/263841156" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Comparing.20.60SourceScopes.60.html#263841156">(Dec 06 2021 at 12:15)</a>:</h4>
<p>You need to look at the <code>parent_scope</code> field of <code>SourceScopeData</code>. <code>SourceScope</code> is just an index into the <code>source_scopes</code> list.</p>



<a name="263842077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Comparing%20%60SourceScopes%60/near/263842077" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Comparing.20.60SourceScopes.60.html#263842077">(Dec 06 2021 at 12:25)</a>:</h4>
<p>yea, I think i've figured it out by recursively traversing the <code>parent_scope</code> to the <code>OUTERMOST_SCOPE</code></p>



<a name="263842088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Comparing%20%60SourceScopes%60/near/263842088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Comparing.20.60SourceScopes.60.html#263842088">(Dec 06 2021 at 12:25)</a>:</h4>
<p>and accumulating all the bindings within</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>