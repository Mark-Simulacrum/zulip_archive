<html>
<head><meta charset="utf-8"><title>How would I start debugging a segfault on ARM? · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html">How would I start debugging a segfault on ARM?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="213209267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213209267" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213209267">(Oct 13 2020 at 19:59)</a>:</h4>
<p>I have access to the ARM machine although it's painfully slow</p>



<a name="213211032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213211032" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213211032">(Oct 13 2020 at 20:14)</a>:</h4>
<p>lldb?</p>



<a name="213212009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213212009" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grommish <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213212009">(Oct 13 2020 at 20:24)</a>:</h4>
<p><code>gdb-remote</code>?</p>



<a name="213212797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213212797" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213212797">(Oct 13 2020 at 20:31)</a>:</h4>
<p>gdb-remote won't help, the program is just to slow to run</p>



<a name="213212860"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213212860" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213212860">(Oct 13 2020 at 20:32)</a>:</h4>
<p>trying gdb on the host now but it's annoying to try and replicate (<code>pkg-config</code> has been building 5 minutes now)</p>



<a name="213214005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213214005" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213214005">(Oct 13 2020 at 20:43)</a>:</h4>
<p>also intermittent which doesn't help</p>



<a name="213214892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213214892" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dániel Buga <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213214892">(Oct 13 2020 at 20:50)</a>:</h4>
<p>What sort of hardware do you have? Is the program in question tied to it specifically?</p>



<a name="213214920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213214920" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213214920">(Oct 13 2020 at 20:51)</a>:</h4>
<p>this is the only ARM machine I have</p>



<a name="213214936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213214936" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213214936">(Oct 13 2020 at 20:51)</a>:</h4>
<p>yes, it's specifically related to the hardware, it builds fine on x86 machines</p>



<a name="213214959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213214959" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213214959">(Oct 13 2020 at 20:51)</a>:</h4>
<p>I think it's running out of memory maybe?</p>



<a name="213214980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213214980" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213214980">(Oct 13 2020 at 20:51)</a>:</h4>
<p>would be nice to have an error other than 'segfault'</p>



<a name="213215400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213215400" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dániel Buga <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213215400">(Oct 13 2020 at 20:55)</a>:</h4>
<p>Sorry, I meant what machine do you try to run the program on <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> I think if you'd be out of memory, you'd get a message like "Out of memory: killed process ..." but I'm not up to date on my linux here</p>



<a name="213215588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213215588" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213215588">(Oct 13 2020 at 20:57)</a>:</h4>
<p>this is a raspberry pi zero</p>



<a name="213216470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213216470" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213216470">(Oct 13 2020 at 21:03)</a>:</h4>
<p>Out of memory is usually a <code>SIGKILL</code>, with a better message in the system logs</p>



<a name="213216644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213216644" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213216644">(Oct 13 2020 at 21:05)</a>:</h4>
<p>hmm so probably not that then</p>



<a name="213216653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213216653" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213216653">(Oct 13 2020 at 21:05)</a>:</h4>
<p>let me check syslog though</p>



<a name="213216675"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213216675" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213216675">(Oct 13 2020 at 21:05)</a>:</h4>
<p>I don't know if the pi runs systemd, but you could see if <code>coredumpctl</code> captured anything</p>



<a name="213216701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213216701" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213216701">(Oct 13 2020 at 21:05)</a>:</h4>
<p><code>coredumpctl: Command not found.</code></p>



<a name="213216869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213216869" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213216869">(Oct 13 2020 at 21:07)</a>:</h4>
<p>Or try running after <code>ulimit -c unlimited</code> and you may get a traditional core file</p>



<a name="213216899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213216899" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213216899">(Oct 13 2020 at 21:07)</a>:</h4>
<p>well I'm having trouble reproducing the issue :/</p>



<a name="213216920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213216920" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213216920">(Oct 13 2020 at 21:07)</a>:</h4>
<p>I think it's related to system load</p>



<a name="213216939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213216939" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213216939">(Oct 13 2020 at 21:07)</a>:</h4>
<p>this is a <em>very</em> underpowered raspberry pi</p>



<a name="213217006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213217006" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dániel Buga <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213217006">(Oct 13 2020 at 21:08)</a>:</h4>
<p>a segfault caused by load on a single core raspberry? hmm</p>



<a name="213217108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213217108" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dániel Buga <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213217108">(Oct 13 2020 at 21:09)</a>:</h4>
<p>I have a 3b+ in hand but I'm quite sure it's not a big help half a world away</p>



<a name="213217289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20would%20I%20start%20debugging%20a%20segfault%20on%20ARM%3F/near/213217289" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tyson Nottingham <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/How.20would.20I.20start.20debugging.20a.20segfault.20on.20ARM.3F.html#213217289">(Oct 13 2020 at 21:10)</a>:</h4>
<p>There is an ARM machine (gcc117) on <a href="https://cfarm.tetaneutral.net/machines/list/">https://cfarm.tetaneutral.net/machines/list/</a>, but it takes a while to get access. I don't have firsthand experience using the machines there, so I don't know how easy it would be to debug on.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>