<html>
<head><meta charset="utf-8"><title>RUSTC_LOG with cargo · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.20with.20cargo.html">RUSTC_LOG with cargo</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="268370134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG%20with%20cargo/near/268370134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> BN <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.20with.20cargo.html#268370134">(Jan 18 2022 at 10:20)</a>:</h4>
<p>I'm trying to get debug statements from rustc when building a project using cargo. The project is a library with a single dependency. </p>
<p>I do get the output of RUSTC_LOG printed to the console, but the weird thing is that I get the same output in different build calls. I use the standard dev profile settings. After I build from scratch using <code>RUSTC_LOG=rustc_typeck</code> and then run the build command again I get the same debug output printed to the console that I got in the first build call?! Does anybody know why that is and what I can do to only get the debug output of the second 'unchanged' build run?</p>



<a name="268370682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG%20with%20cargo/near/268370682" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.20with.20cargo.html#268370682">(Jan 18 2022 at 10:25)</a>:</h4>
<p>What probably happens is that cargo caches rustc output and rustc does not run at all in the "unchanged" scenario.</p>



<a name="268372028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG%20with%20cargo/near/268372028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> BN <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.20with.20cargo.html#268372028">(Jan 18 2022 at 10:39)</a>:</h4>
<p>Thanks for the answer.</p>



<a name="268372540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG%20with%20cargo/near/268372540" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> BN <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.20with.20cargo.html#268372540">(Jan 18 2022 at 10:43)</a>:</h4>
<p>I have had a perf regression in the unchanged-incr scenario for the benchmark <code>issue-46449</code>. I find this confusing given your explanation. What is the perf tool measuring? Why would we ever get regressions on any benchmark if cargo doesn't run rustc in the <code>unchanged-incr</code> scenario?</p>



<a name="268372570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG%20with%20cargo/near/268372570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> BN <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.20with.20cargo.html#268372570">(Jan 18 2022 at 10:43)</a>:</h4>
<p><a href="https://perf.rust-lang.org/compare.html?start=488acf86a75c56d30b16822e953c505a9e4901a7&amp;end=fcb93cd944d39604d20b8ea2ec20a15d08c2f84b">https://perf.rust-lang.org/compare.html?start=488acf86a75c56d30b16822e953c505a9e4901a7&amp;end=fcb93cd944d39604d20b8ea2ec20a15d08c2f84b</a></p>



<a name="268373405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG%20with%20cargo/near/268373405" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.20with.20cargo.html#268373405">(Jan 18 2022 at 10:51)</a>:</h4>
<p>It updates timestamps of some / all files in the project, without changing their content.</p>



<a name="268373978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG%20with%20cargo/near/268373978" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.20with.20cargo.html#268373978">(Jan 18 2022 at 10:57)</a>:</h4>
<p>If you are testing things manually touch src/lib.rs should do the trick, but I would recommend using rustc-perf if looking at official benchmarks.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>