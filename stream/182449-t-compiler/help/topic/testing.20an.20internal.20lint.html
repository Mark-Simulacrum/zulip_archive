<html>
<head><meta charset="utf-8"><title>testing an internal lint · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/testing.20an.20internal.20lint.html">testing an internal lint</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="259204370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20an%20internal%20lint/near/259204370" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/testing.20an.20internal.20lint.html#259204370">(Oct 27 2021 at 08:01)</a>:</h4>
<p>How can I test an internal lint? Trying to tackle <a href="https://github.com/rust-lang/rust/issues/79551">#79551</a> and can't figure out how to test it. I know what I have doesn't cover every case, but using the regular tests directory doesn't even show the lint exists (obviously).</p>



<a name="259204481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20an%20internal%20lint/near/259204481" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/testing.20an.20internal.20lint.html#259204481">(Oct 27 2021 at 08:02)</a>:</h4>
<p>and yes, I have registered the lint</p>



<a name="259205233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20an%20internal%20lint/near/259205233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/testing.20an.20internal.20lint.html#259205233">(Oct 27 2021 at 08:11)</a>:</h4>
<p>rustc:: lints aren't enabled unless you pass -Zunstable-options</p>



<a name="259205830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20an%20internal%20lint/near/259205830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/testing.20an.20internal.20lint.html#259205830">(Oct 27 2021 at 08:18)</a>:</h4>
<p>Ah, this is where I'd need a header comment to pass that flag?</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>