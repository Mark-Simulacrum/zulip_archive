<html>
<head><meta charset="utf-8"><title>✔ when does it have llvm.lifetime.start/end · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/.E2.9C.94.20when.20does.20it.20have.20llvm.2Elifetime.2Estart.2Fend.html">✔ when does it have llvm.lifetime.start/end</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="258229661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/%E2%9C%94%20when%20does%20it%20have%20llvm.lifetime.start/end/near/258229661" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shihao Xia <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/.E2.9C.94.20when.20does.20it.20have.20llvm.2Elifetime.2Estart.2Fend.html#258229661">(Oct 19 2021 at 16:46)</a>:</h4>
<p>When is the llvm.lifetime.start/end be added during compilation?<br>
I sometimes can see these LLVM intrinsics in files generated with --emit=llvm-ir and sanitizer enabled.<br>
However, a normal compilation doesn't emit such LLVM intrinsics. Could anyone tell me why is interesting difference happened?</p>



<a name="258230290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/%E2%9C%94%20when%20does%20it%20have%20llvm.lifetime.start/end/near/258230290" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/.E2.9C.94.20when.20does.20it.20have.20llvm.2Elifetime.2Estart.2Fend.html#258230290">(Oct 19 2021 at 16:49)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/blob/master/compiler/rustc_session/src/session.rs#L1028">https://github.com/rust-lang/rust/blob/master/compiler/rustc_session/src/session.rs#L1028</a></p>



<a name="258237218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/%E2%9C%94%20when%20does%20it%20have%20llvm.lifetime.start/end/near/258237218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/.E2.9C.94.20when.20does.20it.20have.20llvm.2Elifetime.2Estart.2Fend.html#258237218">(Oct 19 2021 at 17:24)</a>:</h4>
<p>They are only emitted when they are useful in the first place (when using optimizations or with enabled sanitizer) as they only slow down compilation otherwise.</p>



<a name="258259817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/%E2%9C%94%20when%20does%20it%20have%20llvm.lifetime.start/end/near/258259817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shihao Xia <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/.E2.9C.94.20when.20does.20it.20have.20llvm.2Elifetime.2Estart.2Fend.html#258259817">(Oct 19 2021 at 19:44)</a>:</h4>
<p>thank you for the help! It answered my question.</p>



<a name="258260144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/%E2%9C%94%20when%20does%20it%20have%20llvm.lifetime.start/end/near/258260144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/.E2.9C.94.20when.20does.20it.20have.20llvm.2Elifetime.2Estart.2Fend.html#258260144">(Oct 19 2021 at 19:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="382085">Shihao Xia</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>