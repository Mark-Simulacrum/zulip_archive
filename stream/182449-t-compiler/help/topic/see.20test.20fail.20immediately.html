<html>
<head><meta charset="utf-8"><title>see test fail immediately · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/see.20test.20fail.20immediately.html">see test fail immediately</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="213269860"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/see%20test%20fail%20immediately/near/213269860" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian-Wollersberger <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/see.20test.20fail.20immediately.html#213269860">(Oct 14 2020 at 10:29)</a>:</h4>
<p>I have a strange bug where rustc's memory usage skyrockets to infinity when running UI tests.<br>
It consistantly happens on the first failing test, but since I have to kill it, it never prints _which_ test failed.</p>
<p>Is there a way to tell the test suit to stop at the first failed test, or print every test it executes?<br>
I've tried <code>./x.py test src/test/ui --test-args="--quied=false --verbose"</code> and variations, but that doesn't work.</p>



<a name="213271286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/see%20test%20fail%20immediately/near/213271286" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian-Wollersberger <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/see.20test.20fail.20immediately.html#213271286">(Oct 14 2020 at 10:46)</a>:</h4>
<p>Ok, found a way.<br>
running <code>x.py --verbose</code> prints all the args <code>compiletest</code> is run with. There I removed the <code>--quiet</code> option.</p>



<a name="213272584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/see%20test%20fail%20immediately/near/213272584" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/see.20test.20fail.20immediately.html#213272584">(Oct 14 2020 at 11:01)</a>:</h4>
<p>IIRC printing every executed test was enabled using <code>verbose-tests</code></p>



<a name="213277839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/see%20test%20fail%20immediately/near/213277839" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian-Wollersberger <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/see.20test.20fail.20immediately.html#213277839">(Oct 14 2020 at 12:01)</a>:</h4>
<p>That option doesn't exist...</p>



<a name="213279120"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/see%20test%20fail%20immediately/near/213279120" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/see.20test.20fail.20immediately.html#213279120">(Oct 14 2020 at 12:14)</a>:</h4>
<p>it does in config.toml <a href="https://github.com/rust-lang/rust/blob/master/config.toml.example#L456">https://github.com/rust-lang/rust/blob/master/config.toml.example#L456</a></p>



<a name="213280195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/see%20test%20fail%20immediately/near/213280195" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian-Wollersberger <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/see.20test.20fail.20immediately.html#213280195">(Oct 14 2020 at 12:24)</a>:</h4>
<p>Oh thanks! I was only looking at command line options.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>