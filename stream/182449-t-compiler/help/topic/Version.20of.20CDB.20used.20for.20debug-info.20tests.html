<html>
<head><meta charset="utf-8"><title>Version of CDB used for debug-info tests · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Version.20of.20CDB.20used.20for.20debug-info.20tests.html">Version of CDB used for debug-info tests</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="236730379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Version%20of%20CDB%20used%20for%20debug-info%20tests/near/236730379" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nam Nguyen <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Version.20of.20CDB.20used.20for.20debug-info.20tests.html#236730379">(Apr 29 2021 at 19:22)</a>:</h4>
<p>Hello,</p>
<p>I am aware that some debug info tests verify CDB's displays of certain Rust data types. I wonder if these tests are run a fixed version of CDB or we always use the latest CDB build for these tests? Is there any way for me to run these tests against a specific build of CDB?</p>



<a name="236733352"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Version%20of%20CDB%20used%20for%20debug-info%20tests/near/236733352" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Version.20of.20CDB.20used.20for.20debug-info.20tests.html#236733352">(Apr 29 2021 at 19:43)</a>:</h4>
<p><span class="user-mention" data-user-id="325877">@Nam Nguyen</span> It uses whichever version is installed on the system: <a href="https://github.com/rust-lang/rust/blob/83ebb00645cfa3288546b947aa557e90cc355bfa/src/tools/compiletest/src/main.rs#L791-L820">https://github.com/rust-lang/rust/blob/83ebb00645cfa3288546b947aa557e90cc355bfa/src/tools/compiletest/src/main.rs#L791-L820</a></p>



<a name="236746818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Version%20of%20CDB%20used%20for%20debug-info%20tests/near/236746818" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Version.20of.20CDB.20used.20for.20debug-info.20tests.html#236746818">(Apr 29 2021 at 21:10)</a>:</h4>
<p>CI runs some relatively fresh CDB in practice.<br>
Sometimes different versions produce different output, then tests have to use annotations like <a href="https://github.com/rust-lang/rust/blob/master/src/test/debuginfo/pretty-std-collections-hash.rs#L3"><code>// min-cdb-version</code></a>.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>