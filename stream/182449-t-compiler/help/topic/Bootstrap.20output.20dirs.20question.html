<html>
<head><meta charset="utf-8"><title>Bootstrap output dirs question · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html">Bootstrap output dirs question</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="252468809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252468809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252468809">(Sep 08 2021 at 14:25)</a>:</h4>
<p>Could someone kindly explain the difference between <code>build/HOST/stage1-tools/TARGET</code> and <code>build/HOST/stage1-tools/HOST/TARGET</code>?</p>



<a name="252469305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252469305" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252469305">(Sep 08 2021 at 14:27)</a>:</h4>
<p>I.. would not expect the latter to exist, I don't think cargo nests directories like that</p>



<a name="252469837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252469837" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252469837">(Sep 08 2021 at 14:30)</a>:</h4>
<p>I see the same thing in stagex-std and stagex-tools</p>



<a name="252469945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252469945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252469945">(Sep 08 2021 at 14:30)</a>:</h4>
<p>can you clarify what you mean by TARGET?</p>



<a name="252469964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252469964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252469964">(Sep 08 2021 at 14:30)</a>:</h4>
<p>Is that a target triple?</p>



<a name="252470285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252470285" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252470285">(Sep 08 2021 at 14:32)</a>:</h4>
<p>yes, like in <a href="https://rustc-dev-guide.rust-lang.org/building/bootstrapping.html#overview">https://rustc-dev-guide.rust-lang.org/building/bootstrapping.html?#overview</a></p>



<a name="252470390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252470390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252470390">(Sep 08 2021 at 14:33)</a>:</h4>
<p>Can you give me the "raw" text?</p>



<a name="252470585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252470585" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252470585">(Sep 08 2021 at 14:34)</a>:</h4>
<p>build/x86_64-apple-darwin/stage1-tools/release<br>
build/x86_64-apple-darwin/stage1-tools/x86_64-apple-darwin/release</p>



<a name="252470598"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252470598" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252470598">(Sep 08 2021 at 14:34)</a>:</h4>
<p>What I'd expect is for it to be "release", then the difference is that the first of those is the "build dependencies" (stuff needed for the host, e.g., proc macros or build-deps in Cargo.toml) and the latter is target deps</p>



<a name="252470678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252470678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252470678">(Sep 08 2021 at 14:34)</a>:</h4>
<p>release is not a target triple</p>



<a name="252470843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252470843" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252470843">(Sep 08 2021 at 14:35)</a>:</h4>
<p>release is TARGET</p>



<a name="252470938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252470938" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252470938">(Sep 08 2021 at 14:35)</a>:</h4>
<p>FWIW, generally TARGET stands for something like x86_64-unknown-linux-gnu, not a 'profile', like release.</p>



<a name="252470987"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252470987" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252470987">(Sep 08 2021 at 14:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/182449-t-compiler.2Fhelp/topic/Bootstrap.20output.20dirs.20question/near/252470598">said</a>:</p>
<blockquote>
<p>What I'd expect is for it to be "release", then the difference is that the first of those is the "build dependencies" (stuff needed for the host, e.g., proc macros or build-deps in Cargo.toml) and the latter is target deps</p>
</blockquote>
<p>But this should help.</p>



<a name="252471117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252471117" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252471117">(Sep 08 2021 at 14:36)</a>:</h4>
<blockquote>
<p>FWIW, generally TARGET stands for something like x86_64-unknown-linux-gnu, not a 'profile', like release.</p>
</blockquote>
<p>gotcha, maybe I'll update the guide</p>



<a name="252471219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252471219" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252471219">(Sep 08 2021 at 14:37)</a>:</h4>
<p>The guide looks correct?</p>



<a name="252471420"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252471420" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252471420">(Sep 08 2021 at 14:38)</a>:</h4>
<p>hmm then what does HOST mean in the guide?</p>



<a name="252471486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252471486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252471486">(Sep 08 2021 at 14:38)</a>:</h4>
<p>--host HOST and --target TARGET</p>



<a name="252471496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252471496" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252471496">(Sep 08 2021 at 14:38)</a>:</h4>
<p>they're both target triples</p>



<a name="252471591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252471591" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252471591">(Sep 08 2021 at 14:39)</a>:</h4>
<p>oh, sorry I was clearly confused!</p>



<a name="252473008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Bootstrap%20output%20dirs%20question/near/252473008" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Bootstrap.20output.20dirs.20question.html#252473008">(Sep 08 2021 at 14:46)</a>:</h4>
<p>okay it's starting to click now. one more question...<br>
Clippy UI tests are built in stage1-tools/profile/test_build_base<br>
I think a more proper location would be stage1-tools/target/profile/test_build_base ?</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>