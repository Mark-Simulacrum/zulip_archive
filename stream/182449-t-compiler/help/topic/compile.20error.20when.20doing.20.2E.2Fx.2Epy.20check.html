<html>
<head><meta charset="utf-8"><title>compile error when doing ./x.py check · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/compile.20error.20when.20doing.20.2E.2Fx.2Epy.20check.html">compile error when doing ./x.py check</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="264567338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/compile%20error%20when%20doing%20./x.py%20check/near/264567338" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/compile.20error.20when.20doing.20.2E.2Fx.2Epy.20check.html#264567338">(Dec 11 2021 at 15:11)</a>:</h4>
<p>I have a fresh clone of the repo (commit <a href="https://github.com/rust-lang/rust/commit/2aafe452b898aa3fdfb2c5a1a649ed0922e1401d">2aafe452b898aa3fdfb2c5a1a649ed0922e1401d</a>). I did <code>./x.py clean</code> and <code>./x.py check</code> and I get this compiler errror. Can anyone help me?</p>
<div class="codehilite"><pre><span></span><code>Updating only changed submodules
Submodules updated in 0.03 seconds
extracting /home/jendrik/dev/rust/rust/build/cache/2021-02-14/rust-std-beta-x86_64-unknown-linux-gnu.tar.xz
extracting /home/jendrik/dev/rust/rust/build/cache/2021-02-14/rustc-beta-x86_64-unknown-linux-gnu.tar.xz
extracting /home/jendrik/dev/rust/rust/build/cache/2021-02-14/cargo-beta-x86_64-unknown-linux-gnu.tar.xz
extracting /home/jendrik/dev/rust/rust/build/cache/2021-01-28/rustfmt-nightly-x86_64-unknown-linux-gnu.tar.xz
extracting /home/jendrik/dev/rust/rust/build/cache/llvm-215ebc364e790f6727754e5b83bf47c3696bade7-False/rust-dev-nightly-x86_64-unknown-linux-gnu.tar.xz
   Compiling proc-macro2 v1.0.33
   Compiling unicode-xid v0.2.1
   Compiling syn v1.0.82
   Compiling version_check v0.9.1
   Compiling autocfg v1.0.0
   Compiling memchr v2.3.3
   Compiling libc v0.2.109
   Compiling cfg-if v0.1.10
   Compiling lazy_static v1.4.0
   Compiling serde_derive v1.0.131
   Compiling log v0.4.11
   Compiling serde v1.0.131
   Compiling ryu v1.0.5
   Compiling regex-syntax v0.6.22
   Compiling fnv v1.0.7
   Compiling same-file v1.0.6
   Compiling serde_json v1.0.59
   Compiling itoa v0.4.6
   Compiling cc v1.0.60
   Compiling bootstrap v0.0.0 (/home/jendrik/dev/rust/rust/src/bootstrap)
   Compiling unicode-width v0.1.8
   Compiling build_helper v0.1.0 (/home/jendrik/dev/rust/rust/src/build_helper)
   Compiling opener v0.4.1
   Compiling crossbeam-utils v0.7.2
   Compiling num-traits v0.2.12
   Compiling proc-macro-error-attr v1.0.4
   Compiling proc-macro-error v1.0.4
   Compiling thread_local v1.0.1
   Compiling walkdir v2.3.1
   Compiling getopts v0.2.21
   Compiling cmake v0.1.44
   Compiling quote v1.0.7
   Compiling aho-corasick v0.7.13
   Compiling bstr v0.2.13
   Compiling time v0.1.43
   Compiling filetime v0.2.12
   Compiling num_cpus v1.13.0
   Compiling regex v1.4.3
   Compiling globset v0.4.5
   Compiling ignore v0.4.16
   Compiling merge_derive v0.1.0
   Compiling merge v0.1.0
   Compiling toml v0.5.7
    Finished dev [unoptimized + debuginfo] target(s) in 1m 17s
Checking stage0 std artifacts (x86_64-unknown-linux-gnu -&gt; x86_64-unknown-linux-gnu)
   Compiling cc v1.0.60
    Checking core v0.0.0 (/home/jendrik/dev/rust/rust/library/core)
   Compiling libc v0.2.109
   Compiling std v0.0.0 (/home/jendrik/dev/rust/rust/library/std)
   Compiling compiler_builtins v0.1.39
   Compiling unwind v0.0.0 (/home/jendrik/dev/rust/rust/library/unwind)
    Checking rustc-std-workspace-core v1.99.0 (/home/jendrik/dev/rust/rust/library/rustc-std-workspace-core)
    Checking alloc v0.0.0 (/home/jendrik/dev/rust/rust/library/alloc)
    Checking cfg-if v0.1.10
    Checking adler v0.2.3
    Checking rustc-demangle v0.1.18
error[E0635]: unknown feature `native_link_modifiers_bundle`
  --&gt; /home/jendrik/.cargo/registry/src/github.com-1ecc6299db9ec823/libc-0.2.109/src/lib.rs:29:53
   |
29 |     feature(static_nobundle, native_link_modifiers, native_link_modifiers_bundle)
   |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

error[E0635]: unknown feature `native_link_modifiers`
  --&gt; /home/jendrik/.cargo/registry/src/github.com-1ecc6299db9ec823/libc-0.2.109/src/lib.rs:29:30
   |
29 |     feature(static_nobundle, native_link_modifiers, native_link_modifiers_bundle)
   |                              ^^^^^^^^^^^^^^^^^^^^^

error: aborting due to 2 previous errors

For more information about this error, try `rustc --explain E0635`.
error: could not compile `libc`

To learn more, run the command again with --verbose.
warning: build failed, waiting for other jobs to finish...
error: build failed
command did not execute successfully: &quot;/home/jendrik/dev/rust/rust/build/x86_64-unknown-linux-gnu/stage0/bin/cargo&quot; &quot;check&quot; &quot;--target&quot; &quot;x86_64-unknown-linux-gnu&quot; &quot;-Zbinary-dep-depinfo&quot; &quot;-j&quot; &quot;4&quot; &quot;--release&quot; &quot;--features&quot; &quot;panic-unwind backtrace compiler-builtins-c&quot; &quot;--manifest-path&quot; &quot;/home/jendrik/dev/rust/rust/library/test/Cargo.toml&quot; &quot;--message-format&quot; &quot;json-render-diagnostics&quot;
expected success, got: exit code: 101
failed to run: /home/jendrik/dev/rust/rust/build/bootstrap/debug/bootstrap check
Build completed unsuccessfully in 0:02:16
</code></pre></div>



<a name="264567444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/compile%20error%20when%20doing%20./x.py%20check/near/264567444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/compile.20error.20when.20doing.20.2E.2Fx.2Epy.20check.html#264567444">(Dec 11 2021 at 15:13)</a>:</h4>
<p>That's quite an old commit - is there a reason you're trying to build 1.52 from source?</p>



<a name="264567601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/compile%20error%20when%20doing%20./x.py%20check/near/264567601" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/compile.20error.20when.20doing.20.2E.2Fx.2Epy.20check.html#264567601">(Dec 11 2021 at 15:17)</a>:</h4>
<p>Oh, sorry, I didn't realize I pulled from my fork. Thanks</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>