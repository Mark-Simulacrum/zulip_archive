<html>
<head><meta charset="utf-8"><title>File check erroring on prefix in input · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html">File check erroring on prefix in input</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="243275125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243275125" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243275125">(Jun 19 2021 at 23:43)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/86413#issuecomment-864474403">https://github.com/rust-lang/rust/pull/86413#issuecomment-864474403</a> is one such failure and I'm not really sure what's causing this - locally the test passes and generally it's not clear quite what is happening...</p>



<a name="243275134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243275134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243275134">(Jun 19 2021 at 23:43)</a>:</h4>
<p>Wondering if anyone has seen this or something similar before</p>



<a name="243275137"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243275137" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243275137">(Jun 19 2021 at 23:43)</a>:</h4>
<p>(or has thoughts on fixes or debugging steps)</p>



<a name="243298060"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243298060" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243298060">(Jun 20 2021 at 11:01)</a>:</h4>
<p>The error looks like the one in <a href="https://github.com/rust-lang/rust/issues/78226">#78226</a>,  but that was already fixed last October</p>



<a name="243302165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243302165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243302165">(Jun 20 2021 at 13:02)</a>:</h4>
<p>it's not clear how/whether it was fixed back then, or if it just suddenly stopped failing. maybe the aarch64 CI builder/env was changed around that time ?</p>



<a name="243302397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243302397" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243302397">(Jun 20 2021 at 13:08)</a>:</h4>
<p>that test has a history of being flaky on CI, e.g. <a href="https://github.com/rust-lang/rust/issues/67746">https://github.com/rust-lang/rust/issues/67746</a> in january last year and which was maybe fixed by <a href="https://github.com/rust-lang/rust/pull/67829">https://github.com/rust-lang/rust/pull/67829</a></p>



<a name="243305548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243305548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hyd-dev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243305548">(Jun 20 2021 at 14:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116113">lqd</span> <a href="#narrow/stream/182449-t-compiler.2Fhelp/topic/File.20check.20erroring.20on.20prefix.20in.20input/near/243302165">said</a>:</p>
<blockquote>
<p>maybe the aarch64 CI builder/env was changed around that time ?</p>
</blockquote>
<p>(EDIT: maybe it fails again because of) <a class="stream-topic" data-stream-id="242791" href="/#narrow/stream/242791-t-infra/topic/new.20aarch64.20ci.20server">#t-infra &gt; new aarch64 ci server</a>?</p>



<a name="243305626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243305626" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243305626">(Jun 20 2021 at 14:36)</a>:</h4>
<p>I meant to fix the situation in october, but maybe the new one brought the issue back ^^</p>



<a name="243305644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243305644" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> hyd-dev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243305644">(Jun 20 2021 at 14:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116113">lqd</span> <a href="#narrow/stream/182449-t-compiler.2Fhelp/topic/File.20check.20erroring.20on.20prefix.20in.20input/near/243305626">said</a>:</p>
<blockquote>
<p>I meant to fix the situation in october</p>
</blockquote>
<p>Yes, I know.</p>
<blockquote>
<p>but maybe the new one brought the issue back ^^</p>
</blockquote>
<p>That's what I mean. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="243312258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243312258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243312258">(Jun 20 2021 at 17:21)</a>:</h4>
<p>It does seem identical to <a href="https://github.com/rust-lang/rust/pull/67829">https://github.com/rust-lang/rust/pull/67829</a></p>



<a name="243312327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243312327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243312327">(Jun 20 2021 at 17:22)</a>:</h4>
<p>I'll try reverting the use of gold and see if that does any good</p>



<a name="243319437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243319437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243319437">(Jun 20 2021 at 20:13)</a>:</h4>
<p>ok, that didn't help</p>



<a name="243319444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243319444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243319444">(Jun 20 2021 at 20:13)</a>:</h4>
<p>I'm going to try and figure out if there's anything about beta that's special here, it seems like this should occur on master too (but isn't)</p>



<a name="243320266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320266" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320266">(Jun 20 2021 at 20:35)</a>:</h4>
<p>hm, nothing incriminating looking in the PR itself</p>



<a name="243320275"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320275" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320275">(Jun 20 2021 at 20:35)</a>:</h4>
<p>I've also tried reproducing with an uploaded binary from a different builder on an aarch64 machine, but wasn't able to</p>



<a name="243320326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320326">(Jun 20 2021 at 20:36)</a>:</h4>
<p>CI does run in qemu and docker, but that really shouldn't cause this kind of problem - or at least it would be pretty surprising</p>



<a name="243320403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320403">(Jun 20 2021 at 20:38)</a>:</h4>
<p>IIRC it also looked spurious and unrelated to a given PR when it was detected in <a href="https://github.com/rust-lang/rust/issues/67746">#67746</a></p>



<a name="243320474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320474" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320474">(Jun 20 2021 at 20:40)</a>:</h4>
<p>do you or Pietro know what was done to fix this last october, and whether there are differences with the current builder ?</p>



<a name="243320550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320550" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320550">(Jun 20 2021 at 20:42)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/67829">https://github.com/rust-lang/rust/pull/67829</a> seems to have been the fix then, right?</p>



<a name="243320551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320551">(Jun 20 2021 at 20:42)</a>:</h4>
<p>but it's not working now</p>



<a name="243320566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320566" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320566">(Jun 20 2021 at 20:43)</a>:</h4>
<p>in jan 2020 yes, but not october <a href="https://github.com/rust-lang/rust/issues/78226#issuecomment-717959304">https://github.com/rust-lang/rust/issues/78226#issuecomment-717959304</a></p>



<a name="243320572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320572">(Jun 20 2021 at 20:43)</a>:</h4>
<p>oh hm</p>



<a name="243320618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320618" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320618">(Jun 20 2021 at 20:44)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/78226#issuecomment-714540355">https://github.com/rust-lang/rust/issues/78226#issuecomment-714540355</a> seems like it points at <em>a</em> fix but I don't know if that was actually landed, let's see if I can figure that out</p>



<a name="243320630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320630">(Jun 20 2021 at 20:44)</a>:</h4>
<p>I know we landed something to that effect on master recently, (or relanded), but I would be surprised for it to only get picked up on beta...</p>



<a name="243320656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320656" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320656">(Jun 20 2021 at 20:45)</a>:</h4>
<p>we're not using the new mangling format though</p>



<a name="243320774"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320774" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320774">(Jun 20 2021 at 20:48)</a>:</h4>
<p>(in fact most functions here are no_mangle)</p>



<a name="243320801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320801" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320801">(Jun 20 2021 at 20:49)</a>:</h4>
<p>(I was wondering whether it was related to the legacy mangling format which has had some changes reverted recently, but it'd appear not then)</p>



<a name="243320859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320859" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320859">(Jun 20 2021 at 20:50)</a>:</h4>
<p>going to try and dump interesting.ll in full to see if it turns anything up</p>



<a name="243320861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320861">(Jun 20 2021 at 20:50)</a>:</h4>
<p>but I somehow doubt it</p>



<a name="243320869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320869">(Jun 20 2021 at 20:50)</a>:</h4>
<p>esp if it's anything like last time mw investigated and it was about linker bugs :/</p>



<a name="243320965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320965">(Jun 20 2021 at 20:52)</a>:</h4>
<p>yeah, I mean, it still seems ... not expected that the linker would behave differently on beta vs. nightly</p>



<a name="243320972"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243320972" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243320972">(Jun 20 2021 at 20:52)</a>:</h4>
<p>but who knows, it does get passed a lot of possible state that could trigger something like this I guess</p>



<a name="243322356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243322356" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243322356">(Jun 20 2021 at 21:25)</a>:</h4>
<p>looking at what landed in october, it's not super clear either which PR resurrected the issue then, or how the situation was fixed a few days later</p>



<a name="243324801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243324801" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243324801">(Jun 20 2021 at 22:26)</a>:</h4>
<p>it definitely seems like the profiling information just isn't recorded or otherwise is lacking - <a href="https://github.com/rust-lang/rust/pull/86413#issuecomment-864619703">https://github.com/rust-lang/rust/pull/86413#issuecomment-864619703</a></p>



<a name="243324817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243324817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243324817">(Jun 20 2021 at 22:26)</a>:</h4>
<p>it's unfortunate there doesn't seem to be an easy way to dump the profile info in a human-readable format</p>



<a name="243324824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243324824" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243324824">(Jun 20 2021 at 22:26)</a>:</h4>
<p>maybe llvm-cov would do it? not sure. seems unlikely.</p>



<a name="243325328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243325328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243325328">(Jun 20 2021 at 22:41)</a>:</h4>
<p>Pinged arm folks on <a href="https://github.com/rust-lang/rust/issues/78226#issuecomment-864621230">https://github.com/rust-lang/rust/issues/78226#issuecomment-864621230</a></p>



<a name="243345133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/File%20check%20erroring%20on%20prefix%20in%20input/near/243345133" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/File.20check.20erroring.20on.20prefix.20in.20input.html#243345133">(Jun 21 2021 at 06:53)</a>:</h4>
<p>(I was thinking about the CrateDisambiguator changes that have been reverted back and forth for perf reasons, as the disambiguator has caused issues with coverage and demangling before IIRC, with CI failures on aarch64 (but they were not specific to the arch) -- but the revert seems to be on the beta branch and an unlikely cause)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>