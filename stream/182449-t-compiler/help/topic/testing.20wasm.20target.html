<html>
<head><meta charset="utf-8"><title>testing wasm target · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html">testing wasm target</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="170492222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170492222" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170492222">(Jul 09 2019 at 21:29)</a>:</h4>
<p>Are there any instructions for how to run rustc tests on a wasm32 target? I'm trying to replicate a bors failure</p>



<a name="170492675"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170492675" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170492675">(Jul 09 2019 at 21:37)</a>:</h4>
<p><span class="user-mention" data-user-id="116883">@tmandry</span> Do you have Docker?</p>



<a name="170492697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170492697" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170492697">(Jul 09 2019 at 21:37)</a>:</h4>
<p>yes</p>



<a name="170492699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170492699" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170492699">(Jul 09 2019 at 21:37)</a>:</h4>
<p>If so, then it should be a <code>./src/ci/docker/run.sh test-various</code></p>



<a name="170492748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170492748" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170492748">(Jul 09 2019 at 21:38)</a>:</h4>
<p>It loosely looks like that's the bors test builder (amongst other things) for wasm</p>



<a name="170492759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170492759" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170492759">(Jul 09 2019 at 21:38)</a>:</h4>
<p>you can edit the Dockerfile in <code>src/ci/docker/test-various/Dockerfile</code> to make it more targeted for your use case</p>



<a name="170492767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170492767" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170492767">(Jul 09 2019 at 21:38)</a>:</h4>
<p>^ was about to ask :)</p>



<a name="170492768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170492768" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170492768">(Jul 09 2019 at 21:38)</a>:</h4>
<p>(if another builder failed the same should apply, presuming it's a Linux builder -- the macOS and windows builders don't use container)</p>



<a name="170492797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170492797" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170492797">(Jul 09 2019 at 21:39)</a>:</h4>
<p>(fwiw, I can try and take a look at the failure too if you have a link handy)</p>



<a name="170492870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170492870" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170492870">(Jul 09 2019 at 21:40)</a>:</h4>
<p>I think it might be an actual compiler bug</p>



<a name="170492889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170492889" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170492889">(Jul 09 2019 at 21:40)</a>:</h4>
<p>but it doesn't manifest on linux targets</p>



<a name="170492918"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170492918" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170492918">(Jul 09 2019 at 21:41)</a>:</h4>
<p>this will cache after the initial build by the way (we don't delete the obj directory, which is where it'll build)</p>



<a name="170492980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170492980" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170492980">(Jul 09 2019 at 21:42)</a>:</h4>
<p>great, running the docker build now</p>



<a name="170492986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170492986" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170492986">(Jul 09 2019 at 21:42)</a>:</h4>
<p>thanks so much :D</p>



<a name="170504768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170504768" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170504768">(Jul 10 2019 at 01:26)</a>:</h4>
<p><span class="user-mention" data-user-id="116883">@tmandry</span> FWIW (just got the email notification from your comment) this looks like the standard output if an assert fails in wasm</p>



<a name="170504776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170504776" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170504776">(Jul 10 2019 at 01:26)</a>:</h4>
<p>and I would suspect that this might simply be because of size differences, so maybe try running on e.g. i686-unknown-linux-gnu? That'll be easier to debug at least</p>



<a name="170504780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170504780" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170504780">(Jul 10 2019 at 01:26)</a>:</h4>
<p>there's docker containers that'll do it if you want to avoid the hassle of installing libs yourself</p>



<a name="170504788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170504788" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170504788">(Jul 10 2019 at 01:27)</a>:</h4>
<p>(not sure if this is at all useful, or how far along you are, so feel free to ignore)</p>



<a name="170504937"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170504937" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170504937">(Jul 10 2019 at 01:30)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> here's the error: <a href="https://github.com/rust-lang/rust/pull/62270#issuecomment-508938503" target="_blank" title="https://github.com/rust-lang/rust/pull/62270#issuecomment-508938503">https://github.com/rust-lang/rust/pull/62270#issuecomment-508938503</a></p>



<a name="170504951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170504951" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170504951">(Jul 10 2019 at 01:31)</a>:</h4>
<p>it's hitting an unreachable block somehow..</p>



<a name="170504959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170504959" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170504959">(Jul 10 2019 at 01:31)</a>:</h4>
<p>oh I just re-read your chat</p>



<a name="170505009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505009" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505009">(Jul 10 2019 at 01:32)</a>:</h4>
<p>yeah, we essentially have -Cpanic=abort on wasm I believe because there's not really unwinding IIRC</p>



<a name="170505012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505012" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505012">(Jul 10 2019 at 01:32)</a>:</h4>
<p>okay, that's really helpful to know, thanks <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="170505014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505014" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505014">(Jul 10 2019 at 01:32)</a>:</h4>
<p>except it's ... less aborty somehow</p>



<a name="170505023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505023" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505023">(Jul 10 2019 at 01:33)</a>:</h4>
<p>It might be helpful to run this in e.g. chrome</p>



<a name="170505027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505027" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505027">(Jul 10 2019 at 01:33)</a>:</h4>
<p>or firefox, w/e</p>



<a name="170505029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505029" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505029">(Jul 10 2019 at 01:33)</a>:</h4>
<p>and use F12 to debug</p>



<a name="170505032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505032" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505032">(Jul 10 2019 at 01:33)</a>:</h4>
<p>you can probably google for how to load wasm files in JS into memory or (maybe) copy what the NodeJS script is doing</p>



<a name="170505033"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505033" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505033">(Jul 10 2019 at 01:33)</a>:</h4>
<p>yeah, I started doing that but didn't very far</p>



<a name="170505079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505079" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505079">(Jul 10 2019 at 01:34)</a>:</h4>
<p>if you want to paste the wasm file I can try to do so? I think I've done something similar before</p>



<a name="170505082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505082" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505082">(Jul 10 2019 at 01:34)</a>:</h4>
<p>(what I actually used was node's inspect mode)</p>



<a name="170505155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505155" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505155">(Jul 10 2019 at 01:36)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> <a href="/user_uploads/4715/3k68FPJbAw9ODeAUqFwqg36c/a.wasm" target="_blank" title="a.wasm">a.wasm</a> if you want to take a look</p>



<a name="170505157"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505157" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505157">(Jul 10 2019 at 01:36)</a>:</h4>
<p>thanks, downloaded</p>



<a name="170505159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505159" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505159">(Jul 10 2019 at 01:37)</a>:</h4>
<p>(FWIW, Zoom natively has a file attachments feature)</p>



<a name="170505165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505165" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505165">(Jul 10 2019 at 01:37)</a>:</h4>
<p>although that might be it... I somehow thought that was an s3 URL</p>



<a name="170505172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505172" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505172">(Jul 10 2019 at 01:37)</a>:</h4>
<p>so does zulip, which I used :p</p>



<a name="170505174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505174" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505174">(Jul 10 2019 at 01:37)</a>:</h4>
<p>er, yes, I meant zulip ... typo</p>



<a name="170505219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505219" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505219">(Jul 10 2019 at 01:38)</a>:</h4>
<p>otherwise, I can try i686 (are there official containers for doing this with rust?)</p>



<a name="170505232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505232" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505232">(Jul 10 2019 at 01:39)</a>:</h4>
<p>yeah, you can do the same thing as you did with wasm if you'd like</p>



<a name="170505236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505236" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505236">(Jul 10 2019 at 01:39)</a>:</h4>
<p>ah, let me track down the builder for you</p>



<a name="170505244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505244" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505244">(Jul 10 2019 at 01:39)</a>:</h4>
<p>src/ci/docker/i686-gnu/Dockerfile and src/ci/docker/run.sh i686-gnu</p>



<a name="170505307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505307" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505307">(Jul 10 2019 at 01:40)</a>:</h4>
<p>that's so great</p>



<a name="170505310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505310" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505310">(Jul 10 2019 at 01:40)</a>:</h4>
<p>was it always this easy?</p>



<a name="170505368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505368" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505368">(Jul 10 2019 at 01:42)</a>:</h4>
<p>this was done in ~2017(?) I think? Whenever we moved from buildbot to travis I believe</p>



<a name="170505398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505398" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505398">(Jul 10 2019 at 01:43)</a>:</h4>
<p>for some reason I always thought it was more complicated /shrug</p>



<a name="170505794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505794" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505794">(Jul 10 2019 at 01:52)</a>:</h4>
<p>it does look like the wasm has just an unconditional panic</p>



<a name="170505795"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505795" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505795">(Jul 10 2019 at 01:52)</a>:</h4>
<p>fwiw</p>



<a name="170505797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505797" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505797">(Jul 10 2019 at 01:52)</a>:</h4>
<div class="codehilite"><pre><span></span>  (func $_ZN26async_fn_size_moved_locals4main17h2d699e92deec06acE (;4;)
    (local $var0 i32)
    get_global $global0
    i32.const 64
    i32.sub
    tee_local $var0
    set_global $global0
    get_local $var0
    i32.const 1028
    i32.store offset=12
    get_local $var0
    i32.const 1048748
    i32.store offset=56
    get_local $var0
    i32.const 52
    i32.add
    i32.const 4
    i32.store
    get_local $var0
    i32.const 36
    i32.add
    i32.const 2
    i32.store
    get_local $var0
    i32.const 4
    i32.store offset=44
    get_local $var0
    i64.const 3
    i64.store offset=20 align=4
    get_local $var0
    i32.const 1048660
    i32.store offset=16
    get_local $var0
    get_local $var0
    i32.const 60
    i32.add
    i32.store offset=48
    get_local $var0
    get_local $var0
    i32.const 56
    i32.add
    i32.store offset=40
    get_local $var0
    get_local $var0
    i32.const 12
    i32.add
    i32.store offset=60
    get_local $var0
    get_local $var0
    i32.const 40
    i32.add
    i32.store offset=32
    get_local $var0
    i32.const 16
    i32.add
    i32.const 1048752
    call $_ZN3std9panicking15begin_panic_fmt17h52d189e875ddbafaE
    unreachable
</pre></div>



<a name="170505860"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505860" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505860">(Jul 10 2019 at 01:54)</a>:</h4>
<p>unless I'm misinterpreting of course</p>



<a name="170505883"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505883" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505883">(Jul 10 2019 at 01:55)</a>:</h4>
<p>anyway, I need to run, but I suspect that the unconditional panic here (if I understood the wasm correctly) means that this would always panic, which leads me to believe that the test might just fail on i686 too</p>



<a name="170505931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170505931" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170505931">(Jul 10 2019 at 01:56)</a>:</h4>
<p>I used this in an html file to load the wasm for what it's worth so I could step through in firefox's debugger ```<br>
&lt;script&gt;<br>
var importObject = {<br>
        imports: {<br>
          imported_func: function(arg) {<br>
            console.log(arg);<br>
          }<br>
        }<br>
      };<br>
request = new XMLHttpRequest();<br>
request.open('GET', 'a.wasm');<br>
request.responseType = 'arraybuffer';<br>
request.send();</p>
<p>request.onload = function() {<br>
  var bytes = request.response;<br>
  WebAssembly.instantiate(bytes, importObject).then(results =&gt; {<br>
      results.instance.exports.main();<br>
  });<br>
};<br>
&lt;/script&gt;</p>
<div class="codehilite"><pre><span></span>
</pre></div>



<a name="170507999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170507999" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170507999">(Jul 10 2019 at 02:58)</a>:</h4>
<p><span class="user-mention" data-user-id="116883">@tmandry</span> </p>
<div class="codehilite"><pre><span></span>---- async_fn_size::entry_main output ----
    error output:
        panicked at &#39;assertion failed: `(left == right)`
          left: `1032`,
         right: `1028`&#39;, src/lib.rs:101:5

        Stack:

        Error
            at module.exports.__wbg_new_59cb74e423758ede (/home/mark/async-fn-size/target/wasm32-unknown-unknown/wbg-tmp/wasm-bindgen-test.js:726:30)
            at console_error_panic_hook::Error::new::h6ee3a5f0b6230b19 (wasm-function[1044]:34)
            at console_error_panic_hook::hook_impl::hab2142e7c8799646 (wasm-function[311]:100)
            at console_error_panic_hook::hook::h65e11320dbd63f4d (wasm-function[1985]:38)
            at core::ops::function::Fn::call::h81e0e990fcfadc08 (wasm-function[1816]:45)
            at std::panicking::rust_panic_with_hook::h44a386ec93168747 (wasm-function[475]:265)
            at std::panicking::continue_panic_fmt::hf5de305382b63f0d (wasm-function[1187]:116)
            at std::panicking::begin_panic_fmt::hd34a9b77b3de5f46 (wasm-function[1476]:95)
            at async_fn_size::entry_main::h165c5c04e59afc05 (wasm-function[54]:1179)
            at core::ops::function::FnOnce::call_once::hfd971c972cb74b22 (wasm-function[2140]:22)



    JS exception that was thrown:
        RuntimeError: unreachable
            at __rust_start_panic (wasm-function[2313]:33)
            at rust_panic (wasm-function[2243]:31)
            at std::panicking::rust_panic_with_hook::h44a386ec93168747 (wasm-function[475]:304)
            at std::panicking::continue_panic_fmt::hf5de305382b63f0d (wasm-function[1187]:116)
            at std::panicking::begin_panic_fmt::hd34a9b77b3de5f46 (wasm-function[1476]:95)
            at async_fn_size::entry_main::h165c5c04e59afc05 (wasm-function[54]:1179)
            at core::ops::function::FnOnce::call_once::hfd971c972cb74b22 (wasm-function[2140]:22)
            at wasm_bindgen_test::__rt::Context::execute_sync::{{closure}}::h7f716071de880aef (wasm-function[1558]:22)
            at futures::future::lazy::Lazy&lt;F,R&gt;::get::h5a6ee61d14078cdd (wasm-function[116]:397)
            at &lt;futures::future::lazy::Lazy&lt;F,R&gt; as futures::future::Future&gt;::poll::he5890d83765bfd36 (wasm-function[1805]:38)
</pre></div>



<a name="170508017"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170508017" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170508017">(Jul 10 2019 at 02:59)</a>:</h4>
<p>runs fine with:</p>
<div class="codehilite"><pre><span></span>    assert_eq!(1028, std::mem::size_of_val(&amp;single()));
    assert_eq!(1028, std::mem::size_of_val(&amp;single_with_noop()));
    assert_eq!(3080, std::mem::size_of_val(&amp;joined()));
    assert_eq!(3080, std::mem::size_of_val(&amp;joined_with_noop()));
</pre></div>



<a name="170508086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170508086" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170508086">(Jul 10 2019 at 03:00)</a>:</h4>
<p>though those values do fail on x86_64 linux, so maybe just ignore the test on wasm32?</p>



<a name="170508098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170508098" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170508098">(Jul 10 2019 at 03:01)</a>:</h4>
<p>no idea why they're different on wasm</p>



<a name="170508379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170508379" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170508379">(Jul 10 2019 at 03:09)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/62270#issuecomment-509889491" target="_blank" title="https://github.com/rust-lang/rust/pull/62270#issuecomment-509889491">https://github.com/rust-lang/rust/pull/62270#issuecomment-509889491</a></p>



<a name="170508921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170508921" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170508921">(Jul 10 2019 at 03:22)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> sorry, I stepped away but thanks so much for debugging this!</p>



<a name="170508933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170508933" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170508933">(Jul 10 2019 at 03:23)</a>:</h4>
<p>No worries! Let me know if you want me to explain process or anything</p>



<a name="170509086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170509086" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170509086">(Jul 10 2019 at 03:26)</a>:</h4>
<p>did you get that error message by loading a page with the script you pasted?</p>



<a name="170509121"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170509121" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170509121">(Jul 10 2019 at 03:27)</a>:</h4>
<p>it seems like it should be printed to the console when running node, but it's not</p>



<a name="170509428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170509428" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170509428">(Jul 10 2019 at 03:34)</a>:</h4>
<p>I added a dependency</p>



<a name="170509451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170509451" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170509451">(Jul 10 2019 at 03:35)</a>:</h4>
<p>[lib]<br>
crate-type = ["cdylib", "rlib"]</p>
<p>[dependencies]<br>
console_error_panic_hook = "0.1.6"<br>
wasm-bindgen-test = "0.2"</p>



<a name="170509501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170509501" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170509501">(Jul 10 2019 at 03:36)</a>:</h4>
<p>and used <code>wasm-pack test --node</code> after annotating the main function:</p>
<div class="codehilite"><pre><span></span><span class="cp">#[wasm_bindgen_test]</span><span class="w"></span>
<span class="cp">#[cfg_attr(test, test)]</span><span class="w"></span>
<span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">entry_main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">std</span>::<span class="n">panic</span>::<span class="n">set_hook</span><span class="p">(</span><span class="nb">Box</span>::<span class="n">new</span><span class="p">(</span><span class="n">console_error_panic_hook</span>::<span class="n">hook</span><span class="p">));</span><span class="w"></span>

<span class="w">    </span><span class="n">assert_eq</span><span class="o">!</span><span class="p">(</span><span class="mi">1028</span><span class="p">,</span><span class="w"> </span><span class="n">std</span>::<span class="n">mem</span>::<span class="n">size_of_val</span><span class="p">(</span><span class="o">&amp;</span><span class="n">single</span><span class="p">()));</span><span class="w"></span>
<span class="w">    </span><span class="n">assert_eq</span><span class="o">!</span><span class="p">(</span><span class="mi">1028</span><span class="p">,</span><span class="w"> </span><span class="n">std</span>::<span class="n">mem</span>::<span class="n">size_of_val</span><span class="p">(</span><span class="o">&amp;</span><span class="n">single_with_noop</span><span class="p">()));</span><span class="w"></span>
<span class="w">    </span><span class="n">assert_eq</span><span class="o">!</span><span class="p">(</span><span class="mi">3080</span><span class="p">,</span><span class="w"> </span><span class="n">std</span>::<span class="n">mem</span>::<span class="n">size_of_val</span><span class="p">(</span><span class="o">&amp;</span><span class="n">joined</span><span class="p">()));</span><span class="w"></span>
<span class="w">    </span><span class="n">assert_eq</span><span class="o">!</span><span class="p">(</span><span class="mi">3080</span><span class="p">,</span><span class="w"> </span><span class="n">std</span>::<span class="n">mem</span>::<span class="n">size_of_val</span><span class="p">(</span><span class="o">&amp;</span><span class="n">joined_with_noop</span><span class="p">()));</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>



<a name="170509506"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170509506" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170509506">(Jul 10 2019 at 03:36)</a>:</h4>
<p><span class="user-mention" data-user-id="116883">@tmandry</span> ^</p>



<a name="170509562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170509562" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170509562">(Jul 10 2019 at 03:38)</a>:</h4>
<p>:o</p>



<a name="170509568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170509568" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170509568">(Jul 10 2019 at 03:38)</a>:</h4>
<p>very nice</p>



<a name="170509589"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170509589" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170509589">(Jul 10 2019 at 03:39)</a>:</h4>
<p>it would be nice to have that crate in our build. I'll file an issue tomorrow</p>



<a name="170509704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170509704" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170509704">(Jul 10 2019 at 03:42)</a>:</h4>
<p><span class="user-mention" data-user-id="116883">@tmandry</span> <a href="https://github.com/Mark-Simulacrum/async-fn-size" target="_blank" title="https://github.com/Mark-Simulacrum/async-fn-size">https://github.com/Mark-Simulacrum/async-fn-size</a></p>



<a name="170509717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170509717" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170509717">(Jul 10 2019 at 03:42)</a>:</h4>
<p>(just for reference, but that's probably not the best way to do things)</p>



<a name="170509737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170509737" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170509737">(Jul 10 2019 at 03:43)</a>:</h4>
<p>feel free to ping me further, but I'm off to bed for now :)</p>



<a name="170509781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170509781" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170509781">(Jul 10 2019 at 03:44)</a>:</h4>
<p>perfect :) I opened <a href="https://github.com/rust-lang/rust/issues/62556" target="_blank" title="https://github.com/rust-lang/rust/issues/62556">#62556</a> and linked to that from there</p>



<a name="170509812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/testing%20wasm%20target/near/170509812" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/testing.20wasm.20target.html#170509812">(Jul 10 2019 at 03:45)</a>:</h4>
<p>Should definitely be possible. If I'm waiting for things to compile I might take a look :)</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>