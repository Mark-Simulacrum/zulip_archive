<html>
<head><meta charset="utf-8"><title>+crt-static for glibc · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/.2Bcrt-static.20for.20glibc.html">+crt-static for glibc</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="187867405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/%2Bcrt-static%20for%20glibc/near/187867405" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/.2Bcrt-static.20for.20glibc.html#187867405">(Feb 10 2020 at 22:52)</a>:</h4>
<p>I'm trying to prototype support for +crt-static on glibc, and I could use some help figuring out the right way to do so.  It looks like rustc automatically pulls in the libraries needed by various crates that form part of the standard library. But it isn't at all clear to me how <code>target-feature=+crt-static</code> can affect that. As far as I can tell, crates just avoid emitting rustc-link-lib from their build scripts on musl, and then count on other parts of rustc to link to the right libraries on musl. Is that the right way to handle it for glibc as well?</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>