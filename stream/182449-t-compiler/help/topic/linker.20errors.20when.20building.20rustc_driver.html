<html>
<head><meta charset="utf-8"><title>linker errors when building rustc_driver · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/linker.20errors.20when.20building.20rustc_driver.html">linker errors when building rustc_driver</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="250195053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/linker%20errors%20when%20building%20rustc_driver/near/250195053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DrMeepster <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/linker.20errors.20when.20building.20rustc_driver.html#250195053">(Aug 21 2021 at 03:56)</a>:</h4>
<p>When building rustc_driver, I am getting a lot of linker errors. I'm on <code>x86_64-pc-windows-msvc</code> using <code>download-ci-llvm</code>.</p>
<div class="codehilite"><pre><span></span><code>          librustc_llvm-e0572f5fa76c3bea.rlib(WholeProgramDevirt.cpp.obj) : error LNK2001: unresolved external symbol __std_system_error_deallocate_message
          librustc_llvm-e0572f5fa76c3bea.rlib(X86LoadValueInjectionLoadHardening.cpp.obj) : error LNK2001: unresolved external symbol __std_system_error_deallocate_message
          librustc_llvm-e0572f5fa76c3bea.rlib(X86InsertPrefetch.cpp.obj) : error LNK2001: unresolved external symbol __std_system_error_deallocate_message
          librustc_llvm-e0572f5fa76c3bea.rlib(ThinLTOCodeGenerator.cpp.obj) : error LNK2001: unresolved external symbol __std_system_error_deallocate_message
          librustc_llvm-e0572f5fa76c3bea.rlib(LTOCodeGenerator.cpp.obj) : error LNK2001: unresolved external symbol __std_system_error_deallocate_message
          librustc_llvm-e0572f5fa76c3bea.rlib(GCOVProfiling.cpp.obj) : error LNK2019: unresolved external symbol __std_reverse_copy_trivially_copyable_1 referenced in function &quot;private: bool __cdecl `anonymous namespace&#39;::GCOVProfiler::emitProfileNotes(class llvm::NamedMDNode *,bool,class NamedMDNode::function_ref&lt;class llvm::BlockFrequencyInfo * __cdecl(class llvm::Function &amp;)&gt;,class NamedMDNode::function_ref&lt;class llvm::BranchProbabilityInfo * __cdecl(class llvm::Function &amp;)&gt;,class NamedMDNode::function_ref&lt;class llvm::TargetLibraryInfo const &amp; __cdecl(class llvm::Function &amp;)&gt;)&quot; (?emitProfileNotes@GCOVProfiler@?A0x7391425A@@AEAA_NPEAVNamedMDNode@llvm@@_NV?$function_ref@$$A6APEAVBlockFrequencyInfo@llvm@@AEAVFunction@2@@Z@3@V?$function_ref@$$A6APEAVBranchProbabilityInfo@llvm@@AEAVFunction@2@@Z@3@V?$function_ref@$$A6AAEBVTargetLibraryInfo@llvm@@AEAVFunction@2@@Z@3@@Z)
</code></pre></div>
<p>These are only the last few errors, there's over a thousand lines of errors printed. Does anyone know a way to fix this?</p>



<a name="250214694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/linker%20errors%20when%20building%20rustc_driver/near/250214694" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/linker.20errors.20when.20building.20rustc_driver.html#250214694">(Aug 21 2021 at 12:21)</a>:</h4>
<p>Are you using an old version of MSVC build tools maybe?</p>



<a name="250232716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/linker%20errors%20when%20building%20rustc_driver/near/250232716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DrMeepster <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/linker.20errors.20when.20building.20rustc_driver.html#250232716">(Aug 21 2021 at 19:16)</a>:</h4>
<p>Well I don't why I didn't think of that first lol. Thanks</p>



<a name="250232727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/linker%20errors%20when%20building%20rustc_driver/near/250232727" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/linker.20errors.20when.20building.20rustc_driver.html#250232727">(Aug 21 2021 at 19:17)</a>:</h4>
<p>no worries, I've seen this build error before haha</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>