<html>
<head><meta charset="utf-8"><title>RUSTC_LOG · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.html">RUSTC_LOG</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="273023643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG/near/273023643" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.html#273023643">(Feb 23 2022 at 22:56)</a>:</h4>
<p>I'm currently getting a warning:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>warning: some trace filter directives would enable traces that are disabled statically
 | `Checker::visit_terminator=trace` would enable the TRACE level for the `Checker::visit_terminator` target
 = note: the static max level is `info`
 = help: to enable DEBUG logging, remove the `max_level_info` feature
</code></pre></div>
<p>Where is the feature that I need to remove?</p>



<a name="273024737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG/near/273024737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.html#273024737">(Feb 23 2022 at 23:06)</a>:</h4>
<p>Do you have <code>debug-logging=true</code> in <code>config.toml</code>?</p>



<a name="273123369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG/near/273123369" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.html#273123369">(Feb 24 2022 at 17:38)</a>:</h4>
<p>Yes</p>



<a name="273167223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG/near/273167223" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.html#273167223">(Feb 24 2022 at 23:58)</a>:</h4>
<p>I might suggest double-checking that whatever is displaying that is running the appropriate <code>rustc</code>.  And try running something like <code>RUSTC_LOG=Checker::visit_terminator=trace  ./build/x86_64-unknown-linux-gnu/stage1/bin/rustc</code> to verify whether or not that rustc is indeed not compiled correctly.</p>
<p>Worst case, you could <code>x.py clean</code>.  However, I don't believe that should be necessary since changing the config value will change the features used.</p>



<a name="273281901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG/near/273281901" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.html#273281901">(Feb 25 2022 at 20:38)</a>:</h4>
<p>The command I'm using is <code>RUSTC_LOG="Checker::visit_terminator=trace" x t -i --bless src/test/ui/rfc-2632-const-trait-impl/staged-api.rs</code>. The behavior is the same after running <code>x clean</code>. <code>RUSTC_LOG="Checker::visit_terminator=trace" ./build/x86_64-unknown-linux-gnu/stage1/bin/rustc</code> emits the help message as expected.</p>



<a name="273288613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG/near/273288613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.html#273288613">(Feb 25 2022 at 21:44)</a>:</h4>
<p>I'm not too familiar with the <code>x</code> wrapper, but assuming it is just running x.py, then <code>RUSTC_LOG</code> is going to be passed to the bootstrap compiler which won't have logging enabled.  So you'll probably end up with that message displayed while things are building.  </p>
<p>If you just want to see the logging while compiling that test, I would just add <code>// rustc-env:RUSTC_LOG=…</code> to the test or run it manually, such as <code>RUSTC_LOG=… rustc +stage1 src/test/ui/rfc-2632-const-trait-impl/staged-api.rs</code>.</p>



<a name="273323694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG/near/273323694" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.html#273323694">(Feb 26 2022 at 07:09)</a>:</h4>
<p><code>x</code> is basically <code>x.py</code> but without having to figure out the cwd. I'm pretty sure all it does is resolve to <code>x.py</code>.</p>



<a name="273323739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG/near/273323739" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.html#273323739">(Feb 26 2022 at 07:10)</a>:</h4>
<p>For some reason, even the header comment doesn't do anything. I can't (or rather, it wouldn't be trivial to) compile it manually as it's split between two files. Honestly pretty confused as to why none of this is working.</p>



<a name="273528424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/RUSTC_LOG/near/273528424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/RUSTC_LOG.html#273528424">(Feb 28 2022 at 17:55)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> with regards to the const stability PR and debugging ^^</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>