<html>
<head><meta charset="utf-8"><title>How does the compiler infer types in this situation ? · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/How.20does.20the.20compiler.20infer.20types.20in.20this.20situation.20.3F.html">How does the compiler infer types in this situation ?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="271542147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20does%20the%20compiler%20infer%20types%20in%20this%20situation%20%3F/near/271542147" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Teln0 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/How.20does.20the.20compiler.20infer.20types.20in.20this.20situation.20.3F.html#271542147">(Feb 11 2022 at 08:05)</a>:</h4>
<p>Hello ! Sorry if this is not the right place to ask this kind of question (or if my question is just stupid). I was wondering how does the compiler detect what type the a variable is / how does it choose which function to call.<br>
<a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=8ab2e916373437612dc5c2e4f3e38e7f">https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=8ab2e916373437612dc5c2e4f3e38e7f</a><br>
Does it :</p>
<ul>
<li>register some kind of constraint when it infers the type for the function call expression such that if the type is known to be u8, the type of the parameter is also immediately constrained to be u16 ?</li>
<li>does it start by assuming the type of the parameter is u8, check if there are any type errors later, and if there is, roll back to the call and assume the parameter is u16 ?</li>
<li>do something else entirely ?</li>
</ul>
<p>I couldn't find in the source code where this is done.</p>
<p>Thanks in advance !</p>



<a name="271544263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/How%20does%20the%20compiler%20infer%20types%20in%20this%20situation%20%3F/near/271544263" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/How.20does.20the.20compiler.20infer.20types.20in.20this.20situation.20.3F.html#271544263">(Feb 11 2022 at 08:30)</a>:</h4>
<p>It does this by generating and solving (unifying) constraints</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>