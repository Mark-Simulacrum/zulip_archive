<html>
<head><meta charset="utf-8"><title>Process for fixing clippy? · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Process.20for.20fixing.20clippy.3F.html">Process for fixing clippy?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="200858511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Process%20for%20fixing%20clippy%3F/near/200858511" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Process.20for.20fixing.20clippy.3F.html#200858511">(Jun 15 2020 at 07:53)</a>:</h4>
<p>If I make a change to the compiler, and that necessitates a change to clippy, what's the process for doing so? Can I just commit a change to <code>src/tools/clippy/clippy_lints</code> in the <code>rust-lang/rust</code> repository, or has something changed there?</p>



<a name="200858809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Process%20for%20fixing%20clippy%3F/near/200858809" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Process.20for.20fixing.20clippy.3F.html#200858809">(Jun 15 2020 at 07:57)</a>:</h4>
<p>As far as I can tell from the documentation, it <em>sounds</em> like the process is to make changes directly in <code>rust-lang/rust</code>, and then someone working on clippy will be able to use the subtree bits to synchronize it later.</p>



<a name="200862161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Process%20for%20fixing%20clippy%3F/near/200862161" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Process.20for.20fixing.20clippy.3F.html#200862161">(Jun 15 2020 at 08:38)</a>:</h4>
<p>yes, you just fix it in tree and someone else takes care of the sync</p>



<a name="200862230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Process%20for%20fixing%20clippy%3F/near/200862230" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Process.20for.20fixing.20clippy.3F.html#200862230">(Jun 15 2020 at 08:39)</a>:</h4>
<p>Awesome, thank you.</p>



<a name="200862247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Process%20for%20fixing%20clippy%3F/near/200862247" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Process.20for.20fixing.20clippy.3F.html#200862247">(Jun 15 2020 at 08:39)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> What's the right way to compile-test <code>src/tools/clippy/clippy_lints</code> when I'm building?</p>



<a name="200863792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Process%20for%20fixing%20clippy%3F/near/200863792" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Process.20for.20fixing.20clippy.3F.html#200863792">(Jun 15 2020 at 08:56)</a>:</h4>
<p><code>./x.py test src/tools/clippy</code> should do it</p>



<a name="200863801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Process%20for%20fixing%20clippy%3F/near/200863801" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Process.20for.20fixing.20clippy.3F.html#200863801">(Jun 15 2020 at 08:56)</a>:</h4>
<p>but I think some tests are broken right now</p>



<a name="200863826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Process%20for%20fixing%20clippy%3F/near/200863826" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Process.20for.20fixing.20clippy.3F.html#200863826">(Jun 15 2020 at 08:56)</a>:</h4>
<p>we're not blocking on clippy tests passing yet</p>



<a name="200863828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Process%20for%20fixing%20clippy%3F/near/200863828" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Process.20for.20fixing.20clippy.3F.html#200863828">(Jun 15 2020 at 08:56)</a>:</h4>
<p>but will be soon</p>



<a name="200941903"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Process%20for%20fixing%20clippy%3F/near/200941903" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Process.20for.20fixing.20clippy.3F.html#200941903">(Jun 15 2020 at 20:33)</a>:</h4>
<p>I ended up doing something different that doesn't change the AST, so I didn't have to change clippy.</p>



<a name="200941909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Process%20for%20fixing%20clippy%3F/near/200941909" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Process.20for.20fixing.20clippy.3F.html#200941909">(Jun 15 2020 at 20:33)</a>:</h4>
<p>But thanks for the help!</p>



<a name="204078347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Process%20for%20fixing%20clippy%3F/near/204078347" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Process.20for.20fixing.20clippy.3F.html#204078347">(Jul 16 2020 at 12:53)</a>:</h4>
<p><span class="user-mention" data-user-id="239881">@Josh Triplett</span> I use <code>./x.py check src/tools/clippy</code>, which at least will tell you if it still compiles</p>



<a name="204078400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Process%20for%20fixing%20clippy%3F/near/204078400" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/Process.20for.20fixing.20clippy.3F.html#204078400">(Jul 16 2020 at 12:54)</a>:</h4>
<p>(and doesn't require building the compiler twice or w/e)</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>