<html>
<head><meta charset="utf-8"><title>C/C++ Interop · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/C.2FC.2B.2B.20Interop.html">C/C++ Interop</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="269423992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/C/C%2B%2B%20Interop/near/269423992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bijin Regi panicker <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/C.2FC.2B.2B.20Interop.html#269423992">(Jan 26 2022 at 14:56)</a>:</h4>
<p>How to use rust library in c/c++ after compiling to llvm bitcode using llvm-link?</p>



<a name="269427228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/C/C%2B%2B%20Interop/near/269427228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xavier Denis <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/C.2FC.2B.2B.20Interop.html#269427228">(Jan 26 2022 at 15:16)</a>:</h4>
<p>This zulip narrow (and more broadly the whole zulip) is mostly targeted at developing the rust compiler itself. You may find more help in other venues such as the Rust community discord: <a href="https://discord.com/invite/rust-lang-community">https://discord.com/invite/rust-lang-community</a> .</p>
<p>However, to answer your question to the best of my ability, you cannot directly interop with rust programs compiled to llvm bitcode as Rust has no stable ABI. The normal way to do it is to expose function and types using the C abi, and import them in C as you would any other C library.  You should find this section relevant: <a href="https://doc.rust-lang.org/nomicon/ffi.html#calling-rust-code-from-c">https://doc.rust-lang.org/nomicon/ffi.html#calling-rust-code-from-c</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>