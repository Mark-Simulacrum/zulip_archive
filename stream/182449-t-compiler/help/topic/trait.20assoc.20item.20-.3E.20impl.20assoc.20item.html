<html>
<head><meta charset="utf-8"><title>trait assoc item -&gt; impl assoc item · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html">trait assoc item -&gt; impl assoc item</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="261343058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/261343058" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#261343058">(Nov 13 2021 at 06:06)</a>:</h4>
<p>Given the DefId of a trait's associated item, how can I find the DefId of the equivalent associated item in an impl of that trait for a particular Self type?</p>



<a name="261343256"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/261343256" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#261343256">(Nov 13 2021 at 06:11)</a>:</h4>
<p>Ah, I think I've found a better way to solve the problem</p>



<a name="267136856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/267136856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#267136856">(Jan 07 2022 at 00:45)</a>:</h4>
<p>I'm not sure what the way I found that I thought would solve the problem was, but I still have this issue.</p>



<a name="267136996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/267136996" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#267136996">(Jan 07 2022 at 00:47)</a>:</h4>
<p>It seems strange to me that <code>ty::AssocItem</code> refers to the original definition of the associated item rather than the actual definition in a particular impl. Surely there's parts of the compiler that want the actual definition?</p>



<a name="267137044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/267137044" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#267137044">(Jan 07 2022 at 00:48)</a>:</h4>
<p>For context, this is for rustdoc intra-doc-link collection.</p>



<a name="267138016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/267138016" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#267138016">(Jan 07 2022 at 01:03)</a>:</h4>
<p>Hmm, it looks like I can fairly easily add an API to rustc for this</p>



<a name="267138931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/267138931" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#267138931">(Jan 07 2022 at 01:16)</a>:</h4>
<p>What's also strange to me is that the associated item will have the <code>defaultness</code> of its original definition, not the definition I'm querying.</p>



<a name="267138952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/267138952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#267138952">(Jan 07 2022 at 01:16)</a>:</h4>
<p>How do I get the information (e.g., the <code>defaultness</code>) about the actual associated item I'm querying?</p>



<a name="267219899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/267219899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cjgillot <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#267219899">(Jan 07 2022 at 17:53)</a>:</h4>
<p><span class="user-mention" data-user-id="116118">@Matthew Jasper</span> has a PR where they refactor the link between trait items and impl items for the type checker. You could start investigating there.</p>



<a name="267232632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/267232632" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#267232632">(Jan 07 2022 at 19:34)</a>:</h4>
<p>Thank you so much! That looks like <em>exactly</em> what I need.</p>



<a name="267232679"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/267232679" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#267232679">(Jan 07 2022 at 19:35)</a>:</h4>
<p><span class="user-mention" data-user-id="248906">@cjgillot</span> I see that all it needs is a rebase before being ready for merging. Is it okay to go ahead and try rebasing that PR since there hasn't been activity?</p>



<a name="267232854"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/267232854" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#267232854">(Jan 07 2022 at 19:36)</a>:</h4>
<p>(cc <span class="user-mention" data-user-id="116118">@Matthew Jasper</span> again)</p>



<a name="267233376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/267233376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#267233376">(Jan 07 2022 at 19:41)</a>:</h4>
<p>You can, I don't know when I'll get back to it.</p>



<a name="267233970"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/267233970" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#267233970">(Jan 07 2022 at 19:46)</a>:</h4>
<p>Great, I'll give it a shot. Thanks for making that PR :)</p>



<a name="267245663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/267245663" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#267245663">(Jan 07 2022 at 21:35)</a>:</h4>
<p>Ok, I rebased it :)</p>



<a name="267311593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/267311593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#267311593">(Jan 08 2022 at 19:38)</a>:</h4>
<p>It's merged! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="268443623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/268443623" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#268443623">(Jan 18 2022 at 19:31)</a>:</h4>
<p><span class="user-mention" data-user-id="307537">@Noah Lev</span> can you share the PRs links you're talking about? <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<a name="268458636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/268458636" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#268458636">(Jan 18 2022 at 21:31)</a>:</h4>
<p>IIRC it was <a href="https://github.com/rust-lang/rust/pull/90639">https://github.com/rust-lang/rust/pull/90639</a></p>



<a name="268473464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/trait%20assoc%20item%20-%3E%20impl%20assoc%20item/near/268473464" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/trait.20assoc.20item.20-.3E.20impl.20assoc.20item.html#268473464">(Jan 18 2022 at 23:52)</a>:</h4>
<p>Yep, that's the one! <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> ^</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>