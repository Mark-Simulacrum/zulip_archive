<html>
<head><meta charset="utf-8"><title>curious why rustfmt in nightly is missing · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/curious.20why.20rustfmt.20in.20nightly.20is.20missing.html">curious why rustfmt in nightly is missing</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="177995570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/curious%20why%20rustfmt%20in%20nightly%20is%20missing/near/177995570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Guanqun <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/curious.20why.20rustfmt.20in.20nightly.20is.20missing.html#177995570">(Oct 12 2019 at 16:16)</a>:</h4>
<p>I see from this link <a href="https://rust-lang.github.io/rustup-components-history/" target="_blank" title="https://rust-lang.github.io/rustup-components-history/">https://rust-lang.github.io/rustup-components-history/</a> the rustfmt is missing these days, and this cause the failure when CI tries to use rustfmt in nightly, how should we address this issue?</p>



<a name="178002617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/curious%20why%20rustfmt%20in%20nightly%20is%20missing/near/178002617" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mark-i-m <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/curious.20why.20rustfmt.20in.20nightly.20is.20missing.html#178002617">(Oct 12 2019 at 19:16)</a>:</h4>
<p>This happens with a lot of the tools in between releases</p>



<a name="178002619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/curious%20why%20rustfmt%20in%20nightly%20is%20missing/near/178002619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mark-i-m <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/curious.20why.20rustfmt.20in.20nightly.20is.20missing.html#178002619">(Oct 12 2019 at 19:16)</a>:</h4>
<p>e.g. <a href="https://rust-lang-nursery.github.io/rust-toolstate/" target="_blank" title="https://rust-lang-nursery.github.io/rust-toolstate/">https://rust-lang-nursery.github.io/rust-toolstate/</a></p>



<a name="178002622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/curious%20why%20rustfmt%20in%20nightly%20is%20missing/near/178002622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mark-i-m <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/curious.20why.20rustfmt.20in.20nightly.20is.20missing.html#178002622">(Oct 12 2019 at 19:16)</a>:</h4>
<p>During the final week before a release, they have to be fixed and stay fixed.</p>



<a name="178002674"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/curious%20why%20rustfmt%20in%20nightly%20is%20missing/near/178002674" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mark-i-m <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/curious.20why.20rustfmt.20in.20nightly.20is.20missing.html#178002674">(Oct 12 2019 at 19:18)</a>:</h4>
<p>The page above has a link to the commit that broke rustfmt. If you want, you could submit a PR to rustfmt to fix it</p>



<a name="178014048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/curious%20why%20rustfmt%20in%20nightly%20is%20missing/near/178014048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Guanqun <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/curious.20why.20rustfmt.20in.20nightly.20is.20missing.html#178014048">(Oct 13 2019 at 00:58)</a>:</h4>
<p>hmm, confused that on that page, the rustfmt shows:</p>
<p>rustfmt     test pass   test pass   1721c9685 on 2019-10-12 22:05:18</p>
<p>but still no build for this?</p>



<a name="178024144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/curious%20why%20rustfmt%20in%20nightly%20is%20missing/near/178024144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/curious.20why.20rustfmt.20in.20nightly.20is.20missing.html#178024144">(Oct 13 2019 at 06:40)</a>:</h4>
<p>Why do we not block commits on tool builds?</p>



<a name="178024149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/curious%20why%20rustfmt%20in%20nightly%20is%20missing/near/178024149" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/curious.20why.20rustfmt.20in.20nightly.20is.20missing.html#178024149">(Oct 13 2019 at 06:40)</a>:</h4>
<p>Just because they take too long?</p>



<a name="178035074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/curious%20why%20rustfmt%20in%20nightly%20is%20missing/near/178035074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/curious.20why.20rustfmt.20in.20nightly.20is.20missing.html#178035074">(Oct 13 2019 at 11:49)</a>:</h4>
<p>Because they are not in tree so if we block on tool builds we could not get anything that e.g. changes the structure of AST/HIR/... done.<br>
We only block in the last week of a release. Moreover, blocking on tool builds would make doing rollups a nightmare.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>