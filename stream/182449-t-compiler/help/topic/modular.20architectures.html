<html>
<head><meta charset="utf-8"><title>modular architectures · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/modular.20architectures.html">modular architectures</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="262980719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/modular%20architectures/near/262980719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> luojia65 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/modular.20architectures.html#262980719">(Nov 29 2021 at 08:58)</a>:</h4>
<p>Hello! There are subsets RISC-V, but only combination rv64imac and rv64gc are supported by Rust. Is there any chance to add and remove subsets but support rv64 in generic on future Rust compilers?<br>
For example there are B (esp. Zba) and K ISAs, if LLVM can provide them in the future, I don't know if it's possible that we can pass parameters to rustc to use them in compilation.</p>



<a name="262981703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/modular%20architectures/near/262981703" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/modular.20architectures.html#262981703">(Nov 29 2021 at 09:07)</a>:</h4>
<p>You can enable and disable target features using <code>-Ctarget-features</code>. Some features change the ABI and thus need the standard library to be recompiled. This can be done by passing <code>-Zbuild-std</code> to cargo.</p>



<a name="263072724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/modular%20architectures/near/263072724" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/modular.20architectures.html#263072724">(Nov 29 2021 at 21:54)</a>:</h4>
<p>What features change the ABI?</p>



<a name="263074547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/modular%20architectures/near/263074547" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/modular.20architectures.html#263074547">(Nov 29 2021 at 22:11)</a>:</h4>
<p>Enabling the float target features (<code>F</code> and <code>D</code>) AFAIK. Enabling vector support too I think, but for that the rust abi already forces vector arguments to be passed by ref to make <code>#[target_feature]</code> sound on other targets.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>