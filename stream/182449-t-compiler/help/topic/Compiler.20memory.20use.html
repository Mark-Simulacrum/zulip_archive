<html>
<head><meta charset="utf-8"><title>Compiler memory use · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Compiler.20memory.20use.html">Compiler memory use</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="214818725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Compiler%20memory%20use/near/214818725" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dirkjan Ochtman <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Compiler.20memory.20use.html#214818725">(Oct 28 2020 at 10:39)</a>:</h4>
<p>I've been building rustc from source on my Gentoo server for years, reducing my usual -j8 to -j4 to get the build to fit in my server's 8 GB of memory (this is with system LLVM, currently v11). However, in 1.47.0 the build will get reaped by the OOM killer with -j4 and even with -j2. I haven't managed to complete a -j1 build yet because it takes a long time... Is there a known issue with 2x+ increased memory usage in 1.47? There was a configuration change that set codegen-units-std = 1, could that cause this kind of change?</p>



<a name="214837179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Compiler%20memory%20use/near/214837179" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Compiler.20memory.20use.html#214837179">(Oct 28 2020 at 13:42)</a>:</h4>
<p>might be related to <a href="https://github.com/rust-lang/rust/issues/75992">https://github.com/rust-lang/rust/issues/75992</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>