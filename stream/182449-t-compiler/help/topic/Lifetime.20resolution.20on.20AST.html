<html>
<head><meta charset="utf-8"><title>Lifetime resolution on AST · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Lifetime.20resolution.20on.20AST.html">Lifetime resolution on AST</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="260533758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Lifetime%20resolution%20on%20AST/near/260533758" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cjgillot <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Lifetime.20resolution.20on.20AST.html#260533758">(Nov 06 2021 at 20:12)</a>:</h4>
<p><span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> in <a href="https://github.com/rust-lang/rust/pull/82743#issuecomment-791969494">https://github.com/rust-lang/rust/pull/82743#issuecomment-791969494</a>, you mention lifetime resolution should be done on the AST. What would we gain from this? Should this migration still be considered?</p>



<a name="260557364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Lifetime%20resolution%20on%20AST/near/260557364" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Lifetime.20resolution.20on.20AST.html#260557364">(Nov 07 2021 at 06:24)</a>:</h4>
<p>Resolution of named lifetimes is exactly the same as resolution of e.g. generic type parameters, so it can all be done in the same pass, using the same scope mechanisms, etc.<br>
Then it will ensure that the rules for both of them will be the same, and unintended differences like <a href="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2021&amp;gist=7ebd1c513fd17d900c40c684f6e0cf94">https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2021&amp;gist=7ebd1c513fd17d900c40c684f6e0cf94</a> won't occur.</p>



<a name="260557378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Lifetime%20resolution%20on%20AST/near/260557378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Lifetime.20resolution.20on.20AST.html#260557378">(Nov 07 2021 at 06:25)</a>:</h4>
<p>I think that migration should still be considered.</p>



<a name="260557449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Lifetime%20resolution%20on%20AST/near/260557449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Lifetime.20resolution.20on.20AST.html#260557449">(Nov 07 2021 at 06:27)</a>:</h4>
<p>(I'm not sure about unnamed lifetimes, where we fill "holes" in which lifetimes would be if we were writing everything fully explicitly, it's an entirely separate logic and I don't know at which point it's better to run it.)</p>



<a name="260563269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/Lifetime%20resolution%20on%20AST/near/260563269" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cjgillot <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/Lifetime.20resolution.20on.20AST.html#260563269">(Nov 07 2021 at 09:09)</a>:</h4>
<p>Thanks. I think I'll take a shot at it. In the worst case, I will have learnt how late name resolution works.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>