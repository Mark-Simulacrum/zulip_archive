<html>
<head><meta charset="utf-8"><title>documenting `ena` · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html">documenting `ena`</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="252743302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252743302" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252743302">(Sep 10 2021 at 07:18)</a>:</h4>
<p>right now <code>ena</code> isn't part of the online rustc docs, so to know what's implemented for unification tables (<a href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_infer/infer/struct.InferCtxtInner.html#method.const_unification_table">https://doc.rust-lang.org/nightly/nightly-rustc/rustc_infer/infer/struct.InferCtxtInner.html#method.const_unification_table</a>) i have to use enas docs (<a href="https://docs.rs/ena/0.13.0/ena/unify/struct.UnificationTable.html">https://docs.rs/ena/0.13.0/ena/unify/struct.UnificationTable.html</a>) separately.</p>
<p>is there a way to add this crate - and any others like it - to <code>https://doc.rust-lang.org/nightly/nightly-rustc</code>?</p>



<a name="252743369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252743369" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252743369">(Sep 10 2021 at 07:19)</a>:</h4>
<p><span class="user-mention" data-user-id="216206">@lcnr</span> yes, take a look at src/bootstrap/doc.rs</p>



<a name="252743444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252743444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252743444">(Sep 10 2021 at 07:20)</a>:</h4>
<p>You can probably add it somewhere in <code>impl Step for Rustc</code></p>



<a name="252743729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252743729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252743729">(Sep 10 2021 at 07:23)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/86737">https://github.com/rust-lang/rust/pull/86737</a> is not exactly the same since it adds a new step rather than modifying an existing one, but you may find it helpful anyway</p>



<a name="252743769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252743769" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252743769">(Sep 10 2021 at 07:23)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">        </span><span class="c1">// Only include compiler crates, no dependencies of those, such as `libc`.</span>
<span class="w">        </span><span class="n">cargo</span><span class="p">.</span><span class="n">arg</span><span class="p">(</span><span class="s">"--no-deps"</span><span class="p">);</span><span class="w"></span>
</code></pre></div>



<a name="252743836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252743836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252743836">(Sep 10 2021 at 07:24)</a>:</h4>
<p>do you know why we don't want to document deps?</p>



<a name="252743904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252743904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252743904">(Sep 10 2021 at 07:25)</a>:</h4>
<p>No, sorry</p>



<a name="252743932"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252743932" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252743932">(Sep 10 2021 at 07:25)</a>:</h4>
<p>and is it possible to only pass <code>--document-private-items</code> for crates in the repo? don't think documenting private items of <code>ena</code> would be useful <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="252743948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252743948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252743948">(Sep 10 2021 at 07:25)</a>:</h4>
<p>You could try <code>git log -S -- --no-deps</code> to see when it was added</p>



<a name="252743975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252743975" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252743975">(Sep 10 2021 at 07:25)</a>:</h4>
<p>Umm I'm not sure. This is a cargo question.</p>



<a name="252744204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252744204" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252744204">(Sep 10 2021 at 07:27)</a>:</h4>
<p>Another alternative is to pass --extern-html-root-url so the links show up properly, they just go to <a href="http://docs.rs">docs.rs</a> instead of <a href="http://doc.rust-lang.org">doc.rust-lang.org</a></p>



<a name="252744279"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252744279" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252744279">(Sep 10 2021 at 07:28)</a>:</h4>
<p>(which you can do pretty simply by passing -Zrustdoc-map)</p>



<a name="252746888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252746888" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252746888">(Sep 10 2021 at 07:54)</a>:</h4>
<p><code>--extern-html-root-url</code> seems like a good idea, currently trying to go with that</p>



<a name="252749252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252749252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252749252">(Sep 10 2021 at 08:16)</a>:</h4>
<p>do you know why <code>indexmap</code> is already linked from the internal docs while <code>ena</code> is not? <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="252749827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252749827" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252749827">(Sep 10 2021 at 08:21)</a>:</h4>
<p><a href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_data_structures/fx/type.FxIndexMap.html">https://doc.rust-lang.org/nightly/nightly-rustc/rustc_data_structures/fx/type.FxIndexMap.html</a></p>



<a name="252749884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252749884" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252749884">(Sep 10 2021 at 08:21)</a>:</h4>
<p>it doesn't seem like we special case that one anywhere</p>



<a name="252751114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252751114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252751114">(Sep 10 2021 at 08:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="216206">lcnr</span> <a href="#narrow/stream/182449-t-compiler.2Fhelp/topic/documenting.20.60ena.60/near/252746888">said</a>:</p>
<blockquote>
<p><code>--extern-html-root-url</code> seems like a good idea, currently trying to go with that</p>
</blockquote>
<p>opened <a href="https://github.com/rust-lang/rust/issues/88813">#88813</a>, still confused about the difference with <code>indexmap</code> though '^^</p>



<a name="252751126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252751126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252751126">(Sep 10 2021 at 08:33)</a>:</h4>
<p>thanks for the help <span class="user-mention" data-user-id="232545">@Joshua Nelson</span> <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<a name="252761390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252761390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252761390">(Sep 10 2021 at 10:02)</a>:</h4>
<p>Probably indexmap uses doc(html_root_url), which sets a default url when --extern-html-root-url isn't passed</p>



<a name="252761906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252761906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252761906">(Sep 10 2021 at 10:05)</a>:</h4>
<p>Left a review</p>



<a name="252761933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252761933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252761933">(Sep 10 2021 at 10:05)</a>:</h4>
<p>And you're very welcome <span aria-label="smiling face" class="emoji emoji-263a" role="img" title="smiling face">:smiling_face:</span>️</p>



<a name="252762087"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/documenting%20%60ena%60/near/252762087" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/documenting.20.60ena.60.html#252762087">(Sep 10 2021 at 10:06)</a>:</h4>
<p>Yup, it's set here: <a href="https://docs.rs/indexmap/1.7.0/src/indexmap/lib.rs.html#4">https://docs.rs/indexmap/1.7.0/src/indexmap/lib.rs.html#4</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>