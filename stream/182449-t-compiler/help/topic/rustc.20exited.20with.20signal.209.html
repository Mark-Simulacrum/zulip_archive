<html>
<head><meta charset="utf-8"><title>rustc exited with signal 9 · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustc.20exited.20with.20signal.209.html">rustc exited with signal 9</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="207089094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustc%20exited%20with%20signal%209/near/207089094" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Ani <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustc.20exited.20with.20signal.209.html#207089094">(Aug 16 2020 at 20:48)</a>:</h4>
<p>I tried to build the stage1 compiler and it failed. Here is the recent output:</p>
<div class="codehilite"><pre><span></span><code>   Compiling rustc_middle v0.0.0 (/home/joshua/rust/rust/src/librustc_middle)
   Compiling rustc_infer v0.0.0 (/home/joshua/rust/rust/src/librustc_infer)
   Compiling rustc_metadata v0.0.0 (/home/joshua/rust/rust/src/librustc_metadata)
   Compiling rustc_symbol_mangling v0.0.0 (/home/joshua/rust/rust/src/librustc_symbol_mangling)
   Compiling rustc_incremental v0.0.0 (/home/joshua/rust/rust/src/librustc_incremental)
   Compiling rustc_save_analysis v0.0.0 (/home/joshua/rust/rust/src/librustc_save_analysis)
   Compiling rustc_codegen_ssa v0.0.0 (/home/joshua/rust/rust/src/librustc_codegen_ssa)
   Compiling rustc_resolve v0.0.0 (/home/joshua/rust/rust/src/librustc_resolve)
   Compiling rustc_trait_selection v0.0.0 (/home/joshua/rust/rust/src/librustc_trait_selection)
   Compiling rustc_codegen_llvm v0.0.0 (/home/joshua/rust/rust/src/librustc_codegen_llvm)
   Compiling rustc_typeck v0.0.0 (/home/joshua/rust/rust/src/librustc_typeck)
   Compiling rustc_lint v0.0.0 (/home/joshua/rust/rust/src/librustc_lint)
   Compiling rustc_mir v0.0.0 (/home/joshua/rust/rust/src/librustc_mir)
   Compiling rustc_passes v0.0.0 (/home/joshua/rust/rust/src/librustc_passes)
   Compiling rustc_mir_build v0.0.0 (/home/joshua/rust/rust/src/librustc_mir_build)
   Compiling rustc_ty v0.0.0 (/home/joshua/rust/rust/src/librustc_ty)
   Compiling rustc_traits v0.0.0 (/home/joshua/rust/rust/src/librustc_traits)
   Compiling rustc_plugin_impl v0.0.0 (/home/joshua/rust/rust/src/librustc_plugin_impl)
   Compiling rustc_privacy v0.0.0 (/home/joshua/rust/rust/src/librustc_privacy)
   Compiling rustc_interface v0.0.0 (/home/joshua/rust/rust/src/librustc_interface)
rustc exited with signal: 9
error: could not compile `rustc_middle`.

Caused by:
  process didn&#39;t exit successfully: `/home/joshua/rust/rust/build/bootstrap/debug/rustc --crate-name rustc_middle --edition=2018 src/librustc_middle/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts --crate-type lib --emit=dep-info,metadata,link -C opt-level=3 -Cembed-bitcode=no -C debuginfo=1 -C debug-assertions=on -C overflow-checks=off -C metadata=a195cddf011732a2 -C extra-filename=-a195cddf011732a2 --out-dir /home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps --target x86_64-unknown-linux-gnu -C incremental=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/incremental -L dependency=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps -L dependency=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/release/deps --extern bitflags=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/libbitflags-ab4540b7cc741e02.rmeta --extern byteorder=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/libbyteorder-93003aca6add2f8e.rmeta --extern chalk_ir=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/libchalk_ir-d1166108da02c96f.rmeta --extern measureme=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/libmeasureme-ff519ea62ff4c70f.rmeta --extern polonius_engine=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/libpolonius_engine-3f7131b5e3f431f9.rmeta --extern rustc_rayon_core=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_rayon_core-0714c58cfc248bef.rmeta --extern rustc_apfloat=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_apfloat-bde5fd2da97582fd.rmeta --extern rustc_arena=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_arena-6032cb5bbeba3e0d.rmeta --extern rustc_ast=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_ast-41009c19c3211d36.rmeta --extern rustc_attr=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_attr-ef7e6047e98bd67a.rmeta --extern rustc_data_structures=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_data_structures-45491b57042e4e98.rmeta --extern rustc_errors=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_errors-cbca06d6ccb8764b.rmeta --extern rustc_feature=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_feature-4c945d2c401328e9.rmeta --extern rustc_hir=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_hir-2b99a464cad31b34.rmeta --extern rustc_index=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_index-f18fed6fabc6b137.rmeta --extern rustc_macros=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/release/deps/librustc_macros-ea7d14b66fd168f0.so --extern rustc_query_system=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_query_system-f561a061369b2405.rmeta --extern rustc_serialize=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_serialize-540d443fb85c9126.rmeta --extern rustc_session=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_session-6eddfacea9f9199c.rmeta --extern rustc_span=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_span-1df6fd77a2e9660a.rmeta --extern rustc_target=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/librustc_target-ccb1af77c1aabe17.rmeta --extern smallvec=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/libsmallvec-50edd1bb33a94914.rmeta --extern tracing=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/deps/libtracing-82220f79a1b3ade5.rmeta --cfg=bootstrap -Zmacro-backtrace &#39;-Clink-args=-Wl,-rpath,$ORIGIN/../lib&#39; -Zunstable-options &#39;-Wrustc::internal&#39; -Cprefer-dynamic -Cllvm-args=-import-instr-limit=10 -Zbinary-dep-depinfo -L native=/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0-rustc/x86_64-unknown-linux-gnu/release/build/psm-2e1f372c03b61950/out` (exit code: 254)
warning: build failed, waiting for other jobs to finish...
error: build failed
command did not execute successfully: &quot;/home/joshua/rust/rust/build/x86_64-unknown-linux-gnu/stage0/bin/cargo&quot; &quot;build&quot; &quot;--target&quot; &quot;x86_64-unknown-linux-gnu&quot; &quot;-Zbinary-dep-depinfo&quot; &quot;-j&quot; &quot;8&quot; &quot;--release&quot; &quot;--features&quot; &quot; llvm&quot; &quot;--manifest-path&quot; &quot;/home/joshua/rust/rust/src/rustc/Cargo.toml&quot; &quot;--message-format&quot; &quot;json-render-diagnostics&quot;
expected success, got: exit code: 101
failed to run: /home/joshua/rust/rust/build/bootstrap/debug/bootstrap build library/std
</code></pre></div>



<a name="207089112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustc%20exited%20with%20signal%209/near/207089112" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustc.20exited.20with.20signal.209.html#207089112">(Aug 16 2020 at 20:49)</a>:</h4>
<p>signal 9 is SIGKILL <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> how much memory do you have? it might have gotten killed by the OOM reaper</p>



<a name="207089160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustc%20exited%20with%20signal%209/near/207089160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustc.20exited.20with.20signal.209.html#207089160">(Aug 16 2020 at 20:50)</a>:</h4>
<p>if so you could work around it by compiling fewer things at once: <code>./x.py build -j1 library/std</code></p>



<a name="207090394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustc%20exited%20with%20signal%209/near/207090394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustc.20exited.20with.20signal.209.html#207090394">(Aug 16 2020 at 21:21)</a>:</h4>
<p>Given that it happened on <code>rustc_middle</code>, yeah, that's very likely the OOM killer. See your kernel log for details.</p>



<a name="207090671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustc%20exited%20with%20signal%209/near/207090671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Ani <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustc.20exited.20with.20signal.209.html#207090671">(Aug 16 2020 at 21:28)</a>:</h4>
<p>I have a total of 8 GB RAM. I closed some applications and ran with <code>-j4</code> and it finished compiling.</p>



<a name="207090763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustc%20exited%20with%20signal%209/near/207090763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustc.20exited.20with.20signal.209.html#207090763">(Aug 16 2020 at 21:31)</a>:</h4>
<p><span class="user-mention" data-user-id="329281">@Joshua Ani</span> That was my experience as well: OOM if I had applications open, just barely finished successfully if I closed everything.</p>



<a name="207090851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustc%20exited%20with%20signal%209/near/207090851" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustc.20exited.20with.20signal.209.html#207090851">(Aug 16 2020 at 21:32)</a>:</h4>
<p>(Also, it depends on what's running at the same time; sometimes it'll fail but get some things built, and the next build will work.)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>