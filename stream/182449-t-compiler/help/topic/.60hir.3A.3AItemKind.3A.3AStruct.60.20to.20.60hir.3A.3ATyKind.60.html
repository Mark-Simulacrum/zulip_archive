<html>
<head><meta charset="utf-8"><title>`hir::ItemKind::Struct` to `hir::TyKind` · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/.60hir.3A.3AItemKind.3A.3AStruct.60.20to.20.60hir.3A.3ATyKind.60.html">`hir::ItemKind::Struct` to `hir::TyKind`</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="238074050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/%60hir%3A%3AItemKind%3A%3AStruct%60%20to%20%60hir%3A%3ATyKind%60/near/238074050" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> José Julián Espina Del Ángel <a href="https://rust-lang.github.io/zulip_archive/stream/182449-t-compiler/help/topic/.60hir.3A.3AItemKind.3A.3AStruct.60.20to.20.60hir.3A.3ATyKind.60.html#238074050">(May 10 2021 at 00:51)</a>:</h4>
<p>Is there a way to transform a <code>hir::ItemKind::Struct</code> into a <code>hir::TyKind</code>?</p>
<p>I'm (trying to) implementing <a href="https://github.com/rust-lang/rust/issues/49804">rust#49804</a>, so I passed <code>_</code> as a name and created <code>AnonymousStruct</code> and <code>AnonymousUnion</code> types in the ast, implemented the parsing, etc.<br>
Now  I need to convert both to a <code>hir::TyKind</code> in <code>lower_ty_direct</code>. My reviewer said that I should use <code>hir::ItemKind::Struct</code> and <code>hir::ItemKind::Union</code> to avoid creating two new types on the hir, but after obtaining the corresponding <code>ItemKind</code>s now I'm stuck on how I should use those to obtain a <code>hir::TyKind</code>. I'd be very grateful if you could give me any clues on how to proceed. </p>
<p>Draft PR:<br>
<a href="https://github.com/rust-lang/rust/pull/84571">https://github.com/rust-lang/rust/pull/84571</a></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>