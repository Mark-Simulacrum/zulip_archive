<html>
<head><meta charset="utf-8"><title>checking obligations without side effects · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/checking.20obligations.20without.20side.20effects.html">checking obligations without side effects</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="254794060"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/checking%20obligations%20without%20side%20effects/near/254794060" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/checking.20obligations.20without.20side.20effects.html#254794060">(Sep 25 2021 at 00:55)</a>:</h4>
<p>Given an <code>InferOk</code> with a vec of obligations, how do I check if they can all be selected in a <code>FnCtxt</code> without side effects?</p>



<a name="254794144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/checking%20obligations%20without%20side%20effects/near/254794144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/checking.20obligations.20without.20side.20effects.html#254794144">(Sep 25 2021 at 00:56)</a>:</h4>
<p>I thought this would be easy, but it doesn't seem to be, so maybe I'm missing something important</p>



<a name="254794233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/checking%20obligations%20without%20side%20effects/near/254794233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/checking.20obligations.20without.20side.20effects.html#254794233">(Sep 25 2021 at 00:58)</a>:</h4>
<p>the context is in diagnostic code, I'm trying to check if a coercion succeeds <em>and</em> does not result in obligations that cannot be satisfied, to make sure a suggestion actually applies</p>



<a name="254794292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/checking%20obligations%20without%20side%20effects/near/254794292" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/checking.20obligations.20without.20side.20effects.html#254794292">(Sep 25 2021 at 00:59)</a>:</h4>
<p>when I try to register obligations within <code>probe</code> I get an assertion failure about a <code>FulfillmentContext</code> not being usable within a snapshot</p>



<a name="254794800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/checking%20obligations%20without%20side%20effects/near/254794800" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/checking.20obligations.20without.20side.20effects.html#254794800">(Sep 25 2021 at 01:06)</a>:</h4>
<p>I could maintain an obligation queue and select them in a loop. it just seems like there should be a utility for this</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>