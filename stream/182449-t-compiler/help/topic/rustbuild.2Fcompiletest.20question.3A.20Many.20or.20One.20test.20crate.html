<html>
<head><meta charset="utf-8"><title>rustbuild/compiletest question: Many or One test crate · t-compiler/help · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/index.html">t-compiler/help</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html">rustbuild/compiletest question: Many or One test crate</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="272851427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272851427" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272851427">(Feb 22 2022 at 19:04)</a>:</h4>
<p>Is this the right chanel to ask a question about modifying rustbuild/compiletest? If not, where can I ask?</p>



<a name="272851475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272851475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272851475">(Feb 22 2022 at 19:05)</a>:</h4>
<p>Sure, this works!</p>



<a name="272853184"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272853184" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272853184">(Feb 22 2022 at 19:17)</a>:</h4>
<p>We want to replace the current jsonpath based rustdoc-json test harness with one that allows us to write the tests in rust. <br>
<a href="https://github.com/rust-lang/rust/issues/94140">issue</a>. Should this be done so that each test lives in its own crate, so they can be compilled seperatly, or put all the tests in one big crate, and have compiletest call that one crate (probably as a binary, so avoid rebuilding compiletest) with details of which test is being run, and where to find the json</p>



<a name="272857007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272857007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272857007">(Feb 22 2022 at 19:48)</a>:</h4>
<p>If each test is going to just depend on the one crate (i.e., you don't actually need full-fledged Cargo.toml) then it's probably best to have compiletest manage building the crate and then linking tests to it, similar to how we have auxiliary crates today for UI tests.</p>



<a name="272858950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272858950" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272858950">(Feb 22 2022 at 20:02)</a>:</h4>
<p>The tests will need to have dependencys (serde_json, rustdoc-json-types, and posssibly some common helpers), but these will be the same for each test. I'm not sure if it's possible to have one <code>Cargo.toml</code> with these in, and use it for each test crate</p>



<a name="272859229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272859229" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272859229">(Feb 22 2022 at 20:04)</a>:</h4>
<p>Hm</p>



<a name="272859269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272859269" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272859269">(Feb 22 2022 at 20:04)</a>:</h4>
<p>Generally the main reason to avoid cargo for each test is that it's somewhat heavyweight (project layout, more files, longer compilation times)</p>



<a name="272859338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272859338" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272859338">(Feb 22 2022 at 20:05)</a>:</h4>
<p>we don't currently have an amazing answer I think for this kind of use case</p>



<a name="272859497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272859497" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272859497">(Feb 22 2022 at 20:06)</a>:</h4>
<p>My sense is that you should try to frame this as a set of integration tests for rustdoc rather than through compiletest (basically using libtest standard interfaces, dev-deps, etc)</p>



<a name="272859610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272859610" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272859610">(Feb 22 2022 at 20:07)</a>:</h4>
<p>Well, I guess, you can't <em>quite</em> do it that directly -- you need rustdoc copied by bootstrap -- but a separate crate (src/test/rustdoc-json/Cargo.toml) that has the helper as the lib and either one test file or lots of separate test files seems right to me</p>



<a name="272859681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272859681" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272859681">(Feb 22 2022 at 20:08)</a>:</h4>
<p>with regular <code>#[test]</code> style tests, I suspect</p>



<a name="272862683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272862683" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272862683">(Feb 22 2022 at 20:34)</a>:</h4>
<p>So all the test's are <code>#[test]</code> tests in crate that <code>rustbuild</code> run's <code>cargo test</code> on, after ensuring that all the json is in place?</p>



<a name="272862801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272862801" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272862801">(Feb 22 2022 at 20:35)</a>:</h4>
<p>How would passing the json location work? How would you only run one of the tests in <code>./x.py test src/test/rustdoc-json/some_test.rs</code>?</p>



<a name="272863050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272863050" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272863050">(Feb 22 2022 at 20:37)</a>:</h4>
<p>cargo test or cargo run, either way</p>



<a name="272863107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272863107" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272863107">(Feb 22 2022 at 20:38)</a>:</h4>
<p>(depending on how you arrange things)</p>



<a name="272863160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272863160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272863160">(Feb 22 2022 at 20:38)</a>:</h4>
<p>yeah, hooking the JSON up will be a little difficult</p>



<a name="272863204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272863204" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272863204">(Feb 22 2022 at 20:39)</a>:</h4>
<p>do you need multi-file inputs for rustdoc?</p>



<a name="272863236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272863236" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272863236">(Feb 22 2022 at 20:39)</a>:</h4>
<p>If they're all single-file, it may make sense to just have the helper crate handle this</p>



<a name="272864308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272864308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272864308">(Feb 22 2022 at 20:48)</a>:</h4>
<blockquote>
<p>do you need multi-file inputs for rustdoc?</p>
</blockquote>
<p>Yeah, Expecialy to test docmenting across crates.</p>
<p>In the current out of tree draft, I have a function that documents a single file, but I'd like to replace this with compiletest, as it can handle multifile (and a load of other stuff, like editions and flags)</p>



<a name="272864414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272864414" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272864414">(Feb 22 2022 at 20:49)</a>:</h4>
<p>A way to get around this could be to pass info as CLI arguments, but then you don't get <code>#[test]</code>, so you'll end up with a poor imitation</p>



<a name="272864580"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272864580" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272864580">(Feb 22 2022 at 20:50)</a>:</h4>
<p>the main problem is getting the helper crate linked to compiletest-style tests, I suspect</p>



<a name="272864635"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272864635" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272864635">(Feb 22 2022 at 20:51)</a>:</h4>
<p>(particularly if it needs to depend on <a href="http://crates.io">crates.io</a> - serde_json and such)</p>



<a name="272864681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272864681" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272864681">(Feb 22 2022 at 20:51)</a>:</h4>
<p>Yeah, that makes me lean towards one "normal" crate will all the tests in it</p>



<a name="272864768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272864768" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272864768">(Feb 22 2022 at 20:52)</a>:</h4>
<p>and compiletest in general is not really intended for 'dual' tests where you have one file for rustdoc and then actually process the output of that file via custom Rust code (rather than patterns and such)</p>



<a name="272864788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272864788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272864788">(Feb 22 2022 at 20:52)</a>:</h4>
<p>I will note that the <em>general</em> shape this is looking a lot like <a href="https://github.com/rust-lang/rust/issues/40713">https://github.com/rust-lang/rust/issues/40713</a></p>



<a name="272865185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272865185" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272865185">(Feb 22 2022 at 20:56)</a>:</h4>
<p>Oh wow, yeah</p>



<a name="272865255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272865255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272865255">(Feb 22 2022 at 20:56)</a>:</h4>
<p>I guess I'll work on the "one big crate" (or possible 1 support and 1 test) approach, and see how bad it goes</p>



<a name="272865282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/272865282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#272865282">(Feb 22 2022 at 20:56)</a>:</h4>
<p>Thanks so much for your help with this</p>



<a name="275063180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/275063180" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#275063180">(Mar 11 2022 at 23:45)</a>:</h4>
<p>Further question about this: I've started implementing, and have run into a problem. If the test source (asserts) is changed, compiletest will not rerun the test, because it only knows about the test file being documented</p>



<a name="275063319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/275063319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#275063319">(Mar 11 2022 at 23:47)</a>:</h4>
<p>Is their a way to tell compiletest that if the tool it uses has been changed, then it needs to rerun the tests</p>



<a name="275063414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/275063414" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#275063414">(Mar 11 2022 at 23:48)</a>:</h4>
<p>And when doing this, can we know if the rerun has been trigered by the test or tool being out of date, so we dont need to redocument unnessessarily?</p>



<a name="276051583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/276051583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nixon Enraght-Moony <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#276051583">(Mar 21 2022 at 13:40)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> Any ideas on this?</p>



<a name="276051688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/182449-t-compiler/help/topic/rustbuild/compiletest%20question%3A%20Many%20or%20One%20test%20crate/near/276051688" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/182449-t-compiler/help/topic/rustbuild.2Fcompiletest.20question.3A.20Many.20or.20One.20test.20crate.html#276051688">(Mar 21 2022 at 13:41)</a>:</h4>
<p>You can try grepping for stamp in compiletest, there's probably some logic you can add to there</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>