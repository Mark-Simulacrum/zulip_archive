<html>
<head><meta charset="utf-8"><title>thir abstract const error messages · project-const-generics · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/index.html">project-const-generics</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/thir.20abstract.20const.20error.20messages.html">thir abstract const error messages</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="253593037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/thir%20abstract%20const%20error%20messages/near/253593037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/thir.20abstract.20const.20error.20messages.html#253593037">(Sep 16 2021 at 14:41)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/blob/2b5ddf36fdc784106b3a064d93dd054c32b1f10f/compiler/rustc_trait_selection/src/traits/const_evaluatable.rs#L403-L426">https://github.com/rust-lang/rust/blob/2b5ddf36fdc784106b3a064d93dd054c32b1f10f/compiler/rustc_trait_selection/src/traits/const_evaluatable.rs#L403-L426</a></p>



<a name="253593176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/thir%20abstract%20const%20error%20messages/near/253593176" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/thir.20abstract.20const.20error.20messages.html#253593176">(Sep 16 2021 at 14:42)</a>:</h4>
<p>we currently emit the generic and fairly unhelpful message "unsupported operation in generic constant" when encountering an unsupported expression while building <code>AbstractConst</code>s</p>



<a name="253593304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/thir%20abstract%20const%20error%20messages/near/253593304" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/thir.20abstract.20const.20error.20messages.html#253593304">(Sep 16 2021 at 14:43)</a>:</h4>
<p>ideally we have individual error messages for most expr kinds</p>



<a name="253593480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/thir%20abstract%20const%20error%20messages/near/253593480" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/thir.20abstract.20const.20error.20messages.html#253593480">(Sep 16 2021 at 14:44)</a>:</h4>
<p>e.g. "control flow is not supported in generic constants" or something like that</p>



<a name="253593872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/thir%20abstract%20const%20error%20messages/near/253593872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/thir.20abstract.20const.20error.20messages.html#253593872">(Sep 16 2021 at 14:47)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3805">@project-const-generics</span> is someone interested in improving these errors? Either by just splitting the match arm into different ones with more specific error messages or by more deeply modifying the way we emit errors here. In case you have any questions about why we error for certain expr kinds or on how to implement your ideas here, feel free to ask me about that.</p>



<a name="255105463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/thir%20abstract%20const%20error%20messages/near/255105463" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jknodt <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/thir.20abstract.20const.20error.20messages.html#255105463">(Sep 27 2021 at 19:24)</a>:</h4>
<p>Is there error still present or was it resolved? I've been AWOL for a bit</p>



<a name="255105687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/thir%20abstract%20const%20error%20messages/near/255105687" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/thir.20abstract.20const.20error.20messages.html#255105687">(Sep 27 2021 at 19:25)</a>:</h4>
<p>the <code>const_evaluatable.rs</code> file doesnt seem to ahve been changed since we started using THIR so i dont think anyone has improved error messages</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>