<html>
<head><meta charset="utf-8"><title>meeting 2021-03-09 · project-const-generics · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/index.html">project-const-generics</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html">meeting 2021-03-09</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="229477458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229477458" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229477458">(Mar 09 2021 at 13:38)</a>:</h4>
<p>hi <span class="user-group-mention" data-user-group-id="3805">@project-const-generics</span> we have a meeting in slightly more than 2 hours</p>



<a name="229477572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229477572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229477572">(Mar 09 2021 at 13:39)</a>:</h4>
<p>i didn't spend much time on rust the last week, so it makes probably sense to talk about <code>WithOptConstParam</code> for a bit</p>



<a name="229477621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229477621" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229477621">(Mar 09 2021 at 13:40)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> want to also quickly talk about <a href="https://github.com/rust-lang/rust/pull/81309#issuecomment-793639346">https://github.com/rust-lang/rust/pull/81309#issuecomment-793639346</a>?</p>



<a name="229497224"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229497224" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229497224">(Mar 09 2021 at 15:46)</a>:</h4>
<p>hey ho <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="229497238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229497238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229497238">(Mar 09 2021 at 15:46)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="229497614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229497614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229497614">(Mar 09 2021 at 15:49)</a>:</h4>
<p>I myself don't have a lot to say today</p>



<a name="229497687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229497687" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229497687">(Mar 09 2021 at 15:49)</a>:</h4>
<p>slowly working on the unused substs stuff</p>



<a name="229497779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229497779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229497779">(Mar 09 2021 at 15:50)</a>:</h4>
<p>one question here, if <span class="user-mention" data-user-id="116009">@nikomatsakis</span> isn't there yet</p>



<a name="229497906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229497906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229497906">(Mar 09 2021 at 15:51)</a>:</h4>
<p>as said in <a href="#narrow/stream/260443-project-const-generics/topic/HIR-.3EAbstractConst/near/229275105">https://rust-lang.zulipchat.com/#narrow/stream/260443-project-const-generics/topic/HIR-.3EAbstractConst/near/229275105</a> i want to add a <code>raw_explicit_predicates_of</code> query which we can use to get all the predicates for our anon const</p>



<a name="229497949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229497949" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229497949">(Mar 09 2021 at 15:51)</a>:</h4>
<p>except that we don't yet try to build the substs for any constants inside of these predicates</p>



<a name="229497981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229497981" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229497981">(Mar 09 2021 at 15:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="216206">lcnr</span> <a href="#narrow/stream/260443-project-const-generics/topic/meeting.202021-03-09/near/229497906">said</a>:</p>
<blockquote>
<p>as said in <a href="#narrow/stream/260443-project-const-generics/topic/HIR-.3EAbstractConst/near/229275105">https://rust-lang.zulipchat.com/#narrow/stream/260443-project-const-generics/topic/HIR-.3EAbstractConst/near/229275105</a> i want to add a <code>raw_explicit_predicates_of</code> query which we can use to get all the predicates for our anon const</p>
</blockquote>
<p>are these predicates pre/post filtering?</p>



<a name="229498040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498040">(Mar 09 2021 at 15:52)</a>:</h4>
<p><code>raw_explicit_predicates_of</code> is pre filtering</p>



<a name="229498092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498092" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498092">(Mar 09 2021 at 15:52)</a>:</h4>
<p>so my idea is</p>



<a name="229498098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498098" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498098">(Mar 09 2021 at 15:52)</a>:</h4>
<p>Wave</p>



<a name="229498108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498108" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498108">(Mar 09 2021 at 15:52)</a>:</h4>
<p>Sorry, running a bit slow today</p>



<a name="229498127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498127">(Mar 09 2021 at 15:52)</a>:</h4>
<p>we have <code>raw_explicit_predicates_of</code> of the parent</p>



<a name="229498258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498258">(Mar 09 2021 at 15:53)</a>:</h4>
<p>in <code>explicit_predicates_of</code> for the parent, we just convert the consts to the <code>ConstKind::Unevaluated</code></p>



<a name="229498438"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498438" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498438">(Mar 09 2021 at 15:54)</a>:</h4>
<p>and in <code>explicit_predicates_of</code> for constant we filter predicates and params</p>



<a name="229498484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498484">(Mar 09 2021 at 15:55)</a>:</h4>
<p>(just to be sure, <span class="user-mention" data-user-id="216206">@lcnr</span>, you're talking about the unused substs question here?)</p>



<a name="229498492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498492" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498492">(Mar 09 2021 at 15:55)</a>:</h4>
<p>let me try to catch up</p>



<a name="229498498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498498">(Mar 09 2021 at 15:55)</a>:</h4>
<p>my question is here if someone has an idea on how to do that without adding something like <code>ConstKind::Raw</code> which we only use in just that query</p>



<a name="229498590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498590">(Mar 09 2021 at 15:55)</a>:</h4>
<p>making <code>ty::Ty</code> and everything else generic seems even worse tbh</p>



<a name="229498829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498829">(Mar 09 2021 at 15:57)</a>:</h4>
<p>I read your comments</p>



<a name="229498887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498887">(Mar 09 2021 at 15:57)</a>:</h4>
<p>but I think i'm going to need to bring a bit of context back in cache</p>



<a name="229498900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498900" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498900">(Mar 09 2021 at 15:57)</a>:</h4>
<p>can you walk me through this a bit more ---</p>



<a name="229498915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498915" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498915">(Mar 09 2021 at 15:57)</a>:</h4>
<p>yeah</p>



<a name="229498943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229498943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229498943">(Mar 09 2021 at 15:57)</a>:</h4>
<p>so we want to filter unused params/predicates</p>



<a name="229499055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499055" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499055">(Mar 09 2021 at 15:58)</a>:</h4>
<p>by looking at the explicitly mentioned params inside of the constant</p>



<a name="229499089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499089">(Mar 09 2021 at 15:58)</a>:</h4>
<p>right</p>



<a name="229499102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499102" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499102">(Mar 09 2021 at 15:58)</a>:</h4>
<p>but wait</p>



<a name="229499166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499166" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499166">(Mar 09 2021 at 15:59)</a>:</h4>
<p>so the query in question is something like <code>predicates_of(C)</code> where <code>C</code> is the def-id of some constant</p>



<a name="229499171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499171" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499171">(Mar 09 2021 at 15:59)</a>:</h4>
<p>right?</p>



<a name="229499187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499187">(Mar 09 2021 at 15:59)</a>:</h4>
<p>er, some <em>anonymous</em> constant?</p>



<a name="229499196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499196" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499196">(Mar 09 2021 at 15:59)</a>:</h4>
<p>and then building the transitive closure based on params used in the same predicate</p>



<a name="229499263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499263" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499263">(Mar 09 2021 at 15:59)</a>:</h4>
<p>yeah</p>



<a name="229499270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499270" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499270">(Mar 09 2021 at 15:59)</a>:</h4>
<p>which in turn invokes <code>explicit_predicates_of</code> and then adds inferred outlives obligations</p>



<a name="229499278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499278">(Mar 09 2021 at 15:59)</a>:</h4>
<p>and maybe a few other edits?</p>



<a name="229499320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499320" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499320">(Mar 09 2021 at 15:59)</a>:</h4>
<p>afaict only inferred outlives obligations and <code>Self: Trait</code> for the trait declaration</p>



<a name="229499543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499543">(Mar 09 2021 at 16:00)</a>:</h4>
<p>which means that we hopefully only need to modify <code>explicit_predicates_of</code> which keeping <code>Self: Trait</code> in mind</p>



<a name="229499677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499677">(Mar 09 2021 at 16:00)</a>:</h4>
<p>instead of modifying <code>predicates_of</code> as well, which would be a slightly more annoying change</p>



<a name="229499878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499878" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499878">(Mar 09 2021 at 16:01)</a>:</h4>
<p>currently, <code>explicit_predicates_of</code> returns <em>exactly the predicates the user wrote</em>, correct?</p>



<a name="229499927"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499927" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499927">(Mar 09 2021 at 16:01)</a>:</h4>
<p>at least, for things like structs, traits, etc</p>



<a name="229499985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229499985" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229499985">(Mar 09 2021 at 16:01)</a>:</h4>
<p>(in the case of anonymous constants, the user obviously hasn't written anything)</p>



<a name="229500018"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500018" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500018">(Mar 09 2021 at 16:01)</a>:</h4>
<p>yes, ignoring <code>ConstEvaluatable</code> predicates which really shouldn't be there</p>



<a name="229500134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500134">(Mar 09 2021 at 16:02)</a>:</h4>
<p>ok, yes, let's ignore those for now :) I haven't made space in my brain for that yet</p>



<a name="229500178"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500178" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500178">(Mar 09 2021 at 16:02)</a>:</h4>
<p>so we can pretend that we do, and change <code>const_evaluatable_checked</code> later, for now ^^</p>



<a name="229500205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500205">(Mar 09 2021 at 16:02)</a>:</h4>
<p>(I mean I get the big picture, I just yet know how I think they should fit into it)</p>



<a name="229500319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500319">(Mar 09 2021 at 16:02)</a>:</h4>
<p>why would changing <code>predicates_of</code> be a more annoying change?</p>



<a name="229500346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500346">(Mar 09 2021 at 16:02)</a>:</h4>
<p>who calls <code>explicit_predicates_of</code> apart from <code>predicates_of</code>?</p>



<a name="229500348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500348" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500348">(Mar 09 2021 at 16:02)</a>:</h4>
<p>does explicit_predicats_of return implied bounds stuff?</p>



<a name="229500364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500364" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500364">(Mar 09 2021 at 16:02)</a>:</h4>
<p>or is that done in predicats_of?</p>



<a name="229500524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500524">(Mar 09 2021 at 16:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/260443-project-const-generics/topic/meeting.202021-03-09/near/229500346">said</a>:</p>
<blockquote>
<p>who calls <code>explicit_predicates_of</code> apart from <code>predicates_of</code>?</p>
</blockquote>
<p>rustdoc and privacy i think</p>



<a name="229500593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500593">(Mar 09 2021 at 16:03)</a>:</h4>
<p>privacy...</p>



<a name="229500600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500600">(Mar 09 2021 at 16:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="326176">Boxy</span> <a href="#narrow/stream/260443-project-const-generics/topic/meeting.202021-03-09/near/229500364">said</a>:</p>
<blockquote>
<p>or is that done in predicats_of?</p>
</blockquote>
<p>implied bounds are in <code>predicates_defined_on</code></p>



<a name="229500607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500607">(Mar 09 2021 at 16:03)</a>:</h4>
<p>...that's curious</p>



<a name="229500724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500724" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500724">(Mar 09 2021 at 16:04)</a>:</h4>
<p>I wouldn't imagine rustdoc invokes them on anonymous constants</p>



<a name="229500732"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500732" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500732">(Mar 09 2021 at 16:04)</a>:</h4>
<p><code>predicates_of</code> calls <code>predicates_defined_on</code> which calls <code>explicit_predicates_of</code></p>



<a name="229500744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229500744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229500744">(Mar 09 2021 at 16:04)</a>:</h4>
<p>rustdoc kind of makes sense</p>



<a name="229501006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229501006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229501006">(Mar 09 2021 at 16:05)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// N.B., we use `explicit_predicates_of` and not `predicates_of`</span>
<span class="w">        </span><span class="c1">// because we don't want to report privacy errors due to where</span>
<span class="w">        </span><span class="c1">// clauses that the compiler inferred. We only want to</span>
<span class="w">        </span><span class="c1">// consider the ones that the user wrote. This is important</span>
<span class="w">        </span><span class="c1">// for the inferred outlives rules; see</span>
<span class="w">        </span><span class="c1">// `src/test/ui/rfc-2093-infer-outlives/privacy.rs`.</span>
</code></pre></div>



<a name="229501075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229501075" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229501075">(Mar 09 2021 at 16:05)</a>:</h4>
<p>for privacy</p>



<a name="229501460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229501460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229501460">(Mar 09 2021 at 16:06)</a>:</h4>
<p>it's also used here <a href="https://github.com/rust-lang/rust/blob/3a5d45f68cadc8fff4fbb557780f92b403b19c19/compiler/rustc_typeck/src/outlives/implicit_infer.rs#L268">https://github.com/rust-lang/rust/blob/3a5d45f68cadc8fff4fbb557780f92b403b19c19/compiler/rustc_typeck/src/outlives/implicit_infer.rs#L268</a>, haven't look into that yet</p>



<a name="229501573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229501573" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229501573">(Mar 09 2021 at 16:07)</a>:</h4>
<p>but i think it shouldn't matter for what i want to do here</p>



<a name="229501664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229501664" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229501664">(Mar 09 2021 at 16:07)</a>:</h4>
<p>ok</p>



<a name="229501694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229501694" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229501694">(Mar 09 2021 at 16:07)</a>:</h4>
<p>yeah none of this seems like it matters</p>



<a name="229501728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229501728" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229501728">(Mar 09 2021 at 16:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/260443-project-const-generics/topic/meeting.202021-03-09/near/229500319">said</a>:</p>
<blockquote>
<p>why would changing <code>predicates_of</code> be a more annoying change?</p>
</blockquote>
<p>because i want to do this by reusing a lot of what's already there</p>



<a name="229501917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229501917" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229501917">(Mar 09 2021 at 16:08)</a>:</h4>
<p>by splitting the query into two versions, one which is used to get the unused substs and one which uses them</p>



<a name="229502002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502002" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502002">(Mar 09 2021 at 16:08)</a>:</h4>
<p>I'm loading up the code a bit</p>



<a name="229502065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502065" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502065">(Mar 09 2021 at 16:08)</a>:</h4>
<p>and i don't want to have too many additional <code>raw_...</code> queries for this</p>



<a name="229502106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502106" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502106">(Mar 09 2021 at 16:09)</a>:</h4>
<p>do we have notes from the meeting where we talked about this before =)</p>



<a name="229502152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502152">(Mar 09 2021 at 16:09)</a>:</h4>
<p>yeah, I don't love "raw explicit", "explicit", etc</p>



<a name="229502168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502168" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502168">(Mar 09 2021 at 16:09)</a>:</h4>
<p>not very clear what this is about</p>



<a name="229502184"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502184" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502184">(Mar 09 2021 at 16:09)</a>:</h4>
<p>partly this might be a matter of naming</p>



<a name="229502242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502242" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502242">(Mar 09 2021 at 16:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/260443-project-const-generics/topic/meeting.202021-03-09/near/229502106">said</a>:</p>
<blockquote>
<p>do we have notes from the meeting where we talked about this before =)</p>
</blockquote>
<p><a href="https://github.com/rust-lang/project-const-generics/blob/master/meetings/2021.02.16-lazy-norm.md">https://github.com/rust-lang/project-const-generics/blob/master/meetings/2021.02.16-lazy-norm.md</a></p>



<a name="229502325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502325" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502325">(Mar 09 2021 at 16:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/260443-project-const-generics/topic/meeting.202021-03-09/near/229502184">said</a>:</p>
<blockquote>
<p>partly this might be a matter of naming</p>
</blockquote>
<p><code>explicit_predicates_of_with_unsubsts_consts</code>?</p>



<a name="229502478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502478">(Mar 09 2021 at 16:10)</a>:</h4>
<blockquote>
<ul>
<li>have to do all of this without looking at the parents <code>predicates_of</code> because that may contain our constant.</li>
</ul>
</blockquote>



<a name="229502563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502563">(Mar 09 2021 at 16:10)</a>:</h4>
<p>this is part of the concern, I guess?</p>



<a name="229502581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502581" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502581">(Mar 09 2021 at 16:10)</a>:</h4>
<p>yeah, that's the reason for the split</p>



<a name="229502593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502593">(Mar 09 2021 at 16:10)</a>:</h4>
<p>i.e., if you are in <code>explicit_predicates_of(AC)</code> for some anonymous constant <code>AC</code></p>



<a name="229502636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502636" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502636">(Mar 09 2021 at 16:11)</a>:</h4>
<p>you can't invoke <code>explicit_predicates_of(parent(AC))</code> and apply filtering</p>



<a name="229502691"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502691" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502691">(Mar 09 2021 at 16:11)</a>:</h4>
<p>this seems wrong though :)</p>



<a name="229502715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502715">(Mar 09 2021 at 16:11)</a>:</h4>
<p>(if <code>AC</code> is in the where bounds)</p>



<a name="229502731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502731">(Mar 09 2021 at 16:11)</a>:</h4>
<p>right but</p>



<a name="229502856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502856">(Mar 09 2021 at 16:12)</a>:</h4>
<p><code>explicit_predicates_of</code> should be able to create a reference to <code>AC</code> without asking for its predicates, right? what am I missing?</p>



<a name="229502909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502909">(Mar 09 2021 at 16:12)</a>:</h4>
<p><code>explicit_predicates_of</code> creates a <code>ConstKind::Unevaluated</code> for <code>AC</code></p>



<a name="229502941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229502941" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229502941">(Mar 09 2021 at 16:12)</a>:</h4>
<p>which contains the <code>substs</code> for <code>AC</code></p>



<a name="229503019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503019" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503019">(Mar 09 2021 at 16:13)</a>:</h4>
<p>which depend on the filtering, which depends on the predicates in scope</p>



<a name="229503154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503154" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503154">(Mar 09 2021 at 16:13)</a>:</h4>
<p>hmm =)</p>



<a name="229503162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503162" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503162">(Mar 09 2021 at 16:14)</a>:</h4>
<p>ok</p>



<a name="229503296"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503296" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503296">(Mar 09 2021 at 16:14)</a>:</h4>
<p>I'm wondering if there is some other way to make those substs lazy</p>



<a name="229503323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503323" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503323">(Mar 09 2021 at 16:14)</a>:</h4>
<p>and if that's better or worse</p>



<a name="229503359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503359" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503359">(Mar 09 2021 at 16:14)</a>:</h4>
<p>it's a kind of minor-ish point I guess</p>



<a name="229503457"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503457" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503457">(Mar 09 2021 at 16:14)</a>:</h4>
<p>ok, so let's assume you add this <code>explicit_predicates_of_with_unsubsts_consts</code> (not the best name, but ok)</p>



<a name="229503651"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503651" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503651">(Mar 09 2021 at 16:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/260443-project-const-generics/topic/meeting.202021-03-09/near/229503296">said</a>:</p>
<blockquote>
<p>I'm wondering if there is some other way to make those substs lazy</p>
</blockquote>
<p>specifically I was condering about something like having <code>ConstKind::Unevaluated</code> have a <code>None</code> for substs</p>



<a name="229503680"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503680" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503680">(Mar 09 2021 at 16:15)</a>:</h4>
<p>to mean like "identity substs"</p>



<a name="229503708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503708" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503708">(Mar 09 2021 at 16:15)</a>:</h4>
<p>and then having another query to figure that out</p>



<a name="229503783"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503783" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503783">(Mar 09 2021 at 16:15)</a>:</h4>
<p>maybe <code>ConstKind::Identity(AC)</code></p>



<a name="229503897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503897">(Mar 09 2021 at 16:16)</a>:</h4>
<p>yeah, that was my idea ^^</p>



<a name="229503911"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503911" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503911">(Mar 09 2021 at 16:16)</a>:</h4>
<p>oh</p>



<a name="229503924"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503924" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503924">(Mar 09 2021 at 16:16)</a>:</h4>
<p>good idea :P</p>



<a name="229503939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503939" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503939">(Mar 09 2021 at 16:16)</a>:</h4>
<p><span aria-label="sparkles" class="emoji emoji-2728" role="img" title="sparkles">:sparkles:</span></p>



<a name="229503948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503948">(Mar 09 2021 at 16:16)</a>:</h4>
<p>to be clear though</p>



<a name="229503971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503971">(Mar 09 2021 at 16:16)</a>:</h4>
<p>then I think we don't need this <code>raw_explicit_predicates_of</code> or whatever</p>



<a name="229503992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229503992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229503992">(Mar 09 2021 at 16:16)</a>:</h4>
<p>we just have <code>explicit_predicates_of</code> generate <code>ConstKind::Identity</code></p>



<a name="229504037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504037">(Mar 09 2021 at 16:17)</a>:</h4>
<p>and we have other bits of code that consumes constants have some kind of helper function that will convert that into <code>ConstKind::Unevaluated</code></p>



<a name="229504065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504065" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504065">(Mar 09 2021 at 16:17)</a>:</h4>
<p>so we move the conversion lazily to where the substs are needed?</p>



<a name="229504073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504073">(Mar 09 2021 at 16:17)</a>:</h4>
<p>by doing some auxiliary query <code>const_identity_substs(AC)</code></p>



<a name="229504079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504079" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504079">(Mar 09 2021 at 16:17)</a>:</h4>
<p>is your idea?</p>



<a name="229504088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504088">(Mar 09 2021 at 16:17)</a>:</h4>
<p>yes</p>



<a name="229504113"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504113" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504113">(Mar 09 2021 at 16:17)</a>:</h4>
<p>I think I prefer that architecturally</p>



<a name="229504144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504144">(Mar 09 2021 at 16:17)</a>:</h4>
<p>I'm trying to decide why :)</p>



<a name="229504173"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504173" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504173">(Mar 09 2021 at 16:17)</a>:</h4>
<p>ah, yeah. we can move that into <code>TypeFoldable</code> which won't require a lot of changes</p>



<a name="229504189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504189" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504189">(Mar 09 2021 at 16:18)</a>:</h4>
<p>I guess it just seems to put the complexity a bit more at the "right spot"</p>



<a name="229504287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504287" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504287">(Mar 09 2021 at 16:18)</a>:</h4>
<p>possibly, i think it might make it slightly more annoying to deal with those constants elsewhere <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="229504311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504311" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504311">(Mar 09 2021 at 16:18)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> from me for <code>ConstKind::Identity</code></p>



<a name="229504320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504320" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504320">(Mar 09 2021 at 16:18)</a>:</h4>
<p>Yeah that is a bit the question I guess</p>



<a name="229504340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504340" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504340">(Mar 09 2021 at 16:19)</a>:</h4>
<p>I'd probably start by adding the variant and seeing what happens</p>



<a name="229504347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504347">(Mar 09 2021 at 16:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="216206">lcnr</span> <a href="#narrow/stream/260443-project-const-generics/topic/meeting.202021-03-09/near/229504287">said</a>:</p>
<blockquote>
<p>possibly, i think it might make it slightly more annoying to deal with those constants elsewhere <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>
</blockquote>
<p>not really, we already have to deal with <code>ConstKind::Infer</code> and such</p>



<a name="229504371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504371">(Mar 09 2021 at 16:19)</a>:</h4>
<p>hmm, i think using <code>ConstKind::Unevaluated(DefId, Option&lt;Substs&gt;)</code> is probably good</p>



<a name="229504409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504409">(Mar 09 2021 at 16:19)</a>:</h4>
<p>better than splitting it into two variants</p>



<a name="229504424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504424">(Mar 09 2021 at 16:19)</a>:</h4>
<p>no opinion on that</p>



<a name="229504431"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504431" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504431">(Mar 09 2021 at 16:19)</a>:</h4>
<p>but I can imagine</p>



<a name="229504441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504441">(Mar 09 2021 at 16:19)</a>:</h4>
<p>cause that's what these constants are</p>



<a name="229504446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504446">(Mar 09 2021 at 16:19)</a>:</h4>
<p>it seems quite posible that the arm begins with something like</p>



<a name="229504508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504508" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504508">(Mar 09 2021 at 16:20)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">ConstKind</span>::<span class="n">Unevaluated</span><span class="p">(</span><span class="n">def_id</span><span class="p">,</span><span class="w"> </span><span class="n">substs</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">substs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">substs</span><span class="p">.</span><span class="n">unwrap_or</span><span class="p">(</span><span class="n">tcx</span><span class="p">.</span><span class="n">identity_substs</span><span class="p">(</span><span class="n">def_id</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="229504601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504601" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504601">(Mar 09 2021 at 16:20)</a>:</h4>
<p>which seems <em>fairly</em> painless</p>



<a name="229504609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504609" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504609">(Mar 09 2021 at 16:20)</a>:</h4>
<p>maybe first refactor the 3 <code>Unevaluated</code> fields into a custom struct so you can hide that complexity?</p>



<a name="229504611"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504611" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504611">(Mar 09 2021 at 16:20)</a>:</h4>
<p>[won't be identity substs cause binders i think]</p>



<a name="229504673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504673">(Mar 09 2021 at 16:20)</a>:</h4>
<p>I don't understand what you mean about binders</p>



<a name="229504685"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504685" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504685">(Mar 09 2021 at 16:20)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/79313">#79313</a></p>



<a name="229504705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504705" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504705">(Mar 09 2021 at 16:20)</a>:</h4>
<p>but I was pondering how this interacts with higher-ranked things</p>



<a name="229504738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504738">(Mar 09 2021 at 16:21)</a>:</h4>
<p>in the back of my mind</p>



<a name="229504780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504780">(Mar 09 2021 at 16:21)</a>:</h4>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">struct</span> <span class="nc">Foo</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">for</span><span class="o">&lt;'</span><span class="na">a</span><span class="o">&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">T</span><span class="p">;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="n">_</span>: <span class="kp">&amp;</span><span class="o">'</span><span class="na">a</span> <span class="p">();</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">}]</span>: <span class="nb">Sized</span><span class="p">;</span><span class="w"></span>
</code></pre></div>



<a name="229504906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504906">(Mar 09 2021 at 16:22)</a>:</h4>
<p>i think inside of the anon const we want to use <code>'a</code> just like another parameter</p>



<a name="229504992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229504992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229504992">(Mar 09 2021 at 16:22)</a>:</h4>
<p>f</p>



<a name="229505023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505023" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505023">(Mar 09 2021 at 16:22)</a>:</h4>
<p>I think that's right</p>



<a name="229505031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505031">(Mar 09 2021 at 16:22)</a>:</h4>
<p>how does this work with type flags :(</p>



<a name="229505041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505041" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505041">(Mar 09 2021 at 16:22)</a>:</h4>
<p>that said</p>



<a name="229505102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505102" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505102">(Mar 09 2021 at 16:22)</a>:</h4>
<p>hmm, probably have to add some additional info into the <code>None</code> case</p>



<a name="229505205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505205">(Mar 09 2021 at 16:23)</a>:</h4>
<p>well, those higher-ranked things don't usually show up in substs</p>



<a name="229505299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505299" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505299">(Mar 09 2021 at 16:23)</a>:</h4>
<p>I'm thinking now about the refactoring that <span class="user-mention" data-user-id="232957">@Jack Huey</span> has been doing; there's a bit of debt there, i'd like to see early- and late-bond things more unified</p>



<a name="229505393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505393">(Mar 09 2021 at 16:24)</a>:</h4>
<p>and yeah uh type flags i don't know :)</p>



<a name="229505430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505430">(Mar 09 2021 at 16:24)</a>:</h4>
<p>I guess we could plausibly be "conservative" but that may not work out so well in practice</p>



<a name="229505470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505470">(Mar 09 2021 at 16:24)</a>:</h4>
<p>I don't really see how you can know the right thing to put there</p>



<a name="229505519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505519" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505519">(Mar 09 2021 at 16:25)</a>:</h4>
<p>/me gets mentioned, scrolls back to catch up</p>



<a name="229505520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505520">(Mar 09 2021 at 16:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/260443-project-const-generics/topic/meeting.202021-03-09/near/229505470">said</a>:</p>
<blockquote>
<p>I don't really see how you can know the right thing to put there</p>
</blockquote>
<p>oh, that's right</p>



<a name="229505614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505614">(Mar 09 2021 at 16:25)</a>:</h4>
<p>this applies also to the <code>raw_predicates_of</code> varaint --</p>



<a name="229505644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505644" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505644">(Mar 09 2021 at 16:25)</a>:</h4>
<p>we're just supplying invalid substs there, basically</p>



<a name="229505669"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505669" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505669">(Mar 09 2021 at 16:25)</a>:</h4>
<p>we kind of sidestep the problem by introducing 'wrong' types, right?</p>



<a name="229505693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505693" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505693">(Mar 09 2021 at 16:25)</a>:</h4>
<p>whereas in this version, we never have wrong types</p>



<a name="229505715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505715">(Mar 09 2021 at 16:25)</a>:</h4>
<p>but we do have to deal with the fact that we don't know all the info all the time</p>



<a name="229505795"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505795" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505795">(Mar 09 2021 at 16:26)</a>:</h4>
<p>yeah, inside of <code>raw_predicates_of</code> the type flags would be incorrect</p>



<a name="229505882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505882">(Mar 09 2021 at 16:26)</a>:</h4>
<p>/me thinks</p>



<a name="229505917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505917" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505917">(Mar 09 2021 at 16:26)</a>:</h4>
<p>i think that's fine <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> i expect that we don't need them there</p>



<a name="229505971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505971">(Mar 09 2021 at 16:27)</a>:</h4>
<p>though i don't know if there's a good way to prevent us from accidentially relying on them</p>



<a name="229505993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229505993" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229505993">(Mar 09 2021 at 16:27)</a>:</h4>
<p>without tanking perf</p>



<a name="229506052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229506052" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229506052">(Mar 09 2021 at 16:27)</a>:</h4>
<p>it's not so much that the <em>flags</em> are incorrect</p>



<a name="229506075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229506075" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229506075">(Mar 09 2021 at 16:27)</a>:</h4>
<p>as that the <em>types</em> are incorrect</p>



<a name="229506185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229506185" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229506185">(Mar 09 2021 at 16:28)</a>:</h4>
<p>I feel like a "more honest" variant would be to have <code>ConstKind::Partial(DefId)</code></p>



<a name="229506233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229506233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229506233">(Mar 09 2021 at 16:28)</a>:</h4>
<p>and most bits of code assert that they never see it</p>



<a name="229506283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229506283" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229506283">(Mar 09 2021 at 16:28)</a>:</h4>
<p>I think I know why I'm skeptical of this, it just seems very invasive to astconv</p>



<a name="229506408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229506408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229506408">(Mar 09 2021 at 16:29)</a>:</h4>
<p>I guess it might be something we could implement by having a method on the <code>AstConv</code> trait</p>



<a name="229506489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229506489" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229506489">(Mar 09 2021 at 16:29)</a>:</h4>
<p>e.g., <code>fn const_identity_substs(&amp;self, def_id: DefId) -&gt; ConstKind</code> that just returns <code>ConstKind::NoSubsts(def_id)</code> or something</p>



<a name="229506683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229506683" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229506683">(Mar 09 2021 at 16:30)</a>:</h4>
<p>OK, well, the type flags thing feels like a real concern. I think I'm ok with this latest variant. =) I don't love having constants that just have the wrong substs floating around without an easy way to identify them when they 'leak'</p>



<a name="229506888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229506888" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229506888">(Mar 09 2021 at 16:31)</a>:</h4>
<p>yeah</p>



<a name="229506966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229506966" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229506966">(Mar 09 2021 at 16:32)</a>:</h4>
<p>like, we could add a type flag fro when there's a partial const</p>



<a name="229506997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229506997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229506997">(Mar 09 2021 at 16:32)</a>:</h4>
<p>and just check that before ever looking at the type flags</p>



<a name="229507029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507029" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507029">(Mar 09 2021 at 16:32)</a>:</h4>
<p>yeah I thoght about that</p>



<a name="229507077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507077" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507077">(Mar 09 2021 at 16:32)</a>:</h4>
<p>i just fear that this simple branch messes up perf</p>



<a name="229507217"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507217" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507217">(Mar 09 2021 at 16:33)</a>:</h4>
<p>plausible</p>



<a name="229507423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507423">(Mar 09 2021 at 16:34)</a>:</h4>
<p>we could also instead of panicking, "disable" the type flags if there are partial consts</p>



<a name="229507462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507462" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507462">(Mar 09 2021 at 16:34)</a>:</h4>
<p>and look into the type instead</p>



<a name="229507511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507511">(Mar 09 2021 at 16:35)</a>:</h4>
<p>yeah so</p>



<a name="229507524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507524">(Mar 09 2021 at 16:35)</a>:</h4>
<p>which means that we can keep your approach which feels better to me</p>



<a name="229507541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507541" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507541">(Mar 09 2021 at 16:35)</a>:</h4>
<p>this is what I meant by having "maximal type flags"</p>



<a name="229507575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507575" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507575">(Mar 09 2021 at 16:35)</a>:</h4>
<p>it may well be that this is fine</p>



<a name="229507607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507607">(Mar 09 2021 at 16:35)</a>:</h4>
<p>and/or this is fine if we include a few simple optimizations</p>



<a name="229507627"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507627" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507627">(Mar 09 2021 at 16:35)</a>:</h4>
<p>e.g., to cover the case of simple constants like <code>22</code></p>



<a name="229507697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507697" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507697">(Mar 09 2021 at 16:36)</a>:</h4>
<p>or other trivial constants</p>



<a name="229507710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507710">(Mar 09 2021 at 16:36)</a>:</h4>
<p>this seems likely true</p>



<a name="229507761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507761">(Mar 09 2021 at 16:36)</a>:</h4>
<p>we already do this for literals</p>



<a name="229507767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507767" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507767">(Mar 09 2021 at 16:36)</a>:</h4>
<p>I'd be happiest with that approach i think, it feels cleanest overall</p>



<a name="229507798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507798" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507798">(Mar 09 2021 at 16:36)</a>:</h4>
<p>I still prefer not to have two versions of the predicates I think</p>



<a name="229507918"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507918" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507918">(Mar 09 2021 at 16:37)</a>:</h4>
<p>8 mins to talk about <code>WithOptConstParam</code>?</p>



<a name="229507963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229507963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229507963">(Mar 09 2021 at 16:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="216206">lcnr</span> <a href="#narrow/stream/260443-project-const-generics/topic/meeting.202021-03-09/near/229477621">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> want to also quickly talk about <a href="https://github.com/rust-lang/rust/pull/81309#issuecomment-793639346">https://github.com/rust-lang/rust/pull/81309#issuecomment-793639346</a>?</p>
</blockquote>
<p>or this</p>



<a name="229508114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229508114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229508114">(Mar 09 2021 at 16:38)</a>:</h4>
<p>or just end early <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span> tbh i think both of these take longer than we have here</p>



<a name="229508542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229508542" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229508542">(Mar 09 2021 at 16:41)</a>:</h4>
<p>yeah, let's end it</p>
<p>the idea with making the identity substs optional seems really good and wasn't something i thought of myself, so <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="229508690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229508690" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229508690">(Mar 09 2021 at 16:42)</a>:</h4>
<p>sorry, was afk for second :)</p>



<a name="229508732"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229508732" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229508732">(Mar 09 2021 at 16:42)</a>:</h4>
<p>I agree with ending it</p>



<a name="229508748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229508748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229508748">(Mar 09 2021 at 16:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="216206">lcnr</span> <a href="#narrow/stream/260443-project-const-generics/topic/meeting.202021-03-09/near/229497614">said</a>:</p>
<blockquote>
<p>I myself don't have a lot to say today</p>
</blockquote>
<p>sidenote: i am really good at estimating the complexity of what i am going to talk about</p>



<a name="229508776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229508776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229508776">(Mar 09 2021 at 16:42)</a>:</h4>
<p>lol</p>



<a name="229508872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/meeting%202021-03-09/near/229508872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/meeting.202021-03-09.html#229508872">(Mar 09 2021 at 16:42)</a>:</h4>
<p>was thinking the unused substs discussion would take like 10-15 minutes <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>