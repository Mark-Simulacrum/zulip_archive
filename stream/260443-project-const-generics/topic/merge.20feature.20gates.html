<html>
<head><meta charset="utf-8"><title>merge feature gates · project-const-generics · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/index.html">project-const-generics</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/merge.20feature.20gates.html">merge feature gates</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="249841829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/merge%20feature%20gates/near/249841829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/merge.20feature.20gates.html#249841829">(Aug 18 2021 at 12:34)</a>:</h4>
<p>right now we have <code>feature(const_generics)</code>, <code>feature(lazy_normalization_consts)</code>, and <code>feature(const_evaluatable_checked)</code>.<br>
The first two are pretty much completely useless without <code>const_evaluatable_checked</code>as they allow generic params in anon consts, but don't allow generic anonymous constants as they aren't considered const evaluatable without the <code>const_evaluatable_checked</code>.</p>



<a name="249841930"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/merge%20feature%20gates/near/249841930" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/merge.20feature.20gates.html#249841930">(Aug 18 2021 at 12:35)</a>:</h4>
<p><code>const_generics</code> does allow a few more const parameter types and (i think) removes the parameter ordering restriction, so it isn't completely useless on its own</p>



<a name="249842095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/merge%20feature%20gates/near/249842095" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/merge.20feature.20gates.html#249842095">(Aug 18 2021 at 12:37)</a>:</h4>
<p>i think that it's probably good to merge all three of them into just <code>const_generics</code> and then split the more complex const param types into a separate feature for stabilization once the valtree pr landed.</p>



<a name="249842344"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/merge%20feature%20gates/near/249842344" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/merge.20feature.20gates.html#249842344">(Aug 18 2021 at 12:39)</a>:</h4>
<p>though, <code>const_evaluatable_checked</code> still ICEs with incremental compilation because of the <code>try_unify_abstract_consts</code> query</p>



<a name="249842413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/merge%20feature%20gates/near/249842413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/merge.20feature.20gates.html#249842413">(Aug 18 2021 at 12:40)</a>:</h4>
<p>which seems to be undesirable if someone only wants some potentially broken param types</p>



<a name="250029588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/260443-project-const-generics/topic/merge%20feature%20gates/near/250029588" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Boxy [she/her] <a href="https://zulip-archive.rust-lang.org/stream/260443-project-const-generics/topic/merge.20feature.20gates.html#250029588">(Aug 19 2021 at 18:45)</a>:</h4>
<p>i like the idea of splitting out the more param types to a separate feature gate: <code>non_scalar_const_generics</code><br>
and <code>const_generics</code>/<code>lazy_normalization_consts</code>/<code>const_evaluatable_checked</code> -&gt; <code>complex_generic_consts</code> or whatever<br>
for "removes the ordering restriction" part of <code>const_generics</code> maybe we ought to remove that and just have people use <code>const_generics_defaults</code> (and maybe try stabilise that soon :P)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>