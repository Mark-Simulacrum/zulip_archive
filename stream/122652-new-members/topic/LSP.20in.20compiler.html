<html>
<head><meta charset="utf-8"><title>LSP in compiler · new members · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/LSP.20in.20compiler.html">LSP in compiler</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="267307988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/LSP%20in%20compiler/near/267307988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elijah Mirecki <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/LSP.20in.20compiler.html#267307988">(Jan 08 2022 at 18:11)</a>:</h4>
<p>Hi! I'm just starting to poke around and LSP isn't working in Emacs (no autocomplete or goto defenition). Is there anything special to get it to work?</p>



<a name="267308051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/LSP%20in%20compiler/near/267308051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elijah Mirecki <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/LSP.20in.20compiler.html#267308051">(Jan 08 2022 at 18:12)</a>:</h4>
<p>From the dev guide it looks like the build setup is a bit exotic, so I guess LSP needs special configuration</p>



<a name="267309552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/LSP%20in%20compiler/near/267309552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/LSP.20in.20compiler.html#267309552">(Jan 08 2022 at 18:48)</a>:</h4>
<p><a href="https://rustc-dev-guide.rust-lang.org/building/suggested.html#configuring-rust-analyzer-for-rustc">https://rustc-dev-guide.rust-lang.org/building/suggested.html#configuring-rust-analyzer-for-rustc</a> lists the configuration you need for using rust-analyzer on the compiler. You may also need to do <code>rustup override set nightly</code> I think.</p>



<a name="267309750"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/LSP%20in%20compiler/near/267309750" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elijah Mirecki <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/LSP.20in.20compiler.html#267309750">(Jan 08 2022 at 18:53)</a>:</h4>
<p>Doesn't look like this is for autocomplete &amp; friends</p>



<a name="267596218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/LSP%20in%20compiler/near/267596218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/LSP.20in.20compiler.html#267596218">(Jan 11 2022 at 15:19)</a>:</h4>
<p><span class="user-mention" data-user-id="469540">@Elijah Mirecki</span> <code>emacs-lsp</code> + rust-analyzer should work out of the box (iirc). One thing that caught me when I had installed it (long ago...) is that lsp-mode was trying to use the now obsolete <code>rls</code> instead of <code>rust-analyzer</code>and I had to deprioritize <code>rls</code> when looking for an autocompletion tool.<br>
<a href="https://emacs-lsp.github.io/lsp-mode/page/lsp-rust-rls/">https://emacs-lsp.github.io/lsp-mode/page/lsp-rust-rls/</a></p>
<p>Do you see anything strange in the <code>*Messages*</code> or the <code>lsp-log</code>buffers?</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>