<html>
<head><meta charset="utf-8"><title>Help with RRIR bootstrap entrypoint · new members · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint.html">Help with RRIR bootstrap entrypoint</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="275972208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Help%20with%20RRIR%20bootstrap%20entrypoint/near/275972208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint.html#275972208">(Mar 20 2022 at 15:24)</a>:</h4>
<p>Hi all. I am currently working on making <code>x.py</code> unnecessary by moving the functionality from python into the main Rust bootstrap binary (<a href="https://github.com/rust-lang/rust/issues/94829">https://github.com/rust-lang/rust/issues/94829</a>). There are a <em>lot</em> of parts to this and some of the work can be parallelized. The rustup support especially is pretty self-contained and not terribly complicated. If anyone wants to help out, here are some good starting points:</p>
<ul>
<li><a href="https://github.com/rust-lang/rustup/issues/2970">rustup#2970</a>: "Add support for install --profile bare"</li>
<li><a href="https://github.com/rust-lang/rust/pull/94828#issuecomment-1066988061">https://github.com/rust-lang/rust/pull/94828#issuecomment-1066988061</a>: Move fake rustc/rustdoc from separate binaries in the bootstrap package to a single binary that dispatches on the name (like the rustup proxies do)</li>
<li>Investigate a file locking mechanism for rust. There are currently <em>many</em> copies of these but no library crate. If someone wants to publish a cross-platform crate for file locking that would be extremely helpful. See <a href="https://github.com/rust-lang/rust/pull/88310#discussion_r695302393">https://github.com/rust-lang/rust/pull/88310#discussion_r695302393</a> for some existing discussion.</li>
</ul>
<p>I am currently working on rewriting <code>download-llvm</code> into rust, so it doesn't make sense to have multiple people work on it at once. I'll update my status when I finish - it may or may not be easy to have people help me with <code>download-rustc</code>.</p>



<a name="275994788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Help%20with%20RRIR%20bootstrap%20entrypoint/near/275994788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint.html#275994788">(Mar 21 2022 at 00:07)</a>:</h4>
<blockquote>
<p>I am currently working on rewriting download-llvm into rust</p>
</blockquote>
<p>and somehow I managed to run <code>git checkout -f</code> so all my work is gone <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span> but I remember most of what I did so hopefully redoing it won't be too hard</p>



<a name="275999608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Help%20with%20RRIR%20bootstrap%20entrypoint/near/275999608" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nnethercote <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint.html#275999608">(Mar 21 2022 at 02:11)</a>:</h4>
<p>Does <a href="https://ohshitgit.com/">https://ohshitgit.com/</a> help?</p>



<a name="276002205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Help%20with%20RRIR%20bootstrap%20entrypoint/near/276002205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint.html#276002205">(Mar 21 2022 at 03:13)</a>:</h4>
<p>No, unfortunately, I never made a commit with the changes :(</p>



<a name="276028878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Help%20with%20RRIR%20bootstrap%20entrypoint/near/276028878" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mejrs <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint.html#276028878">(Mar 21 2022 at 10:13)</a>:</h4>
<p>Some ide's keep history, maybe yours does?</p>



<a name="276053710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Help%20with%20RRIR%20bootstrap%20entrypoint/near/276053710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint.html#276053710">(Mar 21 2022 at 13:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="433532">mejrs</span> <a href="#narrow/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint/near/276028878">said</a>:</p>
<blockquote>
<p>Some ide's keep history, maybe yours does?</p>
</blockquote>
<p>that did it <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span> there were like 2 files it didn't have the history for but they were really simple changes. Thanks so much!</p>



<a name="276054227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Help%20with%20RRIR%20bootstrap%20entrypoint/near/276054227" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shahar Dawn Or <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint.html#276054227">(Mar 21 2022 at 13:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint/near/276053710">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="433532">mejrs</span> <a href="#narrow/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint/near/276028878">said</a>:</p>
<blockquote>
<p>Some ide's keep history, maybe yours does?</p>
</blockquote>
<p>that did it <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span> there were like 2 files it didn't have the history for but they were really simple changes. Thanks so much!</p>
</blockquote>
<p>So happy to hear.</p>



<a name="276056319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Help%20with%20RRIR%20bootstrap%20entrypoint/near/276056319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint.html#276056319">(Mar 21 2022 at 14:14)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/95170">https://github.com/rust-lang/rust/pull/95170</a></p>



<a name="276141904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Help%20with%20RRIR%20bootstrap%20entrypoint/near/276141904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint.html#276141904">(Mar 22 2022 at 04:09)</a>:</h4>
<p>more ways to help: test out my <code>download-ci-llvm</code> rewrite on platforms besides linux (NixOS, Windows, and Mac are the ones I'm most worried about, in that order): <a href="https://github.com/rust-lang/rust/pull/95170#pullrequestreview-916614609">https://github.com/rust-lang/rust/pull/95170#pullrequestreview-916614609</a></p>



<a name="276178351"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Help%20with%20RRIR%20bootstrap%20entrypoint/near/276178351" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Walther <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint.html#276178351">(Mar 22 2022 at 12:06)</a>:</h4>
<p>this sounds like an amazing project - thank you so much! i'll try to see if i can help in any way</p>
<p><em>(the idea is close to my heart, as i've been very frustrated by x.py not working out of the box on pretty much any of my machines. i recently tried to rekindle the possibility of updating the shebang, long thread <a href="#narrow/stream/122651-general/topic/x.2Epy.20and.20.2Fusr.2Fbin.2Fenv.20python/near/275514348">https://rust-lang.zulipchat.com/#narrow/stream/122651-general/topic/x.2Epy.20and.20.2Fusr.2Fbin.2Fenv.20python/near/275514348</a> and <a href="https://github.com/rust-lang/rust/issues/71818#issuecomment-1069175579">https://github.com/rust-lang/rust/issues/71818#issuecomment-1069175579</a> )</em></p>



<a name="276184705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Help%20with%20RRIR%20bootstrap%20entrypoint/near/276184705" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shahar Dawn Or <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint.html#276184705">(Mar 22 2022 at 13:03)</a>:</h4>
<p>Isn't it RIIR?</p>



<a name="278417673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Help%20with%20RRIR%20bootstrap%20entrypoint/near/278417673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Help.20with.20RRIR.20bootstrap.20entrypoint.html#278417673">(Apr 09 2022 at 16:21)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/95854">https://github.com/rust-lang/rust/issues/95854</a> is another good issue that is parallelizable and not a giant amount of work. Probably it will be slightly tricky to reuse code from <code>bootstrap/lib.rs</code> just because it's not designed for it, but should be ok with not terribly much refactoring.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>