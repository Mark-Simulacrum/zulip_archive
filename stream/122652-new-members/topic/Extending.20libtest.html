<html>
<head><meta charset="utf-8"><title>Extending libtest · new members · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/index.html">new members</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Extending.20libtest.html">Extending libtest</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="275266919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Extending%20libtest/near/275266919" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thijs <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Extending.20libtest.html#275266919">(Mar 14 2022 at 17:01)</a>:</h4>
<p>Hey! I'm Thijs and I'm working on a project for which I need to add <code>setup()</code> and <code>teardown()</code> functions to each function that is annotated with <code>#[test]</code>. What would be a good way to tackle this problem? To minimalize the amount of modifications that end-users would do, I tought of building upon <code>libtest</code> somehow and creating a custom <code>cargo</code> command that enables these setup and teardown functions automatically, but I haven't been able to find documentation on how to interact with <code>libtest</code> in this way.<br>
Can anybody provide me with some pointers in the right direction? Thank you!</p>



<a name="275267054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Extending%20libtest/near/275267054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Extending.20libtest.html#275267054">(Mar 14 2022 at 17:02)</a>:</h4>
<p><code>#[test]</code> is implemented in the compiler, not libtest.</p>



<a name="275275829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Extending%20libtest/near/275275829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Extending.20libtest.html#275275829">(Mar 14 2022 at 18:07)</a>:</h4>
<p>I would suggest looking at using a custom test framework.  You can either use the unstable custom_test_frameworks, or just build your own harness (and set <code>harness=false</code> in Cargo.toml).  I believe there are already several crates on <a href="http://crates.io">crates.io</a> that do this.</p>
<p>I think getting a change like this done with libtest will be a bit of an uphill challenge, not just technically but on a procedural point of view.  I think a big change like this would usually go through the RFC process which can be a bit difficult.  Also, custom_test_frameworks were specifically started to address new features like this.  Unfortunately there isn't anyone really working on it, or libtest in general.</p>



<a name="275280548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Extending%20libtest/near/275280548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thijs <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Extending.20libtest.html#275280548">(Mar 14 2022 at 18:42)</a>:</h4>
<p>Thank you Eric! I will look into a custom test framework!</p>



<a name="275300788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/122652-new%20members/topic/Extending%20libtest/near/275300788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adib Hanna <a href="https://zulip-archive.rust-lang.org/stream/122652-new-members/topic/Extending.20libtest.html#275300788">(Mar 14 2022 at 21:28)</a>:</h4>
<p>Not sure if there's a better place to share this, but here's a great list of open source Rust learning material <br>
<a href="https://doc.rust-lang.org/stable/book/">The Rust Programming Language</a></p>
<p><a href="https://doc.rust-lang.org/nomicon/index.html">The Rustonomicon</a></p>
<p><a href="https://doc.rust-lang.org/rust-by-example/">Rust By Example</a></p>
<p><a href="https://rust-unofficial.github.io/too-many-lists/first-layout.html">Learning Rust With Entirely Too Many Linked Lists</a></p>
<p><a href="https://lborb.github.io/book/title-page.html">The Little Book of Rust Books</a></p>
<p><a href="https://rust-lang-nursery.github.io/rust-cookbook/intro.html">Rust Cookbook</a></p>
<p><a href="https://rustwasm.github.io/docs/book/">Rust and WebAssembly</a></p>
<p><a href="https://stevedonovan.github.io/rust-gentle-intro/">A Gentle Introduction to Rust</a></p>
<p><a href="https://learning-rust.github.io/">Learning Rust</a></p>
<p><a href="https://www.chiark.greenend.org.uk/~ianmdlvl/rust-polyglot/index.html">Rust for the Polyglot Programmer</a></p>
<p><a href="https://veykril.github.io/tlborm/">The Little Book of Rust Macros</a></p>
<p><a href="https://cheats.rs/">Rust Language Cheat Sheet</a></p>
<p><a href="https://rust-cli.github.io/book/index.html">Rust CLI Book</a></p>
<p><a href="https://www.arewewebyet.org/">Are we web yet</a></p>
<p><a href="https://fasterthanli.me/articles/a-half-hour-to-learn-rust">A half an hour to learn Rust</a></p>
<p><a href="https://rustc-dev-guide.rust-lang.org/">Guide to RustC Development</a></p>
<p><a href="https://www.lurklurk.org/effective-rust/">Effective Rust</a></p>
<p><a href="https://rust-unofficial.github.io/patterns/intro.html">Rust Design Patterns</a></p>
<p><a href="https://rust-cli.github.io/book/index.html">Command Line Applications In Rust</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>