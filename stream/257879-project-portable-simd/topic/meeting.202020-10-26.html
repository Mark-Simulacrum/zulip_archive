<html>
<head><meta charset="utf-8"><title>meeting 2020-10-26 · project-portable-simd · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/index.html">project-portable-simd</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html">meeting 2020-10-26</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="214619422"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214619422" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214619422">(Oct 26 2020 at 19:07)</a>:</h4>
<p>Soon tee emm. I am currently out and about so I will not be able to do note taking effectively.</p>



<a name="214620107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214620107" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214620107">(Oct 26 2020 at 19:13)</a>:</h4>
<p>I can take notes <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="214625094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214625094" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214625094">(Oct 26 2020 at 19:57)</a>:</h4>
<p>Stubbed out a working doc here: <a href="https://hackmd.io/PYi0ZMVdRF64J0we5Z4Ucw">https://hackmd.io/PYi0ZMVdRF64J0we5Z4Ucw</a></p>



<a name="214625161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214625161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214625161">(Oct 26 2020 at 19:57)</a>:</h4>
<p>Hello everyone! <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="214625471"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214625471" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214625471">(Oct 26 2020 at 20:00)</a>:</h4>
<p>So how's everything tracking do you think <span class="user-mention" data-user-id="281757">@Jubilee</span>?</p>



<a name="214625561"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214625561" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214625561">(Oct 26 2020 at 20:01)</a>:</h4>
<p>It looks like <a href="https://github.com/rust-lang/rust/issues/77866">https://github.com/rust-lang/rust/issues/77866</a> is still blocking us from <code>nightly</code></p>



<a name="214625721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214625721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214625721">(Oct 26 2020 at 20:02)</a>:</h4>
<p>And <a href="https://github.com/rust-lang/stdsimd/issues/40">https://github.com/rust-lang/stdsimd/issues/40</a> might need some concrete path forward too?</p>



<a name="214625778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214625778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214625778">(Oct 26 2020 at 20:03)</a>:</h4>
<p>Yes to both, I believe</p>



<a name="214625805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214625805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214625805">(Oct 26 2020 at 20:03)</a>:</h4>
<p>It's a beautiful day outside.<br>
The birds are singing.<br>
Flowers are blooming.<br>
On a day like this, PLs like you...</p>
<p>are in compiler hell.<br>
Yeah basically.</p>



<a name="214625947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214625947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214625947">(Oct 26 2020 at 20:04)</a>:</h4>
<p>So both are intersections with <code>T-compiler</code>, aren't they?</p>



<a name="214626022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626022">(Oct 26 2020 at 20:05)</a>:</h4>
<p>I think what needs to happen is that someone needs to sit down with bjorn and go over what cranelift's current powers in dealing with simd properties are in a more documented form, so we can narrow down what we need to make happen to make current progress.</p>



<a name="214626032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626032">(Oct 26 2020 at 20:05)</a>:</h4>
<p>Yeah.</p>



<a name="214626048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626048">(Oct 26 2020 at 20:05)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="133247">@bjorn3</span></p>



<a name="214626159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626159" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626159">(Oct 26 2020 at 20:06)</a>:</h4>
<p>Ok, I'll ping them on our issue and let's see what we can hash out?</p>



<a name="214626229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626229" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626229">(Oct 26 2020 at 20:07)</a>:</h4>
<p>Yeah. Nagisa said that adding vectors to MIR wasn't quite what we wanted but sounded not opposed in the long term.</p>



<a name="214626390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626390">(Oct 26 2020 at 20:08)</a>:</h4>
<p>There wasn't a lot of enthusiasm for <code>#[cfg(cranelift)]</code> was there?</p>



<a name="214626392"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626392" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626392">(Oct 26 2020 at 20:08)</a>:</h4>
<p>Basically it seems what we want is there needs to be some code that the codegen crates can pull in and choose how to use.</p>



<a name="214626444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626444">(Oct 26 2020 at 20:08)</a>:</h4>
<p>not really no.</p>



<a name="214626652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626652">(Oct 26 2020 at 20:10)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> reading the previous messages right now.</p>



<a name="214626684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626684" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626684">(Oct 26 2020 at 20:10)</a>:</h4>
<p>also we discovered that we have some intrinsics in stdarch that... are using a rustc API that const eval wants to deprecate.</p>



<a name="214626687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626687" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626687">(Oct 26 2020 at 20:10)</a>:</h4>
<p>So instead of, say, linking to the <code>llvm.floor.v4f64</code> intrinsic directly, we want something like <code>rust.floor.v4f64</code>, which calls the appropriate backend intrinsic?</p>



<a name="214626722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626722" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626722">(Oct 26 2020 at 20:11)</a>:</h4>
<p>I suppose!</p>



<a name="214626780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626780">(Oct 26 2020 at 20:11)</a>:</h4>
<p>Rust has generics, so it doesn't need the vector type in the name.</p>



<a name="214626788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626788">(Oct 26 2020 at 20:11)</a>:</h4>
<p>I think the idea would be more like just <code>simd_floor</code> and allow the compiler to resolve a generic</p>



<a name="214626791"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626791" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626791">(Oct 26 2020 at 20:11)</a>:</h4>
<p>yeah</p>



<a name="214626875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626875">(Oct 26 2020 at 20:12)</a>:</h4>
<p>but yes to the general idea of a rust intrinsic</p>



<a name="214626892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626892">(Oct 26 2020 at 20:12)</a>:</h4>
<p>Gotcha <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="214626963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214626963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214626963">(Oct 26 2020 at 20:13)</a>:</h4>
<p>we are bringing librustc_simd_intrinsics back it's good again awoo</p>



<a name="214627103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627103">(Oct 26 2020 at 20:14)</a>:</h4>
<p>How much of a blocker to a Cranelift backend do we think it would be if they had to implement some simd intrinsics that <code>std::simd</code> needed?</p>



<a name="214627143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627143" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627143">(Oct 26 2020 at 20:14)</a>:</h4>
<p>As far as I can remember that crate was for platform dependent intrinsics, while we are introducing platform independent ones.</p>



<a name="214627227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627227" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627227">(Oct 26 2020 at 20:15)</a>:</h4>
<p>True.</p>
<p>Notably we want to be able to add at least simd_fneg which has infra in LLVM because it does bad codegen on ARM without.</p>



<a name="214627300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627300" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627300">(Oct 26 2020 at 20:15)</a>:</h4>
<p>We had discussed making the backend support opt-in, so the compiler could use pure-rust implementations</p>



<a name="214627301"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627301" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627301">(Oct 26 2020 at 20:15)</a>:</h4>
<p>In the quantity that std::simd needs I think combined with the fact that a shim can be vector type independent I don't think it would be too much effort to implement all necessary intrinsics in cg_clif.</p>



<a name="214627411"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627411" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627411">(Oct 26 2020 at 20:16)</a>:</h4>
<p>Okay, so everything is feasible just not done yet.</p>



<a name="214627486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627486">(Oct 26 2020 at 20:17)</a>:</h4>
<p>So should we try kick off a SIMD intrinsics MCP under <code>T-compiler</code> to see if we can get some momentum on that and keep compiler folks in the loop?</p>



<a name="214627558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627558">(Oct 26 2020 at 20:18)</a>:</h4>
<p>probably</p>



<a name="214627594"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627594" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627594">(Oct 26 2020 at 20:18)</a>:</h4>
<p>that sounds like a good idea to me</p>



<a name="214627628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627628">(Oct 26 2020 at 20:18)</a>:</h4>
<p>I'm happy to write that up unless somebody else would like to <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="214627697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627697" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627697">(Oct 26 2020 at 20:19)</a>:</h4>
<p>go for it.</p>



<a name="214627702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627702" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627702">(Oct 26 2020 at 20:19)</a>:</h4>
<p>oops forgot the time, hi</p>



<a name="214627808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627808" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627808">(Oct 26 2020 at 20:20)</a>:</h4>
<p>I'll scribble it up in a HackMD and drop a link <span aria-label="blush" class="emoji emoji-1f60a" role="img" title="blush">:blush:</span></p>



<a name="214627867"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627867" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627867">(Oct 26 2020 at 20:21)</a>:</h4>
<p>As for RISCV that's just still currently borked?</p>



<a name="214627906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214627906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214627906">(Oct 26 2020 at 20:21)</a>:</h4>
<p>We weren't using their draft V extension or anything were we?</p>



<a name="214628014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214628014" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214628014">(Oct 26 2020 at 20:22)</a>:</h4>
<p>as far as I can tell it's just lowering the wrong LLVM for some reason, it's unclear if it even has anything to do with RISC-V specifically</p>



<a name="214628046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214628046" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214628046">(Oct 26 2020 at 20:22)</a>:</h4>
<p>Ahh ok</p>



<a name="214628242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214628242" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214628242">(Oct 26 2020 at 20:24)</a>:</h4>
<p>yeah, it would help if we could make it use pure Rust thoooo.</p>



<a name="214628286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214628286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214628286">(Oct 26 2020 at 20:25)</a>:</h4>
<p>as a for the duration thing.</p>



<a name="214628564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214628564" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214628564">(Oct 26 2020 at 20:27)</a>:</h4>
<p>I actually have a <code>riscv64gc</code> compatible board ordered so maybe we can figure it out sometime next year when shipping brings it down to the bottom of the world here <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="214628813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214628813" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214628813">(Oct 26 2020 at 20:29)</a>:</h4>
<p>Was there anything else we wanted to try sync on?</p>



<a name="214628941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214628941" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214628941">(Oct 26 2020 at 20:30)</a>:</h4>
<p>nothing for me</p>



<a name="214629064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214629064" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214629064">(Oct 26 2020 at 20:31)</a>:</h4>
<p>I'm guessing the SIMD guide might be easier to work on when we've got something on <code>nightly</code> for people to use. So the next step is trying to get something started on rustc SIMD intrinsics?</p>



<a name="214629070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214629070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214629070">(Oct 26 2020 at 20:31)</a>:</h4>
<p>I. am working on analyzing our float situation and am interested in hearing others on desirables.</p>



<a name="214629950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214629950" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214629950">(Oct 26 2020 at 20:38)</a>:</h4>
<p>What do you think we need to do there? Try nail down some semantics and RFC them?</p>



<a name="214640211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214640211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214640211">(Oct 26 2020 at 22:16)</a>:</h4>
<p>whoops, sorry, I didn't notice Zulip eating <strong>my entire battery</strong>, I ran out of power. <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="214640394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214640394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214640394">(Oct 26 2020 at 22:18)</a>:</h4>
<p>Something like that? It's really another project, I think mostly the thing missing is trying to figure out what is considered most needful for various goals, aside from "IEEE754 compliance would be nice".</p>



<a name="214641543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214641543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214641543">(Oct 26 2020 at 22:32)</a>:</h4>
<p>Do you think this is more of a lang project?</p>



<a name="214641707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214641707" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214641707">(Oct 26 2020 at 22:34)</a>:</h4>
<p>Right.<br>
I think it's just important to figure out what core::simd would consider as a minimum necessary foundation for our API.</p>



<a name="214643842"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214643842" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214643842">(Oct 26 2020 at 23:04)</a>:</h4>
<p>For instance, we could opt to not support Neon at all on ARMv7, only support ARMv8 and later Neon, and otherwise only use vector implementations that we know are IEEE754 compliant. Or we could say "we need a way of opting in to fast math so ARMv7 vector registers are usable".</p>



<a name="214643997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214643997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214643997">(Oct 26 2020 at 23:07)</a>:</h4>
<p>Wouldn't that include VFP as well?</p>



<a name="214765679"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/meeting%202020-10-26/near/214765679" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/meeting.202020-10-26.html#214765679">(Oct 27 2020 at 21:19)</a>:</h4>
<p>So I have to check but I believe the answer is no, due to ARMv7 having a flag you can set in order to disable flushing denormals. I'm not certain of the performance penalty here. We could also just straight-up emulate denormals. <em>shrug</em></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>