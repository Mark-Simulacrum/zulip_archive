<html>
<head><meta charset="utf-8"><title>2020-09-21 meeting · project-portable-simd · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/index.html">project-portable-simd</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html">2020-09-21 meeting</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="210805775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210805775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210805775">(Sep 21 2020 at 22:00)</a>:</h4>
<p>Honk honk, meeting time.<br>
The draft announcement is here:<br>
<a href="https://hackmd.io/_2MnKA4FTEaiac7RR1MG4A?both">https://hackmd.io/_2MnKA4FTEaiac7RR1MG4A?both</a></p>



<a name="210805845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210805845" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210805845">(Sep 21 2020 at 22:01)</a>:</h4>
<p><span class="user-mention" data-user-id="*">@everyone</span>, get in here. :^)</p>



<a name="210805864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210805864" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210805864">(Sep 21 2020 at 22:01)</a>:</h4>
<p>oh gosh zulip has at everyone too XD</p>



<a name="210806018"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806018" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806018">(Sep 21 2020 at 22:02)</a>:</h4>
<p>SIMD&lt;[Grim Patron;4]&gt; <a href="https://www.youtube.com/watch?v=Oncuhkk-R3o">https://www.youtube.com/watch?v=Oncuhkk-R3o</a></p>
<div class="youtube-video message_inline_image"><a data-id="Oncuhkk-R3o" href="https://www.youtube.com/watch?v=Oncuhkk-R3o"><img src="https://i.ytimg.com/vi/Oncuhkk-R3o/default.jpg"></a></div>



<a name="210806028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806028">(Sep 21 2020 at 22:03)</a>:</h4>
<p>So I think the first thing to figure out is going to be... Where do we put this? <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="210806049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806049" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806049">(Sep 21 2020 at 22:03)</a>:</h4>
<p>ANYWAYS... we can post this on to the rust-lang blog, right?</p>



<a name="210806163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806163">(Sep 21 2020 at 22:04)</a>:</h4>
<p>error-handling managed it so...<br>
I assume the first two sections are not going to be part of the actual announcement post, given that they're organizational trivia.</p>



<a name="210806170"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806170" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806170">(Sep 21 2020 at 22:04)</a>:</h4>
<p>let's post it on the blog after we decide and have a repo available for people to go to and subscribe to</p>



<a name="210806233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806233">(Sep 21 2020 at 22:05)</a>:</h4>
<p>Following the trend of <code>corearch</code> do we want a <code>rust-lang/coresimd</code> repository?</p>



<a name="210806237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806237">(Sep 21 2020 at 22:05)</a>:</h4>
<p>Yes, welcome mat first. Post might not go up until tomorrow or later this week as a result, but that's fine.</p>



<a name="210806288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806288" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806288">(Sep 21 2020 at 22:05)</a>:</h4>
<p>coresimd sounds fine, best to avoid over thinking it. Since this is essentially an internal detail of the standard library, and also a nightly one for now, we can move it later if we really need to</p>



<a name="210806361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806361" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806361">(Sep 21 2020 at 22:06)</a>:</h4>
<p>If you want to be consistent with <code>stdarch</code> I suggest <code>stdsimd</code>.</p>



<a name="210806388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806388">(Sep 21 2020 at 22:06)</a>:</h4>
<p>Oh I thought it was <code>corearch</code>... I must be misremembering :)</p>



<a name="210806402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806402" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806402">(Sep 21 2020 at 22:06)</a>:</h4>
<p>oh right, stdarch is the repo/crate name</p>



<a name="210806404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806404">(Sep 21 2020 at 22:06)</a>:</h4>
<p>I would prefer to eventually see the code committed to rust-lang/rust since the stdlib is too, but it's fine if it's in another repo for now as part of buildout.</p>



<a name="210806407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806407" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806407">(Sep 21 2020 at 22:07)</a>:</h4>
<p>Fun fact: <code>stdarch</code> used to be called <code>stdsimd</code>.</p>



<a name="210806411"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806411" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806411">(Sep 21 2020 at 22:07)</a>:</h4>
<p>I am indeed misremembering</p>



<a name="210806436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806436">(Sep 21 2020 at 22:07)</a>:</h4>
<p>yeah stdsimd is showing on <a href="http://docs.rs">docs.rs</a> already</p>



<a name="210806445"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806445" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806445">(Sep 21 2020 at 22:07)</a>:</h4>
<p>std::simd2, electric boogaloo.</p>



<a name="210806448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806448" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806448">(Sep 21 2020 at 22:07)</a>:</h4>
<p>the crate within the repo is <code>core_arch</code></p>



<a name="210806464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806464" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806464">(Sep 21 2020 at 22:07)</a>:</h4>
<p>I guess we'll be clobbering those docs <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="210806520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806520">(Sep 21 2020 at 22:08)</a>:</h4>
<p><code>docs.rs/stdsimd</code> seems to hold the <code>is_x86_feature_detected</code>, or used to hold maybe.</p>



<a name="210806549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806549">(Sep 21 2020 at 22:08)</a>:</h4>
<p>maybe the crate should be <code>core_simd</code> to be consistent as well?</p>



<a name="210806573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806573" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806573">(Sep 21 2020 at 22:08)</a>:</h4>
<p>You don't need a crate name, it's a submodule of libcore.</p>



<a name="210806593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806593">(Sep 21 2020 at 22:09)</a>:</h4>
<p>Figuring out our repo structure is good though</p>



<a name="210806606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806606" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806606">(Sep 21 2020 at 22:09)</a>:</h4>
<p>I think that just putting everything in rust-lang/rust is OK.</p>



<a name="210806607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806607">(Sep 21 2020 at 22:09)</a>:</h4>
<p>yeah, the nomenklatura here isn't <em>too</em> important, And Yet...<br>
are there any features that actually are expected to need std? alloc?</p>



<a name="210806617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806617" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806617">(Sep 21 2020 at 22:09)</a>:</h4>
<p>Maybe prototype in the project group repo.</p>



<a name="210806704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806704">(Sep 21 2020 at 22:10)</a>:</h4>
<p>so to help clarify the <code>stdarch</code> repo contains a crate called <code>core_arch</code>, as well as other crates mostly named <code>std_thing</code>, <a href="https://github.com/rust-lang/stdarch/tree/master/crates">https://github.com/rust-lang/stdarch/tree/master/crates</a></p>



<a name="210806731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806731">(Sep 21 2020 at 22:11)</a>:</h4>
<p>why is <code>stdarch</code> separate then? historical?</p>



<a name="210806738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806738">(Sep 21 2020 at 22:11)</a>:</h4>
<p>Yes.</p>



<a name="210806755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806755" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806755">(Sep 21 2020 at 22:11)</a>:</h4>
<p>so from a <strong>repo browsing</strong> level, stdsimd seems like the name to go with, and internal crate names can just be whatever.</p>



<a name="210806759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806759" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806759">(Sep 21 2020 at 22:11)</a>:</h4>
<p>Also stdarch has a ton of CI infrastructure to verify the intrinsics.</p>



<a name="210806784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806784" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806784">(Sep 21 2020 at 22:11)</a>:</h4>
<p>I think the experience of working on satellite repos has been more positive than in <code>rust-lang/rust</code> directly, so either way an external repo for a start seems good</p>



<a name="210806837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806837" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806837">(Sep 21 2020 at 22:12)</a>:</h4>
<p>i'll give that a strong second</p>



<a name="210806862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806862">(Sep 21 2020 at 22:12)</a>:</h4>
<p>Would we need to submodule it in _before_ doing a big source drop?</p>



<a name="210806871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806871" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806871">(Sep 21 2020 at 22:12)</a>:</h4>
<p>Lokathor mentioned that recently, yes. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span><br>
My only concern is that they tend to get less attention, which is why I think it should eventually reach std.</p>



<a name="210806872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806872">(Sep 21 2020 at 22:12)</a>:</h4>
<p>I agree too.  I seem to spend a lot of time in <code>rust-lang/rust</code> rebasing in my casual experience</p>



<a name="210806885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806885">(Sep 21 2020 at 22:13)</a>:</h4>
<p>If not, we could work in <code>project-portable-simd</code>, otherwise maybe <code>stdsimd</code> would still be worth setting up</p>



<a name="210806924"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806924" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806924">(Sep 21 2020 at 22:13)</a>:</h4>
<p>my experience so far with simd is that users of simd are, uh, <em>passionate</em> about it, i don't think we'll lack for attention just by being in a side repo</p>



<a name="210806929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210806929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210806929">(Sep 21 2020 at 22:13)</a>:</h4>
<p>(I'm ok with either)</p>



<a name="210807008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807008" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807008">(Sep 21 2020 at 22:14)</a>:</h4>
<p>We can always use giant signaling lights too.</p>



<a name="210807017"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807017" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807017">(Sep 21 2020 at 22:14)</a>:</h4>
<p>If you have a ton of custom CI like packed_simd does then it might be worth using a separate repo. Otherwise I think development would be easier if it were directly in rust-lang/rust since you don't need a separate PR to bump the submodule.</p>



<a name="210807074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807074">(Sep 21 2020 at 22:15)</a>:</h4>
<p>If version syncing is all that is the problem, then I will literally build a tool to make that happen automagically.</p>



<a name="210807095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807095" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807095">(Sep 21 2020 at 22:15)</a>:</h4>
<p>Ah yes. <code>packed_simd</code> does indeed have a lot of CI infra</p>



<a name="210807103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807103">(Sep 21 2020 at 22:15)</a>:</h4>
<p>I'm totally willing to accept the trouble of an occasional extra PR if it means staying away from <code>rust-lang/rust</code></p>



<a name="210807181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807181">(Sep 21 2020 at 22:16)</a>:</h4>
<p>has everyone looked at the announcement post's current form?</p>



<a name="210807203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807203" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807203">(Sep 21 2020 at 22:16)</a>:</h4>
<p>i have not, i'll check now.</p>



<a name="210807367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807367">(Sep 21 2020 at 22:17)</a>:</h4>
<p>Ok. I think it's <code>rust-lang/stdsimd</code> then? With draft RFCs for stabilizing pieces living in <code>project-portable-simd</code>?</p>



<a name="210807619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807619">(Sep 21 2020 at 22:20)</a>:</h4>
<p>Since we have special CI needs I guess we'll continue to live outside of <code>rust-lang/rust</code>?</p>



<a name="210807629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807629">(Sep 21 2020 at 22:20)</a>:</h4>
<p>there i put in a note to help clarify that a simd vector isn't like a Vec</p>



<a name="210807664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807664" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807664">(Sep 21 2020 at 22:20)</a>:</h4>
<p>hardware intrinsics are just functions that expand into asm, no?</p>



<a name="210807696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807696">(Sep 21 2020 at 22:21)</a>:</h4>
<p>uh, "mostly yes"</p>



<a name="210807719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807719">(Sep 21 2020 at 22:21)</a>:</h4>
<p>some of them expand to nothing at all and it's just a compile-time change, like some of the transmutes</p>



<a name="210807734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807734" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807734">(Sep 21 2020 at 22:21)</a>:</h4>
<p>Is calling them "intrinsic instructions" too wishy-washy?</p>



<a name="210807749"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807749" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807749">(Sep 21 2020 at 22:22)</a>:</h4>
<p>Yes.</p>



<a name="210807818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807818" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807818">(Sep 21 2020 at 22:22)</a>:</h4>
<p>i'd just say "intrinsics" since people already kinda know that's the word for "sorta magical", and people can ask later if they want more detail</p>



<a name="210807839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807839">(Sep 21 2020 at 22:22)</a>:</h4>
<p>The key point of an intrinsic vs other functions is sorta that the compiler is expected to 'know more' about an intrinsic, and possibly optimize based on that</p>



<a name="210807983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807983">(Sep 21 2020 at 22:25)</a>:</h4>
<p>I think we should be careful about using the term and probably use instructions more often than not</p>



<a name="210807984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807984">(Sep 21 2020 at 22:25)</a>:</h4>
<p>we could also say "operations" which lets us sidestep if you literally get a particular asm instruction or not</p>



<a name="210807992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210807992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210807992">(Sep 21 2020 at 22:25)</a>:</h4>
<p>or that</p>



<a name="210808068"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808068" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jed <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808068">(Sep 21 2020 at 22:26)</a>:</h4>
<p>Is the scope of this project strictly static-sized SIMD or also vector-length agnostic vectorization and the likes of OpenMP <code>omp simd reduction</code>?</p>



<a name="210808070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808070">(Sep 21 2020 at 22:26)</a>:</h4>
<p>For example, <code>core::simd</code> only converts to intrinsics because we happen to be using LLVM, but as far as the user is concerned <code>core::simd</code> itself is a set of intrinsics</p>



<a name="210808096"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808096" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808096">(Sep 21 2020 at 22:26)</a>:</h4>
<p>that's a very good point Caleb, and i think a very good way to think of it</p>



<a name="210808147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808147" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808147">(Sep 21 2020 at 22:27)</a>:</h4>
<p>We haven't discussed it but I'm thinking very likely only static-sized.  arm sve comes to mind as well and I'm not even sure C/C++ compilers have figured that out yet</p>



<a name="210808153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808153" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808153">(Sep 21 2020 at 22:27)</a>:</h4>
<p>Jed, do you mean selecting a simd type at runtime? I don't think that we'll do that directly, though i can imagine ways to help people out with building abstractions for that</p>



<a name="210808159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808159" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808159">(Sep 21 2020 at 22:27)</a>:</h4>
<p>(I'm not familiar at all with OpenMP)</p>



<a name="210808269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808269" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jed <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808269">(Sep 21 2020 at 22:28)</a>:</h4>
<p>ARM SVE virtualizes the register length, but I'm just thinking of helping to write code that does not bake in the vector length.</p>



<a name="210808289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808289" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808289">(Sep 21 2020 at 22:28)</a>:</h4>
<p>The "easy" version is to make it simple for people to write lane-count agnostic generic code, and then they can expand the code to x4 or x8 or whatever lengths, and then the user can do a check at runtime and pick a code path</p>



<a name="210808292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808292" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808292">(Sep 21 2020 at 22:28)</a>:</h4>
<p><a href="https://developer.arm.com/documentation/100891/0612/coding-considerations/using-sve-intrinsics-directly-in-your-c-code">ARM SVE intrinsics</a></p>



<a name="210808327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808327">(Sep 21 2020 at 22:29)</a>:</h4>
<p>and making lane count agnostic code is actually pretty easy if you're willing to just go crazy with traits</p>



<a name="210808345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808345">(Sep 21 2020 at 22:29)</a>:</h4>
<p>But this is unlikely to be supported anytime soon in Rust since it involves "magic" types that have an unknown size at compile-time.</p>



<a name="210808425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808425" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808425">(Sep 21 2020 at 22:30)</a>:</h4>
<p>As long as it isn't "intrinsic instructions" it's fine with me.</p>



<a name="210808439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jed <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808439">(Sep 21 2020 at 22:30)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="kt">double</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="cp">#pragma omp simd reduction(+:sum)</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">sum</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</code></pre></div>


<p>enables use of multiple accumulators with a final horizontal reduction at the end. This is kinda clumsy to write by hand. Note that associativity changes the result, but the pragma is saying that's okay.</p>



<a name="210808507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808507">(Sep 21 2020 at 22:31)</a>:</h4>
<p>On the topic of repository, I can reach out and get that set up for us. I'm also happy to work on the CI-side for us</p>



<a name="210808565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808565" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808565">(Sep 21 2020 at 22:32)</a>:</h4>
<p>I think you could get the same effect with a <code>FastFloat</code> type that allows for lower precision (<code>-ffast-math</code> style). Auto-vectorization would then take care of the rest.</p>



<a name="210808594"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808594" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808594">(Sep 21 2020 at 22:32)</a>:</h4>
<p>We've got a few distinct threads in here, so I'll come back through later and split them up into a summary doc in HackMD</p>



<a name="210808605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808605" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808605">(Sep 21 2020 at 22:33)</a>:</h4>
<p>yes.</p>



<a name="210808637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808637" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808637">(Sep 21 2020 at 22:33)</a>:</h4>
<p>Also, using say a 256-bit type when only 128-bit types are available should lower to just twice as many 128-bit ops, so you should be fine picking the widest type that's practical for you (based on likely element count, alignment, whatever).</p>



<a name="210808719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808719">(Sep 21 2020 at 22:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="322310">Jed</span> <a href="#narrow/stream/257879-project-portable-simd/topic/2020-09-21.20meeting/near/210808439">said</a>:</p>
<blockquote>
<div class="codehilite"><pre><span></span><code><span class="kt">double</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="cp">#pragma omp simd reduction(+:sum)</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">sum</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</code></pre></div>


<p>enables use of multiple accumulators with a final horizontal reduction at the end. This is kinda clumsy to write by hand. Note that associativity changes the result, but the pragma is saying that's okay.</p>
</blockquote>
<p>I think the goal of <code>core::simd</code> will be such that you can write this explicitly with a similar amount of code, not that you can write it as scalar code and have it convert automatically.</p>



<a name="210808727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808727" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808727">(Sep 21 2020 at 22:34)</a>:</h4>
<p>SIMD is a reasonably complex thing to talk and think about already so I am going to be paying close attention to terminology used in our forward-facing releases, but I am happy to defer on specifics. I am mostly going to be paying attention to eliminating vagueness.</p>



<a name="210808794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808794">(Sep 21 2020 at 22:35)</a>:</h4>
<p>We'll absolutely want an intro document in the repo, not a full mdbook but probably a long single md file, to get newcomers on the same page</p>



<a name="210808830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808830">(Sep 21 2020 at 22:36)</a>:</h4>
<p>could be the readme, but i like a short and sweet readme that points out the high level details since the readme is rendered in the web view on github</p>



<a name="210808901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808901" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808901">(Sep 21 2020 at 22:36)</a>:</h4>
<p>re: "intrinsics" vs. "instructions", "instructions" suggests it expands into a given asm, which is kinda Eh, I would prefer "functions" if "intrinsics" is considered Not OK, because vendors actually do refer to intrinsics as functions. intrinsic functions.</p>



<a name="210808932"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808932" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808932">(Sep 21 2020 at 22:37)</a>:</h4>
<p>We always have an opportunity in Rust to make topics really accessible so I'd love to do that here too <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="210808934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808934" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808934">(Sep 21 2020 at 22:37)</a>:</h4>
<p>e.g. <a href="https://www.keil.com/pack/doc/CMSIS/Core/html/group__intrinsic__SIMD__gr.html">https://www.keil.com/pack/doc/CMSIS/Core/html/group__intrinsic__SIMD__gr.html</a></p>



<a name="210808957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808957" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808957">(Sep 21 2020 at 22:37)</a>:</h4>
<p><a href="https://developer.arm.com/documentation/dui0497/a/CIHCAEJD">https://developer.arm.com/documentation/dui0497/a/CIHCAEJD</a></p>



<a name="210808985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210808985" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jed <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210808985">(Sep 21 2020 at 22:37)</a>:</h4>
<p>I think "intrinsics" is fine -- many people interested in this will have had some contact with Intel or Power intrinsics for C.</p>



<a name="210809004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210809004" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210809004">(Sep 21 2020 at 22:38)</a>:</h4>
<p>Intel flip-flops on this and actually does use "intrinsic instructions" in a few places.</p>



<a name="210809067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210809067" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210809067">(Sep 21 2020 at 22:38)</a>:</h4>
<p>I think we can call this meeting topic "finished" now and split discussion into more discoverable topics :)</p>



<a name="210809073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210809073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210809073">(Sep 21 2020 at 22:38)</a>:</h4>
<p>yeah, "intrinsic functions" or even "simd operations" is best. I'd like to point out that <em>many</em> useful things we'll naturally offer will not be single instructions. Eg: simd sin / cos / tan is a whole big thing that's like 15 asm instructions long, but you absolutely want that in the API despite it not being "a single instruction"</p>



<a name="210809109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210809109" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210809109">(Sep 21 2020 at 22:39)</a>:</h4>
<p>yeah new topics.</p>



<a name="210809131"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210809131" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210809131">(Sep 21 2020 at 22:39)</a>:</h4>
<p>so, let me summarize an agenda first:</p>



<a name="210809279"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210809279" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210809279">(Sep 21 2020 at 22:41)</a>:</h4>
<p>1) Finish working over the announcement, it's not going out today. try to post it to rust-lang?<br>
2) Build out a repo for std::simd, overwhelming preference is to have it outside rust-lang/rust for now.<br>
3) Figure out our own project group repo and get some "Hello, SIMD!" intro on it.</p>



<a name="210809294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210809294" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210809294">(Sep 21 2020 at 22:41)</a>:</h4>
<p>I just created <a href="https://hackmd.io/T-cUNypRRUKGVBGlzr5fNA">https://hackmd.io/T-cUNypRRUKGVBGlzr5fNA</a> for us to sketch out "Hello, SIMD!"</p>



<a name="210809357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210809357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210809357">(Sep 21 2020 at 22:42)</a>:</h4>
<p>oh and<br>
4) finish bikeshedding on "what do we call intrinsics?"<br>
5) address the packed_simd maintenance question<br>
6) same time next week? Or in 2 weeks?</p>



<a name="210809359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210809359" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210809359">(Sep 21 2020 at 22:42)</a>:</h4>
<p>I'll work on getting <code>rust-lang/stdsimd</code> set up for us</p>



<a name="210809398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210809398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210809398">(Sep 21 2020 at 22:42)</a>:</h4>
<p>next week is probably best. there's a lot of TODOs there so we'll have some of them progressed or done.</p>



<a name="210809408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210809408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210809408">(Sep 21 2020 at 22:43)</a>:</h4>
<p><span class="user-mention" data-user-id="281757">@Jubilee</span> I'm ok to catch up again synchronously in a week if we accumulate new bikes to shed <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="210809437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210809437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210809437">(Sep 21 2020 at 22:43)</a>:</h4>
<p>Once the announcement is ready we can post it on the _Insiders_ blog</p>



<a name="210809532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210809532" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210809532">(Sep 21 2020 at 22:44)</a>:</h4>
<p>Thanks everyone! It's time for a coffee and a walk here <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="210810018"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210810018" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210810018">(Sep 21 2020 at 22:50)</a>:</h4>
<p>In a week, then~ <span aria-label="sparkling heart" class="emoji emoji-1f496" role="img" title="sparkling heart">:sparkling_heart:</span></p>



<a name="210814897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210814897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210814897">(Sep 21 2020 at 23:57)</a>:</h4>
<p>Captured some more summary here: <a href="https://hackmd.io/a2vhyS0ZTtq1e7JkH2kabA">https://hackmd.io/a2vhyS0ZTtq1e7JkH2kabA</a></p>



<a name="210822032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210822032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210822032">(Sep 22 2020 at 02:08)</a>:</h4>
<p><time datetime="2020-09-28T22:00:00Z">2020-09-28T15:00:00-07:00</time></p>



<a name="210822124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210822124" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210822124">(Sep 22 2020 at 02:10)</a>:</h4>
<p>cool, Zulip supports RFC3339 timestamps in the <code>&lt;time:{timestamp}&gt;</code> tag.</p>



<a name="210822127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/2020-09-21%20meeting/near/210822127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/2020-09-21.20meeting.html#210822127">(Sep 22 2020 at 02:10)</a>:</h4>
<p>I guess i've added the lang team google calendar but not the libs team one, is there a link for that?</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>