<html>
<head><meta charset="utf-8"><title>Meeting 2020-11-23 · project-portable-simd · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/index.html">project-portable-simd</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html">Meeting 2020-11-23</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="217682031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217682031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217682031">(Nov 23 2020 at 20:59)</a>:</h4>
<p>Hi all! <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Do we have any updates today? I just gave <a href="https://github.com/rust-lang/rust/pull/78863">https://github.com/rust-lang/rust/pull/78863</a> a boot, but otherwise haven't had a chance to follow up on anything since last week</p>



<a name="217682524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217682524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217682524">(Nov 23 2020 at 21:04)</a>:</h4>
<p>I implemented a few more platform intrinsics in cg_clif today to unbreak compilation of veloren again.</p>



<a name="217682606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217682606" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217682606">(Nov 23 2020 at 21:04)</a>:</h4>
<p>neat, which ones?</p>



<a name="217682810"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217682810" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217682810">(Nov 23 2020 at 21:06)</a>:</h4>
<p>A few reduce ones (add,mul,any,all). Also switched the compilation error on non-const simd_extract index to a runtime abort again as packed_simd does this.</p>



<a name="217683282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217683282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217683282">(Nov 23 2020 at 21:11)</a>:</h4>
<p>Oh and I implemented lane wise comparison for floats. I only had it implemented for ints previously.</p>



<a name="217683326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217683326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217683326">(Nov 23 2020 at 21:11)</a>:</h4>
<p>oh nice.</p>



<a name="217683406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217683406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217683406">(Nov 23 2020 at 21:12)</a>:</h4>
<p>Making my brain work has been slow going so I haven't finished what i was working on but I have some tests that confirm it should be doable, unknown if it will fix the problems we are having yet. Basically "I planned to do this on Friday... no wait, Saturday... no wait, Sunday... Oh No."</p>



<a name="217683479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217683479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217683479">(Nov 23 2020 at 21:13)</a>:</h4>
<p>I updated <a href="https://github.com/rust-lang/stdsimd/pull/44">https://github.com/rust-lang/stdsimd/pull/44</a>, it mostly builds and tests other than some odd wasm error</p>



<a name="217684540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217684540" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217684540">(Nov 23 2020 at 21:23)</a>:</h4>
<p>( serious question do we need simd_trunc and simd_round right this red hot second? I am pretty sure we need simd_round actually. )</p>



<a name="217684785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217684785" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217684785">(Nov 23 2020 at 21:26)</a>:</h4>
<p>ooh right we probably need simd_trunc for f32 -&gt; i32 conversions since I believe those truncate and not round, darn.</p>



<a name="217684856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217684856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217684856">(Nov 23 2020 at 21:27)</a>:</h4>
<p>Need as in before we get into nightly, or need as in just to develop now?</p>



<a name="217684872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217684872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217684872">(Nov 23 2020 at 21:27)</a>:</h4>
<p>either one.</p>



<a name="217684892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217684892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217684892">(Nov 23 2020 at 21:27)</a>:</h4>
<p>Well, we'll definitely need it eventually</p>



<a name="217684901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217684901" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217684901">(Nov 23 2020 at 21:27)</a>:</h4>
<p>I don't know if we established a system of priorities.</p>



<a name="217684983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217684983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217684983">(Nov 23 2020 at 21:28)</a>:</h4>
<p>I think it's fairly low since we can use LLVM intrinsics. We can probably even get into nightly even if it doesn't work with cranelift honestly, but idk</p>



<a name="217685071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217685071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217685071">(Nov 23 2020 at 21:29)</a>:</h4>
<p>I think it's low priority for the initial development but it needs to be done anyway so sooner is great too</p>



<a name="217685638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217685638" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217685638">(Nov 23 2020 at 21:35)</a>:</h4>
<p>I'm basically thinking that it might be better to go to rustc's platform intrinsics for simd_floor and simd_ceil right now in stdsimd, pull the intrinsics out of the crate, see if that fixes our build concerns, and then add the platform intrinsics for simd_trunc and simd_round as we go along.</p>



<a name="217686518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217686518" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217686518">(Nov 23 2020 at 21:44)</a>:</h4>
<p><span class="user-mention" data-user-id="204346">@Ashley Mannix</span> Did you mean to r+ instead of try <a href="https://github.com/rust-lang/rust/issues/78863">#78863</a>?</p>



<a name="217699986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202020-11-23/near/217699986" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202020-11-23.html#217699986">(Nov 24 2020 at 00:03)</a>:</h4>
<p>We need float truncation to int because it's used in the trig stuff</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>