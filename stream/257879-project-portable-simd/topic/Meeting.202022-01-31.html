<html>
<head><meta charset="utf-8"><title>Meeting 2022-01-31 · project-portable-simd · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/index.html">project-portable-simd</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html">Meeting 2022-01-31</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="270081947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270081947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270081947">(Jan 31 2022 at 18:38)</a>:</h4>
<p>Hello! In ~141 minutes. Please feel free to add whatever, etc.!<br>
<a href="https://hackmd.io/sNJHu0kXSe6s-PY8ymi95Q?both">https://hackmd.io/sNJHu0kXSe6s-PY8ymi95Q?both</a></p>



<a name="270099263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270099263" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270099263">(Jan 31 2022 at 20:24)</a>:</h4>
<p>I added a considerable amount of background detail that leapt to mind. ^^;</p>



<a name="270100435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270100435" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270100435">(Jan 31 2022 at 20:33)</a>:</h4>
<p>it's not that ieee transcendental functions don't specify down to the last bit, but that common implementations aren't accurate to the last bit. there are implementations that are 100% rounded correctly down to the last bit: crlibm, mpfr, and a few others</p>



<a name="270100619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270100619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270100619">(Jan 31 2022 at 20:35)</a>:</h4>
<p>sqrt in particular is commonly accurate to the last bit because it's commonly a hw instruction and hw has to be accurate to the last bit to claim ieee 754 compliance</p>



<a name="270104772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270104772" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270104772">(Jan 31 2022 at 21:06)</a>:</h4>
<p>I thought efficient ½ULP implementations for the complicated stuff were still open problems?  (Though <code>sqrt</code> is not one of those, as it's strictly monotonic increasing and differentiable and such.)</p>



<a name="270104831"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270104831" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270104831">(Jan 31 2022 at 21:07)</a>:</h4>
<p>Also hello!</p>



<a name="270105045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270105045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270105045">(Jan 31 2022 at 21:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125270">scottmcm</span> <a href="#narrow/stream/257879-project-portable-simd/topic/Meeting.202022-01-31/near/270104772">said</a>:</p>
<blockquote>
<p>I thought efficient ½ULP implementations for the complicated stuff were still open problems?  (Though <code>sqrt</code> is not one of those, as it's strictly monotonic increasing and differentiable and such.)</p>
</blockquote>
<p>I think the implementations in question are not "efficient".</p>



<a name="270106799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270106799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270106799">(Jan 31 2022 at 21:20)</a>:</h4>
<p>So yes.<br>
I just pushed most of my remarks on The Libm Story and the latest sync PR into the agenda directly. I am just waiting on review for it and...<br>
...oh, Mark left a comment!</p>



<a name="270107228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270107228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270107228">(Jan 31 2022 at 21:23)</a>:</h4>
<p>Oh okay that is getting merged then! huzzah.</p>



<a name="270108106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270108106" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270108106">(Jan 31 2022 at 21:29)</a>:</h4>
<p>There is the question of re-adding autosplats, we received a request to do so specifically for Shl and Shr, that just requires someone to knuckle up and commit to doing the work and making sure we don't break anything. I believe we were inclined to add them but without the auto-deref versions?</p>



<a name="270108313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270108313" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270108313">(Jan 31 2022 at 21:31)</a>:</h4>
<p>Should we incrementally add things like, e.g., Shl/Shr in a batch?</p>



<a name="270108379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270108379" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270108379">(Jan 31 2022 at 21:31)</a>:</h4>
<p>The argument for them with Shl/Shr was about optimization, though, and that change wouldn't actually affect optimization</p>



<a name="270108475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270108475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270108475">(Jan 31 2022 at 21:32)</a>:</h4>
<p>Yeah, I think the only reason to do so for Shl/Shr is to make it easier for users to "do the right thing".</p>



<a name="270108596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270108596" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270108596">(Jan 31 2022 at 21:33)</a>:</h4>
<p>IMO there are definitely some cases where you need to shift by varying amounts by lane, and that's definitely not inefficient because at worst it's blending per lane</p>



<a name="270108657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270108657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270108657">(Jan 31 2022 at 21:33)</a>:</h4>
<p>Oh yes.</p>



<a name="270108838"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270108838" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270108838">(Jan 31 2022 at 21:34)</a>:</h4>
<p>It's not <strong>bad</strong>, it's just if you want to shift by a scalar for each lane, you ideally actually just write that and then you don't risk somehow putting the variable in a way that perturbs the butterfly wing next to LLVM's optimization patterns.</p>



<a name="270108906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270108906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270108906">(Jan 31 2022 at 21:35)</a>:</h4>
<p>But, I think I am hearing a lack of enthusiasm for incrementalism. :^)<br>
well, insofar as I am hearing...? reading...?</p>



<a name="270109001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109001">(Jan 31 2022 at 21:36)</a>:</h4>
<p>I don't think shifts are special in that regard, so I think we should be consistent and either have all or none</p>



<a name="270109064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109064" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109064">(Jan 31 2022 at 21:36)</a>:</h4>
<p>tru.</p>



<a name="270109134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109134">(Jan 31 2022 at 21:37)</a>:</h4>
<p>We're still aiming for adding the "normal" (not auto-deref-ing) versions, yeah?</p>



<a name="270109180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109180" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109180">(Jan 31 2022 at 21:37)</a>:</h4>
<p>Can you remind me what you mean be that?</p>



<a name="270109225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109225">(Jan 31 2022 at 21:38)</a>:</h4>
<p>oh, the ambiguity only came up in the case of &amp;T $op &amp;U, where it wasn't clear if &amp;U was &amp;T.</p>



<a name="270109312"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109312" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109312">(Jan 31 2022 at 21:38)</a>:</h4>
<p>so the idea would be to only impl T $op U.</p>



<a name="270109378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109378">(Jan 31 2022 at 21:39)</a>:</h4>
<p>I'm still confused--aren't those the same?</p>



<a name="270109383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109383">(Jan 31 2022 at 21:39)</a>:</h4>
<p>Ah</p>



<a name="270109387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109387">(Jan 31 2022 at 21:39)</a>:</h4>
<p>cough.</p>



<a name="270109471"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109471" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109471">(Jan 31 2022 at 21:39)</a>:</h4>
<p>I'm not sure it's worth doing that, at that point I would consider skipping references entirely since the vectors are copy anyway</p>



<a name="270109638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109638" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109638">(Jan 31 2022 at 21:40)</a>:</h4>
<p>Ah, so removing &amp;T $op &amp;T impls for vectors period?</p>



<a name="270109671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109671">(Jan 31 2022 at 21:41)</a>:</h4>
<p>I personally don't have a strong opinion other than I only want it if it's consistent across all operations, and commutitive</p>



<a name="270109688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109688" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109688">(Jan 31 2022 at 21:41)</a>:</h4>
<p>But that might be one way, yeah</p>



<a name="270109696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109696">(Jan 31 2022 at 21:41)</a>:</h4>
<p>Alrighty~!</p>



<a name="270109846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109846" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109846">(Jan 31 2022 at 21:42)</a>:</h4>
<p>I think auto-splatting is v important considering ideally deref is one <code>*</code>.</p>



<a name="270109899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270109899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270109899">(Jan 31 2022 at 21:42)</a>:</h4>
<p>imho &amp;T $op &amp;U is a little too "magical" for my taste...just let rust add autoderef to the operators rather than relying on $Op&lt;&amp;U&gt; for &amp;T impls</p>



<a name="270110037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270110037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270110037">(Jan 31 2022 at 21:44)</a>:</h4>
<p>what do we feel about <code>T $op &amp;T</code>?</p>



<a name="270110163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270110163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270110163">(Jan 31 2022 at 21:44)</a>:</h4>
<p>Not sure, but I would probably just skip references entirely</p>



<a name="270110174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270110174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270110174">(Jan 31 2022 at 21:44)</a>:</h4>
<p>kk~</p>



<a name="270110217"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270110217" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270110217">(Jan 31 2022 at 21:45)</a>:</h4>
<p>Being copy I assume it hardly makes a difference</p>



<a name="270110280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270110280" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270110280">(Jan 31 2022 at 21:45)</a>:</h4>
<p>yeah, this is mostly about ~ergonomics~</p>



<a name="270110435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270110435" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270110435">(Jan 31 2022 at 21:46)</a>:</h4>
<p>well...i'd say we shouldn't encourage references to vectors...passing by copy is often faster</p>



<a name="270110493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270110493" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270110493">(Jan 31 2022 at 21:47)</a>:</h4>
<p>so a slight ergonomic hit is fine</p>



<a name="270110876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270110876" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270110876">(Jan 31 2022 at 21:50)</a>:</h4>
<p>I will take a shot at mangling the autosplats back into existence and see what I discover.<br>
anyone have time for reviewing  <a href="https://github.com/rust-lang/portable-simd/pull/203">https://github.com/rust-lang/portable-simd/pull/203</a> ?</p>



<a name="270111422"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270111422" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270111422">(Jan 31 2022 at 21:54)</a>:</h4>
<p>reviewed</p>



<a name="270111443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270111443" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270111443">(Jan 31 2022 at 21:55)</a>:</h4>
<p>ah!</p>



<a name="270111500"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270111500" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270111500">(Jan 31 2022 at 21:55)</a>:</h4>
<p>Thank you!</p>



<a name="270111669"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270111669" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270111669">(Jan 31 2022 at 21:57)</a>:</h4>
<p>Annnd probably last thinger for today: right now we implemented <code>fn cast</code>, do we have any strong sentiment on whether we would want to split that into functions for specifically the float ops versus the bitcasts?</p>



<a name="270111856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270111856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270111856">(Jan 31 2022 at 21:58)</a>:</h4>
<p>imho <code>cast</code> is <em>all</em> about value conversions, just some of those happen to also be bitcasts. we should rely on safe transmute for bitcasts</p>



<a name="270112060"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270112060" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270112060">(Jan 31 2022 at 22:00)</a>:</h4>
<p>so we shouldn't just split out <code>i32</code>-&gt;<code>u32</code> and claim that it is somehow more bitcast-y than what it actually is: a modular integer value-preserving conversion</p>



<a name="270112175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270112175" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270112175">(Jan 31 2022 at 22:00)</a>:</h4>
<p>heheh.</p>



<a name="270112468"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270112468" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270112468">(Jan 31 2022 at 22:02)</a>:</h4>
<p>Agreed that for now it's basically just an overloaded function, it's never just reinterpreting bits</p>



<a name="270112531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270112531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270112531">(Jan 31 2022 at 22:02)</a>:</h4>
<p>I suppose, but most people don't look at i32/u32 and see ℤ/2³²ℤ.</p>



<a name="270112578"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270112578" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270112578">(Jan 31 2022 at 22:02)</a>:</h4>
<p>:3</p>



<a name="270112630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270112630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270112630">(Jan 31 2022 at 22:03)</a>:</h4>
<p>They probably should, but...!</p>



<a name="270112681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270112681" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270112681">(Jan 31 2022 at 22:03)</a>:</h4>
<p>well...wrapping integers are modular integers.</p>



<a name="270112745"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270112745" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270112745">(Jan 31 2022 at 22:04)</a>:</h4>
<p>if they don't think so, tell them otherwise. :)</p>



<a name="270113170"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270113170" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270113170">(Jan 31 2022 at 22:07)</a>:</h4>
<p><code>iN/uN</code> -&gt; <code>iM/uM</code> is always picking the unique value of <code>iM/uM</code> that is in the same modular equivalence class as the integer value of the source.</p>



<a name="270113201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270113201" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270113201">(Jan 31 2022 at 22:07)</a>:</h4>
<p>And wheeeeeeee thank you for <del>playing</del> coming!</p>



<a name="270113227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270113227" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270113227">(Jan 31 2022 at 22:07)</a>:</h4>
<p>Right.</p>



<a name="270113503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270113503" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270113503">(Jan 31 2022 at 22:09)</a>:</h4>
<p>now, if the integers were saturating or trapping on overflow, that'd be different.</p>



<a name="270113834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270113834" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270113834">(Jan 31 2022 at 22:11)</a>:</h4>
<p>We can get to the other questions later~ I need to do... an entire pile of work.<br>
Have a good day~!</p>



<a name="270126051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202022-01-31/near/270126051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202022-01-31.html#270126051">(Jan 31 2022 at 23:45)</a>:</h4>
<p>Shifts already take arbitrary RHS types for scalars, so hopefully adding autosplatting just for shift wouldn't create any new inference issues.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>