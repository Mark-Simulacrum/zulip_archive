<html>
<head><meta charset="utf-8"><title>Hypothetical vector of reference comparators · project-portable-simd · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/index.html">project-portable-simd</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html">Hypothetical vector of reference comparators</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="262631172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262631172" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262631172">(Nov 24 2021 at 19:27)</a>:</h4>
<p>So this issue keeps being brought up to block work on our current implementation. But I think it comes up against enormous constraints when we consider what it actually would be implemented against.<br>
For reference, references: <a href="https://doc.rust-lang.org/std/primitive.reference.html">https://doc.rust-lang.org/std/primitive.reference.html</a></p>
<p>Even if we allow references in vectors, comparisons of <code>Simd&lt;&amp;T, _&gt;</code> should follow the semantic of deferring to the internal value, just like references do, and we can't allow <code>Simd&lt;&amp;T, _&gt;</code> _unless_ T: SimdElement still, or else it is invalid to use <code>Simd::gather</code> or <code>Simd::scatter</code> on those values.</p>
<p>So we can elevate our bounds another rank and allow the new bound, which applies to both SimdElement and &amp;SimdElement, to be used in vectors, but I don't see a way forward to simply allow arbitrary references.</p>
<p>This limitation also is what would allow us to be sure they are thin references, though.</p>



<a name="262631489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262631489" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262631489">(Nov 24 2021 at 19:30)</a>:</h4>
<p>Are we not going to allow pointers to anything other than SimdElement either?  That doesn't seem quite right to me</p>



<a name="262631658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262631658" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262631658">(Nov 24 2021 at 19:32)</a>:</h4>
<p>I <strong>believe</strong>, but am not 100% on, that raw pointers are always thin. In that sense they always satisfy the "logical bound" (as opposed to the programmatic representation of that bound) of being a scalar, and using them inappropriately can simply be <code>unsafe</code>.</p>



<a name="262631747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262631747" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262631747">(Nov 24 2021 at 19:33)</a>:</h4>
<p>I'd just say <code>PartialEq</code> on <code>Simd&lt;&amp;T, N&gt;</code> is like calling <code>Debug</code>...there to make it easy when you really need it, but not intended for speed.</p>



<a name="262631847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262631847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262631847">(Nov 24 2021 at 19:34)</a>:</h4>
<p>aka. it compiles to <code>a.into_iter().eq(b)</code> or similar, rather than a simd compare</p>



<a name="262631860"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262631860" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262631860">(Nov 24 2021 at 19:34)</a>:</h4>
<p>Honestly, why bother at that point?</p>



<a name="262631918"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262631918" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262631918">(Nov 24 2021 at 19:35)</a>:</h4>
<p><code>Simd&lt;&amp;T, N&gt;::lane_eq</code> would just not exist or be called <code>lane_ptr_eq</code></p>



<a name="262631978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262631978" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262631978">(Nov 24 2021 at 19:36)</a>:</h4>
<p>why bother? cuz lifetimes are <em>really</em> useful, i would hate to be stuck with only raw pointers</p>



<a name="262631991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262631991" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262631991">(Nov 24 2021 at 19:36)</a>:</h4>
<p>re <span class="user-mention" data-user-id="229517">@Jacob Lifshay</span> 's remark:</p>
<blockquote>
<p>vectors of fat pointers should totally be doable by just allocating <code>i128</code> lanes or twice as many lanes or similar (maybe both at different times?), though, yeah, we'll probably at first want a <code>T: Thin + ?Sized</code> bound for <code>Simd&lt;&amp;'a T, N&gt;</code>. Vectors of fat pointers will also need to deal with the possible future extensions of fat pointers to more arbitrary metadata types for <code>&amp;dyn Debug + Display</code> or custom metadata.</p>
</blockquote>
<p>This is kind of why I don't think we can rely on any specific size of references involved.</p>
<p>If we did have that sort of thing allowed, it should be allowing Simd&lt;&amp;T&gt; to be equivalent to the matching struct (a vector of pointers, a vector of lengths, etc.)</p>



<a name="262632071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632071">(Nov 24 2021 at 19:36)</a>:</h4>
<p>But at that point it's not clear why we don't evolve a more sophisticated design for <strong>actual complex types</strong>.</p>



<a name="262632073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632073">(Nov 24 2021 at 19:36)</a>:</h4>
<p>Raw pointers aren't always thin. <code>*const [T]</code> and <code>*const dyn T</code> and such are example of fat thin pointers. That said, I think there's no point for Simd&lt;FatPointer, _&gt; of any sort, references or raw. The layout is unspecified, anyway</p>



<a name="262632122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632122" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632122">(Nov 24 2021 at 19:37)</a>:</h4>
<p>Yeah, we need a specified layout in order to work.</p>



<a name="262632138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jorge Leitao <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632138">(Nov 24 2021 at 19:37)</a>:</h4>
<p>What is the problem that Simd of references solves? I thought that SIMD is done using MD values on the stack(?)</p>



<a name="262632151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632151">(Nov 24 2021 at 19:37)</a>:</h4>
<p>We could avoid the entire issue of references as elements if we don't assume that T: Trait means Simd&lt;T&gt;: Trait...</p>



<a name="262632181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632181">(Nov 24 2021 at 19:37)</a>:</h4>
<p>well, we're the rust compiler, we get to invent our own layout!</p>



<a name="262632240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632240" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632240">(Nov 24 2021 at 19:38)</a>:</h4>
<p>Only if we get everyone else to agree on it.</p>



<a name="262632283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632283" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632283">(Nov 24 2021 at 19:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="399416">Jorge Leitao</span> <a href="#narrow/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators/near/262632138">said</a>:</p>
<blockquote>
<p>What is the problem that Simd of references solves? I thought that SIMD is done using MD values on the stack(?)</p>
</blockquote>
<p>I mean the point of this thread is kinda that I have no idea, you tell me. :D</p>



<a name="262632292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632292" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632292">(Nov 24 2021 at 19:38)</a>:</h4>
<p><span class="user-mention" data-user-id="399416">@Jorge Leitao</span> one thing it would solve is allowing scatter/gather where you can push off the safety guarantees to another part of code</p>



<a name="262632307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632307">(Nov 24 2021 at 19:38)</a>:</h4>
<p>no one else has vectors of fat pointers, so we get to define what it does</p>



<a name="262632342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632342">(Nov 24 2021 at 19:39)</a>:</h4>
<p>scatter/gather only works on scalars tho'.</p>



<a name="262632363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632363">(Nov 24 2021 at 19:39)</a>:</h4>
<p>Are fat pointers the ones that carry metadata?</p>



<a name="262632372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632372" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632372">(Nov 24 2021 at 19:39)</a>:</h4>
<p>Yes.</p>



<a name="262632381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632381" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632381">(Nov 24 2021 at 19:39)</a>:</h4>
<p>Yeah, it's just one example, we may come up with more reasons they're useful</p>



<a name="262632385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632385">(Nov 24 2021 at 19:39)</a>:</h4>
<p>They're literally multiple usizes, thus "fat", because they are double-wide.</p>



<a name="262632463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632463" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632463">(Nov 24 2021 at 19:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="312331">Caleb Zulawski</span> <a href="#narrow/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators/near/262632381">said</a>:</p>
<blockquote>
<p>Yeah, it's just one example, we may come up with more reasons they're useful</p>
</blockquote>
<p>I mean I think it's a legitimate example but it's why I think a design that elevates the bounds one rank is sufficient.</p>



<a name="262632472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632472">(Nov 24 2021 at 19:40)</a>:</h4>
<p>gather works great for going from <code>Simd&lt;&amp;usize, N&gt;</code> to <code>Simd&lt;usize, N&gt;</code></p>



<a name="262632520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632520">(Nov 24 2021 at 19:41)</a>:</h4>
<p>I am just saying that T: Trait implies Simd&lt;T&gt;: Trait is wrong unless we limit ourselves to only primitives</p>



<a name="262632553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632553" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632553">(Nov 24 2021 at 19:41)</a>:</h4>
<p>And I think that's a premature limitation to make</p>



<a name="262632574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632574" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632574">(Nov 24 2021 at 19:41)</a>:</h4>
<p><span class="user-mention" data-user-id="281757">@Jubilee</span> is there a MWE of using fat pointers in SIMD yet?</p>



<a name="262632589"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632589" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632589">(Nov 24 2021 at 19:42)</a>:</h4>
<p>I'm personally not saying we absolutely need to add support for vectors of references, but I also don't want a design that prevents it</p>



<a name="262632590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632590">(Nov 24 2021 at 19:42)</a>:</h4>
<p>No, not that I am aware of.</p>



<a name="262632638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632638" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632638">(Nov 24 2021 at 19:42)</a>:</h4>
<p>I believe literally no one has done it.</p>



<a name="262632648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632648" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632648">(Nov 24 2021 at 19:42)</a>:</h4>
<p>Ground breaking :D</p>



<a name="262632709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632709" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632709">(Nov 24 2021 at 19:43)</a>:</h4>
<p>I don't think it's fair to say no one has done it, because vectors of pointers is relatively common and rust uniquely has special pointers known as references</p>



<a name="262632717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632717">(Nov 24 2021 at 19:43)</a>:</h4>
<p>i think it's a bit dubious — note that the compiler is allowed to implicitly deref &amp;T when it feels like it</p>



<a name="262632744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632744">(Nov 24 2021 at 19:43)</a>:</h4>
<p>vector of pointers isnt really that common</p>



<a name="262632780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632780">(Nov 24 2021 at 19:44)</a>:</h4>
<p>Well, it's common enough that I've used it several times</p>



<a name="262632793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632793">(Nov 24 2021 at 19:44)</a>:</h4>
<p>its not unheard of but pretty much i've always seen people use vectors of indices for gathers</p>



<a name="262632853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632853">(Nov 24 2021 at 19:44)</a>:</h4>
<p>There are data structures that are efficient if you store vectors of pointers</p>



<a name="262632877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632877">(Nov 24 2021 at 19:44)</a>:</h4>
<p>What do those pointers point to tho' really.</p>



<a name="262632962"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262632962" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262632962">(Nov 24 2021 at 19:45)</a>:</h4>
<p>with vectors of indices the indices don't have to be 64 bit when your address space is 64 bit. this is why i always saw indices, since that can be a significant savings. anyway, i'm not trying to say that vectors of pointers are bad, just that i don't know that they're so good we need them and also vector of references</p>



<a name="262633020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633020">(Nov 24 2021 at 19:46)</a>:</h4>
<p>it begs the question would we allow Simd&lt;Box&lt;T&gt;, _&gt;?</p>



<a name="262633035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633035" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633035">(Nov 24 2021 at 19:46)</a>:</h4>
<p>Please no. :D</p>



<a name="262633039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633039" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633039">(Nov 24 2021 at 19:46)</a>:</h4>
<p>which is a bit much</p>



<a name="262633061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633061" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633061">(Nov 24 2021 at 19:46)</a>:</h4>
<p>Well, right now we define all elements to be Copy which I think is reasonable</p>



<a name="262633071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633071">(Nov 24 2021 at 19:46)</a>:</h4>
<p>So no Box</p>



<a name="262633083"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633083" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633083">(Nov 24 2021 at 19:46)</a>:</h4>
<p>that also forbids Simd&lt;&amp;mut T, _&gt;</p>



<a name="262633111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633111" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633111">(Nov 24 2021 at 19:47)</a>:</h4>
<p>which is a natural request if we have Simd&lt;&amp;T, _&gt;</p>



<a name="262633113"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633113" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633113">(Nov 24 2021 at 19:47)</a>:</h4>
<p>But not Cell&lt;&amp;mut T&gt;</p>



<a name="262633135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633135">(Nov 24 2021 at 19:47)</a>:</h4>
<p>i don't follow.</p>



<a name="262633148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633148" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633148">(Nov 24 2021 at 19:47)</a>:</h4>
<p>This feels like a shitpost, tbh.</p>



<a name="262633168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633168" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633168">(Nov 24 2021 at 19:47)</a>:</h4>
<p>sorry, I'm not trying to shitpost.</p>



<a name="262633227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633227" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633227">(Nov 24 2021 at 19:48)</a>:</h4>
<p>No, I mean <code>Simd&lt;Cell&lt;&amp;mut T&gt;, _&gt;</code></p>



<a name="262633239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633239" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633239">(Nov 24 2021 at 19:48)</a>:</h4>
<p>yes thats a bit much.</p>



<a name="262633241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633241" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633241">(Nov 24 2021 at 19:48)</a>:</h4>
<p>a vector you have to have runtime dynamic checks for each individual lane of???</p>



<a name="262633248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633248" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633248">(Nov 24 2021 at 19:48)</a>:</h4>
<p>You could have Simd&lt;Cell&lt;&amp;mut T&gt;, _&gt; which is a safe equivalent to Simd&lt;* mut T, _&gt;</p>



<a name="262633251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633251" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633251">(Nov 24 2021 at 19:48)</a>:</h4>
<p>?????????????</p>



<a name="262633255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633255">(Nov 24 2021 at 19:48)</a>:</h4>
<p>Cell isn't copy either</p>



<a name="262633268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633268">(Nov 24 2021 at 19:48)</a>:</h4>
<p>it just requires the value be Copy</p>



<a name="262633286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633286">(Nov 24 2021 at 19:49)</a>:</h4>
<p>Yeah that is true</p>



<a name="262633296"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633296" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633296">(Nov 24 2021 at 19:49)</a>:</h4>
<p>Okay,</p>



<a name="262633319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633319">(Nov 24 2021 at 19:49)</a>:</h4>
<p>Like I said, I'm not attached to vectors of references, but I don't want to attach arbitrary limitations now that prevent them, either</p>



<a name="262633383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633383">(Nov 24 2021 at 19:50)</a>:</h4>
<p>Or prevent any other unusual element types</p>



<a name="262633394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633394">(Nov 24 2021 at 19:50)</a>:</h4>
<p>Given that we have the liberty to rewrite all this code at any moment</p>



<a name="262633408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633408" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633408">(Nov 24 2021 at 19:50)</a>:</h4>
<p>that is only an issue if you are proposing stabilization today</p>



<a name="262633442"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633442" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633442">(Nov 24 2021 at 19:51)</a>:</h4>
<p>I don't think it's fair to say we should just write whatever we want because it's not going to be stable today</p>



<a name="262633479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633479">(Nov 24 2021 at 19:51)</a>:</h4>
<p>We should be aiming for something that is correct now, even though it's possible we will come up with better solutions in the future</p>



<a name="262633543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633543">(Nov 24 2021 at 19:52)</a>:</h4>
<p>Several of the examples you have brought up tho' don't even work with our current model.</p>



<a name="262633565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633565" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633565">(Nov 24 2021 at 19:52)</a>:</h4>
<p>Even if we wiggle some of the trait bounds around.</p>



<a name="262633630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633630">(Nov 24 2021 at 19:53)</a>:</h4>
<p>if something hasn't even been agreed on as an update to our model, it shouldn't be impacting how we write the code <strong>much</strong>.</p>



<a name="262633636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633636" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633636">(Nov 24 2021 at 19:53)</a>:</h4>
<p>My fundamental concern is that T: Trait implying Simd&lt;T, _&gt;: Trait is wrong, this is just one example of why it might be wrong</p>



<a name="262633669"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633669" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633669">(Nov 24 2021 at 19:53)</a>:</h4>
<p>Regardless of if we actually want to support references or not</p>



<a name="262633758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633758" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633758">(Nov 24 2021 at 19:54)</a>:</h4>
<p>I will agree that such is a reason for action when you post a revert of <a href="https://github.com/rust-lang/portable-simd/issues/36">https://github.com/rust-lang/portable-simd/issues/36</a></p>



<a name="262633796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633796" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633796">(Nov 24 2021 at 19:54)</a>:</h4>
<p>Yeah those functions are wrong too</p>



<a name="262633830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633830">(Nov 24 2021 at 19:55)</a>:</h4>
<p>But I don't think we should be going full steam ahead with something we know is wrong because we already had some mistakes</p>



<a name="262633943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262633943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262633943">(Nov 24 2021 at 19:56)</a>:</h4>
<p>Throw down, then!<br>
Like my issue here isn't that I think you're wrong, it's that I think your disagreement here functionally constitutes displacement of energy that could be put into actually making the changes you want to see.</p>



<a name="262634045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262634045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262634045">(Nov 24 2021 at 19:57)</a>:</h4>
<p>Well, tomorrow is Thanksgiving and I personally don't have the time to make the changes at this moment, but now you already merged the other PR that I had objections with that just increases the amount of code I would need to change</p>



<a name="262634152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262634152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262634152">(Nov 24 2021 at 19:58)</a>:</h4>
<p>I don't think it's fair to continue merging code today because I haven't gotten around to fixing a months-old mistake I only recently noticed</p>



<a name="262634537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hypothetical%20vector%20of%20reference%20comparators/near/262634537" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hypothetical.20vector.20of.20reference.20comparators.html#262634537">(Nov 24 2021 at 20:02)</a>:</h4>
<p>And that is why I proposed <a href="https://github.com/rust-lang/portable-simd/issues/191">portable-simd#191</a>.<br>
Anyways. Go enjoy your holiday.<br>
I don't have friends or family, so I do whatever instead.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>