<html>
<head><meta charset="utf-8"><title>Hi · project-portable-simd · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/index.html">project-portable-simd</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html">Hi</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="238905674"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/238905674" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Thomson <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#238905674">(May 15 2021 at 15:30)</a>:</h4>
<p>Hi all.</p>
<p>I have considerable experience with SIMD from my days writing the PS3 compiler at SCEE and designing instruction sets in my youth. I would very much like to get the portable SIMD support  over the line as it seems to be a low priority.</p>
<p>I am teaching advanced Rust after a few decades of C++ and need to follow the trends.<br>
Get in touch if you need any help.</p>



<a name="238906029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/238906029" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#238906029">(May 15 2021 at 15:35)</a>:</h4>
<p>Hi Andy, have you taken a look at the stdsimd repository yet?  It's pretty mature at this point but still plenty of open issues: <a href="https://github.com/rust-lang/stdsimd">https://github.com/rust-lang/stdsimd</a></p>



<a name="238906105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/238906105" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#238906105">(May 15 2021 at 15:36)</a>:</h4>
<p>Right now we are aiming for our first milestone of getting it into the nightly compiler.</p>



<a name="238906328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/238906328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Thomson <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#238906328">(May 15 2021 at 15:41)</a>:</h4>
<p>Hi Caleb,</p>
<p>I appreciate you getting back to me. I'm writing a talk on Rust SIMD for Monday and realised that I was out of date.</p>
<p>I'm looking at the RFCs and stdsimd right now. I used packed_simd a couple of years ago in the arrow crate and my own private bioinformatics work. I'll see if there are any issues that I can take up. Always a good way to learn a project.</p>
<p>Thanks, Andy.</p>



<a name="253869047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/253869047" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gonzalo Brito (gnzlbg) <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#253869047">(Sep 18 2021 at 13:34)</a>:</h4>
<p>Haha, don't know if that's a good or a bad thing. Hopefully with const generics one does not need all the macros anymore.</p>



<a name="253869085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/253869085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#253869085">(Sep 18 2021 at 13:35)</a>:</h4>
<p>Well, you've come back at the right time, I wrapped up a change a few weeks ago that removed a decent amount of the macros.  We still have some but it's not too bad</p>



<a name="253869170"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/253869170" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gonzalo Brito (gnzlbg) <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#253869170">(Sep 18 2021 at 13:36)</a>:</h4>
<p>I would like to help shipping this in any way I can.</p>



<a name="253869223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/253869223" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#253869223">(Sep 18 2021 at 13:37)</a>:</h4>
<p>Not sure if you have seen the new repo yet: <a href="https://github.com/rust-lang/portable-simd">https://github.com/rust-lang/portable-simd</a></p>



<a name="253869298"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/253869298" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gonzalo Brito (gnzlbg) <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#253869298">(Sep 18 2021 at 13:38)</a>:</h4>
<p>No I haven't, thanks for the link! I am catching up with const generics, GATs and other new features from the last two years.</p>



<a name="253883910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/253883910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#253883910">(Sep 18 2021 at 17:58)</a>:</h4>
<p>Hihi.</p>



<a name="253885088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/253885088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#253885088">(Sep 18 2021 at 18:21)</a>:</h4>
<p><span class="user-mention" data-user-id="441719">@Gonzalo Brito (gnzlbg)</span> Sooo actually a thing that would be truly blessed and that only you can do is... probably updating <code>packed_simd</code> with the latest point-release and putting someone else on release privileges (hi!) so that it builds on nightly and can be released in the future. &lt;_&lt;</p>
<p>There are still users of <code>packed_simd</code> via <code>packed_simd_2</code>, even though we want to get everyone off it onto <code>core::simd</code>, and removing the ecosystem split/confusion/breakage entirely would be good.</p>



<a name="253885458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/253885458" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#253885458">(Sep 18 2021 at 18:28)</a>:</h4>
<p>And uhh sorry for putting out the fires around your crate with uhhhh more fire. &lt;_&lt;</p>



<a name="253885466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/253885466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#253885466">(Sep 18 2021 at 18:28)</a>:</h4>
<p><del>something something controlled burn</del></p>



<a name="254271183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/254271183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gonzalo Brito (gnzlbg) <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#254271183">(Sep 21 2021 at 20:16)</a>:</h4>
<p>Sure that sounds doable</p>



<a name="254271296"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/254271296" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gonzalo Brito (gnzlbg) <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#254271296">(Sep 21 2021 at 20:17)</a>:</h4>
<p>I'll try to get to it this week</p>



<a name="257673523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/257673523" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Remi <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#257673523">(Oct 15 2021 at 10:02)</a>:</h4>
<p>Hi all, I wanted to know if you guys had an idea (even vague) when portable simd would be released into stable.<br>
I am looking forward to it in order to use CRC32 CPU instructions on aarch64 for performance.<br>
Thank you for your work!</p>



<a name="257685252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/257685252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#257685252">(Oct 15 2021 at 11:52)</a>:</h4>
<p>Hi, all I know for sure is that it won't be for a very long time, since we haven't hit nightly yet (though that's in process)</p>



<a name="257686205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/257686205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Kratz <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#257686205">(Oct 15 2021 at 12:00)</a>:</h4>
<p>@Remi If you just want to use crc32 instructions on ARM64 can use the <a href="https://doc.rust-lang.org/core/arch/aarch64/index.html#functions"><code>core::arch::aarch64::__crc32*</code> intrinsics</a> on nightly.</p>



<a name="257686447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/257686447" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Remi <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#257686447">(Oct 15 2021 at 12:03)</a>:</h4>
<p>Thank you for the reply, when you say "it won't be for a very long time", are we talking about weeks / months / years ?<br>
Unfortunately, I do not have the option to use nightly :/</p>



<a name="257686534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/257686534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#257686534">(Oct 15 2021 at 12:04)</a>:</h4>
<p>A year might be a good bet.  Months is possible but optimistic.</p>



<a name="257686719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/257686719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#257686719">(Oct 15 2021 at 12:05)</a>:</h4>
<p>Portable-simd won't add specialized instructions like crc32 calculations. As the name says it is only for instructions portable across most architectures like additions. For specialized instructions you will need to use <code>core::arch</code>.</p>



<a name="257695221"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/257695221" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Remi <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#257695221">(Oct 15 2021 at 13:13)</a>:</h4>
<p><span class="user-mention" data-user-id="133247">@bjorn3</span>  ok i see, thanks! I thought this project was the path towards simd stabilization. Would you happen to have an idea for an ETA for stable core::arch::aarch64 ?</p>



<a name="257695777"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/257695777" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#257695777">(Oct 15 2021 at 13:17)</a>:</h4>
<p><a href="https://github.com/rust-lang/stdarch/pull/1230">https://github.com/rust-lang/stdarch/pull/1230</a> will implement the remaining neon intrinsics. Once it is merged it will probably be necessary to have people test it for a while. There currently seems to be a bug with some of the intrinsics: <a href="https://github.com/rust-lang/stdarch/issues/1217">https://github.com/rust-lang/stdarch/issues/1217</a> Once all issues are fixed and no further issues are found they can be proposed for stabilization I think. I don't have a clue how long it will take though.</p>



<a name="257696464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/257696464" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Remi <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#257696464">(Oct 15 2021 at 13:22)</a>:</h4>
<p>ok thank you!</p>



<a name="257743257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/257743257" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#257743257">(Oct 15 2021 at 18:27)</a>:</h4>
<p>No, this is an entirely separate project with a different purpose than architectural instructions.</p>



<a name="257744199"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/257744199" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#257744199">(Oct 15 2021 at 18:33)</a>:</h4>
<p>And CRC32 isn't even a SIMD instruction.</p>



<a name="257746781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/257746781" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#257746781">(Oct 15 2021 at 18:53)</a>:</h4>
<p>though we might add simd carry-less multiply (supported on x86 and probably other archs too), which can be used to compute crcs</p>



<a name="257819490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Hi/near/257819490" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Hi.html#257819490">(Oct 16 2021 at 10:03)</a>:</h4>
<p><span class="user-mention" data-user-id="451002">@Remi</span> In the very short term, if you want to use aarch64 CRC32 instructions, you may want to link an assembly file into your project using the <code>cc</code> crate. In the medium term, you'll be able to use <code>asm!</code>, which I'd expect to see stabilized sooner.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>