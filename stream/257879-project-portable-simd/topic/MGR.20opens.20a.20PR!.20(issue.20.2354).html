<html>
<head><meta charset="utf-8"><title>MGR opens a PR! (issue #54) · project-portable-simd · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/index.html">project-portable-simd</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html">MGR opens a PR! (issue #54)</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="223992750"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/223992750" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#223992750">(Jan 26 2021 at 03:11)</a>:</h4>
<p><span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span> <a href="https://www.youtube.com/watch?v=zeKE0NHUtUw">joins the battle!</a><br>
...wait wrong link. Here we go. <a href="https://github.com/rust-lang/stdsimd/pull/55">MGR opens a PR!</a><br>
to address <a href="https://github.com/rust-lang/stdsimd/issues/54">https://github.com/rust-lang/stdsimd/issues/54</a><br>
Si tienes más pregunta, preguntar áqui por favor. (oh god I probably botched that horribly)</p>
<div class="youtube-video message_inline_image"><a data-id="zeKE0NHUtUw" href="https://www.youtube.com/watch?v=zeKE0NHUtUw"><img src="https://i.ytimg.com/vi/zeKE0NHUtUw/default.jpg"></a></div>



<a name="223994389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/223994389" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#223994389">(Jan 26 2021 at 03:48)</a>:</h4>
<p>Awwww yisss</p>



<a name="223994465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/223994465" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#223994465">(Jan 26 2021 at 03:49)</a>:</h4>
<p>Si tienes más preguntas(1), pregunta(2) aquí(3) por favor. </p>
<ol>
<li>Plurals need 's'</li>
<li>Imperative</li>
<li>Accent always the i on this one.</li>
</ol>



<a name="223995623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/223995623" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#223995623">(Jan 26 2021 at 04:16)</a>:</h4>
<p>Oh wow <strong>only</strong> making that many typos? Nice.</p>



<a name="223995763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/223995763" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#223995763">(Jan 26 2021 at 04:19)</a>:</h4>
<p>Alright, I think I can give it another push tonight.</p>



<a name="223995834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/223995834" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#223995834">(Jan 26 2021 at 04:21)</a>:</h4>
<p>Also, my initials are technically MRG, but I prefer to just be called Raz.</p>



<a name="223998435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/223998435" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#223998435">(Jan 26 2021 at 05:16)</a>:</h4>
<p>oh sheesh~ I'm sorry! reading everything backwards.</p>



<a name="224003100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224003100" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224003100">(Jan 26 2021 at 06:58)</a>:</h4>
<p>OK, trying to write the test now. How do I make sure that the attribute is applied only to integer types? Is it enough that I am writing the test within <code>ops_impl/int_macros.rs</code>? There's a <code>@float</code> macro guard in some of the other ones and I'm not sure if I should care about that here.</p>



<a name="224003637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224003637" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224003637">(Jan 26 2021 at 07:10)</a>:</h4>
<p>OK this is my progress so far - it seems to pass tests locally.<br>
<code>tests/ops_impl/int_macros.rs</code>:</p>
<div class="codehilite"><pre><span></span><code>            #[test]
            #[cfg_attr(target_arch = &quot;wasm32&quot;, wasm_bindgen_test)]
            fn neg() {
                let v = from_slice(&amp;A);
                let expected = apply_unary_lanewise(v, core::ops::Neg::neg);
                assert_biteq!(-v, expected);
            }
            #[test]
            #[cfg_attr(target_arch = &quot;wasm32&quot;, wasm_bindgen_test)]
            #[should_panic]
            fn neg_panics() {
                let v = from_slice(&amp;vec![$scalar::MIN; 64]);
                // neg(MIN) should panic for integer types
                let expected = apply_unary_lanewise(v, core::ops::Neg::neg);
                assert_biteq!(-v, expected);
            }
</code></pre></div>



<a name="224066421"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224066421" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224066421">(Jan 26 2021 at 16:40)</a>:</h4>
<p>@jubilee How do people usually handle navigating the test file dumps? I just <code>cargo test &gt; temp</code> and then check it out in vim to see that the entire test matrix got produced and ran accordingly. Do people use a more ergonomic workflow?</p>



<a name="224087746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224087746" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224087746">(Jan 26 2021 at 19:10)</a>:</h4>
<p><span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span> Most of the tests will simply say whether they completed or not, so you don't need to review the entire test log, it will just tell you what you failed.</p>



<a name="224087857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224087857" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224087857">(Jan 26 2021 at 19:11)</a>:</h4>
<p>Gotcha. I just wanted to make sure I wasn't generating float tests for the int macros.</p>



<a name="224088554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224088554" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224088554">(Jan 26 2021 at 19:16)</a>:</h4>
<p>the trick with @float only matters for the macros which are deliberately applied to both.</p>



<a name="224116069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224116069" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224116069">(Jan 26 2021 at 22:47)</a>:</h4>
<p>OK, I pushed the appropriate tests (I think).<br>
If I run <code>cargo test</code> locally, all pass.<br>
On CI, the new tests all fail (which is fine, for now.)<br>
How can I run <code>cargo test --test ops</code>?</p>



<a name="224116221"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224116221" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224116221">(Jan 26 2021 at 22:48)</a>:</h4>
<p>Are you trying to just run a subset of the tests?</p>



<a name="224117236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224117236" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224117236">(Jan 26 2021 at 22:58)</a>:</h4>
<p>Yes <span class="user-mention" data-user-id="312331">@Caleb Zulawski</span> , because the <code>ops</code> <code>int_macros</code> are the only ones touched by my PR.</p>



<a name="224117299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224117299" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224117299">(Jan 26 2021 at 22:59)</a>:</h4>
<p>I believe you should be able to do something like <code>cargo test ops_impl::*</code></p>



<a name="224117387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224117387" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224117387">(Jan 26 2021 at 23:00)</a>:</h4>
<p>Though I think that's basically all of the tests</p>



<a name="224117531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224117531" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224117531">(Jan 26 2021 at 23:02)</a>:</h4>
<p>OK. Then I need a new idea for how to run my tests locally so I can reproduce the failures CI is seeing with their command to run tests.</p>



<a name="224117608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224117608" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224117608">(Jan 26 2021 at 23:02)</a>:</h4>
<p>It's curious that they'd be passing at all for you</p>



<a name="224117643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224117643" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224117643">(Jan 26 2021 at 23:03)</a>:</h4>
<p>When I investigated the compiler backend it doesn't appear to produce any panics in any situations</p>



<a name="224117662"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224117662" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224117662">(Jan 26 2021 at 23:03)</a>:</h4>
<p><span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="224117725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224117725" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224117725">(Jan 26 2021 at 23:03)</a>:</h4>
<p>I'll check out your branch in a bit and see if I can reproduce</p>



<a name="224117727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224117727" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224117727">(Jan 26 2021 at 23:03)</a>:</h4>
<div class="codehilite"><pre><span></span><code>[I] mrg@JuliaLap ~/p/r/s/c/core_simd (min-panics)&gt; cargo test --quiet
warning: the feature `min_const_generics` has been stable since 1.51.0 and no longer requires an attribute to enable
 --&gt; crates/core_simd/src/lib.rs:2:76
  |
2 | #![feature(repr_simd, platform_intrinsics, link_llvm_intrinsics, simd_ffi, min_const_generics)]
  |                                                                            ^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(stable_features)]` on by default

warning: 1 warning emitted

warning: the feature `min_const_generics` has been stable since 1.51.0 and no longer requires an attribute to enable
 --&gt; crates/core_simd/src/lib.rs:2:76
  |
2 | #![feature(repr_simd, platform_intrinsics, link_llvm_intrinsics, simd_ffi, min_const_generics)]
  |                                                                            ^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(stable_features)]` on by default

warning: 1 warning emitted


running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s


running 2318 tests
.................................................................................................... 100/2318
.................................................................................................... 200/2318
.................................................................................................... 300/2318
.................................................................................................... 400/2318
.................................................................................................... 500/2318
.................................................................................................... 600/2318
.................................................................................................... 700/2318
.................................................................................................... 800/2318
.................................................................................................... 900/2318
.................................................................................................... 1000/2318
.................................................................................................... 1100/2318
.................................................................................................... 1200/2318
.................................................................................................... 1300/2318
.................................................................................................... 1400/2318
.................................................................................................... 1500/2318
.................................................................................................... 1600/2318
.................................................................................................... 1700/2318
.................................................................................................... 1800/2318
.................................................................................................... 1900/2318
.................................................................................................... 2000/2318
.................................................................................................... 2100/2318
.................................................................................................... 2200/2318
.................................................................................................... 2300/2318
..................
test result: ok. 2318 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.10s
running 0 tests
test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s
</code></pre></div>



<a name="224117850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224117850" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224117850">(Jan 26 2021 at 23:05)</a>:</h4>
<p>Well, that is the same number of tests... so it's not like it's skipping it</p>



<a name="224124423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224124423" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224124423">(Jan 27 2021 at 00:26)</a>:</h4>
<p><span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span> I also do not get any errors</p>



<a name="224124473"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224124473" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224124473">(Jan 27 2021 at 00:27)</a>:</h4>
<div class="message_inline_image"><a href="https://media.tenor.com/images/6f934479914fbd708238bab284eeff0a/tenor.gif"><img src="https://media.tenor.com/images/6f934479914fbd708238bab284eeff0a/tenor.gif"></a></div>



<a name="224124552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224124552" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224124552">(Jan 27 2021 at 00:28)</a>:</h4>
<p>ah I figured it out. <code>cargo test --release</code> does not panic</p>



<a name="224124572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224124572" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224124572">(Jan 27 2021 at 00:28)</a>:</h4>
<p>the panics only occur in debug mode</p>



<a name="224124586"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224124586" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224124586">(Jan 27 2021 at 00:28)</a>:</h4>
<p>Oh!</p>



<a name="224124673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224124673" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224124673">(Jan 27 2021 at 00:30)</a>:</h4>
<p>interestingly, this is because our <code>Neg</code> implementation uses <code>Sub</code> under the hood</p>



<a name="224124733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224124733" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224124733">(Jan 27 2021 at 00:30)</a>:</h4>
<p>(I think)</p>



<a name="224124840"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224124840" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224124840">(Jan 27 2021 at 00:31)</a>:</h4>
<p>This appears to match the scalar behavior</p>



<a name="224124848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224124848" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224124848">(Jan 27 2021 at 00:31)</a>:</h4>
<p>Yes, theres a <code>Self::splat(0) - self</code> call.</p>



<a name="224125364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224125364" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224125364">(Jan 27 2021 at 00:37)</a>:</h4>
<p>Ok, no idea how to handle panics in release mode. I poked around the Rust book for a bit but I've never done error handling before Rust <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="224125466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224125466" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224125466">(Jan 27 2021 at 00:39)</a>:</h4>
<p><a href="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=ec0381fa3a628ad0730fb052fc12c536">https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=ec0381fa3a628ad0730fb052fc12c536</a></p>



<a name="224125478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224125478" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224125478">(Jan 27 2021 at 00:39)</a>:</h4>
<p>This is interesting because it doesn't panic?</p>



<a name="224125831"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224125831" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224125831">(Jan 27 2021 at 00:43)</a>:</h4>
<p>Hmmm.</p>



<a name="224126044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126044" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126044">(Jan 27 2021 at 00:45)</a>:</h4>
<p>I looked at the backend and there's no obvious reason why it would panic. I'm not actually convinced it is panicking :(</p>



<a name="224126141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126141" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126141">(Jan 27 2021 at 00:47)</a>:</h4>
<p>No wait that's good for now - I only added the tests so that I can get them to pass later.</p>



<a name="224126146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126146" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126146">(Jan 27 2021 at 00:47)</a>:</h4>
<div class="codehilite"><pre><span></span><code>---- ops_impl::isize::isizex8::neg_of_int_min_panics stdout ----
thread &#39;ops_impl::isize::isizex8::neg_of_int_min_panics&#39; panicked at &#39;attempt to negate with overflow&#39;, /rustc/f4eb5d9f719cd3c849befc8914ad8ce0ddcf34ed/library/core/src/ops/arith.rs:672:1
</code></pre></div>
<p>alas</p>



<a name="224126162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126162" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126162">(Jan 27 2021 at 00:47)</a>:</h4>
<p>I just wasn't sure how to trigger the "please do panic on release" on my machine.</p>



<a name="224126185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126185" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126185">(Jan 27 2021 at 00:47)</a>:</h4>
<p>I still think something is somewhat wrong here</p>



<a name="224126244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126244" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126244">(Jan 27 2021 at 00:48)</a>:</h4>
<p>... yeah that's kinda my luck when working with code <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="224126248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126248" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126248">(Jan 27 2021 at 00:48)</a>:</h4>
<p>I would expect it to never panic, I'm not actually sure what is causing this panic</p>



<a name="224126281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126281" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126281">(Jan 27 2021 at 00:48)</a>:</h4>
<p>And why I can't reproduce it on the playground!</p>



<a name="224126293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126293" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126293">(Jan 27 2021 at 00:48)</a>:</h4>
<p>Oh lol.</p>



<a name="224126297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126297" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126297">(Jan 27 2021 at 00:49)</a>:</h4>
<p>And why it's even talking about negating!</p>



<a name="224126327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126327" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126327">(Jan 27 2021 at 00:49)</a>:</h4>
<p>oh wait, ha</p>



<a name="224126334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126334" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126334">(Jan 27 2021 at 00:49)</a>:</h4>
<p>looking at your test again</p>



<a name="224126416"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126416" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126416">(Jan 27 2021 at 00:50)</a>:</h4>
<p>you are using <code>apply_unary_lanewise</code> which will do both the simd and the scalar op.  it's not the simd op that's panicking here, it's the scalar op</p>



<a name="224126459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126459" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126459">(Jan 27 2021 at 00:51)</a>:</h4>
<p>I would recommend just calling <code>neg</code> directly, since we don't actually care what the result is</p>



<a name="224126476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126476" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126476">(Jan 27 2021 at 00:51)</a>:</h4>
<p>(since it's not producing one)</p>



<a name="224126638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126638" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126638">(Jan 27 2021 at 00:53)</a>:</h4>
<p>Probably something like <code>let _ = -v;</code> would be sufficient</p>



<a name="224126834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126834" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126834">(Jan 27 2021 at 00:55)</a>:</h4>
<p>OK, that actually makes the tests fails because they are not panicking properly.</p>



<a name="224126945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224126945" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224126945">(Jan 27 2021 at 00:57)</a>:</h4>
<p>yup!</p>



<a name="224127080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224127080" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224127080">(Jan 27 2021 at 00:59)</a>:</h4>
<p>Yup, and that makes sense because I haven't implemented the branch to check yet.</p>



<a name="224127883"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224127883" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224127883">(Jan 27 2021 at 01:09)</a>:</h4>
<p>It seems the Rust plugin I have for vim runs the appropriate tests, but not <code>cargo test</code>.<br>
Whelp, tests seem to work for neg now, pushing to the branch.</p>



<a name="224128321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224128321" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224128321">(Jan 27 2021 at 01:14)</a>:</h4>
<p>Uh, what do people use to check out the disassembly / llvm IR that Rust emits? Just wanna make sure the branch check isn't generating monstrous code.</p>



<a name="224128356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224128356" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224128356">(Jan 27 2021 at 01:15)</a>:</h4>
<p>Any tips <span class="user-mention" data-user-id="281757">@Jubilee</span> ? Julia spoils me with the REPL + macros.<br>
Do all the Rust peeps just use godbolt?</p>



<a name="224128441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224128441" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224128441">(Jan 27 2021 at 01:16)</a>:</h4>
<p>you can make it do so manually, which is really all Rust does, and you can also use <a href="http://play.rust-lang.org">play.rust-lang.org</a>, but yes, we don't have any REPL.</p>



<a name="224128565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224128565" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224128565">(Jan 27 2021 at 01:18)</a>:</h4>
<p>The branch is probably going to be not too good until we have some better support for comparisons</p>



<a name="224128591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224128591" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224128591">(Jan 27 2021 at 01:18)</a>:</h4>
<p>Specifically a vectorized "any"</p>



<a name="224128767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224128767" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224128767">(Jan 27 2021 at 01:21)</a>:</h4>
<p>I thought about explicitly doing a lane-to-lane vertical equality comparison with the <code>[$scalar::MIN; LANES]</code> but that still needs a horizontal reduction at some point.</p>



<a name="224128897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224128897" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224128897">(Jan 27 2021 at 01:23)</a>:</h4>
<p>The long-term solution will probably be to use single-bit masks, cast it to an integer, and check if it's zero</p>



<a name="224128912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224128912" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224128912">(Jan 27 2021 at 01:23)</a>:</h4>
<p>Which at least on intel produces a very efficient horizontal reduction</p>



<a name="224128972"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224128972" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224128972">(Jan 27 2021 at 01:24)</a>:</h4>
<p>But until we have those masks I think your way is fine</p>



<a name="224128987"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224128987" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224128987">(Jan 27 2021 at 01:24)</a>:</h4>
<p>... I have yet to wander into ARM/NEON and I have no idea what the tradeoffs are.<br>
OK, I think I will implement the rest of the cases and bail on performance for now.</p>



<a name="224128990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224128990" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224128990">(Jan 27 2021 at 01:24)</a>:</h4>
<p>For efficiency we will have wrapping_neg anyway</p>



<a name="224129134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224129134" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224129134">(Jan 27 2021 at 01:27)</a>:</h4>
<p>I saw a comment on <a href="https://github.com/rust-lang/rust/issues/54">#54</a> but don't know why the wrapping is prefereable.</p>



<a name="224129173"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224129173" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224129173">(Jan 27 2021 at 01:27)</a>:</h4>
<p>I'm not sure either, but that's consistent with the scalar ops</p>



<a name="224134053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134053" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134053">(Jan 27 2021 at 02:49)</a>:</h4>
<p>Good news for today:</p>
<ol>
<li>Tests pass accordingly for the <code>neg(MIN)</code> test matrix</li>
<li>The tests for the remaining 4 cases seem to panic as they should.</li>
<li>Test matrix passes on 41 CI systems, except for Travis, which I think is due to their, uh, recent change of policy wrt FOSS.</li>
</ol>



<a name="224134156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134156" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134156">(Jan 27 2021 at 02:50)</a>:</h4>
<p>Great news! Yeah I heard about travis and completely forgot.  Perhaps we will need to migrate back to GH Actions with <code>cross</code></p>



<a name="224134171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134171" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134171">(Jan 27 2021 at 02:51)</a>:</h4>
<p>Great.</p>



<a name="224134180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134180" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134180">(Jan 27 2021 at 02:51)</a>:</h4>
<p>I guess this means the PR needs to be reviewed, then squashed and merged?</p>



<a name="224134194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134194" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134194">(Jan 27 2021 at 02:51)</a>:</h4>
<p>I had planned to log that as an issue but I didn't want to be alarmist.</p>



<a name="224134267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134267" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134267">(Jan 27 2021 at 02:53)</a>:</h4>
<p>I checked and it doesn't have to do with that, it's issue <a href="https://github.com/rust-lang/stdsimd/issues/51">https://github.com/rust-lang/stdsimd/issues/51</a> (I think)</p>



<a name="224134272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134272" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134272">(Jan 27 2021 at 02:53)</a>:</h4>
<p>So the Travis failures where only on webassemly builds (5/7 were succesful).</p>



<a name="224134284"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134284" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134284">(Jan 27 2021 at 02:53)</a>:</h4>
<p>Ah, thanks for the catch @jubilee.</p>



<a name="224134340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134340" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134340">(Jan 27 2021 at 02:54)</a>:</h4>
<p>Ugh the wasm bug is back?  I had found a workaround but forgot what it was.  Something stupid.  One of my recent commits has it.</p>



<a name="224134355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134355" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134355">(Jan 27 2021 at 02:55)</a>:</h4>
<p><span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span> whenever you're ready yeah, we'll review it and merge it in</p>



<a name="224134460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134460" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134460">(Jan 27 2021 at 02:56)</a>:</h4>
<p>It looks like it's not picking up the #[should_panic] annotation properly in wasm.</p>



<a name="224134465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134465" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134465">(Jan 27 2021 at 02:56)</a>:</h4>
<p>I'm ready now if anyone else is. What's the standard operating procedure? Change suggestions on the Github PR and following up the conversation over there?</p>



<a name="224134514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134514" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134514">(Jan 27 2021 at 02:57)</a>:</h4>
<p>yeah, suggestions on the PR though if it gets confusing we'll just talk here</p>



<a name="224134523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134523" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134523">(Jan 27 2021 at 02:57)</a>:</h4>
<p>we don't really have a formal policy</p>



<a name="224134529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224134529" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224134529">(Jan 27 2021 at 02:58)</a>:</h4>
<p>Cool cool.</p>



<a name="224135038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224135038" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224135038">(Jan 27 2021 at 03:06)</a>:</h4>
<p><span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span> pong</p>



<a name="224135154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224135154" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224135154">(Jan 27 2021 at 03:08)</a>:</h4>
<p>On it.</p>



<a name="224135181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224135181" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224135181">(Jan 27 2021 at 03:09)</a>:</h4>
<div class="message_inline_image"><a href="https://thumbs.gfycat.com/CriminalKnobbyHind-small.gif"><img src="https://thumbs.gfycat.com/CriminalKnobbyHind-small.gif"></a></div>



<a name="224135273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224135273" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224135273">(Jan 27 2021 at 03:11)</a>:</h4>
<p>I figured it out lol. <a href="https://github.com/rust-lang/stdsimd/pull/55/files#r564994539">https://github.com/rust-lang/stdsimd/pull/55/files#r564994539</a></p>



<a name="224135954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224135954" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224135954">(Jan 27 2021 at 03:25)</a>:</h4>
<p>OK, I looked and mask128x4 appears to actually work now, so we should close stdsimd/51.</p>



<a name="224136023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224136023" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224136023">(Jan 27 2021 at 03:26)</a>:</h4>
<p>It only works because of my hack, let me find it</p>



<a name="224136045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224136045" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224136045">(Jan 27 2021 at 03:26)</a>:</h4>
<p><a href="https://github.com/rust-lang/stdsimd/blob/master/crates/core_simd/src/macros.rs#L54-L73">https://github.com/rust-lang/stdsimd/blob/master/crates/core_simd/src/macros.rs#L54-L73</a></p>



<a name="224136081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224136081" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224136081">(Jan 27 2021 at 03:27)</a>:</h4>
<p><span class="user-mention" data-user-id="312331">@Caleb Zulawski</span> is that something I should add to the PR?</p>



<a name="224136151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224136151" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224136151">(Jan 27 2021 at 03:28)</a>:</h4>
<p>Nope, just why that bug is still open</p>



<a name="224136154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224136154" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224136154">(Jan 27 2021 at 03:28)</a>:</h4>
<p>oh.</p>



<a name="224136547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224136547" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224136547">(Jan 27 2021 at 03:35)</a>:</h4>
<p>Wasn't there a way for github to let people write their recommended change and teh PR author / a reviewer could click something to accept it and modify the PR?</p>



<a name="224136598"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224136598" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224136598">(Jan 27 2021 at 03:36)</a>:</h4>
<p>That is a thing but honestly I have no idea how to write a suggestion :)</p>



<a name="224136619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224136619" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224136619">(Jan 27 2021 at 03:37)</a>:</h4>
<p>\```suggestion</p>



<a name="224136628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224136628" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224136628">(Jan 27 2021 at 03:37)</a>:</h4>
<p>oh, that's easy</p>



<a name="224136677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224136677" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224136677">(Jan 27 2021 at 03:38)</a>:</h4>
<p>it's easier than getting zulip to cooperate, I see</p>



<a name="224136692"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224136692" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224136692">(Jan 27 2021 at 03:38)</a>:</h4>
<p>Yes.<br>
There's also a button to click to add it.</p>



<a name="224136797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224136797" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224136797">(Jan 27 2021 at 03:40)</a>:</h4>
<p>Ugh, I dislike how pushing the changes suggested in a review doesn't pop up a diff from successive commits. Kinda hard to see if the suggestions have been addressed.</p>



<a name="224136826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224136826" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224136826">(Jan 27 2021 at 03:41)</a>:</h4>
<p>you mean this diff? <a href="https://github.com/rust-lang/stdsimd/pull/55/commits/f334776b764fbbc7c77fde2b3f83f7da26725d67">https://github.com/rust-lang/stdsimd/pull/55/commits/f334776b764fbbc7c77fde2b3f83f7da26725d67</a></p>



<a name="224136907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224136907" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224136907">(Jan 27 2021 at 03:43)</a>:</h4>
<p>Yup, that one - but it doesn't have the floating convo with the person + convo who started the suggestion right next to the code</p>



<a name="224137020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137020" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137020">(Jan 27 2021 at 03:45)</a>:</h4>
<p>Also, what do people mean with the wrapping the SIMD vector, and why is that an ergonomic design? I'm assuming that it's handy to do somehtinkg like <code>result.unwrap(...)</code> and if something in the simd-op went awry you can recover from it that way, but haven't seen it in the codebase yet.</p>



<a name="224137089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137089" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137089">(Jan 27 2021 at 03:46)</a>:</h4>
<p>Ah it's a little confusing, sorry, wrapping in this context means wrapping around from positive to negative integers, or maximum value to 0 for unsigned integers</p>



<a name="224137105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137105" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137105">(Jan 27 2021 at 03:47)</a>:</h4>
<p><a href="https://doc.rust-lang.org/std/primitive.u32.html#method.wrapping_add">https://doc.rust-lang.org/std/primitive.u32.html#method.wrapping_add</a><br>
like this function</p>



<a name="224137168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137168" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137168">(Jan 27 2021 at 03:48)</a>:</h4>
<p>also known as modular arithmetic.</p>



<a name="224137169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137169" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137169">(Jan 27 2021 at 03:48)</a>:</h4>
<p>Oh, <em>that</em> wrapping. Yeah gotcha.</p>



<a name="224137173"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137173" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137173">(Jan 27 2021 at 03:48)</a>:</h4>
<p>CS is ... 2 problems... naming things, all that.</p>



<a name="224137265"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137265" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137265">(Jan 27 2021 at 03:50)</a>:</h4>
<p>CS is 0 problems, naming things and handling overflow errors.</p>



<a name="224137292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137292" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137292">(Jan 27 2021 at 03:51)</a>:</h4>
<p>Alright - should I wait for others to chime in on the disallowing the wasm tests until tomorrow?<br>
The remaining blocker seems to be </p>
<ol>
<li>wg consensus on wrapping-behaviour.</li>
</ol>



<a name="224137375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137375" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137375">(Jan 27 2021 at 03:53)</a>:</h4>
<p>Question for the chat - all of these operations are unlikely to come up when writing normal user safe code right? People have to deliberately reach for this crate and cast to SIMD vectors to use the functions IIUC. That seems to me that people would be willing to undertake the performance vs safety tradeoff that is expected in using SIMD.</p>



<a name="224137381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137381" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137381">(Jan 27 2021 at 03:53)</a>:</h4>
<p>Correct.</p>



<a name="224137453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137453" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137453">(Jan 27 2021 at 03:54)</a>:</h4>
<p>though this crate will hopefully be part of core eventually, it is not a trivial concern regarding every mathematical op Ever. Our concerns basically revolve around how consistent we want to be</p>



<a name="224137457"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137457" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137457">(Jan 27 2021 at 03:54)</a>:</h4>
<p>OK - in Julia some SIMD could maybe happen if you wrote compiler friendly loops but the understanding over there is similar to "checked arithmetic kills FLOP/s, opt into it if you want, otherwise loops go brrr".</p>



<a name="224137487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137487" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137487">(Jan 27 2021 at 03:55)</a>:</h4>
<p>This library cannot affect autovectorization.</p>



<a name="224137497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137497" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137497">(Jan 27 2021 at 03:55)</a>:</h4>
<p>I think you're fine with the wasm tests.  There's really no workaround for that</p>



<a name="224137538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137538" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137538">(Jan 27 2021 at 03:56)</a>:</h4>
<p>oooh - that makes a lot more sense. Thanks Jubilee.</p>



<a name="224137545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137545" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137545">(Jan 27 2021 at 03:56)</a>:</h4>
<p>Right, autovec != SIMD intrinsics.</p>



<a name="224137723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137723" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137723">(Jan 27 2021 at 04:00)</a>:</h4>
<p>Alright, anything else I can work on right now?</p>



<a name="224137735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137735" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137735">(Jan 27 2021 at 04:00)</a>:</h4>
<p>This is related to autovectorization since it's also best-effort, but it's a little more explicit</p>



<a name="224137760"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137760" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137760">(Jan 27 2021 at 04:00)</a>:</h4>
<p>Y'all are missing craploads of doctests examples. Maybe I could add some of those and learn about some of the lib functions along the way.</p>



<a name="224137786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137786" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137786">(Jan 27 2021 at 04:01)</a>:</h4>
<p>Sure!<br>
I should note though that div/rem panic on overflow on release mode also.</p>



<a name="224137801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137801" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137801">(Jan 27 2021 at 04:01)</a>:</h4>
<p>the "overflow or not?" concern is literally only re: neg</p>



<a name="224137843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224137843" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224137843">(Jan 27 2021 at 04:02)</a>:</h4>
<p>Ah gotcha.</p>



<a name="224138111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224138111" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224138111">(Jan 27 2021 at 04:09)</a>:</h4>
<p>So, I am splitting the Neg question into its own topic, in essence. Sorry <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>  <a href="https://github.com/rust-lang/stdsimd/issues/56">https://github.com/rust-lang/stdsimd/issues/56</a></p>



<a name="224138458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224138458" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224138458">(Jan 27 2021 at 04:17)</a>:</h4>
<p>It's all good - the point is to get the problem right or at least make a good effort.</p>



<a name="224138526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224138526" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224138526">(Jan 27 2021 at 04:18)</a>:</h4>
<p>I'm guessing that means I should remove the code for <code>neg</code> and just leave the regression tests?</p>



<a name="224138731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224138731" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224138731">(Jan 27 2021 at 04:22)</a>:</h4>
<p>so about those regression tests.</p>



<a name="224138736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224138736" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224138736">(Jan 27 2021 at 04:22)</a>:</h4>
<p>F?</p>



<a name="224138817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224138817" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224138817">(Jan 27 2021 at 04:24)</a>:</h4>
<p>"apply_binary_scalar_rhs_lanewise" is doing scalar ops, which of course panic.</p>



<a name="224138968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224138968" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224138968">(Jan 27 2021 at 04:27)</a>:</h4>
<blockquote>
<p>process didn't exit successfully: <code>~/projects/stdsimd/target/debug/deps/ops-6770e1bc9a8f6e58</code> (signal: 8, SIGFPE: erroneous arithmetic operation)</p>
</blockquote>



<a name="224138990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224138990" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224138990">(Jan 27 2021 at 04:28)</a>:</h4>
<p>Whelp - lemme try and read the code because I just realized those functions are not doing what I think they are doing.</p>



<a name="224139040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224139040" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224139040">(Jan 27 2021 at 04:28)</a>:</h4>
<p>these regression tests do not regress when the scalar code is removed, so you get to write some actual guards anyways. :^)</p>



<a name="224139074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224139074" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224139074">(Jan 27 2021 at 04:29)</a>:</h4>
<p>it's basically "let's do this SIMD op but in a scalar way so we can make sure the scalar and the SIMD versions return the same thing". But if you do this with an op that panics in scalar code, while waiting for a panic, uh, you get the behavior of rustc.</p>



<a name="224139088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224139088" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224139088">(Jan 27 2021 at 04:29)</a>:</h4>
<p>OK ok.</p>



<a name="224139137"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224139137" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224139137">(Jan 27 2021 at 04:30)</a>:</h4>
<p>Ohhhhh that's what scalar means here.</p>



<a name="224139147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224139147" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224139147">(Jan 27 2021 at 04:30)</a>:</h4>
<p>yes! SIMD units are actually vectors, as opposed to scalar values.</p>



<a name="224139163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224139163" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224139163">(Jan 27 2021 at 04:30)</a>:</h4>
<p>Yeah those functions (<em>apply_foo_lanewise</em>) are missing from <a href="https://github.com/rust-lang/stdsimd/blob/master/beginners-guide.md">https://github.com/rust-lang/stdsimd/blob/master/beginners-guide.md</a> so I wasn't very clear on them.</p>



<a name="224139179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224139179" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224139179">(Jan 27 2021 at 04:31)</a>:</h4>
<p>I see we don't mention "scalar" there for comparison. OK, I was wondering what was most needed in the docs. Thank you~</p>



<a name="224139186"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224139186" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224139186">(Jan 27 2021 at 04:31)</a>:</h4>
<p>Oh right, you take a scalar, and apply an op to every element of the vec, so it is lanewise.</p>



<a name="224140064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224140064" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224140064">(Jan 27 2021 at 04:48)</a>:</h4>
<p>OK, I think I got the right operations now.<br>
How do I mark some operations as "not used" and get the warnings to chill out?</p>



<a name="224140316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224140316" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224140316">(Jan 27 2021 at 04:53)</a>:</h4>
<p>How can I get the appropriate SIMDified <code>b</code> here? My Rust-type foo is failing me:</p>
<div class="codehilite"><pre><span></span><code>            #[test]
            #[should_panic]
            fn rem_min_panic() {
                let a = from_slice(&amp;vec![$scalar::MIN; 64]);
                let b = from_slice(&amp;vec![-1 ; 64]);
                a % b;
            }
</code></pre></div>



<a name="224140369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224140369" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224140369">(Jan 27 2021 at 04:54)</a>:</h4>
<p>Because that gets me your same fun error <span class="user-mention" data-user-id="281757">@Jubilee</span> : </p>
<div class="codehilite"><pre><span></span><code>error: test failed, to rerun pass &#39;--test ops&#39;

Caused by:
  process didn&#39;t exit successfully: `/home/mrg/projects/rust/stdsimd/target/debug/deps/ops-cd097366a3944da4 rem_min_panic` (signal: 8, SIGFPE: erroneous arithmetic operation)
</code></pre></div>



<a name="224140380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224140380" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224140380">(Jan 27 2021 at 04:55)</a>:</h4>
<p>(Side note, It's bedtime here, I will read this in the morning. Thanks for all the help, till tomorrow!) <br>
<span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="224141309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224141309" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224141309">(Jan 27 2021 at 05:13)</a>:</h4>
<p><span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span> I'm not sure what you mean re: getting things to chill out.</p>
<p>But that code looks like that is correct, no? You merely need to modify the rem op so that it panics appropriately now.</p>



<a name="224141553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224141553" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224141553">(Jan 27 2021 at 05:18)</a>:</h4>
<p>rustc warns that <code> a % b</code> is unused.</p>



<a name="224141698"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224141698" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224141698">(Jan 27 2021 at 05:21)</a>:</h4>
<p>And since it gets blurted out x 20 test cases... I'd like to know how to suppress it - or how to add a dummy expression there.</p>



<a name="224142080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224142080" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224142080">(Jan 27 2021 at 05:29)</a>:</h4>
<p>I think you may need <code>let _ = a % b;</code> to indicate the value is unused</p>



<a name="224142307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224142307" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224142307">(Jan 27 2021 at 05:34)</a>:</h4>
<p>Ohhh! Yeah, that.</p>



<a name="224147075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224147075" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224147075">(Jan 27 2021 at 07:15)</a>:</h4>
<p>It's also totally ok to <code>#[allow(some_lints)]</code> in test code, depending what's best for the code.</p>
<p>Can also do hybrid things, like</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">_stuff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</code></pre></div>



<a name="224153927"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224153927" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224153927">(Jan 27 2021 at 08:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="246783">Miguel Raz Guzmán Macedo</span> <a href="#narrow/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354)/near/224128356">said</a>:</p>
<blockquote>
<p>Any tips <span class="user-mention silent" data-user-id="281757">Jubilee</span> ? Julia spoils me with the REPL + macros.<br>
Do all the Rust peeps just use godbolt?</p>
</blockquote>
<p><a href="https://github.com/google/evcxr/">https://github.com/google/evcxr/</a> is a REPL with both commandline and jupyter notebook support.</p>



<a name="224170792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224170792" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224170792">(Jan 27 2021 at 11:59)</a>:</h4>
<p>oh, that's cute.</p>



<a name="224221915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224221915" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thom Chiovoloni <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224221915">(Jan 27 2021 at 18:03)</a>:</h4>
<p>I use evcxr heavily (and contribute to it some — i added multiline support by writing a hacky rust lexer). but honestly yeah i mostly use it as a calculator, and use <a href="http://play.rust-lang.org">play.rust-lang.org</a> or godbolt for anything larger</p>



<a name="224240610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224240610" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224240610">(Jan 27 2021 at 20:12)</a>:</h4>
<p>OK time for some really Rust noob questions - whyyyyy oh why does Rust have <code>usize, isize</code> besides <code>uint</code> and <code>int</code>?</p>



<a name="224240697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224240697" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224240697">(Jan 27 2021 at 20:12)</a>:</h4>
<p>I've never needed this distinction before and they just super confuse me when I can't access arrays without casting stuff randomly into what the compiler asks for.</p>



<a name="224240754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224240754" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224240754">(Jan 27 2021 at 20:13)</a>:</h4>
<p>OK found this and am now calming down a bit. <a href="https://doc.rust-lang.org/reference/types/numeric.html#machine-dependent-integer-types">https://doc.rust-lang.org/reference/types/numeric.html#machine-dependent-integer-types</a></p>



<a name="224241687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224241687" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224241687">(Jan 27 2021 at 20:20)</a>:</h4>
<p>OK defs need some help for this <span class="user-mention" data-user-id="281757">@Jubilee</span> :<br>
I'm implementing the branch to check that <code>div(MIN, -1)</code> doesn't happen.<br>
How do I constrain the macros to only act on <code>int</code> types and not <code>uint</code> types? <br>
Rust is erroring because it rightly points out that <code>-1</code> can't happen in <code>uint</code>.<br>
I'm guessing I need to write 2 macros for each case, one for <code>int</code> and one for <code>uint</code>.</p>



<a name="224242387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224242387" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224242387">(Jan 27 2021 at 20:26)</a>:</h4>
<p><span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span> usize and isize are the size of a pointer on a given architecture, yes.<br>
Rust's primitives mostly have very sharp specifications on them, unlike C which says "int is eh whatever, but in practice an i16".</p>



<a name="224242482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224242482" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224242482">(Jan 27 2021 at 20:27)</a>:</h4>
<p>this is in <code>core_simd/ops.rs</code>, right?</p>



<a name="224243193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224243193" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224243193">(Jan 27 2021 at 20:33)</a>:</h4>
<p>OK, so,</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="fm">macro_rules!</span><span class="w"> </span><span class="n">impl_op</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">Add</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="cp">$type</span>:<span class="nc">ident</span><span class="p">,</span><span class="w"> </span><span class="cp">$scalar</span>:<span class="nc">ty</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">impl_op</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">@</span><span class="n">binary</span><span class="w"> </span><span class="cp">$type</span><span class="p">,</span><span class="w"> </span><span class="cp">$scalar</span><span class="p">,</span><span class="w"> </span><span class="n">Add</span>::<span class="n">add</span><span class="p">,</span><span class="w"> </span><span class="n">AddAssign</span>::<span class="n">add_assign</span><span class="p">,</span><span class="w"> </span><span class="n">simd_add</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">Sub</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="cp">$type</span>:<span class="nc">ident</span><span class="p">,</span><span class="w"> </span><span class="cp">$scalar</span>:<span class="nc">ty</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">impl_op</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">@</span><span class="n">binary</span><span class="w"> </span><span class="cp">$type</span><span class="p">,</span><span class="w"> </span><span class="cp">$scalar</span><span class="p">,</span><span class="w"> </span><span class="n">Sub</span>::<span class="n">sub</span><span class="p">,</span><span class="w"> </span><span class="n">SubAssign</span>::<span class="n">sub_assign</span><span class="p">,</span><span class="w"> </span><span class="n">simd_sub</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">Mul</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="cp">$type</span>:<span class="nc">ident</span><span class="p">,</span><span class="w"> </span><span class="cp">$scalar</span>:<span class="nc">ty</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">impl_op</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">@</span><span class="n">binary</span><span class="w"> </span><span class="cp">$type</span><span class="p">,</span><span class="w"> </span><span class="cp">$scalar</span><span class="p">,</span><span class="w"> </span><span class="n">Mul</span>::<span class="n">mul</span><span class="p">,</span><span class="w"> </span><span class="n">MulAssign</span>::<span class="n">mul_assign</span><span class="p">,</span><span class="w"> </span><span class="n">simd_mul</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">Div</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="cp">$type</span>:<span class="nc">ident</span><span class="p">,</span><span class="w"> </span><span class="cp">$scalar</span>:<span class="nc">ty</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">impl_op</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">@</span><span class="n">binary</span><span class="w"> </span><span class="cp">$type</span><span class="p">,</span><span class="w"> </span><span class="cp">$scalar</span><span class="p">,</span><span class="w"> </span><span class="n">Div</span>::<span class="n">div</span><span class="p">,</span><span class="w"> </span><span class="n">DivAssign</span>::<span class="n">div_assign</span><span class="p">,</span><span class="w"> </span><span class="n">simd_div</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">Rem</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="cp">$type</span>:<span class="nc">ident</span><span class="p">,</span><span class="w"> </span><span class="cp">$scalar</span>:<span class="nc">ty</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">impl_op</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">@</span><span class="n">binary</span><span class="w"> </span><span class="cp">$type</span><span class="p">,</span><span class="w"> </span><span class="cp">$scalar</span><span class="p">,</span><span class="w"> </span><span class="n">Rem</span>::<span class="n">rem</span><span class="p">,</span><span class="w"> </span><span class="n">RemAssign</span>::<span class="n">rem_assign</span><span class="p">,</span><span class="w"> </span><span class="n">simd_rem</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="c1">// snip a bunch of code</span>

<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">Neg</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="cp">$type</span>:<span class="nc">ident</span><span class="p">,</span><span class="w"> </span><span class="cp">$scalar</span>:<span class="nc">ty</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">impl_ref_ops</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="k">impl</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">LANES</span>: <span class="kt">usize</span><span class="o">&gt;</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">Neg</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">crate</span>::<span class="cp">$type</span><span class="o">&lt;</span><span class="n">LANES</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="k">type</span> <span class="nc">Output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">Self</span><span class="p">;</span><span class="w"></span>
<span class="w">                </span><span class="k">fn</span> <span class="nf">neg</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span>::<span class="n">Output</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="bp">Self</span>::<span class="n">splat</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="bp">self</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>

<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">Neg</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="cp">$type</span>:<span class="nc">ident</span><span class="p">,</span><span class="w"> </span><span class="cp">$scalar</span>:<span class="nc">ty</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">float</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">impl_ref_ops</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="k">impl</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">LANES</span>: <span class="kt">usize</span><span class="o">&gt;</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">Neg</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">crate</span>::<span class="cp">$type</span><span class="o">&lt;</span><span class="n">LANES</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="k">type</span> <span class="nc">Output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">Self</span><span class="p">;</span><span class="w"></span>
<span class="w">                </span><span class="k">fn</span> <span class="nf">neg</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span>::<span class="n">Output</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="c1">// FIXME: Replace this with fneg intrinsic once available.</span>
<span class="w">                    </span><span class="c1">// https://github.com/rust-lang/stdsimd/issues/32</span>
<span class="w">                    </span><span class="bp">Self</span>::<span class="n">from_bits</span><span class="p">(</span><span class="bp">Self</span>::<span class="n">splat</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0</span><span class="p">).</span><span class="n">to_bits</span><span class="p">()</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">to_bits</span><span class="p">())</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>So you see here how in this huge macro definition, there is a pattern on the left side,<br>
<code>{ something something something }</code><br>
then the  <code>=&gt;</code> from <code>match</code>?<br>
then actual content on the right side? what it expands into, basically.<br>
And you see here how there's _two_ things that both expand into an impl of Neg, right? But one is different.</p>



<a name="224243514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224243514" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224243514">(Jan 27 2021 at 20:35)</a>:</h4>
<p>Having different signed and unsigned macros is fairly common, <span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span>  -- you can look at the ones in core for the NonZero types, for example.  The other thing you can do is <code>-1 as _</code>, which will work for signed and unsigned.</p>



<a name="224243574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224243574" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224243574">(Jan 27 2021 at 20:35)</a>:</h4>
<p>To oversimplify it, Rust basically tries to do a <code>match</code> on the tokens you have given, and that's how it can distinguish between when it uses one expansion or another.</p>
<p>There is also potentially splitting things up and using two different macros, but that will require you to do some footwork elsewhere in the code where the macros are actually used.</p>



<a name="224243728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224243728" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224243728">(Jan 27 2021 at 20:37)</a>:</h4>
<p>Also, it's pretty normal to not be all that careful about constraining macros, when they're not exported.  For internal macros it's expected that people just will use them correctly -- if you call <code>do_the_simd_stuff!(String)</code> and the expansion blows up horribly, that's fine.</p>



<a name="224243890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224243890" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224243890">(Jan 27 2021 at 20:38)</a>:</h4>
<p>Yeah, if you make something messy that works, it's fine, if someone somehow finds a way to drag them out into the open and use them that is uhhh very their problem, not ours.</p>



<a name="224255528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224255528" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224255528">(Jan 27 2021 at 22:09)</a>:</h4>
<p>In this case I don't think <code>-1 as _</code> is correct since there is no <code>MIN / -1</code> special case in unsigned division AFAIK</p>



<a name="224260678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224260678" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224260678">(Jan 27 2021 at 22:55)</a>:</h4>
<p>Ah, yeah, if it's division-related then usual "meh whatever" of 2's complement doesn't apply</p>



<a name="224284164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224284164" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224284164">(Jan 28 2021 at 04:49)</a>:</h4>
<p>Sorry peeps, meatspace was not kind today. I will try to look into this tomorrow.<br>
Also, hi <span class="user-mention" data-user-id="271719">@Mario Carneiro</span> ! I rcognize you from the Lean forums - hope Metamath is coming along swimmingly.<br>
(Any word on the Lean4 mathlib port? I'm a bit out of the loop.)</p>



<a name="224689120"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224689120" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224689120">(Feb 01 2021 at 06:15)</a>:</h4>
<p>Alright, I'm back. @jubilee thanks for your previous posts and codes and comments.<br>
Here's what I've done so far:</p>
<ol start="0">
<li>Brushed up on the "Too many linked lists" and a couple projects from the Stanford CS 110L. I wrote a bunch of crappy Rust this weekend but I am a bit less cared from big codebases now.</li>
<li>I punted on the work stuff I did for <code>neg</code> because of <a href="https://github.com/rust-lang/rust/issues/56">#56</a>, that will be for some other day.</li>
<li>I tried to implement the special cases for <code>rem</code>, this is my effort so far.</li>
</ol>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">                </span><span class="c1">// remainder panics on zero divisor</span>
<span class="w">                </span><span class="n">impl_ref_ops</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="k">impl</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">LANES</span>: <span class="kt">usize</span><span class="o">&gt;</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">Rem</span><span class="o">&lt;</span><span class="bp">Self</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">crate</span>::<span class="cp">$vector</span><span class="o">&lt;</span><span class="n">LANES</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                        </span><span class="k">type</span> <span class="nc">Output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">Self</span><span class="p">;</span><span class="w"></span>

<span class="w">                        </span><span class="cp">#[inline]</span><span class="w"></span>
<span class="w">                        </span><span class="k">fn</span> <span class="nf">rem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span>: <span class="nc">Self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span>::<span class="n">Output</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                            </span><span class="k">if</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">as_slice</span><span class="p">()</span><span class="w"></span>
<span class="w">                                </span><span class="p">.</span><span class="n">iter</span><span class="p">()</span><span class="w"></span>
<span class="w">                                </span><span class="p">.</span><span class="n">any</span><span class="p">(</span><span class="o">|</span><span class="n">x</span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="w">                            </span><span class="p">{</span><span class="w"></span>
<span class="w">                               </span><span class="fm">panic!</span><span class="p">(</span><span class="s">"attempt to calculate the remainder with a divisor of zero"</span><span class="p">);</span><span class="w"></span>
<span class="w">                            </span><span class="p">}</span><span class="w"></span>
<span class="w">                            </span><span class="k">unsafe</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">crate</span>::<span class="n">intrinsics</span>::<span class="n">simd_rem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">                        </span><span class="p">}</span><span class="w"></span>
<span class="w">                    </span><span class="p">}</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>

<span class="w">                </span><span class="n">impl_ref_ops</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="k">impl</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">LANES</span>: <span class="kt">usize</span><span class="o">&gt;</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">Rem</span><span class="o">&lt;</span><span class="cp">$scalar</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">crate</span>::<span class="cp">$vector</span><span class="o">&lt;</span><span class="n">LANES</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                        </span><span class="k">type</span> <span class="nc">Output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">Self</span><span class="p">;</span><span class="w"></span>

<span class="w">                        </span><span class="cp">#[inline]</span><span class="w"></span>
<span class="w">                        </span><span class="k">fn</span> <span class="nf">rem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span>: <span class="cp">$scalar</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span>::<span class="n">Output</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                            </span><span class="k">if</span><span class="w"> </span><span class="n">rhs</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                                </span><span class="fm">panic!</span><span class="p">(</span><span class="s">"attempt to calculate the remainder with a divisor of zero"</span><span class="p">);</span><span class="w"></span>
<span class="w">                            </span><span class="p">}</span><span class="w"></span>
<span class="w">                            </span><span class="c1">// Help! U.U</span>
<span class="w">                            </span><span class="c1">//let any_min = self.as_slice()</span>
<span class="w">                                </span><span class="c1">//.iter()</span>
<span class="w">                                </span><span class="c1">//.any(|x| *x == &lt;$scalar&gt;::MIN);</span>
<span class="w">                            </span><span class="c1">//if any_min &amp;&amp; rhs == -1 {</span>
<span class="w">                                </span><span class="c1">//panic!("dividing the MIN integer by -1 is undefined");</span>
<span class="w">                            </span><span class="c1">//}</span>
<span class="w">                            </span><span class="kd">let</span><span class="w"> </span><span class="n">rhs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">Self</span>::<span class="n">splat</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span><span class="w"></span>
<span class="w">                            </span><span class="k">unsafe</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">crate</span>::<span class="n">intrinsics</span>::<span class="n">simd_rem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">                        </span><span class="p">}</span><span class="w"></span>
<span class="w">                    </span><span class="p">}</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>

<span class="w">                </span><span class="n">impl_ref_ops</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="k">impl</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">LANES</span>: <span class="kt">usize</span><span class="o">&gt;</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">Rem</span><span class="o">&lt;</span><span class="k">crate</span>::<span class="cp">$vector</span><span class="o">&lt;</span><span class="n">LANES</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="cp">$scalar</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                        </span><span class="k">type</span> <span class="nc">Output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">crate</span>::<span class="cp">$vector</span><span class="o">&lt;</span><span class="n">LANES</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>

<span class="w">                        </span><span class="cp">#[inline]</span><span class="w"></span>
<span class="w">                        </span><span class="k">fn</span> <span class="nf">rem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span>: <span class="nc">crate</span>::<span class="cp">$vector</span><span class="o">&lt;</span><span class="n">LANES</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span>::<span class="n">Output</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                            </span><span class="k">if</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">as_slice</span><span class="p">().</span><span class="n">iter</span><span class="p">().</span><span class="n">any</span><span class="p">(</span><span class="o">|&amp;</span><span class="n">x</span><span class="o">|</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                                </span><span class="fm">panic!</span><span class="p">(</span><span class="s">"division by zero is undefined"</span><span class="p">)</span><span class="w"></span>
<span class="w">                            </span><span class="p">}</span><span class="w"></span>
<span class="w">                            </span><span class="k">crate</span>::<span class="cp">$vector</span>::<span class="n">splat</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">rhs</span><span class="w"></span>
<span class="w">                        </span><span class="p">}</span><span class="w"></span>
<span class="w">                    </span><span class="p">}</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="224770325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224770325" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224770325">(Feb 01 2021 at 18:32)</a>:</h4>
<p>OK, I think I made some progress in isolating failures.</p>



<a name="224770997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224770997" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224770997">(Feb 01 2021 at 18:37)</a>:</h4>
<p>I just pushed to the branch so if anyone wants to drop a hint as to how to implement the proper guards for <code>div(MIN, -1)</code> and <code>rem(MIN, -1)</code>  I would be very thankful.</p>



<a name="224771975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224771975" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224771975">(Feb 01 2021 at 18:44)</a>:</h4>
<p>It may be best to split the macro for signed and unsigned ints.  You could also do something like <code>if scalar::MIN != 0</code> to determine if it's signed but you'd probably need to suppress a warning, not sure how everyone feels about that</p>



<a name="224772079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224772079" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224772079">(Feb 01 2021 at 18:44)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="312331">@Caleb Zulawski</span> . I searched your previous suggestion of Nonzero but couldn't find a grep hit in the code.</p>



<a name="224772339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224772339" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224772339">(Feb 01 2021 at 18:46)</a>:</h4>
<p>Hmmm I will think about how to split up the macro for un/signed ints.</p>



<a name="224772406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224772406" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224772406">(Feb 01 2021 at 18:47)</a>:</h4>
<p>I don't have the code in front of me but I think you can do something similar to @float but with @signed</p>



<a name="224801992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224801992" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224801992">(Feb 01 2021 at 22:23)</a>:</h4>
<p>Making it two macros is fine, also.</p>



<a name="224802018"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224802018" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224802018">(Feb 01 2021 at 22:23)</a>:</h4>
<p>Yeah, agreed, that's pretty much the same thing</p>



<a name="224802042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224802042" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224802042">(Feb 01 2021 at 22:23)</a>:</h4>
<p>But perhaps easier to follow</p>



<a name="224812573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224812573" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224812573">(Feb 02 2021 at 00:08)</a>:</h4>
<p>My head hurts doing this <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span> <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="224812714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224812714" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224812714">(Feb 02 2021 at 00:09)</a>:</h4>
<p>I tried adding a static branch of  <code>if $scalar::MIN != 0 { macro1} else {macro2}</code> but the pattern matcher didn't like that.</p>



<a name="224813004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224813004" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224813004">(Feb 02 2021 at 00:13)</a>:</h4>
<p>Oh, It's because we have </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">impl_signed_int_ops</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w"> </span><span class="o">....</span><span class="w"></span>
<span class="w">   </span><span class="n">impl_unsigned_int_ops</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="o">..</span><span class="p">.</span><span class="w"></span>
</code></pre></div>



<a name="224816812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224816812" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224816812">(Feb 02 2021 at 01:04)</a>:</h4>
<p>OK I'm calming down a bit an am reading a book on Rust macros to ease the pain with wisdom.<br>
<a href="https://danielkeep.github.io/tlborm/book/pim-README.html">https://danielkeep.github.io/tlborm/book/pim-README.html</a></p>



<a name="224818626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224818626" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224818626">(Feb 02 2021 at 01:35)</a>:</h4>
<p>oh wow <code>@</code> is not a macro only magic infix operator?</p>



<a name="224819574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224819574" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224819574">(Feb 02 2021 at 01:50)</a>:</h4>
<p>Nope, it's an operator in patterns.</p>



<a name="224819575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224819575" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224819575">(Feb 02 2021 at 01:50)</a>:</h4>
<p>nope!</p>



<a name="224819600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224819600" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224819600">(Feb 02 2021 at 01:51)</a>:</h4>
<p>Oh right, found a nice match destructuring example with <code>@</code>.</p>



<a name="224819605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224819605" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224819605">(Feb 02 2021 at 01:51)</a>:</h4>
<p>orz.<br>
reminder of <a href="https://cheats.rs/#macros-attributes">https://cheats.rs/#macros-attributes</a></p>



<a name="224819623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224819623" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224819623">(Feb 02 2021 at 01:51)</a>:</h4>
<p>yup, I've been reading that and just finished teh above macro book, and a little snippets here and there.</p>



<a name="224819684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224819684" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224819684">(Feb 02 2021 at 01:52)</a>:</h4>
<p>(I mildly felt like this for a <a href="http://[image.png](/user_uploads/4715/SkKytah2QXK0-HOfAwdaLYjk/image.png)">hot second</a></p>



<a name="224819694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224819694" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224819694">(Feb 02 2021 at 01:52)</a>:</h4>
<p>Also this: <a href="https://doc.rust-lang.org/stable/book/appendix-02-operators.html">https://doc.rust-lang.org/stable/book/appendix-02-operators.html</a></p>



<a name="224819797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224819797" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224819797">(Feb 02 2021 at 01:54)</a>:</h4>
<p>Nice.<br>
So when</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">{</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">Neg</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="cp">$type</span>:<span class="nc">ident</span><span class="p">,</span><span class="w"> </span><span class="cp">$scalar</span>:<span class="nc">ty</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">float</span><span class="p">}</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">..</span><span class="p">.</span><span class="w"></span>
</code></pre></div>
<p>is used, it is used to restricted the macro so that it doesn't match on arms with a token tree after the <code>$scalar</code>, right?</p>



<a name="224819809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224819809" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224819809">(Feb 02 2021 at 01:55)</a>:</h4>
<p>(Which I assume are all the floats, where <code>neg</code> makes no sense</p>



<a name="224819828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224819828" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224819828">(Feb 02 2021 at 01:55)</a>:</h4>
<p>Correct.</p>



<a name="224819836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224819836" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224819836">(Feb 02 2021 at 01:55)</a>:</h4>
<p>Yayyy learnings++</p>



<a name="224820104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224820104" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224820104">(Feb 02 2021 at 02:00)</a>:</h4>
<p><code>learnings += 1;</code>, <code>++</code> isn't valid in Rust. :^)</p>



<a name="224820109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224820109" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224820109">(Feb 02 2021 at 02:00)</a>:</h4>
<p>(I feel this | | close to being acutally prodcutive with this codebase)</p>



<a name="224820327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224820327" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224820327">(Feb 02 2021 at 02:04)</a>:</h4>
<p>huzzah!<br>
also NonZero{U,I}{8*2^N} came up and I am not entirely sure why because my recall is slightly fuzzy at this precise second, but if you need to reference this, here it is: <a href="https://doc.rust-lang.org/std/num/struct.NonZeroU64.html">https://doc.rust-lang.org/std/num/struct.NonZeroU64.html</a></p>



<a name="224820338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224820338" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224820338">(Feb 02 2021 at 02:04)</a>:</h4>
<p>Thanks.</p>



<a name="224820532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224820532" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224820532">(Feb 02 2021 at 02:09)</a>:</h4>
<p>OK, I don't know what my next strategy is.<br>
I want to </p>
<ol>
<li>write 2 macros that include  proper division guards with div and rem.</li>
<li>Implement the proper guards.</li>
</ol>
<p>I'm at 1, but my options seem to be:<br>
A. constrian the macro expansion (possibly very hair)<br>
B. Write 2 macros, one for uints and one for ints.</p>
<p>I like option B, but that means I have to stop the <code>impl_signed_int_ops</code> into expanding the macros where it shouldn't,  which sounds like the problem with A.<br>
But I know the problem with A is that I can't add <code>if ... {}</code> inside a match arm</p>



<a name="224820534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224820534" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224820534">(Feb 02 2021 at 02:09)</a>:</h4>
<p>So I'm stuck atm.</p>



<a name="224820695"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224820695" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224820695">(Feb 02 2021 at 02:12)</a>:</h4>
<p>Why would you have to do the former? We will just not invoke the macro when it is not appropriate.</p>



<a name="224820718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224820718" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224820718">(Feb 02 2021 at 02:13)</a>:</h4>
<p>By former you mean .... ?</p>



<a name="224820782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224820782" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224820782">(Feb 02 2021 at 02:14)</a>:</h4>
<p>Why do you have to constrain the macro expansion so that it does not expand when it shouldn't? We will just not use it when it should not be used.</p>



<a name="224820883"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224820883" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224820883">(Feb 02 2021 at 02:16)</a>:</h4>
<p>You just have to make sure that it expands correctly when used correctly, not that you have to handle "bad" cases, because this is a private macro for our usage, not the usage of passerby.</p>



<a name="224821051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224821051" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224821051">(Feb 02 2021 at 02:20)</a>:</h4>
<p>OK, let me write what I mean a bi tmore precisely.<br>
let's say I want to implement the <code>div</code> guards.<br>
On the code I'm looking at, that means adding 5 branches to the <code>fn div(...)</code> implementations that are under <code>impl_unsigned_int_ops</code>.</p>
<p>These are unsigned ints,  so if I try to use <code>if $scalar::MIN !0 {...}</code> inside the <code>fn</code> body, my code errors (because it gets expanded to some cases where <code>rhs == -1</code> and <code>rhs</code> is unsigned.</p>



<a name="224821067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224821067" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224821067">(Feb 02 2021 at 02:20)</a>:</h4>
<p>(Also thank you very much to all the people still handholding my Rust adventure, muchas, muchas gracias &lt;3)</p>



<a name="224821136"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224821136" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224821136">(Feb 02 2021 at 02:22)</a>:</h4>
<p>You can always cheat a bit and put the checks in a <code>if $t::MIN != 0</code> block <span aria-label="smirk" class="emoji emoji-1f60f" role="img" title="smirk">:smirk:</span></p>
<p>The compiler's really good at optimizing out that kind of thing.</p>



<a name="224821148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224821148" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224821148">(Feb 02 2021 at 02:22)</a>:</h4>
<p>I tried! But the compiler doesn't propagate that info :(</p>



<a name="224821251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224821251" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224821251">(Feb 02 2021 at 02:25)</a>:</h4>
<p>...wait, how?</p>



<a name="224821268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224821268" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224821268">(Feb 02 2021 at 02:25)</a>:</h4>
<p>Oh wait, * think you might be right*. I was only reaching to the scalar known to the inner macro, but I could reach onto the <code>impl_unsigned_int_ops</code> type.</p>



<a name="224821320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224821320" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224821320">(Feb 02 2021 at 02:26)</a>:</h4>
<p>dividing 1u32 by -1i32 is an invalid operation to begin with, because you need to do a type conversion to make it valid.</p>



<a name="224821416"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224821416" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224821416">(Feb 02 2021 at 02:28)</a>:</h4>
<p>And as far as i am concerned as long as it compiles and the code is good, if you delete the entire macros page and then rewrite it, I am happy, so any lesser modification that involves duplicating, omitting certain macros, or w/e, is fine.</p>



<a name="224821706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224821706" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224821706">(Feb 02 2021 at 02:34)</a>:</h4>
<p>OK, this is the simplest MWE of where I am stuck:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">                </span><span class="n">impl_ref_ops</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="k">impl</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">LANES</span>: <span class="kt">usize</span><span class="o">&gt;</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">Div</span><span class="o">&lt;</span><span class="cp">$scalar</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">crate</span>::<span class="cp">$vector</span><span class="o">&lt;</span><span class="n">LANES</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                        </span><span class="k">type</span> <span class="nc">Output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">Self</span><span class="p">;</span><span class="w"></span>

<span class="w">                        </span><span class="cp">#[inline]</span><span class="w"></span>
<span class="w">                        </span><span class="k">fn</span> <span class="nf">div</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span>: <span class="cp">$scalar</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span>::<span class="n">Output</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                            </span><span class="k">if</span><span class="w"> </span><span class="n">rhs</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                                </span><span class="fm">panic!</span><span class="p">(</span><span class="s">"attempt to divide by zero"</span><span class="p">);</span><span class="w"></span>
<span class="w">                            </span><span class="p">}</span><span class="w"></span>
<span class="w">                            </span><span class="k">if</span><span class="w"> </span><span class="o">&lt;</span><span class="cp">$scalar</span><span class="o">&gt;</span>::<span class="n">MIN</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                                </span><span class="fm">panic!</span><span class="p">(</span><span class="s">"dividing MIN by -1 is undefined"</span><span class="p">);</span><span class="w"></span>

<span class="w">                            </span><span class="p">}</span><span class="w"></span>
<span class="w">                            </span><span class="kd">let</span><span class="w"> </span><span class="n">rhs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">Self</span>::<span class="n">splat</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span><span class="w"></span>

<span class="w">                            </span><span class="k">unsafe</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">crate</span>::<span class="n">intrinsics</span>::<span class="n">simd_div</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">                        </span><span class="p">}</span><span class="w"></span>
<span class="w">                    </span><span class="p">}</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="224821755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224821755" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224821755">(Feb 02 2021 at 02:34)</a>:</h4>
<p>I believe you need <code>rhs == -1 as _</code></p>



<a name="224821757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224821757" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224821757">(Feb 02 2021 at 02:34)</a>:</h4>
<p>If I try that I get </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">error</span><span class="p">[</span><span class="n">E0600</span><span class="p">]</span>: <span class="nc">cannot</span><span class="w"> </span><span class="n">apply</span><span class="w"> </span><span class="n">unary</span><span class="w"> </span><span class="n">operator</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="k">type</span> <span class="err">`</span><span class="kt">usize</span><span class="err">`</span><span class="w"></span>
<span class="w">   </span><span class="o">-</span>-&gt; <span class="nc">crates</span><span class="o">/</span><span class="n">core_simd</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">ops</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">307</span>:<span class="mi">63</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="mi">307</span><span class="w"> </span><span class="o">|</span><span class="w">                               </span><span class="k">if</span><span class="w"> </span><span class="o">&lt;</span><span class="cp">$scalar</span><span class="o">&gt;</span>::<span class="n">MIN</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">                                                                 </span><span class="o">^^</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">                                                                 </span><span class="o">|</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">                                                                 </span><span class="n">cannot</span><span class="w"> </span><span class="n">apply</span><span class="w"> </span><span class="n">unary</span><span class="w"> </span><span class="n">operator</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="err">`</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">                                                                 </span><span class="n">help</span>: <span class="nc">you</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">meant</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="err">`</span><span class="kt">usize</span><span class="err">`</span>: <span class="err">`</span><span class="kt">usize</span>::<span class="n">MAX</span><span class="err">`</span><span class="w"></span>
<span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="mi">540</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">impl_unsigned_int_ops</span><span class="o">!</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="mi">541</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="kt">u8</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SimdU8</span><span class="p">;</span><span class="w"></span>
<span class="mi">542</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="kt">u16</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SimdU16</span><span class="p">;</span><span class="w"></span>
<span class="mi">543</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="kt">u32</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SimdU32</span><span class="p">;</span><span class="w"></span>
<span class="o">..</span><span class="p">.</span><span class="w">   </span><span class="o">|</span><span class="w"></span>
<span class="mi">546</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="kt">usize</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SimdUsize</span><span class="p">;</span><span class="w"></span>
<span class="mi">547</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">-</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="n">invocation</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">note</span>: <span class="nc">unsigned</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">negated</span><span class="w"></span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">note</span>: <span class="nc">this</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">originates</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">Nightly</span><span class="w"> </span><span class="n">builds</span><span class="p">,</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="o">-</span><span class="n">Z</span><span class="w"> </span><span class="kr">macro</span><span class="o">-</span><span class="n">backtrace</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">info</span><span class="p">)</span><span class="w"></span>
</code></pre></div>



<a name="224821792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224821792" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224821792">(Feb 02 2021 at 02:35)</a>:</h4>
<p><span class="user-mention" data-user-id="312331">@Caleb Zulawski</span> IDK why it didn't compile last time, but now it does compile!</p>



<a name="224821799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224821799" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224821799">(Feb 02 2021 at 02:35)</a>:</h4>
<p><span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="224821985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224821985" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224821985">(Feb 02 2021 at 02:39)</a>:</h4>
<p><span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span> <code>as _</code> does a trick where it takes -1, and then says "as whatever this type should be"</p>



<a name="224822035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224822035" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224822035">(Feb 02 2021 at 02:40)</a>:</h4>
<p>Yup yup - I tried it a couple of times a few days ago and couldn't please Ferris so I tried other stuff.</p>



<a name="224822045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224822045" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224822045">(Feb 02 2021 at 02:40)</a>:</h4>
<p>Anyways, I'm now adding these guards.</p>



<a name="224822129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224822129" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224822129">(Feb 02 2021 at 02:42)</a>:</h4>
<p>LOL y'all get to see my most horrible code with iterators now muahahah</p>



<a name="224822165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224822165" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224822165">(Feb 02 2021 at 02:43)</a>:</h4>
<p><code>as</code> does an always-valid conversion, which has some surprising consequences (for instance, <code>-1 as u{8,16...}</code> follows two's complement reasoning, so <code>-1 as u8</code> is 0xFF), and <code>_</code> where a type should go creates an explicit request to fill in that type from context.</p>



<a name="224822605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224822605" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224822605">(Feb 02 2021 at 02:52)</a>:</h4>
<p>Ok, I think it's shaping up well.</p>



<a name="224822697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224822697" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224822697">(Feb 02 2021 at 02:54)</a>:</h4>
<p>Question for the chat:<br>
Does </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">fn</span> <span class="nf">div</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span>:<span class="nc">crate</span>::<span class="cp">$vector</span><span class="o">&lt;</span><span class="n">LANES</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span>::<span class="n">Output</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">crate</span>::<span class="cp">$vector</span>::<span class="n">splat</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">rhs</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>as well as the <code>div_assign</code>fall back to the implementations of <code>fn div(self, rhs:$scalar)</code>?</p>



<a name="224822741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224822741" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224822741">(Feb 02 2021 at 02:55)</a>:</h4>
<p>Hah! Yes it does! And the corresponding tests now pass :D</p>



<a name="224822742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224822742" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224822742">(Feb 02 2021 at 02:55)</a>:</h4>
<p>Yes.</p>



<a name="224822818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224822818" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224822818">(Feb 02 2021 at 02:57)</a>:</h4>
<p>or... well, actually let me be precise, because I think I might be confused. It transforms it into a vector and then attempts to do vector division.</p>



<a name="224823002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224823002" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224823002">(Feb 02 2021 at 03:01)</a>:</h4>
<p>OK, tests pass locally. Pushing to branch now.</p>



<a name="224823079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224823079" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224823079">(Feb 02 2021 at 03:02)</a>:</h4>
<p><span aria-label="muscle" class="emoji emoji-1f4aa" role="img" title="muscle">:muscle:</span> pushed!</p>



<a name="224823307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224823307" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224823307">(Feb 02 2021 at 03:07)</a>:</h4>
<p>All green except for Travis!</p>



<a name="224823551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224823551" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224823551">(Feb 02 2021 at 03:12)</a>:</h4>
<p>There's a single straggler : AArm64 Linux Xenial. <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="224823569"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224823569" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224823569">(Feb 02 2021 at 03:12)</a>:</h4>
<p>Alright, ALL PASSED! <span class="user-mention" data-user-id="281757">@Jubilee</span></p>



<a name="224823908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224823908" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224823908">(Feb 02 2021 at 03:19)</a>:</h4>
<p>nice!</p>



<a name="224826781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224826781" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224826781">(Feb 02 2021 at 04:08)</a>:</h4>
<p>Alright!</p>



<a name="224828284"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224828284" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224828284">(Feb 02 2021 at 04:39)</a>:</h4>
<p>I feel like I broke GitHub's review interface lol.</p>



<a name="224828758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224828758" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224828758">(Feb 02 2021 at 04:49)</a>:</h4>
<p>Pong'ed right back at ya.</p>



<a name="224829213"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224829213" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224829213">(Feb 02 2021 at 04:59)</a>:</h4>
<p>Thanks for the <code>as_slice()</code> recc <span class="user-mention" data-user-id="312331">@Caleb Zulawski</span> , there's some other methods that use that and I think I can clean it up in a follow up PR.</p>



<a name="224829641"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224829641" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224829641">(Feb 02 2021 at 05:07)</a>:</h4>
<p>Oh, I just saw the "add to batch option on github". Derp.</p>



<a name="224829713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224829713" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224829713">(Feb 02 2021 at 05:08)</a>:</h4>
<p><span class="user-mention" data-user-id="312331">@Caleb Zulawski</span> How come your review suggestions I can click on to amend the PR but not <span class="user-mention" data-user-id="281757">@Jubilee</span> 's ? Did she miss a click?</p>



<a name="224829729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224829729" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224829729">(Feb 02 2021 at 05:09)</a>:</h4>
<p><span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="224829782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224829782" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224829782">(Feb 02 2021 at 05:10)</a>:</h4>
<p>I only learned how to do them like... this week so no clue</p>



<a name="224829799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224829799" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224829799">(Feb 02 2021 at 05:10)</a>:</h4>
<p>I omitted the ```suggestion on purpose, because there were a few different places to fix up and didn't want to add too much weight to a given conclusion.</p>



<a name="224829801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224829801" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224829801">(Feb 02 2021 at 05:10)</a>:</h4>
<p>That definitely improves quality of life a lot. Thanks!<br>
Do you click on the <code>+</code> sign next to the code ? or how does it work?</p>



<a name="224829901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224829901" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224829901">(Feb 02 2021 at 05:12)</a>:</h4>
<p>I think you can batch apply suggestions if that's what you're concerned about</p>



<a name="224829922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224829922" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224829922">(Feb 02 2021 at 05:13)</a>:</h4>
<p>Neat-o.</p>



<a name="224829928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224829928" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224829928">(Feb 02 2021 at 05:13)</a>:</h4>
<p>Also the PR can be rebased/squashed. :^)</p>



<a name="224829991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224829991" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224829991">(Feb 02 2021 at 05:14)</a>:</h4>
<p>Yup - but that's after y'all ahve merged it no?</p>



<a name="224830008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830008" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830008">(Feb 02 2021 at 05:14)</a>:</h4>
<p>I plan to review git internals tomorrow and learn bisecting and squash merging and rebasing.</p>



<a name="224830085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830085" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830085">(Feb 02 2021 at 05:16)</a>:</h4>
<p>Wait, but this <code>-1 as _</code> thing is still wrong, I think</p>



<a name="224830122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830122" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830122">(Feb 02 2021 at 05:16)</a>:</h4>
<p>This code block</p>
<div class="codehilite"><pre><span></span><code>if &lt;$scalar&gt;::MIN != 0  &amp;&amp; rhs == -1 {
   panic!(&quot;dividing MIN by -1 is undefined&quot;);
}
</code></pre></div>
<p>needs to not exist for unsigned types</p>



<a name="224830135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830135" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830135">(Feb 02 2021 at 05:17)</a>:</h4>
<p>that's what <code>&lt;$scalar&gt;::MIN != 0</code> checks</p>



<a name="224830166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830166" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830166">(Feb 02 2021 at 05:17)</a>:</h4>
<p>Oh I see. But then the check is wrong because you need to check that the lhs is <code>MIN</code></p>



<a name="224830213"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830213" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830213">(Feb 02 2021 at 05:18)</a>:</h4>
<p>Oh wow, you're right</p>



<a name="224830222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830222" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830222">(Feb 02 2021 at 05:18)</a>:</h4>
<p>.LOL</p>



<a name="224830226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830226" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830226">(Feb 02 2021 at 05:18)</a>:</h4>
<p><code>CRITICAL HIT</code></p>



<a name="224830235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830235" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830235">(Feb 02 2021 at 05:18)</a>:</h4>
<p>I can't wait until my proptest branch gets merged :)</p>



<a name="224830238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830238" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830238">(Feb 02 2021 at 05:18)</a>:</h4>
<p>that would have caught it, I think</p>



<a name="224830338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830338" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830338">(Feb 02 2021 at 05:21)</a>:</h4>
<p><span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span> Please add a test case explicitly testing that <code>if lhs != T::MIN &amp;&amp; rhs == -1</code> then <code>lhs / -1</code> is　だいじょうぶ.</p>



<a name="224830414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830414" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830414">(Feb 02 2021 at 05:23)</a>:</h4>
<p>I thought I already had a test to catch that:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">            </span><span class="cp">#[test]</span><span class="w"></span>
<span class="w">            </span><span class="cp">#[should_panic]</span><span class="w"></span>
<span class="w">            </span><span class="k">fn</span> <span class="nf">div_min_panics</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="kd">let</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">from_slice</span><span class="p">(</span><span class="o">&amp;</span><span class="fm">vec!</span><span class="p">[</span><span class="cp">$scalar</span>::<span class="n">MIN</span><span class="p">;</span><span class="w"> </span><span class="mi">64</span><span class="p">]);</span><span class="w"></span>
<span class="w">                </span><span class="kd">let</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">from_slice</span><span class="p">(</span><span class="o">&amp;</span><span class="fm">vec!</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="mi">64</span><span class="p">]);</span><span class="w"></span>
<span class="w">                </span><span class="kd">let</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="224830428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830428" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830428">(Feb 02 2021 at 05:23)</a>:</h4>
<p>is-not</p>



<a name="224830477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830477" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830477">(Feb 02 2021 at 05:24)</a>:</h4>
<p>as in the reverse, that values that are not T::MIN do <strong>not</strong> panic if divided by -1.</p>



<a name="224830483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830483" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830483">(Feb 02 2021 at 05:24)</a>:</h4>
<p>Ah, right.</p>



<a name="224830623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830623" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830623">(Feb 02 2021 at 05:27)</a>:</h4>
<p>This seems to work:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">            </span><span class="cp">#[test]</span><span class="w"></span>
<span class="w">            </span><span class="cp">#[cfg_attr(target_arch = </span><span class="s">"wasm32"</span><span class="cp">, wasm_bindgen_test)]</span><span class="w"></span>
<span class="w">            </span><span class="k">fn</span> <span class="nf">div_min_neg_one_no_panic</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="kd">let</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">from_slice</span><span class="p">(</span><span class="o">&amp;</span><span class="n">A</span><span class="p">);</span><span class="w"></span>
<span class="w">                </span><span class="kd">let</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">from_slice</span><span class="p">(</span><span class="o">&amp;</span><span class="fm">vec!</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="mi">64</span><span class="p">]);</span><span class="w"></span>
<span class="w">                </span><span class="kd">let</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="224830634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224830634" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224830634">(Feb 02 2021 at 05:27)</a>:</h4>
<p>sounds good to me.</p>



<a name="224831080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224831080" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224831080">(Feb 02 2021 at 05:37)</a>:</h4>
<p>Added an analogous test for the <code>rem</code> case to the one above.</p>



<a name="224831535"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224831535" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224831535">(Feb 02 2021 at 05:47)</a>:</h4>
<p>pulled -&gt; rebased -&gt; pushed</p>



<a name="224831643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224831643" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224831643">(Feb 02 2021 at 05:49)</a>:</h4>
<p>Looks good to me, <span class="user-mention" data-user-id="281757">@Jubilee</span> you can merge it whenever you're ready</p>



<a name="224832458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224832458" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224832458">(Feb 02 2021 at 06:05)</a>:</h4>
<div class="message_inline_image"><a href="https://media.giphy.com/media/Zg7clvqHE3CdW/giphy.gif"><img src="https://media.giphy.com/media/Zg7clvqHE3CdW/giphy.gif"></a></div>



<a name="224832857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224832857" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224832857">(Feb 02 2021 at 06:14)</a>:</h4>
<p>Nice. I'm going to give myself a bit because right now my head hurts and then do a slightly more comprehensive check to make sure the math works OK before merging it, but it should be in tomorrow.</p>



<a name="224832888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224832888" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224832888">(Feb 02 2021 at 06:15)</a>:</h4>
<p>Awesome - sounds like a great idea to rest as well.<br>
Thanks to <span class="user-mention" data-user-id="267402">@cchndl</span>, <span class="user-mention" data-user-id="271719">@Mario Carneiro</span>  and you <span class="user-mention" data-user-id="281757">@Jubilee</span> .<br>
This is my very first Rust ever PR! :D</p>



<a name="224832940"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224832940" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224832940">(Feb 02 2021 at 06:16)</a>:</h4>
<p>(Also I have a PR ready for when this one lands to clean up the <code>AsRef</code> shenanigans <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> )</p>



<a name="224833009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224833009" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224833009">(Feb 02 2021 at 06:18)</a>:</h4>
<p>... So uh, recommendations on new work is welcome. <br>
Perhaps adding more SIMD intrinsics? <br>
Not sure why <code>stdsimd</code> needs a <code>crate</code> per <code>intrinsic</code> but OK.</p>



<a name="224833174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224833174" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224833174">(Feb 02 2021 at 06:23)</a>:</h4>
<p>Or rather I don't know what <code>pub(crate)</code> means.</p>



<a name="224833353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224833353" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224833353">(Feb 02 2021 at 06:25)</a>:</h4>
<p>oh, that's <code>pub</code>lic code with a <code>(crate)</code> restricted scoping.</p>



<a name="224833520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224833520" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224833520">(Feb 02 2021 at 06:29)</a>:</h4>
<p>Rust restricts all visibility to private by default, so <code>pub</code> is required to make something available elsewhere. In order to make certain visibility concerns less of a headache, <code>crate</code> is a modifier for when you "need" it to be "public to settle internal crate availability, but not actually part of the public API".</p>



<a name="224833527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224833527" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224833527">(Feb 02 2021 at 06:29)</a>:</h4>
<p>Ach so. Gotcha.</p>



<a name="224939154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224939154" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224939154">(Feb 02 2021 at 21:27)</a>:</h4>
<p>re: pub and crate organization, <a href="https://doc.rust-lang.org/book/ch07-00-managing-growing-projects-with-packages-crates-and-modules.html">https://doc.rust-lang.org/book/ch07-00-managing-growing-projects-with-packages-crates-and-modules.html</a></p>



<a name="224941506"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224941506" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224941506">(Feb 02 2021 at 21:45)</a>:</h4>
<p>In general I recommend reading the whole book if you haven't!  I had a head start since I know C++ very well but I didn't really consult any references other than the book, it doesn't really make any assumptions about the reader</p>



<a name="224942395"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224942395" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224942395">(Feb 02 2021 at 21:52)</a>:</h4>
<p>This is actually tiresome for many people who already know computer programming because they feel they have to read it "cover to cover" and really it works best if you just treat it like a pile of HTML, which is what it is. Skip around and read the entire thing <em>eventually</em>.</p>



<a name="224942489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224942489" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224942489">(Feb 02 2021 at 21:53)</a>:</h4>
<p>Yeah true.  I did read it cover to cover despite my experience but you can definitely do that too</p>



<a name="224942638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224942638" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224942638">(Feb 02 2021 at 21:54)</a>:</h4>
<p>Only reason I would recommend reading the whole thing is you may find (unusual) things you didn't already know</p>



<a name="224942733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224942733" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224942733">(Feb 02 2021 at 21:55)</a>:</h4>
<p>Like the @ operator from earlier, I'm not sure I've ever used it so I probably only know it from the book</p>



<a name="224943312"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224943312" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224943312">(Feb 02 2021 at 22:00)</a>:</h4>
<p>Yeah, I just mentioned it because 1) I'm ADHD, and 2) I've heard learners complain, "But I know all this stuff" re: like the first few chapters.</p>



<a name="224943461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224943461" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224943461">(Feb 02 2021 at 22:01)</a>:</h4>
<p>Either way good source of info</p>



<a name="224946780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224946780" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224946780">(Feb 02 2021 at 22:30)</a>:</h4>
<p>Got it.<br>
I read it a while ago, I think a second pass with some more experience is warranted.</p>



<a name="224948115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224948115" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224948115">(Feb 02 2021 at 22:43)</a>:</h4>
<p>Moment of appreciation for having 2^8 members on this Zulip <span aria-label="crab" class="emoji emoji-1f980" role="img" title="crab">:crab:</span></p>



<a name="224949624"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224949624" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224949624">(Feb 02 2021 at 22:58)</a>:</h4>
<p>2⁷ ;)</p>



<a name="224949672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224949672" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224949672">(Feb 02 2021 at 22:59)</a>:</h4>
<p>Lucky number seven!</p>



<a name="224952176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224952176" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224952176">(Feb 02 2021 at 23:26)</a>:</h4>
<p>Alrighty then. I might be off for a while because exams but thank you all for all the love, time and attention. See ya soon! <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> <br>
If you have any other decent intro-level contributions please ping away.</p>



<a name="224954720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224954720" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224954720">(Feb 02 2021 at 23:54)</a>:</h4>
<p>...why is i32::MIN % -1 illegal while i32::MIN % 1 is not and the result is the same?</p>



<a name="224954749"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224954749" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224954749">(Feb 02 2021 at 23:55)</a>:</h4>
<p>pardon if this is a stupid question.</p>



<a name="224954780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224954780" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224954780">(Feb 02 2021 at 23:55)</a>:</h4>
<p>It's not stupid, it's not obvious</p>



<a name="224954856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224954856" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224954856">(Feb 02 2021 at 23:56)</a>:</h4>
<p>MIN/-1 overflows</p>



<a name="224954879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224954879" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224954879">(Feb 02 2021 at 23:56)</a>:</h4>
<p>% is actually remainder, not modulus</p>



<a name="224954889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224954889" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224954889">(Feb 02 2021 at 23:56)</a>:</h4>
<p><em>stares into space</em></p>



<a name="224954942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224954942" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224954942">(Feb 02 2021 at 23:57)</a>:</h4>
<p>Lol</p>



<a name="224954998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224954998" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224954998">(Feb 02 2021 at 23:57)</a>:</h4>
<p>"A foolish consistency is the hobgoblin of little minds, adored by little statesmen and philosophers and divines."  ―Henry David Thoreau</p>



<a name="224955414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224955414" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224955414">(Feb 03 2021 at 00:02)</a>:</h4>
<p>granted, I suppose I am not much one to talk because it gets under my skin a bit that i32::MIN &gt; (i32::MAX * -1)</p>



<a name="224955585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224955585" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224955585">(Feb 03 2021 at 00:03)</a>:</h4>
<p>actually <code>i32::MIN &lt; (i32::MAX * -1)</code> <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="224955654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224955654" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224955654">(Feb 03 2021 at 00:04)</a>:</h4>
<p>...I think I meant to put the -1 the other way around.</p>



<a name="224955672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224955672" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224955672">(Feb 03 2021 at 00:04)</a>:</h4>
<p>I clearly need more water and probably either tea or coffee.<br>
hm.</p>



<a name="224955886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224955886" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224955886">(Feb 03 2021 at 00:06)</a>:</h4>
<p>If we used one's complement we wouldn't need to branch here!</p>



<a name="224956278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224956278" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224956278">(Feb 03 2021 at 00:11)</a>:</h4>
<p>Ah yes, clearly I dream of running Rust on all the 1s' complement computers out there. :^)</p>



<a name="224957018"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224957018" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224957018">(Feb 03 2021 at 00:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="312331">Caleb Zulawski</span> <a href="#narrow/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354)/near/224954879">said</a>:</p>
<blockquote>
<p>% is actually remainder, not modulus</p>
</blockquote>
<p>Uhhh I think I have to change a panic message then</p>



<a name="224957139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224957139" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224957139">(Feb 03 2021 at 00:20)</a>:</h4>
<p>I believe you took my suggestion, which changed it</p>



<a name="224957223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224957223" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224957223">(Feb 03 2021 at 00:21)</a>:</h4>
<p>There's a reason I decided to actually merge this AFTER a night's sleep and a chance to actually pull in the tree into a fresh project as a library, you know, how it will actually be used. :^)</p>



<a name="224957258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224957258" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224957258">(Feb 03 2021 at 00:21)</a>:</h4>
<p>and yes.</p>



<a name="224957302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224957302" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224957302">(Feb 03 2021 at 00:22)</a>:</h4>
<p><span class="user-mention" data-user-id="312331">@Caleb Zulawski</span> I might have changed it back <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="224957400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224957400" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224957400">(Feb 03 2021 at 00:23)</a>:</h4>
<p><a href="https://doc.rust-lang.org/reference/tokens.html#punctuation">https://doc.rust-lang.org/reference/tokens.html#punctuation</a></p>



<a name="224957415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224957415" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224957415">(Feb 03 2021 at 00:23)</a>:</h4>
<p>Oh hello <span class="user-mention" data-user-id="281739">@oliver</span></p>



<a name="224957542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224957542" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224957542">(Feb 03 2021 at 00:24)</a>:</h4>
<p>Maybe <span class="user-mention" data-user-id="281739">@oliver</span> will understand my fury when trying out rust and finding out that <code>2^3 != 8</code> coming from Julialand</p>



<a name="224957732"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224957732" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224957732">(Feb 03 2021 at 00:27)</a>:</h4>
<p>hehe you've been spoiled</p>



<a name="224957868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224957868" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224957868">(Feb 03 2021 at 00:28)</a>:</h4>
<p>fix is on the PR, <span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span></p>



<a name="224957884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224957884" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224957884">(Feb 03 2021 at 00:29)</a>:</h4>
<p>ugh, you beat me by a second, was about to push :D</p>



<a name="224958100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224958100" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224958100">(Feb 03 2021 at 00:31)</a>:</h4>
<p>Big ups to sleeping, world's best debugging tool.</p>



<a name="224958193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224958193" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224958193">(Feb 03 2021 at 00:32)</a>:</h4>
<p>No really - there's solid science behind it (courtesy of HIllel Wayne).</p>



<a name="224958213"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224958213" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224958213">(Feb 03 2021 at 00:33)</a>:</h4>
<p><a href="https://twitter.com/IncrementMag/status/1356555465493254144">https://twitter.com/IncrementMag/status/1356555465493254144</a></p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/IncrementMag/status/1356555465493254144"><img class="twitter-avatar" src="https://pbs.twimg.com/profile_images/879384470108815360/3-ESXgnG_normal.jpg"></a><p>“It’s easy to point to a bug and say, ‘This couldn’t have happened in Rust.’ It’s a lot harder to point to a bug and say, ‘This wouldn’t have happened if the programmer wasn’t stressed out and sleep-deprived.’”—<a href="https://twitter.com/hillelogram">@hillelogram</a>
<a href="https://t.co/3RDrKR6AXS">https://increment.com/teams/the-epistemology-of-software-quality/</a></p><span>- Increment (@IncrementMag)</span></div></div>



<a name="224958378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224958378" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224958378">(Feb 03 2021 at 00:34)</a>:</h4>
<p>da</p>



<a name="224959017"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224959017" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224959017">(Feb 03 2021 at 00:43)</a>:</h4>
<p><span class="user-mention" data-user-id="281757">@Jubilee</span> does it also show you in the PR that you are asking for a Review, but doesn't show that review request?</p>



<a name="224959309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224959309" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224959309">(Feb 03 2021 at 00:47)</a>:</h4>
<p><span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span> so, re: <code>git rebase</code>, it actually can be performed on a branch with no "other" branch involved... it instead takes the branch at a previous point, and then replays the rebased commits atop that previous point. Now, you might wonder, "why the hell would I do that?" but a large part of the reason is that it allows you to take, say, 20 commits, and mash them down.</p>



<a name="224959339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224959339" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224959339">(Feb 03 2021 at 00:47)</a>:</h4>
<p>oh right</p>



<a name="224959413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224959413" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224959413">(Feb 03 2021 at 00:48)</a>:</h4>
<p>this requires a force push to a pushed branch, but it is less disruptive to force a single branch (though GitHub can and does lose track of review flows that you force over.</p>



<a name="224959455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224959455" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224959455">(Feb 03 2021 at 00:49)</a>:</h4>
<p>ok</p>



<a name="224959482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224959482" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224959482">(Feb 03 2021 at 00:50)</a>:</h4>
<p>So I can do <br>
(on the target branch)<br>
<code>git rebase commit-hash-from-HEAD</code></p>



<a name="224959550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224959550" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224959550">(Feb 03 2021 at 00:50)</a>:</h4>
<p>Gosh I need to start reusing git forge in emacs again.</p>



<a name="224959608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224959608" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224959608">(Feb 03 2021 at 00:51)</a>:</h4>
<p><code>git rebase -i HEAD~20</code> will walk back 20 commits and open an interactive choice list in whatever editor you've set as your EDITOR with the option to rewrite things into a smaller branch.</p>



<a name="224959624"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224959624" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224959624">(Feb 03 2021 at 00:51)</a>:</h4>
<p>you may wish to make a new branch before doing this</p>



<a name="224959643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224959643" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224959643">(Feb 03 2021 at 00:51)</a>:</h4>
<p>just so that you can trash that branch after experimenting.</p>



<a name="224959871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224959871" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224959871">(Feb 03 2021 at 00:54)</a>:</h4>
<p>( doing this isn't a condition of me merging your PR I am just offering you the opportunity to do this now with someone to talk to as you do it. :^). )</p>



<a name="224960071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960071" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960071">(Feb 03 2021 at 00:57)</a>:</h4>
<p>Awesome</p>



<a name="224960076"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960076" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960076">(Feb 03 2021 at 00:57)</a>:</h4>
<p>I tried it in a test branch</p>



<a name="224960197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960197" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960197">(Feb 03 2021 at 00:59)</a>:</h4>
<p>if you push that up to GH I can just look at it and we can compare them.</p>



<a name="224960259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960259" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960259">(Feb 03 2021 at 00:59)</a>:</h4>
<p>( on the test branch name, I mean. )</p>



<a name="224960328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960328" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960328">(Feb 03 2021 at 01:00)</a>:</h4>
<p>whelp</p>



<a name="224960379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960379" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960379">(Feb 03 2021 at 01:01)</a>:</h4>
<p>oh no, what happened. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="224960453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960453" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960453">(Feb 03 2021 at 01:02)</a>:</h4>
<p>lol</p>



<a name="224960462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960462" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960462">(Feb 03 2021 at 01:02)</a>:</h4>
<p>I used the <code>force</code> master!</p>



<a name="224960493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960493" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960493">(Feb 03 2021 at 01:02)</a>:</h4>
<p>I can actually see and compare to other branches on your repo on GH, you know. :^)</p>



<a name="224960513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960513" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960513">(Feb 03 2021 at 01:03)</a>:</h4>
<p>Oh right.</p>



<a name="224960556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960556" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960556">(Feb 03 2021 at 01:03)</a>:</h4>
<p>If you are happy with this commit I am happy to merge it, if you would like to try again, I contain vast and sorcerous power. :^)</p>



<a name="224960638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960638" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960638">(Feb 03 2021 at 01:04)</a>:</h4>
<p>Power enough to reverse the irreversible. :^)</p>



<a name="224960640"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960640" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960640">(Feb 03 2021 at 01:04)</a>:</h4>
<p>I am happy to merge - IIUC, I did the rebase succesfully.</p>



<a name="224960654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960654" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960654">(Feb 03 2021 at 01:05)</a>:</h4>
<p>Oh lord now THOSE are powers I'd love to learn.</p>



<a name="224960688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960688" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960688">(Feb 03 2021 at 01:05)</a>:</h4>
<p>are you sure? :^)</p>



<a name="224960700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960700" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960700">(Feb 03 2021 at 01:05)</a>:</h4>
<p>type in <code>git reflog</code></p>



<a name="224960788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960788" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960788">(Feb 03 2021 at 01:06)</a>:</h4>
<p><span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="224960791"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960791" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960791">(Feb 03 2021 at 01:06)</a>:</h4>
<p>WHELP</p>



<a name="224960881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960881" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960881">(Feb 03 2021 at 01:08)</a>:</h4>
<p>as you can see, <code>git reflog</code> contains a <code>log</code> of a bunch of <code>ref</code>erences in git to various commit objects.</p>



<a name="224960951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960951" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960951">(Feb 03 2021 at 01:08)</a>:</h4>
<p>(I was using <code>git log --oneline</code> to see if I was remaking the history properly)</p>



<a name="224960971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224960971" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224960971">(Feb 03 2021 at 01:08)</a>:</h4>
<p>hehe.</p>



<a name="224961108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961108" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961108">(Feb 03 2021 at 01:10)</a>:</h4>
<p>So I had an option of doing something like</p>
<div class="codehilite"><pre><span></span><code>pick hash1 commit20
squash hash2 commit19
...
squash hash20 commit 1
</code></pre></div>
<p>So I chose pick for the last one, and 19 squashes.</p>



<a name="224961165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961165" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961165">(Feb 03 2021 at 01:11)</a>:</h4>
<p>you can use <code>git reset HEAD@{number}</code> to go back to somewhere that is still in the reflog.</p>



<a name="224961280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961280" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961280">(Feb 03 2021 at 01:13)</a>:</h4>
<p>Wait<br>
is that git time traveling?</p>



<a name="224961288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961288" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961288">(Feb 03 2021 at 01:13)</a>:</h4>
<p>yeah.</p>



<a name="224961293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961293" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961293">(Feb 03 2021 at 01:13)</a>:</h4>
<p>for all branches?</p>



<a name="224961308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961308" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961308">(Feb 03 2021 at 01:13)</a>:</h4>
<p>hmm.</p>



<a name="224961315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961315" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961315">(Feb 03 2021 at 01:13)</a>:</h4>
<p>Oh lord - I knew it existed and I've tried <code>reset --hard</code> before but never seen it as clearly as now.</p>



<a name="224961333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961333" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961333">(Feb 03 2021 at 01:14)</a>:</h4>
<p>I am not sure what you are asking by "for all branches". :^)</p>



<a name="224961373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961373" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961373">(Feb 03 2021 at 01:14)</a>:</h4>
<p>it's ok.</p>



<a name="224961383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961383" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961383">(Feb 03 2021 at 01:14)</a>:</h4>
<p>OK.</p>



<a name="224961410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961410" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961410">(Feb 03 2021 at 01:14)</a>:</h4>
<p>So my reflog != log</p>



<a name="224961430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961430" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961430">(Feb 03 2021 at 01:14)</a>:</h4>
<p>So the rebase was ... not succesful?</p>



<a name="224961457"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961457" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961457">(Feb 03 2021 at 01:15)</a>:</h4>
<p>oh the rebase was successful!</p>



<a name="224961471"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961471" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961471">(Feb 03 2021 at 01:15)</a>:</h4>
<p>Or did it clobber the history in a weird way?<br>
Because I 1. picked up all the commits I wanted and 2. Made them all into a single commit</p>



<a name="224961475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961475" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961475">(Feb 03 2021 at 01:15)</a>:</h4>
<p>OH LORD thanks</p>



<a name="224961481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961481" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961481">(Feb 03 2021 at 01:15)</a>:</h4>
<p>you just said you wanted infinite cosmic power so I offered a rehearsal of that.</p>



<a name="224961493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961493" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961493">(Feb 03 2021 at 01:15)</a>:</h4>
<p>Oh thanks thanks</p>



<a name="224961507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961507" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961507">(Feb 03 2021 at 01:15)</a>:</h4>
<p>I mean clobbering the history is technically exactly what rebase "does".</p>



<a name="224961523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961523" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961523">(Feb 03 2021 at 01:15)</a>:</h4>
<p>(this is cool and I appreciate it, feel free to go on)</p>



<a name="224961586"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961586" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961586">(Feb 03 2021 at 01:16)</a>:</h4>
<p>it just is, for this purpose, rewriting the history with... er, the history.</p>



<a name="224961595"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961595" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961595">(Feb 03 2021 at 01:16)</a>:</h4>
<p>Also how did you count the git commits so quickly? I would have needed some care and time to count to 20 commits to HEAD</p>



<a name="224961631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961631" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961631">(Feb 03 2021 at 01:16)</a>:</h4>
<ol start="0">
<li>I am very used to doing this.</li>
<li>I looked at the PR's commit count on GitHub.</li>
</ol>



<a name="224961666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961666" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961666">(Feb 03 2021 at 01:17)</a>:</h4>
<p>aiit aiit cool flex ahhaha</p>



<a name="224961792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961792" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961792">(Feb 03 2021 at 01:18)</a>:</h4>
<p>Also the entire time I have had the previous version of the branch on my own local so even if you bodged your entire <code>.git</code> somehow, I had that at hand and ready to push back up if you needed it. :^)</p>



<a name="224961832"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224961832" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224961832">(Feb 03 2021 at 01:19)</a>:</h4>
<p>"Ese apoyo sí se ve &lt;3"</p>



<a name="224962111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224962111" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224962111">(Feb 03 2021 at 01:22)</a>:</h4>
<p><span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> !!!</p>



<a name="224962162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224962162" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224962162">(Feb 03 2021 at 01:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281757">Jubilee</span> <a href="#narrow/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354)/near/224960881">said</a>:</p>
<blockquote>
<p>as you can see, <code>git reflog</code> contains a <code>log</code> of a bunch of <code>ref</code>erences in git to various commit objects.</p>
</blockquote>
<p><code>git reflog</code> is a great security blanket.  I used to make duplicate branches before I rebased, worried that I was going to mess everything up.  But then I found out that git just keeps around everything I committed in the last 30 days even if I told it I didn't want those things any more :)</p>



<a name="224962219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224962219" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224962219">(Feb 03 2021 at 01:23)</a>:</h4>
<p>That should have been like within the first 15 mintues of someone teaching git</p>



<a name="224962636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224962636" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224962636">(Feb 03 2021 at 01:29)</a>:</h4>
<p>A lot of people who believe they are very knowledgeable about Git and teach others about using Git do not even know <code>git reflog</code> exists. That, or they think that people will misuse it if it is too early in the early curriculum. Meddling with <code>git reflog</code> can be a... very <code>unsafe</code> operation.<br>
For my own part, I do not blame them.<br>
I simply try to offer a glimpse into the Untempered Schism to others and hope people don't lose <strong>all</strong> their SAN. :^)</p>



<a name="224962651"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/MGR%20opens%20a%20PR%21%20%28issue%20%2354%29/near/224962651" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://rust-lang.github.io/zulip_archive/stream/257879-project-portable-simd/topic/MGR.20opens.20a.20PR!.20(issue.20.2354).html#224962651">(Feb 03 2021 at 01:29)</a>:</h4>
<p>(Aside: That's the best usage of the muscle emoji I've ever seen)</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>