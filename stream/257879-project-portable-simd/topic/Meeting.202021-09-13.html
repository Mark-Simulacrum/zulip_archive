<html>
<head><meta charset="utf-8"><title>Meeting 2021-09-13 · project-portable-simd · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/index.html">project-portable-simd</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html">Meeting 2021-09-13</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="253154657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253154657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253154657">(Sep 13 2021 at 20:25)</a>:</h4>
<p>Yo yo yo. I am going to be a little late but I am here.</p>



<a name="253157637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253157637" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253157637">(Sep 13 2021 at 20:46)</a>:</h4>
<p>Oh whoops, I forgot!</p>



<a name="253157657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253157657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253157657">(Sep 13 2021 at 20:47)</a>:</h4>
<p>hi!</p>



<a name="253159232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253159232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253159232">(Sep 13 2021 at 20:59)</a>:</h4>
<p>Hi! Also I think <span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span> wanted a poke.</p>



<a name="253159294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253159294" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253159294">(Sep 13 2021 at 21:00)</a>:</h4>
<p>Yay!</p>



<a name="253159376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253159376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253159376">(Sep 13 2021 at 21:00)</a>:</h4>
<p>I have been playing with import paths as I mentioned over in <a href="#narrow/stream/257879-project-portable-simd/topic/Rearranging.20everything">https://rust-lang.zulipchat.com/#narrow/stream/257879-project-portable-simd/topic/Rearranging.20everything</a></p>



<a name="253159415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253159415" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253159415">(Sep 13 2021 at 21:00)</a>:</h4>
<p>it's really """fun"""</p>



<a name="253159439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253159439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253159439">(Sep 13 2021 at 21:00)</a>:</h4>
<p>XD</p>



<a name="253159708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253159708" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253159708">(Sep 13 2021 at 21:02)</a>:</h4>
<p>I intend to land the changes necessary to do so in rust-lang/rust and then sync them into our repo so I can write down how the process works both ways. Ideally I can draft a little script to make it just invoking that.</p>



<a name="253159992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253159992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253159992">(Sep 13 2021 at 21:04)</a>:</h4>
<p>What else were our active concerns?<br>
The test breakage on our side? Should be fixed as of today.<br>
Other incoming PRs on rust-lang?<br>
Anything else?</p>



<a name="253160422"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253160422" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253160422">(Sep 13 2021 at 21:07)</a>:</h4>
<p>Just my already open PRs for the intrinsics</p>



<a name="253160432"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253160432" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253160432">(Sep 13 2021 at 21:07)</a>:</h4>
<p>kk~</p>



<a name="253160799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253160799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253160799">(Sep 13 2021 at 21:10)</a>:</h4>
<p>no progress on <a href="https://github.com/rust-lang/portable-simd/issues/109">portable-simd#109</a>, still busy with other stuff</p>



<a name="253160801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253160801" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253160801">(Sep 13 2021 at 21:10)</a>:</h4>
<p>Would you like me to attempt reviewing those, Caleb?</p>



<a name="253160992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253160992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253160992">(Sep 13 2021 at 21:11)</a>:</h4>
<p>as mentioned in the rustc PR, I think I found an endianness issue in the tests</p>



<a name="253161099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253161099" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253161099">(Sep 13 2021 at 21:12)</a>:</h4>
<p>Right, I don't know about that one. ^^;</p>



<a name="253161144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253161144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253161144">(Sep 13 2021 at 21:12)</a>:</h4>
<p>I may be able to review the shuffle one. Oh wait, it was accepted.</p>



<a name="253161700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253161700" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253161700">(Sep 13 2021 at 21:16)</a>:</h4>
<p>Yeah, I'm still not sure about the endianness on that one</p>



<a name="253161799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253161799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253161799">(Sep 13 2021 at 21:17)</a>:</h4>
<p>We have an issue on MIPS where bits are reversed, not endianness.  And I think MIPS is big endian?</p>



<a name="253161847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253161847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253161847">(Sep 13 2021 at 21:17)</a>:</h4>
<p>iirc the issue is that architectures have both a bit-level endianness and a byte-level endianness, both of which can independently vary</p>



<a name="253161994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253161994" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253161994">(Sep 13 2021 at 21:18)</a>:</h4>
<p>Can you add a recommended procedure for how to get a ppc64 machine for test to your PR comment? Travis isn't an option anymore.</p>



<a name="253162037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253162037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253162037">(Sep 13 2021 at 21:19)</a>:</h4>
<p>install qemu-user and use that to run tests</p>



<a name="253162366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253162366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253162366">(Sep 13 2021 at 21:20)</a>:</h4>
<p><span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span> I am looking at your PRs! :D</p>



<a name="253162380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253162380" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253162380">(Sep 13 2021 at 21:20)</a>:</h4>
<p>gaaah!</p>



<a name="253162409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253162409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253162409">(Sep 13 2021 at 21:20)</a>:</h4>
<p><a href="https://packages.debian.org/bullseye/qemu-user-static">https://packages.debian.org/bullseye/qemu-user-static</a></p>



<a name="253162419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253162419" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253162419">(Sep 13 2021 at 21:20)</a>:</h4>
<p>I have a horror story that is not your fault!<br>
<a href="https://robert.ocallahan.org/2021/09/rr-trace-portability-diverging-behavior.html">https://robert.ocallahan.org/2021/09/rr-trace-portability-diverging-behavior.html</a><br>
<a href="https://cookieplmonster.github.io/2020/07/19/silentpatch-mass-effect/">https://cookieplmonster.github.io/2020/07/19/silentpatch-mass-effect/</a></p>



<a name="253162456"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253162456" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253162456">(Sep 13 2021 at 21:20)</a>:</h4>
<p>I think we should not use <code>rsqrt</code> for this reason! :D Not without a language-level consensus on "this is fine, actually".</p>



<a name="253162754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253162754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253162754">(Sep 13 2021 at 21:23)</a>:</h4>
<p>well, if we were to actually have a rsqrt operation, it would have to match ieee 754's rsqrt, neither intel nor amd's rsqrtss instruction do since they're both approximations</p>



<a name="253162850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253162850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253162850">(Sep 13 2021 at 21:23)</a>:</h4>
<p>assuming we want to provide it anyway, it would have to be named rsqrt_approx or something</p>



<a name="253162872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253162872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253162872">(Sep 13 2021 at 21:24)</a>:</h4>
<p>I think LLVM emits the AMD/Intel ones.</p>



<a name="253163018"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253163018" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253163018">(Sep 13 2021 at 21:24)</a>:</h4>
<p>yup, since you used the x86-specific llvm intrinsics</p>



<a name="253163252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253163252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253163252">(Sep 13 2021 at 21:26)</a>:</h4>
<p>llvm doesn't have an intrinsic for ieee754 rsqrt (which I'm going to try to rectify at some point, since Libre-SOC's gpu will have it, and many other gpus also have it)</p>



<a name="253163862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253163862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253163862">(Sep 13 2021 at 21:31)</a>:</h4>
<p>And to add on to that, I think approximation fns are probably not in scope at all since theres the whole problem of fast math</p>



<a name="253163881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253163881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253163881">(Sep 13 2021 at 21:31)</a>:</h4>
<p>Which may resolve that...</p>



<a name="253164069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253164069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253164069">(Sep 13 2021 at 21:32)</a>:</h4>
<p>oh lord Jubilee</p>



<a name="253164125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253164125" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253164125">(Sep 13 2021 at 21:33)</a>:</h4>
<p>Really hope Rust yeets fastmath. That’s a nightmare.</p>



<a name="253164172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253164172" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253164172">(Sep 13 2021 at 21:33)</a>:</h4>
<p>well, people want it anyway...</p>



<a name="253164285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253164285" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253164285">(Sep 13 2021 at 21:34)</a>:</h4>
<p>i'm at least hoping that you have to explicitly opt-in to fast math to get non ieee 754 behavior</p>



<a name="253164374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253164374" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253164374">(Sep 13 2021 at 21:35)</a>:</h4>
<p>I think we should write a post announcing our status.</p>
<p>Also I have grown to loathe devving on Windows... and this is not because of the platform <em>per se</em> but how I gotta set env vars and then cargo commands separately. I am thinking we should add<code>--target-features</code> as a cargo/rustc flag? Possibly even <code>--with-rustflags</code>?</p>



<a name="253164492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253164492" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253164492">(Sep 13 2021 at 21:36)</a>:</h4>
<p>can't you just do <code>cargo rustc -- -C target-features=...</code></p>



<a name="253164517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253164517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253164517">(Sep 13 2021 at 21:36)</a>:</h4>
<p>It's not compatible with <code>cargo test</code></p>



<a name="253164532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253164532" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253164532">(Sep 13 2021 at 21:36)</a>:</h4>
<p>oh, too bad</p>



<a name="253164775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253164775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253164775">(Sep 13 2021 at 21:38)</a>:</h4>
<p><span class="user-mention" data-user-id="246783">@Miguel Raz Guzmán Macedo</span> If you want to pick up the dot_product PR I think it would be easy to update. The other one got... uh, slagged by the vicissitudes of time. ^^; But would also be fine to reopen if you want.</p>



<a name="253164832"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253164832" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253164832">(Sep 13 2021 at 21:39)</a>:</h4>
<p>Just... oh lord that's a huge rebase, it would be easier to just copy/paste the code into the new places.</p>



<a name="253165280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253165280" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253165280">(Sep 13 2021 at 21:42)</a>:</h4>
<p>re cargo target-features: well...if you don't want to switch to Linux, you could enable WSL2 and run tests in the built-in Linux VM</p>



<a name="253165386"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253165386" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253165386">(Sep 13 2021 at 21:43)</a>:</h4>
<p>bash works well for setting env vars at the same time as running cargo</p>



<a name="253165516"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253165516" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253165516">(Sep 13 2021 at 21:44)</a>:</h4>
<p>I can copy paste!</p>



<a name="253165792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253165792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253165792">(Sep 13 2021 at 21:46)</a>:</h4>
<p>writing a post sounds good!</p>



<a name="253165893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253165893" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253165893">(Sep 13 2021 at 21:47)</a>:</h4>
<p>or, should we wait till it all's merged into rust?</p>



<a name="253166285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253166285" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253166285">(Sep 13 2021 at 21:51)</a>:</h4>
<p>The intent is that we should probably start drafting something nowish for then.</p>



<a name="253166637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253166637" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253166637">(Sep 13 2021 at 21:53)</a>:</h4>
<p>Hm, nightly is still 12?</p>



<a name="253166909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253166909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253166909">(Sep 13 2021 at 21:56)</a>:</h4>
<p><code>cargo clean</code>...?</p>



<a name="253167034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253167034" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253167034">(Sep 13 2021 at 21:57)</a>:</h4>
<p>...no?</p>



<a name="253167066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253167066" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253167066">(Sep 13 2021 at 21:57)</a>:</h4>
<p>...can anyone else get our tests to compile with <code>--release</code>?</p>



<a name="253167114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253167114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253167114">(Sep 13 2021 at 21:57)</a>:</h4>
<blockquote>
<p>nightly-x86_64-pc-windows-msvc unchanged - rustc 1.57.0-nightly (51e514c0f 2021-09-12)</p>
</blockquote>



<a name="253167121"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253167121" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253167121">(Sep 13 2021 at 21:57)</a>:</h4>
<p>sorry, I haven't tried in a while...</p>



<a name="253167179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253167179" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253167179">(Sep 13 2021 at 21:58)</a>:</h4>
<p>Right, I mean literally right now off master.</p>



<a name="253167259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253167259" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253167259">(Sep 13 2021 at 21:59)</a>:</h4>
<p>master rustc or portable-simd?</p>



<a name="253167272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253167272" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253167272">(Sep 13 2021 at 21:59)</a>:</h4>
<p>portable-simd</p>



<a name="253167296"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253167296" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253167296">(Sep 13 2021 at 21:59)</a>:</h4>
<p>trying...</p>



<a name="253167805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253167805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253167805">(Sep 13 2021 at 22:02)</a>:</h4>
<p>passes for me, i'm on x86-64 linux</p>



<a name="253167881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253167881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253167881">(Sep 13 2021 at 22:03)</a>:</h4>
<p>zen2</p>



<a name="253167971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253167971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253167971">(Sep 13 2021 at 22:04)</a>:</h4>
<p>oh, i forgot target-features...</p>



<a name="253168040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253168040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253168040">(Sep 13 2021 at 22:05)</a>:</h4>
<p><code>cargo +nightly test --release</code></p>



<a name="253168168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253168168" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253168168">(Sep 13 2021 at 22:06)</a>:</h4>
<p>error: could not compile <code>core_simd</code></p>
<p>Caused by:<br>
  process didn't exit successfully: <code>rustc --crate-name i8_ops --edition=2018 crates/core_simd/tests/i8_ops.rs --error-format=json --json=diagnostic-rendered-ansi --emit=dep-info,link -C opt-level=3 -C embed-bitcode=no --test --cfg 'feature="default"' --cfg 'feature="generic_const_exprs"' --cfg 'feature="std"' -C metadata=7d49d15966de2453 -C extra-filename=-7d49d15966de2453 --out-dir /home/jacob/projects/portable-simd/target/release/deps -L dependency=/home/jacob/projects/portable-simd/target/release/deps --extern core_simd=/home/jacob/projects/portable-simd/target/release/deps/libcore_simd-28c7eb9857c39b20.rlib --extern proptest=/home/jacob/projects/portable-simd/target/release/deps/libproptest-bf8d500ea8e33911.rlib --extern test_helpers=/home/jacob/projects/portable-simd/target/release/deps/libtest_helpers-b60287a86cc121b3.rlib --extern wasm_bindgen_test=/home/jacob/projects/portable-simd/target/release/deps/libwasm_bindgen_test-dbeaae6deb36b681.rlib</code> (signal: 5, SIGTRAP: trace/breakpoint trap)<br>
warning: build failed, waiting for other jobs to finish...<br>
error: build failed</p>



<a name="253168194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253168194" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253168194">(Sep 13 2021 at 22:06)</a>:</h4>
<p>This will be an error until we update LLVM to include that fix right?</p>



<a name="253168195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253168195" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253168195">(Sep 13 2021 at 22:06)</a>:</h4>
<p>is this with any features?</p>



<a name="253168211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253168211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253168211">(Sep 13 2021 at 22:06)</a>:</h4>
<p>no, default features</p>



<a name="253168214"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253168214" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253168214">(Sep 13 2021 at 22:06)</a>:</h4>
<p>Our local LLVM should have fixed that by now.</p>



<a name="253168271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253168271" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253168271">(Sep 13 2021 at 22:07)</a>:</h4>
<p>on rustc 1.57.0-nightly (51e514c0f 2021-09-12)</p>



<a name="253168286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253168286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253168286">(Sep 13 2021 at 22:07)</a>:</h4>
<p>I've only used my own build of rustc for a few days, I'll have to try again in a bit with nightly</p>



<a name="253168564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253168564" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253168564">(Sep 13 2021 at 22:10)</a>:</h4>
<p>command I used: <code>RUSTFLAGS= cargo +nightly test --release</code></p>



<a name="253170713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253170713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253170713">(Sep 13 2021 at 22:31)</a>:</h4>
<p>Hmm.</p>



<a name="253170808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-09-13/near/253170808" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-09-13.html#253170808">(Sep 13 2021 at 22:32)</a>:</h4>
<p>Okay, sorry, I got distracted by that.<br>
Adjourned. Thank you for coming.<br>
I suppose we have an issue to keep open.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>