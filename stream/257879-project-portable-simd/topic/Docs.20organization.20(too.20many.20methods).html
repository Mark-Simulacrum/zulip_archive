<html>
<head><meta charset="utf-8"><title>Docs organization (too many methods) · project-portable-simd · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/index.html">project-portable-simd</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html">Docs organization (too many methods)</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="265620952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265620952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265620952">(Dec 20 2021 at 22:05)</a>:</h4>
<p>If there were types such as <code>elementxN</code> (<code>f32xN</code>, <code>i32xN</code>, etc) then the various methods could be implemented on those type aliases. This would split up the method soup that is the current docs output, so that you could look at the <code>f32xN</code> page and see only the methods that work for <code>f32</code> elements. For example, &lt;<a href="https://doc.rust-lang.org/nightly/core/simd/type.f32x4.html">https://doc.rust-lang.org/nightly/core/simd/type.f32x4.html</a>&gt; </p>
<p>though, unfortunately for whatever reason, the docs of the <code>std</code> version of the simd module don't uphold that splitting up of things. Perhaps that's a rustdoc bug that could be addressed.</p>



<a name="265653383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653383">(Dec 21 2021 at 06:57)</a>:</h4>
<p>iirc that's how portable-simd was originally, i prefer a single <code>Simd&lt;T, N&gt;</code> type cuz that's conceptually simpler and more useful in generic code</p>



<a name="265653430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653430">(Dec 21 2021 at 06:58)</a>:</h4>
<p>(plus <code>Mask&lt;T, N&gt;</code>)</p>



<a name="265653434"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653434" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653434">(Dec 21 2021 at 06:58)</a>:</h4>
<p>no no no, i'm not saying to change that part, i'm saying to change how the impl blocks themselves are declared, because it's the same in terms of code, but rustdoc sorts out things based on that</p>



<a name="265653455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653455" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653455">(Dec 21 2021 at 06:59)</a>:</h4>
<p><code>impl From&lt;__m128&gt; for f32x4 { ... }</code> and <code>impl From&lt;__m128&gt; for Simd&lt;f32, 4&gt; { ... }</code> are the same effect in terms of code, but different rustdoc output is generated</p>



<a name="265653470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653470">(Dec 21 2021 at 06:59)</a>:</h4>
<p>rustdoc will sort impls on a type alias onto the type alias's page</p>



<a name="265653483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653483" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653483">(Dec 21 2021 at 07:00)</a>:</h4>
<p>The rustdoc output actually isn't any different</p>



<a name="265653512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653512">(Dec 21 2021 at 07:00)</a>:</h4>
<p>ah, ok...in that case I have no particular opinion rn</p>



<a name="265653581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653581" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653581">(Dec 21 2021 at 07:00)</a>:</h4>
<p>when you impl on the alias it's reduced down to being the same as implementing on that type</p>



<a name="265653636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653636" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653636">(Dec 21 2021 at 07:01)</a>:</h4>
<div class="codehilite"><pre><span></span><code>pub struct A;

pub type B = A;

impl B {
    pub fn foo() {}
}
</code></pre></div>



<a name="265653650"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653650" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653650">(Dec 21 2021 at 07:01)</a>:</h4>
<p>you can do this, <code>foo</code> appears directly on <code>A</code></p>



<a name="265653711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653711">(Dec 21 2021 at 07:02)</a>:</h4>
<p>while you say that, <code>From&lt;__m128&gt;</code> is on the f32x4 page but not the general Simd page</p>



<a name="265653747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653747" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653747">(Dec 21 2021 at 07:03)</a>:</h4>
<p>and even if it appeared on both pages, that'd still improve the situation quite a bit i think because you can go to the element aliased page to at least see <em>just</em> methods that work for your element you're using</p>



<a name="265653839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653839">(Dec 21 2021 at 07:04)</a>:</h4>
<p><a href="https://doc.rust-lang.org/nightly/std/simd/struct.Simd.html#impl-From%3C__m128%3E">https://doc.rust-lang.org/nightly/std/simd/struct.Simd.html#impl-From%3C__m128%3E</a></p>



<a name="265653846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653846" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653846">(Dec 21 2021 at 07:04)</a>:</h4>
<p>it is there</p>



<a name="265653870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653870">(Dec 21 2021 at 07:05)</a>:</h4>
<p>yes, the std page is a re-export and sorts differently from the core page</p>



<a name="265653890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653890" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653890">(Dec 21 2021 at 07:05)</a>:</h4>
<p>when they fixed up type aliases in rustdoc they probably missed the re-export case</p>



<a name="265653904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653904">(Dec 21 2021 at 07:05)</a>:</h4>
<ul>
<li>&lt;<a href="https://doc.rust-lang.org/nightly/core/simd/type.f32x4.html">https://doc.rust-lang.org/nightly/core/simd/type.f32x4.html</a>&gt;</li>
<li>&lt;<a href="https://doc.rust-lang.org/nightly/core/simd/struct.Simd.html">https://doc.rust-lang.org/nightly/core/simd/struct.Simd.html</a>&gt;</li>
</ul>



<a name="265653907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653907" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653907">(Dec 21 2021 at 07:05)</a>:</h4>
<p>hmm, that must be a quirk of traits</p>



<a name="265653954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265653954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265653954">(Dec 21 2021 at 07:06)</a>:</h4>
<p>if you directly implement a function it appears on the original type</p>



<a name="265654007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265654007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265654007">(Dec 21 2021 at 07:07)</a>:</h4>
<p>hmm, i'd expect all trait impls to always show up in the docs on any type, even if the impl was written using an alias of that type.</p>



<a name="265654056"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Docs%20organization%20%28too%20many%20methods%29/near/265654056" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Docs.20organization.20(too.20many.20methods).html#265654056">(Dec 21 2021 at 07:08)</a>:</h4>
<p>if you impl a method on a type you get it in both places</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>