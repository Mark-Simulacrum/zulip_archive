<html>
<head><meta charset="utf-8"><title>&quot;pointwise&quot; and misc bikesheds · project-portable-simd · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/index.html">project-portable-simd</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html">&quot;pointwise&quot; and misc bikesheds</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="272627835"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272627835" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272627835">(Feb 21 2022 at 00:39)</a>:</h4>
<p>maybe lean into the map/reduce terminology and call lanewise ops <code>map_X</code> and use <code>reduce_X</code></p>



<a name="272627912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272627912" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272627912">(Feb 21 2022 at 00:40)</a>:</h4>
<p>heh.</p>



<a name="272627921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272627921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272627921">(Feb 21 2022 at 00:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="224471">Lokathor</span> <a href="#narrow/stream/257879-project-portable-simd/topic/.22pointwise.22.20over.20.22lanewise.22.3F.20.28bikeshed.29/near/272627648">said</a>:</p>
<blockquote>
<p>something that's like one letter would honestly be best</p>
</blockquote>
<p>I did suggest we could use <code>sum</code> and <code>product</code>!</p>



<a name="272628020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272628020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272628020">(Feb 21 2022 at 00:43)</a>:</h4>
<p>but also yes, like<br>
<code>vmin</code> (<code>vector_min</code>) is worth considering.<br>
<code>lne</code> (<code>lanes_ne</code>) too.<br>
or <code>rsum</code> and <code>meq</code>, following Jacob's suggested pattern.</p>



<a name="272629116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272629116" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272629116">(Feb 21 2022 at 01:04)</a>:</h4>
<p>I think it's probably fine to actually just use eq etc, considering you generally don't want PartialEq</p>



<a name="272629140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272629140" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272629140">(Feb 21 2022 at 01:04)</a>:</h4>
<p>I would prefer if we could figure out a way to not have any prefix at all for elementwise operations</p>



<a name="272629144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272629144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272629144">(Feb 21 2022 at 01:05)</a>:</h4>
<p>Yeah, I have been thinking so too.</p>



<a name="272629172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272629172" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272629172">(Feb 21 2022 at 01:05)</a>:</h4>
<p>I think that having a trait actually helps here.</p>



<a name="272629371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272629371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272629371">(Feb 21 2022 at 01:09)</a>:</h4>
<p>If someone really needs to use the actual <code>PartialEq</code> methods... for one, there's <code>==</code>. For two, <code>&lt;Simd as PartialEq&gt;::eq</code> allows it. Likewise, the reverse, if a given method is on a trait that syntax is always available as an option to allow total disambiguation.</p>



<a name="272629475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272629475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272629475">(Feb 21 2022 at 01:11)</a>:</h4>
<p>So I think <code>Simd::{eq,ne}</code> and/or <code>SimdEq::{eq,ne}</code> are obvious choices.<br>
min/max require a little more handling.</p>



<a name="272629828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272629828" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272629828">(Feb 21 2022 at 01:18)</a>:</h4>
<p>imho we should use inherent functions rather than <code>SimdEq::eq</code> because you'd have to disambiguate everytime you wanted to call <code>eq</code></p>



<a name="272629854"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272629854" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272629854">(Feb 21 2022 at 01:19)</a>:</h4>
<p>PartialEq isn't automatically in scope.</p>



<a name="272629861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272629861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272629861">(Feb 21 2022 at 01:19)</a>:</h4>
<p>neither would SimdEq be, admittedly!</p>



<a name="272629877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272629877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272629877">(Feb 21 2022 at 01:19)</a>:</h4>
<p>Having the "broadcasting syntax" that Julia and Swift have, where <code>.==</code> means "elementwise equality and return a mask" would be nice, but uhhh is ambitious.</p>



<a name="272629948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272629948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272629948">(Feb 21 2022 at 01:21)</a>:</h4>
<p><code>PartialEq</code> is automatically in scope: <a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=cc241059f82ccb4028bec6e254477559">https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=cc241059f82ccb4028bec6e254477559</a></p>



<a name="272629967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272629967" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272629967">(Feb 21 2022 at 01:21)</a>:</h4>
<p>Oh okay, then disregard me.</p>



<a name="272630045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272630045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272630045">(Feb 21 2022 at 01:23)</a>:</h4>
<p>...I have no idea why... <del>wait, no, I know why.</del> nope! I have no idea why I thought otherwise, then.</p>



<a name="272634176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272634176" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272634176">(Feb 21 2022 at 02:43)</a>:</h4>
<p>v_min and v_add and so on would i think be better than not having the underscore there</p>



<a name="272634228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272634228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272634228">(Feb 21 2022 at 02:44)</a>:</h4>
<p>that'd be fair.</p>



<a name="272634467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272634467" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272634467">(Feb 21 2022 at 02:48)</a>:</h4>
<p>as to broadcasting_eq, you "just" have to convince T-lang to allow custom operators (which are a natural good that should already have been in Rust long ago, of course)</p>



<a name="272636548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272636548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272636548">(Feb 21 2022 at 03:22)</a>:</h4>
<p>Haha.</p>



<a name="272642238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642238">(Feb 21 2022 at 05:13)</a>:</h4>
<p>FWIW, as one member of T-lang, while I wouldn't want completely custom <em>symbol</em> operators, I would love to see a  "infix binary function" mechanism.</p>



<a name="272642325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642325" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642325">(Feb 21 2022 at 05:15)</a>:</h4>
<p>e.g. in Haskell if you can write <code>add 2 4</code> you can also write <code>2 `add` 4</code>.</p>



<a name="272642405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642405" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642405">(Feb 21 2022 at 05:16)</a>:</h4>
<p>I think that would be worth spending one symbol on.</p>



<a name="272642494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642494" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642494">(Feb 21 2022 at 05:18)</a>:</h4>
<p>Well, Julia has this:<br>
<a href="https://docs.julialang.org/en/v1/manual/arrays/#man-array-and-vectorized-operators-and-functions">https://docs.julialang.org/en/v1/manual/arrays/#man-array-and-vectorized-operators-and-functions</a><br>
which is a fully general form of this:<br>
<a href="https://developer.apple.com/documentation/swift/simd/3139466">https://developer.apple.com/documentation/swift/simd/3139466</a></p>



<a name="272642515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642515" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642515">(Feb 21 2022 at 05:18)</a>:</h4>
<p>I heard the signal, whatsup <span class="user-mention" data-user-id="281757">@Jubilee</span></p>



<a name="272642520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642520">(Feb 21 2022 at 05:18)</a>:</h4>
<p>lmao</p>



<a name="272642521"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642521" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642521">(Feb 21 2022 at 05:18)</a>:</h4>
<p><span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="272642561"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642561" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642561">(Feb 21 2022 at 05:19)</a>:</h4>
<p>I believe the syntax was taken from Matlab, but only applies to inbuilt functions.</p>



<a name="272642572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642572">(Feb 21 2022 at 05:19)</a>:</h4>
<p>Julia made it full blown generic and dimension aware</p>



<a name="272642655"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642655" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642655">(Feb 21 2022 at 05:21)</a>:</h4>
<p>The big bonus come up when you can elide multiple copies of array operations, see this initial blog post announcement:</p>



<a name="272642657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642657">(Feb 21 2022 at 05:21)</a>:</h4>
<p><a href="https://julialang.org/blog/2017/01/moredots/">https://julialang.org/blog/2017/01/moredots/</a></p>



<a name="272642766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642766">(Feb 21 2022 at 05:23)</a>:</h4>
<p>more dots</p>



<a name="272642850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642850">(Feb 21 2022 at 05:24)</a>:</h4>
<p>and here’s what I mean with “dimension aware”</p>



<a name="272642852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642852" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642852">(Feb 21 2022 at 05:24)</a>:</h4>
<p><a href="https://twitter.com/miguelraz_/status/1493752694061813761?s=21">https://twitter.com/miguelraz_/status/1493752694061813761?s=21</a></p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/miguelraz_/status/1493752694061813761?s=21"><img class="twitter-avatar" src="https://uploads.zulipusercontent.net/8fa1ed55b76d48577f2c0bac0576cb110ae4ea69/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313331373134323731363837353034323831362f386a5f77454c4d7a5f6e6f726d616c2e6a7067"></a><p><a href="https://twitter.com/kdpsinghlab">@kdpsinghlab</a> broadcasting in Julia is aware of the array dimensions tho’

[1 2] .+ [1 2] != [1, 2] .+ [1 2]
                             ^
                        note the comma
and the resulting vector types/dims as an exterior product

Don’t think R has those capabilities for any user funcs</p><span>- Julia REPL stan account (@miguelraz_)</span></div></div>



<a name="272642907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272642907" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272642907">(Feb 21 2022 at 05:25)</a>:</h4>
<p>I propose cancelling std::simd and opening an RFC for dots</p>



<a name="272643070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272643070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272643070">(Feb 21 2022 at 05:28)</a>:</h4>
<p>The syntax might be inspired by Matlab, which uses <code>A * B</code> to refer to matrix multiplication but <code>A .* B</code> for elementwise, etc for each operator</p>



<a name="272643089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272643089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272643089">(Feb 21 2022 at 05:28)</a>:</h4>
<p>Yes.</p>



<a name="272643090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272643090" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272643090">(Feb 21 2022 at 05:28)</a>:</h4>
<p>yeah, you add a “point” to your operator, which makes it “pointwise”.</p>



<a name="272643101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272643101" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272643101">(Feb 21 2022 at 05:29)</a>:</h4>
<p><em>points up</em></p>



<a name="272643104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272643104" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272643104">(Feb 21 2022 at 05:29)</a>:</h4>
<p>SEE?</p>



<a name="272643119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272643119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272643119">(Feb 21 2022 at 05:29)</a>:</h4>
<p>it's apparently a math thing.</p>



<a name="272643194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272643194" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272643194">(Feb 21 2022 at 05:30)</a>:</h4>
<p>I just checked the Matlab docs and they just say "element by element"</p>



<a name="272643202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272643202" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272643202">(Feb 21 2022 at 05:30)</a>:</h4>
<p>Fortunately, for my sanity</p>



<a name="272643378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272643378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272643378">(Feb 21 2022 at 05:33)</a>:</h4>
<p>and I’m pretty sure Matlab got it as an ASCII verdion of APL’s ¨ operator, but thats for another day 🍵</p>



<a name="272643475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/272643475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#272643475">(Feb 21 2022 at 05:35)</a>:</h4>
<p>⍝ Note well</p>



<a name="274909676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/274909676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#274909676">(Mar 10 2022 at 23:15)</a>:</h4>
<p>decided to poke twitter for vibes: <a href="https://twitter.com/workingjubilee/status/1501274323939520514">https://twitter.com/workingjubilee/status/1501274323939520514</a></p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/workingjubilee/status/1501274323939520514"><img class="twitter-avatar" src="https://uploads.zulipusercontent.net/b918d32b7ab0e274b678c4f5dfa1cb06074b0d52/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313335393238383834383733323138303438342f52675f333955665f5f6e6f726d616c2e6a7067"></a><p>completely random vibe check for what feels best for the terminology for the most common SIMD type to SIMD type operations (feel free to reply with your "other"... these are also called "vertical" operations, but we are leaning towards "vertical is bad, actually"):</p><span>- hyper💉💉💉jubilee (@workingjubilee)</span></div></div>



<a name="274910262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/274910262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#274910262">(Mar 10 2022 at 23:21)</a>:</h4>
<p>If we went with elementwise (which I'd be ok with, I think) we'd probably want to remove all references to lanes</p>



<a name="274915136"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/274915136" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#274915136">(Mar 11 2022 at 00:17)</a>:</h4>
<p>still rooting for <code>vadd</code> and <code>vmax</code> and <code>vclamp</code> etc</p>



<a name="274918691"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/274918691" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#274918691">(Mar 11 2022 at 00:59)</a>:</h4>
<p>Yeah, I would just say "elements" and "elementwise" and if I have to, refer to the "index".</p>



<a name="274918863"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/274918863" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#274918863">(Mar 11 2022 at 01:01)</a>:</h4>
<p>Yeah, can't really avoid index for things like scatter/gather</p>



<a name="275034782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/275034782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#275034782">(Mar 11 2022 at 21:16)</a>:</h4>
<p>Okay, it seems like the overwhelming winner is in fact elementwise.</p>



<a name="275035719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/275035719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#275035719">(Mar 11 2022 at 21:25)</a>:</h4>
<p><a href="https://libre-soc.org/irclog/%23libre-soc.2022-03-11.log.html#t2022-03-11T21:20:52">shared on #libre-soc</a>, i remember Luke making a big deal about preferring element rather than lane when referring to vectors</p>



<a name="275035943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/275035943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#275035943">(Mar 11 2022 at 21:27)</a>:</h4>
<p>Yeah, I don't pretend this is like... big scientific experiment, there is an insane amount of sampling bias.</p>



<a name="275035988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/275035988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#275035988">(Mar 11 2022 at 21:28)</a>:</h4>
<p>in our svp64 docs, vertical/horizontal is kinda swapped from what portable-simd currently uses</p>



<a name="275036252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/275036252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#275036252">(Mar 11 2022 at 21:30)</a>:</h4>
<p>in svp64, horizontal means elementwise, vertical is a kinda hardware-vectorized loop, and we use reduce rather than portable-simd's horizontal</p>



<a name="275036376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/275036376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#275036376">(Mar 11 2022 at 21:31)</a>:</h4>
<p>imho we (portable-simd) should probably rename <code>Simd::horizontal_*</code> to <code>Simd::reduce_*</code></p>



<a name="275038621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/275038621" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#275038621">(Mar 11 2022 at 21:51)</a>:</h4>
<p>I'd be okay with reduce</p>



<a name="275038651"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/275038651" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#275038651">(Mar 11 2022 at 21:51)</a>:</h4>
<p>I don't think it's ambiguous in any way</p>



<a name="275063948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/275063948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#275063948">(Mar 11 2022 at 23:55)</a>:</h4>
<p>I agree that <code>reduc{e,ing}</code> is marginally better. I am also fine with Weird Inconsistencies if they "feel right", tho'.</p>



<a name="275064038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/275064038" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#275064038">(Mar 11 2022 at 23:57)</a>:</h4>
<p>We have <code>Iterator::reduce</code> now, so there's precedent for the term.  (Could also use <code>fold</code>.)</p>



<a name="275064610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/275064610" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#275064610">(Mar 12 2022 at 00:04)</a>:</h4>
<p>imho fold is worse for simd, since i've never seen it used with simd, whereas i've seen reduce used in quite a few simd libraries/apis</p>



<a name="275068365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/%22pointwise%22%20and%20misc%20bikesheds/near/275068365" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/.22pointwise.22.20and.20misc.20bikesheds.html#275068365">(Mar 12 2022 at 01:07)</a>:</h4>
<p>Yeah, LLVM uses it, for example.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>