<html>
<head><meta charset="utf-8"><title>Meeting 2021-12-20 · project-portable-simd · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/index.html">project-portable-simd</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html">Meeting 2021-12-20</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="265601731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265601731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265601731">(Dec 20 2021 at 18:42)</a>:</h4>
<p>Hello. Opening this early as usual.</p>



<a name="265601861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265601861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265601861">(Dec 20 2021 at 18:44)</a>:</h4>
<p>Yow yow yow</p>



<a name="265614689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265614689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265614689">(Dec 20 2021 at 20:54)</a>:</h4>
<p>Er, should have linked this earlier. <a href="https://hackmd.io/46NYGIAJRX-ir6tgkTKiLg?both">https://hackmd.io/46NYGIAJRX-ir6tgkTKiLg?both</a></p>



<a name="265614946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265614946" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265614946">(Dec 20 2021 at 20:57)</a>:</h4>
<p>I propose addressing intrinsics for equality after the comparison trait ops since that directly affects that PR</p>



<a name="265615046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615046" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615046">(Dec 20 2021 at 20:58)</a>:</h4>
<p>Oh, look, if I willfully read 0 just right to suit my own purposes, then "usability" is part of what it's talking about.</p>
<p>Well, just now I tried to convert some integer vals to float, normalize the values <code>(x / image_max) * type_max</code>, and then convert back to integer. And it seems I cannot do this without an unsafe call. This is unfortunate.</p>



<a name="265615114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615114">(Dec 20 2021 at 20:59)</a>:</h4>
<p>Fortunately I think that falls under "who is going to fix cast", or is at least related</p>



<a name="265615156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615156" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615156">(Dec 20 2021 at 20:59)</a>:</h4>
<p>Reminder that someone proposed <code>lanes_as</code>, I liked that idea</p>



<a name="265615325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615325" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615325">(Dec 20 2021 at 21:00)</a>:</h4>
<p>hmm, i'm concerned about how often "lanes" gets prefixed</p>



<a name="265615340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615340" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615340">(Dec 20 2021 at 21:01)</a>:</h4>
<p>I am too, actually.</p>



<a name="265615385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615385">(Dec 20 2021 at 21:01)</a>:</h4>
<p>It is very tedious to read.</p>



<a name="265615398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615398">(Dec 20 2021 at 21:01)</a>:</h4>
<p>and to write</p>



<a name="265615495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615495" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615495">(Dec 20 2021 at 21:02)</a>:</h4>
<p>Anyways HELLO EVERYONE!<br>
Okay so there's actually a reason that I put <a href="https://github.com/rust-lang/portable-simd/issues/209">portable-simd#209</a> first, or at least, after 0.</p>



<a name="265615538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615538">(Dec 20 2021 at 21:02)</a>:</h4>
<p>And actually let's talk about The Story So Far.</p>



<a name="265615539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615539" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615539">(Dec 20 2021 at 21:02)</a>:</h4>
<p>In the code I wrote for <a href="https://github.com/rust-lang/portable-simd/issues/109">portable-simd#109</a>, I just used <code>to</code> as <code>splat</code>/<code>lanes_as</code>: <a href="https://salsa.debian.org/Kazan-team/vector-math/-/blob/684e8be4fa4b7cf3de3e841a68ad53c2b057221b/src/traits.rs#L29">https://salsa.debian.org/Kazan-team/vector-math/-/blob/684e8be4fa4b7cf3de3e841a68ad53c2b057221b/src/traits.rs#L29</a></p>



<a name="265615739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615739" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615739">(Dec 20 2021 at 21:04)</a>:</h4>
<p>We merged portable-simd in and we have had two syncs since then, one for<br>
removing autosplats: <a href="https://github.com/rust-lang/rust/pull/91484">https://github.com/rust-lang/rust/pull/91484</a><br>
and one for fixing libcore builds because Petrochenkov likes to build with <code>cpu=native</code>. <a href="https://github.com/rust-lang/rust/pull/92028">https://github.com/rust-lang/rust/pull/92028</a></p>



<a name="265615885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615885">(Dec 20 2021 at 21:06)</a>:</h4>
<p>isn't that the definition of making non-portable binaries?</p>



<a name="265615927"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615927" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615927">(Dec 20 2021 at 21:06)</a>:</h4>
<p>lol<br>
We haven't added the stuff to (triagebot?) yet to alert us but so far everyone has been good about not poking without commentary.<br>
Also this PR was opened which extends the <code>portable_simd</code> feature with a method on slices: <a href="https://github.com/rust-lang/rust/pull/91479">https://github.com/rust-lang/rust/pull/91479</a></p>



<a name="265615931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615931" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615931">(Dec 20 2021 at 21:06)</a>:</h4>
<p>Ah, AVX512 borked some native builds. Thanks for the follow up.</p>



<a name="265615977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265615977" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265615977">(Dec 20 2021 at 21:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="224471">Lokathor</span> <a href="#narrow/stream/257879-project-portable-simd/topic/Meeting.202021-12-20/near/265615885">said</a>:</p>
<blockquote>
<p>isn't that the definition of making non-portable binaries?</p>
</blockquote>
<p>Yes but Petrochenkov does this for local dev.</p>



<a name="265616008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616008" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616008">(Dec 20 2021 at 21:07)</a>:</h4>
<p>It actually was only a problem building core with native features, specifically.  Nightly itself wasn't affected</p>



<a name="265616031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616031">(Dec 20 2021 at 21:07)</a>:</h4>
<p>Yeah.</p>



<a name="265616098"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616098" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616098">(Dec 20 2021 at 21:08)</a>:</h4>
<p>Oh, thx.</p>



<a name="265616266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616266" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616266">(Dec 20 2021 at 21:09)</a>:</h4>
<p>Also I did a bunch of research on "ways to fix the libm problem?"<br>
Eventually I settled on "let's just add an extension trait for now" because uh, all the other ways are Very Painful,<br>
in <a href="https://github.com/rust-lang/rust/pull/91891">https://github.com/rust-lang/rust/pull/91891</a></p>



<a name="265616489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616489" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616489">(Dec 20 2021 at 21:12)</a>:</h4>
<p>This will likely be Temporary, since we want another, better, longer-term solution. <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="265616619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616619">(Dec 20 2021 at 21:13)</a>:</h4>
<p>on the issue of size of <code>Simd&lt;T, 3&gt;</code>, SimpleV and likely RISC-V V and maybe SVE all want it to be exactly equivalent to <code>[T; 3]</code> in size and alignment</p>



<a name="265616630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616630">(Dec 20 2021 at 21:13)</a>:</h4>
<p>The PR to the blog wasn't merged. <span aria-label="weary" class="emoji emoji-1f629" role="img" title="weary">:weary:</span> I don't know who I should poke about that.</p>



<a name="265616717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616717">(Dec 20 2021 at 21:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="229517">Jacob Lifshay</span> <a href="#narrow/stream/257879-project-portable-simd/topic/Meeting.202021-12-20/near/265616619">said</a>:</p>
<blockquote>
<p>on the issue of size of <code>Simd&lt;T, 3&gt;</code>, SimpleV and likely RISC-V V and maybe SVE all want it to be exactly equivalent to <code>[T; 3]</code> in size and alignment</p>
</blockquote>
<p>Uhh I see what you are saying but I think that involves unanswered questions about Rust's alignment model, tbh.</p>



<a name="265616754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616754">(Dec 20 2021 at 21:15)</a>:</h4>
<p>Also about what LLVM is actually capable of</p>



<a name="265616773"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616773" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616773">(Dec 20 2021 at 21:15)</a>:</h4>
<p>for SimpleV, at least, <code>Simd&lt;T, N&gt;</code> has alignment of <code>T</code></p>



<a name="265616858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616858">(Dec 20 2021 at 21:16)</a>:</h4>
<p>I think jubilee is referencing the discovery that rust assigns fairly arbitrary alignments to vectors</p>



<a name="265616875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616875">(Dec 20 2021 at 21:16)</a>:</h4>
<p>Yes.</p>



<a name="265616888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616888" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616888">(Dec 20 2021 at 21:16)</a>:</h4>
<p>It doesn't appear to break anything, but they're definitely not correct</p>



<a name="265616902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616902" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616902">(Dec 20 2021 at 21:16)</a>:</h4>
<p>relevant llvm proposal on element-based alignment of vectors: <a href="https://lists.llvm.org/pipermail/llvm-dev/2021-December/154192.html">https://lists.llvm.org/pipermail/llvm-dev/2021-December/154192.html</a></p>



<a name="265616940"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616940" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616940">(Dec 20 2021 at 21:17)</a>:</h4>
<p>I am not sure if we just passthrough to LLVM or what here</p>



<a name="265616949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265616949" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265616949">(Dec 20 2021 at 21:17)</a>:</h4>
<p>anyways</p>



<a name="265617102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617102" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617102">(Dec 20 2021 at 21:19)</a>:</h4>
<p>Okay, so using <code>wide</code>, this is a proper excerpt of what my situation looks like, &lt;<a href="https://gist.github.com/rust-play/8d0915a84a83f65cb0b147305b65ad68">https://gist.github.com/rust-play/8d0915a84a83f65cb0b147305b65ad68</a>&gt;</p>



<a name="265617139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617139" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617139">(Dec 20 2021 at 21:20)</a>:</h4>
<p>We may want to develop a policy on how much code should live outside our repo, thinking about it, and if things outside <code>{core,std}::simd</code> should use another feature or how we should track them or what.</p>
<p>But it seemed a trifle to recommit the code and reexport it upstream if we really wanted another entire crate, which is why I just threw <a href="https://github.com/rust-lang/rust/pull/91891">https://github.com/rust-lang/rust/pull/91891</a> out the door.</p>



<a name="265617144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617144">(Dec 20 2021 at 21:20)</a>:</h4>
<p>the take away is that the current setup requires phrases like <code>TargetType::round_from_int(ints)</code>, but <code>ints.round_to_float()</code> would better fit the usual rust style.</p>



<a name="265617201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617201" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617201">(Dec 20 2021 at 21:20)</a>:</h4>
<p>I think our main goal atm is to document all our Weird Discoveries we have made.</p>



<a name="265617222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617222" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617222">(Dec 20 2021 at 21:20)</a>:</h4>
<p>there's so many weird discoveries</p>



<a name="265617284"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617284" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617284">(Dec 20 2021 at 21:21)</a>:</h4>
<p>I need to check that in Julia as well o.0</p>



<a name="265617297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617297" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617297">(Dec 20 2021 at 21:21)</a>:</h4>
<p>That is why I just injected this straight-up rambling into my PR in <a href="https://github.com/rust-lang/portable-simd/pull/210">https://github.com/rust-lang/portable-simd/pull/210</a><br>
But first,<br>
<a href="https://github.com/rust-lang/portable-simd/pull/209">https://github.com/rust-lang/portable-simd/pull/209</a></p>



<a name="265617418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617418">(Dec 20 2021 at 21:22)</a>:</h4>
<p>Uhm, I actually wanted to cover that first because I think it's a fairly small and anodyne PR as opposed to the contention around <a href="https://github.com/rust-lang/portable-simd/issues/206">portable-simd#206</a> <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> so while I don't agree with it relaxing the trait bounds and I doubt that will be the absolute final impl I think anything else can rebase more easily atop it so we could probably just merge it?</p>



<a name="265617556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617556" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617556">(Dec 20 2021 at 21:24)</a>:</h4>
<p>merging <a href="https://github.com/rust-lang/portable-simd/issues/209">portable-simd#209</a> sounds good to me!</p>



<a name="265617607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617607">(Dec 20 2021 at 21:25)</a>:</h4>
<p>It's probably fine because we don't plan on adding any types that aren't PartialEq, but it's worth noting it affects the bounds in probably an undesirable way</p>



<a name="265617705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617705" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617705">(Dec 20 2021 at 21:26)</a>:</h4>
<p>I also don't think it should call the intrinsics directly, it should use the mask functions</p>



<a name="265617710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617710">(Dec 20 2021 at 21:26)</a>:</h4>
<p>Oh okay.</p>



<a name="265617763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617763">(Dec 20 2021 at 21:27)</a>:</h4>
<p>I just figured it wasn't worth requesting changes if we were going to potentially replace it anyway</p>



<a name="265617764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617764">(Dec 20 2021 at 21:27)</a>:</h4>
<p>Can you post your review comments? I am okay with delaying it on review but I would prefer we not have PRs wait on <em>each other</em> unless they <strong>have</strong> to.</p>



<a name="265617786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617786" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617786">(Dec 20 2021 at 21:27)</a>:</h4>
<p>I mean</p>



<a name="265617795"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617795" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617795">(Dec 20 2021 at 21:27)</a>:</h4>
<p>Hm.</p>



<a name="265617838"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617838" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617838">(Dec 20 2021 at 21:28)</a>:</h4>
<p>Not as sure then. Moving on? For <a href="https://github.com/rust-lang/portable-simd/pull/203">https://github.com/rust-lang/portable-simd/pull/203</a>, uh.</p>



<a name="265617849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617849">(Dec 20 2021 at 21:28)</a>:</h4>
<p>I don't personally mind redoing things, just didn't want to waste their time</p>



<a name="265617896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617896" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617896">(Dec 20 2021 at 21:28)</a>:</h4>
<p>...The code looks fine but I don't know what a "spectral normalization" is so I don't know if it actually is an example of such and what goals it would have. <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="265617922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617922" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617922">(Dec 20 2021 at 21:29)</a>:</h4>
<p>I haven't reviewed that PR at all, yet</p>



<a name="265617938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617938" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617938">(Dec 20 2021 at 21:29)</a>:</h4>
<p>Fair enough.</p>



<a name="265617955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265617955" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265617955">(Dec 20 2021 at 21:29)</a>:</h4>
<p>I do know what a spectral norm is though, so I'll take a look at some point</p>



<a name="265618028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618028">(Dec 20 2021 at 21:30)</a>:</h4>
<p>Okay!<br>
I think <a href="https://github.com/rust-lang/portable-simd/pull/210">https://github.com/rust-lang/portable-simd/pull/210</a> is just waiting on me refactoring the macros again, right?</p>



<a name="265618042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618042" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618042">(Dec 20 2021 at 21:30)</a>:</h4>
<p>Yup</p>



<a name="265618070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618070">(Dec 20 2021 at 21:30)</a>:</h4>
<p>The change itself lgtm</p>



<a name="265618075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618075" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618075">(Dec 20 2021 at 21:30)</a>:</h4>
<p>Cool.</p>



<a name="265618100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618100" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618100">(Dec 20 2021 at 21:31)</a>:</h4>
<p>There was some drift since <a href="https://github.com/rust-lang/portable-simd/pull/182">https://github.com/rust-lang/portable-simd/pull/182</a></p>



<a name="265618117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618117" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618117">(Dec 20 2021 at 21:31)</a>:</h4>
<p>Yeah, I can redo that one</p>



<a name="265618132"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618132" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618132">(Dec 20 2021 at 21:31)</a>:</h4>
<p>I experimentally rebased it (deleting comments that drifted) here: <a href="https://github.com/rust-lang/portable-simd/pull/217">https://github.com/rust-lang/portable-simd/pull/217</a></p>



<a name="265618138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618138">(Dec 20 2021 at 21:31)</a>:</h4>
<p>Clippy was only just updated so I was waiting on that</p>



<a name="265618216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618216" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618216">(Dec 20 2021 at 21:32)</a>:</h4>
<p>hokay~</p>



<a name="265618282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618282">(Dec 20 2021 at 21:33)</a>:</h4>
<p>Closing the other one then~</p>



<a name="265618423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618423">(Dec 20 2021 at 21:34)</a>:</h4>
<p>Do we have any commentary/discussion on <a href="https://github.com/rust-lang/rust/pull/91891">https://github.com/rust-lang/rust/pull/91891</a> ? (the Float trait one)</p>



<a name="265618573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618573" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618573">(Dec 20 2021 at 21:37)</a>:</h4>
<p>lgtm!</p>



<a name="265618584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618584">(Dec 20 2021 at 21:37)</a>:</h4>
<p>I wasn't aware of that one, planning on merging that back to stdsimd? Looks about right to me</p>



<a name="265618613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618613">(Dec 20 2021 at 21:37)</a>:</h4>
<p>I'd like to run our test suite etc over that trait</p>



<a name="265618622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618622">(Dec 20 2021 at 21:37)</a>:</h4>
<p>It would have to be in a separate crate.</p>



<a name="265618673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618673">(Dec 20 2021 at 21:38)</a>:</h4>
<p>but otherwise sure, I can PR that against our stuff.</p>



<a name="265618701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618701" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618701">(Dec 20 2021 at 21:38)</a>:</h4>
<p>I was just very "zzz let's open this and see what someone says" at the moment I wrote it.</p>



<a name="265618741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618741" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618741">(Dec 20 2021 at 21:39)</a>:</h4>
<p>Not sure about the exact organization but I'd like it eventually along with the rest of the code</p>



<a name="265618757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618757">(Dec 20 2021 at 21:39)</a>:</h4>
<p>Could probably be in the same crate but separate modules, too</p>



<a name="265618759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618759" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618759">(Dec 20 2021 at 21:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="312331">Caleb Zulawski</span> <a href="#narrow/stream/257879-project-portable-simd/topic/Meeting.202021-12-20/near/265618741">said</a>:</p>
<blockquote>
<p>Not sure about the exact organization but I'd like it eventually along with the rest of the code</p>
</blockquote>
<p>Yeah, that can be arranged.</p>



<a name="265618826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618826" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618826">(Dec 20 2021 at 21:40)</a>:</h4>
<p>I haven't actually looked at <a href="https://github.com/rust-lang/portable-simd/pull/206">https://github.com/rust-lang/portable-simd/pull/206</a> since, tbh.</p>



<a name="265618945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618945" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618945">(Dec 20 2021 at 21:42)</a>:</h4>
<p>After our last conversation about it I tried my best to split up what's happening, traits to indicate semantic meaning (including the bounds on the std::ops traits), and hiding the implementation in sealed traits</p>



<a name="265618990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265618990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265618990">(Dec 20 2021 at 21:42)</a>:</h4>
<p>I _think_ it accomplishes roughly what we are both looking for regarding both semantics and actual implementation</p>



<a name="265619019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619019" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619019">(Dec 20 2021 at 21:43)</a>:</h4>
<p>I think we might be able to improve docs output, or at least the user's ability to understand docs output.</p>



<a name="265619025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619025" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619025">(Dec 20 2021 at 21:43)</a>:</h4>
<p>Hm, I don't think that was my issue exactly tho'...</p>



<a name="265619082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619082" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619082">(Dec 20 2021 at 21:44)</a>:</h4>
<p>Yeah, my change actually addressed the docs too, but that wasn't really what I was aiming for</p>



<a name="265619140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619140" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619140">(Dec 20 2021 at 21:45)</a>:</h4>
<p>I actually find it somewhat confusing the trait docs don't contain methods anymore...</p>



<a name="265619151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619151">(Dec 20 2021 at 21:45)</a>:</h4>
<p>The current state is that there is <code>trait SimdPartialEq: PartialEq</code> which means it's a type that you can run a vectorized PartialEq on</p>



<a name="265619244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619244">(Dec 20 2021 at 21:46)</a>:</h4>
<p>Well,<br>
That's true of all the SimdElement types tho'.</p>



<a name="265619265"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619265" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619265">(Dec 20 2021 at 21:46)</a>:</h4>
<p>Well, the point is it's nearly identical to before, how you could call <code>lanes_eq</code> on something that implemented PartialEq, despite PartialEq not implementing simd ops</p>



<a name="265619307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619307">(Dec 20 2021 at 21:47)</a>:</h4>
<p>Well, then we should add <code>SimdElement: PartialEq</code> maybe? I'm not sure if that's a good idea</p>



<a name="265619406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619406">(Dec 20 2021 at 21:48)</a>:</h4>
<p>I mean, I think part of the point of divergence/confusion is that, to me, the intended bound <code>SimdElement</code> is to reflect is <code>MachScalar</code>.</p>



<a name="265619416"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619416" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619416">(Dec 20 2021 at 21:48)</a>:</h4>
<p>MachScalar?</p>



<a name="265619480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619480" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619480">(Dec 20 2021 at 21:49)</a>:</h4>
<p>"Machine Scalar".<br>
Basically a direct clone of the rules in <code>rustc_typeck</code>.</p>



<a name="265619514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619514">(Dec 20 2021 at 21:50)</a>:</h4>
<p>Well, depends what you mean by that</p>



<a name="265619577"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619577" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619577">(Dec 20 2021 at 21:50)</a>:</h4>
<p>Are newtypes of scalars that carry special semantic meaning not machine scalars anymore?</p>



<a name="265619606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619606" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619606">(Dec 20 2021 at 21:50)</a>:</h4>
<p>Hm.</p>



<a name="265619614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619614">(Dec 20 2021 at 21:50)</a>:</h4>
<p>such as NonZeroU32?</p>



<a name="265619615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619615">(Dec 20 2021 at 21:50)</a>:</h4>
<p>well, SimpleV at least, allows you to construct vectors of vectors, so the element type isn't always a scalar...</p>



<a name="265619655"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619655" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619655">(Dec 20 2021 at 21:51)</a>:</h4>
<p>Pointers are just integers on some (many?) architectures so that's already effectively a newtype around usize with special semantics</p>



<a name="265619724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619724" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619724">(Dec 20 2021 at 21:52)</a>:</h4>
<p>oh, that isn't the case.</p>



<a name="265619753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619753" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619753">(Dec 20 2021 at 21:52)</a>:</h4>
<p>And will probably become less so as time goes on.</p>



<a name="265619914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619914" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619914">(Dec 20 2021 at 21:54)</a>:</h4>
<p>On CHERI, for instance,<br>
you simply cannot read a pointer if you do not read it perfectly aligned.<br>
That is, if you read half the bytes of the pointer along with some adjacent bytes<br>
and half the bytes of the pointer along with some adjacent bytes<br>
and compose them together<br>
you do not have the same pointer.<br>
On the hardware level.</p>



<a name="265619943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619943">(Dec 20 2021 at 21:55)</a>:</h4>
<p>Basically all I'm saying is that PartialEq has to do with the semantics of the language and has nothing to do with whether or not it can be stored in a vector, and SimdElement is just saying it's something that has a simd-compatible layout, which could theoretically include newtypes with whatever arbitrary semantics they carry</p>



<a name="265619963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619963">(Dec 20 2021 at 21:55)</a>:</h4>
<p>( more... conventional pointer tagging APIs already exist too. )</p>



<a name="265619975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265619975" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265619975">(Dec 20 2021 at 21:55)</a>:</h4>
<p>And SimdPartialEq is the combination of the two that allows you to call a vector comparison on it</p>



<a name="265620055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620055" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620055">(Dec 20 2021 at 21:56)</a>:</h4>
<blockquote>
<p>Basically all I'm saying is that PartialEq has to do with the semantics of the language and has nothing to do with whether or not it can be stored in a vector</p>
</blockquote>
<p>true.</p>
<blockquote>
<p>and SimdElement is just saying it's something that has a simd-compatible layout, which could theoretically include newtypes with whatever arbitrary semantics they carry</p>
</blockquote>
<p>hmm, true but I think I want to interrogate that "newtypes with arbitrary semantics" bit more.</p>



<a name="265620093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620093" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620093">(Dec 20 2021 at 21:57)</a>:</h4>
<p>Do we want to lock ourselves out of <code>Simd</code> being a <code>Pod</code> type?</p>



<a name="265620134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620134">(Dec 20 2021 at 21:57)</a>:</h4>
<p>Right now <code>SimdElement</code> requires <code>Copy</code> which I think is a reasonable limitation</p>



<a name="265620192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620192">(Dec 20 2021 at 21:58)</a>:</h4>
<p><code>Simd&lt;T, N&gt;: Pod</code> if <code>T: Pod</code></p>



<a name="265620196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620196" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620196">(Dec 20 2021 at 21:58)</a>:</h4>
<p>Right.</p>



<a name="265620200"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620200" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620200">(Dec 20 2021 at 21:58)</a>:</h4>
<p>So any newtype we want to be in a vector would necessarily be <code>Copy</code></p>



<a name="265620218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620218">(Dec 20 2021 at 21:58)</a>:</h4>
<p>I think that locks us out from anything particularly disturbing</p>



<a name="265620255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620255">(Dec 20 2021 at 21:59)</a>:</h4>
<p>All that remains are really just integers or pointers that provide slightly specialized operations</p>



<a name="265620258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620258">(Dec 20 2021 at 21:59)</a>:</h4>
<p>I'd want a vector of mutable references...which are not <code>Copy</code></p>



<a name="265620403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620403">(Dec 20 2021 at 22:00)</a>:</h4>
<p>I think it would be reasonable to use pointers for that but we should reevaluate that case separately from this one IMO</p>



<a name="265620618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620618" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620618">(Dec 20 2021 at 22:01)</a>:</h4>
<p>I'm just saying that this PR isn't opening the door to anything like that, it's just potentially allowing regular number with alternative semantics</p>



<a name="265620726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620726" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620726">(Dec 20 2021 at 22:02)</a>:</h4>
<p>I'd really really hope to see a <code>Simd&lt;NonNan&lt;f32&gt;, _&gt;</code> or similar in the future</p>



<a name="265620745"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620745" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620745">(Dec 20 2021 at 22:03)</a>:</h4>
<p>e.g. <code>struct F16(u16); // no native f16 yet</code></p>



<a name="265620753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620753" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620753">(Dec 20 2021 at 22:03)</a>:</h4>
<p>Hm.</p>



<a name="265620781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620781" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620781">(Dec 20 2021 at 22:03)</a>:</h4>
<p>I'm also definitely not proposing user-provided newtypes, that would be a nightmare</p>



<a name="265620816"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620816" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620816">(Dec 20 2021 at 22:03)</a>:</h4>
<p>I just figure any newtype important enough to end up in std should have full simd support too if it makes sense</p>



<a name="265620932"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620932" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620932">(Dec 20 2021 at 22:04)</a>:</h4>
<p><em>ponder</em></p>



<a name="265620992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265620992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265620992">(Dec 20 2021 at 22:05)</a>:</h4>
<p>For the same reason it would be a little weird to say no, you need to use <code>NonNull&lt;[* const _, N]&gt;</code></p>



<a name="265621004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621004" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621004">(Dec 20 2021 at 22:05)</a>:</h4>
<p>so: <code>Simd&lt;MaybeUninit&lt;Cell&lt;Wrapping&lt;i16&gt;&gt;&gt;, 4&gt;</code>?</p>



<a name="265621016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621016" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621016">(Dec 20 2021 at 22:05)</a>:</h4>
<p>I see.</p>



<a name="265621032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621032">(Dec 20 2021 at 22:06)</a>:</h4>
<p>I'm not willing to address Cell yet, lol</p>



<a name="265621118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621118" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621118">(Dec 20 2021 at 22:06)</a>:</h4>
<p>Right now I'm basically just thinking about basic types with slightly modified semantics</p>



<a name="265621215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621215" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621215">(Dec 20 2021 at 22:07)</a>:</h4>
<p>Things that are effectively machine types with no special behavior, other than language semantics like disallowing specific states</p>



<a name="265621355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621355" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621355">(Dec 20 2021 at 22:08)</a>:</h4>
<p>This change doesn't mean we are _required_ to shove everything possible into <code>Simd</code>, it just allows us to implement the cases that are straightforward and make sense</p>



<a name="265621507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621507">(Dec 20 2021 at 22:10)</a>:</h4>
<p><code>Simd&lt;AssertUnwindSafe&lt;ManuallyDrop&lt;MaybeUninit&lt;Saturating&lt;i128&gt;&gt;&gt;&gt;, 16&gt;</code></p>



<a name="265621752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621752" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621752">(Dec 20 2021 at 22:12)</a>:</h4>
<p>Ack, we got stuck on this. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="265621754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621754">(Dec 20 2021 at 22:12)</a>:</h4>
<p>It's also worth noting that ignoring the entire discussion of newtypes, there's no reasonable way of implementing <code>clamp</code> without the <code>SimdPartialOrd</code> trait.</p>



<a name="265621787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621787">(Dec 20 2021 at 22:13)</a>:</h4>
<p>Does anyone want to fall on the sword of fixing <code>simd_cast</code>?</p>



<a name="265621805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621805">(Dec 20 2021 at 22:13)</a>:</h4>
<p>Because integers and floats are fundamentally different, even more different than newtypes</p>



<a name="265621815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621815" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621815">(Dec 20 2021 at 22:13)</a>:</h4>
<p>Yeah.</p>



<a name="265621836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621836">(Dec 20 2021 at 22:13)</a>:</h4>
<p>I wouldn't mind doing the cast changes, just might not get around to it right away</p>



<a name="265621943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621943">(Dec 20 2021 at 22:14)</a>:</h4>
<p>Hm. when would you have time?</p>



<a name="265621960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265621960" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265621960">(Dec 20 2021 at 22:14)</a>:</h4>
<p>I'm pretty familiar with that part of rustc by now</p>



<a name="265622078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622078" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622078">(Dec 20 2021 at 22:14)</a>:</h4>
<p>Closer to the end of the month/beginning of January probably?</p>



<a name="265622131"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622131" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622131">(Dec 20 2021 at 22:15)</a>:</h4>
<p>Or whenever I feel particularly motivated</p>



<a name="265622188"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622188" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622188">(Dec 20 2021 at 22:15)</a>:</h4>
<p>Ahh okay!<br>
Understandable.<br>
Heh, iktf.</p>



<a name="265622204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622204" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622204">(Dec 20 2021 at 22:15)</a>:</h4>
<p>XD</p>



<a name="265622215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622215" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622215">(Dec 20 2021 at 22:15)</a>:</h4>
<p>I'd like to add safe float casting too, which is a bit more work</p>



<a name="265622394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622394">(Dec 20 2021 at 22:16)</a>:</h4>
<p>iirc you can just use llvm's saturating float conversion instrinsic, it trivially vectorizes</p>



<a name="265622397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622397" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622397">(Dec 20 2021 at 22:16)</a>:</h4>
<p>I am wondering if <code>simd_cast</code> shouldn't be like several intrinsics</p>



<a name="265622425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622425" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622425">(Dec 20 2021 at 22:16)</a>:</h4>
<p>Yeah, I think it should be two intrinsics at least</p>



<a name="265622451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622451" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622451">(Dec 20 2021 at 22:17)</a>:</h4>
<p>exactly as many intrinsics as <code>as</code> :P</p>



<a name="265622544"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622544" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622544">(Dec 20 2021 at 22:18)</a>:</h4>
<p>I actually think I'm just going to add <code>simd_as</code> with the intention of identical behavior to <code>as</code></p>



<a name="265622563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622563">(Dec 20 2021 at 22:18)</a>:</h4>
<p>pft</p>



<a name="265622572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622572">(Dec 20 2021 at 22:18)</a>:</h4>
<p>And extend <code>simd_cast</code> to work with usize and no more special behavior</p>



<a name="265622634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622634" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622634">(Dec 20 2021 at 22:19)</a>:</h4>
<p>Could be <code>simd_saturating_cast</code> if you don't like <code>simd_as</code> <span aria-label="blush" class="emoji emoji-1f60a" role="img" title="blush">:blush:</span></p>



<a name="265622780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622780">(Dec 20 2021 at 22:20)</a>:</h4>
<p>if your splitting it, may I suggest 9 intrinsics (not particularly serious): <code>simd_trunc</code> <code>simd_sext</code> <code>simd_zext</code>, <code>simd_bitcast</code>, <code>simd_ftoi</code>, <code>simd_ftoi_saturating</code>, <code>simd_itof</code>, <code>simd_fext</code>, <code>simd_ftrunc</code></p>



<a name="265622910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Lifshay <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622910">(Dec 20 2021 at 22:22)</a>:</h4>
<p>inspired by llvm's hodgepodge of instructions/intrinsics</p>



<a name="265622952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265622952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265622952">(Dec 20 2021 at 22:22)</a>:</h4>
<p>Oh, I just giggled for some reason / found it amusing.<br>
Alright, I think I will leave the other bits for a future agenda. Thanks for coming!</p>



<a name="265623410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265623410" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miguel Raz Guzmán Macedo <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265623410">(Dec 20 2021 at 22:28)</a>:</h4>
<p>And happy holidays/ NYE to those who <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="265625021"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/Meeting%202021-12-20/near/265625021" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/Meeting.202021-12-20.html#265625021">(Dec 20 2021 at 22:48)</a>:</h4>
<p>Feliz Navidad~</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>