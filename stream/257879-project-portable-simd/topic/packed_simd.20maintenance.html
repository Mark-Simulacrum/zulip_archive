<html>
<head><meta charset="utf-8"><title>packed_simd maintenance · project-portable-simd · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/index.html">project-portable-simd</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html">packed_simd maintenance</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="210806866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210806866" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210806866">(Sep 21 2020 at 22:12)</a>:</h4>
<p>Is this project group planning on deprecating packed_simd? I'm asking because at the moment we don't have anyone responding to PRs on that repo. We should either deprecate it or maintain it.</p>



<a name="210807350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210807350" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210807350">(Sep 21 2020 at 22:17)</a>:</h4>
<p>I think that the long term goal is that we'll supersede what <code>packed_simd</code> does, and it will be deprecated.</p>



<a name="210807508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210807508" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210807508">(Sep 21 2020 at 22:19)</a>:</h4>
<p><span class="user-mention" data-user-id="143274">@Amanieu</span> We could also try look at those open PRs as we go and communicate the plan to point people to <code>stdsimd</code>?</p>



<a name="210816375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210816375" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210816375">(Sep 22 2020 at 00:19)</a>:</h4>
<p>We're starting to get multiple pings for crate breakage today, however, because rand uses it in its "nightly" feature. stdsimd is for them a long while off. We should maintain packed_simd until we have a solid enough basis we can start deprecating it. I would be happy to review PRs if I had merge privileges.</p>



<a name="210816472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210816472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210816472">(Sep 22 2020 at 00:20)</a>:</h4>
<p><span class="user-mention" data-user-id="281757">@Jubilee</span> That sounds like the most responsible approach</p>



<a name="210816505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210816505" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210816505">(Sep 22 2020 at 00:21)</a>:</h4>
<p>I'll reach out and try get you merge access while looking at <code>stdsimd</code> <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="210816599"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210816599" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210816599">(Sep 22 2020 at 00:23)</a>:</h4>
<p>Might be something to discuss with the maintainers of rand and other crates as well</p>



<a name="210816610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210816610" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210816610">(Sep 22 2020 at 00:23)</a>:</h4>
<p>Rand seems to be by far the largest but bytecount and a few other popular crates use it too</p>



<a name="210817292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210817292" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210817292">(Sep 22 2020 at 00:34)</a>:</h4>
<p>Alrighty, we should be added as contributors to <code>packed_simd</code> in the next day or so</p>



<a name="210817654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210817654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210817654">(Sep 22 2020 at 00:40)</a>:</h4>
<p><a href="https://crates.io/crates/packed_simd/reverse_dependencies">https://crates.io/crates/packed_simd/reverse_dependencies</a></p>



<a name="210817901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210817901" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210817901">(Sep 22 2020 at 00:44)</a>:</h4>
<p>Looked at the source of encoding_rs and it seems to only be used on u8x16 and u16x8 for some fairly trivial ops</p>



<a name="210818026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818026" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818026">(Sep 22 2020 at 00:47)</a>:</h4>
<p>(deleted)</p>



<a name="210818027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818027">(Sep 22 2020 at 00:47)</a>:</h4>
<p>For many of these crates, packed_simd is exposed as a feature, so people only opt-in. that's why these crates have millions of downloads but packed_simd is still only 250k.</p>



<a name="210818159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818159" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818159">(Sep 22 2020 at 00:49)</a>:</h4>
<p>while we should update <code>packed_simd</code>, we might also want to direct people to use a simd crate that builds on stable if their use case is simple enough that they can move over easily.</p>



<a name="210818236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818236" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818236">(Sep 22 2020 at 00:50)</a>:</h4>
<p>&lt;Lokathor&gt; shameless plug for wide! :D</p>



<a name="210818254"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818254" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818254">(Sep 22 2020 at 00:50)</a>:</h4>
<p>i don't know if generic-simd also works on stable or not</p>



<a name="210818280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818280" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818280">(Sep 22 2020 at 00:51)</a>:</h4>
<p>Really Though, That Is Correct. I am a little hesitant to say what might become parsed as "well, you shouldn't test stdsimd at all" but..</p>



<a name="210818290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818290" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818290">(Sep 22 2020 at 00:51)</a>:</h4>
<p>generic-simd does but I never implemented integers (which is probably more common than floats...)</p>



<a name="210818357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818357">(Sep 22 2020 at 00:52)</a>:</h4>
<p>test stdsimd yes, rely on it in production, well maybe not for a long while :P</p>



<a name="210818358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818358">(Sep 22 2020 at 00:52)</a>:</h4>
<p>Does wide use intrinsics or autovectorization?</p>



<a name="210818365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818365" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818365">(Sep 22 2020 at 00:52)</a>:</h4>
<p>intrinsics when possible, otherwise auto</p>



<a name="210818399"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818399" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818399">(Sep 22 2020 at 00:53)</a>:</h4>
<p>what we need is more clearly marked levels of "Nightly". Separate the "this will blow up if you touch it" from the "we're not happy with it but we're also not touching it right now".</p>



<a name="210818404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818404">(Sep 22 2020 at 00:53)</a>:</h4>
<p>Yeaaah.<br>
We can present multiple upgrade paths, with wide -&gt; stdsimd as probably the safest, minimum breakage path.</p>



<a name="210818406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818406">(Sep 22 2020 at 00:53)</a>:</h4>
<p>I haven't looked at rand but it would probably be sufficient for encoding_rs</p>



<a name="210818477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818477" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818477">(Sep 22 2020 at 00:54)</a>:</h4>
<p>as the debian folks would say, <code>rustup default sid</code></p>



<a name="210818524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818524">(Sep 22 2020 at 00:55)</a>:</h4>
<p><code>error: toolchain 'sid' is not installed</code></p>



<a name="210818544"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818544" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818544">(Sep 22 2020 at 00:55)</a>:</h4>
<p>:P</p>



<a name="210818601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818601" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818601">(Sep 22 2020 at 00:56)</a>:</h4>
<p>Not sure if it makes sense but if the uses of packed_simd are rare enough we can probably submit PRs switching to wide ourselves</p>



<a name="210818606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818606" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818606">(Sep 22 2020 at 00:56)</a>:</h4>
<p>so it looks like the biggest immediate problem is.. a fairly small fix? we just need to remove the mmx stuff now that mmx is gone from rustc.</p>



<a name="210818615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818615">(Sep 22 2020 at 00:56)</a>:</h4>
<p>Yes, I believe there's a PR open for it already.</p>



<a name="210818619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818619">(Sep 22 2020 at 00:56)</a>:</h4>
<p>oh good</p>



<a name="210818696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818696">(Sep 22 2020 at 00:58)</a>:</h4>
<p>I said "I'm happy to review PRs" but also ideally we're going to be able to keep this at roughly "literally doing nothing but reviewing the occasional PR and maybe pinging people" and have this be far far down our priority lists. &lt;_&lt;</p>



<a name="210818705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818705" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818705">(Sep 22 2020 at 00:58)</a>:</h4>
<p>yeah, while wide had a bit of a goof involving i586 stuff, which could be fixed in a 0.6, it's otherwise "stable enough". It isn't planned to live past when this project group wraps up, though the underlying crate, <code>safe_arch</code> will easily live "forever" because direct intrinsic usage will always be popular somewhere</p>



<a name="210818727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818727" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818727">(Sep 22 2020 at 00:59)</a>:</h4>
<p>does safe_arch use the RUSTC_BOOTSTRAP hack?</p>



<a name="210818743"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818743" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818743">(Sep 22 2020 at 00:59)</a>:</h4>
<p>nope, just wraps each stable intrinsic one at a time in the most plain way you'd imagine</p>



<a name="210818749"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818749" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818749">(Sep 22 2020 at 00:59)</a>:</h4>
<p>I imagine safe_arch will probably be wrapped up once target_feature 1.1 lands (if the core intrinsics migrate to safe as well)</p>



<a name="210818817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210818817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210818817">(Sep 22 2020 at 01:00)</a>:</h4>
<p><code>safe_arch</code> has a much better api even if everything in core::arch were safe to call ;P</p>



<a name="210819229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210819229" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210819229">(Sep 22 2020 at 01:08)</a>:</h4>
<p><span class="user-mention" data-user-id="281757">@Jubilee</span> seems there's an issue for the packed_simd problem, but i don't see a PR. There's comments of how to fix it in the issue, but i don't think anyone has sat down and done it.</p>



<a name="210819239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210819239" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210819239">(Sep 22 2020 at 01:08)</a>:</h4>
<p>oof.</p>



<a name="210819338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210819338" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210819338">(Sep 22 2020 at 01:10)</a>:</h4>
<p>I must have been thinking of another PR, argh. Oh well.</p>



<a name="210826022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210826022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210826022">(Sep 22 2020 at 03:57)</a>:</h4>
<p>We're contributors on <code>packed_simd</code> now. Should we try do a bit of triage on the open issues/PRs sometime and see what we've got appetite to try move forwards on?</p>



<a name="210827304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210827304" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210827304">(Sep 22 2020 at 04:32)</a>:</h4>
<p>Just having a quick look around:</p>
<ul>
<li>I think that we can put most anything marked <code>enhancement</code> on perma-hold. That's 21/77 issues out of our hair right away.</li>
<li>There's 9 marked <code>Unsound</code>, and 5 marked <code>Bug</code>.</li>
<li>Many of the unsound / bug issues seem to be of the form "NaN is an edge case", so we'll have to remind ourselves to NaN the heck out of our test cases as we go.</li>
</ul>



<a name="210828566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210828566" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210828566">(Sep 22 2020 at 05:07)</a>:</h4>
<p>Okay so I labeled all the unlabeled issues, managed to answer/close two question issues, and now we're at:</p>
<ul>
<li>5 pending PRs, 0 of which currently pass the CI, quite probably because the crate itself is busted because of the MMX removal, but also maybe for other reasons.</li>
<li>74 issues: 14 <code>bug</code>, 9 <code>unsound</code>, and 26 <code>enhancement</code> (which, again, we can probably ignore). This leaves 25 issues in an "other" pile, which I also suspect we can ignore.</li>
</ul>



<a name="210828646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210828646" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210828646">(Sep 22 2020 at 05:09)</a>:</h4>
<p>For the question issues, in addition to answering the questions directly, I explained that we're doing this new portable simd group, that <code>packed_simd</code> will not be developed further, and that people should come here to this zulip for more info.</p>



<a name="210828786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210828786" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210828786">(Sep 22 2020 at 05:13)</a>:</h4>
<p>Probably <em>after</em> the full announcement of the project group we should update the README of <code>packed_simd</code> to reflect the maintenance-mode nature, and then actually close down every enhancement request and also things in the "other" pile with a default message about the project status change. That way anyone who opened an issue will get a notification about the project status change even if they don't read the Inside Rust blog.</p>
<p>Of course, if they still care about whatever the issue was they're free to open a <code>stdsimd</code> and participate there.</p>



<a name="210828862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210828862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210828862">(Sep 22 2020 at 05:15)</a>:</h4>
<p>(and If we do agree on that course of action I'll be fine doing it when we're ready)</p>



<a name="210834257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210834257" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210834257">(Sep 22 2020 at 07:07)</a>:</h4>
<blockquote>
<p>5 pending PRs, 0 of which currently pass the CI, quite probably because the crate itself is busted because of the MMX removal, but also maybe for other reasons.</p>
</blockquote>
<p>They have failed before MMX removal. I was one of people involved in creating CI for that repo so I could take a look later today.</p>



<a name="210834657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210834657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210834657">(Sep 22 2020 at 07:13)</a>:</h4>
<p>Oh excellent. And perhaps you can help Ashley setting up the CI of the <code>stdsimd</code> repo.</p>



<a name="210851876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210851876" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210851876">(Sep 22 2020 at 10:27)</a>:</h4>
<p>Sure, feel free to ping me.</p>



<a name="210858651"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210858651" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210858651">(Sep 22 2020 at 11:50)</a>:</h4>
<p><code>core_arch</code> feature used by the CI has been long broken and <code>sleef-sys</code> feature broke recently due to removal of MMX.<br>
Opened <a href="https://github.com/rust-lang/packed_simd/pull/289">https://github.com/rust-lang/packed_simd/pull/289</a> which now fails due to lack of MMX.</p>



<a name="210858815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/210858815" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#210858815">(Sep 22 2020 at 11:52)</a>:</h4>
<p>I don't have time to prepare fix for <a href="https://github.com/rust-lang/packed_simd/issues/287">https://github.com/rust-lang/packed_simd/issues/287</a> which is now the main blocker for the CI.</p>



<a name="211045355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211045355" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211045355">(Sep 23 2020 at 18:42)</a>:</h4>
<p>I merged some PRs, it's a little uncomfy without seeing the pleasant All Green from CI, but we are muuuch closer to actually building! I'm going to open a PR to pave out the rest of it. Apologies for any noise I generate in the process, I am going to shamelessly program against the CI until I get it working-ish. ( I had trouble figuring out running x86 target tests on my x86_64 machine. :/ )</p>



<a name="211077647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211077647" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211077647">(Sep 24 2020 at 00:24)</a>:</h4>
<p>ahahaha, <a href="https://travis-ci.com/github/rust-lang/packed_simd/builds/186364874">https://travis-ci.com/github/rust-lang/packed_simd/builds/186364874</a> STAGE ONE PASSES<br>
The only issue is a float rounding error test.</p>



<a name="211079541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211079541" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211079541">(Sep 24 2020 at 00:57)</a>:</h4>
<p>It's like a 3 ULP difference which sucks but it's only on the f32x8 vector mul test, so I think we should accept it for now and investigate later since it's not a new defect, Obviously.</p>



<a name="211082332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211082332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211082332">(Sep 24 2020 at 01:53)</a>:</h4>
<p><a href="https://travis-ci.com/github/rust-lang/packed_simd">https://travis-ci.com/github/rust-lang/packed_simd</a> The crate builds and the basic examples and stuff pass, and there's (mostly) no lints screaming at you, thanks to Yours Truly.<br>
<a href="https://github.com/rust-lang/packed_simd/pull/292">https://github.com/rust-lang/packed_simd/pull/292</a> The PR is here.<br>
<a href="https://github.com/rust-lang/packed_simd/issues/293">https://github.com/rust-lang/packed_simd/issues/293</a> The float issue is filed here.<br>
My brain is now nicely poached, if any zombies are interested.</p>



<a name="211083049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211083049" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211083049">(Sep 24 2020 at 02:06)</a>:</h4>
<div class="codehilite"><pre><span></span><code>  --&gt; src/api/reductions/mask/sse2.rs:20:9
   |
20 | verify!(m8x32 =&gt; pmovmskb);
   |         ^^^^^ not FFI-safe
   |
   = help: consider adding a `#[repr(C)]` or `#[repr(transparent)]` attribute to this struct
   = note: this struct has unspecified layout
error: `extern` fn uses type `packed_simd::codegen::v256::m16x16`, which is not FFI-safe
</code></pre></div>


<p>ya don't say? <a href="https://github.com/rust-lang/rust/issues/53346">#53346</a></p>



<a name="211083495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211083495" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211083495">(Sep 24 2020 at 02:17)</a>:</h4>
<p>shouldn't that issue be tagged as a soundness issue?</p>



<a name="211084020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211084020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211084020">(Sep 24 2020 at 02:28)</a>:</h4>
<p>yes.</p>



<a name="211085897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211085897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211085897">(Sep 24 2020 at 03:09)</a>:</h4>
<p>oh that's a hard error, not a denial problem. hm.</p>



<a name="211086492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211086492" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211086492">(Sep 24 2020 at 03:23)</a>:</h4>
<p>Okay, with the big PR merged... does the fact that the CI didn't pass 100% mean there's more to do before publishing the updates?</p>



<a name="211095111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211095111" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211095111">(Sep 24 2020 at 06:55)</a>:</h4>
<p>The main thing that is currently not passing is an instruction verification step that confirms that things are working correctly. I don't know what passes without that verification step. Tomorrow-ish or sometime I'm going to take a quick whack at fixing the CI so that it does pass, though this may be a logical moment for <span class="user-mention" data-user-id="119581">@mati865</span> to step in? However, the main thing is that the crate 1) builds on nightly and 2) builds its set of examples: that's real moving code.</p>



<a name="211095152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211095152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211095152">(Sep 24 2020 at 06:56)</a>:</h4>
<p>And by working, I mean _lowering_ correctly, to specific instructions.</p>



<a name="211095515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211095515" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211095515">(Sep 24 2020 at 07:02)</a>:</h4>
<p>IIRC at the time of last release tests were broken/ignored for half of the platforms.<br>
Fixing everything is pretty big task, probably not worth the time it will consume.</p>



<a name="211095776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211095776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211095776">(Sep 24 2020 at 07:07)</a>:</h4>
<p>I am probably just going to start killing off segments of CI passes so I can unearth any actual real problems buried under the current stuff. If the instruction verification step isn't easy to fix, then I would rather turn it off and see the next round of problems.</p>



<a name="211095917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211095917" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211095917">(Sep 24 2020 at 07:09)</a>:</h4>
<p>But in any case I think the release should be pushed out tomorrow, whether or not all of CI passes.</p>



<a name="211096114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211096114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211096114">(Sep 24 2020 at 07:12)</a>:</h4>
<p>It'd be nice to get x86_64 Linux passing at least some of the tier1 tests though.</p>



<a name="211096514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211096514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211096514">(Sep 24 2020 at 07:18)</a>:</h4>
<p>It might be worth adding note to the readme that packed_simd is not actively being developed (maintenance mode) and largely broken.</p>



<a name="211294064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211294064" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211294064">(Sep 25 2020 at 18:15)</a>:</h4>
<p>so I sure did wind up sniped by other concerns yesterday huh</p>



<a name="211316077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211316077" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211316077">(Sep 25 2020 at 20:47)</a>:</h4>
<p>It looks like we pass verify on x86_64 but fail on i686.</p>



<a name="211329063"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211329063" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211329063">(Sep 25 2020 at 23:29)</a>:</h4>
<p><span class="user-mention" data-user-id="281757">@Jubilee</span> What’s your impression of the state of <code>packed_simd</code> at the moment? Do you think there’s anything that makes it easier or harder to work on we should keep in mind for <code>stdsimd</code>?</p>



<a name="211337360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211337360" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211337360">(Sep 26 2020 at 02:32)</a>:</h4>
<p>...No macros calling macros.</p>



<a name="211337449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211337449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211337449">(Sep 26 2020 at 02:34)</a>:</h4>
<p>If I could snap my fingers and make that a rule, I would. 90% of the problem in chasing down things is macros-calling-macros and hunting through macro tracebacks. Making it a <em>hard</em> rule is probably unrealistic, but if it can be at all avoided? Please.</p>



<a name="211337776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211337776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211337776">(Sep 26 2020 at 02:41)</a>:</h4>
<p>Basically assume that if something is behind a second macro layer that no one will find it and touch it until it screams, so make sure macros are designed to scream in a very obvious way because you don't know for sure that no one is going to put it behind a 2nd layer. At around the 3rd layer...?</p>
<p>Also there's a rule in the API guidelines to make macros use a design that very closely follows the patterns of Rust code for this reason (macros that don't severely reduce legibility).</p>



<a name="211338074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211338074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211338074">(Sep 26 2020 at 02:47)</a>:</h4>
<p>I found that the "osx-tier1" CI stage included the wasm target. That is a very silly thing to do. My latest commit on my draft PR rewrites the stages to follow (mostly) architecture + tier, but it's pretty arbitrary, I have a few vendor/OS based ones still.</p>



<a name="211338138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211338138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211338138">(Sep 26 2020 at 02:48)</a>:</h4>
<p>That’s great to know!</p>



<a name="211338176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211338176" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211338176">(Sep 26 2020 at 02:49)</a>:</h4>
<p>So less macro spaghetti and more organized CI that surfaces targets better?</p>



<a name="211338211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211338211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211338211">(Sep 26 2020 at 02:50)</a>:</h4>
<p>which is to say: people should probably feel comfortable rewriting the stages in CI to "whatever makes most sense at the moment". Lets me set allow_failures for entire stages.</p>



<a name="211338270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211338270" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211338270">(Sep 26 2020 at 02:51)</a>:</h4>
<p>Yeah, basically.<br>
I don't think we're going to write this code <em>without</em> macros, for note. Even with const generics, it is a _lot_ to abstract over. Which is why I am stressing the importance of using them well and carefully. &lt;_&lt;</p>



<a name="211338277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211338277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211338277">(Sep 26 2020 at 02:52)</a>:</h4>
<p>The curse of flexibility <span aria-label="yum" class="emoji emoji-1f60b" role="img" title="yum">:yum:</span></p>



<a name="211338336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211338336" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211338336">(Sep 26 2020 at 02:53)</a>:</h4>
<p>I definitely came to the same conclusion regarding macros. Definitely agree that arguments should be "rust-syntax like" and should be at least minimally documented</p>



<a name="211338345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211338345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211338345">(Sep 26 2020 at 02:53)</a>:</h4>
<p><a href="https://rust-lang.github.io/api-guidelines/macros.html">https://rust-lang.github.io/api-guidelines/macros.html</a></p>



<a name="211338874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211338874" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211338874">(Sep 26 2020 at 03:06)</a>:</h4>
<p>I don't think I've ever gone too far with macros. Probably not. But i'll say that Rust Analyzer is <em>easily confused</em> by macros, so that alone can be a reason to avoid them.</p>



<a name="211339693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211339693" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211339693">(Sep 26 2020 at 03:28)</a>:</h4>
<p>It looks like aarch64 Linux (actually, GNU/Linux) passes the full suite for packed_simd. We should be able to anticipate getting most of our x86_64 and aarch64 support working easily, and if we solve our i686 problems, we'll have full tier 1 support then.</p>
<p>CI should definitely be mostly organized around architectural support.</p>



<a name="211339777"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211339777" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211339777">(Sep 26 2020 at 03:31)</a>:</h4>
<p><del>or we can convince the Rust project to drop 32bit targets to tier 2.</del></p>



<a name="211342192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211342192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211342192">(Sep 26 2020 at 04:47)</a>:</h4>
<p>64bit PowerPC LE targets pass, also, it seems.<br>
mips... well...</p>
<div class="codehilite"><pre><span></span><code>---- v64::f32x2_reduction_min_max_nan::min_element_test stdout ----
thread &#39;v64::f32x2_reduction_min_max_nan::min_element_test&#39; panicked at &#39;assertion failed: `(left == right)`
  left: `NaN`,
 right: `-3.0`&#39;, src/v64.rs:44:1

---- v64::f32x2_reduction_min_max_nan::max_element_test stdout ----
thread &#39;v64::f32x2_reduction_min_max_nan::max_element_test&#39; panicked at &#39;assertion failed: `(left == right)`
  left: `NaN`,
 right: `-3.0`&#39;, src/v64.rs:44:1
</code></pre></div>



<a name="211342237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211342237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211342237">(Sep 26 2020 at 04:48)</a>:</h4>
<p>nan is pretty close to -3.0 though</p>



<a name="211342297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211342297" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211342297">(Sep 26 2020 at 04:51)</a>:</h4>
<p>you sure about that.</p>



<a name="211342424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211342424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211342424">(Sep 26 2020 at 04:55)</a>:</h4>
<p>Okay, so more seriously: <code>-3.0</code> is actually an interesting magic number for <code>f32</code>. It's the sign bit, the high bit of the exponent, and the high bit of the mantissa.</p>



<a name="211342471"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211342471" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211342471">(Sep 26 2020 at 04:56)</a>:</h4>
<p>(well, that's also true of <code>f64</code> and the regions are just bigger, but we're talking <code>f32</code> in the error message here)</p>



<a name="211342474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211342474" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211342474">(Sep 26 2020 at 04:56)</a>:</h4>
<p><a href="https://evanw.github.io/float-toy/">https://evanw.github.io/float-toy/</a></p>



<a name="211342699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211342699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211342699">(Sep 26 2020 at 05:02)</a>:</h4>
<p>hum.</p>



<a name="211342729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211342729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211342729">(Sep 26 2020 at 05:03)</a>:</h4>
<p>damn, you're right.</p>



<a name="211343247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211343247" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211343247">(Sep 26 2020 at 05:20)</a>:</h4>
<p>and for example, <code>0xFFC00000</code> is a NAN where you've got the sign bit and high mantissa bit, and then the exponent bits are all full instead of high bit only, so maybe <code>left</code> is that?</p>
<p>We should make a <code>assert_float_eq!</code> macro for our tests that knows to print the inputs as both <del>"numeric"</del> <code>Debug</code> value and also <del>"bits"</del>  <code>LowerHex</code> value on test failure</p>



<a name="211344850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211344850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211344850">(Sep 26 2020 at 06:12)</a>:</h4>
<p>Rust/packed_simd's ARM support is actually quite good. The only one that failed entirely was the iOS build and that's because Apple support seems to be slightly jank.</p>



<a name="211348176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211348176" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211348176">(Sep 26 2020 at 07:52)</a>:</h4>
<p>I remember the "funny" part of debugging packed_simd where cargo expand produced few MiB of Rust code. With help of Creduce it took me like 2 days to get isolated reproducer from its code.<br>
Since then I don't use macros much, only for the simplest, straightforward cases...</p>



<a name="211360886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211360886" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211360886">(Sep 26 2020 at 13:46)</a>:</h4>
<p>"Apple support seems to be slightly jank" &lt;--- this silly person who said that had forgotten that all Apple 32-bit targets had been ERASED FROM THE TIMESTREAM.</p>



<a name="211369647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211369647" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211369647">(Sep 26 2020 at 17:06)</a>:</h4>
<p><a href="https://github.com/rust-lang/packed_simd/pull/295">https://github.com/rust-lang/packed_simd/pull/295</a></p>



<a name="211369865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211369865" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211369865">(Sep 26 2020 at 17:11)</a>:</h4>
<p><a href="/user_uploads/4715/BPP7dtD_GpORWygej4KAwr91/itsgreen.gif">itsgreen.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/BPP7dtD_GpORWygej4KAwr91/itsgreen.gif" title="itsgreen.gif"><img src="/user_uploads/4715/BPP7dtD_GpORWygej4KAwr91/itsgreen.gif"></a></div>



<a name="211372320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211372320" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211372320">(Sep 26 2020 at 18:13)</a>:</h4>
<p><a href="https://github.com/rust-lang/packed_simd/pull/296">https://github.com/rust-lang/packed_simd/pull/296</a></p>



<a name="211372477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211372477" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211372477">(Sep 26 2020 at 18:16)</a>:</h4>
<p>Those two PRs are really hand in hand, but I separated them because they are entirely separate concerns, so.</p>



<a name="211374388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211374388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211374388">(Sep 26 2020 at 19:05)</a>:</h4>
<p>It doesn't test any Windows tier1 target though...</p>



<a name="211376136"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211376136" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211376136">(Sep 26 2020 at 19:17)</a>:</h4>
<p>There weren't any Windows tests in CI, that I saw.</p>



<a name="211376480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211376480" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mati865 <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211376480">(Sep 26 2020 at 19:19)</a>:</h4>
<p>Previously they were ran on the AppVeyor.</p>



<a name="211376570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211376570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211376570">(Sep 26 2020 at 19:19)</a>:</h4>
<p>idk why appveyor isn't running, I am a dumb dumb when it comes to Azure.</p>



<a name="211376724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211376724" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211376724">(Sep 26 2020 at 19:20)</a>:</h4>
<p>I would <strong>like</strong> to test the Windows tier1 targets eventually, and also figure out how to solve the 32-bit x86 problems, but right now I basically want to release a "yeah we're alive again" and provide useful information on where things actually are as far as we know.</p>



<a name="211378175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211378175" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211378175">(Sep 26 2020 at 19:29)</a>:</h4>
<p>filed <a href="https://github.com/rust-lang/packed_simd/issues/297">https://github.com/rust-lang/packed_simd/issues/297</a></p>



<a name="211384892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211384892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211384892">(Sep 26 2020 at 22:13)</a>:</h4>
<p>I strongly doubt that there's windows problems if the same arches with linux work, since this is arch based stuff mostly, but i can manually check on my windows box in a while</p>



<a name="211439039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211439039" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211439039">(Sep 27 2020 at 23:06)</a>:</h4>
<p>OK, I have fixed everything as far as I can tell that is required for a release but I cannot actually authorize the final <code>cargo publish</code> because I am not an owner according to <a href="http://crates.io">crates.io</a></p>



<a name="211439497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211439497" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Zulawski <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211439497">(Sep 27 2020 at 23:18)</a>:</h4>
<p>Oh right. I think the only way to fix that is for an owner to add you</p>



<a name="211442431"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211442431" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211442431">(Sep 28 2020 at 00:37)</a>:</h4>
<p>Well that might be hard because <span class="user-mention" data-user-id="132920">@gnzlbg</span> has been gone for quite some time.</p>



<a name="211442570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211442570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211442570">(Sep 28 2020 at 00:41)</a>:</h4>
<p>Is there a way to fix this? <span class="user-mention" data-user-id="143274">@Amanieu</span>?</p>



<a name="211442650"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211442650" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amanieu <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211442650">(Sep 28 2020 at 00:43)</a>:</h4>
<p>Contact someone on the infra team, I don't have the permissions.</p>



<a name="211452587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211452587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211452587">(Sep 28 2020 at 05:13)</a>:</h4>
<p>Ahh hmm, I don't think the infra team will be able to help much. It looks like there aren't any other owners. We'll probably just have to send an email and see if we can add you as an owner.</p>



<a name="211499708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211499708" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211499708">(Sep 28 2020 at 14:29)</a>:</h4>
<p>Another option would be to upload new versions of the crate under a new name for now.</p>



<a name="211499826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211499826" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211499826">(Sep 28 2020 at 14:30)</a>:</h4>
<p>That wouldn't automatically help people using the current crate, but it would be better than nothing.</p>



<a name="211511314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211511314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211511314">(Sep 28 2020 at 15:54)</a>:</h4>
<p>righto then.</p>



<a name="211561131"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211561131" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211561131">(Sep 28 2020 at 22:58)</a>:</h4>
<p>confession: I could not figure out how to get packed_simd to go green for an entire day <strong>just</strong> working on making the python-based ghp_import thing work, because Travis will use a distro but will also modify it on top of that (including available python) and also also etc. etc. so let's please, when it comes to tooling, literally just rewrite it in Rust.</p>



<a name="211562704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211562704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211562704">(Sep 28 2020 at 23:16)</a>:</h4>
<p>Could not agree more.</p>



<a name="211712577"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211712577" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211712577">(Sep 30 2020 at 03:50)</a>:</h4>
<p>So it seems like there's two possible fixes:</p>
<ul>
<li><a href="http://crates.io">crates.io</a> team adds a user to <code>packed_simd</code> so that we can publish the new version</li>
<li>we upload <code>packed_simd2</code></li>
</ul>
<p>There's <a href="https://github.com/rust-lang/packed_simd/issues/298">an issue</a> where people are calling for an update, so we should try to resolve this sooner than later. I don't know if we can ping <a href="http://crates.io">crates.io</a> people here in zulip or if we contact them in some other way.</p>



<a name="211717106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211717106" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211717106">(Sep 30 2020 at 05:24)</a>:</h4>
<p>I did in fact <a href="#narrow/stream/242791-t-infra/topic/Need.20auth.20to.20publish.20packed_simd">ask in t-infra</a> and everything sounds like they can't really help me.</p>



<a name="211718064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/211718064" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#211718064">(Sep 30 2020 at 05:44)</a>:</h4>
<p>published packed_simd_2!</p>



<a name="214088654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/214088654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#214088654">(Oct 21 2020 at 17:49)</a>:</h4>
<p><a href="https://github.com/rust-lang/packed_simd">https://github.com/rust-lang/packed_simd</a> needs the URL in its About changed to link to <a href="https://rust-lang.github.io/packed_simd/packed_simd_2/">https://rust-lang.github.io/packed_simd/packed_simd_2/</a></p>



<a name="214139135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/214139135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jed <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#214139135">(Oct 22 2020 at 03:00)</a>:</h4>
<p>Are folks here responsible for this nearby guide? <a href="https://rust-lang.github.io/packed_simd/perf-guide/introduction.html">https://rust-lang.github.io/packed_simd/perf-guide/introduction.html</a><br>
It has some missing parts, especially how to tell <code>rustc</code> that fused multiply-add is allowed. (I realize this is not explicit SIMD, and I'm sad that <a href="https://github.com/rust-lang/rfcs/pull/2686">https://github.com/rust-lang/rfcs/pull/2686</a> ended up being withdrawn. FMA really should be allowed by default.)</p>



<a name="214140603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/214140603" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#214140603">(Oct 22 2020 at 03:39)</a>:</h4>
<p>( Also I don't have auth to change the URL. )<br>
We did not author it, no.</p>



<a name="214146323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/214146323" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#214146323">(Oct 22 2020 at 05:57)</a>:</h4>
<p>i think <span class="user-mention" data-user-id="204346">@Ashley Mannix</span> might be able to change the URL of the repository itself?</p>



<a name="214156509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/214156509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#214156509">(Oct 22 2020 at 08:19)</a>:</h4>
<p>oh it's not the URL of the repo per se, it's just the About link.</p>



<a name="214220482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/214220482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#214220482">(Oct 22 2020 at 17:31)</a>:</h4>
<p>Ah! right. Well I'm sure they can do that too.</p>



<a name="214270730"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/214270730" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#214270730">(Oct 23 2020 at 03:45)</a>:</h4>
<p>Also... I can't change the repository names <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> That's a secret technique only <code>simulacrum</code> can perform</p>



<a name="214272789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/214272789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#214272789">(Oct 23 2020 at 04:34)</a>:</h4>
<p>No no, that's not needed, just the link here:<br>
<a href="/user_uploads/4715/9p0fhZzX0rtdScNdaNu_-1eA/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/9p0fhZzX0rtdScNdaNu_-1eA/image.png" title="image.png"><img src="/user_uploads/4715/9p0fhZzX0rtdScNdaNu_-1eA/image.png"></a></div>



<a name="214306639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/214306639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#214306639">(Oct 23 2020 at 12:28)</a>:</h4>
<p>Updated link.</p>



<a name="214405472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/257879-project-portable-simd/topic/packed_simd%20maintenance/near/214405472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/257879-project-portable-simd/topic/packed_simd.20maintenance.html#214405472">(Oct 24 2020 at 02:49)</a>:</h4>
<p>danke schon</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>