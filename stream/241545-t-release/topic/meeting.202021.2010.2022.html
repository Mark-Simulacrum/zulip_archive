<html>
<head><meta charset="utf-8"><title>meeting 2021 10 22 · t-release · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/index.html">t-release</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html">meeting 2021 10 22</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="258724258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258724258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258724258">(Oct 22 2021 at 15:02)</a>:</h4>
<p>Meeting in ~30 minutes</p>
<ul>
<li>Release retrospective</li>
<li>1.57 bootstrap problems<ul>
<li>Should we be bumping our minimum LLVM direct to 12? LLVM 10 &amp; 11 have miscompilations in libcore's test suite, for example.</li>
</ul>
</li>
<li>1.57 crater startup volunteer</li>
</ul>



<a name="258728165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728165">(Oct 22 2021 at 15:30)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2907">@T-release</span> meeting!</p>



<a name="258728284"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728284" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728284">(Oct 22 2021 at 15:31)</a>:</h4>
<p>(wave all the things!)</p>



<a name="258728299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728299" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728299">(Oct 22 2021 at 15:31)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> want to kick us off with anything that went wrong / well / neutral during release?</p>



<a name="258728328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728328">(Oct 22 2021 at 15:31)</a>:</h4>
<p>sure</p>



<a name="258728434"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728434" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728434">(Oct 22 2021 at 15:32)</a>:</h4>
<p>the great thing is that both the stable and beta PRs went on the first try without the need of ad-hoc fixes! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="258728508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728508" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728508">(Oct 22 2021 at 15:32)</a>:</h4>
<p>the work we did a couple cycles ago to prevent ad-hoc fixes from being needed is really paying off</p>



<a name="258728614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728614">(Oct 22 2021 at 15:33)</a>:</h4>
<p>regarding the bootstrap update... I wasn't able to followup with that PR as I got busy+tired, but it seemed painful :(</p>



<a name="258728619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728619">(Oct 22 2021 at 15:33)</a>:</h4>
<p>/end</p>



<a name="258728679"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728679" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728679">(Oct 22 2021 at 15:34)</a>:</h4>
<p>alright -- I didn't note anything in particular from an external perspective, though there has been a bunch of ICE reports with cargo fix around the edition</p>



<a name="258728745"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728745" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728745">(Oct 22 2021 at 15:34)</a>:</h4>
<p>I'm not sure how widespread it is in practice but there was probably ~5-10 issues filed</p>



<a name="258728766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728766">(Oct 22 2021 at 15:34)</a>:</h4>
<p>only in fix though, right?</p>



<a name="258728775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728775">(Oct 22 2021 at 15:34)</a>:</h4>
<p>yeah, I believe so</p>



<a name="258728790"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728790" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728790">(Oct 22 2021 at 15:34)</a>:</h4>
<p>which is bad, but not critical</p>



<a name="258728833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728833" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728833">(Oct 22 2021 at 15:34)</a>:</h4>
<p>we may want to consider a point release, but it'll depend on how quickly we have a fix for the ice and whether it's easily backportable etc -- we can talk about that in a week or so</p>



<a name="258728869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728869">(Oct 22 2021 at 15:35)</a>:</h4>
<p>sure</p>



<a name="258728886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728886" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728886">(Oct 22 2021 at 15:35)</a>:</h4>
<p>yeah let's check in on that next week</p>



<a name="258728909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728909">(Oct 22 2021 at 15:35)</a>:</h4>
<p>alright, moving on to 1.57 bootstrap</p>



<a name="258728915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728915" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728915">(Oct 22 2021 at 15:35)</a>:</h4>
<p>I wouldn't expect the point release to go out before november anyway</p>



<a name="258728923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728923">(Oct 22 2021 at 15:35)</a>:</h4>
<p>mhm</p>



<a name="258728990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258728990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258728990">(Oct 22 2021 at 15:36)</a>:</h4>
<p>as Pietro mentioned there's been some problems with the bootstrap bump</p>



<a name="258729002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729002" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729002">(Oct 22 2021 at 15:36)</a>:</h4>
<p><a class="stream-topic" data-stream-id="241545" href="/#narrow/stream/241545-t-release/topic/1.2E57.20bootstrap">#t-release &gt; 1.57 bootstrap</a> has some discussion</p>



<a name="258729080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729080" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729080">(Oct 22 2021 at 15:36)</a>:</h4>
<p>but largely I think for <em>this</em> meeting I wanted to see what folks thought about our llvm 10 (soon to be 11) baseline guarantee being actually genuine</p>



<a name="258729139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729139" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729139">(Oct 22 2021 at 15:37)</a>:</h4>
<p>depends what you mean by genuine</p>



<a name="258729273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729273" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729273">(Oct 22 2021 at 15:38)</a>:</h4>
<p>well, basically, we've uncovered a miscompilation and it seems unlikely that we'll see upstream fixes (or patch releases). Maybe we just are fine with that (there's miscompilations not too uncommonly...) but I wanted to raise it</p>



<a name="258729282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729282">(Oct 22 2021 at 15:38)</a>:</h4>
<p>I think we want a best effort, which means we can compile with those versions, and we produce IR that <em>should</em> work, but we can't be responsible for bugs in those external versions.</p>



<a name="258729303"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729303" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729303">(Oct 22 2021 at 15:38)</a>:</h4>
<p>okay</p>



<a name="258729324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729324" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729324">(Oct 22 2021 at 15:38)</a>:</h4>
<p>maybe we can work around them, in some cases, but it's not always possible</p>



<a name="258729350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729350" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729350">(Oct 22 2021 at 15:38)</a>:</h4>
<p>hmm, "our own tests are failing with that version" is not great for a guarantee</p>



<a name="258729463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729463" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729463">(Oct 22 2021 at 15:39)</a>:</h4>
<p>I would like it if we had build tests for all supported versions, not just min and current</p>



<a name="258729493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729493" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729493">(Oct 22 2021 at 15:39)</a>:</h4>
<p>tests are a little fuzzier, but useful for initial PR CI</p>



<a name="258729605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729605" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729605">(Oct 22 2021 at 15:40)</a>:</h4>
<p>hm</p>



<a name="258729621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729621" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729621">(Oct 22 2021 at 15:40)</a>:</h4>
<p>(er, by "build tests" I mean just run the build with that version)</p>



<a name="258729629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729629">(Oct 22 2021 at 15:40)</a>:</h4>
<p>I think adding an <code>llvm-NN</code> for each supported version is not that bad</p>



<a name="258729653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729653">(Oct 22 2021 at 15:40)</a>:</h4>
<p>a single builder seems OK, yeah</p>



<a name="258729711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729711">(Oct 22 2021 at 15:41)</a>:</h4>
<p>For the time being, we'll just workaround the miscompilation (and resulting test failure), I suppose</p>



<a name="258729739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729739" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729739">(Oct 22 2021 at 15:41)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/90153">https://github.com/rust-lang/rust/issues/90153</a> is the issue fwiw</p>



<a name="258729816"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729816" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729816">(Oct 22 2021 at 15:42)</a>:</h4>
<p>I'm willing to also talk about what our minimum policy should be... it's rather ad hoc right now</p>



<a name="258729852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729852" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729852">(Oct 22 2021 at 15:42)</a>:</h4>
<p>hmm, I'm wondering, are we comfortable supporting LLVM 10/11 if we know there is an unfixed miscompilation there?</p>



<a name="258729946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729946" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729946">(Oct 22 2021 at 15:43)</a>:</h4>
<p>I fear it's the nature of things that old versions have bugs -- just a question of how serious</p>



<a name="258729978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258729978" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258729978">(Oct 22 2021 at 15:43)</a>:</h4>
<p>(the current version surely has bugs too)</p>



<a name="258730018"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730018" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730018">(Oct 22 2021 at 15:43)</a>:</h4>
<p>Yeah, I'm less worried about bugs, but I think we should write down somewhere perhaps that non-current LLVM versions are only supported in a best-effort fashion, or something like that?</p>



<a name="258730115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730115">(Oct 22 2021 at 15:44)</a>:</h4>
<p>sure</p>



<a name="258730184"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730184" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730184">(Oct 22 2021 at 15:44)</a>:</h4>
<p>OTOH, it's not really that llvm of any version is guaranteed to not have bugs, as <span class="user-mention" data-user-id="138448">@cuviper</span> notes, so maybe this isn't so different :)</p>



<a name="258730278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730278">(Oct 22 2021 at 15:45)</a>:</h4>
<p>FWIW, I would actually be OK with bumping to LLVM 12 now -- my own needs are for Fedora, and F33 will be EOL before 1.58 comes out</p>



<a name="258730312"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730312" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730312">(Oct 22 2021 at 15:45)</a>:</h4>
<p>I think not many other distros rebase rust so frequently in stable branches</p>



<a name="258730394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730394">(Oct 22 2021 at 15:46)</a>:</h4>
<p>Maybe something to consider. <span class="user-mention" data-user-id="138448">@cuviper</span> would you be up for starting that conversation (maybe on a separate issue or the PR proposing bumping to llvm 11) and cc'ing wg-llvm on it?</p>



<a name="258730458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730458" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730458">(Oct 22 2021 at 15:46)</a>:</h4>
<p>sure</p>



<a name="258730467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730467" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730467">(Oct 22 2021 at 15:46)</a>:</h4>
<p><span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span>.</p>



<a name="258730482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730482">(Oct 22 2021 at 15:46)</a>:</h4>
<p>Alright</p>



<a name="258730554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730554" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730554">(Oct 22 2021 at 15:47)</a>:</h4>
<p>The other thing I wanted to touch on -- both this miscompilation and the other debug-assert issue were brought on by a change in behavior for Cargo, where the release profile now applies to tests as well</p>



<a name="258730570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730570">(Oct 22 2021 at 15:47)</a>:</h4>
<p>(which enabled debug-asserts and CGU=1 in our case)</p>



<a name="258730681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730681" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730681">(Oct 22 2021 at 15:48)</a>:</h4>
<p>We'll definitely have a release note for this, but I think there's probably no nice way to roll this out (e.g., warnings would be painful I suspect)</p>



<a name="258730724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730724" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730724">(Oct 22 2021 at 15:48)</a>:</h4>
<p>mostly just a heads up rather than anything else, maybe someone will have an idea in the next 6 weeks :)</p>



<a name="258730746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730746">(Oct 22 2021 at 15:49)</a>:</h4>
<p><span class="user-mention" data-user-id="261224">@triagebot</span> end-topic</p>



<a name="258730751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730751" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730751">(Oct 22 2021 at 15:49)</a>:</h4>
<p>Does anyone have something to add on the current topic?<br>
React with <span aria-label="working on it" class="emoji emoji-1f6e0" role="img" title="working on it">:working_on_it:</span> if you have something to say.<br>
React with <span aria-label="all good" class="emoji emoji-2705" role="img" title="all good">:all_good:</span> if not.</p>



<a name="258730789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730789">(Oct 22 2021 at 15:49)</a>:</h4>
<p>is there a problem with that besides "may expose codegen bugs"?</p>



<a name="258730840"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730840" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730840">(Oct 22 2021 at 15:49)</a>:</h4>
<p><span class="user-mention" data-user-id="138448">@cuviper</span> I think debug-asserts for example are not really codegen bugs</p>



<a name="258730923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730923">(Oct 22 2021 at 15:50)</a>:</h4>
<p>hmm... ok, we can consider more later</p>



<a name="258730934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730934" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730934">(Oct 22 2021 at 15:50)</a>:</h4>
<p>yeah</p>



<a name="258730939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730939" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730939">(Oct 22 2021 at 15:50)</a>:</h4>
<p>alright</p>



<a name="258730955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258730955" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258730955">(Oct 22 2021 at 15:50)</a>:</h4>
<p>last item I had for today -- is someone up for filing a 1.57 crater issue and kicking that off?</p>



<a name="258731027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258731027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258731027">(Oct 22 2021 at 15:51)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/88827">https://github.com/rust-lang/rust/issues/88827</a> is the one for 1.56, should be fairly easy to copy from there</p>



<a name="258731217"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258731217" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258731217">(Oct 22 2021 at 15:52)</a>:</h4>
<p>won't have time unfortunately due to $things</p>



<a name="258731272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258731272" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258731272">(Oct 22 2021 at 15:53)</a>:</h4>
<p>alright</p>



<a name="258731293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258731293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258731293">(Oct 22 2021 at 15:53)</a>:</h4>
<p>well, I'll try to find the time then</p>



<a name="258731324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258731324" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258731324">(Oct 22 2021 at 15:53)</a>:</h4>
<p><span class="user-mention" data-user-id="261224">@triagebot</span> end-meeting</p>



<a name="258731327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258731327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258731327">(Oct 22 2021 at 15:53)</a>:</h4>
<p>Does anyone have something to bring up?<br>
React with <span aria-label="working on it" class="emoji emoji-1f6e0" role="img" title="working on it">:working_on_it:</span> if you have something to say.<br>
React with <span aria-label="all good" class="emoji emoji-2705" role="img" title="all good">:all_good:</span> if you're ready to end the meeting.</p>



<a name="258731426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/meeting%202021%2010%2022/near/258731426" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/meeting.202021.2010.2022.html#258731426">(Oct 22 2021 at 15:54)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> thanks all!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>