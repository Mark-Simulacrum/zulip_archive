<html>
<head><meta charset="utf-8"><title>1.54 release · t-release · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/index.html">t-release</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html">1.54 release</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="246320477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/246320477" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#246320477">(Jul 17 2021 at 11:35)</a>:</h4>
<p>did a relabeling pass on the regressions, this is now the up-to-date list of 1.54 regressions: <a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta">https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta</a></p>



<a name="246320481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/246320481" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#246320481">(Jul 17 2021 at 11:35)</a>:</h4>
<p>(some of the issues were mislabeled)</p>



<a name="247176719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247176719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247176719">(Jul 26 2021 at 08:46)</a>:</h4>
<p><span class="user-mention" data-user-id="219696">@XAMPPRocky</span> do you have time to followup on <a href="https://github.com/rust-lang/rust/pull/86696">https://github.com/rust-lang/rust/pull/86696</a> in the next couple hours?</p>



<a name="247176741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247176741" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247176741">(Jul 26 2021 at 08:47)</a>:</h4>
<p>Yeah I’m finishing it now</p>



<a name="247176781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247176781" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247176781">(Jul 26 2021 at 08:47)</a>:</h4>
<p>thanks <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<a name="247177704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247177704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247177704">(Jul 26 2021 at 08:59)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> Have a look now.</p>



<a name="247178205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247178205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247178205">(Jul 26 2021 at 09:05)</a>:</h4>
<p>approved, thanks for working on the release notes!</p>



<a name="247181197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247181197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247181197">(Jul 26 2021 at 09:38)</a>:</h4>
<p>ok, everything should be ready to do the 1.54 stable except for the rustdoc accessibility</p>



<a name="247181256"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247181256" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247181256">(Jul 26 2021 at 09:39)</a>:</h4>
<p>status:</p>
<ul>
<li>Fix sidebar display on small devices <a href="https://github.com/rust-lang/rust/issues/87167">#87167</a> -- merged, no beta nomination</li>
<li>Rustdoc accessibility: make the sidebar headers actual headers <a href="https://github.com/rust-lang/rust/issues/87210">#87210</a> -- merged, no beta nomination</li>
<li>Rustdoc accessibility: use real headers for doc items <a href="https://github.com/rust-lang/rust/issues/87390">#87390</a> -- merged, nominated but not accepted</li>
</ul>



<a name="247181340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247181340" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247181340">(Jul 26 2021 at 09:40)</a>:</h4>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> <span class="user-mention" data-user-id="232545">@Joshua Nelson</span> is that an accurate representation?</p>



<a name="247181352"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247181352" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247181352">(Jul 26 2021 at 09:40)</a>:</h4>
<p>what do you want to backport to 1.54 stable?</p>



<a name="247181377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247181377" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247181377">(Jul 26 2021 at 09:40)</a>:</h4>
<p>need an answer before the end of today so that we can make the stable PR</p>



<a name="247181385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247181385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247181385">(Jul 26 2021 at 09:40)</a>:</h4>
<p>I think all the ones you nominated should be backported</p>



<a name="247181424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247181424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247181424">(Jul 26 2021 at 09:41)</a>:</h4>
<p>they are regressions from stable and make it harder for people using text mode for browsing documentation</p>



<a name="247181439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247181439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247181439">(Jul 26 2021 at 09:41)</a>:</h4>
<p>I completely forgot to nominate them...</p>



<a name="247181534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247181534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247181534">(Jul 26 2021 at 09:42)</a>:</h4>
<p>so if all need to be backported could you approve them for backport?</p>



<a name="247181542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247181542" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247181542">(Jul 26 2021 at 09:42)</a>:</h4>
<p><code>T-rustdoc + beta-nominated + beta-accepted</code></p>



<a name="247182241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247182241" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247182241">(Jul 26 2021 at 09:50)</a>:</h4>
<p>sure, hold on</p>



<a name="247182321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247182321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247182321">(Jul 26 2021 at 09:51)</a>:</h4>
<p>Done!</p>



<a name="247185707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247185707" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247185707">(Jul 26 2021 at 10:32)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> so, should I disable incremental or not on 1.54? <a href="#narrow/stream/241545-t-release/topic/meeting.202021.2007.2023/near/246992763">https://rust-lang.zulipchat.com/#narrow/stream/241545-t-release/topic/meeting.202021.2007.2023/near/246992763</a></p>



<a name="247185819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247185819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247185819">(Jul 26 2021 at 10:34)</a>:</h4>
<p>force-pushed stable</p>



<a name="247188074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247188074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247188074">(Jul 26 2021 at 11:00)</a>:</h4>
<p>Let me try to reread logs I guess</p>



<a name="247188247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247188247" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247188247">(Jul 26 2021 at 11:02)</a>:</h4>
<p>I think conclusion is we're re-enabling, and hoping there will not be a point release. Everything points to the majority of bugs being fixed, but we have no real way of knowing.</p>



<a name="247188285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247188285" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247188285">(Jul 26 2021 at 11:03)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> let's build artifacts as is, we can rebuild if needed later.</p>



<a name="247188308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247188308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247188308">(Jul 26 2021 at 11:03)</a>:</h4>
<p>ok I'll finish that in a bit</p>



<a name="247188973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247188973" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247188973">(Jul 26 2021 at 11:11)</a>:</h4>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> <a href="https://github.com/rust-lang/rust/pull/87390">https://github.com/rust-lang/rust/pull/87390</a> doesn't apply cleanly on the <code>stable</code> branch</p>



<a name="247189667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247189667" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247189667">(Jul 26 2021 at 11:21)</a>:</h4>
<p>PR open, without the accessibility fix that doesn't apply cleanly: <a href="https://github.com/rust-lang/rust/pull/87476">https://github.com/rust-lang/rust/pull/87476</a></p>



<a name="247189731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247189731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247189731">(Jul 26 2021 at 11:22)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> I'm kinda tempted to land this now and rebuild when the fix for the accessibility issue is ready, that way we have more time for pre-release testing</p>



<a name="247189755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247189755" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247189755">(Jul 26 2021 at 11:23)</a>:</h4>
<p><span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



<a name="247190125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247190125" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247190125">(Jul 26 2021 at 11:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/241545-t-release/topic/1.2E54.20release/near/247188973">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="https://github.com/rust-lang/rust/pull/87390">https://github.com/rust-lang/rust/pull/87390</a> doesn't apply cleanly on the <code>stable</code> branch</p>
</blockquote>
<p>aren't we supposed to target beta?</p>



<a name="247190191"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247190191" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247190191">(Jul 26 2021 at 11:28)</a>:</h4>
<p>Otherwise just ping me once the PR you opened is merged so I can apply it and fix the conflicts</p>



<a name="247190230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247190230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247190230">(Jul 26 2021 at 11:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="#narrow/stream/241545-t-release/topic/1.2E54.20release/near/247190125">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/241545-t-release/topic/1.2E54.20release/near/247188973">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="https://github.com/rust-lang/rust/pull/87390">https://github.com/rust-lang/rust/pull/87390</a> doesn't apply cleanly on the <code>stable</code> branch</p>
</blockquote>
<p>aren't we supposed to target beta?</p>
</blockquote>
<p>usually yes, but beta was already force-pushed to stable</p>



<a name="247190237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247190237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247190237">(Jul 26 2021 at 11:29)</a>:</h4>
<p><em>just this time</em> do it against stable :)</p>



<a name="247190642"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247190642" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247190642">(Jul 26 2021 at 11:34)</a>:</h4>
<p>ok ok, weird</p>



<a name="247190656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247190656" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247190656">(Jul 26 2021 at 11:34)</a>:</h4>
<p>well, please ping me once the PR you opened is merged so I can apply the patch</p>



<a name="247191736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247191736" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247191736">(Jul 26 2021 at 11:48)</a>:</h4>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> can you do it directly on my branch, before waiting for the PR to be merged?</p>



<a name="247191797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247191797" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247191797">(Jul 26 2021 at 11:49)</a>:</h4>
<p>Ah sure</p>



<a name="247192716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247192716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247192716">(Jul 26 2021 at 11:59)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> I'll also backport an update for the GUI framework because the CI won't pass otherwise</p>



<a name="247193042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247193042" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247193042">(Jul 26 2021 at 12:03)</a>:</h4>
<p>Hum also, I don't think the backport of <a href="https://github.com/rust-lang/rust/pull/87390">https://github.com/rust-lang/rust/pull/87390</a> will be successful on its own. It requires way too many (git) fixes...</p>



<a name="247193375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247193375" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247193375">(Jul 26 2021 at 12:07)</a>:</h4>
<p>A lot of the conflicts come from <a href="https://github.com/rust-lang/rust/pull/85970">https://github.com/rust-lang/rust/pull/85970</a></p>



<a name="247193538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247193538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247193538">(Jul 26 2021 at 12:09)</a>:</h4>
<p>Which are in beta but not in stable, so the backport to beta should work without issues... So weird</p>



<a name="247194469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247194469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247194469">(Jul 26 2021 at 12:21)</a>:</h4>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> beta and stable branches should be 100% identical right now</p>



<a name="247194474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247194474" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247194474">(Jul 26 2021 at 12:21)</a>:</h4>
<p>so maybe you're missing a git fetch?</p>



<a name="247194839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247194839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247194839">(Jul 26 2021 at 12:26)</a>:</h4>
<p>No, it's because we had a lot of changes in-between, so I have to kinda rewrite the whole commit to make it work. Well, I'll fix it by hand and let's see if I can make it work...</p>



<a name="247194921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247194921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247194921">(Jul 26 2021 at 12:27)</a>:</h4>
<p>I don't understand I guess</p>



<a name="247194935"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247194935" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247194935">(Jul 26 2021 at 12:27)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/85970">https://github.com/rust-lang/rust/pull/85970</a> is not in beta</p>



<a name="247194937"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247194937" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247194937">(Jul 26 2021 at 12:27)</a>:</h4>
<p>(well, it will be, but is not in 1.54 beta)</p>



<a name="247195161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247195161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247195161">(Jul 26 2021 at 12:30)</a>:</h4>
<p>Which is the problem, most of the conflicts I get come from the changes from <a href="https://github.com/rust-lang/rust/pull/87390">https://github.com/rust-lang/rust/pull/87390</a>  based on <a href="https://github.com/rust-lang/rust/pull/85970">https://github.com/rust-lang/rust/pull/85970</a> changes</p>



<a name="247195267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247195267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247195267">(Jul 26 2021 at 12:31)</a>:</h4>
<p>Also, one question: won't this create issues for the next to add a commit which will create conficts?</p>



<a name="247195323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247195323" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247195323">(Jul 26 2021 at 12:32)</a>:</h4>
<p>This is (hopefully) the last set of backports. The release is in, like, 3 days.</p>



<a name="247195339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247195339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247195339">(Jul 26 2021 at 12:32)</a>:</h4>
<p>I don't really understand your point though so hard for me to respond.</p>



<a name="247195475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247195475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247195475">(Jul 26 2021 at 12:34)</a>:</h4>
<p>I can't backport the commit as is because of the conflits, so instead I'm making it "by hand". But if we merge this commit, won't it be a problem for the next release when we merge branches?</p>



<a name="247195652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247195652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247195652">(Jul 26 2021 at 12:36)</a>:</h4>
<p>we don't merge branches</p>



<a name="247195660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247195660" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247195660">(Jul 26 2021 at 12:36)</a>:</h4>
<p>oh, well, that makes things much simpler then :)</p>



<a name="247195663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247195663" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247195663">(Jul 26 2021 at 12:36)</a>:</h4>
<p>each release is a fresh "line" from some commit on master</p>



<a name="247197742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247197742" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247197742">(Jul 26 2021 at 12:56)</a>:</h4>
<p>also <span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> if the problem is just the test suite I'd be open in dropping the test from the PR and testing manually before the release</p>



<a name="247197768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247197768" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247197768">(Jul 26 2021 at 12:56)</a>:</h4>
<p>That sounds good to me as well. :)</p>



<a name="247197781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247197781" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247197781">(Jul 26 2021 at 12:56)</a>:</h4>
<p>Let me confirm locally first though if it works</p>



<a name="247198115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247198115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247198115">(Jul 26 2021 at 12:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/241545-t-release/topic/1.2E54.20release/near/247188247">said</a>:</p>
<blockquote>
<p>I think conclusion is we're re-enabling, and hoping there will not be a point release. Everything points to the majority of bugs being fixed, but we have no real way of knowing.</p>
</blockquote>
<p>Yes, that was my understanding from the meeting as well. </p>
<p>cc <span class="user-mention" data-user-id="116083">@pnkfelix</span></p>



<a name="247198526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247198526" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247198526">(Jul 26 2021 at 13:02)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> Are you on track to post a section for the blog post by EOD today?</p>



<a name="247198560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247198560" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247198560">(Jul 26 2021 at 13:02)</a>:</h4>
<p>Yes, I'm working on it in just a bit.</p>



<a name="247201290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247201290" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247201290">(Jul 26 2021 at 13:24)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> I was finally able to cherry-pick <a href="https://github.com/rust-lang/rust/pull/87390">https://github.com/rust-lang/rust/pull/87390</a>. It needed some fixes for the CSS because it's an "in-between" for the HTML DOM changes refactor. I also removed all the GUI tests. Let's see if the CI is happy now.</p>



<a name="247233850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247233850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247233850">(Jul 26 2021 at 17:24)</a>:</h4>
<p>WHOA</p>



<a name="247233855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247233855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247233855">(Jul 26 2021 at 17:24)</a>:</h4>
<p>A RELEASE ON THE FIRST TRY?</p>



<a name="247233864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247233864" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247233864">(Jul 26 2021 at 17:24)</a>:</h4>
<p>what's this sorcery</p>



<a name="247234172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247234172" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247234172">(Jul 26 2021 at 17:27)</a>:</h4>
<p>kicked off dev-stable</p>



<a name="247258311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247258311" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247258311">(Jul 26 2021 at 20:37)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> r? <a href="https://github.com/rust-lang/blog.rust-lang.org/pull/873">https://github.com/rust-lang/blog.rust-lang.org/pull/873</a></p>



<a name="247258342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247258342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247258342">(Jul 26 2021 at 20:37)</a>:</h4>
<p>also posted <a href="https://github.com/rust-lang/rust/issues/87059#issuecomment-887005275">https://github.com/rust-lang/rust/issues/87059#issuecomment-887005275</a> to make sure we didn't mess something up there</p>



<a name="247261303"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247261303" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247261303">(Jul 26 2021 at 21:00)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> merged, and sounds good</p>



<a name="247314934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247314934" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247314934">(Jul 27 2021 at 10:11)</a>:</h4>
<p>force-pushed beta</p>



<a name="247315999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247315999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247315999">(Jul 27 2021 at 10:25)</a>:</h4>
<p>finished today's steps: <a href="https://github.com/rust-lang/rust/pull/87508">https://github.com/rust-lang/rust/pull/87508</a></p>



<a name="247316007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247316007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247316007">(Jul 27 2021 at 10:25)</a>:</h4>
<p>hopefully</p>



<a name="247320359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247320359" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247320359">(Jul 27 2021 at 11:22)</a>:</h4>
<p>also opened a PR to make some improvements to the release process <span class="user-mention" data-user-id="116122">@simulacrum</span> <a href="https://github.com/rust-lang/rust-forge/pull/555">https://github.com/rust-lang/rust-forge/pull/555</a></p>



<a name="247320367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247320367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247320367">(Jul 27 2021 at 11:22)</a>:</h4>
<p>the tuesday steps are really really close to being fully scriptable</p>



<a name="247329038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247329038" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247329038">(Jul 27 2021 at 12:57)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> I've posted the updates to the blog post as suggestions on the PR, let me know if there's more needed.</p>



<a name="247329054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247329054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247329054">(Jul 27 2021 at 12:58)</a>:</h4>
<p>thanks!</p>



<a name="247329420"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247329420" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247329420">(Jul 27 2021 at 13:00)</a>:</h4>
<p>groan</p>



<a name="247329486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247329486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247329486">(Jul 27 2021 at 13:01)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> do you remember that nice lie I told myself that testing just <code>stable</code> and not <code>beta</code> as part of <code>master</code> CI would've been enough?</p>



<a name="247329516"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247329516" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247329516">(Jul 27 2021 at 13:01)</a>:</h4>
<p>heh</p>



<a name="247329531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247329531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247329531">(Jul 27 2021 at 13:01)</a>:</h4>
<p>I was always sceptical :)</p>



<a name="247329610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247329610" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247329610">(Jul 27 2021 at 13:02)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/87508#issuecomment-887405212">https://github.com/rust-lang/rust/pull/87508#issuecomment-887405212</a></p>



<a name="247329659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247329659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247329659">(Jul 27 2021 at 13:02)</a>:</h4>
<p>wait... what</p>



<a name="247329671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247329671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247329671">(Jul 27 2021 at 13:02)</a>:</h4>
<p>wut no actually that's something else</p>



<a name="247329704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247329704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247329704">(Jul 27 2021 at 13:03)</a>:</h4>
<p>I was thinking of <a href="https://github.com/rust-lang/rust/blob/998cfe5aad7c21eb19a4bca50f05a13354706970/src/ci/init_repo.sh#L32-L36">https://github.com/rust-lang/rust/blob/998cfe5aad7c21eb19a4bca50f05a13354706970/src/ci/init_repo.sh#L32-L36</a> but it's happening during the build</p>



<a name="247329766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247329766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247329766">(Jul 27 2021 at 13:03)</a>:</h4>
<p>I mean we had to add that bit at last beta promotion too</p>



<a name="247329799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247329799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247329799">(Jul 27 2021 at 13:03)</a>:</h4>
<p>I think this error is just typical github flakiness, I hope</p>



<a name="247329912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247329912" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247329912">(Jul 27 2021 at 13:04)</a>:</h4>
<p>that error seems to come from <a href="https://github.com/rust-lang/rust/blob/998cfe5aad7c21eb19a4bca50f05a13354706970/src/ci/docker/run.sh#L223-L225">https://github.com/rust-lang/rust/blob/998cfe5aad7c21eb19a4bca50f05a13354706970/src/ci/docker/run.sh#L223-L225</a></p>



<a name="247330012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247330012" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247330012">(Jul 27 2021 at 13:05)</a>:</h4>
<p>why is that fetching submodules though? It can't be that, right?</p>



<a name="247330036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247330036" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247330036">(Jul 27 2021 at 13:05)</a>:</h4>
<p>or does git fetch always fetch submodules</p>



<a name="247330039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247330039" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247330039">(Jul 27 2021 at 13:05)</a>:</h4>
<p>I always forget</p>



<a name="247330168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247330168" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247330168">(Jul 27 2021 at 13:06)</a>:</h4>
<p>yeah no idea tbh</p>



<a name="247330192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247330192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247330192">(Jul 27 2021 at 13:07)</a>:</h4>
<p>what</p>



<a name="247330207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247330207" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247330207">(Jul 27 2021 at 13:07)</a>:</h4>
<p>the failure is on x86_64-gnu-<strong>STABLE</strong></p>



<a name="247330364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247330364" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247330364">(Jul 27 2021 at 13:08)</a>:</h4>
<p>did a retry, let's hope it was spurious</p>



<a name="247333471"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247333471" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247333471">(Jul 27 2021 at 13:35)</a>:</h4>
<p>wtf</p>



<a name="247333477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247333477" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247333477">(Jul 27 2021 at 13:35)</a>:</h4>
<p>it's not spurious</p>



<a name="247358793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247358793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247358793">(Jul 27 2021 at 16:43)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> Do you know why it is saying <code>multiple configurations found for 'submodule.</code>?</p>



<a name="247358805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247358805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247358805">(Jul 27 2021 at 16:43)</a>:</h4>
<p>no clue</p>



<a name="247358872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247358872" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247358872">(Jul 27 2021 at 16:44)</a>:</h4>
<p>maybe it's the mess created by <code>src/ci/init_repo.sh</code>? but even then, why does it happen only on that PR</p>



<a name="247362787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247362787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247362787">(Jul 27 2021 at 17:14)</a>:</h4>
<p>FWIW, I have a backport for cargo that would be nice to land sooner than later: <a href="https://github.com/rust-lang/cargo/commit/95cf038f06eb22ebbbb1ea922218724376470b0b">https://github.com/rust-lang/cargo/commit/95cf038f06eb22ebbbb1ea922218724376470b0b</a></p>
<p>If you want to add that to your PR, I would appreciate it.  Otherwise, I'll queue a PR up after yours lands.</p>



<a name="247362818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247362818" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247362818">(Jul 27 2021 at 17:14)</a>:</h4>
<p>I can try to help dig into the git error later today, but I have to go for a bit.</p>



<a name="247395773"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247395773" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247395773">(Jul 27 2021 at 21:44)</a>:</h4>
<p>FWIW, I'm able to reproduce the error locally.</p>



<a name="247398809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247398809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247398809">(Jul 27 2021 at 22:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="120518">Eric Huss</span> <a href="#narrow/stream/241545-t-release/topic/1.2E54.20release/near/247395773">said</a>:</p>
<blockquote>
<p>FWIW, I'm able to reproduce the error locally.</p>
</blockquote>
<p>uh <span class="user-mention" data-user-id="120518">@Eric Huss</span> do you have repro instructions? I didn't manage to repro it myself</p>



<a name="247398861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247398861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247398861">(Jul 27 2021 at 22:10)</a>:</h4>
<p>that way I could maybe spend some time in the EU morning to debug it too</p>



<a name="247399631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247399631" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247399631">(Jul 27 2021 at 22:18)</a>:</h4>
<p>Here's where I'm at:</p>
<div class="codehilite"><pre><span></span><code>mkdir rust-lang-ci
cd rust-lang-ci
git init
git remote add origin https://github.com/rust-lang-ci/rust
git -c protocol.version=2 fetch --no-tags --prune --progress --no-recurse-submodules --depth=2 origin +9bb7718724c449d9469985e4f02565bb36e0d9ca:refs/remotes/origin/auto
git checkout --progress --force -B auto refs/remotes/origin/auto
git log -1 --format=&#39;%H&#39;
git fetch https://github.com/rust-lang-ci/rust
</code></pre></div>



<a name="247399682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247399682" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247399682">(Jul 27 2021 at 22:18)</a>:</h4>
<p>I'm currently trying to understand what a "graft" commit is in a shallow clone...</p>



<a name="247399715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247399715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247399715">(Jul 27 2021 at 22:18)</a>:</h4>
<p>Not sure if all those steps are necessary, I'm still trying to narrow it down a little.</p>



<a name="247404670"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247404670" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247404670">(Jul 27 2021 at 23:10)</a>:</h4>
<p>I vaguely see what is wrong.  The issue is <a href="https://github.com/rust-lang/rust/issues/86623">#86623</a> added a call to <code>git fetch</code> (noted above).  On a normal nightly build, this call to fetch (which fetches the remote's HEAD) is essentially a no-op since HEAD is already fetched.  However, when building on the <code>beta</code> branch, HEAD is not available (due to the shallow clone).  My understanding of <code>git fetch</code> is that it then needs to fetch all the history.  I don't understand why <code>git</code> gets confused with submodules.  The commits it is referencing are years old.</p>



<a name="247407772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247407772" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247407772">(Jul 27 2021 at 23:55)</a>:</h4>
<p>I'm uncertain of the best way to fix this. </p>
<p><code>GITHUB_BASE_REF</code> is not set on rust-lang-ci. That variable is the destination branch for a pull request, but rust-lang-ci jobs aren't triggered as PR jobs. The way the <code>BASE_COMMIT</code> code is written seems to assume it is set, which isn't true here.</p>
<p>Some ideas:</p>
<ul>
<li>
<p>Use different logic to compute <code>BASE_COMMIT</code> in a PR build from a bors-auto build. Since the bors runs are always done as a merge commit, I think BASE_COMMIT can be determined from <code>git rev-list HEAD^</code> (EDIT: hm, looking if there's a better way). On a PR build, it can do a fetch of GITHUB_BASE_REF like it does today.</p>
</li>
<li>
<p>Don't call <code>git fetch</code> on non-master branches. I don't think the tests using <code>BASE_COMMIT</code> are important for anything but master. I'd still be concerned that this is a little fragile (it assumes HEAD is somewhat close to <code>auto</code>).</p>
</li>
<li>
<p>Use <code>--no-recurse-submodules</code>. That seems to work correctly, but I don't recommend it. It still downloads almost the entire repository, which negates the benefits of a shallow clone.</p>
</li>
</ul>



<a name="247408310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247408310" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247408310">(Jul 28 2021 at 00:03)</a>:</h4>
<p>Well, <code>git rev-list --parents -n 1 HEAD | awk '{print $2}'</code> sorta gets the first parent of a merge commit.  I imagine there's got to be a better way.</p>



<a name="247408673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247408673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247408673">(Jul 28 2021 at 00:09)</a>:</h4>
<p>Oh, <code>git rev-list HEAD^</code> is probably it.</p>



<a name="247428741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247428741" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247428741">(Jul 28 2021 at 07:17)</a>:</h4>
<p>ok for now I'll straight up revert <a href="https://github.com/rust-lang/rust/issues/86623">#86623</a> on beta</p>



<a name="247428744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247428744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247428744">(Jul 28 2021 at 07:17)</a>:</h4>
<p>then we'll figure out how to handle this</p>



<a name="247428748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247428748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247428748">(Jul 28 2021 at 07:17)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="210316">@GuillaumeGomez</span></p>



<a name="247428969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247428969" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247428969">(Jul 28 2021 at 07:20)</a>:</h4>
<p>and thanks for the investigation <span class="user-mention" data-user-id="120518">@Eric Huss</span>!</p>



<a name="247434484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247434484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247434484">(Jul 28 2021 at 08:38)</a>:</h4>
<p>This topic was moved by <span class="user-mention silent" data-user-id="121055">Pietro Albini</span> to <a class="stream-topic" data-stream-id="242791" href="/#narrow/stream/242791-t-infra/topic/.2386623">#t-infra &gt; #86623</a></p>



<a name="247446063"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247446063" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247446063">(Jul 28 2021 at 11:16)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> Just realized that the headers in the sidebar didn't have underline as they should so I opened <a href="https://github.com/rust-lang/rust/pull/87544">https://github.com/rust-lang/rust/pull/87544</a></p>



<a name="247455381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247455381" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247455381">(Jul 28 2021 at 13:04)</a>:</h4>
<p>gah</p>



<a name="247455383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247455383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247455383">(Jul 28 2021 at 13:04)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/87508#issuecomment-888139738">https://github.com/rust-lang/rust/pull/87508#issuecomment-888139738</a></p>



<a name="247455396"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247455396" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247455396">(Jul 28 2021 at 13:04)</a>:</h4>
<p>will disable the stable builder on non-nightly</p>



<a name="247455417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247455417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247455417">(Jul 28 2021 at 13:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> <a href="#narrow/stream/241545-t-release/topic/1.2E54.20release/near/247446063">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> Just realized that the headers in the sidebar didn't have underline as they should so I opened <a href="https://github.com/rust-lang/rust/pull/87544">https://github.com/rust-lang/rust/pull/87544</a></p>
</blockquote>
<p>how bad is it? does it warrant a rebuild of everything? cc <span class="user-mention" data-user-id="116122">@simulacrum</span></p>



<a name="247456965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247456965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247456965">(Jul 28 2021 at 13:18)</a>:</h4>
<p>Huuum, well, you don't have bottom border for the sections in sidebar</p>



<a name="247457015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247457015" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247457015">(Jul 28 2021 at 13:18)</a>:</h4>
<p>people can live with it without problem XD</p>



<a name="247457034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247457034" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247457034">(Jul 28 2021 at 13:18)</a>:</h4>
<p>but simply copying-pasting the css file I modified is enough</p>



<a name="247457053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247457053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247457053">(Jul 28 2021 at 13:18)</a>:</h4>
<p>for the std docs</p>



<a name="247457085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247457085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247457085">(Jul 28 2021 at 13:18)</a>:</h4>
<p>rustdoc needs to be rebuilt (<code>include_bytes!</code> :) )</p>



<a name="247457376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247457376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247457376">(Jul 28 2021 at 13:21)</a>:</h4>
<p>hmm I won't copy-paste things to <a href="http://doc.rust-lang.org">doc.rust-lang.org</a> that aren't in the release</p>



<a name="247457400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247457400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247457400">(Jul 28 2021 at 13:21)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> fyi <a href="https://github.com/rust-lang/rust/pull/87508">https://github.com/rust-lang/rust/pull/87508</a> needs your explicit review now for the last commit</p>



<a name="247462697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247462697" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247462697">(Jul 28 2021 at 14:02)</a>:</h4>
<p>reviewed</p>



<a name="247481036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247481036" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247481036">(Jul 28 2021 at 16:21)</a>:</h4>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> I don't think at this point it's worth doing a rebuild just for that</p>



<a name="247481066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247481066" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247481066">(Jul 28 2021 at 16:21)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> fyi - I've not been paying attention to blog post, not sure I have cycles for that. Let me know if I need to deprioritize other stuff or if you have it hand.</p>



<a name="247481185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247481185" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247481185">(Jul 28 2021 at 16:22)</a>:</h4>
<p>I can probably spare some cycles I guess?</p>



<a name="247481687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247481687" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247481687">(Jul 28 2021 at 16:26)</a>:</h4>
<p>I think it's good, just not following closely</p>



<a name="247481971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247481971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247481971">(Jul 28 2021 at 16:28)</a>:</h4>
<p>I think it’s just the macros in attributes and the note about about fingerprints that are two things that haven’t been settled.</p>



<a name="247489902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247489902" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247489902">(Jul 28 2021 at 17:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/241545-t-release/topic/1.2E54.20release/near/247481036">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="210316">GuillaumeGomez</span> I don't think at this point it's worth doing a rebuild just for that</p>
</blockquote>
<p>Fine by me!</p>



<a name="247520022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520022">(Jul 28 2021 at 21:29)</a>:</h4>
<p>pinged in <a class="stream" data-stream-id="213817" href="/#narrow/stream/213817-t-lang">#t-lang</a> about the macros in attrs stabilization</p>



<a name="247520514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520514">(Jul 28 2021 at 21:35)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> can you tick "allow maintainers to change the branch" for the release blog post?</p>



<a name="247520524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520524">(Jul 28 2021 at 21:35)</a>:</h4>
<p>yes</p>



<a name="247520530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520530" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520530">(Jul 28 2021 at 21:35)</a>:</h4>
<p>I thought it was default...</p>



<a name="247520539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520539" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520539">(Jul 28 2021 at 21:36)</a>:</h4>
<p>I did too...</p>



<a name="247520589"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520589" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520589">(Jul 28 2021 at 21:36)</a>:</h4>
<p><a href="/user_uploads/4715/GzRokTC8mkt2Iht8IHUYZ2QN/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/GzRokTC8mkt2Iht8IHUYZ2QN/image.png" title="image.png"><img src="/user_uploads/4715/GzRokTC8mkt2Iht8IHUYZ2QN/image.png"></a></div>



<a name="247520592"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520592" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520592">(Jul 28 2021 at 21:36)</a>:</h4>
<p>seems to be ticked</p>



<a name="247520608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520608" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520608">(Jul 28 2021 at 21:36)</a>:</h4>
<div class="codehilite"><pre><span></span><code>git push git@github.com:Mark-Simulacrum/rust post-1.54:1.54
</code></pre></div>



<a name="247520611"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520611" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520611">(Jul 28 2021 at 21:36)</a>:</h4>
<p>wrong repo <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="247520628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520628">(Jul 28 2021 at 21:36)</a>:</h4>
<p>maybe I should get some sleep <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="247520638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520638" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520638">(Jul 28 2021 at 21:36)</a>:</h4>
<p>ah</p>



<a name="247520644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520644" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520644">(Jul 28 2021 at 21:37)</a>:</h4>
<p>invited you directly</p>



<a name="247520655"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520655" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520655">(Jul 28 2021 at 21:37)</a>:</h4>
<p>(I can cancel that I guess..)</p>



<a name="247520673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520673">(Jul 28 2021 at 21:37)</a>:</h4>
<p><em>shrugs</em></p>



<a name="247520680"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520680" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520680">(Jul 28 2021 at 21:37)</a>:</h4>
<p>oh well, not important</p>



<a name="247520763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247520763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247520763">(Jul 28 2021 at 21:38)</a>:</h4>
<p>ok I <em>think</em> we're set for tomorrow -- the only unclear is the macros on attrs thing but I'll wait for an opinion from lang</p>



<a name="247552075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247552075" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247552075">(Jul 29 2021 at 07:26)</a>:</h4>
<p>I'll aim for <time datetime="2021-07-29T13:00:00Z">2021-07-29T015:00:00+02:00</time> to start the release</p>



<a name="247579273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247579273" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247579273">(Jul 29 2021 at 12:58)</a>:</h4>
<p>well, a bit later</p>



<a name="247580385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247580385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247580385">(Jul 29 2021 at 13:07)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> going to adjust blog post on the macros thing</p>



<a name="247580403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247580403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247580403">(Jul 29 2021 at 13:07)</a>:</h4>
<p>ok!</p>



<a name="247580422"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247580422" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247580422">(Jul 29 2021 at 13:07)</a>:</h4>
<p>let me grab a snack and I'll kickoff the release</p>



<a name="247581799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247581799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247581799">(Jul 29 2021 at 13:19)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> kicked off</p>



<a name="247581908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247581908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247581908">(Jul 29 2021 at 13:20)</a>:</h4>
<p>pushed up a small edit but nothing major</p>



<a name="247582187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247582187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247582187">(Jul 29 2021 at 13:22)</a>:</h4>
<p>I think it's as good as it's going to get, not super happy but seems OK</p>



<a name="247583340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247583340" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247583340">(Jul 29 2021 at 13:32)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> ok yeah it's better than before</p>



<a name="247589035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247589035" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247589035">(Jul 29 2021 at 14:17)</a>:</h4>
<p>release out, merging blog post</p>



<a name="247589422"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247589422" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247589422">(Jul 29 2021 at 14:20)</a>:</h4>
<p><a href="https://blog.rust-lang.org/2021/07/29/Rust-1.54.0.html">https://blog.rust-lang.org/2021/07/29/Rust-1.54.0.html</a></p>



<a name="247589590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247589590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247589590">(Jul 29 2021 at 14:21)</a>:</h4>
<p>/me prepares for fingerprint ICE issues</p>



<a name="247590693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247590693" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247590693">(Jul 29 2021 at 14:28)</a>:</h4>
<p>pushed cargo</p>



<a name="247591123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247591123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247591123">(Jul 29 2021 at 14:30)</a>:</h4>
<p>and finished the release chores</p>



<a name="247632246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247632246" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dirkjan Ochtman <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247632246">(Jul 29 2021 at 19:49)</a>:</h4>
<p>Reddit is surprised the noalias thing isn’t mentioned anywhere</p>



<a name="247632255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247632255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dirkjan Ochtman <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247632255">(Jul 29 2021 at 19:49)</a>:</h4>
<p>Was that intentional?</p>



<a name="247632292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247632292" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dirkjan Ochtman <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247632292">(Jul 29 2021 at 19:49)</a>:</h4>
<p><a href="https://www.reddit.com/r/rust/comments/otydwz/comment/h6yjlm9/">https://www.reddit.com/r/rust/comments/otydwz/comment/h6yjlm9/</a></p>



<a name="247633032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247633032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247633032">(Jul 29 2021 at 19:55)</a>:</h4>
<p>Someone mentioned <a href="https://github.com/rust-lang/rust/issues/63787">https://github.com/rust-lang/rust/issues/63787</a> - does that issue result in miscompilations?</p>



<a name="247634885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247634885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247634885">(Jul 29 2021 at 20:11)</a>:</h4>
<p>That's pre-existing, though RefMut suffering from it with -Zmutable-noalias is in some sense "additional regression"</p>



<a name="247702362"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247702362" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247702362">(Jul 30 2021 at 12:41)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> I'm a bit puzzed by <code>const_fn_transmute</code></p>



<a name="247702428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247702428" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247702428">(Jul 30 2021 at 12:42)</a>:</h4>
<p>it's <code>#[cfg(bootstrap)]</code>'d, but it was marked for being stabilized in 1.56</p>



<a name="247702438"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247702438" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247702438">(Jul 30 2021 at 12:42)</a>:</h4>
<p>on June 3rd</p>



<a name="247702447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247702447" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247702447">(Jul 30 2021 at 12:42)</a>:</h4>
<p>right?</p>



<a name="247702454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247702454" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247702454">(Jul 30 2021 at 12:42)</a>:</h4>
<p>I left a comment on the PR</p>



<a name="247702476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247702476" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247702476">(Jul 30 2021 at 12:42)</a>:</h4>
<p>hm, wait, 1.56?</p>



<a name="247702484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247702484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247702484">(Jul 30 2021 at 12:42)</a>:</h4>
<p>that seems a little early</p>



<a name="247702531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247702531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247702531">(Jul 30 2021 at 12:43)</a>:</h4>
<p>from master: <a href="https://github.com/rust-lang/rust/blob/1195bea5a7b73e079fa14b37ac7e375fc77d368a/compiler/rustc_feature/src/accepted.rs#L293-L294">https://github.com/rust-lang/rust/blob/1195bea5a7b73e079fa14b37ac7e375fc77d368a/compiler/rustc_feature/src/accepted.rs#L293-L294</a></p>



<a name="247702541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247702541" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247702541">(Jul 30 2021 at 12:43)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> wait, why do you say june 3rd? the pr merged just a few days ago, as I expected - <a href="https://github.com/rust-lang/rust/pull/85769">https://github.com/rust-lang/rust/pull/85769</a></p>



<a name="247702553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247702553" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247702553">(Jul 30 2021 at 12:43)</a>:</h4>
<p>just the commit is old</p>



<a name="247702566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247702566" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247702566">(Jul 30 2021 at 12:43)</a>:</h4>
<p>because I was looking at the commit <span aria-label="rolling eyes" class="emoji emoji-1f644" role="img" title="rolling eyes">:rolling_eyes:</span></p>



<a name="247702571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247702571" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247702571">(Jul 30 2021 at 12:44)</a>:</h4>
<p>(I think because git --amend does not actually adjust dates?)</p>



<a name="247702584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247702584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247702584">(Jul 30 2021 at 12:44)</a>:</h4>
<p>sorry for the ping</p>



<a name="247709489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20release/near/247709489" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E54.20release.html#247709489">(Jul 30 2021 at 13:43)</a>:</h4>
<p>Git has two dates, author and committer. Most UI only shows the author date by default, while actions like amend or cherry-pick only change the committer.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>