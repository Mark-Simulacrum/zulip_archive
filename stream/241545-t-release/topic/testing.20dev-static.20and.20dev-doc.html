<html>
<head><meta charset="utf-8"><title>testing dev-static and dev-doc · t-release · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/index.html">t-release</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html">testing dev-static and dev-doc</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="202995079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/202995079" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#202995079">(Jul 06 2020 at 14:15)</a>:</h4>
<p>Hello release team!</p>



<a name="202995140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/202995140" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#202995140">(Jul 06 2020 at 14:16)</a>:</h4>
<p>(I guess that includes me <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>)</p>



<a name="202995318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/202995318" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#202995318">(Jul 06 2020 at 14:17)</a>:</h4>
<p>For infrastructure reasons I need to make some changes to <a href="http://static.rust-lang.org">static.rust-lang.org</a> and <a href="http://doc.rust-lang.org">doc.rust-lang.org</a>:</p>
<ul>
<li>Moving the lambdas that power the sites to the Node 12 runtime</li>
<li>Moving the configuration to <a href="https://github.com/rust-lang/simpleinfra/tree/master/terraform/releases">Terraform</a></li>
</ul>



<a name="202995377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/202995377" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#202995377">(Jul 06 2020 at 14:17)</a>:</h4>
<p>Along with that change I also tweaked the doc router to serve <code>robots.txt</code> from the stable release instead of the hardcoded one.</p>



<a name="202995452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/202995452" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#202995452">(Jul 06 2020 at 14:18)</a>:</h4>
<p>Those changes are a bit risky though, and I'm wary of deploying them to production directly</p>



<a name="202995501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/202995501" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#202995501">(Jul 06 2020 at 14:18)</a>:</h4>
<p>I deployed the changes to <a href="https://dev-static.rust-lang.org/">https://dev-static.rust-lang.org/</a> and <a href="https://dev-doc.rust-lang.org/stable/">https://dev-doc.rust-lang.org/stable/</a></p>



<a name="202995578"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/202995578" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#202995578">(Jul 06 2020 at 14:19)</a>:</h4>
<p>I'd love for y'all to test if everything works as expected, or suggest ways to get wider testing.</p>



<a name="202995603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/202995603" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#202995603">(Jul 06 2020 at 14:19)</a>:</h4>
<p>Just remember that most nightlies and betas are not available on dev-static and dev-doc.</p>



<a name="202995609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/202995609" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#202995609">(Jul 06 2020 at 14:19)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2907">@T-release</span> ^</p>



<a name="202995751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/202995751" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#202995751">(Jul 06 2020 at 14:20)</a>:</h4>
<p>let's maybe publish current beta/stable/nightly to those and ask folks on internals and users to test that everything looks about right</p>



<a name="202997660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/202997660" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#202997660">(Jul 06 2020 at 14:35)</a>:</h4>
<p>the current stable is already there</p>



<a name="202997714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/202997714" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#202997714">(Jul 06 2020 at 14:36)</a>:</h4>
<p>let me start a nightly promotion <span class="user-mention" data-user-id="116122">@simulacrum</span></p>



<a name="202997844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/202997844" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#202997844">(Jul 06 2020 at 14:37)</a>:</h4>
<p>kicked off a dev nightly promotion</p>



<a name="203384871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/203384871" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#203384871">(Jul 09 2020 at 13:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> looking at the changes again before posting on internals, I noticed that we could remove the response lambda from <a href="http://doc.rust-lang.org">doc.rust-lang.org</a></p>



<a name="203384884"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/203384884" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#203384884">(Jul 09 2020 at 13:29)</a>:</h4>
<p>that lambda's code is <a href="https://github.com/rust-lang/simpleinfra/blob/master/terraform/releases/impl/lambdas/doc-response/index.js">https://github.com/rust-lang/simpleinfra/blob/master/terraform/releases/impl/lambdas/doc-response/index.js</a></p>



<a name="203384902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/203384902" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#203384902">(Jul 09 2020 at 13:29)</a>:</h4>
<p>it seems redundant since we now serve the proper robots.txt</p>



<a name="203384951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/203384951" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#203384951">(Jul 09 2020 at 13:29)</a>:</h4>
<p><span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span> that does indeed seem reasonable</p>



<a name="203398626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/203398626" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#203398626">(Jul 09 2020 at 15:14)</a>:</h4>
<p>posted it on internals: <a href="https://internals.rust-lang.org/t/help-us-test-changes-to-doc-rust-lang-org-and-static-rust-lang-org/12707">https://internals.rust-lang.org/t/help-us-test-changes-to-doc-rust-lang-org-and-static-rust-lang-org/12707</a></p>



<a name="203398637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/testing%20dev-static%20and%20dev-doc/near/203398637" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/testing.20dev-static.20and.20dev-doc.html#203398637">(Jul 09 2020 at 15:14)</a>:</h4>
<p>I also removed the lambda for the doc response</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>