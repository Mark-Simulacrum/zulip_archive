<html>
<head><meta charset="utf-8"><title>rls beta promotion · t-release · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/index.html">t-release</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/rls.20beta.20promotion.html">rls beta promotion</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="272740960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/rls%20beta%20promotion/near/272740960" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/rls.20beta.20promotion.html#272740960">(Feb 21 2022 at 22:31)</a>:</h4>
<p>looks like rls failed in beta promotion - <a href="https://github.com/rust-lang/rust/pull/94228#issuecomment-1047267754">https://github.com/rust-lang/rust/pull/94228#issuecomment-1047267754</a></p>



<a name="272741016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/rls%20beta%20promotion/near/272741016" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/rls.20beta.20promotion.html#272741016">(Feb 21 2022 at 22:32)</a>:</h4>
<p>will need to investigate more, maybe tomorrow</p>



<a name="272741726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/rls%20beta%20promotion/near/272741726" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/rls.20beta.20promotion.html#272741726">(Feb 21 2022 at 22:43)</a>:</h4>
<p>It looks like the problem is in racer</p>



<a name="272741736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/rls%20beta%20promotion/near/272741736" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/rls.20beta.20promotion.html#272741736">(Feb 21 2022 at 22:43)</a>:</h4>
<p>it uses Rc::new instead of Lrc::new, which is not compatible with parallel compilers</p>



<a name="272744641"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/rls%20beta%20promotion/near/272744641" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/rls.20beta.20promotion.html#272744641">(Feb 21 2022 at 23:28)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span> do you know what our typical process for racer upgrades is?</p>
<p>I'm somewhat tempted to just disable parallel builds of rls on beta, but maybe that's too large a hammer.</p>



<a name="272744773"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/rls%20beta%20promotion/near/272744773" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/rls.20beta.20promotion.html#272744773">(Feb 21 2022 at 23:30)</a>:</h4>
<p>Xanewok has always handled that.  Otherwise I don't know anything.</p>
<p>Do you know why this is failing on beta and not on nightly?</p>



<a name="272744904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/rls%20beta%20promotion/near/272744904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/rls.20beta.20promotion.html#272744904">(Feb 21 2022 at 23:32)</a>:</h4>
<p>Oh I see</p>



<a name="272744917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/rls%20beta%20promotion/near/272744917" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/rls.20beta.20promotion.html#272744917">(Feb 21 2022 at 23:33)</a>:</h4>
<p>Toolstate only tracks two builders.</p>



<a name="272745032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/rls%20beta%20promotion/near/272745032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/rls.20beta.20promotion.html#272745032">(Feb 21 2022 at 23:35)</a>:</h4>
<p>yeah, toolstate is kinda problematic that way</p>



<a name="272745211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/rls%20beta%20promotion/near/272745211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/rls.20beta.20promotion.html#272745211">(Feb 21 2022 at 23:38)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="153740">@Igor Matuszewski</span> ^ looks like we need a racer bump</p>



<a name="272745235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/rls%20beta%20promotion/near/272745235" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/rls.20beta.20promotion.html#272745235">(Feb 21 2022 at 23:38)</a>:</h4>
<p><a href="https://github.com/racer-rust/racer/blob/master/src/racer/ast.rs#L50">https://github.com/racer-rust/racer/blob/master/src/racer/ast.rs#L50</a> should be using rustc_data_structures::sync::Lrc::new</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>