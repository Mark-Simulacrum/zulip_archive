<html>
<head><meta charset="utf-8"><title>1.53 beta bootstrap · t-release · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/index.html">t-release</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html">1.53 beta bootstrap</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="236418740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/236418740" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#236418740">(Apr 27 2021 at 22:16)</a>:</h4>
<p>When the bootstrap compiler is bumped to 1.53, I think it would be good to add something like the following patch:</p>
<p><a href="https://github.com/ehuss/rust/commit/f679b8098608da355b2758a67e76472281d47eff">https://github.com/ehuss/rust/commit/f679b8098608da355b2758a67e76472281d47eff</a></p>
<p>This is a mitigation for <a href="https://github.com/rust-lang/cargo/issues/9336">https://github.com/rust-lang/cargo/issues/9336</a>. This should not be necessary to get CI to work properly (other changes help with that). However, that patch should help if people are building docs locally. Each time the beta compiler is bumped, they may run into problems if they are reusing the build directory.</p>



<a name="236421856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/236421856" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#236421856">(Apr 27 2021 at 22:47)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> are you running the release this cycle?</p>



<a name="236421944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/236421944" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#236421944">(Apr 27 2021 at 22:48)</a>:</h4>
<p>I think it's my turn</p>



<a name="236422043"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/236422043" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#236422043">(Apr 27 2021 at 22:49)</a>:</h4>
<p>I did set a reminder</p>



<a name="237337145"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237337145" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237337145">(May 04 2021 at 14:48)</a>:</h4>
<p>hmm, seems like this failed</p>



<a name="237337146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237337146" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237337146">(May 04 2021 at 14:48)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/84909#issuecomment-831999356">https://github.com/rust-lang/rust/pull/84909#issuecomment-831999356</a></p>



<a name="237337180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237337180" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237337180">(May 04 2021 at 14:48)</a>:</h4>
<div class="codehilite"><pre><span></span><code>Documenting stage0 std (x86_64-unknown-linux-gnu)
Building stage0 std artifacts (x86_64-unknown-linux-gnu -&gt; x86_64-unknown-linux-gnu)
    Finished release [optimized] target(s) in 0.14s
Copying stage0 std from stage0 (x86_64-unknown-linux-gnu -&gt; x86_64-unknown-linux-gnu / x86_64-unknown-linux-gnu)
error: unknown `-Z` flag specified: skip-rustdoc-fingerprint


command did not execute successfully: &quot;/checkout/obj/build/x86_64-unknown-linux-gnu/stage0/bin/cargo&quot; &quot;rustdoc&quot; &quot;--target&quot; &quot;x86_64-unknown-linux-gnu&quot; &quot;-Zbinary-dep-depinfo&quot; &quot;-j&quot; &quot;16&quot; &quot;--release&quot; &quot;--locked&quot; &quot;--color&quot; &quot;always&quot; &quot;--features&quot; &quot;panic-unwind backtrace compiler-builtins-c&quot; &quot;--manifest-path&quot; &quot;/checkout/library/test/Cargo.toml&quot; &quot;-p&quot; &quot;core&quot; &quot;-Zskip-rustdoc-fingerprint&quot; &quot;--&quot; &quot;--markdown-css&quot; &quot;rust.css&quot; &quot;--markdown-no-toc&quot; &quot;-Z&quot; &quot;unstable-options&quot; &quot;--resource-suffix&quot; &quot;1.54.0&quot; &quot;--index-page&quot; &quot;/checkout/src/doc/index.md&quot;


failed to run: /checkout/obj/build/bootstrap/debug/bootstrap doc --stage 0 library/std
Build completed unsuccessfully in 0:00:00
</code></pre></div>



<a name="237337186"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237337186" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237337186">(May 04 2021 at 14:48)</a>:</h4>
<p><span class="user-mention" data-user-id="120518">@Eric Huss</span></p>



<a name="237337689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237337689" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237337689">(May 04 2021 at 14:51)</a>:</h4>
<p>is that with the bumped cargo?</p>



<a name="237337916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237337916" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237337916">(May 04 2021 at 14:53)</a>:</h4>
<p>that's with the bumped <code>src/stage0.txt</code> as usual</p>



<a name="237337961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237337961" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237337961">(May 04 2021 at 14:53)</a>:</h4>
<p>Sorry, I'm a bit confused.  The 1.53 beta hasn't been created, has it?</p>



<a name="237337992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237337992" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237337992">(May 04 2021 at 14:53)</a>:</h4>
<p>uh</p>



<a name="237338036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237338036" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237338036">(May 04 2021 at 14:53)</a>:</h4>
<p>rustfmt isn't building, so I don't think beta will publish</p>



<a name="237338269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237338269" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237338269">(May 04 2021 at 14:55)</a>:</h4>
<p>gah</p>



<a name="237338308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237338308" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237338308">(May 04 2021 at 14:55)</a>:</h4>
<p>thankfully the last time hopefully</p>



<a name="237338849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237338849" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237338849">(May 04 2021 at 14:56)</a>:</h4>
<p>Something like <a href="https://github.com/rust-lang/rust/issues/84886">#84886</a> will need to be backported to beta, but it doesn't look like it is passing right now.</p>



<a name="237338955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237338955" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237338955">(May 04 2021 at 14:57)</a>:</h4>
<p>gah</p>



<a name="237339094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237339094" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237339094">(May 04 2021 at 14:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="120518">Eric Huss</span> <a href="#narrow/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap/near/237337961">said</a>:</p>
<blockquote>
<p>Sorry, I'm a bit confused.  The 1.53 beta hasn't been created, has it?</p>
</blockquote>
<p>I misunderstood, woops, I thought this was for 1.53 beta itself and not for 1.54 master with the bootstrap updated to beta</p>



<a name="237339161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237339161" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237339161">(May 04 2021 at 14:58)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> I think you can land that PR (the one bumping rls/rustfmt) alongside a revert of a pr I'll give you in a moment</p>



<a name="237339196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237339196" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237339196">(May 04 2021 at 14:58)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/83312">https://github.com/rust-lang/rust/pull/83312</a></p>



<a name="237339233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237339233" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237339233">(May 04 2021 at 14:58)</a>:</h4>
<p>that should hopefully fix the rustfmt test failures</p>



<a name="237339251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237339251" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237339251">(May 04 2021 at 14:58)</a>:</h4>
<p>it's all a bit of a mess</p>



<a name="237339292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237339292" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237339292">(May 04 2021 at 14:59)</a>:</h4>
<p>yeah :(</p>



<a name="237339294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237339294" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237339294">(May 04 2021 at 14:59)</a>:</h4>
<p>but I'd rather get <em>a</em> beta out the door and then we can file an issue about this</p>



<a name="237339389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.53%20beta%20bootstrap/near/237339389" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E53.20beta.20bootstrap.html#237339389">(May 04 2021 at 14:59)</a>:</h4>
<p>(note that PR may end up getting reverted or otherwise on master, given <a href="https://github.com/rust-lang/rust/issues/84879">https://github.com/rust-lang/rust/issues/84879</a></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>