<html>
<head><meta charset="utf-8"><title>1.54 beta · t-release · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/index.html">t-release</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html">1.54 beta</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="243450960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243450960" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243450960">(Jun 21 2021 at 22:25)</a>:</h4>
<p>Hey <span class="user-group-mention" data-user-group-id="2907">@T-release</span>  - to some extent driven by discussion in last meeting (cc <span class="user-mention" data-user-id="138448">@cuviper</span>):</p>
<p><a href="https://github.com/rust-lang/rust/issues/78226">https://github.com/rust-lang/rust/issues/78226</a> is currently blocking the 1.54 beta from the first publication. The test in question is failing on a tier-1 builder (aarch64-unknown-linux-gnu tests) so ignoring it is sort of questionable, but I'm currently planning to do so in order to allow us to start testing the beta (crater) and bumping the master bootstrap compiler. The test seems to pass on aarch64 machines when run locally, at least in a simulated configuration, so it's not clear what the cause is.</p>
<p>If we do ignore it I plan to make that issue p-critical and milestone it at 1.54, but I don't know how much can be done about it.</p>



<a name="243451008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243451008" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243451008">(Jun 21 2021 at 22:25)</a>:</h4>
<p>No action from folks expected really, but wanted to flag it.</p>



<a name="243451058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243451058" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243451058">(Jun 21 2021 at 22:26)</a>:</h4>
<p>(Tell me if this was horrible or useful or what).</p>



<a name="243451113"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243451113" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243451113">(Jun 21 2021 at 22:26)</a>:</h4>
<p>it was great :)</p>



<a name="243451127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243451127" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243451127">(Jun 21 2021 at 22:27)</a>:</h4>
<p>Same, cheers <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="243451268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243451268" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243451268">(Jun 21 2021 at 22:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> on what arm machine did you try the test manually?</p>



<a name="243455015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243455015" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243455015">(Jun 21 2021 at 23:13)</a>:</h4>
<p>The CI builder but without qemu, and not building a full rustc (downloaded artifacts manually)</p>



<a name="243455027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243455027" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243455027">(Jun 21 2021 at 23:13)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> ^</p>



<a name="243458090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243458090" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243458090">(Jun 21 2021 at 23:57)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> are you using the docker image for that?</p>



<a name="243458163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243458163" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243458163">(Jun 21 2021 at 23:58)</a>:</h4>
<p>or is that tester not under docker? I'm not sure</p>



<a name="243458207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243458207" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243458207">(Jun 21 2021 at 23:59)</a>:</h4>
<p>No. The environment likely differs at least somewhat. I think the next step is to actually build rustc from the branch on an aarch64 machine</p>



<a name="243458227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243458227" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243458227">(Jun 21 2021 at 23:59)</a>:</h4>
<p>It's under qemu and docker within that</p>



<a name="243572528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243572528" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243572528">(Jun 22 2021 at 20:10)</a>:</h4>
<p>ok, r+'d <a href="https://github.com/rust-lang/rust/pull/86413">https://github.com/rust-lang/rust/pull/86413</a> with the test disabled</p>



<a name="243595736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243595736" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243595736">(Jun 23 2021 at 00:41)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> I assume beta PRs need to wait for <a href="https://github.com/rust-lang/rust/issues/86413">#86413</a> to land?  If you want, you can roll up <a href="https://github.com/rust-lang/rust/issues/86563">#86563</a>, or it can wait.</p>
<p>Also, let me know if you want help with getting it through.  I can work on disabling miri on stable/beta if you want.</p>



<a name="243595808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243595808" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243595808">(Jun 23 2021 at 00:42)</a>:</h4>
<p>Yes, getting a patch for disabling the miri builds entirely on beta/stable would be great- I had thought we'd done that already but I guess not</p>



<a name="243595872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243595872" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243595872">(Jun 23 2021 at 00:44)</a>:</h4>
<p>Yea, there have been reports that it is in the standalone installer and causing difficulties with building stable from source.   I'll try to knock it out this evening.</p>



<a name="243595908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243595908" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243595908">(Jun 23 2021 at 00:44)</a>:</h4>
<p>I'll take care of the cherry picking and miri in beta though, I don't think it's necessary to backport the more complete patch right this moment</p>



<a name="243595915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243595915" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243595915">(Jun 23 2021 at 00:44)</a>:</h4>
<p>So no rush on that side of things</p>



<a name="243608180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243608180" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Huss <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243608180">(Jun 23 2021 at 05:22)</a>:</h4>
<p>Posted <a href="https://github.com/rust-lang/rust/pull/86568">https://github.com/rust-lang/rust/pull/86568</a></p>



<a name="243692247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243692247" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243692247">(Jun 23 2021 at 18:19)</a>:</h4>
<p>we have a beta release (almost) -- manually kicked off the actual recompression and posting</p>



<a name="243792916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.54%20beta/near/243792916" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E54.20beta.html#243792916">(Jun 24 2021 at 14:19)</a>:</h4>
<p>ok, beta 1.54 crater started <a href="https://github.com/rust-lang/rust/issues/86597">https://github.com/rust-lang/rust/issues/86597</a></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>