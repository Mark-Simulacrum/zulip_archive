<html>
<head><meta charset="utf-8"><title>Confusing array_into_iter lint in 1.53 · t-release · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/index.html">t-release</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/Confusing.20array_into_iter.20lint.20in.201.2E53.html">Confusing array_into_iter lint in 1.53</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="242207177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/Confusing%20array_into_iter%20lint%20in%201.53/near/242207177" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/Confusing.20array_into_iter.20lint.20in.201.2E53.html#242207177">(Jun 10 2021 at 13:39)</a>:</h4>
<p>Hey hey,</p>
<p>The release of 1.53 is close, which includes the <code>IntoIterator for [T; N]</code> trait implementation. However, it also includes the original <code>array_into_iter</code> lint which isn't updated yet. It produces some messages that are confusing/wrong:</p>
<ul>
<li><code>[..] but that might change in the future when `IntoIterator` impls for arrays are added.</code> (that implementation is already added. and that does not change anything in the current edition)</li>
<li><code>it will become a hard error in a future release!</code> (not true)</li>
</ul>
<p>Since this trait implementation is one of the bigger features shipping in this release and will get some attention, I'm wondering it's worth backporting updates to this lint (<a href="https://github.com/rust-lang/rust/issues/85682">#85682</a>).</p>



<a name="242209161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/Confusing%20array_into_iter%20lint%20in%201.53/near/242209161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/Confusing.20array_into_iter.20lint.20in.201.2E53.html#242209161">(Jun 10 2021 at 13:51)</a>:</h4>
<p>I'm not inclined to backport something that hasn't been merged yet</p>



<a name="242210332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/Confusing%20array_into_iter%20lint%20in%201.53/near/242210332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/Confusing.20array_into_iter.20lint.20in.201.2E53.html#242210332">(Jun 10 2021 at 13:58)</a>:</h4>
<p>yeah. hm. the main reason it isn't merged yet is because some unrelated test was depending on this lint to trigger a future-incompatibility lint which it no longer does, and it's not clear what to do with that test. but that's not really relevant outside of the main branch.</p>
<p>anyway, if this gets merged today, do you think it's worth backporting this or not?</p>



<a name="242210882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/Confusing%20array_into_iter%20lint%20in%201.53/near/242210882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/Confusing.20array_into_iter.20lint.20in.201.2E53.html#242210882">(Jun 10 2021 at 14:01)</a>:</h4>
<p>I'm not opposed</p>



<a name="242605085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/Confusing%20array_into_iter%20lint%20in%201.53/near/242605085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/Confusing.20array_into_iter.20lint.20in.201.2E53.html#242605085">(Jun 14 2021 at 14:28)</a>:</h4>
<p>i <a href="https://github.com/rust-lang/rust/pull/85682#issuecomment-860728379">declined</a>. Its not the end of the world for 1.53 to ship with that inconsistency.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>