<html>
<head><meta charset="utf-8"><title>auto-posting relnotes on github releases · t-release · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/index.html">t-release</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html">auto-posting relnotes on github releases</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="209116558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209116558" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209116558">(Sep 04 2020 at 16:53)</a>:</h4>
<p>ok, extracting the release notes we want is not that hard</p>



<a name="209116559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209116559" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209116559">(Sep 04 2020 at 16:53)</a>:</h4>
<p><a href="https://gist.github.com/pietroalbini/b1376694f5cfbdf7dca7ee410fc4873a">https://gist.github.com/pietroalbini/b1376694f5cfbdf7dca7ee410fc4873a</a></p>



<a name="209116701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209116701" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209116701">(Sep 04 2020 at 16:54)</a>:</h4>
<p>that script creates a hashmap between the version number and the markdown of that section of the relnotes</p>



<a name="209116741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209116741" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209116741">(Sep 04 2020 at 16:55)</a>:</h4>
<p>and it's pretty resilient as it works on the markdown AST</p>



<a name="209116900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209116900" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209116900">(Sep 04 2020 at 16:56)</a>:</h4>
<p>the two things needed now are:</p>
<ul>
<li>add some code that queries the github api to look for all the tags/releases, and update/create the ones where the description is different</li>
<li>run that tool on GitHub Actions when the <code>RELEASES.md</code> file is pushed to master or a new tag is pushed</li>
</ul>



<a name="209116944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209116944" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209116944">(Sep 04 2020 at 16:56)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> what's the http client preferred in the rustc monorepo?</p>



<a name="209116961"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209116961" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209116961">(Sep 04 2020 at 16:56)</a>:</h4>
<p>(thinking about adding it as <code>./x.py run src/tools/update-github-releases</code>)</p>



<a name="209117038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209117038" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209117038">(Sep 04 2020 at 16:57)</a>:</h4>
<p>hm not sure</p>



<a name="209117082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209117082" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209117082">(Sep 04 2020 at 16:57)</a>:</h4>
<p>we probably don't want a full tokio+reqwest stack</p>



<a name="209117159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209117159" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209117159">(Sep 04 2020 at 16:58)</a>:</h4>
<p>I'd maybe do it in python3 with whatever we use for the toolstate and release artifact downlaods</p>



<a name="209117370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209117370" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209117370">(Sep 04 2020 at 16:59)</a>:</h4>
<p>gah I already wrote the release notes extractor in rust <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="209117509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209117509" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209117509">(Sep 04 2020 at 17:00)</a>:</h4>
<p>oh the monorepo already depends on curl</p>



<a name="209117532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209117532" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209117532">(Sep 04 2020 at 17:00)</a>:</h4>
<p>I guess I could use that, even though I remember it to be a bit painful</p>



<a name="209117559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209117559" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209117559">(Sep 04 2020 at 17:01)</a>:</h4>
<p>(cargo depends on it)</p>



<a name="209117591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209117591" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209117591">(Sep 04 2020 at 17:01)</a>:</h4>
<p>yeah :/</p>



<a name="209117712"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209117712" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209117712">(Sep 04 2020 at 17:02)</a>:</h4>
<p>I wish we had a "tiny synchronous http 1.0 requests library"</p>



<a name="209117736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209117736" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209117736">(Sep 04 2020 at 17:02)</a>:</h4>
<p>It probably exists but I don't know how to find one I can more or less trust</p>



<a name="209120079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209120079" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209120079">(Sep 04 2020 at 17:25)</a>:</h4>
<p>ok curl is indeed painful</p>



<a name="209120109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209120109" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209120109">(Sep 04 2020 at 17:25)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> so one thing -- we could put this outside of rust-lang/rust into, like, triagebot</p>



<a name="209120133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209120133" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209120133">(Sep 04 2020 at 17:25)</a>:</h4>
<p>and just have it fire on either a zulip ping or merged prs or whatever</p>



<a name="209120136"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209120136" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209120136">(Sep 04 2020 at 17:25)</a>:</h4>
<p>is triagebot becoming the place where we stick everything? :P</p>



<a name="209120196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209120196" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209120196">(Sep 04 2020 at 17:26)</a>:</h4>
<p>yes of course</p>



<a name="209120335"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209120335" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209120335">(Sep 04 2020 at 17:27)</a>:</h4>
<p>we should just rename it to "rustbot" :P</p>



<a name="209120356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209120356" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209120356">(Sep 04 2020 at 17:28)</a>:</h4>
<p>it's the name in some places already</p>



<a name="209120435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209120435" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209120435">(Sep 04 2020 at 17:28)</a>:</h4>
<p>mostly because <a href="https://github.com/triagebot">https://github.com/triagebot</a> was taken...</p>



<a name="209121104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209121104" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209121104">(Sep 04 2020 at 17:35)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> alternatively there is <a href="https://docs.rs/isahc/0.9.8/isahc/">https://docs.rs/isahc/0.9.8/isahc/</a> which provides a nice wrapper on top of curl</p>



<a name="209121140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209121140" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209121140">(Sep 04 2020 at 17:35)</a>:</h4>
<p>looks like a pretty weighty dep :/</p>



<a name="209121196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209121196" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209121196">(Sep 04 2020 at 17:36)</a>:</h4>
<p>I guess it's not horrible</p>



<a name="209121208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209121208" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209121208">(Sep 04 2020 at 17:36)</a>:</h4>
<p>I mean maybe just shell out to curl</p>



<a name="209121240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209121240" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209121240">(Sep 04 2020 at 17:36)</a>:</h4>
<p>there are also smaller clients like <a href="https://docs.rs/ureq/1.4.0/ureq/">https://docs.rs/ureq/1.4.0/ureq/</a></p>



<a name="209121264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209121264" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209121264">(Sep 04 2020 at 17:37)</a>:</h4>
<p>(from that "how secure are rust http clients" post</p>



<a name="209121336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209121336" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209121336">(Sep 04 2020 at 17:37)</a>:</h4>
<p>I feel like having the tool in the monorepo is just easier</p>



<a name="209122509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209122509" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209122509">(Sep 04 2020 at 17:50)</a>:</h4>
<p><span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span> I guess I won't stop you but I'd rather not add all those deps as allowed in the compiler deps list in tidy</p>



<a name="209122523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209122523" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209122523">(Sep 04 2020 at 17:50)</a>:</h4>
<p>if it's a separate list then I'm not too worried</p>



<a name="209122555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209122555" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209122555">(Sep 04 2020 at 17:50)</a>:</h4>
<p>I'd personally find a <span class="user-mention" data-user-id="261224">@triagebot</span> release-github command easier than running the command in the repo</p>



<a name="209122557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209122557" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209122557">(Sep 04 2020 at 17:50)</a>:</h4>
<p>Unknown command.</p>



<a name="209123820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209123820" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209123820">(Sep 04 2020 at 18:03)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> well the advantage of being in the repo is that it could be completly automated</p>



<a name="209126688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209126688" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209126688">(Sep 04 2020 at 18:31)</a>:</h4>
<p>I don't think triagebot is any less automatable :)</p>



<a name="209295428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209295428" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209295428">(Sep 07 2020 at 13:27)</a>:</h4>
<p>btw I'm working on adding this to triagebot</p>



<a name="209312796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209312796" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209312796">(Sep 07 2020 at 16:41)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> need to finish working on it, but <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> <a href="https://github.com/pietroalbini/rust/releases">https://github.com/pietroalbini/rust/releases</a></p>



<a name="209312810"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209312810" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209312810">(Sep 07 2020 at 16:41)</a>:</h4>
<p>Does that auto-update?</p>



<a name="209312818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209312818" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209312818">(Sep 07 2020 at 16:41)</a>:</h4>
<p>once I add an API call yes</p>



<a name="209312868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209312868" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209312868">(Sep 07 2020 at 16:42)</a>:</h4>
<p>every time a tag is created or a commit is pushed to master it goes through all the existing releases and sync them</p>



<a name="209312941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209312941" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209312941">(Sep 07 2020 at 16:43)</a>:</h4>
<p>great</p>



<a name="209312960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209312960" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209312960">(Sep 07 2020 at 16:43)</a>:</h4>
<p>hm though I guess that'll eventually start running up against rate limits</p>



<a name="209312968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209312968" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209312968">(Sep 07 2020 at 16:43)</a>:</h4>
<p>but probably not for a while, we don't have that many releases</p>



<a name="209313039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209313039" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209313039">(Sep 07 2020 at 16:44)</a>:</h4>
<p>it shouldn't -- what I do is:</p>
<ul>
<li>fetch the RELEASES.md</li>
<li>fetch <em>all</em> git tag published (1 request every 100 tags)</li>
<li>fetch <em>all</em> releases published (1 request every 100 releases)</li>
<li>diff locally</li>
<li>call the API to apply the needed changes</li>
</ul>



<a name="209313055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209313055" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209313055">(Sep 07 2020 at 16:44)</a>:</h4>
<p>so we might run into rate limits only if someone reformats the whole <code>RELEASES.md</code> file</p>



<a name="209313198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209313198" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209313198">(Sep 07 2020 at 16:46)</a>:</h4>
<p>eh, even then we don't have that many releases and won't for a while</p>



<a name="209313206"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209313206" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209313206">(Sep 07 2020 at 16:46)</a>:</h4>
<p>sounds good</p>



<a name="209315978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209315978" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209315978">(Sep 07 2020 at 17:27)</a>:</h4>
<p><a href="https://github.com/rust-lang/triagebot/pull/811">https://github.com/rust-lang/triagebot/pull/811</a> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="209626181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209626181" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209626181">(Sep 10 2020 at 11:41)</a>:</h4>
<p>fyi <a href="https://www.reddit.com/r/rust/comments/ipzctt/rustbot_are_you_okay/">https://www.reddit.com/r/rust/comments/ipzctt/rustbot_are_you_okay/</a></p>



<a name="209626183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209626183" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209626183">(Sep 10 2020 at 11:41)</a>:</h4>
<p>I'm replying</p>



<a name="209628677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209628677" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209628677">(Sep 10 2020 at 12:09)</a>:</h4>
<p><a href="/user_uploads/4715/zyLu5pM-zpSlAjBSBbHKXyO7/Screenshot_20200910-080655_Ecosia.jpg">Screenshot_20200910-080655_Ecosia.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/zyLu5pM-zpSlAjBSBbHKXyO7/Screenshot_20200910-080655_Ecosia.jpg" title="Screenshot_20200910-080655_Ecosia.jpg"><img src="/user_uploads/4715/zyLu5pM-zpSlAjBSBbHKXyO7/Screenshot_20200910-080655_Ecosia.jpg"></a></div>



<a name="209628680"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209628680" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209628680">(Sep 10 2020 at 12:09)</a>:</h4>
<p>Welp, there go my GitHub notifications <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="209656603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209656603" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209656603">(Sep 10 2020 at 14:46)</a>:</h4>
<p>next, it would be nice if the "assets" pointed to the real dist-src tarballs, rather than GitHub's repo snapshot (missing submodules, vendoring)</p>



<a name="209656655"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209656655" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209656655">(Sep 10 2020 at 14:47)</a>:</h4>
<p>I don't think you can do that, unless we upload our own artifacts in <em>addition</em> to them</p>



<a name="209656918"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209656918" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209656918">(Sep 10 2020 at 14:48)</a>:</h4>
<p>We should probaby adjust triagebot to insert a trailing link to the <a href="http://dist.rust-lang.org">dist.rust-lang.org</a> directory with the tarballs, though</p>



<a name="209656920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209656920" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209656920">(Sep 10 2020 at 14:48)</a>:</h4>
<p>hmm</p>



<a name="209656995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209656995" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209656995">(Sep 10 2020 at 14:49)</a>:</h4>
<p>(Although I guess we'd then need to parse the manifest for that release? Not sure).</p>



<a name="209663208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209663208" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209663208">(Sep 10 2020 at 15:24)</a>:</h4>
<p>FWIW having it in addition seems good to me as long as it’s labelled clearly.</p>



<a name="209666618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209666618" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209666618">(Sep 10 2020 at 15:47)</a>:</h4>
<p><span class="user-mention" data-user-id="219696">@XAMPPRocky</span> you mean the trailing link or ?</p>



<a name="209666868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209666868" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209666868">(Sep 10 2020 at 15:48)</a>:</h4>
<p>Including it with the assets. A link is also fine though I think the assets would be more intuitive for users.</p>



<a name="209667465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209667465" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209667465">(Sep 10 2020 at 15:52)</a>:</h4>
<p>I don't think we should re-upload the multiple gigabytes of assets, if only because github's ui just renders that very poorly</p>



<a name="209667539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209667539" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209667539">(Sep 10 2020 at 15:53)</a>:</h4>
<p>but also it's a pain for us to do -- and encourages people to think those are the right way instead of installation through rustup, which is what we should push people to</p>



<a name="209675604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209675604" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209675604">(Sep 10 2020 at 16:49)</a>:</h4>
<p>I'm more interested in just the dist-src, because the automatic "assets" aren't what you really want</p>



<a name="209675687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209675687" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209675687">(Sep 10 2020 at 16:50)</a>:</h4>
<p>doesn't have to be uploaded though, could be a link to static.rlo</p>



<a name="209676277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/auto-posting%20relnotes%20on%20github%20releases/near/209676277" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/auto-posting.20relnotes.20on.20github.20releases.html#209676277">(Sep 10 2020 at 16:54)</a>:</h4>
<p>I would be fine with reuploading just that one</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>