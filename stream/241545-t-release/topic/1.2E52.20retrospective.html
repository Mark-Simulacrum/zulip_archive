<html>
<head><meta charset="utf-8"><title>1.52 retrospective · t-release · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/index.html">t-release</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html">1.52 retrospective</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="237470355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237470355" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237470355">(May 05 2021 at 10:07)</a>:</h4>
<p>kicking off the thread to brainstorm a couple of things</p>



<a name="237470379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237470379" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237470379">(May 05 2021 at 10:07)</a>:</h4>
<ul>
<li>we should add a builder that runs the test suite on linux with <code>--release-channel=stable</code>, to catch early tests that depend on nightly being the channel (like the rustdoc ones)</li>
</ul>



<a name="237470532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237470532" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237470532">(May 05 2021 at 10:08)</a>:</h4>
<ul>
<li>we really need to stop reverting things on beta while keeping them on nightly, if something is broken on beta we should revert it on nightly and <em>then</em> reland it along with the fix</li>
</ul>



<a name="237470540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237470540" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237470540">(May 05 2021 at 10:09)</a>:</h4>
<ul>
<li>we should have milestones added to all <code>regression-</code> issues</li>
</ul>



<a name="237474907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237474907" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237474907">(May 05 2021 at 10:51)</a>:</h4>
<ul>
<li>Kickoff a doc we can record any release todos into quickly (or a locked issue, just something). Reverting across 3 branches can take some work and time and needs tracking, for example.</li>
</ul>



<a name="237485304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237485304" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237485304">(May 05 2021 at 12:20)</a>:</h4>
<ul>
<li>Install tidy on the release machines so you get a diff when rustdoc tests fail. That would have narrowed down that the failure was from a channel-specific change.</li>
</ul>



<a name="237716516"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237716516" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237716516">(May 06 2021 at 19:35)</a>:</h4>
<ul>
<li><a href="https://github.com/rust-lang/rust/pull/82216">https://github.com/rust-lang/rust/pull/82216</a> shipped 'by accident'</li>
</ul>



<a name="237721225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237721225" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237721225">(May 06 2021 at 20:12)</a>:</h4>
<p>"oops" -- but it was only tier 3, right?</p>



<a name="237721338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237721338" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237721338">(May 06 2021 at 20:13)</a>:</h4>
<p>hmm, no it was tier 2 in 1.51, only demoted now</p>



<a name="237721462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237721462" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237721462">(May 06 2021 at 20:14)</a>:</h4>
<p>still, tier 3 _means_ "Official builds are not available."</p>



<a name="237721644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237721644" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237721644">(May 06 2021 at 20:16)</a>:</h4>
<p>we didn't notify anyone, which is usually part of our promotion/demotion strategy for tiers</p>



<a name="237758821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237758821" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237758821">(May 07 2021 at 02:23)</a>:</h4>
<ul>
<li>Shipped the incremental verification breakage without realizing - planned stable point release</li>
</ul>



<a name="237758879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237758879" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237758879">(May 07 2021 at 02:24)</a>:</h4>
<ul>
<li><a href="https://github.com/rust-lang/rust/issues/85015">https://github.com/rust-lang/rust/issues/85015</a> - unexpected/undetected regression, I think</li>
</ul>



<a name="237909537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237909537" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237909537">(May 08 2021 at 00:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/241545-t-release/topic/1.2E52.20retrospective/near/237485304">said</a>:</p>
<blockquote>
<ul>
<li>Install tidy on the release machines so you get a diff when rustdoc tests fail. That would have narrowed down that the failure was from a channel-specific change.</li>
</ul>
</blockquote>
<p>can you say more about this? tidy is a tool we build in-tree, what would it mean to install it?</p>



<a name="237909554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237909554" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237909554">(May 08 2021 at 00:32)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> ^</p>



<a name="237909561"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237909561" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237909561">(May 08 2021 at 00:32)</a>:</h4>
<p>afaik it's a html diff utility, commonly available in apt etc</p>



<a name="237909570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237909570" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237909570">(May 08 2021 at 00:32)</a>:</h4>
<p>oh, a different tidy</p>



<a name="237909571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237909571" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237909571">(May 08 2021 at 00:33)</a>:</h4>
<p>(with a ... not too helpful name)</p>



<a name="237909602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237909602" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237909602">(May 08 2021 at 00:33)</a>:</h4>
<p>that makes <em>way</em> more sense :)</p>



<a name="237910171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237910171" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237910171">(May 08 2021 at 00:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/241545-t-release/topic/1.2E52.20retrospective/near/237721644">said</a>:</p>
<blockquote>
<p>we didn't notify anyone, which is usually part of our promotion/demotion strategy for tiers</p>
</blockquote>
<p>we don't have a list of contacts for various targets yet, do we?</p>



<a name="237910450"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237910450" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237910450">(May 08 2021 at 00:45)</a>:</h4>
<p>we don't, but in this case I mean a <a href="http://users.rust-lang.org">users.rust-lang.org</a> post or something on the rust blog, generally I think we should give some notice prior to merging such a change</p>



<a name="237910460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237910460" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237910460">(May 08 2021 at 00:45)</a>:</h4>
<p>especially when it's just coincidental</p>



<a name="237910570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237910570" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237910570">(May 08 2021 at 00:47)</a>:</h4>
<p>okay so it's more of a policy thing. not sure if we need an issue for it. unless we want to document the policy on forge</p>



<a name="237910603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237910603" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237910603">(May 08 2021 at 00:47)</a>:</h4>
<p>yeah I don't think an issue is necessary</p>



<a name="237910837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237910837" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237910837">(May 08 2021 at 00:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/241545-t-release/topic/1.2E52.20retrospective/near/237470379">said</a>:</p>
<blockquote>
<ul>
<li>we should add a builder that runs the test suite on linux with <code>--release-channel=stable</code>, to catch early tests that depend on nightly being the channel (like the rustdoc ones)</li>
</ul>
</blockquote>
<p>filed <a href="https://github.com/rust-lang/release-team/issues/11">release-team#11</a></p>
<p><span class="user-mention silent" data-user-id="121055">Pietro Albini</span> <a href="#narrow/stream/241545-t-release/topic/1.2E52.20retrospective/near/237470532">said</a>:</p>
<blockquote>
<ul>
<li>we really need to stop reverting things on beta while keeping them on nightly, if something is broken on beta we should revert it on nightly and <em>then</em> reland it along with the fix</li>
<li>we should have milestones added to all regression- issues</li>
</ul>
</blockquote>
<p>both covered by <a href="https://github.com/rust-lang/release-team/issues/10">release-team#10</a>, I think</p>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/241545-t-release/topic/1.2E52.20retrospective/near/237474907">said</a>:</p>
<blockquote>
<ul>
<li>Kickoff a doc we can record any release todos into quickly (or a locked issue, just something). Reverting across 3 branches can take some work and time and needs tracking, for example.</li>
</ul>
</blockquote>
<p>filed <a href="https://github.com/rust-lang/release-team/issues/12">release-team#12</a></p>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/241545-t-release/topic/1.2E52.20retrospective/near/237485304">said</a>:</p>
<blockquote>
<ul>
<li>Install tidy on the release machines so you get a diff when rustdoc tests fail. That would have narrowed down that the failure was from a channel-specific change.</li>
</ul>
</blockquote>
<p>filed <a href="https://github.com/rust-lang/rust/issues/85061">#85061</a></p>



<a name="237910848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237910848" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237910848">(May 08 2021 at 00:50)</a>:</h4>
<p>I think that's everything that needs an issue</p>



<a name="237911341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.52%20retrospective/near/237911341" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/241545-t-release/topic/1.2E52.20retrospective.html#237911341">(May 08 2021 at 00:58)</a>:</h4>
<p>Thanks!</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>