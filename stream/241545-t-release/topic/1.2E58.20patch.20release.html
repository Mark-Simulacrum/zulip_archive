<html>
<head><meta charset="utf-8"><title>1.58 patch release · t-release · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/index.html">t-release</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E58.20patch.20release.html">1.58 patch release</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="268044770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.58%20patch%20release/near/268044770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Cartwright <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E58.20patch.20release.html#268044770">(Jan 14 2022 at 17:23)</a>:</h4>
<p>On the off chance there's a need for a 1.58.1 patch release would it be possible for someone to ping me?</p>
<p>We had a minor edge case issue popup with rustfmt in 1.58 that we'd like to address if there's a patch release that goes out. It's a very low blast radius with viable workarounds, so i don't feel like there's a justification for a patch release _just_ for this, but we'd certainly take advantage of a planned patch if there's other needs for one (i need to make sure our fix gets into 1.59 too)</p>
<p>for ref: <a href="https://github.com/rust-lang/rustfmt/issues/5080#issuecomment-1013303455">https://github.com/rust-lang/rustfmt/issues/5080#issuecomment-1013303455</a></p>



<a name="268044938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.58%20patch%20release/near/268044938" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E58.20patch.20release.html#268044938">(Jan 14 2022 at 17:24)</a>:</h4>
<p>we are talking about a patch release for a clippy lint too</p>



<a name="268045052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.58%20patch%20release/near/268045052" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Cartwright <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E58.20patch.20release.html#268045052">(Jan 14 2022 at 17:25)</a>:</h4>
<p>if i get a PR up later today can we hop on that train too then? <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="268045404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.58%20patch%20release/near/268045404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E58.20patch.20release.html#268045404">(Jan 14 2022 at 17:27)</a>:</h4>
<p>I see no reason we can't bundle this patch in</p>
<p>cc <span class="user-mention" data-user-id="121055">@Pietro Albini</span></p>



<a name="268045500"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.58%20patch%20release/near/268045500" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E58.20patch.20release.html#268045500">(Jan 14 2022 at 17:28)</a>:</h4>
<p>yeah</p>



<a name="268046013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.58%20patch%20release/near/268046013" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E58.20patch.20release.html#268046013">(Jan 14 2022 at 17:32)</a>:</h4>
<p>The rustfmt change causes rust-analyzer to discard the contents of files with <code>@generated</code>. <a href="https://github.com/rust-lang/rustfmt/issues/5172">rust-lang/rustfmt#5172</a></p>



<a name="268048819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.58%20patch%20release/near/268048819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Cartwright <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E58.20patch.20release.html#268048819">(Jan 14 2022 at 17:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="133247">bjorn3</span> <a href="#narrow/stream/241545-t-release/topic/1.2E58.20patch.20release/near/268046013">said</a>:</p>
<blockquote>
<p>The rustfmt change causes rust-analyzer to discard the contents of files with <code>@generated</code>. <a href="https://github.com/rust-lang/rustfmt/issues/5172">rust-lang/rustfmt#5172</a></p>
</blockquote>
<p>scenario being, user runs something that generates code files with the <code>generated</code> marker, then user opens, modifies, and saves generated file with auto-format on save enabled, resulting in the generated file getting wiped?</p>
<p>the stdin piece is indeed an issue, though hopefully that's not a scenario that happens very frequently</p>



<a name="268122521"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.58%20patch%20release/near/268122521" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Macleod <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E58.20patch.20release.html#268122521">(Jan 15 2022 at 12:04)</a>:</h4>
<p>Would it be possible to backport the fix for the "failed to lookup <code>SourceFile</code> in new context" ICEs?</p>
<p>It's being hit on 1.58 <a href="https://github.com/rust-lang/rust-clippy/issues/8283">https://github.com/rust-lang/rust-clippy/issues/8283</a></p>
<p>Fixes are I think <a href="https://github.com/rust-lang/rust/issues/92175">#92175</a> and perhaps <a href="https://github.com/rust-lang/rust/issues/92533">#92533</a>, cc <span class="user-mention" data-user-id="125294">@Aaron Hill</span> who would know more</p>



<a name="268122807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.58%20patch%20release/near/268122807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E58.20patch.20release.html#268122807">(Jan 15 2022 at 12:12)</a>:</h4>
<p>can you all please open <code>stable-nominated</code> issues/PRs in rust-lang/rust?</p>



<a name="268122809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.58%20patch%20release/near/268122809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E58.20patch.20release.html#268122809">(Jan 15 2022 at 12:12)</a>:</h4>
<p>that way I don't miss anything that needs backporting</p>



<a name="268139428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.58%20patch%20release/near/268139428" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Macleod <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E58.20patch.20release.html#268139428">(Jan 15 2022 at 18:23)</a>:</h4>
<p>Opened <a href="https://github.com/rust-lang/rust/issues/92938">#92938</a> for Clippy's</p>



<a name="268153778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.58%20patch%20release/near/268153778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caleb Cartwright <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E58.20patch.20release.html#268153778">(Jan 15 2022 at 23:46)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/92912">https://github.com/rust-lang/rust/pull/92912</a> for rustfmt</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>