<html>
<head><meta charset="utf-8"><title>1.56 beta · t-release · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/index.html">t-release</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html">1.56 beta</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="253321363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253321363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253321363">(Sep 14 2021 at 20:47)</a>:</h4>
<p><code>src/stage0.txt</code> in the beta branch still has <code>rustfmt</code> -- shouldn't that be unset?</p>



<a name="253321489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253321489" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253321489">(Sep 14 2021 at 20:48)</a>:</h4>
<p>(I just tried a beta test build in Fedora, and it failed trying to download rustfmt because network isn't allowed)</p>



<a name="253321799"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253321799" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253321799">(Sep 14 2021 at 20:50)</a>:</h4>
<p>hm, yes</p>



<a name="253321824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253321824" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253321824">(Sep 14 2021 at 20:50)</a>:</h4>
<p>I think in the mixup with download-stage0 I may have forgotten to drop it</p>



<a name="253321890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253321890" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253321890">(Sep 14 2021 at 20:51)</a>:</h4>
<p>feel free to file a beta backport rollup or just an issue milestoned appropriately so we don't forget</p>



<a name="253328184"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253328184" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253328184">(Sep 14 2021 at 21:38)</a>:</h4>
<p>see <a href="https://github.com/rust-lang/rust/issues/88946">#88946</a></p>



<a name="253330153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253330153" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253330153">(Sep 14 2021 at 21:56)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> I don't see anything that has used <code>backport-of</code> in a meaningful way, only a few none/nothing, and it looks like that check is ignored</p>



<a name="253330163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253330163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253330163">(Sep 14 2021 at 21:56)</a>:</h4>
<p>Hm</p>



<a name="253330169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253330169" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253330169">(Sep 14 2021 at 21:56)</a>:</h4>
<p>well, I guess it's buggy then</p>



<a name="253330183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253330183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253330183">(Sep 14 2021 at 21:56)</a>:</h4>
<p>it's only needed if the commit doesn't backport cleanly (or doesn't exist on master at all), in theory</p>



<a name="253330196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253330196" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253330196">(Sep 14 2021 at 21:57)</a>:</h4>
<p>but it's possible it's just not working</p>



<a name="253330219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253330219" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253330219">(Sep 14 2021 at 21:57)</a>:</h4>
<p>r=me on that PR anyway, and if you could file an issue to follow up on backport-of that would be good (it's not urgent)</p>



<a name="253330734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253330734" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253330734">(Sep 14 2021 at 22:01)</a>:</h4>
<p>oh, I see, there's no reference needed for a clean cherry</p>



<a name="253330740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253330740" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253330740">(Sep 14 2021 at 22:01)</a>:</h4>
<p>but personally I'd rather have a reference all the time, as <code>git cherry-pick -x</code> does.</p>



<a name="253330918"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253330918" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253330918">(Sep 14 2021 at 22:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/241545-t-release/topic/1.2E56.20beta/near/253321824">said</a>:</p>
<blockquote>
<p>I think in the mixup with download-stage0 I may have forgotten to drop it</p>
</blockquote>
<p>I missed this - was there a bug? or did it just get set to <code>true</code> by accident somewhere?</p>



<a name="253332688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253332688" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253332688">(Sep 14 2021 at 22:19)</a>:</h4>
<p>Hm? No, no bug with rustfmt, just I didn't pay attention and there's no check in place right now</p>



<a name="253332754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253332754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253332754">(Sep 14 2021 at 22:19)</a>:</h4>
<p><span class="user-mention" data-user-id="138448">@cuviper</span> my reading of the docs for git cherry-pick -x is that it doesn't leave a note when there's a conflict during chery pick</p>



<a name="253332782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253332782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253332782">(Sep 14 2021 at 22:19)</a>:</h4>
<p>(in other words, sort of inverse of what we want)</p>



<a name="253332854"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253332854" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253332854">(Sep 14 2021 at 22:20)</a>:</h4>
<p>hmm, this is news to me!</p>



<a name="253333559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253333559" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253333559">(Sep 14 2021 at 22:27)</a>:</h4>
<blockquote>
<p>When recording the commit, append a line that says "(cherry picked from commit ...)" to the original commit message in order to<br>
           indicate which commit this change was cherry-picked from. This is done only for cherry picks without conflicts. Do not use this option<br>
           if you are cherry-picking from your private branch because the information is useless to the recipient. If on the other hand you are<br>
           cherry-picking between two publicly visible branches (e.g. backporting a fix to a maintenance branch for an older release from a<br>
           development branch), adding this information can be useful.</p>
</blockquote>
<p>Maybe the docs are wrong though, wouldn't be the first time. I was surprised + sad to see this, seems like the opposite of useful behavior.</p>



<a name="253664858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253664858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253664858">(Sep 16 2021 at 23:09)</a>:</h4>
<p>FWIW, I just tried the <code>-x</code> on a hello-world repo. Cherry-picking a conflict paused the process just like a merge or rebase conflict would. I fixed that, then <code>git cherry-pick --continue</code> gave me a chance to edit the commit message, but it did include the <code>-x</code> content already.</p>



<a name="253664968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253664968" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253664968">(Sep 16 2021 at 23:10)</a>:</h4>
<p>anyway, I added more backports to <a href="https://github.com/rust-lang/rust/issues/88946">#88946</a> for review</p>



<a name="253665755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253665755" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253665755">(Sep 16 2021 at 23:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="138448">cuviper</span> <a href="#narrow/stream/241545-t-release/topic/1.2E56.20beta/near/253664858">said</a>:</p>
<blockquote>
<p>FWIW, I just tried the <code>-x</code> on a hello-world repo. Cherry-picking a conflict paused the process just like a merge or rebase conflict would. I fixed that, then <code>git cherry-pick --continue</code> gave me a chance to edit the commit message, but it did include the <code>-x</code> content already.</p>
</blockquote>
<p>Interesting! Sounds like we should delete our cherry pick script and edit the check script to both (a) fix it and (b) use the -x generated syntax</p>



<a name="253665834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253665834" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253665834">(Sep 16 2021 at 23:20)</a>:</h4>
<p>I'd suggest editing the git docs, but that seems hard :)</p>



<a name="253665855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253665855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253665855">(Sep 16 2021 at 23:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="138448">cuviper</span> <a href="#narrow/stream/241545-t-release/topic/1.2E56.20beta/near/253664968">said</a>:</p>
<blockquote>
<p>anyway, I added more backports to <a href="https://github.com/rust-lang/rust/issues/88946">#88946</a> for review</p>
</blockquote>
<p>FWIW you should feel free to self-approve backport PRs, particularly if things are backporting cleanly</p>



<a name="253666339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253666339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253666339">(Sep 16 2021 at 23:26)</a>:</h4>
<p>ok, thanks</p>



<a name="253666389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/241545-t-release/topic/1.56%20beta/near/253666389" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/241545-t-release/topic/1.2E56.20beta.html#253666389">(Sep 16 2021 at 23:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/241545-t-release/topic/1.2E56.20beta/near/253665834">said</a>:</p>
<blockquote>
<p>I'd suggest editing the git docs, but that seems hard :)</p>
</blockquote>
<p>can't be as hard as editing Microsoft docs, but I'm not <span class="user-mention" data-user-id="310399">@Mara</span> either</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>