<html>
<head><meta charset="utf-8"><title>[weekly meeting] 2020-07-16 #54818 · t-compiler/meetings · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/index.html">t-compiler/meetings</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html">[weekly meeting] 2020-07-16 #54818</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="203975307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/203975307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#203975307">(Jul 15 2020 at 16:02)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span>; the triage meeting will happen tomorrow at 2pm UTC</p>



<a name="203975356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/203975356" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#203975356">(Jul 15 2020 at 16:02)</a>:</h4>
<p>The <span class="user-group-mention" data-user-group-id="2403">@WG-prioritization</span> have done pre-triage in <a class="stream" data-stream-id="227806" href="/#narrow/stream/227806-t-compiler.2Fwg-prioritization">#t-compiler/wg-prioritization</a></p>



<a name="203975419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/203975419" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#203975419">(Jul 15 2020 at 16:02)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2403">@WG-prioritization</span> have prepared the <a href="https://hackmd.io/VvJtaPR3TtS0sKBqcCVgeg?view">meeting agenda</a></p>



<a name="203975514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/203975514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#203975514">(Jul 15 2020 at 16:03)</a>:</h4>
<p>We will have checkins from <span class="user-group-mention" data-user-group-id="1380">@WG-rustc-dev-guide</span> and <span class="user-group-mention" data-user-group-id="1176">@WG-llvm</span></p>



<a name="203975653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/203975653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#203975653">(Jul 15 2020 at 16:04)</a>:</h4>
<p><span class="user-mention" data-user-id="198054">@mark-i-m</span> do you want to share about <span class="user-group-mention" data-user-group-id="1380">@WG-rustc-dev-guide</span>? otherwise I can, I think our check-ins document is more or less up to date :)</p>



<a name="203975713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/203975713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#203975713">(Jul 15 2020 at 16:05)</a>:</h4>
<p><span class="user-mention" data-user-id="123586">@nagisa</span> do you have something you want to share about <span class="user-group-mention" data-user-group-id="1176">@WG-llvm</span>?</p>



<a name="203976839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/203976839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#203976839">(Jul 15 2020 at 16:13)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> the agenda looks very light right now, we will be trying to populate it a bit more but please consider nominating issues that you find important or things that you want to raise awareness or move forward</p>



<a name="203982332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/203982332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#203982332">(Jul 15 2020 at 16:56)</a>:</h4>
<p>One small thing that might be worth discussing is <a class="stream-topic" data-stream-id="131828" href="/#narrow/stream/131828-t-compiler/topic/discord.20channel">#t-compiler &gt; discord channel</a></p>



<a name="203985180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/203985180" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#203985180">(Jul 15 2020 at 17:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116266">Santiago Pastorino</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818/near/203975713">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> do you have something you want to share about <span class="user-group-mention" data-user-group-id="1176">@WG-llvm</span>?</p>
</blockquote>
<p>I have a couple of talking points that are relevant to WG, though not necessarily a part of the WG work.</p>



<a name="203997444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/203997444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#203997444">(Jul 15 2020 at 18:55)</a>:</h4>
<p>We should probably discuss the LLVM 11 upgrade in <a href="https://github.com/rust-lang/rust/pull/73526">https://github.com/rust-lang/rust/pull/73526</a>.</p>



<a name="204073257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204073257" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204073257">(Jul 16 2020 at 11:57)</a>:</h4>
<p>I might not be able to participate in today’s meeting so here’re some updates:</p>
<ul>
<li>As mentioned above, there’s LLVM11 upgrade on the horizon. The usual caveats etc apply. Potential regressions, improvements in compiler code output etc.</li>
<li>In similar spirit been seeing an increased flow of issue reports about sub-optimal code generation, thuogh that's a very subjective evaluation;</li>
<li>There's an ongoing effort by a community member to enable building targeting apple silicon with "fat" libraries. There are some complication in enabling this:<br>
    * Upstream LLVM support for this is _dubious_ both now and possibly LLVM 11.<br>
    * What kind of tier are we hoping to have for this target at launch time? I’d say just let it go through the usual process, but I can see logic in idea of having T2/T1 support at launch time.</li>
</ul>



<a name="204079248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204079248" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204079248">(Jul 16 2020 at 13:01)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span>, triage meeting will be starting in ~ 1 hour</p>



<a name="204079308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204079308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204079308">(Jul 16 2020 at 13:01)</a>:</h4>
<p><a href="https://hackmd.io/VvJtaPR3TtS0sKBqcCVgeg?view">Check out the meeting agenda</a></p>



<a name="204087409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204087409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204087409">(Jul 16 2020 at 14:02)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span>! Add a <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> emoji to show you're here :)</p>



<a name="204087451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204087451" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204087451">(Jul 16 2020 at 14:02)</a>:</h4>
<p>we will start off with 5 minutes for ...</p>
<h2>Announcements</h2>



<a name="204087484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204087484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204087484">(Jul 16 2020 at 14:03)</a>:</h4>
<ul>
<li>Rust 1.45 is being released today! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span><span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span><span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></li>
</ul>



<a name="204087592"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204087592" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204087592">(Jul 16 2020 at 14:04)</a>:</h4>
<ul>
<li>New MCPs (take a look, see if you like them!)<ul>
<li>No new proposals this time.</li>
</ul>
</li>
<li>Old MCPs (not seconded, take a look)<ul>
<li>"Integration of the Cranelift backend with rustc" <a href="https://github.com/rust-lang/compiler-team/issues/270">compiler-team#270</a></li>
<li>"Decentralize queries" <a href="https://github.com/rust-lang/compiler-team/issues/277">compiler-team#277</a></li>
<li>"Move Rust provided objects, libraries and binaries meant for self-contained linkage to separate directory" <a href="https://github.com/rust-lang/compiler-team/issues/310">compiler-team#310</a></li>
<li>"Add future-incompat entries to json diagnostic output" <a href="https://github.com/rust-lang/compiler-team/issues/315">compiler-team#315</a></li>
<li>"MCP: Reorganize the rust-lang/rust repo directory structure" <a href="https://github.com/rust-lang/compiler-team/issues/316">compiler-team#316</a></li>
</ul>
</li>
</ul>



<a name="204087617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204087617" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204087617">(Jul 16 2020 at 14:04)</a>:</h4>
<ul>
<li><code>RichKadel</code> has been making progress on the LLVM code-coverage feature and we've got very basic support landing soon-ish. <a href="https://github.com/rust-lang/rust/pull/74091">https://github.com/rust-lang/rust/pull/74091</a></li>
</ul>



<a name="204087649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204087649" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204087649">(Jul 16 2020 at 14:04)</a>:</h4>
<p>(Rust 1.45 <em>is</em> released <a href="https://blog.rust-lang.org/2020/07/16/Rust-1.45.0.html">https://blog.rust-lang.org/2020/07/16/Rust-1.45.0.html</a>)</p>



<a name="204087699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204087699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204087699">(Jul 16 2020 at 14:05)</a>:</h4>
<p>By the way, I will say that I have a personal interest in the MCP for "Add future-incompat entries to json diagnostic output" <a href="https://github.com/rust-lang/compiler-team/issues/315">compiler-team#315</a></p>



<a name="204087768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204087768" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204087768">(Jul 16 2020 at 14:05)</a>:</h4>
<p>Maybe its an abuse of "power", but I'm going to go ahead and try to solicit seconds from you all right now. :)</p>



<a name="204087882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204087882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204087882">(Jul 16 2020 at 14:06)</a>:</h4>
<ul>
<li>Pending FCP requests (check your boxes!)<ul>
<li>No pending FCP requests this time.</li>
</ul>
</li>
<li>Things in FCP (make sure you're good with it)<ul>
<li>"Change <code>ty::Const</code> to an integer tree representation" <a href="https://github.com/rust-lang/compiler-team/issues/323">compiler-team#323</a></li>
<li>"Infer hidden types without replacing with an inference variable" <a href="https://github.com/rust-lang/compiler-team/issues/325">compiler-team#325</a></li>
<li>"Improve defaults in x.py" <a href="https://github.com/rust-lang/compiler-team/issues/326">compiler-team#326</a></li>
<li>"Rework rustc_serialize" <a href="https://github.com/rust-lang/compiler-team/issues/329">compiler-team#329</a></li>
<li>"Use <code>tracing</code> instead of <code>log</code>" <a href="https://github.com/rust-lang/compiler-team/issues/331">compiler-team#331</a></li>
<li>"Stabilize control-flow-guard codegen option" <a href="https://github.com/rust-lang/rust/pull/73893">rust#73893</a></li>
</ul>
</li>
<li>Accepted MCPs<ul>
<li>"--extern-location to specify where an --extern dependency is defined" <a href="https://github.com/rust-lang/compiler-team/issues/303">compiler-team#303</a></li>
</ul>
</li>
</ul>



<a name="204087967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204087967" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204087967">(Jul 16 2020 at 14:07)</a>:</h4>
<ul>
<li>Finalized FCPs<ul>
<li>"Stabilize const_type_id feature" <a href="https://github.com/rust-lang/rust/pull/72488">rust#72488</a></li>
</ul>
</li>
</ul>



<a name="204087988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204087988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204087988">(Jul 16 2020 at 14:07)</a>:</h4>
<ul>
<li>Should we close #compiler channel on Discord?<ul>
<li>This was briefly discussed on <a href="#narrow/stream/131828-t-compiler/topic/discord.20channel">Zulip</a></li>
</ul>
</li>
</ul>



<a name="204088138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088138">(Jul 16 2020 at 14:08)</a>:</h4>
<p><span class="user-mention" data-user-id="123586">@nagisa</span> made a direct petition against use of discord for OSS projects</p>



<a name="204088230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088230">(Jul 16 2020 at 14:09)</a>:</h4>
<p>(at this point it's largely just a sinkhole catching unsuspecting question-askers)</p>



<a name="204088274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088274">(Jul 16 2020 at 14:09)</a>:</h4>
<p>(who may not be aware that almost everything moved to Zulip)</p>



<a name="204088275"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088275" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088275">(Jul 16 2020 at 14:09)</a>:</h4>
<p>So, does anyone here object to closing the <code>#compiler</code> channel on Discord? The only reason I can imagine to keep it open at this point is the same reason that <span class="user-mention" data-user-id="119009">@eddyb</span> says they remain there: To try to catch questions from people who are unaware of Zulip</p>



<a name="204088341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088341" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088341">(Jul 16 2020 at 14:10)</a>:</h4>
<p>locking the channel with a message is far more useful for that</p>



<a name="204088361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088361" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088361">(Jul 16 2020 at 14:10)</a>:</h4>
<p>which is what we already did to a handful of other channels anyway</p>



<a name="204088383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088383">(Jul 16 2020 at 14:10)</a>:</h4>
<p>it's nothing new</p>



<a name="204088494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088494" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088494">(Jul 16 2020 at 14:11)</a>:</h4>
<p>Okay. I don't think this requires any further approval? I assume that <span class="user-mention" data-user-id="232545">@Joshua Nelson</span> was accurate when they said that they and <span class="user-mention" data-user-id="119009">@eddyb</span> were the main holdouts</p>



<a name="204088542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088542" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088542">(Jul 16 2020 at 14:11)</a>:</h4>
<p>I don't think it requires further approval.</p>



<a name="204088617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088617" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088617">(Jul 16 2020 at 14:12)</a>:</h4>
<p>I think the most recent one was <span class="user-mention" data-user-id="116122">@simulacrum</span> locking #wg-compiler-performance</p>



<a name="204088644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088644" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088644">(Jul 16 2020 at 14:12)</a>:</h4>
<p>I occasionally pop into #compiler on Discord but I'm strongly in favor of locking it and redirecting people here.</p>



<a name="204088646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088646" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088646">(Jul 16 2020 at 14:12)</a>:</h4>
<p>okay. Lets lock channel with a message. I'll look into making sure that happens after the meeting (or if someone with authority can do it before then, thats fine with me.)</p>



<a name="204088668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088668" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088668">(Jul 16 2020 at 14:12)</a>:</h4>
<h3>WG checkins</h3>



<a name="204088696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088696">(Jul 16 2020 at 14:12)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1380">@WG-rustc-dev-guide</span> checkin by <span class="user-mention" data-user-id="198054">@mark-i-m</span> and <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span>:</p>
<blockquote>
<p><a href="https://github.com/rust-lang/rustc-dev-guide/pulls?page=1&amp;q=closed%3A%3E%3D2020-05-28">68 merged PRs!</a> In fact, there was so much stuff, that we ran out of time to curate it... here is a prefix of the list of PRs (heavily biased towards earlier PRs); there are so many people that deserve credit:<br>
- Aaron Hill<br>
- Andy Russell<br>
- Bastian Kauschke<br>
- Drew Youngwerth<br>
- Eric Huss<br>
- Florian Gilcher<br>
- Ivan Veselov<br>
- Joshua Nelson<br>
- mark-i-m<br>
- Matt Kraai<br>
- Nadrieril<br>
- Niko Matsakis<br>
- pierwill<br>
- Ralf Jung<br>
- Santiago Pastorino<br>
- Takayuki Nakata<br>
- ThePuzzlemaker<br>
- Tomasz Miąsko<br>
- Tom Eccles<br>
- Yuki Okushi<br>
</p>
</blockquote>



<a name="204088715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088715">(Jul 16 2020 at 14:13)</a>:</h4>
<p>/me takes a breath</p>



<a name="204088744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088744">(Jul 16 2020 at 14:13)</a>:</h4>
<blockquote>
<p>Accomplished:</p>
<ul>
<li>Tons of new content:<ul>
<li><a href="https://github.com/rust-lang/rustc-dev-guide/pull/731">Getting Started Guide</a> + many improvements</li>
<li>Type-system <a href="https://github.com/rust-lang/rustc-dev-guide/issues/697">rustc-dev-guide#697</a></li>
<li>Diagnostics <a href="https://github.com/rust-lang/rustc-dev-guide/issues/716">rustc-dev-guide#716</a></li>
<li>Building and testing <code>rustc</code> <a href="https://github.com/rust-lang/rustc-dev-guide/issues/723">rustc-dev-guide#723</a>, <a href="https://github.com/rust-lang/rustc-dev-guide/issues/727">rustc-dev-guide#727</a>, <a href="https://github.com/rust-lang/rustc-dev-guide/issues/728">rustc-dev-guide#728</a>, <a href="https://github.com/rust-lang/rustc-dev-guide/issues/729">rustc-dev-guide#729</a>, and many more</li>
<li>Writing tests <a href="https://github.com/rust-lang/rustc-dev-guide/issues/724">rustc-dev-guide#724</a>, <a href="https://github.com/rust-lang/rustc-dev-guide/issues/725">rustc-dev-guide#725</a>, <a href="https://github.com/rust-lang/rustc-dev-guide/issues/749">rustc-dev-guide#749</a> </li>
</ul>
</li>
<li>Updates to various current content:<ul>
<li><a href="https://github.com/rust-lang/rustc-dev-guide/pull/713">Lints</a></li>
<li><a href="https://github.com/rust-lang/rustc-dev-guide/pull/715"><code>TyKind::Error</code></a></li>
<li><a href="https://github.com/rust-lang/rustc-dev-guide/pull/735">Coding Conventions</a></li>
<li>Notification Groups <a href="https://github.com/rust-lang/rustc-dev-guide/issues/739">rustc-dev-guide#739</a>, <a href="https://github.com/rust-lang/rustc-dev-guide/issues/740">rustc-dev-guide#740</a>, and more </li>
</ul>
</li>
<li>Some reorganization:<ul>
<li><a href="https://github.com/rust-lang/rustc-dev-guide/issues/753">rustc-dev-guide#753</a>, <a href="https://github.com/rust-lang/rustc-dev-guide/issues/752">rustc-dev-guide#752</a>, <a href="https://github.com/rust-lang/rustc-dev-guide/issues/763">rustc-dev-guide#763</a>, <a href="https://github.com/rust-lang/rustc-dev-guide/issues/764">rustc-dev-guide#764</a>, <a href="https://github.com/rust-lang/rustc-dev-guide/issues/767">rustc-dev-guide#767</a>, <a href="https://github.com/rust-lang/rustc-dev-guide/issues/768">rustc-dev-guide#768</a>, <a href="https://github.com/rust-lang/rustc-dev-guide/issues/773">rustc-dev-guide#773</a></li>
</ul>
</li>
</ul>
</blockquote>



<a name="204088785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088785" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088785">(Jul 16 2020 at 14:13)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1176">@WG-llvm</span> checkin by <span class="user-mention" data-user-id="123586">@nagisa</span>:</p>
<blockquote>
<ul>
<li>As mentioned above, there’s LLVM11 upgrade on the horizon. The usual caveats etc apply. Potential regressions, improvements in compiler code output etc.</li>
<li>In similar spirit been seeing an increased flow of issue reports about sub-optimal code generation, thuogh that's a very subjective evaluation;</li>
<li>There's an ongoing effort by a community member to enable building targeting apple silicon with "fat" libraries. There are some complication in enabling this:<blockquote>
<p>* Upstream LLVM support for this is _dubious_ both now and possibly LLVM 11.<br>
   * What kind of tier are we hoping to have for this target at launch time? I’d say just let it go through the usual process, but I can see logic in idea of having T2/T1 support at launch time.</p>
</blockquote>
</li>
</ul>
</blockquote>



<a name="204088786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088786" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088786">(Jul 16 2020 at 14:13)</a>:</h4>
<p>Wow, that's awesome</p>



<a name="204088958"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204088958" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204088958">(Jul 16 2020 at 14:15)</a>:</h4>
<p>Regarding support for Apple silicon, <span class="user-mention" data-user-id="116155">@Jake Goulding</span> has been tracking that (they're not on this stream), and we created a tracking issue, but I would say that we're planning to walk that support through our usual processes. I've been reaching out to some folks at Apple as well to see if we can get some support from that angle, though nothing to announce there yet.</p>



<a name="204089073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204089073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204089073">(Jul 16 2020 at 14:15)</a>:</h4>
<p>Its really hard for me to predict where (the) Apple will fall on this</p>



<a name="204089126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204089126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204089126">(Jul 16 2020 at 14:16)</a>:</h4>
<p>there's <a class="stream" data-stream-id="242906" href="/#narrow/stream/242906-t-compiler.2Farm">#t-compiler/arm</a> btw for related discussion</p>



<a name="204089220"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204089220" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204089220">(Jul 16 2020 at 14:16)</a>:</h4>
<p>(by the way, it appears that <code>:point_of_information:</code> has been replaced with <code>:wait_one_second:</code>, and so I've started using <code>:point_up:</code> ( <span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span> )  instead)</p>



<a name="204089288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204089288" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204089288">(Jul 16 2020 at 14:17)</a>:</h4>
<p>I found it hard to distinguish those in any case..</p>



<a name="204089294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204089294" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204089294">(Jul 16 2020 at 14:17)</a>:</h4>
<p>(like, visually)</p>



<a name="204089507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204089507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204089507">(Jul 16 2020 at 14:19)</a>:</h4>
<p>okay so now I think people have had enough fun with sign language</p>



<a name="204089513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204089513" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204089513">(Jul 16 2020 at 14:19)</a>:</h4>
<h2>Beta-nominations</h2>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler</a></p>
<ul>
<li>lint: use <code>transparent_newtype_field</code> to avoid ICE <a href="https://github.com/rust-lang/rust/pull/74340">rust#74340</a><ul>
<li>fix for Nightly ICEs trying to normalize during a cast <a href="https://github.com/rust-lang/rust/issues/73747">rust#73747</a></li>
<li>authored by @davidtwco and r+'ed by @pnkfelix</li>
<li>(just barely missed the promotion from master to beta)</li>
<li>pnkfelix would be fine with letting this simmer until next week.</li>
</ul>
</li>
</ul>



<a name="204089607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204089607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204089607">(Jul 16 2020 at 14:19)</a>:</h4>
<p>I beta-nominated this, but like I said, I'm fine with waiting until next week to decide about it</p>



<a name="204089792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204089792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204089792">(Jul 16 2020 at 14:21)</a>:</h4>
<p>but I'm also fine with just diving in. <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="204089874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204089874" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204089874">(Jul 16 2020 at 14:21)</a>:</h4>
<p>Anyway I'll take the approvals so far as a sign that we can beta-accept it.</p>



<a name="204089969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204089969" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204089969">(Jul 16 2020 at 14:22)</a>:</h4>
<p>(worst case scenario, with something backport this early, is that we'll eventually have to revert it in the next six weeks for some reason. I can live with that.)</p>



<a name="204090001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090001">(Jul 16 2020 at 14:22)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/74340">#74340</a>: beta-accepted</p>



<a name="204090013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090013" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090013">(Jul 16 2020 at 14:22)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3Alibs-impl">libs-impl</a></p>
<ul>
<li>No beta nominations this time.</li>
</ul>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc">T-rustdoc</a></p>
<ul>
<li>No beta nominations this time.</li>
</ul>



<a name="204090028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090028">(Jul 16 2020 at 14:22)</a>:</h4>
<h2>Stable-nominations</h2>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler</a></p>
<ul>
<li>No stable nominations this time.</li>
</ul>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3Alibs-impl">libs-impl</a></p>
<ul>
<li>No stable nominations this time.</li>
</ul>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc">T-rustdoc</a></p>
<ul>
<li>No stable nominations this time.</li>
</ul>



<a name="204090044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090044" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090044">(Jul 16 2020 at 14:22)</a>:</h4>
<h2>PRs S-waiting-on-team</h2>
<p><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p>
<ul>
<li>No PRs waiting on T-compiler this time.</li>
</ul>
<p><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3Alibs-impl">libs-impl</a></p>
<ul>
<li>No PRs waiting on libs-impl this time.</li>
</ul>



<a name="204090060"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090060" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090060">(Jul 16 2020 at 14:22)</a>:</h4>
<h2>Issues of Note</h2>
<h3>Short Summary</h3>
<ul>
<li><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AT-compiler+label%3AP-critical+">0 T-compiler P-critical issues</a><ul>
<li><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">0 of those are unassigned</a></li>
</ul>
</li>
<li><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AT-compiler+label%3AP-high+">49 T-compiler P-high issues</a><ul>
<li><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">27 of those are unassigned</a></li>
</ul>
</li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta">0 P-critical, 0 P-high, 3 P-medium, 1 P-low regression-from-stable-to-beta</a></li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly">0 P-critical, 2 P-high, 6 P-medium, 1 P-low regression-from-stable-to-nightly</a></li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable">0 P-critical, 14 P-high, 46 P-medium, 4 P-low regression-from-stable-to-stable</a></li>
</ul>



<a name="204090084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090084" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090084">(Jul 16 2020 at 14:23)</a>:</h4>
<h3>P-critical</h3>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p>
<ul>
<li>No P-critical issues for T-compiler this time.</li>
</ul>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3Alibs-impl">libs-impl</a></p>
<ul>
<li>No P-critical issues for libs-impl this time.</li>
</ul>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc">T-rustdoc</a></p>
<ul>
<li>No P-critical issues for T-rustdoc this time.</li>
</ul>



<a name="204090108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090108" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090108">(Jul 16 2020 at 14:23)</a>:</h4>
<h3>Unassigned P-high regressions</h3>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3Aregression-from-stable-to-beta+P-high+no%3Aassignee">Beta regressions</a></p>
<ul>
<li>No unassigned P-high beta regressions this time.</li>
</ul>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3Aregression-from-stable-to-nightly+P-high+no%3Aassignee">Nightly regressions</a></p>
<ul>
<li>No unassigned P-high nightly regressions this time.</li>
</ul>



<a name="204090147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090147" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090147">(Jul 16 2020 at 14:23)</a>:</h4>
<h2>Performance logs</h2>
<p><a href="https://github.com/rust-lang/rustc-perf/tree/master/triage#triage-logs">Triage done by njn</a>.<br>
Revision range: <a href="https://perf.rust-lang.org/?start=0c03aee8b81185d65b5821518661c30ecdb42de5&amp;end=9d09331e00b02f81c714b0c41ce3a38380dd36a2&amp;absolute=false&amp;stat=instructions%3Au">0c03aee8b81185d65b5821518661c30ecdb42de5..9d09331e00b02f81c714b0c41ce3a38380dd36a2</a>.</p>
<p>12 revisions checked. Zero regressions, one improvement.</p>
<p>Regressions</p>
<ul>
<li>None!</li>
</ul>
<p>Improvements</p>
<ul>
<li><a href="https://github.com/rust-lang/rust/pull/73978#issuecomment-657877594">Shrink ParamEnv to 16 bytes #73978</a><br>
  (<a href="https://perf.rust-lang.org/compare.html?start=0c03aee8b81185d65b5821518661c30ecdb42de5&amp;end=8981dbbc36f1575b0a417b6849767bde29e7c6b4&amp;stat=instructions:u">instructions</a>):<br>
  Up to 1.8% wins on a few benchmarks.</li>
</ul>



<a name="204090435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090435" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090435">(Jul 16 2020 at 14:25)</a>:</h4>
<p>I have to say</p>



<a name="204090442"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090442" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090442">(Jul 16 2020 at 14:25)</a>:</h4>
<p>I really like the pattern</p>



<a name="204090536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090536" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090536">(Jul 16 2020 at 14:26)</a>:</h4>
<p>of packing the state into some usize or whatever, and then adding a bunch of <code>PhantomData</code> fields</p>



<a name="204090593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090593">(Jul 16 2020 at 14:26)</a>:</h4>
<p>Let's make it a safe abstraction <span aria-label="sparkles" class="emoji emoji-2728" role="img" title="sparkles">:sparkles:</span></p>



<a name="204090601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090601" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090601">(Jul 16 2020 at 14:26)</a>:</h4>
<p>it just tickles me for some reason. Anyway, very cool stuff, <span class="user-mention" data-user-id="116122">@simulacrum</span></p>



<a name="204090709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090709" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090709">(Jul 16 2020 at 14:27)</a>:</h4>
<h2>Nominated Issues</h2>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler">T-compiler</a></p>



<a name="204090734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090734" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090734">(Jul 16 2020 at 14:27)</a>:</h4>
<ul>
<li>"Polymorphization" <a href="https://github.com/rust-lang/rust/pull/69749">rust#69749</a><ul>
<li>This was nominated for discussion about what the next steps are.</li>
<li><a href="https://github.com/rust-lang/rust/pull/69749#issuecomment-658871287">See @wesleywiser's comment</a> for a summary of the current state and questions.</li>
</ul>
</li>
</ul>



<a name="204090891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090891" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090891">(Jul 16 2020 at 14:28)</a>:</h4>
<p>Let me transcribe that comment here:</p>



<a name="204090915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090915" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090915">(Jul 16 2020 at 14:28)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> wrote: </p>
<blockquote>
<p>I would like to nominate this PR for discussion at the compiler team triage meeting.</p>
<p>As I understand it, the current state of this PR is that:</p>
<p>* <a href="#narrow/stream/216091-t-compiler.2Fwg-polymorphization/topic/progress.20updates/near/201955780">There are no known ICEs or functional regressions caused by this PR</a> and a full bootstrap succeeds as evidenced by the CI status of this PR. tada</p>
<p>* <a href="https://github.com/rust-lang/rust/pull/69749#issuecomment-605641794">The most recent perf.rlo run shows mixed results.</a></p>
<p>* @davidtwco performed a <a href="#narrow/stream/216091-t-compiler.2Fwg-polymorphization/topic/progress.20updates/near/201883919">more detailed analysis here</a> which suggests the regressions are possibly related to the known CGU partitioning issue and not actual regressions introduced by this PR.</p>
<p>* Another round of reviews <a href="https://github.com/rust-lang/rust/pull/69749#event-3506971776">has been requested</a> of @eddyb and @nikomatsakis.</p>
<p>It seems to me that a bit of direction from the compiler team would be helpful at this time. I would like to discuss:</p>
<p>* Assuming those final reviews are completed and feedback addressed, is this ready to merge?</p>
<p>* If not, what else needs to be done before this PR can be merged?</p>
<p>* Should we merge this enabled by default or disabled by default?</p>
</blockquote>



<a name="204090949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204090949" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204090949">(Jul 16 2020 at 14:29)</a>:</h4>
<p>/me grumbles about Zulip's markdown parser not matching github markdown closely enough</p>



<a name="204091000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091000">(Jul 16 2020 at 14:29)</a>:</h4>
<p>I think we should land it</p>



<a name="204091027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091027">(Jul 16 2020 at 14:29)</a>:</h4>
<p>I think it's important infrastructure that we know from first principles will be useful</p>



<a name="204091108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091108" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091108">(Jul 16 2020 at 14:30)</a>:</h4>
<p>I just realized my "more detailed analysis link" should actually link to <a href="#narrow/stream/216091-t-compiler.2Fwg-polymorphization/topic/progress.20updates/near/201883919">this zulip thread</a>.</p>



<a name="204091109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091109" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091109">(Jul 16 2020 at 14:30)</a>:</h4>
<p>Moreover, while the perf is somewhat disappointing, there are some real wins</p>



<a name="204091116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091116" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091116">(Jul 16 2020 at 14:30)</a>:</h4>
<p>e.g.</p>



<a name="204091127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091127">(Jul 16 2020 at 14:30)</a>:</h4>
<p>(We should probably report that as a bug in Zulip. Its not too soon for them to change to have better compatibilty, I would think...)</p>



<a name="204091160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091160">(Jul 16 2020 at 14:30)</a>:</h4>
<p><a href="/user_uploads/4715/hj7y7NrXea5vVEhL6qIZJvpp/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/hj7y7NrXea5vVEhL6qIZJvpp/image.png" title="image.png"><img src="/user_uploads/4715/hj7y7NrXea5vVEhL6qIZJvpp/image.png"></a></div>



<a name="204091165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091165">(Jul 16 2020 at 14:30)</a>:</h4>
<p>('m always super annoyed by _italics_ not working)</p>



<a name="204091175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091175" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091175">(Jul 16 2020 at 14:30)</a>:</h4>
<p><span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="204091188"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091188" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091188">(Jul 16 2020 at 14:30)</a>:</h4>
<p>5% on script-servo-debug is not to sneeze at</p>



<a name="204091230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091230">(Jul 16 2020 at 14:31)</a>:</h4>
<p>it's true though that the 11% hit on the println case for script-serve-opt is sad, but then we think it's CGU related?</p>



<a name="204091265"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091265" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091265">(Jul 16 2020 at 14:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> did you see my closure PRs btw? it might make the polymorphization PR  slightly simpler/easier to land. but if you don't want to wait I can try to review polymorphization today or something (just remind me after meeting)</p>



<a name="204091300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091300" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091300">(Jul 16 2020 at 14:31)</a>:</h4>
<p>I'm still catching up from vacation, I've not seen that PR</p>



<a name="204091331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091331" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091331">(Jul 16 2020 at 14:31)</a>:</h4>
<p>The metric wg-mir-opt uses to switch optimizations on by default is currently just "there are no known issues and we have at least some covering tests". We're also quick to switch stuff back off if the beta crater shows issues.</p>



<a name="204091332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091332">(Jul 16 2020 at 14:31)</a>:</h4>
<p>I don't have a strong opinion about order in which things land :)</p>



<a name="204091373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091373" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091373">(Jul 16 2020 at 14:31)</a>:</h4>
<p>I think the polymorphization PR has waited long enough tbh</p>



<a name="204091412"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091412" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091412">(Jul 16 2020 at 14:32)</a>:</h4>
<p>The Polymorphization PR fits those requirements</p>



<a name="204091423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091423">(Jul 16 2020 at 14:32)</a>:</h4>
<p>(there <em>are</em> a lot of 1%, 2% hits on incremental cases)</p>



<a name="204091618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091618" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091618">(Jul 16 2020 at 14:33)</a>:</h4>
<p>I think we should bias towards improvements on non-incremental</p>



<a name="204091655"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091655" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091655">(Jul 16 2020 at 14:33)</a>:</h4>
<p>i.e. if something is a 5% win on non-incremental but causes a 5% regression on incremental</p>



<a name="204091668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091668" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091668">(Jul 16 2020 at 14:33)</a>:</h4>
<p>I'd opt to still land it</p>



<a name="204091703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091703" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091703">(Jul 16 2020 at 14:34)</a>:</h4>
<p>IMO we should land it and have it enabled by default. I would ask that we leave the <code>-Zpolymorphization</code> flag around so if have to to switch it off, it's a one line change.</p>



<a name="204091742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091742" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091742">(Jul 16 2020 at 14:34)</a>:</h4>
<p>Yeah, I agree with that too, as a "rule of thumb" anyway</p>



<a name="204091802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091802" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091802">(Jul 16 2020 at 14:34)</a>:</h4>
<p>particularly for these sorts of PRs, where it doesn't really make any sense for incremental to get slower?</p>



<a name="204091829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091829">(Jul 16 2020 at 14:34)</a>:</h4>
<p>yeah, its too noisy for us to block stuff on it</p>



<a name="204091865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091865" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091865">(Jul 16 2020 at 14:35)</a>:</h4>
<p>the incremental effects suggest our CGU partitioning may be slightly to wildly suboptimal, so turning polymorphization on and off could be a good way to gain more insight into that</p>



<a name="204091959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091959" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091959">(Jul 16 2020 at 14:35)</a>:</h4>
<p>I remember <span class="user-mention" data-user-id="116107">@davidtwco</span> trying to gather data on that, but I think more work is needed</p>



<a name="204091963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204091963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204091963">(Jul 16 2020 at 14:35)</a>:</h4>
<p>so <span class="user-mention" data-user-id="125250">@Wesley Wiser</span></p>



<a name="204092054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092054">(Jul 16 2020 at 14:36)</a>:</h4>
<p>when you commented <a href="#narrow/stream/216091-t-compiler.2Fwg-polymorphization/topic/progress.20updates/near/201885795">here</a>, you had promoted the idea of setting <code>-Zpolymorphize</code> to off by default</p>



<a name="204092069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092069">(Jul 16 2020 at 14:36)</a>:</h4>
<table>
<thead>
<tr>
<th><code>-Ztime-passes</code> (total)</th>
<th><code>-Zpolymorphize=on</code></th>
<th><code>-Z polymorphize=off</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-Z codegen-units=1</code></td>
<td>633.040 (<a href="/user_uploads/4715/385eNQkUHCHaNFfovTGqdJZC/Ztp-polymorphization-20200624-cgu1-script-servo-Opt-Full">data</a>)</td>
<td>729.907 ( <a href="/user_uploads/4715/QNTjRhyDfqnqFgUp0G-EBiDM/Ztp-polymorphization-20200624-cgu1-off-script-servo-Opt-Full">data</a> )</td>
</tr>
<tr>
<td>(no other flags)</td>
<td>232.379 (<a href="/user_uploads/4715/TZdx596d-kyf811qengwoEUC/Ztp-polymorphization-20200624-script-servo-Opt-Full">data</a>)</td>
<td>232.557 (<a href="/user_uploads/4715/VQ7EtDl6Y8gx7-KHqrKTNu-L/Ztp-polymorphization-20200624-off-script-servo-Opt-Full">data</a>)</td>
</tr>
</tbody>
</table>
<p>This is my most recent data regarding partitioning + polymorphisation.</p>



<a name="204092097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092097">(Jul 16 2020 at 14:36)</a>:</h4>
<p>(from running perf on my own machine, so all the caveats that entails)</p>



<a name="204092101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092101" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092101">(Jul 16 2020 at 14:36)</a>:</h4>
<p>It seems like you changed your mind since then, based on your (<span class="user-mention" data-user-id="125250">@Wesley Wiser</span> 's) comment above.</p>



<a name="204092147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092147" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092147">(Jul 16 2020 at 14:36)</a>:</h4>
<p>Is that because you think it will be more useful to get this running on more systems (in order to iron out bugs and get feedback on perf)?</p>



<a name="204092161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092161">(Jul 16 2020 at 14:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818/near/204092054">said</a>:</p>
<blockquote>
<p>when you commented <a href="#narrow/stream/216091-t-compiler.2Fwg-polymorphization/topic/progress.20updates/near/201885795">here</a>, you had promoted the idea of setting <code>-Zpolymorphize</code> to off by default</p>
</blockquote>
<p>I was under the impression at that point there were still some ICEs that needed to be tracked down. At the current time, we don't know any ICEs or other regressions (other than incr performance).</p>



<a name="204092171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092171" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092171">(Jul 16 2020 at 14:37)</a>:</h4>
<p>Ah I see</p>



<a name="204092187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092187">(Jul 16 2020 at 14:37)</a>:</h4>
<p>The only case w/ an ICE that I'm aware of is when the new symbol mangling is enabled.</p>



<a name="204092198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092198" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092198">(Jul 16 2020 at 14:37)</a>:</h4>
<p>we also don't keep around the unoptimized LLVM IR to do proper reuse of that , right? I wonder how much we could win with a hacked together version of that where we just take out the changed functions and add in the new copies</p>



<a name="204092206"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092206" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092206">(Jul 16 2020 at 14:37)</a>:</h4>
<p>I wanted to keep the PR from bitrotting but obviously we can't land stuff that introduces known regressions like that.</p>



<a name="204092213"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092213" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092213">(Jul 16 2020 at 14:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116107">davidtwco</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818/near/204092187">said</a>:</p>
<blockquote>
<p>The only case that I'm aware of is when the new symbol mangling is enabled.</p>
</blockquote>
<p>But that's not the default and might not be a hard bug - I've not looked into it much.</p>



<a name="204092293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092293">(Jul 16 2020 at 14:38)</a>:</h4>
<p>since the incremental penalty for polymorphization might just be invalidating a large CGU and having to redo MIR -&gt; LLVM IR</p>



<a name="204092313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092313" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092313">(Jul 16 2020 at 14:38)</a>:</h4>
<p>although LLVM optimizations on the CGU are likely costlier so nvm</p>



<a name="204092337"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092337" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092337">(Jul 16 2020 at 14:38)</a>:</h4>
<p>okay. So It seems like everyone whose spoken up thinks that the performance issues here are something that we can investigate independently, after this lands (potentially on by default)? Does that sound right?</p>



<a name="204092341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092341" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092341">(Jul 16 2020 at 14:38)</a>:</h4>
<p><span class="user-mention" data-user-id="116107">@davidtwco</span> I can try to help track down the mangling bug</p>



<a name="204092514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092514">(Jul 16 2020 at 14:39)</a>:</h4>
<p>I think we have general approval for landing this.</p>



<a name="204092527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092527" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092527">(Jul 16 2020 at 14:39)</a>:</h4>
<p>should be even easier once it's landed because I can just play around with local builds without a copy of the PR etc.</p>



<a name="204092591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092591" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092591">(Jul 16 2020 at 14:40)</a>:</h4>
<p>In theory there should be an associated MCP for something like this</p>



<a name="204092615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092615">(Jul 16 2020 at 14:40)</a>:</h4>
<p>but I think its development predates the MCP process</p>



<a name="204092636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092636" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092636">(Jul 16 2020 at 14:40)</a>:</h4>
<p>yeah, it does</p>



<a name="204092659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092659">(Jul 16 2020 at 14:40)</a>:</h4>
<p>Not sure <span class="user-mention" data-user-id="116107">@davidtwco</span> if you ever wrote up any rustc-dev-guide docs on the design btw?</p>



<a name="204092673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092673">(Jul 16 2020 at 14:40)</a>:</h4>
<p>It'd be helpful for reviewing</p>



<a name="204092680"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092680" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092680">(Jul 16 2020 at 14:40)</a>:</h4>
<p>and we're okay with making exceptions for "well known" public efforts like this, I think</p>



<a name="204092705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092705" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092705">(Jul 16 2020 at 14:41)</a>:</h4>
<p>I think it's fine, I mean all the relevant folks are here</p>



<a name="204092718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092718" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092718">(Jul 16 2020 at 14:41)</a>:</h4>
<p>and we would second it :)</p>



<a name="204092721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092721">(Jul 16 2020 at 14:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818/near/204092659">said</a>:</p>
<blockquote>
<p>Not sure <span class="user-mention silent" data-user-id="116107">davidtwco</span> if you ever wrote up any rustc-dev-guide docs on the design btw?</p>
</blockquote>
<p>I have a to-do list item to do this - but was waiting to see if it would land and what other changes might be necessary.</p>



<a name="204092754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092754">(Jul 16 2020 at 14:41)</a>:</h4>
<p>There's a mention of it in the dev-guide already AFAIK.</p>



<a name="204092761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092761">(Jul 16 2020 at 14:41)</a>:</h4>
<p>We can trade writing the MCP for writing some docs <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="204092770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092770">(Jul 16 2020 at 14:41)</a>:</h4>
<p>I was just going to write that :)</p>



<a name="204092773"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092773" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092773">(Jul 16 2020 at 14:41)</a>:</h4>
<p>just open the MCP and insert the thesis as the contents</p>



<a name="204092779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092779">(Jul 16 2020 at 14:41)</a>:</h4>
<p>okay so lets move along then</p>



<a name="204092783"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092783" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092783">(Jul 16 2020 at 14:41)</a>:</h4>
<p>that's the main thing I would want out of the MCP...</p>



<a name="204092792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092792">(Jul 16 2020 at 14:41)</a>:</h4>
<p>heh</p>



<a name="204092795"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092795" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092795">(Jul 16 2020 at 14:41)</a>:</h4>
<p>I forgot about the thesis, right...</p>



<a name="204092815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092815" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092815">(Jul 16 2020 at 14:41)</a>:</h4>
<ul>
<li>"mv std libs to std/" <a href="https://github.com/rust-lang/rust/pull/73265">rust#73265</a><ul>
<li>This was nominated again for discussion about what the next steps are.</li>
<li>"I propose to wait one week and nominate the issue one (hopefully) last time"</li>
<li><a href="https://github.com/rust-lang/rust/pull/73265#issuecomment-657075856">See @mark-i-m's comment</a> for a summary of the current proposal.</li>
</ul>
</li>
</ul>



<a name="204092896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092896" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092896">(Jul 16 2020 at 14:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="119009">eddyb</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818/near/204092773">said</a>:</p>
<blockquote>
<p>just open the MCP and insert the thesis as the contents</p>
</blockquote>
<p>(that's <a href="https://davidtw.co/media/masters_dissertation.pdf">here</a> if people care, the evaluation is so-so, but the rest might be helpful)</p>



<a name="204092929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204092929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204092929">(Jul 16 2020 at 14:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818/near/204092795">said</a>:</p>
<blockquote>
<p>I forgot about the thesis, right...</p>
</blockquote>
<p>miri's README still links to <span class="user-mention" data-user-id="130499">@Scott Olson</span>'s report on it, so there's definitely precedent</p>



<a name="204093146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093146">(Jul 16 2020 at 14:44)</a>:</h4>
<p>Regarding <a href="https://github.com/rust-lang/rust/issues/73265">#73265</a>, it seems like the discussion has reached a good point</p>



<a name="204093162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093162" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093162">(Jul 16 2020 at 14:44)</a>:</h4>
<p>do we need to issue some "formal approval"?</p>



<a name="204093215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093215" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093215">(Jul 16 2020 at 14:44)</a>:</h4>
<p>by the way, I hadn't be follwing discussion</p>



<a name="204093237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093237">(Jul 16 2020 at 14:44)</a>:</h4>
<p>but it sounds like the title no longer accurately describes the action</p>



<a name="204093250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093250" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093250">(Jul 16 2020 at 14:44)</a>:</h4>
<p>heh, it does not</p>



<a name="204093323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093323" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093323">(Jul 16 2020 at 14:45)</a>:</h4>
<p>namely, they're now going to move standard libs into <code>&lt;root&gt;/library/&lt;crate&gt;/src/*.rs</code>, along side <code>&lt;root&gt;/src/&lt;all the rest&gt; // unchanged</code></p>



<a name="204093329"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093329" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093329">(Jul 16 2020 at 14:45)</a>:</h4>
<p>I don't know how/why "library" was chosen over "std" or "stdlib", I forget. Have to skim the thread. I guess because std is but one library and there are more crates?</p>



<a name="204093534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093534">(Jul 16 2020 at 14:46)</a>:</h4>
<p><code>std/libstd</code> seems a little awkward. It seems reasonable to me but perhaps it's a bit too jargon-y for new contributors? </p>
<p>I do like the idea of <code>library/...</code> and <code>compiler/...</code> though</p>



<a name="204093546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093546" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093546">(Jul 16 2020 at 14:47)</a>:</h4>
<p>oh, it appears that <code>library</code> was chosen in anticipation of eventually migrating the <code>rustc</code> crates to <code>compiler/</code></p>



<a name="204093549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093549">(Jul 16 2020 at 14:47)</a>:</h4>
<p>if I'm reading this right</p>



<a name="204093562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093562" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093562">(Jul 16 2020 at 14:47)</a>:</h4>
<p>To be clear, I'm good with library</p>



<a name="204093570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093570">(Jul 16 2020 at 14:47)</a>:</h4>
<p>Okay that's all fine</p>



<a name="204093615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093615">(Jul 16 2020 at 14:47)</a>:</h4>
<p>I just remember it was discussed and settled upon somehow, and my main point is that I'd prefer not to revisit that settled point...</p>



<a name="204093643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093643" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093643">(Jul 16 2020 at 14:47)</a>:</h4>
<p>Is this on our docket because we took over standard library internals?</p>



<a name="204093718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093718" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093718">(Jul 16 2020 at 14:48)</a>:</h4>
<p>More or less, yes.</p>



<a name="204093719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093719">(Jul 16 2020 at 14:48)</a>:</h4>
<p>Or is this just a general FYI?</p>



<a name="204093743"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093743" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093743">(Jul 16 2020 at 14:48)</a>:</h4>
<p>I suspect so, yeah</p>



<a name="204093757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093757">(Jul 16 2020 at 14:48)</a>:</h4>
<p>It does seem pretty squarely to be our decision at this point</p>



<a name="204093771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093771" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093771">(Jul 16 2020 at 14:48)</a>:</h4>
<p>Not sure what could be a <em>more</em> implementation focused decision</p>



<a name="204093836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093836">(Jul 16 2020 at 14:49)</a>:</h4>
<p>I'll make a note and link to our discussion here</p>



<a name="204093867"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204093867" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204093867">(Jul 16 2020 at 14:49)</a>:</h4>
<ul>
<li>"[WIP] Upgrade to LLVM 11" <a href="https://github.com/rust-lang/rust/pull/73526">rust#73526</a><ul>
<li><a href="https://github.com/rust-lang/rust/pull/73526#issuecomment-658943064">Nominated</a> to double check whether we're okay with landing this prior to the final LLVM 11 release.</li>
<li><a href="https://github.com/rust-lang/rust/pull/73526#issuecomment-658943064">See @nikic's comment</a> ...</li>
<li>"The last perf run had large compile-time improvements for opt builds and some minor regressions for debug builds."</li>
<li><a href="https://perf.rust-lang.org/compare.html?start=7e11379f3b4c376fbb9a6c4d44f3286ccc28d149&amp;end=adff1be71c9e1b3abb95b761d9caa41e4e1b9096">Perf shows some nice improvements</a></li>
</ul>
</li>
</ul>



<a name="204094017"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094017" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094017">(Jul 16 2020 at 14:50)</a>:</h4>
<p>regarding "perf shows some nice improvements;" weren't there regressions we had to swallow with the upgrade to LLVM 10? Does anyone know if the improvements here bring us back in line with LLVM 9 in those cases?</p>



<a name="204094116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094116" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094116">(Jul 16 2020 at 14:50)</a>:</h4>
<p>there certainly were</p>



<a name="204094192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094192">(Jul 16 2020 at 14:51)</a>:</h4>
<p>The perf numbers from the LLVM 10 upgrade were: <a href="https://perf.rust-lang.org/compare.html?start=0aa6751c19d3ba80df5b0b02c00bf44e13c97e80&amp;end=82911b3bba76e73afe2881b732fe6b0edb35d5d3&amp;stat=instructions%3Au">https://perf.rust-lang.org/compare.html?start=0aa6751c19d3ba80df5b0b02c00bf44e13c97e80&amp;end=82911b3bba76e73afe2881b732fe6b0edb35d5d3&amp;stat=instructions%3Au</a> So I think LLVM 11 recovers most but not all of it.</p>



<a name="204094210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094210" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094210">(Jul 16 2020 at 14:51)</a>:</h4>
<p>also, regarding <span class="user-mention" data-user-id="133224">@Nikita Popov</span> 's comment linked above: the final LLVM release is at end of August</p>



<a name="204094230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094230">(Jul 16 2020 at 14:51)</a>:</h4>
<p>so if we land this now</p>



<a name="204094259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094259" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094259">(Jul 16 2020 at 14:51)</a>:</h4>
<p>would we do another round of upgrades to the final LLVM 11 release after end of August?</p>



<a name="204094334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094334" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094334">(Jul 16 2020 at 14:52)</a>:</h4>
<p>or would we just use what we landed (and cherry-pick when necessary) until LLVM 12?</p>



<a name="204094432"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094432" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094432">(Jul 16 2020 at 14:52)</a>:</h4>
<p>There are usually some upgrades lateron to match the release branch (especially as there are point releases as well).</p>



<a name="204094442"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094442" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094442">(Jul 16 2020 at 14:52)</a>:</h4>
<p>okay</p>



<a name="204094524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094524">(Jul 16 2020 at 14:53)</a>:</h4>
<p>Can anyone summarize arguments why we wouldn't land this?</p>



<a name="204094575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094575" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094575">(Jul 16 2020 at 14:53)</a>:</h4>
<p>(that is, why we wouldn't land this now and instead wait for the aforementioned final release at end of August)?</p>



<a name="204094610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094610" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094610">(Jul 16 2020 at 14:53)</a>:</h4>
<p>There was some discussion about not using an unreleased LLVM due to Firefox?</p>



<a name="204094663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094663" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094663">(Jul 16 2020 at 14:54)</a>:</h4>
<p>I forget the details -- something about cross-language LTO and clang?</p>



<a name="204094754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094754">(Jul 16 2020 at 14:54)</a>:</h4>
<ol>
<li>This makes us early adopters, so there's a larger chance that we hit regressions first.</li>
<li>Cross-language LTO requires the other party to use LLVM 11 as well.</li>
</ol>



<a name="204094771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094771" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094771">(Jul 16 2020 at 14:54)</a>:</h4>
<p>hmm</p>



<a name="204094840"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094840" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094840">(Jul 16 2020 at 14:55)</a>:</h4>
<p>in terms of release cycle timing</p>



<a name="204094885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094885">(Jul 16 2020 at 14:55)</a>:</h4>
<p>I'm not sure of the current status for FF, I think this was already a problem when we upgraded to LLVM 10, but I do think that given the limitations on cross-language LTO there is some logic to sticking to LLVM releases</p>



<a name="204094886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094886" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094886">(Jul 16 2020 at 14:55)</a>:</h4>
<p>/me goes to look at forge</p>



<a name="204094899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094899">(Jul 16 2020 at 14:55)</a>:</h4>
<p>I saw a bug report from Firefox trying to use Clang 11, so possibly they're already on this. Because I think they skipped Clang 10 due to the large regressions. But this is just hearsay, does anyone know something more certain there?</p>



<a name="204094905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094905">(Jul 16 2020 at 14:55)</a>:</h4>
<p>(so that people can more easily match us)</p>



<a name="204094995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204094995" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204094995">(Jul 16 2020 at 14:56)</a>:</h4>
<p>If we land it in nightly it will ship on Oct 8th.</p>



<a name="204095022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095022" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095022">(Jul 16 2020 at 14:56)</a>:</h4>
<p><span class="user-mention" data-user-id="120989">@njn</span> will not be around at this time but they may have feedback on the FF point</p>



<a name="204095023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095023" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095023">(Jul 16 2020 at 14:56)</a>:</h4>
<p>thank you <span class="user-mention" data-user-id="125250">@Wesley Wiser</span></p>



<a name="204095067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095067" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095067">(Jul 16 2020 at 14:56)</a>:</h4>
<p>I guess -- do we expect llvm 11/clang 11 ship by oct 8th?</p>



<a name="204095081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095081" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095081">(Jul 16 2020 at 14:56)</a>:</h4>
<p>I remember hearing firefox is still using rustc with llvm9</p>



<a name="204095093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095093" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095093">(Jul 16 2020 at 14:56)</a>:</h4>
<p>maybe the old rustc?</p>



<a name="204095138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095138">(Jul 16 2020 at 14:57)</a>:</h4>
<p>LLVM 11 is supposed to release at the end of August.</p>



<a name="204095157"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095157" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095157">(Jul 16 2020 at 14:57)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> The release is planned for August 26, but it does tend to slip a bit.</p>



<a name="204095208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095208">(Jul 16 2020 at 14:57)</a>:</h4>
<p>okay, so then it seems reasonable to land in our nightly, by the time it hits stable we'll have a released llvm that's probably "close enough" right?</p>



<a name="204095361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095361" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095361">(Jul 16 2020 at 14:58)</a>:</h4>
<p>I expect so, yes.</p>



<a name="204095461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095461" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095461">(Jul 16 2020 at 14:59)</a>:</h4>
<p>if we actually waited until LLVM 11 were released to put it into our nightlies, then chances are it would be part of the 1.49 release, and would probably come out in late December, right?</p>



<a name="204095648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095648" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095648">(Jul 16 2020 at 15:00)</a>:</h4>
<p>it seems bad to wait another 2ish months for these performance wins without excellent reason, so I'm personally in favor of landing now. I think I've convinced myself that matching LLVM releases is fine to do "in stable" but not really as needed in nightly.</p>



<a name="204095657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095657">(Jul 16 2020 at 15:00)</a>:</h4>
<p>that seems like  quite a difference in time; long time to make people wait, especially if its <em>recovering</em> performance we had lost with LLVM 10 upgrade</p>



<a name="204095683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095683" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095683">(Jul 16 2020 at 15:00)</a>:</h4>
<p>Seems like maybe the right thing to do is land it on nightly and potentially take a beta-backport later to update to the release version of LLVM 11?</p>



<a name="204095712"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095712" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095712">(Jul 16 2020 at 15:01)</a>:</h4>
<p>if necessary, yeah</p>



<a name="204095745"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095745" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095745">(Jul 16 2020 at 15:01)</a>:</h4>
<p>That sounds reasonable</p>



<a name="204095769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095769" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095769">(Jul 16 2020 at 15:01)</a>:</h4>
<p>I'm mildly uncomfortable with this being "close enough" to the final release</p>



<a name="204095770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095770">(Jul 16 2020 at 15:01)</a>:</h4>
<p>So yeah, it seems like everyone here is generally in favor of moving forward with LLVM 11 upgrade <em>now</em></p>



<a name="204095780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095780">(Jul 16 2020 at 15:01)</a>:</h4>
<p>but a beta backport fixes that</p>



<a name="204095804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095804" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095804">(Jul 16 2020 at 15:01)</a>:</h4>
<p>(and I suppose "close enough" might indeed be true)</p>



<a name="204095921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095921">(Jul 16 2020 at 15:02)</a>:</h4>
<p>Does anyone have a link to the discussions about the Firefox issues regarding their version of clang and/or cross-lang LTO ?</p>



<a name="204095944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095944" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095944">(Jul 16 2020 at 15:02)</a>:</h4>
<p>(I found some bugzilla tickets regarding rustc forcing them to upgrade to LLVM 9)</p>



<a name="204095996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204095996" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204095996">(Jul 16 2020 at 15:03)</a>:</h4>
<p>oh no we're over time!</p>



<a name="204096053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096053">(Jul 16 2020 at 15:03)</a>:</h4>
<p>there was just one last nominated issue, and its, I think, just a bug that wants some attention</p>



<a name="204096066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096066" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096066">(Jul 16 2020 at 15:03)</a>:</h4>
<ul>
<li>"Compiler doesn't terminate with --release" <a href="https://github.com/rust-lang/rust/issues/74384">rust#74384</a><ul>
<li>Compiler doesn't "terminate" when nesting 3 arrays.</li>
<li>"It seems like this is an LLVM bug."</li>
</ul>
</li>
</ul>



<a name="204096078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096078" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096078">(Jul 16 2020 at 15:03)</a>:</h4>
<p>so, yeah, someone look into that. :)</p>



<a name="204096097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096097">(Jul 16 2020 at 15:04)</a>:</h4>
<p>(hey, maybe its fixed with LLVM 11. <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span> )</p>



<a name="204096197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096197">(Jul 16 2020 at 15:04)</a>:</h4>
<p>Fun.</p>



<a name="204096218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096218">(Jul 16 2020 at 15:04)</a>:</h4>
<p>Thanks to everyone in <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> for attending! This was a great meeting, I really love coming away from these things excited about everything that's going on</p>



<a name="204096453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096453" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096453">(Jul 16 2020 at 15:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="119009">eddyb</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818/near/204091265">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> did you see my closure PRs btw? it might make the polymorphization PR  slightly simpler/easier to land. but if you don't want to wait I can try to review polymorphization today or something (just remind me after meeting)</p>
</blockquote>
<p>this is the reminder after the meeting <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="204096462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096462" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096462">(Jul 16 2020 at 15:06)</a>:</h4>
<p><span class="user-mention" data-user-id="119009">@eddyb</span></p>



<a name="204096476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096476" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096476">(Jul 16 2020 at 15:06)</a>:</h4>
<p>you could at least link to the PR :P</p>



<a name="204096489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096489" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096489">(Jul 16 2020 at 15:06)</a>:</h4>
<p>don't make me type URLs in the middle of a heatwave</p>



<a name="204096496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096496" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096496">(Jul 16 2020 at 15:06)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/69749">#69749</a></p>



<a name="204096600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096600">(Jul 16 2020 at 15:07)</a>:</h4>
<p><span class="user-mention" data-user-id="119009">@eddyb</span> were you just ... criticizing... yourself ...?</p>



<a name="204096744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096744">(Jul 16 2020 at 15:08)</a>:</h4>
<p>no? just barely functioning during the day (it's 6pm here)</p>



<a name="204096780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096780">(Jul 16 2020 at 15:08)</a>:</h4>
<p>I cannot tell if the comment about "linking to the PR" was regarding the polymorphization PR (<a href="https://github.com/rust-lang/rust/issues/69749">#69749</a>) or the closures PRs (<a href="https://github.com/rust-lang/rust/issues/74341">#74341</a>, <a href="https://github.com/rust-lang/rust/issues/74314">#74314</a> ...?)</p>



<a name="204096812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096812" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096812">(Jul 16 2020 at 15:08)</a>:</h4>
<p>the one I have to review :P</p>



<a name="204096833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096833" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096833">(Jul 16 2020 at 15:08)</a>:</h4>
<p>oh oh oh</p>



<a name="204096879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204096879" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204096879">(Jul 16 2020 at 15:09)</a>:</h4>
<p>but you do see the irony, no?</p>



<a name="204097024"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204097024" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204097024">(Jul 16 2020 at 15:10)</a>:</h4>
<p>/me wonders, for the thousandth time, whether he understands the definition of "irony." Thanks @Alanis Morrisette</p>



<a name="204097089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204097089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204097089">(Jul 16 2020 at 15:10)</a>:</h4>
<p>well I link niko PRs all the time, just in PM :P</p>



<a name="204100947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204100947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mark-i-m <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204100947">(Jul 16 2020 at 15:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818/near/204088696">said</a>:</p>
<blockquote>
<p><span class="user-group-mention" data-user-group-id="1380">@WG-rustc-dev-guide</span> checkin by <span class="user-mention silent" data-user-id="198054">mark-i-m</span> and <span class="user-mention silent" data-user-id="116266">Santiago Pastorino</span>:</p>
<blockquote>
<p><a href="https://github.com/rust-lang/rustc-dev-guide/pulls?page=1&amp;q=closed%3A%3E%3D2020-05-28">68 merged PRs!</a> In fact, there was so much stuff, that we ran out of time to curate it... here is a prefix of the list of PRs (heavily biased towards earlier PRs); there are so many people that deserve credit:<br>
- Aaron Hill<br>
- Andy Russell<br>
- Bastian Kauschke<br>
- Drew Youngwerth<br>
- Eric Huss<br>
- Florian Gilcher<br>
- Ivan Veselov<br>
- Joshua Nelson<br>
- mark-i-m<br>
- Matt Kraai<br>
- Nadrieril<br>
- Niko Matsakis<br>
- pierwill<br>
- Ralf Jung<br>
- Santiago Pastorino<br>
- Takayuki Nakata<br>
- ThePuzzlemaker<br>
- Tomasz Miąsko<br>
- Tom Eccles<br>
- Yuki Okushi<br>
</p>
</blockquote>
</blockquote>
<p><span aria-label="scream" class="emoji emoji-1f631" role="img" title="scream">:scream:</span> It seems that somehow <span class="user-mention" data-user-id="262810">@Chris Simpkins</span>, <span class="user-mention" data-user-id="255061">@LeSeulArtichaut</span>, and  <span class="user-mention" data-user-id="119529">@Tshepang Lekhonkhobe</span> got left off the list when I crawled the git log :'( They also deserve lots of credit. Sorry about that!</p>



<a name="204109699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204109699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204109699">(Jul 16 2020 at 16:39)</a>:</h4>
<p><span class="user-mention" data-user-id="116107">@davidtwco</span> done</p>



<a name="204109710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204109710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204109710">(Jul 16 2020 at 16:39)</a>:</h4>
<p>thanks, addressing now</p>



<a name="204109725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204109725" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204109725">(Jul 16 2020 at 16:39)</a>:</h4>
<p>(btw, having a separate stream for meeting topics is amazing for finding them)</p>



<a name="204109807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204109807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204109807">(Jul 16 2020 at 16:40)</a>:</h4>
<p>(let's move to <a class="stream" data-stream-id="216091" href="/#narrow/stream/216091-t-compiler.2Fwg-polymorphization">#t-compiler/wg-polymorphization</a>)</p>



<a name="204147752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204147752" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204147752">(Jul 16 2020 at 21:49)</a>:</h4>
<p>On the Firefox front:</p>



<a name="204147913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204147913" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204147913">(Jul 16 2020 at 21:50)</a>:</h4>
<ul>
<li>Firefox is sticking with 1.43 for now, which keeps us on LLVM 9. But this is mostly due to a bug in later versions that causes miscompilations on Mac: <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1644624#c1">https://bugzilla.mozilla.org/show_bug.cgi?id=1644624#c1</a>. (This bug has apparently been fixed since.) The plan is to skip straight to LLVM 11.</li>
</ul>



<a name="204147958"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204147958" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204147958">(Jul 16 2020 at 21:51)</a>:</h4>
<ul>
<li>Although LLVM 10 caused some slowdowns, I think 1.44 was still faster than 1.43 overall due to other speed improvements</li>
</ul>



<a name="204148077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%20meeting%5D%202020-07-16%20%2354818/near/204148077" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.20meeting.5D.202020-07-16.20.2354818.html#204148077">(Jul 16 2020 at 21:52)</a>:</h4>
<ul>
<li>For upcoming releases, it's "always better" if a released rustc uses an official LLVM release. Presumably because we need our clang versions to be in sync for xLTO, and that way we can use a normal clang release rather than a non-release version. So backporting on beta to get an official release would be best.</li>
</ul>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>