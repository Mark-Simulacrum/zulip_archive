<html>
<head><meta charset="utf-8"><title>[adhoc] 2021-06-11 unsound stdlib specialization and 1.53 · t-compiler/meetings · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/index.html">t-compiler/meetings</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html">[adhoc] 2021-06-11 unsound stdlib specialization and 1.53</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="242304408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242304408" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242304408">(Jun 11 2021 at 06:02)</a>:</h4>
<p>Hello world. I’m just creating the meeting topic ahead of time so that I can point people to it.</p>



<a name="242304449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242304449" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242304449">(Jun 11 2021 at 06:03)</a>:</h4>
<p>the meeting should start in about 8 hours, at <time datetime="2021-06-11T14:00:00Z">2021-06-11T10:00:00-04:00</time></p>



<a name="242305247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242305247" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242305247">(Jun 11 2021 at 06:19)</a>:</h4>
<p>I attempted to take some notes in <a href="https://hackmd.io/IcaLDGBlStWYkn2qzWGxUg">https://hackmd.io/IcaLDGBlStWYkn2qzWGxUg</a></p>



<a name="242305252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242305252" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242305252">(Jun 11 2021 at 06:19)</a>:</h4>
<p>I’m hoping the situation isn’t quite as dire as I had thought at the end of the meeting yesterday</p>



<a name="242305330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242305330" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242305330">(Jun 11 2021 at 06:20)</a>:</h4>
<p>(if that is true, hopefully we can make short work of the specialization questions, and then review rest of <a href="https://hackmd.io/1NeIcqXERkug9KItmB1TwQ">meeting agenda from yesterday</a>)</p>



<a name="242313877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242313877" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242313877">(Jun 11 2021 at 08:17)</a>:</h4>
<p>Won't be able to attend at that time.</p>
<p><a href="https://github.com/rust-lang/rust/issues/82303">#82303</a> not unsound. It is about not observing side-effects on one of the two source iterators when calling <code>next()</code> on a Zip iterator which already has returned <code>None</code>, i.e. when trying to advance beyond the end. We already had a crater run for that issue that made that made that behavior visible in more cases (and also elided some additional) side-effects and nothing broke. And it has been on stable for a while.</p>
<p><a href="https://github.com/rust-lang/rust/issues/85969">#85969</a> is also about side-effects being elided.</p>
<p>The other two issues are basically flavors of the same thing which steffahn already explained in quite some detail.</p>
<blockquote>
<p>That sounds to me like some safety loopholes around specializations on FusedIterator and Copy were not unexpected since they tend to include unsafe code.</p>
</blockquote>
<p>My reasoning is that a) <code>rustc_unsafe_specialization_marker</code> exists (introduced in <a href="https://github.com/rust-lang/rust/issues/68970">#68970</a>) and b) is exposed as user-implementable safe, stable traits <code>Copy</code> and <code>FusedIterator</code> and exploited by some specializations which most of the time involve unsafe code. Which means that min_specialization doesn't entirely close the hole around erased lifetimes that it was supposed to fix. This time it's due to variance, I think the original motivating case was due to associated types?</p>
<p><code>rustc_unsafe_specialization_marker</code> was introduced for pretty much that purpose, the implementation even mentions <code>FusedIterator</code> in its comments. The question is whether this kind of interaction was anticipated back then and considered acceptable or if it was just that they <em>could</em> be used in unsound ways but the existing implementations were considered correct. That's the question I tried to ask @matthewjasper in <a href="https://github.com/rust-lang/rust/issues/85863#issuecomment-851936533">https://github.com/rust-lang/rust/issues/85863#issuecomment-851936533</a> </p>
<p>In my optimization-biased opinion these cases are fairly hard to encounter, they require coercing an iterator between iteration steps.</p>
<p>I wonder how <span class="user-mention" data-user-id="280891">@Frank Steffahn</span> found them. Is this something encountered in real code or arrived at due to careful analysis?</p>



<a name="242314234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242314234" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242314234">(Jun 11 2021 at 08:20)</a>:</h4>
<blockquote>
<p>I wonder how @Frank Steffahn found them. Is this something encountered in real code or arrived at due to careful analysis?</p>
</blockquote>
<p>Careful analysis.</p>



<a name="242347218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242347218" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242347218">(Jun 11 2021 at 13:48)</a>:</h4>
<p>FWIW I will also not be able to make it, but I don't have any strong feeling myself here I think.</p>



<a name="242348994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242348994" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242348994">(Jun 11 2021 at 14:01)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span></p>



<a name="242349106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242349106" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242349106">(Jun 11 2021 at 14:02)</a>:</h4>
<p>So in constructing my notes last night, and thinking about them, I have to admit that maybe I over-estimated the severity of the situation here</p>



<a name="242349156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242349156" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242349156">(Jun 11 2021 at 14:02)</a>:</h4>
<p>In that: I do think that there are some backports warranted, but we can probably isolated them pretty easily solely to the things that were injected on 1.53</p>



<a name="242349201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242349201" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242349201">(Jun 11 2021 at 14:03)</a>:</h4>
<p>I didn’t have time to write up a formal proposal last night of what to do</p>



<a name="242349458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242349458" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242349458">(Jun 11 2021 at 14:04)</a>:</h4>
<p>But I suggest, for whomever <em>is</em> able to make the meeting today</p>



<a name="242349607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242349607" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242349607">(Jun 11 2021 at 14:05)</a>:</h4>
<p>and we can re-convene at <time datetime="2021-06-11T14:15:00Z">2021-06-11T10:15:00-04:00</time> to discuss what to do</p>



<a name="242349764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242349764" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242349764">(Jun 11 2021 at 14:07)</a>:</h4>
<p>ok :)</p>



<a name="242350026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242350026" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242350026">(Jun 11 2021 at 14:08)</a>:</h4>
<p>I see some holes in the table in that hackmd. <a href="https://github.com/rust-lang/rust/issues/82303">#82303</a> is very similar to <a href="https://github.com/rust-lang/rust/issues/85969">#85969</a>, but older. By older, I mean, the bug was introduced earlier (and it’s already in <code>stable</code>), not just the issue being older; and <a href="https://github.com/rust-lang/rust/issues/85975">#85975</a> only fixes <a href="https://github.com/rust-lang/rust/issues/85969">#85969</a>, not <a href="https://github.com/rust-lang/rust/issues/82303">#82303</a>. However, <a href="https://github.com/rust-lang/rust/issues/82303">#82303</a> is (indeed) <em>not unsound</em>.</p>



<a name="242350099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242350099" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242350099">(Jun 11 2021 at 14:09)</a>:</h4>
<p>okay thanks, let me try to fix the table at least, based on those corrections</p>



<a name="242350227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242350227" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242350227">(Jun 11 2021 at 14:10)</a>:</h4>
<p>or wait</p>



<a name="242350275"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242350275" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242350275">(Jun 11 2021 at 14:10)</a>:</h4>
<p>I think the table is at least consistent with what you said? Maybe its just not clearly presented?</p>



<a name="242350336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242350336" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242350336">(Jun 11 2021 at 14:10)</a>:</h4>
<p>I can replace the “When Injected: ?” with “When Injected: Ancient” for <a href="https://github.com/rust-lang/rust/issues/82303">#82303</a></p>



<a name="242350425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242350425" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242350425">(Jun 11 2021 at 14:11)</a>:</h4>
<p>and put in “When/if fixed: Not fixed” for <a href="https://github.com/rust-lang/rust/issues/82303">#82303</a>.</p>



<a name="242350436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242350436" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242350436">(Jun 11 2021 at 14:11)</a>:</h4>
<blockquote>
<p>replace the “When Injected: ?” with “When Injected: Ancient”</p>
</blockquote>
<p>Seems accurate. I’m trying out on godbolt right now, seems ancient, e.g. even before 1.23, a few versions earlier and it starts complaining about missing methods and such</p>



<a name="242350708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242350708" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242350708">(Jun 11 2021 at 14:13)</a>:</h4>
<p>The Before Times.</p>



<a name="242350922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242350922" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242350922">(Jun 11 2021 at 14:15)</a>:</h4>
<p>btw  niko potined out a typo via priv msg</p>



<a name="242350928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242350928" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242350928">(Jun 11 2021 at 14:15)</a>:</h4>
<p>so in case you all were confused</p>



<a name="242350962"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242350962" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242350962">(Jun 11 2021 at 14:15)</a>:</h4>
<p>the places where the table said <a href="https://github.com/rust-lang/rust/issues/85973">#85973</a>, it should have said <a href="https://github.com/rust-lang/rust/issues/85873">#85873</a> (and had the corresponding link)</p>



<a name="242351033"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351033" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351033">(Jun 11 2021 at 14:16)</a>:</h4>
<p>So first, lets clarify of goal(s) of meeting</p>



<a name="242351058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351058" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351058">(Jun 11 2021 at 14:16)</a>:</h4>
<p>my hope was to resolve what backports need to happen for 1.53</p>



<a name="242351081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351081" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351081">(Jun 11 2021 at 14:16)</a>:</h4>
<p>with respect to these specialization issues</p>



<a name="242351090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351090" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351090">(Jun 11 2021 at 14:16)</a>:</h4>
<p>that was first goal</p>



<a name="242351106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351106" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351106">(Jun 11 2021 at 14:16)</a>:</h4>
<p>and then second goal was to finish going through remainder of agenda</p>



<a name="242351121"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351121" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351121">(Jun 11 2021 at 14:16)</a>:</h4>
<p>that we did not get to yesterday</p>



<a name="242351135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351135" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351135">(Jun 11 2021 at 14:17)</a>:</h4>
<p>due to various discussions going too long</p>



<a name="242351168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351168" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351168">(Jun 11 2021 at 14:17)</a>:</h4>
<p>(or, alternatively, the agenda simply being too packed.)</p>



<a name="242351202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351202" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351202">(Jun 11 2021 at 14:17)</a>:</h4>
<p>Anyway: I want to start by saying: Are there any questions about the things we all just read?</p>



<a name="242351230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351230" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351230">(Jun 11 2021 at 14:17)</a>:</h4>
<p>I have one question</p>



<a name="242351271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351271" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351271">(Jun 11 2021 at 14:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53/near/242351058">said</a>:</p>
<blockquote>
<p>my hope was to resolve what backports need to happen for 1.53</p>
</blockquote>
<p>is there a definitive list of the backports being considered?</p>



<a name="242351311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351311" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351311">(Jun 11 2021 at 14:18)</a>:</h4>
<p>I guess that's in your table?</p>



<a name="242351337"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351337" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351337">(Jun 11 2021 at 14:18)</a>:</h4>
<p>I didn’t put a concrete proposal down</p>



<a name="242351341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351341" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351341">(Jun 11 2021 at 14:18)</a>:</h4>
<p>last night</p>



<a name="242351352"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351352" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351352">(Jun 11 2021 at 14:18)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> there’s still the question mark after <code>!unsound?</code> <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span> . And if you want, you can go to <code>&lt;= 1.21</code></p>



<a name="242351355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351355" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351355">(Jun 11 2021 at 14:18)</a>:</h4>
<p>becasue I was too tired and not thinking about it clearly</p>



<a name="242351405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351405" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351405">(Jun 11 2021 at 14:18)</a>:</h4>
<p><span class="user-mention" data-user-id="280891">@Frank Steffahn</span> are you saying that <code>!unsound</code> is the correct entry and no <code>?</code> is required?</p>



<a name="242351420"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351420" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351420">(Jun 11 2021 at 14:18)</a>:</h4>
<p>yes</p>



<a name="242351433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351433" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351433">(Jun 11 2021 at 14:18)</a>:</h4>
<p>I’d like to discuss <span class="user-mention" data-user-id="280891">@Frank Steffahn</span> question first</p>



<a name="242351438"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351438" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351438">(Jun 11 2021 at 14:18)</a>:</h4>
<p>I'm not 100% sure what we mean by <em>unsound</em></p>



<a name="242351475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351475" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351475">(Jun 11 2021 at 14:19)</a>:</h4>
<p>so here’s my response to that</p>



<a name="242351505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351505" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351505">(Jun 11 2021 at 14:19)</a>:</h4>
<p>From my interpretation of what <span class="user-mention" data-user-id="330154">@The 8472</span> wrote above</p>



<a name="242351536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351536" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351536">(Jun 11 2021 at 14:19)</a>:</h4>
<p>they said <a href="https://github.com/rust-lang/rust/issues/82303">#82303</a> is not unsound</p>



<a name="242351628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351628" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351628">(Jun 11 2021 at 14:20)</a>:</h4>
<p>I guess I propose the following definitions (which I think are what people mean):</p>
<ul>
<li><strong>unsound:</strong> purely safe code can cause UB because of this bug</li>
<li><strong>incorrect:</strong> the code does not perform to specification; this could lead to UB if combined with unsafe code, or simply incorrect results with safe code</li>
</ul>



<a name="242351664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351664" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351664">(Jun 11 2021 at 14:20)</a>:</h4>
<p>that it “just" is a fialure to follow-through on causing  side-effects that some iterators may generate</p>



<a name="242351683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351683" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351683">(Jun 11 2021 at 14:20)</a>:</h4>
<p>Okay yes what Niko said above</p>



<a name="242351717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351717" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351717">(Jun 11 2021 at 14:20)</a>:</h4>
<blockquote>
<p>I'm not 100% sure what we mean by unsound</p>
</blockquote>
<p>Well, at least my interpretation is “it’s possible to write a program in safe code hitting UB”. This is just about the number of times that <code>.next()</code> gets called on a nested iterator or the order in which the function in a <code>.map()</code> call that’s <code>DoubleEndedIterator</code> is executed, etc.</p>
<p>So basically that niko said in terms of def’n.</p>



<a name="242351725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351725" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351725">(Jun 11 2021 at 14:20)</a>:</h4>
<p>re: backport list: presumably<br>
<a href="https://github.com/rust-lang/rust/pull/85975">https://github.com/rust-lang/rust/pull/85975</a> and<br>
if merged { <a href="https://github.com/rust-lang/rust/pull/85874">https://github.com/rust-lang/rust/pull/85874</a> }?</p>



<a name="242351772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351772" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351772">(Jun 11 2021 at 14:21)</a>:</h4>
<p><span class="user-mention" data-user-id="281757">@Jubilee</span> lets hold on one second before we talk about teh backport list</p>



<a name="242351821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351821" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351821">(Jun 11 2021 at 14:21)</a>:</h4>
<p>if it's helpful, <span class="user-mention" data-user-id="116083">@pnkfelix</span>, I'm going to try and keep the hackmd up to date with some notes</p>



<a name="242351825"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351825" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351825">(Jun 11 2021 at 14:21)</a>:</h4>
<p>But I think there may be different opinions here</p>



<a name="242351828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351828" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351828">(Jun 11 2021 at 14:21)</a>:</h4>
<p>Yes I’d apprecite that <span class="user-mention" data-user-id="116009">@nikomatsakis</span></p>



<a name="242351944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351944" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351944">(Jun 11 2021 at 14:22)</a>:</h4>
<p>In particular, I saw some other discussion about how an analogous sitatution is that <code>Hash</code>  relies on <code>PartialEq</code>/<code>Eq</code> obeying their contract</p>



<a name="242351993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242351993" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242351993">(Jun 11 2021 at 14:22)</a>:</h4>
<p>but I don’t think hashtables are supposed to be allowed to become unsound</p>



<a name="242352016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352016" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352016">(Jun 11 2021 at 14:23)</a>:</h4>
<p>when the <code>PartialEq</code>/<code>Eq</code> fails to obey their contract</p>



<a name="242352072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352072" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352072">(Jun 11 2021 at 14:23)</a>:</h4>
<p>they might just fail to re-produce the mapping that you expect</p>



<a name="242352094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352094" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352094">(Jun 11 2021 at 14:23)</a>:</h4>
<p>correct</p>



<a name="242352103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352103" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352103">(Jun 11 2021 at 14:23)</a>:</h4>
<p>(and then that presumably could casue some other <code>unsafe</code> code to misbehave and introduce UB)</p>



<a name="242352107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352107" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352107">(Jun 11 2021 at 14:23)</a>:</h4>
<p>does that sound right?</p>



<a name="242352142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352142" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352142">(Jun 11 2021 at 14:23)</a>:</h4>
<p>except I would argue that such code is not incorrect</p>



<a name="242352186"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352186" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352186">(Jun 11 2021 at 14:24)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> regarding the docs question: <a href="https://github.com/rust-lang/rust/issues/82303#issuecomment-852187787">https://github.com/rust-lang/rust/issues/82303#issuecomment-852187787</a></p>



<a name="242352199"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352199" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352199">(Jun 11 2021 at 14:24)</a>:</h4>
<p>specifically, hashtables are not incorrect for relying on PartialEq and Eq having properties</p>



<a name="242352239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352239" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352239">(Jun 11 2021 at 14:24)</a>:</h4>
<p>they cannot be <em>unsound</em></p>



<a name="242352258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352258" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352258">(Jun 11 2021 at 14:24)</a>:</h4>
<p>I wrote these notes in the hackmd</p>



<a name="242352260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352260" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352260">(Jun 11 2021 at 14:24)</a>:</h4>
<h3><a href="https://github.com/rust-lang/rust/issues/82303">#82303</a></h3>
<ul>
<li>Affects whether <code>next</code> method is called on base iterators<br>
    * when implementing <code>TrustedRandomAccess</code>, they are able to "skip ahead" where they were not before<br>
    * thus side-effects from <code>map</code> calls may not be visible</li>
<li>This is arguably <strong>incorrect</strong> but not <strong>unsound</strong><br>
    * certainly a behavioral change</li>
<li>Q: Is there specified behavior in the docs?</li>
</ul>



<a name="242352283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352283" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352283">(Jun 11 2021 at 14:24)</a>:</h4>
<p>I am cheating because they are not <em>notes</em> excactly, they are me interpreting what other people wrote :)</p>



<a name="242352307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352307" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352307">(Jun 11 2021 at 14:25)</a>:</h4>
<p>but that last Q is exactly what I'm getting at -- and I guess what <span class="user-mention" data-user-id="280891">@Frank Steffahn</span> is linking to</p>



<a name="242352409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352409" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352409">(Jun 11 2021 at 14:25)</a>:</h4>
<p>I'm also suggesting we may want more categories</p>



<a name="242352481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352481" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352481">(Jun 11 2021 at 14:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53/near/242352103">said</a>:</p>
<blockquote>
<p>(and then that presumably could casue some other <code>unsafe</code> code to misbehave and introduce UB)</p>
</blockquote>
<p>(I will admit that I am internally worrying that this position that I have staked out is actually not internally consistent. But I do not want to spend meeting time debating this level of detail…)</p>



<a name="242352514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352514" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352514">(Jun 11 2021 at 14:26)</a>:</h4>
<p>To inline what <span class="user-mention" data-user-id="280891">@Frank Steffahn</span> just linked to:</p>
<p>The documentation of <code>Zip</code> says</p>
<blockquote>
<p>If either iterator returns <a href="https://doc.rust-lang.org/nightly/std/option/enum.Option.html#variant.None"> <code>None</code> </a>, <a href="https://doc.rust-lang.org/nightly/std/iter/trait.Iterator.html#tymethod.next"> <code>next</code> </a> from the zipped iterator will return <a href="https://doc.rust-lang.org/nightly/std/option/enum.Option.html#variant.None"> <code>None</code> </a>. If the first iterator returns <a href="https://doc.rust-lang.org/nightly/std/option/enum.Option.html#variant.None"> <code>None</code> </a>, <code>zip</code> will short-circuit and <code>next</code> will not be called on the second iterator.</p>
</blockquote>
<p>Which pretty clearly describes the behavior of <code>Zip</code>. Following this description one would not necessarily expect the first iterator <em>not</em> to be advanced just because the second iterator has size <code>0</code>.</p>
<p>_Edit:_ I suppose that’s exactly what <a href="https://github.com/rust-lang/rust/issues/83791">#83791</a> tries to address.</p>



<a name="242352587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352587" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352587">(Jun 11 2021 at 14:26)</a>:</h4>
<p>Is that all that the docs say on this topic, <span class="user-mention" data-user-id="280891">@Frank Steffahn</span>, and are these problems always occuring because of <code>Zip</code> and its attempts to shortcircuit?</p>



<a name="242352605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352605" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352605">(Jun 11 2021 at 14:27)</a>:</h4>
<p>I feel a bit like the relevant docs are probably more <em>map</em></p>



<a name="242352637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352637" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352637">(Jun 11 2021 at 14:27)</a>:</h4>
<p>There’s also <a href="https://github.com/rust-lang/rust/issues/85969#issuecomment-854048379">https://github.com/rust-lang/rust/issues/85969#issuecomment-854048379</a> which is a problem I attributed to <a href="https://github.com/rust-lang/rust/issues/82303">#82303</a> as well, but that one’s not a simple question of “is <code>.next()</code> called or not”, because it allows accessing e.g. a <code>Map</code> iterator “starting in the middle”</p>
<p>The code example in that comment, pieced together:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">iterator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="mi">100</span><span class="p">).</span><span class="n">map</span><span class="p">(</span><span class="o">|</span><span class="n">x</span><span class="o">|</span><span class="w"> </span><span class="fm">println!</span><span class="p">(</span><span class="s">"item {}"</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Look at this iterator. We all know that when `map`’s resulting Iterator</span>
<span class="w">    </span><span class="c1">// implements DoubleEndedIterator, then the side-effects can be re-ordered.</span>
<span class="w">    </span><span class="c1">// However, judging by the implementation of `map` one would probably</span>
<span class="w">    </span><span class="c1">// at least expect that it’s impossible to hit the "item 50"</span>
<span class="w">    </span><span class="c1">// without first either going through at least 0, 1, 2, … 49</span>
<span class="w">    </span><span class="c1">// or 100, 99, 98, … 51 first. Right?</span>

<span class="w">    </span><span class="c1">// Well, here we go!</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iterator</span><span class="p">.</span><span class="n">zip</span><span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="mi">51</span><span class="p">).</span><span class="n">zip</span><span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">y</span><span class="p">.</span><span class="n">next_back</span><span class="p">();</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="242352667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352667" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352667">(Jun 11 2021 at 14:27)</a>:</h4>
<p>I am now thinking maybe I'm digging into the wrong question--</p>



<a name="242352673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352673" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352673">(Jun 11 2021 at 14:27)</a>:</h4>
<blockquote>
<p>Following this description one would not necessarily expect the first iterator not to be advanced just because the second iterator has size 0.</p>
</blockquote>
<p>I interpret this as saying that the first iterator may <em>or may not</em> be advanced when second iterator has size 0. Was that what you intended, <span class="user-mention" data-user-id="116009">@nikomatsakis</span> ?</p>



<a name="242352677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352677" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352677">(Jun 11 2021 at 14:27)</a>:</h4>
<p>if the goal is to decide what to <em>backport</em></p>



<a name="242352780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352780" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352780">(Jun 11 2021 at 14:28)</a>:</h4>
<p>maybe it's clear that the semantics/docs are sufficiently ambiguous that the point is "we cannot 100% tell if this is incorrect or not, but it's definitely tripping people up"?</p>



<a name="242352813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352813" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352813">(Jun 11 2021 at 14:28)</a>:</h4>
<p>okay yes</p>



<a name="242352820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352820" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352820">(Jun 11 2021 at 14:28)</a>:</h4>
<p>From <code>fn map</code>:</p>
<blockquote>
<p>Takes a closure and creates an iterator which calls that closure on each element.<br>
map() transforms one iterator into another, by means of its argument: something that implements FnMut. It produces a new iterator which calls this closure on each element of the original iterator.<br>
If you are good at thinking in types, you can think of map() like this: If you have an iterator that gives you elements of some type A, and you want an iterator of some other type B, you can use map(), passing a closure that takes an A and returns a B.<br>
map() is conceptually similar to a for loop. However, as map() is lazy, it is best used when you’re already working with other iterators. If you’re doing some sort of looping for a side effect, it’s considered more idiomatic to use for than map().</p>
</blockquote>



<a name="242352910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352910" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352910">(Jun 11 2021 at 14:29)</a>:</h4>
<p>Yeah, I don't really think the docs get at this question specifically is kind of what it comes down to :)</p>



<a name="242352921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352921" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352921">(Jun 11 2021 at 14:29)</a>:</h4>
<p>at least from my perspective</p>



<a name="242352939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352939" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352939">(Jun 11 2021 at 14:29)</a>:</h4>
<p>I can understand one expecting either behavior</p>



<a name="242352992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242352992" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242352992">(Jun 11 2021 at 14:29)</a>:</h4>
<p>I think I can agree with that</p>



<a name="242353051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353051" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353051">(Jun 11 2021 at 14:29)</a>:</h4>
<p>Does that affect the decision of what do right now for 1.53 ?</p>



<a name="242353133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353133" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353133">(Jun 11 2021 at 14:30)</a>:</h4>
<p>Or maybe I should first just put to rest <span class="user-mention" data-user-id="280891">@Frank Steffahn</span> ’s questioon</p>



<a name="242353142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353142" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353142">(Jun 11 2021 at 14:30)</a>:</h4>
<p>I feel we should probably revert and take the time to have this conversation in peace</p>



<a name="242353184"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353184" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353184">(Jun 11 2021 at 14:30)</a>:</h4>
<p>It feels analogous to our attempts to introduce unwinding guards with extern "C" or what have you</p>



<a name="242353185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353185" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353185">(Jun 11 2021 at 14:30)</a>:</h4>
<p>of wheher the table entry should still have a question mark next to <code>!unsound</code></p>



<a name="242353230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353230" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353230">(Jun 11 2021 at 14:30)</a>:</h4>
<p>I’m fine with taking out the question mark at this point, I think</p>



<a name="242353285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353285" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353285">(Jun 11 2021 at 14:31)</a>:</h4>
<p>I already did :P</p>



<a name="242353323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353323" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353323">(Jun 11 2021 at 14:31)</a>:</h4>
<p>per the definitions that are in the table, I think it is not unsound, I am not sure whether I consider it incorrect or not :)</p>



<a name="242353356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353356" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353356">(Jun 11 2021 at 14:31)</a>:</h4>
<p>okay</p>



<a name="242353367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353367" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353367">(Jun 11 2021 at 14:31)</a>:</h4>
<p>so maybe now we can just look at the question</p>



<a name="242353371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353371" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353371">(Jun 11 2021 at 14:31)</a>:</h4>
<p>of what specifically to backport</p>



<a name="242353402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353402" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353402">(Jun 11 2021 at 14:31)</a>:</h4>
<p>Let me repeat what <span class="user-mention" data-user-id="281757">@Jubilee</span> wrote first</p>



<a name="242353453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353453" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353453">(Jun 11 2021 at 14:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281757">Jubilee</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53/near/242351725">said</a>:</p>
<blockquote>
<p>re: backport list: presumably<br>
<a href="https://github.com/rust-lang/rust/pull/85975">https://github.com/rust-lang/rust/pull/85975</a> and<br>
if merged { <a href="https://github.com/rust-lang/rust/pull/85874">https://github.com/rust-lang/rust/pull/85874</a> }?</p>
</blockquote>



<a name="242353474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353474" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353474">(Jun 11 2021 at 14:32)</a>:</h4>
<p>So I would personally revise that</p>



<a name="242353498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353498" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353498">(Jun 11 2021 at 14:32)</a>:</h4>
<p>I wouldn’t backport all of <a href="https://github.com/rust-lang/rust/issues/85874">#85874</a></p>



<a name="242353516"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353516" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353516">(Jun 11 2021 at 14:32)</a>:</h4>
<p>I’d only backport the parts relevant to 1.53</p>



<a name="242353540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353540" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353540">(Jun 11 2021 at 14:32)</a>:</h4>
<p>namely the vec_deqeue and array</p>



<a name="242353606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353606" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353606">(Jun 11 2021 at 14:33)</a>:</h4>
<p>because we have no idea of the performance impact of backporting the remoal of the impl on  vec</p>



<a name="242353648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353648" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353648">(Jun 11 2021 at 14:33)</a>:</h4>
<p>and so I’d rather we take more time with that decision</p>



<a name="242353660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353660" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353660">(Jun 11 2021 at 14:33)</a>:</h4>
<p>and it was introduced in 1.48, which is sufficiently far back</p>



<a name="242353676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353676" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353676">(Jun 11 2021 at 14:33)</a>:</h4>
<p>when was 1.48 released?</p>



<a name="242353693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353693" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353693">(Jun 11 2021 at 14:33)</a>:</h4>
<p>(right, sorry, that was implicit in my reasoning above.)</p>



<a name="242353742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353742" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353742">(Jun 11 2021 at 14:34)</a>:</h4>
<p>2020 Nov 19</p>



<a name="242353821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353821" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353821">(Jun 11 2021 at 14:34)</a>:</h4>
<p>that's in the middle for me</p>



<a name="242353836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353836" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353836">(Jun 11 2021 at 14:34)</a>:</h4>
<p>it's not "ancient"</p>



<a name="242353852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353852" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353852">(Jun 11 2021 at 14:35)</a>:</h4>
<p>I will admit, … that might be recent enough that I coudl say “just remove vec too, and wait to see who complains."</p>



<a name="242353856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353856" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353856">(Jun 11 2021 at 14:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53/near/242353693">said</a>:</p>
<blockquote>
<p>(right, sorry, that was implicit in my reasoning above.)</p>
</blockquote>
<p>I agree with that reasoning. While I think it's important to resolve these issues, it does not seem urgent to do so in the 1.53 release for anything that hasn't changed in this release.</p>



<a name="242353859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353859" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353859">(Jun 11 2021 at 14:35)</a>:</h4>
<p>it's not that hard for me to imagine a company updating their rust version every 6 months or so :)</p>



<a name="242353877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353877" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353877">(Jun 11 2021 at 14:35)</a>:</h4>
<p>however, it's old enough that I think the reasoning is valid</p>



<a name="242353916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353916" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353916">(Jun 11 2021 at 14:35)</a>:</h4>
<p>I feel like we're developing heuristics here that we should write down</p>



<a name="242353933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353933" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353933">(Jun 11 2021 at 14:35)</a>:</h4>
<p>we could remove vec only on nightlhy</p>



<a name="242353937"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353937" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353937">(Jun 11 2021 at 14:35)</a>:</h4>
<p>speaking of which, let me catch up in the notes</p>



<a name="242353939"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353939" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353939">(Jun 11 2021 at 14:35)</a>:</h4>
<p>not 1.53</p>



<a name="242353965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242353965" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242353965">(Jun 11 2021 at 14:35)</a>:</h4>
<p>seems more in line with our philosophy</p>



<a name="242354021"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354021" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354021">(Jun 11 2021 at 14:36)</a>:</h4>
<p>(The other question is: whether to introduce a PR to revert the <code>Fuse</code> unsoundness, but I'm not sure if we're ready for that, I think we should have a "motion" for the other two )</p>



<a name="242354028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354028" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354028">(Jun 11 2021 at 14:36)</a>:</h4>
<p>let me take some notes</p>



<a name="242354036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354036" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354036">(Jun 11 2021 at 14:36)</a>:</h4>
<p>since, if i understand correctly, this seems really hard to weaponize/run into accidentally</p>



<a name="242354130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354130" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354130">(Jun 11 2021 at 14:36)</a>:</h4>
<p>mm, I don't think it's that hard, imo.</p>



<a name="242354162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354162" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354162">(Jun 11 2021 at 14:37)</a>:</h4>
<p><span class="user-mention" data-user-id="281757">@Jubilee</span> interesting. Say more</p>



<a name="242354358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354358" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354358">(Jun 11 2021 at 14:38)</a>:</h4>
<p>I wrote this</p>



<a name="242354361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354361" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354361">(Jun 11 2021 at 14:38)</a>:</h4>
<h3>Proposal</h3>
<ul>
<li>Backport<br>
    * <a href="https://github.com/rust-lang/rust/issues/85975">#85975</a><br>
    * <a href="https://github.com/rust-lang/rust/issues/85874">#85874</a>, the parts pertaining to <code>vec_deque</code> and <code>array</code></li>
<li>Do not backport<br>
    * the parts of <a href="https://github.com/rust-lang/rust/issues/85874">#85874</a> that pertain to <code>Vec</code></li>
<li>Why?<br>
    * Backport immediate regressions that were introduced in 1.53<br>
    * 1.48 was released in Nov 2020 and that is "long enough ago" that folks may be relying on the perf optimization<br>
        * Q: How much perf are we talking about?<br>
    * Assumption: this is hard to weaponize or run into accidentally<br>
        * Q: Is this true?</li>
</ul>



<a name="242354428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354428" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354428">(Jun 11 2021 at 14:38)</a>:</h4>
<p>I think this captures what <span class="user-mention" data-user-id="116083">@pnkfelix</span> proposed and his reasoning, but there are a few "Q" involved</p>



<a name="242354453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354453" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354453">(Jun 11 2021 at 14:38)</a>:</h4>
<p>Well, I see a lot of the <code>zip</code> +/- <code>skip_while</code> and people using e.g. <code>map</code> instead of <code>inspect</code> for side effects, and Vec is <strong>the</strong> "canonical" collection to transform iterators into or from.</p>



<a name="242354520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354520" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354520">(Jun 11 2021 at 14:39)</a>:</h4>
<p><span class="user-mention" data-user-id="281757">@Jubilee</span> that applies to <a href="https://github.com/rust-lang/rust/issues/82303">#82303</a> and <a href="https://github.com/rust-lang/rust/issues/85969">#85969</a>, correct?</p>



<a name="242354538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354538" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354538">(Jun 11 2021 at 14:39)</a>:</h4>
<p>I'm not sure that applies to <a href="https://github.com/rust-lang/rust/issues/85873">#85873</a> and <a href="https://github.com/rust-lang/rust/issues/85863">#85863</a>?</p>



<a name="242354571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354571" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354571">(Jun 11 2021 at 14:39)</a>:</h4>
<p>let me recheck...</p>



<a name="242354730"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354730" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354730">(Jun 11 2021 at 14:40)</a>:</h4>
<p>I... <strong>think</strong> it applies to <a href="https://github.com/rust-lang/rust/issues/85873">https://github.com/rust-lang/rust/issues/85873</a> but not the other one.</p>



<a name="242354738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354738" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354738">(Jun 11 2021 at 14:40)</a>:</h4>
<p>specifically you need to do some casts between <code>fn(&amp;)</code> and <code>fn(&amp;'x)</code></p>



<a name="242354751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354751" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354751">(Jun 11 2021 at 14:40)</a>:</h4>
<p>in order to trigger the unsoundnesses</p>



<a name="242354759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354759" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354759">(Jun 11 2021 at 14:40)</a>:</h4>
<p>hmm.</p>



<a name="242354761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354761" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354761">(Jun 11 2021 at 14:40)</a>:</h4>
<p>Part of my thinking for why this is hard to run into is that you need to be using HRTB … simple uses of <code>zip</code> and <code>Vec</code> shouldn’t hit it wihtout pulling in <code>fn</code></p>



<a name="242354766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354766" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354766">(Jun 11 2021 at 14:40)</a>:</h4>
<p>But</p>



<a name="242354768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354768" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354768">(Jun 11 2021 at 14:40)</a>:</h4>
<p>but but</p>



<a name="242354783"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354783" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354783">(Jun 11 2021 at 14:41)</a>:</h4>
<p>didn’t <span class="user-mention" data-user-id="280891">@Frank Steffahn</span> say trait objects also expose it?</p>



<a name="242354809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354809" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354809">(Jun 11 2021 at 14:41)</a>:</h4>
<p>Yes, that makes sense that it would</p>



<a name="242354826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354826" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354826">(Jun 11 2021 at 14:41)</a>:</h4>
<p><code>Box&lt;dyn Fn(&amp;())&gt;</code> would apply equally well</p>



<a name="242354828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354828" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354828">(Jun 11 2021 at 14:41)</a>:</h4>
<p>AFAICT you <em>need</em> to use HRTB function pointers or trait objects to run into <em>observable</em> UB and use subtype coercion on a <code>Fuse&lt;some iterator conatining that HRTB type&gt;</code> or <code>Zip&lt;some iterator conatining that HRTB type&gt;</code>.</p>
<p>The description of those issues again:</p>
<blockquote>
<p>Fuse&lt;T&gt; and Zip&lt;T, U&gt; have optimizations relying on specialization if their type parameters implement a trait (FusedIterator or TrustedRandomAccess, respectively).</p>
<p>These optimizations fundamentally change the way the iterator operates.</p>
<p>All type arguments are covariant. Coercing e.g. Fuse&lt;T&gt; to Fuse&lt;U&gt; if U is a subtype of T can “switch between” these fundamentally different ways of operation if T: !FusedIterator and U: FusedIterator which can bring the iterator into an invalid state that can cause UB; the same kind of problem exists for Zip.</p>
<p>Specialization not differentiating between e.g. Foo&lt;'a&gt; and Foo&lt;'b&gt; made this issue harder to spot.<br>
But fn(&amp;()) (that is, for&lt;'a&gt; fn(&amp;'a ())) is a supertype of fn(&amp;'static ()) and those are entirely different types.</p>
</blockquote>
<p>The “Specialization not differentiating between e.g. Foo&lt;'a&gt; and Foo&lt;'b&gt;” point also makes weaponizing in a way that causes observable UB hard.</p>



<a name="242354831"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354831" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354831">(Jun 11 2021 at 14:41)</a>:</h4>
<p>yeah that was what I was thinking of... I definitely have seen "I'd like to work with a vector of functions" from even beginner Rust users.</p>



<a name="242354845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354845" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354845">(Jun 11 2021 at 14:41)</a>:</h4>
<p>ok</p>



<a name="242354850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354850" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354850">(Jun 11 2021 at 14:41)</a>:</h4>
<p>Yes, HRTB trait objects or function pointers both work</p>



<a name="242354923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354923" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354923">(Jun 11 2021 at 14:42)</a>:</h4>
<p>even so, I’m having a hard time swallowing that adding up to “we must fix this in 1.53"</p>



<a name="242354934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354934" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354934">(Jun 11 2021 at 14:42)</a>:</h4>
<p>I don't think it means that, no.</p>



<a name="242354937"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354937" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354937">(Jun 11 2021 at 14:42)</a>:</h4>
<blockquote>
<p>I feel like we're developing heuristics here that we should write down</p>
</blockquote>
<p>Related to that, I'm a bit wary in general of making quick decisions the week prior to a release. The last thing we want is to introduce some kind of accidental regression in the backport to resolve an issue which has been on stable for a while and then having to ship a <code>.1</code> release to fix it.</p>
<p>For issues introduced in 1.53, I think it definitely makes sense to prevent them from hitting stable but for issues already on stable, I think the bar is a lot higher and that increases the closer we get to release.</p>



<a name="242354950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354950" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354950">(Jun 11 2021 at 14:42)</a>:</h4>
<p>versus “we will roll out the fix, in 1.55-nightly"</p>



<a name="242354957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354957" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354957">(Jun 11 2021 at 14:42)</a>:</h4>
<p>Yeah.</p>



<a name="242354981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354981" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354981">(Jun 11 2021 at 14:42)</a>:</h4>
<p>okay that sounds good to me</p>



<a name="242354995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242354995" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242354995">(Jun 11 2021 at 14:43)</a>:</h4>
<p>So do we have general support amongst those present</p>



<a name="242355007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355007" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355007">(Jun 11 2021 at 14:43)</a>:</h4>
<p>Users usually back slowly away from HRTBs, looking for the exit, in my observations.</p>



<a name="242355022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355022" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Steffahn <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355022">(Jun 11 2021 at 14:43)</a>:</h4>
<blockquote>
<p>I definitely have seen "I'd like to work with a vector of functions" from even beginner Rust users.</p>
</blockquote>
<p>but does the beginner then also create a <code>Fuse&lt;IntoIter&lt;fn(&amp;…)&gt;&gt;</code> run the iterator to depletion and then coerce it into <code>Fuse&lt;IntoIter&lt;fn(&amp;'a…)&gt;&gt;</code>?</p>
<p><em>Edit:</em> Nevermind this wouldn’t even be unsound. You need to use the <code>fn</code> pointer type as a <em>type argument</em> to something that makes sure that the HRTB version <em>doesn’t</em> implement <code>Copy</code> and the non-HRTB one <em>does</em> implement `Copy!</p>



<a name="242355036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355036" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355036">(Jun 11 2021 at 14:43)</a>:</h4>
<p>that we’ll back a 1.53-targetted backport of the removals of solely the impls introduced in 1.53</p>



<a name="242355051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355051" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355051">(Jun 11 2021 at 14:43)</a>:</h4>
<p>probably not. :D</p>



<a name="242355074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355074" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355074">(Jun 11 2021 at 14:43)</a>:</h4>
<p>and we will also have a mainline-targetted broader revert</p>



<a name="242355084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355084" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355084">(Jun 11 2021 at 14:43)</a>:</h4>
<p>that incldues vec</p>



<a name="242355119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355119" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355119">(Jun 11 2021 at 14:44)</a>:</h4>
<p>Yes, that seems reasonable to me.</p>



<a name="242355156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355156" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355156">(Jun 11 2021 at 14:44)</a>:</h4>
<p>The Fuse question … we … should probably dedicate sepatate discussion time to?</p>



<a name="242355179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355179" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355179">(Jun 11 2021 at 14:44)</a>:</h4>
<p>since that is an actual breaking change if I understand correctly</p>



<a name="242355240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355240" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355240">(Jun 11 2021 at 14:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="280891">Frank Steffahn</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53/near/242355022">said</a>:</p>
<blockquote>
<p>but does the beginner then also create a <code>Fuse&lt;IntoIter&lt;fn(&amp;…)&gt;&gt;</code> run the iterator to depletion and then coerce it into <code>Fuse&lt;IntoIter&lt;fn(&amp;'a…)&gt;&gt;</code>?</p>
</blockquote>
<p>yes, that's a good point. the bugs here are caused by invoking next some portion of the way under one impl and then "changing horses" to the other mid-stream. I think this is pretty unlikely to hit people in practice.</p>



<a name="242355248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355248" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355248">(Jun 11 2021 at 14:44)</a>:</h4>
<p>I only think the Zip stuff is Comparatively Big.</p>



<a name="242355280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355280" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355280">(Jun 11 2021 at 14:44)</a>:</h4>
<p>Okay great. I think we can say we’ve reached a decision then</p>



<a name="242355315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355315" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355315">(Jun 11 2021 at 14:45)</a>:</h4>
<p>In the 15 minutes remaining, I was hoping to go over the remainer of the agenda from yesterday</p>



<a name="242355337"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355337" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355337">(Jun 11 2021 at 14:45)</a>:</h4>
<p>but … let me see who put their <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> up above</p>



<a name="242355344"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355344" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355344">(Jun 11 2021 at 14:45)</a>:</h4>
<p>and yeah saying "aye".</p>



<a name="242355384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355384" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355384">(Jun 11 2021 at 14:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53/near/242355280">said</a>:</p>
<blockquote>
<p>Okay great. I think we can say we’ve reached a decision then</p>
</blockquote>
<p>wawit</p>



<a name="242355395"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355395" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355395">(Jun 11 2021 at 14:46)</a>:</h4>
<p>I just want to be sure I know what it was :)</p>



<a name="242355443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355443" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355443">(Jun 11 2021 at 14:46)</a>:</h4>
<h3>Proposal</h3>
<ul>
<li>Backport<br>
    * <a href="https://github.com/rust-lang/rust/issues/85975">#85975</a><br>
    * <a href="https://github.com/rust-lang/rust/issues/85874">#85874</a>, the parts pertaining to <code>vec_deque</code> and <code>array</code></li>
<li>Do not backport<br>
    * the parts of <a href="https://github.com/rust-lang/rust/issues/85874">#85874</a> that pertain to <code>Vec</code></li>
<li>Why?<br>
    * Backport immediate regressions that were introduced in 1.53<br>
    * 1.48 was released in Nov 2020 and that is "long enough ago" that folks may be relying on the perf optimization<br>
        * Q: How much perf are we talking about?<br>
    * Assumption: this is hard to weaponize or run into accidentally</li>
</ul>



<a name="242355444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355444" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355444">(Jun 11 2021 at 14:46)</a>:</h4>
<p>okay fair enough</p>



<a name="242355447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355447" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355447">(Jun 11 2021 at 14:46)</a>:</h4>
<p>this?</p>



<a name="242355506"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355506" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355506">(Jun 11 2021 at 14:46)</a>:</h4>
<p>I believe we agreed on that, yes</p>



<a name="242355528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355528" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355528">(Jun 11 2021 at 14:46)</a>:</h4>
<p>I just added</p>
<ul>
<li>Assumption: backporting with a week until release is high risk itself, so we should be minimal</li>
</ul>



<a name="242355538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355538" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355538">(Jun 11 2021 at 14:46)</a>:</h4>
<p>Yes, that was what I was ayeing to.</p>



<a name="242355541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355541" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355541">(Jun 11 2021 at 14:46)</a>:</h4>
<p>and also</p>



<a name="242355543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355543" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355543">(Jun 11 2021 at 14:46)</a>:</h4>
<p>to capture <span class="user-mention" data-user-id="125250">@Wesley Wiser</span>'s point</p>



<a name="242355548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355548" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355548">(Jun 11 2021 at 14:46)</a>:</h4>
<p>OK, great</p>



<a name="242355553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355553" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355553">(Jun 11 2021 at 14:46)</a>:</h4>
<p>that we would plan to actually land all of <a href="https://github.com/rust-lang/rust/issues/85874">#85874</a></p>



<a name="242355557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355557" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355557">(Jun 11 2021 at 14:46)</a>:</h4>
<p>on mainline</p>



<a name="242355568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355568" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355568">(Jun 11 2021 at 14:47)</a>:</h4>
<p>but</p>



<a name="242355579"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355579" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355579">(Jun 11 2021 at 14:47)</a>:</h4>
<p>I'm trying to structure the notes as "here is the reasoning" with sub-sections containing more details and choice comments</p>



<a name="242355586"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355586" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355586">(Jun 11 2021 at 14:47)</a>:</h4>
<p>that’s not something that we really need to decide in this meeting anywauy</p>



<a name="242355618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355618" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355618">(Jun 11 2021 at 14:47)</a>:</h4>
<p>I more wanted to reassure <span class="user-mention" data-user-id="281757">@Jubilee</span></p>



<a name="242355643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355643" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355643">(Jun 11 2021 at 14:47)</a>:</h4>
<p>that we are <em>not</em> planning to outright discard the <code>Vec</code> change</p>



<a name="242355661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355661" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355661">(Jun 11 2021 at 14:47)</a>:</h4>
<p>I'm not worried. :^)</p>



<a name="242355662"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355662" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355662">(Jun 11 2021 at 14:47)</a>:</h4>
<p>(we don't know what kind of perf impact we are talking about, but we just don't have that data right now, right?)</p>



<a name="242355684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355684" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355684">(Jun 11 2021 at 14:47)</a>:</h4>
<p>That is true</p>



<a name="242355687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355687" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355687">(Jun 11 2021 at 14:48)</a>:</h4>
<p>that's a super challenging question to answer anyway</p>



<a name="242355689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355689" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355689">(Jun 11 2021 at 14:48)</a>:</h4>
<p>ok</p>



<a name="242355706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355706" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355706">(Jun 11 2021 at 14:48)</a>:</h4>
<p>yep</p>



<a name="242355740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355740" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355740">(Jun 11 2021 at 14:48)</a>:</h4>
<p>(microbenchmarks? macrobenchmarks? etc)</p>



<a name="242355751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355751" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355751">(Jun 11 2021 at 14:48)</a>:</h4>
<p>we really need to invest in benchmarking</p>



<a name="242355765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355765" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355765">(Jun 11 2021 at 14:48)</a>:</h4>
<p>I don't think we need that data to make this call</p>



<a name="242355771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355771" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355771">(Jun 11 2021 at 14:48)</a>:</h4>
<p>of object code beyond the compiler itself</p>



<a name="242355772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355772" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355772">(Jun 11 2021 at 14:48)</a>:</h4>
<p>so I am happy</p>



<a name="242355777"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355777" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355777">(Jun 11 2021 at 14:48)</a>:</h4>
<p>okay</p>



<a name="242355792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355792" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355792">(Jun 11 2021 at 14:48)</a>:</h4>
<p>so on the one hand</p>



<a name="242355819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355819" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355819">(Jun 11 2021 at 14:48)</a>:</h4>
<p>the T-compiler members present are <span class="user-mention" data-user-id="123586">@nagisa</span> <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> <span class="user-mention" data-user-id="116009">@nikomatsakis</span> and <span class="user-mention" data-user-id="116083">@pnkfelix</span></p>



<a name="242355821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355821" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355821">(Jun 11 2021 at 14:48)</a>:</h4>
<p>I think there is one other implied part here</p>



<a name="242355823"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355823" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355823">(Jun 11 2021 at 14:48)</a>:</h4>
<p>based on the <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> ’s above</p>



<a name="242355843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355843" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355843">(Jun 11 2021 at 14:49)</a>:</h4>
<p>that we will not attempt to create a PR (or backport it) related to the <code>Fuse</code> changes</p>



<a name="242355864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355864" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355864">(Jun 11 2021 at 14:49)</a>:</h4>
<p>but it follows pretty directly from the reasoning</p>



<a name="242355873"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355873" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355873">(Jun 11 2021 at 14:49)</a>:</h4>
<p>I'm going to add it to the consensus list :)</p>



<a name="242355899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242355899" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242355899">(Jun 11 2021 at 14:49)</a>:</h4>
<p>(we might want to do that on <em>master</em>, but it's not a backport priority)</p>



<a name="242356073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356073" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356073">(Jun 11 2021 at 14:50)</a>:</h4>
<h3>Consensus</h3>
<ul>
<li>Backport<br>
    * <a href="https://github.com/rust-lang/rust/issues/85975">#85975</a><br>
    * <a href="https://github.com/rust-lang/rust/issues/85874">#85874</a>, the parts pertaining to <code>vec_deque</code> and <code>array</code></li>
<li>Do not backport<br>
    * the parts of <a href="https://github.com/rust-lang/rust/issues/85874">#85874</a> that pertain to <code>Vec</code><br>
    * hypothetical future PRs that pertain to <code>Fuse</code> for <a href="https://github.com/rust-lang/rust/issues/85863">#85863</a></li>
</ul>



<a name="242356091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356091" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356091">(Jun 11 2021 at 14:50)</a>:</h4>
<p>great</p>



<a name="242356134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356134" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356134">(Jun 11 2021 at 14:51)</a>:</h4>
<p>I’m going to go through the mechanics of the remainder of the agenda</p>



<a name="242356163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356163" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356163">(Jun 11 2021 at 14:51)</a>:</h4>
<p>if for no other reason than to force myself to look at it</p>



<a name="242356277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356277" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356277">(Jun 11 2021 at 14:52)</a>:</h4>
<p>we had left off in the middle of the P-critical bugs</p>



<a name="242356278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356278" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356278">(Jun 11 2021 at 14:52)</a>:</h4>
<p>I think yesterday we left around the <code>t-libs-impl</code> P-critical<br>
<a href="https://hackmd.io/1NeIcqXERkug9KItmB1TwQ#P-critical">https://hackmd.io/1NeIcqXERkug9KItmB1TwQ#P-critical</a></p>



<a name="242356305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356305" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356305">(Jun 11 2021 at 14:52)</a>:</h4>
<p>right</p>



<a name="242356320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356320" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356320">(Jun 11 2021 at 14:52)</a>:</h4>
<p>specifically</p>



<a name="242356325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356325" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356325">(Jun 11 2021 at 14:52)</a>:</h4>
<p>next would be</p>



<a name="242356332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356332" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356332">(Jun 11 2021 at 14:52)</a>:</h4>
<ul>
<li>"<code>lang_start</code> in std/src/rt.rs is unsound in presence of panic payload that panics on drop" <a href="https://github.com/rust-lang/rust/issues/86030">rust#86030</a><ul>
<li>Unsoundness issue, <span class="user-mention" data-user-id="123586">@nagisa</span> opened PR <a href="https://github.com/rust-lang/rust/pull/86034">#86034</a>, waiting for review</li>
</ul>
</li>
</ul>



<a name="242356388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356388" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356388">(Jun 11 2021 at 14:53)</a>:</h4>
<p>this is not a regression, right <span class="user-mention" data-user-id="123586">@nagisa</span> ?</p>



<a name="242356416"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356416" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356416">(Jun 11 2021 at 14:53)</a>:</h4>
<p>This is not a regression, no.</p>



<a name="242356425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356425" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356425">(Jun 11 2021 at 14:53)</a>:</h4>
<p>okau</p>



<a name="242356436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356436" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356436">(Jun 11 2021 at 14:53)</a>:</h4>
<p><code>nagisa</code> said this yesterday:</p>
<blockquote>
<p>Yeah, this "UB" is fairly obscure and in some ways one we imposed upon ourselves. In practice I think the actual behaviour is mild enough that there is no need to backport any changes to fix this issue.<br>
I never beta-nominated the PR for that specific reason.</p>
</blockquote>



<a name="242356437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356437" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356437">(Jun 11 2021 at 14:53)</a>:</h4>
<p>it looks to me like you have it under control</p>



<a name="242356444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356444" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356444">(Jun 11 2021 at 14:53)</a>:</h4>
<p>sounds great, okay</p>



<a name="242356451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356451" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356451">(Jun 11 2021 at 14:53)</a>:</h4>
<p>lets keep moving</p>



<a name="242356477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356477" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356477">(Jun 11 2021 at 14:54)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc">T-rustdoc</a></p>
<ul>
<li>No <code>P-critical</code> issues for <code>T-rustdoc</code> this time.</li>
</ul>



<a name="242356510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356510" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356510">(Jun 11 2021 at 14:54)</a>:</h4>
<h3>P-high regressions</h3>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-libs+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p>
<ul>
<li>No <code>P-high</code> beta regressions this time.</li>
</ul>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-libs+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">Unassigned P-high nightly regressions</a></p>
<ul>
<li>No unassigned <code>P-high</code> nightly regressions this time.</li>
</ul>



<a name="242356522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356522" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356522">(Jun 11 2021 at 14:54)</a>:</h4>
<h2>Performance logs</h2>
<blockquote>
<p><a href="https://github.com/rust-lang/rustc-perf/blob/master/triage/2021-06-08.md">triage logs for 2021-06-08</a></p>
</blockquote>
<p>Some good improvements, and a few regressions. No large changes.</p>
<p>Triage done by <strong>@simulacrum</strong>.</p>
<p>3 Regressions, 3 Improvements, 1 Mixed<br>
1 of them in rollups</p>



<a name="242356546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356546" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356546">(Jun 11 2021 at 14:54)</a>:</h4>
<h4>Regressions</h4>
<p>Always go through the expn_that_defined query. <a href="https://github.com/rust-lang/rust/issues/86002">#86002</a></p>
<ul>
<li>Moderate regression in <a href="https://perf.rust-lang.org/compare.html?start=ac3e680193a3e11e60b07840ffb1db12793de110&amp;end=6c2dd251bbff03c7a3092d43fb5b637eca0810e3&amp;stat=instructions:u">instruction counts</a> (up to 1.6% on <code>incr-patched: println</code> builds of <code>webrender-check</code>)</li>
<li>Necessary for correctness, regresions largely limited to incremental.</li>
</ul>
<p>Add variance-related information to lifetime error messages <a href="https://github.com/rust-lang/rust/issues/85343">#85343</a></p>
<ul>
<li>Moderate regression in <a href="https://perf.rust-lang.org/compare.html?start=5b638c1d3751b7ab31cac9739add516bdf39e10a&amp;end=35fff69d043b1c0f5c29894e7f4b0da8b039c131&amp;stat=instructions:u">instruction counts</a> (up to 4.3% on <code>full</code> builds of <code>wg-grammar-check</code>)</li>
<li>Seems to potentially be necessary, but difference from PR run suggests more<br>
  can possibly be done to avoid some of the losses noted on the final merge.</li>
</ul>
<p>Revert "Merge CrateDisambiguator into StableCrateId" <a href="https://github.com/rust-lang/rust/issues/85891">#85891</a></p>
<ul>
<li>Moderate regression in <a href="https://perf.rust-lang.org/compare.html?start=022720bfccd46400e69def42f4647fe4059ad951&amp;end=2312ff1a850db449b79fd3c4b215395cd2598c25&amp;stat=instructions:u">instruction counts</a> (up to 4.9% on <code>full</code> builds of <code>html5ever-opt</code>)</li>
<li>Reverted due to performance concerns on the original PR (<a href="https://github.com/rust-lang/rust/pull/85804">#85804</a>), but does<br>
  not seem to have recovered performance. Suggested path is to re-land but with<br>
  measurements the original PR; potentially there are some performance<br>
  improvements that can be done there as well.</li>
</ul>



<a name="242356737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356737" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356737">(Jun 11 2021 at 14:56)</a>:</h4>
<h4>Improvements</h4>
<ul>
<li>Remove CrateNum::ReservedForIncrCompCache <a href="https://github.com/rust-lang/rust/issues/85829">#85829</a></li>
<li>Only compute the trait map once <a href="https://github.com/rust-lang/rust/issues/85905">#85905</a></li>
<li>Miscellaneous inlining improvements <a href="https://github.com/rust-lang/rust/issues/85892">#85892</a></li>
</ul>



<a name="242356752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356752" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356752">(Jun 11 2021 at 14:56)</a>:</h4>
<h4>Mixed</h4>
<p>Rollup of 13 pull requests <a href="https://github.com/rust-lang/rust/issues/85952">#85952</a></p>
<ul>
<li>Moderate improvement in <a href="https://perf.rust-lang.org/compare.html?start=016e9b5e33ef1407bffb575ec63d24241912556d&amp;end=a93699f20a433797a4b84787b9652300dd7b2ad2&amp;stat=instructions:u">instruction counts</a> (up to -4.8% on <code>full</code> builds of <code>html5ever-opt</code>)</li>
<li>Moderate regression in <a href="https://perf.rust-lang.org/compare.html?start=016e9b5e33ef1407bffb575ec63d24241912556d&amp;end=a93699f20a433797a4b84787b9652300dd7b2ad2&amp;stat=instructions:u">instruction counts</a> (up to 2.9% on <code>incr-patched: println</code> builds of <code>cargo-opt</code>)</li>
<li>Predominantly an improvement, some incremental regressions; does not appear<br>
  worthwhile to investigate in depth the exact cause.</li>
</ul>



<a name="242356761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356761" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356761">(Jun 11 2021 at 14:56)</a>:</h4>
<h4>Nags requiring follow up</h4>
<ul>
<li>Follow up on regression in <a href="https://github.com/rust-lang/rust/pull/85343#issuecomment-856819536">#85343</a></li>
</ul>



<a name="242356822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356822" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356822">(Jun 11 2021 at 14:57)</a>:</h4>
<h2>Nominated Issues</h2>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler">T-compiler</a></p>



<a name="242356852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356852" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356852">(Jun 11 2021 at 14:57)</a>:</h4>
<p>...</p>



<a name="242356860"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356860" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356860">(Jun 11 2021 at 14:57)</a>:</h4>
<p>I’m tempted to let the nominated issues wait until next week</p>



<a name="242356878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356878" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356878">(Jun 11 2021 at 14:57)</a>:</h4>
<p>I guess I’ll just transcribe them here</p>



<a name="242356886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356886" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356886">(Jun 11 2021 at 14:57)</a>:</h4>
<p>but leave all the nominated tags</p>



<a name="242356889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356889" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356889">(Jun 11 2021 at 14:57)</a>:</h4>
<ul>
<li>"Generate links to definition in rustdoc source code pages" <a href="https://github.com/rust-lang/rust/pull/84176">rust#84176</a><ul>
<li>opened by <span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> </li>
<li>Adds hyperlinks to navigate code in rustdoc</li>
<li>no known blockers</li>
<li>feature is <a href="https://github.com/rust-lang/rust/pull/84176#issuecomment-821026882">nightly-only and disabled by default</a></li>
<li>possibly a follow-up RFC to stabilize and enable it by default  </li>
<li>PR has been reviewed by rustdoc team though final review won't happen soon; PR author asks if <code>T-compiler</code> can greenlight merge</li>
</ul>
</li>
</ul>



<a name="242356962"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356962" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356962">(Jun 11 2021 at 14:58)</a>:</h4>
<p>(I'm here if you have questions)</p>



<a name="242356973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356973" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356973">(Jun 11 2021 at 14:58)</a>:</h4>
<p>Hey there</p>



<a name="242356984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242356984" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242356984">(Jun 11 2021 at 14:58)</a>:</h4>
<p>I do have a question</p>



<a name="242357007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357007" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357007">(Jun 11 2021 at 14:58)</a>:</h4>
<p>what does “reviewed by team but final review won’t happen soon” mean?</p>



<a name="242357032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357032" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357032">(Jun 11 2021 at 14:59)</a>:</h4>
<p>Does it mean: team members read or at least skimmed the change, but no one felt comforatble r+’ing it?</p>



<a name="242357078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357078" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357078">(Jun 11 2021 at 14:59)</a>:</h4>
<p>Kinda like that</p>



<a name="242357080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357080" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357080">(Jun 11 2021 at 14:59)</a>:</h4>
<p>Okay</p>



<a name="242357091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357091" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357091">(Jun 11 2021 at 14:59)</a>:</h4>
<p>I just wanted to understand, thanks</p>



<a name="242357133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357133" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357133">(Jun 11 2021 at 14:59)</a>:</h4>
<p>Is this something we could merge shortly after the beta is cut?</p>



<a name="242357196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357196" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357196">(Jun 11 2021 at 15:00)</a>:</h4>
<p>it is ready, it has been for months</p>



<a name="242357216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357216" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357216">(Jun 11 2021 at 15:00)</a>:</h4>
<p>it's disabled by default so no impact whatsoever</p>



<a name="242357234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357234" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357234">(Jun 11 2021 at 15:00)</a>:</h4>
<p>in other words, take the risk of landing it, but do so in a way where it will have 12 weeks to bake instead of ...</p>



<a name="242357242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357242" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357242">(Jun 11 2021 at 15:00)</a>:</h4>
<p>disabled by defualt</p>



<a name="242357277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357277" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357277">(Jun 11 2021 at 15:00)</a>:</h4>
<p>wow, so the resistance to landing is not based on changes to observable behavior</p>



<a name="242357309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357309" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357309">(Jun 11 2021 at 15:01)</a>:</h4>
<p>Is it more a question of whether the patch itself is up to the quality level you expect/desire?</p>



<a name="242357325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357325" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357325">(Jun 11 2021 at 15:01)</a>:</h4>
<p>not really either :)</p>



<a name="242357340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357340" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357340">(Jun 11 2021 at 15:01)</a>:</h4>
<p>:)</p>



<a name="242357353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357353" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357353">(Jun 11 2021 at 15:01)</a>:</h4>
<p>Is the resistance just based on fear?</p>



<a name="242357361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357361" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357361">(Jun 11 2021 at 15:01)</a>:</h4>
<p>the biggest problem is that Joshua doesn't have enough time to review it and won't before some time</p>



<a name="242357373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357373" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357373">(Jun 11 2021 at 15:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53/near/242357133">said</a>:</p>
<blockquote>
<p>Is this something we could merge shortly after the beta is cut?</p>
</blockquote>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> what would change if we push the merge slightly ?</p>



<a name="242357395"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357395" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357395">(Jun 11 2021 at 15:01)</a>:</h4>
<p>literally nothing</p>



<a name="242357544"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357544" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357544">(Jun 11 2021 at 15:02)</a>:</h4>
<p>This seems like a really cool feature ( <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span>) but also not something that we have to discuss today <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="242357548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357548" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357548">(Jun 11 2021 at 15:02)</a>:</h4>
<p>(I mean: merge after the beta cut as <span class="user-mention" data-user-id="116083">@pnkfelix</span> suggests)</p>



<a name="242357553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357553" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357553">(Jun 11 2021 at 15:02)</a>:</h4>
<p>Right</p>



<a name="242357560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357560" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357560">(Jun 11 2021 at 15:02)</a>:</h4>
<p>I was in part asking the questions</p>



<a name="242357594"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357594" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357594">(Jun 11 2021 at 15:03)</a>:</h4>
<p>because I am trying to understand places where organizatioanlly, our project is not functioning well</p>



<a name="242357611"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357611" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357611">(Jun 11 2021 at 15:03)</a>:</h4>
<p>and how we might change our own behaviors</p>



<a name="242357624"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357624" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357624">(Jun 11 2021 at 15:03)</a>:</h4>
<p>in rustdoc it's simply that members are "specialized"</p>



<a name="242357668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357668" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357668">(Jun 11 2021 at 15:03)</a>:</h4>
<p>to allow for quicker movement, e.g. being more willing to take risks, especially on things that are readily revertible.</p>



<a name="242357680"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357680" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357680">(Jun 11 2021 at 15:03)</a>:</h4>
<p>and the members who can review this change aren't available and won't be until an unknown amount of time</p>



<a name="242357688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357688" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357688">(Jun 11 2021 at 15:03)</a>:</h4>
<p>Gotcha</p>



<a name="242357694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357694" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357694">(Jun 11 2021 at 15:03)</a>:</h4>
<p>okay that is useful</p>



<a name="242357832"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357832" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357832">(Jun 11 2021 at 15:04)</a>:</h4>
<p>Okay well there were two other nominated issues</p>



<a name="242357845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357845" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357845">(Jun 11 2021 at 15:04)</a>:</h4>
<p>but we’ll get to them next week</p>



<a name="242357846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357846" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357846">(Jun 11 2021 at 15:04)</a>:</h4>
<p>:)</p>



<a name="242357868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357868" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357868">(Jun 11 2021 at 15:04)</a>:</h4>
<p>Thanks to everyone in <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> for attending!</p>



<a name="242357887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357887" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357887">(Jun 11 2021 at 15:04)</a>:</h4>
<p>One question :)</p>



<a name="242357942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357942" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357942">(Jun 11 2021 at 15:05)</a>:</h4>
<p>what is the process then on the rustdoc PR? (you said after beta but not sure what it'll imply)</p>



<a name="242357964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357964" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357964">(Jun 11 2021 at 15:05)</a>:</h4>
<p>Oh I don’t think we made a decision</p>



<a name="242357980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357980" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357980">(Jun 11 2021 at 15:05)</a>:</h4>
<p>oh ok</p>



<a name="242357987"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357987" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357987">(Jun 11 2021 at 15:05)</a>:</h4>
<p>I know what I would personally do. :)</p>



<a name="242357997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242357997" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242357997">(Jun 11 2021 at 15:05)</a>:</h4>
<p>well, ee you next week then I guess :)</p>



<a name="242358005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358005" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358005">(Jun 11 2021 at 15:05)</a>:</h4>
<p>Great</p>



<a name="242358062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358062" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358062">(Jun 11 2021 at 15:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53/near/242357987">said</a>:</p>
<blockquote>
<p>I know what I would personally do. :)</p>
</blockquote>
<p>oh? What? :)</p>



<a name="242358093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358093" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358093">(Jun 11 2021 at 15:06)</a>:</h4>
<p>I think this change sounds like it has no observable effect and would be easy to revert if it caused problems</p>



<a name="242358105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358105" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358105">(Jun 11 2021 at 15:06)</a>:</h4>
<p>and it adds a useful feature</p>



<a name="242358125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358125" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358125">(Jun 11 2021 at 15:06)</a>:</h4>
<p>I understand ideas of code ownership</p>



<a name="242358137"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358137" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358137">(Jun 11 2021 at 15:06)</a>:</h4>
<p>but I =think they are not serving us well here</p>



<a name="242358180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358180" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358180">(Jun 11 2021 at 15:07)</a>:</h4>
<p>more like no one feels confident about it enough? I'm not really sure</p>



<a name="242358189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358189" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358189">(Jun 11 2021 at 15:07)</a>:</h4>
<p>it happened a few other times too</p>



<a name="242358200"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358200" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358200">(Jun 11 2021 at 15:07)</a>:</h4>
<p>what does confidence mean here?</p>



<a name="242358215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358215" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358215">(Jun 11 2021 at 15:07)</a>:</h4>
<p>confidence about wheher it might inject hidden bugs</p>



<a name="242358226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358226" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358226">(Jun 11 2021 at 15:07)</a>:</h4>
<p>or about whether it will disrupt the architecture of rustdoc?</p>



<a name="242358248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358248" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358248">(Jun 11 2021 at 15:07)</a>:</h4>
<p>We had a lot of unforeseen issues with rustdoc we're still dealing with. I think it's because of that mostly</p>



<a name="242358255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358255" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358255">(Jun 11 2021 at 15:07)</a>:</h4>
<p>and make other changes harder?</p>



<a name="242358352"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358352" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358352">(Jun 11 2021 at 15:08)</a>:</h4>
<p>No, this change is self-contained and almost doesn't interact with the rest of the code</p>



<a name="242358386"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358386" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358386">(Jun 11 2021 at 15:08)</a>:</h4>
<p>but it remains a big PR</p>



<a name="242358418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358418" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358418">(Jun 11 2021 at 15:08)</a>:</h4>
<p>which is why we decided to disable it by default</p>



<a name="242358429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358429" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358429">(Jun 11 2021 at 15:08)</a>:</h4>
<p>right</p>



<a name="242358454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358454" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358454">(Jun 11 2021 at 15:08)</a>:</h4>
<p>so then people can test it and if issues appear, they don't impact everyone</p>



<a name="242358458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358458" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358458">(Jun 11 2021 at 15:09)</a>:</h4>
<p>I guess I’m being somewhat flippant</p>



<a name="242358540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358540" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358540">(Jun 11 2021 at 15:09)</a>:</h4>
<p>I think under our current processes, an analogously major change to rustc itself would have to go through the MCP process</p>



<a name="242358580"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358580" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358580">(Jun 11 2021 at 15:09)</a>:</h4>
<p>but after it goes some buy-in from at least one team member</p>



<a name="242358581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358581" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358581">(Jun 11 2021 at 15:09)</a>:</h4>
<p>Well, I'm really confident about it, I spent a lot of time on it and I can literally explain what each line of change does haha</p>



<a name="242358588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358588" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358588">(Jun 11 2021 at 15:09)</a>:</h4>
<p>it would be full-steam ahead</p>



<a name="242358686"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358686" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358686">(Jun 11 2021 at 15:10)</a>:</h4>
<p>i.e. to enable experimental exploration</p>



<a name="242358698"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358698" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358698">(Jun 11 2021 at 15:10)</a>:</h4>
<p>This one will need an MCP to get stabilized</p>



<a name="242358716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358716" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358716">(Jun 11 2021 at 15:10)</a>:</h4>
<p>Okay</p>



<a name="242358749"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358749" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358749">(Jun 11 2021 at 15:10)</a>:</h4>
<p>(it's unstable too, not only disabled by default)</p>



<a name="242358800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358800" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358800">(Jun 11 2021 at 15:11)</a>:</h4>
<p>maybe that’s another aspect of my questions here</p>



<a name="242358813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358813" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358813">(Jun 11 2021 at 15:11)</a>:</h4>
<p>well anyway, thanks for looking into it, we can talk about it more next week :)</p>



<a name="242358826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358826" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358826">(Jun 11 2021 at 15:11)</a>:</h4>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> you say you’ve invested time in this thing, it sounds like you understand it 100%</p>



<a name="242358853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358853" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358853">(Jun 11 2021 at 15:11)</a>:</h4>
<p>yes</p>



<a name="242358859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358859" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358859">(Jun 11 2021 at 15:11)</a>:</h4>
<p>so why don’t you have the authority to r+ it yourself, since the owner hasn’t had time?</p>



<a name="242358942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242358942" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242358942">(Jun 11 2021 at 15:11)</a>:</h4>
<p>Well, isn't it like not something to do to r+ your own PRs?</p>



<a name="242359002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242359002" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242359002">(Jun 11 2021 at 15:12)</a>:</h4>
<p>Oh of course</p>



<a name="242359012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242359012" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242359012">(Jun 11 2021 at 15:12)</a>:</h4>
<p>sorry I missed that point</p>



<a name="242359066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242359066" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242359066">(Jun 11 2021 at 15:12)</a>:</h4>
<p>Okay then</p>



<a name="242359072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242359072" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242359072">(Jun 11 2021 at 15:12)</a>:</h4>
<p>otherwise yes, I would have merged it to test more extensively with other users once I confirmed locally I didn't detect any issues</p>



<a name="242359082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242359082" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242359082">(Jun 11 2021 at 15:12)</a>:</h4>
<p>yeah you do need to get buy-in from some other team member</p>



<a name="242359106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242359106" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242359106">(Jun 11 2021 at 15:13)</a>:</h4>
<p>now I understand much better. Sorry for overlooking that first bullet in the summary</p>



<a name="242359125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242359125" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242359125">(Jun 11 2021 at 15:13)</a>:</h4>
<p>(I had thought it come from an another contributor)</p>



<a name="242359199"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242359199" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242359199">(Jun 11 2021 at 15:13)</a>:</h4>
<p>the PR itself was approved (otherwise it'd be closed/rejected), just lacking reviewers</p>



<a name="242359222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242359222" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242359222">(Jun 11 2021 at 15:14)</a>:</h4>
<p>Okay that’s the end of the meeting, thanks all for attending!</p>



<a name="242359267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242359267" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242359267">(Jun 11 2021 at 15:14)</a>:</h4>
<p>o/</p>



<a name="242359759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Badhoc%5D%202021-06-11%20unsound%20stdlib%20specialization%20and%201.53/near/242359759" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Badhoc.5D.202021-06-11.20unsound.20stdlib.20specialization.20and.201.2E53.html#242359759">(Jun 11 2021 at 15:17)</a>:</h4>
<blockquote>
<p>Q: How much perf are we talking about? – we don’t have that data</p>
</blockquote>
<p>The revert PR hasn't even received a perf.rlo run yet, that would be a good start to answer that question at least a little.<br>
It's probably just single-digit percents from those optimizations. LLVM 12 improved some pointer incrementing loops, so the optimizations might not even be as useful as they used to be.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>