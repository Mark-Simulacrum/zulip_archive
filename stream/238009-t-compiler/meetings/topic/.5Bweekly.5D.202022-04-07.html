<html>
<head><meta charset="utf-8"><title>[weekly] 2022-04-07 · t-compiler/meetings · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/index.html">t-compiler/meetings</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html">[weekly] 2022-04-07</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="278146766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278146766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278146766">(Apr 07 2022 at 11:06)</a>:</h4>
<p>Hello <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span>; triage meeting will take place in about 2h<br>
<em>WG-prioritization</em> has done pre-triage in <a class="stream" data-stream-id="245100" href="/#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts">#t-compiler/wg-prioritization/alerts</a> and prepared the <a href="https://hackmd.io/Fv3TSalbT_CYVUEonihWzg">meeting agenda</a></p>
<p>Scheduled checkins:</p>
<ul>
<li><span class="user-group-mention silent" data-user-group-id="5288">WG-polymorphization</span>  by <span class="user-mention" data-user-id="116107">@davidtwco</span> </li>
<li><span class="user-group-mention silent" data-user-group-id="1060">WG-rls2.0</span>  by <span class="user-mention" data-user-id="133169">@matklad</span></li>
</ul>



<a name="278146849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278146849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278146849">(Apr 07 2022 at 11:07)</a>:</h4>
<p>In agenda, today no new <code>P-high</code> or <code>P-critical</code> to look at therefore a couple more PRs waiting on a review/reviewer. Also, one PR <code>I-compiler-nominated</code> at the end.</p>



<a name="278146882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278146882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278146882">(Apr 07 2022 at 11:07)</a>:</h4>
<p>(btw if it's fine, I am not bringing already discussed P-high/P-critical issues back unless I notice they don't show progress for a while)</p>



<a name="278168117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168117" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168117">(Apr 07 2022 at 14:01)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> , its time for our weekly triage meeting. Click the <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> to show you're here!</p>



<a name="278168160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168160">(Apr 07 2022 at 14:01)</a>:</h4>
<p>We'll start off with ~6 minutes for announcements</p>



<a name="278168261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168261" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168261">(Apr 07 2022 at 14:02)</a>:</h4>
<ul>
<li>Tomorrow <time datetime="2022-04-08T11:00:00Z">2022-04-08T13:00:00+02:00</time> Types Team: Planning/Deep-Dive meeting <a href="https://calendar.google.com/calendar/event?eid=M3JsYmdkN2F0cjdtYXE0Z2ljYzM4Nm42NTRfMjAyMjA0MDFUMTMwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn&amp;ctz=GMT+02:00">calendar link</a></li>
</ul>



<a name="278168282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168282">(Apr 07 2022 at 14:02)</a>:</h4>
<ul>
<li>Tomorrow <time datetime="2022-04-08T12:00:00Z">2022-04-08T14:00:00+02:00</time> Compiler Team Planning meeting <a href="https://calendar.google.com/calendar/event?eid=MDJyYnJ1cGFtdWR1c2lnNjFmcHJ2b3JlODFfMjAyMjA0MDhUMTQwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn&amp;ctz=GMT+02:00">calendar link</a></li>
</ul>



<a name="278168313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168313" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168313">(Apr 07 2022 at 14:02)</a>:</h4>
<ul>
<li><span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> Today new Rust Release: 1.60 (<a href="https://github.com/rust-lang/blog.rust-lang.org/blob/5f778be1d744787933faa9bf44d9d97d06b78c04/posts/2022-04-07-Rust-1.60.0.md">blog post</a>)</li>
</ul>



<a name="278168328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168328">(Apr 07 2022 at 14:02)</a>:</h4>
<ul>
<li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copyright/IP/etc, please let the Core team know (or at least message <span class="user-mention silent" data-user-id="116083">pnkfelix</span> or <span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> so we can pass it along).</li>
</ul>



<a name="278168456"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168456" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168456">(Apr 07 2022 at 14:03)</a>:</h4>
<h2>MCPs/FCPs</h2>
<ul>
<li>New MCPs (take a look, see if you like them!)<ul>
<li>"Add -Zlazily-normalize-type-aliases to keep type alias information" <a href="https://github.com/rust-lang/compiler-team/issues/504">compiler-team#504</a> </li>
<li>"try to not rely on attributes from extern crates" <a href="https://github.com/rust-lang/compiler-team/issues/505">compiler-team#505</a></li>
</ul>
</li>
</ul>



<a name="278168473"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168473" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168473">(Apr 07 2022 at 14:03)</a>:</h4>
<ul>
<li>Old MCPs (not seconded, take a look)<ul>
<li>"Accept <code>pc</code> in place of <code>unknown</code> and <code>unknown</code> in place of <code>pc</code> for <code>x86_64</code> and <code>i?86</code> targets" <a href="https://github.com/rust-lang/compiler-team/issues/441">compiler-team#441</a> (last review activity: 9 months ago)</li>
<li>"Make <code>-Z binary-dep-depinfo</code> the default behavior" <a href="https://github.com/rust-lang/compiler-team/issues/464">compiler-team#464</a> (last review activity: 6 months ago)</li>
<li>"Tier 3 target proposal: riscv64gc-linux-android (Android target for <code>riscv64gc</code>)" <a href="https://github.com/rust-lang/compiler-team/issues/472">compiler-team#472</a> (last review activity: 3 months ago)</li>
<li>"<code>-Dwarnings</code> to cover all warnings" <a href="https://github.com/rust-lang/compiler-team/issues/473">compiler-team#473</a> (last review activity: 3 months ago)</li>
<li>"Build-time execution sandboxing" <a href="https://github.com/rust-lang/compiler-team/issues/475">compiler-team#475</a> (last review activity: 3 months ago)</li>
<li>"Dealing with type/const ambiguities" <a href="https://github.com/rust-lang/compiler-team/issues/480">compiler-team#480</a> (last review activity: 2 months ago)</li>
<li>"Removing codegen logic for <code>nvptx-nvidia-cuda</code> (32-bit target)" <a href="https://github.com/rust-lang/compiler-team/issues/496">compiler-team#496</a> (last review activity: about 19 days ago)</li>
<li>"Add <code>yeet</code> experimentally" <a href="https://github.com/rust-lang/compiler-team/issues/501">compiler-team#501</a> (last review activity: about 6 days ago)</li>
</ul>
</li>
</ul>



<a name="278168558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168558">(Apr 07 2022 at 14:04)</a>:</h4>
<ul>
<li>Pending FCP requests (check your boxes!)<ul>
<li>"Tracking issue for Consistent no-prelude attribute (RFC 501)" <a href="https://github.com/rust-lang/rust/pull/95026#issuecomment-1077855006">rust#20561</a> </li>
<li>"Tracking Issue for <code>-Z terminal-width</code>" <a href="https://github.com/rust-lang/rust/issues/84673#issuecomment-1087141663">rust#84673</a> </li>
<li>"Increase the minimum linux-gnu versions" <a href="https://github.com/rust-lang/rust/pull/95026#issuecomment-1077855006">rust#95026</a></li>
</ul>
</li>
</ul>



<a name="278168735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168735">(Apr 07 2022 at 14:05)</a>:</h4>
<p>There's some useful discussion in the comment thread for <a href="https://github.com/rust-lang/rust/issues/95026">rust#95026</a>, by the way</p>



<a name="278168868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168868" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168868">(Apr 07 2022 at 14:06)</a>:</h4>
<p>(Its not an easy decision to make, in terms of trying to ensure new versions of Rust remain an option to people who are relying on it who may be tied to older versions of Linux.)</p>



<a name="278168909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168909">(Apr 07 2022 at 14:06)</a>:</h4>
<ul>
<li>Things in FCP (make sure you're good with it)<ul>
<li>"Add support for MIR opt unit tests via a new <code>-Z</code> flag" <a href="https://github.com/rust-lang/compiler-team/issues/502">compiler-team#502</a> </li>
<li>"Remove -Zast-json" <a href="https://github.com/rust-lang/compiler-team/issues/503">compiler-team#503</a></li>
</ul>
</li>
</ul>



<a name="278168942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168942" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168942">(Apr 07 2022 at 14:07)</a>:</h4>
<ul>
<li>Accepted MCPs<ul>
<li>"Promote <code>x86_64-unknown-none</code> to Tier 2" <a href="https://github.com/rust-lang/compiler-team/issues/499">compiler-team#499</a></li>
</ul>
</li>
</ul>



<a name="278168950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168950" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168950">(Apr 07 2022 at 14:07)</a>:</h4>
<ul>
<li>Finalized FCPs (disposition merge)<ul>
<li>"Fix constants not getting dropped if part of a diverging expression" <a href="https://github.com/rust-lang/rust/pull/94775">rust#94775</a></li>
</ul>
</li>
</ul>



<a name="278168962"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168962" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168962">(Apr 07 2022 at 14:07)</a>:</h4>
<h3>WG checkins</h3>



<a name="278168971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168971">(Apr 07 2022 at 14:07)</a>:</h4>
<ul>
<li>@_<em>wg-polymorphization</em> by <span class="user-mention" data-user-id="116107">@davidtwco</span> (<a href="https://hackmd.io/PPMtXP7hSqmyqD30CUw_cQ#WG-checkins">previous checkin</a>):<blockquote>
<p>No major updates from polymorphization this cycle - team members are prioritizing other projects. Fixing the primary bug related to <code>TypeId</code> is still the current priority, lcnr has a fix but we're working out some complications with that fix.</p>
</blockquote>
</li>
</ul>



<a name="278168999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278168999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278168999">(Apr 07 2022 at 14:07)</a>:</h4>
<ul>
<li><span class="user-group-mention silent" data-user-group-id="1060">WG-rls2.0</span> by @<strong>veykril</strong> (<a href="https://hackmd.io/N_WW5tZqTLWouaed6cCjxg#WG-checkins">previous checkin</a>):<blockquote>
<p>We have switched from our decorator hacks to VSCode's native inlay hints in the client. Aside from that we started talking to the relevant teams to move the rust-analyzer repo into the rust-lang org and figure out what to do about the VSCode extensions.</p>
</blockquote>
</li>
</ul>



<a name="278169026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278169026" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278169026">(Apr 07 2022 at 14:07)</a>:</h4>
<h2>Backport nominations</h2>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler beta</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler stable</a></p>



<a name="278169055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278169055" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278169055">(Apr 07 2022 at 14:08)</a>:</h4>
<ul>
<li><img alt=":beta:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/4715/emoji/images/20717.png" title="beta"> "Check that all hidden types are the same and then deduplicate them." <a href="https://github.com/rust-lang/rust/pull/95731">rust#95731</a> <ul>
<li>Fixes <a href="https://github.com/rust-lang/rust/issues/95538">rust#95538</a>, a regression in a recent nightly (labeled <code>P-medium</code>)</li>
<li>patch authored and beta-backport nominated by <span class="user-mention" data-user-id="124288">@oli</span></li>
</ul>
</li>
</ul>



<a name="278169225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278169225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278169225">(Apr 07 2022 at 14:09)</a>:</h4>
<p>hmm. So, Rust 1.60 is coming out today. <a href="https://github.com/rust-lang/rust/issues/95538">rust#95538</a> is affecting the 1.61-beta</p>



<a name="278169450"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278169450" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278169450">(Apr 07 2022 at 14:10)</a>:</h4>
<p>sorry I think my brain is having an internal fence post error</p>



<a name="278169507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278169507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278169507">(Apr 07 2022 at 14:11)</a>:</h4>
<p>the issue, I think, is that the nightly-to-beta promotion already happened, is that right?</p>



<a name="278169523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278169523" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278169523">(Apr 07 2022 at 14:11)</a>:</h4>
<p>let me just go look</p>



<a name="278169641"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278169641" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278169641">(Apr 07 2022 at 14:12)</a>:</h4>
<p>Yeah okay</p>



<a name="278169645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278169645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278169645">(Apr 07 2022 at 14:12)</a>:</h4>
<p>According to the label, this pr lands on 1.62</p>



<a name="278169672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278169672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278169672">(Apr 07 2022 at 14:12)</a>:</h4>
<p>Yeah, this is broken in 1.61 (now beta) and the PR landed in 1.62 (now nightly) so beta backport is being requested.</p>



<a name="278169684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278169684" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278169684">(Apr 07 2022 at 14:12)</a>:</h4>
<p>Yeah, I think I just need to revist the open action item to revise our labelling system</p>



<a name="278169748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278169748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278169748">(Apr 07 2022 at 14:13)</a>:</h4>
<p>because I at least feel like I'm always nervous about the correct interpretation of the labels right around release/channel-promotion time</p>



<a name="278169882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278169882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278169882">(Apr 07 2022 at 14:14)</a>:</h4>
<p>This hasn't gotten the perf results back yet</p>



<a name="278169930"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278169930" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278169930">(Apr 07 2022 at 14:14)</a>:</h4>
<p>I think I want to see those first</p>



<a name="278169952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278169952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278169952">(Apr 07 2022 at 14:14)</a>:</h4>
<p>So maybe lets wait until next week to decide here?</p>



<a name="278170027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170027">(Apr 07 2022 at 14:15)</a>:</h4>
<p>(it only landed 15 hours ago)</p>



<a name="278170057"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170057" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170057">(Apr 07 2022 at 14:15)</a>:</h4>
<p>next</p>



<a name="278170069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170069">(Apr 07 2022 at 14:15)</a>:</h4>
<ul>
<li>No stable nominations for <code>T-compiler</code> this time.</li>
</ul>



<a name="278170086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170086" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170086">(Apr 07 2022 at 14:15)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc">T-rustdoc beta</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc">T-rustdoc stable</a></p>
<ul>
<li>No backport nominations for <code>T-rustdoc</code> this time.</li>
</ul>



<a name="278170110"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170110" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170110">(Apr 07 2022 at 14:15)</a>:</h4>
<h2>PRs S-waiting-on-team</h2>
<p><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p>
<ul>
<li>No PRs waiting on <code>T-compiler</code> this time.</li>
</ul>



<a name="278170123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170123">(Apr 07 2022 at 14:15)</a>:</h4>
<h2>Oldest PRs waiting for review</h2>
<p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler+-label%3AT-lang+-label%3AT-infra+-label%3AT-release+-label%3AT-libs+-label%3AT-libs-api">T-compiler</a></p>



<a name="278170180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170180" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170180">(Apr 07 2022 at 14:16)</a>:</h4>
<ul>
<li>"rustc_apfloat: Double::mul_add_r panic with specific values" <a href="https://github.com/rust-lang/rust/pull/93225">rust#93225</a> (last review activity: about 33 days ago)<ul>
<li>did <span class="user-mention" data-user-id="116083">@pnkfelix</span> <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> had a chance to discuss about this issue? <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-03-10.20.2354818/near/274855441">zulip comment</a> from past meeting.</li>
</ul>
</li>
</ul>



<a name="278170276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170276" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170276">(Apr 07 2022 at 14:16)</a>:</h4>
<p>the comment from last meeting indicates we were going to circle back with the author about this, no?</p>



<a name="278170308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170308">(Apr 07 2022 at 14:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-03-10.20.2354818/near/274855448">said</a>:</p>
<blockquote>
<p>This (<a href="https://github.com/rust-lang/rust/issues/47384">#47384</a>) was nominated on 1-22 and much has happened since then. I think we should consider clearing the nomination flag and asking the person who tagged if they feel there is more that needs to be discussed.</p>
</blockquote>



<a name="278170346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170346" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170346">(Apr 07 2022 at 14:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278170276">said</a>:</p>
<blockquote>
<p>the comment from last meeting indicates we were going to circle back with the author about this, no?</p>
</blockquote>
<p>I think so, yes, this was my understanding</p>



<a name="278170350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170350" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170350">(Apr 07 2022 at 14:17)</a>:</h4>
<p>That's a different PR.</p>



<a name="278170406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170406">(Apr 07 2022 at 14:17)</a>:</h4>
<p>oops, you are correct, I was wrong</p>



<a name="278170493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170493" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170493">(Apr 07 2022 at 14:18)</a>:</h4>
<p>oh right, this is the licensing concerns thing</p>



<a name="278170501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170501" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170501">(Apr 07 2022 at 14:18)</a>:</h4>
<p>Felix and I did talk and IIRC the outcome is that we need to follow up with the Core team and/or the Foundation to better understand what the licensing issues are with regards to rustc_apfloat.</p>



<a name="278170510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170510">(Apr 07 2022 at 14:18)</a>:</h4>
<p>Wesley you and I did briefly touch on this, right</p>



<a name="278170625"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170625" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170625">(Apr 07 2022 at 14:18)</a>:</h4>
<p>I'll take action item to follow up there</p>



<a name="278170634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170634" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170634">(Apr 07 2022 at 14:18)</a>:</h4>
<p>Do we want to write our own?</p>



<a name="278170686"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170686" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170686">(Apr 07 2022 at 14:19)</a>:</h4>
<p>Seems like an interesting challenge, that.</p>



<a name="278170755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170755" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170755">(Apr 07 2022 at 14:19)</a>:</h4>
<p>We kind of did but it's a port of LLVM's and the licensing situation is very unclear.</p>



<a name="278170861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170861">(Apr 07 2022 at 14:20)</a>:</h4>
<p>Right, I meant write our own, not port somebody else's ^^ But yeah, sounds like figuring out the license is in order.</p>



<a name="278170871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170871" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170871">(Apr 07 2022 at 14:20)</a>:</h4>
<p>Certainly our own cleanroom impl would be one way to address this, but I don't know anything about this topic</p>



<a name="278170896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170896" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170896">(Apr 07 2022 at 14:20)</a>:</h4>
<p>in terms of how hard it would be to do a cleanroom impl</p>



<a name="278170934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170934" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170934">(Apr 07 2022 at 14:20)</a>:</h4>
<p>Anyway I will follow-up and see if I can get proper resources to untangle the licensing concerns here</p>



<a name="278170946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170946" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170946">(Apr 07 2022 at 14:21)</a>:</h4>
<p>next</p>



<a name="278170949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170949" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170949">(Apr 07 2022 at 14:21)</a>:</h4>
<ul>
<li>"Suggest dereferencing non-lval mutable reference on assignment" <a href="https://github.com/rust-lang/rust/pull/94639">rust#94639</a> (last review activity: about 32 days ago)<ul>
<li>PR author recently pinged for a review</li>
<li>then rustbot assigned to <span class="user-mention" data-user-id="125250">@Wesley Wiser</span></li>
</ul>
</li>
</ul>



<a name="278170988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170988">(Apr 07 2022 at 14:21)</a>:</h4>
<p>I uh just reviewed it <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="278170991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278170991" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278170991">(Apr 07 2022 at 14:21)</a>:</h4>
<p>Looks like <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> is following up on this as we speak. :)</p>



<a name="278171009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171009">(Apr 07 2022 at 14:21)</a>:</h4>
<ul>
<li>"Imrpove E0617" <a href="https://github.com/rust-lang/rust/pull/94637">rust#94637</a> (last review activity: about 32 days ago)<ul>
<li>rustbot assigned to <span class="user-mention" data-user-id="116118">@Matthew Jasper</span>, reroll dice?</li>
</ul>
</li>
</ul>



<a name="278171037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171037">(Apr 07 2022 at 14:22)</a>:</h4>
<p>(do we need to take <span class="user-mention" data-user-id="116118">@Matthew Jasper</span> out of the review dice roller?)</p>



<a name="278171101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171101" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171101">(Apr 07 2022 at 14:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278171037">said</a>:</p>
<blockquote>
<p>(do we need to take <span class="user-mention silent" data-user-id="116118">Matthew Jasper</span> out of the review dice roller?)</p>
</blockquote>
<p>probably</p>



<a name="278171103"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171103" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171103">(Apr 07 2022 at 14:22)</a>:</h4>
<p>oh its closed anyway</p>



<a name="278171104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171104" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171104">(Apr 07 2022 at 14:22)</a>:</h4>
<p>hmm</p>



<a name="278171123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171123">(Apr 07 2022 at 14:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116118">Matthew Jasper</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278171101">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278171037">said</a>:</p>
<blockquote>
<p>(do we need to take <span class="user-mention silent" data-user-id="116118">Matthew Jasper</span> out of the review dice roller?)</p>
</blockquote>
<p>probably</p>
</blockquote>
<p>Okay I can follow up on that, thanks <span class="user-mention" data-user-id="116118">@Matthew Jasper</span></p>



<a name="278171203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171203" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171203">(Apr 07 2022 at 14:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278171103">said</a>:</p>
<blockquote>
<p>oh its closed anyway</p>
</blockquote>
<p>weird</p>



<a name="278171220"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171220" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171220">(Apr 07 2022 at 14:23)</a>:</h4>
<ul>
<li>"Parse inner attributes on inline const block" <a href="https://github.com/rust-lang/rust/pull/94985">rust#94985</a> (last review activity: about 21 days ago)<ul>
<li><span class="user-mention" data-user-id="124287">@mw</span> suggested <span class="user-mention" data-user-id="116083">@pnkfelix</span> as reviewer</li>
</ul>
</li>
</ul>



<a name="278171230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171230">(Apr 07 2022 at 14:23)</a>:</h4>
<p>I'll take care of this</p>



<a name="278171285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171285" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171285">(Apr 07 2022 at 14:23)</a>:</h4>
<p>sorry that I haven't been checking that queue enough on my end</p>



<a name="278171372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171372" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171372">(Apr 07 2022 at 14:24)</a>:</h4>
<ul>
<li>"Fix codegen bug in "ptx-kernel" abi related to arg passing" <a href="https://github.com/rust-lang/rust/pull/94703">rust#94703</a> (last review activity: about 19 days ago)<ul>
<li><span class="user-mention" data-user-id="116107">@davidtwco</span> approved the changes (<a href="https://github.com/rust-lang/rust/pull/94703#pullrequestreview-914020422">comment</a>) </li>
<li>previous review also by <span class="user-mention" data-user-id="133247">@bjorn3</span> </li>
<li>PR needs another reviewer</li>
</ul>
</li>
</ul>



<a name="278171524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171524">(Apr 07 2022 at 14:25)</a>:</h4>
<p>I wonder if we could get some support from NVidia on this kind of work...</p>



<a name="278171592"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171592" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171592">(Apr 07 2022 at 14:25)</a>:</h4>
<p>though of course you cannot just plug in random engineer for review work</p>



<a name="278171668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171668" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171668">(Apr 07 2022 at 14:26)</a>:</h4>
<p>(I was thinking more in terms of people who could help the existing reviewers with any questions that come up...)</p>



<a name="278171768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171768" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171768">(Apr 07 2022 at 14:27)</a>:</h4>
<p>In any case, ptx is what, Tier 3?</p>



<a name="278171853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171853">(Apr 07 2022 at 14:27)</a>:</h4>
<p>Maybe we can post on Inside Rust with a request for contacts who might be willing to help maintain that target?</p>



<a name="278171956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171956" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171956">(Apr 07 2022 at 14:28)</a>:</h4>
<p>My take on targets such as these is that whoever deals with the target knows best.</p>



<a name="278171958"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278171958" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278171958">(Apr 07 2022 at 14:28)</a>:</h4>
<p>Yeah maybe</p>



<a name="278172004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172004" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172004">(Apr 07 2022 at 14:28)</a>:</h4>
<p>Getting nvidia to work on anything opensource is a stretch.</p>



<a name="278172032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172032">(Apr 07 2022 at 14:28)</a>:</h4>
<p>So the question is: How much of a burden of understanding the code do we put on reviewers then?</p>



<a name="278172085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172085">(Apr 07 2022 at 14:29)</a>:</h4>
<p>The problem with this approach is that we don't have documented maintainers for various targets that were added before the target policy was introduced.</p>



<a name="278172108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172108" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172108">(Apr 07 2022 at 14:29)</a>:</h4>
<p>yeah</p>



<a name="278172146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172146">(Apr 07 2022 at 14:29)</a>:</h4>
<p>oaky well, with respect to <em>this</em> PR, <span class="user-mention" data-user-id="116107">@davidtwco</span> is looking for a second opinion</p>



<a name="278172165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172165">(Apr 07 2022 at 14:29)</a>:</h4>
<p>There are two ways we can approach this – either rope people who work on these targets today into it somehow; or try to find people who added the target initially.</p>



<a name="278172215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172215" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172215">(Apr 07 2022 at 14:30)</a>:</h4>
<p>I can give it a look, sure.</p>



<a name="278172274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172274">(Apr 07 2022 at 14:30)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="123586">@nagisa</span></p>



<a name="278172293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172293">(Apr 07 2022 at 14:30)</a>:</h4>
<p>and you are right, we <em>should</em> go through our backlog of targets</p>



<a name="278172312"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172312" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172312">(Apr 07 2022 at 14:30)</a>:</h4>
<p>and figure out how to make them properly match the newly established policy</p>



<a name="278172362"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172362" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172362">(Apr 07 2022 at 14:31)</a>:</h4>
<p>(maybe a steering meeting proposal is hidden there!)</p>



<a name="278172374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172374" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172374">(Apr 07 2022 at 14:31)</a>:</h4>
<p>(hint hint hint)</p>



<a name="278172400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172400">(Apr 07 2022 at 14:31)</a>:</h4>
<p>Not that it would be used here, but do we have a demotion policy?</p>



<a name="278172425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172425" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172425">(Apr 07 2022 at 14:31)</a>:</h4>
<p>I vaguely recall there being one in the target-tier policy</p>



<a name="278172473"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172473" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172473">(Apr 07 2022 at 14:32)</a>:</h4>
<p>but I'd have to go re-read that to me sure</p>



<a name="278172513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172513" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172513">(Apr 07 2022 at 14:32)</a>:</h4>
<ul>
<li>"Make AST-&gt;HIR lowering incremental" <a href="https://github.com/rust-lang/rust/pull/88186">rust#88186</a> (last review activity: about 16 days ago)<ul>
<li>This depends now on <a href="https://github.com/rust-lang/rust/pull/95573">rust#95573</a></li>
<li>Author of <a href="https://github.com/rust-lang/rust/issues/95573">#95573</a>, asked <span class="user-mention" data-user-id="124287">@mw</span> for a review</li>
</ul>
</li>
</ul>



<a name="278172676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172676">(Apr 07 2022 at 14:33)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/95573">#95573</a> will be a replacement for <a href="https://github.com/rust-lang/rust/issues/88186">#88186</a>, I think. It's in my queue</p>



<a name="278172689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172689">(Apr 07 2022 at 14:33)</a>:</h4>
<p>hey <span class="user-mention" data-user-id="124288">@oli</span> didn't you mentioned to me that you've been working closely with <span class="user-mention" data-user-id="248906">@cjgillot</span> in this space? Maybe <span class="user-mention" data-user-id="124288">@oli</span> would be good to review this...</p>



<a name="278172786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172786" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172786">(Apr 07 2022 at 14:34)</a>:</h4>
<p>okay, sounds good <span class="user-mention" data-user-id="124287">@mw</span> . maybe close <a href="https://github.com/rust-lang/rust/issues/88186">#88186</a> then, or get it out of S-waiting-on-review state in any case</p>



<a name="278172805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172805">(Apr 07 2022 at 14:34)</a>:</h4>
<ul>
<li>"Add known-bug for <a href="https://github.com/rust-lang/rust/issues/95034">#95034</a>" <a href="https://github.com/rust-lang/rust/pull/95102">rust#95102</a> (last review activity: about 13 days ago)<ul>
<li>This just adds some tests for regression <a href="https://github.com/rust-lang/rust/issues/95034">rust#95034</a></li>
<li><span class="user-mention" data-user-id="232957">@Jack Huey</span> already contributed some thoughts</li>
<li>maybe worth an expedit review?</li>
</ul>
</li>
</ul>



<a name="278172862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172862">(Apr 07 2022 at 14:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278172786">said</a>:</p>
<blockquote>
<p>okay, sounds good <span class="user-mention silent" data-user-id="124287">mw</span> . maybe close <a href="https://github.com/rust-lang/rust/issues/88186">#88186</a> then, or get it out of S-waiting-on-review state in any case</p>
</blockquote>
<p>yeah, we could move it to "blocked" for the time being</p>



<a name="278172904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172904">(Apr 07 2022 at 14:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278172805">said</a>:</p>
<blockquote>
<ul>
<li>"Add known-bug for <a href="https://github.com/rust-lang/rust/issues/95034">#95034</a>" <a href="https://github.com/rust-lang/rust/pull/95102">rust#95102</a> (last review activity: about 13 days ago)<ul>
<li>This just adds some tests for regression <a href="https://github.com/rust-lang/rust/issues/95034">rust#95034</a></li>
<li><span class="user-mention silent" data-user-id="232957">Jack Huey</span> already contributed some thoughts</li>
<li>maybe worth an expedit review?</li>
</ul>
</li>
</ul>
</blockquote>
<p>more than thoughts, <span class="user-mention" data-user-id="232957">@Jack Huey</span> outright r+'ed it</p>



<a name="278172943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172943">(Apr 07 2022 at 14:35)</a>:</h4>
<p>Yeah, should just be r+ed again</p>



<a name="278172944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172944" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172944">(Apr 07 2022 at 14:35)</a>:</h4>
<p>so I'll just r=jhuey it</p>



<a name="278172954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278172954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278172954">(Apr 07 2022 at 14:35)</a>:</h4>
<p>Thanks</p>



<a name="278173034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173034" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173034">(Apr 07 2022 at 14:36)</a>:</h4>
<p>okay next</p>



<a name="278173057"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173057" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173057">(Apr 07 2022 at 14:36)</a>:</h4>
<h2>Issues of Note</h2>
<h3>Short Summary</h3>
<ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">1 T-compiler P-critical issues</a><ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">0 of those are unassigned</a></li>
</ul>
</li>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">59 T-compiler P-high issues</a><ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">45 of those are unassigned</a></li>
</ul>
</li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta">0 P-critical, 1 P-high, 0 P-medium, 2 P-low regression-from-stable-to-beta</a></li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly">0 P-critical, 0 P-high, 1 P-medium, 0 P-low regression-from-stable-to-nightly</a></li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable">1 P-critical, 38 P-high, 82 P-medium, 10 P-low regression-from-stable-to-stable</a></li>
</ul>



<a name="278173077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173077" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173077">(Apr 07 2022 at 14:36)</a>:</h4>
<h3>P-critical</h3>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p>
<ul>
<li>No new <code>P-critical</code> issues for <code>T-compiler</code> this time.</li>
</ul>



<a name="278173095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173095" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173095">(Apr 07 2022 at 14:36)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc">T-rustdoc</a></p>
<ul>
<li>No <code>P-critical</code> issues for <code>T-rustdoc</code> this time.</li>
</ul>



<a name="278173106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173106" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173106">(Apr 07 2022 at 14:36)</a>:</h4>
<h3>P-high regressions</h3>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p>
<ul>
<li>No <code>P-high</code> beta regressions this time.</li>
</ul>



<a name="278173122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173122" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173122">(Apr 07 2022 at 14:36)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">Unassigned P-high nightly regressions</a></p>
<ul>
<li>No unassigned <code>P-high</code> nightly regressions this time.</li>
</ul>



<a name="278173142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173142" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173142">(Apr 07 2022 at 14:36)</a>:</h4>
<h2>Performance logs</h2>
<blockquote>
<p><a href="https://github.com/rust-lang/rustc-perf/tree/master/triage#triage-logs">triage logs</a></p>
</blockquote>



<a name="278173193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173193" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173193">(Apr 07 2022 at 14:37)</a>:</h4>
<p>we've got time so I'll transcribe them</p>



<a name="278173209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173209" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173209">(Apr 07 2022 at 14:37)</a>:</h4>
<h1>2022-04-05 Triage Log</h1>
<p>A somewhat quiet week with only a few improvements and regressions, but with improvements ever so slightly edging out regressions. The biggest regression was in a rollup which makes investigation difficult though it looks like its in trait resolution which impacts crates that do a lot of that such as diesel. The biggest improvement comes from work done by the performance team (more specifically @nnethercote) to improve <code>macro_rules</code> parsing which can lead to sizeable performance gains for crates using the <a href="https://danielkeep.github.io/tlborm/book/pat-incremental-tt-munchers.html">"token munching"</a> pattern in <code>macro_rules</code>.</p>
<p>Triage done by <strong>@rylev</strong>.<br>
Revision range: <a href="https://perf.rust-lang.org/?start=3e7514670db841a7f0d7656f3b13b1c8b2c11599&amp;end=949b98cab8a186b98bf87e64374b8d0848c55271&amp;absolute=false&amp;stat=instructions%3Au">3e7514670db841a7f0d7656f3b13b1c8b2c11599..949b98cab8a186b98bf87e64374b8d0848c55271</a></p>
<p>2 Regressions, 2 Improvements, 1 Mixed; 2 of them in rollups<br>
37 comparisons made in total</p>



<a name="278173248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173248" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173248">(Apr 07 2022 at 14:37)</a>:</h4>
<h4>Regressions</h4>
<p>Make lowering pull-based <a href="https://github.com/rust-lang/rust/pull/90204">#90204</a> <a href="https://perf.rust-lang.org/compare.html?start=03314912f1361af6b39383958b5aa1b4aed61c26&amp;end=bd1a8692f6260fd59dba1e0fa187092a1c354b2e&amp;stat=instructions:u">(Comparison Link)</a></p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">Regressions <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> &lt;br /&gt;(primary)</th>
<th align="center">Regressions <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> &lt;br /&gt;(secondary)</th>
<th align="center">Improvements <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(primary)</th>
<th align="center">Improvements <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(secondary)</th>
<th align="center">All <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(primary)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">count</td>
<td align="center">2</td>
<td align="center">33</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">mean</td>
<td align="center">0.3%</td>
<td align="center">0.7%</td>
<td align="center">N/A</td>
<td align="center">N/A</td>
<td align="center">0.3%</td>
</tr>
<tr>
<td align="center">max</td>
<td align="center">0.4%</td>
<td align="center">1.7%</td>
<td align="center">N/A</td>
<td align="center">N/A</td>
<td align="center">0.4%</td>
</tr>
</tbody>
</table>
<ul>
<li>This is necessary for unlocking incremental lowering. <a href="https://github.com/rust-lang/rust/pull/90204#pullrequestreview-878629128">It was justified as acceptable</a> since the performance will hopefully be won back (in the incremental case) when lowering is made incremental and the impact on real world crates is pretty small (only 2 regressions at an average of 0.3%).</li>
</ul>
<p>Rollup of 7 pull requests <a href="https://github.com/rust-lang/rust/pull/95662">#95662</a> <a href="https://perf.rust-lang.org/compare.html?start=60e50fc1cfe0bb693a5f4f93eb83ef70854531e3&amp;end=a22cf2af0510b3ec4cbb19c3de11d3d8291349d9&amp;stat=instructions:u">(Comparison Link)</a></p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">Regressions <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> &lt;br /&gt;(primary)</th>
<th align="center">Regressions <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> &lt;br /&gt;(secondary)</th>
<th align="center">Improvements <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(primary)</th>
<th align="center">Improvements <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(secondary)</th>
<th align="center">All <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(primary)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">count</td>
<td align="center">20</td>
<td align="center">13</td>
<td align="center">0</td>
<td align="center">6</td>
<td align="center">20</td>
</tr>
<tr>
<td align="center">mean</td>
<td align="center">0.8%</td>
<td align="center">0.4%</td>
<td align="center">N/A</td>
<td align="center">-0.4%</td>
<td align="center">0.8%</td>
</tr>
<tr>
<td align="center">max</td>
<td align="center">2.0%</td>
<td align="center">0.7%</td>
<td align="center">N/A</td>
<td align="center">-0.5%</td>
<td align="center">2.0%</td>
</tr>
</tbody>
</table>
<ul>
<li>It's not clear what the underlying cause could be as it seems that the issues are coming in trait selection and there are several PRs that touch trait selection (albeit for diagnostics purposes). I've left <a href="https://github.com/rust-lang/rust/pull/95662#issuecomment-1088686029">a comment</a> to see if we can investigate further.</li>
</ul>



<a name="278173268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173268">(Apr 07 2022 at 14:37)</a>:</h4>
<p>AAAhhh,</p>



<a name="278173335"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173335" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173335">(Apr 07 2022 at 14:38)</a>:</h4>
<p>the table format isn't compatible with <del>zoom</del> zulip!</p>



<a name="278173395"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173395" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173395">(Apr 07 2022 at 14:38)</a>:</h4>
<p>okay, just needed some line breaks</p>



<a name="278173434"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173434" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173434">(Apr 07 2022 at 14:38)</a>:</h4>
<h4>Improvements</h4>
<p>Yet more <code>parse_tt</code> improvements <a href="https://github.com/rust-lang/rust/pull/95425">#95425</a> <a href="https://perf.rust-lang.org/compare.html?start=bb5c437a2ce9ccf2204c974300c5ea9eb32d3635&amp;end=c5cf08d37b85f953b132951e868df5b924250fdc&amp;stat=instructions:u">(Comparison Link)</a></p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">Regressions <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> &lt;br /&gt;(primary)</th>
<th align="center">Regressions <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> &lt;br /&gt;(secondary)</th>
<th align="center">Improvements <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(primary)</th>
<th align="center">Improvements <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(secondary)</th>
<th align="center">All <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(primary)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">count</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">30</td>
<td align="center">23</td>
<td align="center">31</td>
</tr>
<tr>
<td align="center">mean</td>
<td align="center">0.3%</td>
<td align="center">N/A</td>
<td align="center">-0.9%</td>
<td align="center">-2.0%</td>
<td align="center">-0.9%</td>
</tr>
<tr>
<td align="center">max</td>
<td align="center">0.3%</td>
<td align="center">N/A</td>
<td align="center">-2.3%</td>
<td align="center">-6.2%</td>
<td align="center">-2.3%</td>
</tr>
</tbody>
</table>
<p>Add debug assertions to some unsafe functions <a href="https://github.com/rust-lang/rust/pull/92686">#92686</a> <a href="https://perf.rust-lang.org/compare.html?start=15a242a432c9c40a60def102209a5d40900b7b9d&amp;end=168a0209002fef203e83989ff641c1b3e1a51859&amp;stat=instructions:u">(Comparison Link)</a></p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">Regressions <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> &lt;br /&gt;(primary)</th>
<th align="center">Regressions <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> &lt;br /&gt;(secondary)</th>
<th align="center">Improvements <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(primary)</th>
<th align="center">Improvements <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(secondary)</th>
<th align="center">All <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(primary)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">count</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">17</td>
<td align="center">19</td>
<td align="center">18</td>
</tr>
<tr>
<td align="center">mean</td>
<td align="center">0.6%</td>
<td align="center">N/A</td>
<td align="center">-0.5%</td>
<td align="center">-0.4%</td>
<td align="center">-0.4%</td>
</tr>
<tr>
<td align="center">max</td>
<td align="center">0.6%</td>
<td align="center">N/A</td>
<td align="center">-1.4%</td>
<td align="center">-0.8%</td>
<td align="center">-1.4%</td>
</tr>
</tbody>
</table>



<a name="278173583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173583">(Apr 07 2022 at 14:39)</a>:</h4>
<p>(hmm, also the table format probably isn't <em>appropriate</em> for <del>zoom</del> zulip...)</p>



<a name="278173703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173703" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173703">(Apr 07 2022 at 14:40)</a>:</h4>
<p>(or at least, we would want to focus on the columns that actually have interesting info...)</p>



<a name="278173780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173780">(Apr 07 2022 at 14:40)</a>:</h4>
<h4>Mixed</h4>
<p>A new matcher representation for use in <code>parse_tt</code> <a href="https://github.com/rust-lang/rust/pull/95555">#95555</a> <a href="https://perf.rust-lang.org/compare.html?start=d5139f44690e7765df801ca33a7f627d128ac9e2&amp;end=6a9080b25e73d26aae94c3f6a13b31de58e66b5a&amp;stat=instructions:u">(Comparison Link)</a></p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">Regressions <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> &lt;br /&gt;(primary)</th>
<th align="center">Regressions <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> &lt;br /&gt;(secondary)</th>
<th align="center">Improvements <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(primary)</th>
<th align="center">Improvements <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(secondary)</th>
<th align="center">All <span aria-label="crying cat" class="emoji emoji-1f63f" role="img" title="crying cat">:crying_cat:</span> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> &lt;br /&gt;(primary)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">count</td>
<td align="center">3</td>
<td align="center">10</td>
<td align="center">18</td>
<td align="center">11</td>
<td align="center">21</td>
</tr>
<tr>
<td align="center">mean</td>
<td align="center">0.4%</td>
<td align="center">1.0%</td>
<td align="center">-1.0%</td>
<td align="center">-2.4%</td>
<td align="center">-0.8%</td>
</tr>
<tr>
<td align="center">max</td>
<td align="center">0.4%</td>
<td align="center">2.8%</td>
<td align="center">-2.0%</td>
<td align="center">-4.6%</td>
<td align="center">-2.0%</td>
</tr>
</tbody>
</table>
<ul>
<li>This was already <a href="https://github.com/rust-lang/rust/pull/95555#issuecomment-1088070142">justified</a> as being acceptable since the real world crates that suffer from regressions are exercising some of the worst case scenario execution paths. There is an attempt to address this in a follow up (<a href="https://github.com/rust-lang/rust/pull/95669">#95669</a>). In any case, the improvements outweigh the regressions in both magnitude and number.</li>
</ul>



<a name="278173901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173901" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173901">(Apr 07 2022 at 14:41)</a>:</h4>
<h2>Nominated Issues</h2>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-compiler-nominated+label%3AT-compiler">T-compiler</a></p>



<a name="278173925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173925" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173925">(Apr 07 2022 at 14:42)</a>:</h4>
<ul>
<li>"Cache more queries on disk" <a href="https://github.com/rust-lang/rust/pull/95418">rust#95418</a><ul>
<li>PR authored by <span class="user-mention" data-user-id="248906">@cjgillot</span> </li>
<li>Nominated by <span class="user-mention" data-user-id="116107">@davidtwco</span> (<a href="https://github.com/rust-lang/rust/pull/95418#issuecomment-1085700129">comment</a>)</li>
</ul>
</li>
</ul>



<a name="278173985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173985" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173985">(Apr 07 2022 at 14:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278173583">said</a>:</p>
<blockquote>
<p>(hmm, also the table format probably isn't <em>appropriate</em> for zoom...)</p>
</blockquote>
<p>/s/zoom/zulip ? <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="278173986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278173986" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278173986">(Apr 07 2022 at 14:42)</a>:</h4>
<p>this is the only nominated issue, and we have 18 minutes, so we can <strong>really</strong> dive into this!</p>



<a name="278174291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278174291" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278174291">(Apr 07 2022 at 14:44)</a>:</h4>
<p>Okay so I see this comment </p>
<blockquote>
<p>For the moment, I'm trying some heuristic like "cache everything that will be stored in metadata (roughly if is has separate_provide_extern)". I plan to refine this from perf measurements.</p>
</blockquote>



<a name="278174335"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278174335" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278174335">(Apr 07 2022 at 14:44)</a>:</h4>
<p>did that refinement happen, <span class="user-mention" data-user-id="248906">@cjgillot</span> ?</p>



<a name="278174429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278174429" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278174429">(Apr 07 2022 at 14:45)</a>:</h4>
<blockquote>
<p>I wonder if we should refine the disk space-run time tradeoff beforehand.</p>
</blockquote>
<p>For anyone unaware, clicking into the detailed comparison view on perf.rlo has impact to metadata and the query cache. For example: <a href="https://perf.rust-lang.org/detailed-query.html?commit=36ace5e9edc63601569a7ef878ded180015f85d3&amp;base_commit=e2301ca54320659835467072f37201591db959b5&amp;benchmark=serde-1.0.136-check&amp;scenario=incr-unchanged">https://perf.rust-lang.org/detailed-query.html?commit=36ace5e9edc63601569a7ef878ded180015f85d3&amp;base_commit=e2301ca54320659835467072f37201591db959b5&amp;benchmark=serde-1.0.136-check&amp;scenario=incr-unchanged</a></p>



<a name="278174475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278174475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278174475">(Apr 07 2022 at 14:45)</a>:</h4>
<p>It occurs to me that I might have misinterpreted that comment and cjgillot wasn’t looking for a broader discussion on our time/space tradeoff.</p>



<a name="278174548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278174548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278174548">(Apr 07 2022 at 14:45)</a>:</h4>
<p>the comment that I quoted above gave me the impression that this is still in draft state</p>



<a name="278174582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278174582" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278174582">(Apr 07 2022 at 14:45)</a>:</h4>
<p>though the performance results are super promising</p>



<a name="278174713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278174713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278174713">(Apr 07 2022 at 14:46)</a>:</h4>
<p>I read it initially as “maybe we should clarify as a team whether we care more about the performance or the disk space in cases like this”</p>



<a name="278174728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278174728" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278174728">(Apr 07 2022 at 14:46)</a>:</h4>
<p>I wonder if we could do incremental bootstrap timings in addition to our from-scratch bootstrap timings</p>



<a name="278174761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278174761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278174761">(Apr 07 2022 at 14:47)</a>:</h4>
<p>because right now I think you only get to see the "worse case scenario" for bootstrap times, if I understand correctly</p>



<a name="278174976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278174976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278174976">(Apr 07 2022 at 14:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278174429">said</a>:</p>
<blockquote>
<blockquote>
<p>I wonder if we should refine the disk space-run time tradeoff beforehand.</p>
</blockquote>
<p>For anyone unaware, clicking into the detailed comparison view on perf.rlo has impact to metadata and the query cache. For example: <a href="https://perf.rust-lang.org/detailed-query.html?commit=36ace5e9edc63601569a7ef878ded180015f85d3&amp;base_commit=e2301ca54320659835467072f37201591db959b5&amp;benchmark=serde-1.0.136-check&amp;scenario=incr-unchanged">https://perf.rust-lang.org/detailed-query.html?commit=36ace5e9edc63601569a7ef878ded180015f85d3&amp;base_commit=e2301ca54320659835467072f37201591db959b5&amp;benchmark=serde-1.0.136-check&amp;scenario=incr-unchanged</a></p>
</blockquote>
<p>Those "Artifact Size" reports should include a column with percentages, I think. Otherwise it requires a bit too much effort to quickly interpret them</p>



<a name="278174978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278174978" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278174978">(Apr 07 2022 at 14:48)</a>:</h4>
<p>Yes, there is at least one other case where we can improve incr. comp. performance by using more disk space.</p>



<a name="278175040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175040">(Apr 07 2022 at 14:49)</a>:</h4>
<p>Sounds like it is a tradeoff, especially in context of slow storage (hdd)</p>



<a name="278175077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175077" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175077">(Apr 07 2022 at 14:49)</a>:</h4>
<p>Frankly, I don't think we should care about HDDs too much</p>



<a name="278175079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175079" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175079">(Apr 07 2022 at 14:49)</a>:</h4>
<p>On the one hand, I know some people complain about how much bloat there is in our build artifacts</p>



<a name="278175100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175100" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175100">(Apr 07 2022 at 14:49)</a>:</h4>
<p>but on the other hand, <em>many</em> more people are unhappy about compilation times</p>



<a name="278175111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175111" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175111">(Apr 07 2022 at 14:49)</a>:</h4>
<p>(I think)</p>



<a name="278175152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175152">(Apr 07 2022 at 14:50)</a>:</h4>
<p>also: could this be controllable via some flag, maybe?</p>



<a name="278175209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175209" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175209">(Apr 07 2022 at 14:50)</a>:</h4>
<p>we should be careful to not generate like 300GB of incremental data, benchmark it on SSDs and then call it perfect (ignoring the fact that slow storage build times have decreased by a couple multiples)</p>



<a name="278175274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175274">(Apr 07 2022 at 14:50)</a>:</h4>
<p>I.e. some way for someone with storage constraints, or slow storage, to have a leaner profile for incremental compiles?</p>



<a name="278175283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175283" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175283">(Apr 07 2022 at 14:50)</a>:</h4>
<p>Getting slow storage is not only an HDD thing. creating a VM on e.g. GCP with reasonably sized disk sizes will give you pretty slow I/O even if you pick SSD.</p>



<a name="278175293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175293">(Apr 07 2022 at 14:50)</a>:</h4>
<p>or is that just way too much complexity</p>



<a name="278175300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175300" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175300">(Apr 07 2022 at 14:50)</a>:</h4>
<p>IMO compilation throughput <em>is more important than</em> memory used during compilation <em>is more important than</em> disk space used during compilation.</p>



<a name="278175320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175320" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175320">(Apr 07 2022 at 14:51)</a>:</h4>
<p>Didn't we ask users about this in the survey?</p>



<a name="278175384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175384" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175384">(Apr 07 2022 at 14:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278175152">said</a>:</p>
<blockquote>
<p>also: could this be controllable via some flag, maybe?</p>
</blockquote>
<p>That's an interesting thought. But I'm a bit worried about splitting incr. comp. usage because of bugs.</p>



<a name="278175485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175485">(Apr 07 2022 at 14:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124287">mw</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278175384">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278175152">said</a>:</p>
<blockquote>
<p>also: could this be controllable via some flag, maybe?</p>
</blockquote>
<p>That's an interesting thought. But I'm a bit worried about splitting incr. comp. usage because of bugs.</p>
</blockquote>
<p>Yes, that was exactly what I was thinking of in the back of my head when I mentioned "too much complexity"</p>



<a name="278175495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175495" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175495">(Apr 07 2022 at 14:52)</a>:</h4>
<p>i.e. some bugs might only be happening in the "lean" profile and it would be hard to debug for us</p>



<a name="278175540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175540" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175540">(Apr 07 2022 at 14:52)</a>:</h4>
<p>right. We should not explode the configuration space of incr-comp when we already have trouble reproducing bugs with the existing single configuration</p>



<a name="278175595"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175595" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175595">(Apr 07 2022 at 14:53)</a>:</h4>
<p>so until that latter issue is addressed (which might <em>never</em> happen...), I think we should refrain from adding too many configuration knobs</p>



<a name="278175625"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175625" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175625">(Apr 07 2022 at 14:53)</a>:</h4>
<p>having said that, I think we should definitely consider doing this</p>



<a name="278175639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175639">(Apr 07 2022 at 14:53)</a>:</h4>
<p>I'm wondering how effective our garbage collection is, especially when switching between rustc versions without a <code>cargo clean</code> in between</p>



<a name="278175695"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278175695" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278175695">(Apr 07 2022 at 14:53)</a>:</h4>
<p>that's a good question. Too bad we have no telemetry.</p>



<a name="278176040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176040">(Apr 07 2022 at 14:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278175320">said</a>:</p>
<blockquote>
<p>Didn't we ask users about this in the survey?</p>
</blockquote>
<p>Ok, so I <a href="https://github.com/rust-lang/surveys/issues/39#issuecomment-951966138">provided this feedback</a> when the survey was being developed. Perhaps we can follow up with <span class="user-mention" data-user-id="224872">@rylev</span> and <span class="user-mention" data-user-id="256841">@Nick Cameron</span> to see what the results were?</p>



<a name="278176171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176171" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176171">(Apr 07 2022 at 14:56)</a>:</h4>
<p>Yes lets do that</p>



<a name="278176186"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176186" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176186">(Apr 07 2022 at 14:56)</a>:</h4>
<p>Disk space usage was mentioned somewhere in the results, but I don't remember where exactly. People were not happy about it, iirc :)</p>



<a name="278176254"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176254" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176254">(Apr 07 2022 at 14:57)</a>:</h4>
<p>I'd like to believe that we could address the disk space problems via some means</p>



<a name="278176263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176263" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176263">(Apr 07 2022 at 14:57)</a>:</h4>
<p><a href="https://blog.rust-lang.org/2022/02/15/Rust-Survey-2021.html#challenges-ahead">https://blog.rust-lang.org/2022/02/15/Rust-Survey-2021.html#challenges-ahead</a></p>



<a name="278176288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176288" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176288">(Apr 07 2022 at 14:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278175040">said</a>:</p>
<blockquote>
<p>Sounds like it is a tradeoff, especially in context of slow storage (hdd)</p>
</blockquote>
<p>Caches shouldn't get  <code>fsync()</code>ed though, they just go to the page cache. So HDDs only matters if caches are cold. There even is code to avoid filesystems trying to be "helpful" and inserting fsyncs on rename.</p>



<a name="278176436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176436">(Apr 07 2022 at 14:58)</a>:</h4>
<p><span class="user-mention" data-user-id="123586">@nagisa</span> I think you were the main person who has noted concerns in this meeting</p>



<a name="278176474"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176474" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176474">(Apr 07 2022 at 14:58)</a>:</h4>
<p>I'd like to make sure we do keep our eye on these things</p>



<a name="278176503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176503" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176503">(Apr 07 2022 at 14:59)</a>:</h4>
<p>I just want build speeds on fresh GCP instances be reasonable by default heh</p>



<a name="278176547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176547" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176547">(Apr 07 2022 at 14:59)</a>:</h4>
<p>probably the best way is to revise the performance reporting to ensure that significant regressions here get caught</p>



<a name="278176592"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176592" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176592">(Apr 07 2022 at 14:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278176503">said</a>:</p>
<blockquote>
<p>I just want build speeds on fresh GCP instances be reasonable by default heh</p>
</blockquote>
<p>does that involve incr. comp.?</p>



<a name="278176608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176608" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176608">(Apr 07 2022 at 14:59)</a>:</h4>
<p>Fresh instances don't have any caches to load, so it's only a matter of write IO</p>



<a name="278176646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176646" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176646">(Apr 07 2022 at 14:59)</a>:</h4>
<p>I think so, since it is enabled by default.</p>



<a name="278176663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176663" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176663">(Apr 07 2022 at 14:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278176254">said</a>:</p>
<blockquote>
<p>I'd like to believe that we could address the disk space problems via some means</p>
</blockquote>
<p>Seems possible we could offer some kind of configuration to users as to how aggressively we cache incremental results. Not caching something on disk should be ok in that it's just a cache miss. Might also be an interesting way to test the robustness of the incremental system?</p>



<a name="278176667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176667" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176667">(Apr 07 2022 at 14:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278176503">said</a>:</p>
<blockquote>
<p>I just want build speeds on fresh GCP instances be reasonable by default heh</p>
</blockquote>
<p>Heh, I wonder if we should be including that in our benchmarking</p>



<a name="278176798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176798" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176798">(Apr 07 2022 at 15:00)</a>:</h4>
<p>i.e. to my knowledge we deliberately have our perf runs taking place on a dedicated machine with fixed hardware spec</p>



<a name="278176876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176876" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176876">(Apr 07 2022 at 15:00)</a>:</h4>
<p>but maybe we should have separate runs on distinct cloud service providers...</p>



<a name="278176904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176904">(Apr 07 2022 at 15:00)</a>:</h4>
<p>I think there's some device-mapper layer that can be used to inject latency into IO.<br>
<a href="https://www.kernel.org/doc/html/latest/admin-guide/device-mapper/delay.html">https://www.kernel.org/doc/html/latest/admin-guide/device-mapper/delay.html</a></p>



<a name="278176967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176967" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176967">(Apr 07 2022 at 15:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278176646">said</a>:</p>
<blockquote>
<p>I think so, since it is enabled by default.</p>
</blockquote>
<p>Not for release builds. I've been wondering if we can somehow default to not using incr. comp. in CI environments</p>



<a name="278176992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278176992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278176992">(Apr 07 2022 at 15:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278176663">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278176254">said</a>:</p>
<blockquote>
<p>I'd like to believe that we could address the disk space problems via some means</p>
</blockquote>
<p>Seems possible we could offer some kind of configuration to users as to how aggressively we cache incremental results. Not caching something on disk should be ok in that it's just a cache miss. Might also be an interesting way to test the robustness of the incremental system?</p>
</blockquote>
<p>This is kind of what <span class="user-mention" data-user-id="124287">@mw</span> and I were getting at up above when I was talking about "knobs"</p>



<a name="278177025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278177025" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278177025">(Apr 07 2022 at 15:01)</a>:</h4>
<p>though I like the way <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> you have reframed it</p>



<a name="278177035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278177035" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278177035">(Apr 07 2022 at 15:01)</a>:</h4>
<p>as an <em>opportunity</em> to catch new bugs</p>



<a name="278177050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278177050" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278177050">(Apr 07 2022 at 15:01)</a>:</h4>
<p>rather than a chance that we might miss them (which is how I was seeing it before)...</p>



<a name="278177153"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278177153" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278177153">(Apr 07 2022 at 15:02)</a>:</h4>
<p>GCP is somewhat interesting to me is that they have I/O ops boost allowance of some sort, so the writes for first couple minutes operate fast. But then if GCP gets fed up with your workload, they just hang the VM until your regular IOps credits pay for the boost stuff or something. So in practice any additional writes compete with regular ones for performance quite heavily there.</p>



<a name="278177222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278177222" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278177222">(Apr 07 2022 at 15:02)</a>:</h4>
<p>One detail regarding Io: it's not just hardware that can make disk access slow: Mac is significantly slower than similarly specd Linux cloud desktop due to throttling</p>



<a name="278177289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278177289" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278177289">(Apr 07 2022 at 15:02)</a>:</h4>
<p>Which is similar to what Nagisa just said <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="278177316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278177316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278177316">(Apr 07 2022 at 15:03)</a>:</h4>
<p>So we are now over time. This was super cool conversation, though I admit I'm not sure what has come of it</p>



<a name="278177373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278177373" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278177373">(Apr 07 2022 at 15:03)</a>:</h4>
<p>might deserve a follow-up :)</p>



<a name="278177400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278177400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278177400">(Apr 07 2022 at 15:03)</a>:</h4>
<p>yeah</p>



<a name="278177517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278177517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278177517">(Apr 07 2022 at 15:04)</a>:</h4>
<p>in any case I think <span class="user-mention" data-user-id="248906">@cjgillot</span> said "I wonder if we should refine the disk space-run time tradeoff beforehand.", and I think it would be prudent for them to at least look into removing the most trivial cases from their caching...</p>



<a name="278177622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278177622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278177622">(Apr 07 2022 at 15:04)</a>:</h4>
<p>but overall, I think I'd like us to encourage more efforts on this front</p>



<a name="278177686"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278177686" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278177686">(Apr 07 2022 at 15:05)</a>:</h4>
<p>I haven't looked through the diff but perhaps we should put this through the MCP process? Seems like we might also want to adjust the rustc-dev-guide section on queries to mention the proposed new strategy for on-disk caching?</p>



<a name="278177782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278177782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278177782">(Apr 07 2022 at 15:05)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> </p>
<p>(as a side note, I wonder if there is an option to write out the incremental data out and indicate to the OS that it is in some shape and form is low priority, so that other artifact writes get to go first)</p>



<a name="278177992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278177992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278177992">(Apr 07 2022 at 15:06)</a>:</h4>
<p>Oh yeah, bye all!</p>



<a name="278178023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278178023" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278178023">(Apr 07 2022 at 15:06)</a>:</h4>
<p>(thanks to everyone in <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> for attending!)</p>



<a name="278178055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278178055" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278178055">(Apr 07 2022 at 15:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278177686">said</a>:</p>
<blockquote>
<p>I haven't looked through the diff but perhaps we should put this through the MCP process? Seems like we might also want to adjust the rustc-dev-guide section on queries to mention the proposed new strategy for on-disk caching?</p>
</blockquote>
<p>that's probably a good idea</p>



<a name="278178114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278178114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278178114">(Apr 07 2022 at 15:07)</a>:</h4>
<p>(another side note: if rustc could somehow indicate to the cargo that it is done with the regular work work and this process won't produce any more useful data for _this_ compilation session, would that largely negate the compile time hit from incremental? The process could stay around and continue writing out incremental stuff)</p>



<a name="278181409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278181409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278181409">(Apr 07 2022 at 15:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278177782">said</a>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> </p>
<p>(as a side note, I wonder if there is an option to write out the incremental data out and indicate to the OS that it is in some shape and form is low priority, so that other artifact writes get to go first)</p>
</blockquote>
<p>I don't think it would make a difference? If the system is IO-starved and memory is so full that writes become blocking because it has to push things out to disk then some writer thread will end up getting blocked and then the compiler stalls either way, no matter which thing it's trying to write.</p>
<p>If there is plenty of spare memory and IO bandwidth is just eaten by background flushing then one can increase the commit/flushing intervals.</p>



<a name="278181562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278181562" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278181562">(Apr 07 2022 at 15:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278171956">said</a>:</p>
<blockquote>
<p>My take on targets such as these is that whoever deals with the target knows best.</p>
</blockquote>
<p><span class="user-mention" data-user-id="276242">@Riccardo D'Ambrosio</span> works on GPU things a fair bit and might be willing to take a look</p>



<a name="278184430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278184430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278184430">(Apr 07 2022 at 15:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278176040">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278175320">said</a>:</p>
<blockquote>
<p>Didn't we ask users about this in the survey?</p>
</blockquote>
<p>Ok, so I <a href="https://github.com/rust-lang/surveys/issues/39#issuecomment-951966138">provided this feedback</a> when the survey was being developed. Perhaps we can follow up with <span class="user-mention silent" data-user-id="224872">rylev</span> and <span class="user-mention silent" data-user-id="256841">Nick Cameron</span> to see what the results were?</p>
</blockquote>
<p>13% of respondents found disk space usage to be "seriously lacking" and another 32% said "it could be better". Only 3% said it got worse over the last year while 7% said it got better (66% said they weren't sure)</p>



<a name="278185127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278185127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278185127">(Apr 07 2022 at 15:51)</a>:</h4>
<p>Is there any way we can derive the user rankings for how much they care about throughput, memory usage and disk usage? (Ie, users will trade disk usage for faster compiles but won't trade faster compiles for less memory). Perhaps the % who are unsure might be interesting in that regard?</p>



<a name="278185807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278185807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278185807">(Apr 07 2022 at 15:55)</a>:</h4>
<p>No I don't think we can figure out trade offs unfortunately.</p>



<a name="278196008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278196008" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riccardo D&#x27;Ambrosio <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278196008">(Apr 07 2022 at 17:06)</a>:</h4>
<blockquote>
<p>Getting nvidia to work on anything opensource is a stretch.</p>
</blockquote>
<p><span class="user-mention" data-user-id="123586">@nagisa</span> issue is also that most people at nvidia don’t know that rust can target CUDA. I have actually applied for an internship on the CUDA devtools team so if i get accepted at least i may be able to bring more attention to it and perhaps also make the situation of rust support in cuda devtools better (although it already works pretty well since cuda does a good job of being lang-agnostic)</p>



<a name="278197892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278197892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278197892">(Apr 07 2022 at 17:20)</a>:</h4>
<blockquote>
<blockquote>
<p>Getting nvidia to work on anything opensource is a stretch.</p>
</blockquote>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> issue is also that most people at nvidia don’t know that rust can target CUDA.</p>
</blockquote>
<p>My experience is largely informed from trying to work with nvidia in other areas. I think the _only_ place where there was a remote sign of success was with tegra stuff. Would be great if the story there improved though! Good luck with the application!</p>



<a name="278198097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278198097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riccardo D&#x27;Ambrosio <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278198097">(Apr 07 2022 at 17:22)</a>:</h4>
<p>i dont blame nvidia too much because i know they legally cannot open source many things because they are tied up in patents, licenses, contracts, internal APIs, etc. However they do open source some cool things, see: cutlass, thrust, cub, etc. They also document some internal-ish things to an insane degree. PTX is very well documented down to the individual instruction despite being sort of rarely used</p>



<a name="278198151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278198151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riccardo D&#x27;Ambrosio <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278198151">(Apr 07 2022 at 17:23)</a>:</h4>
<p>could always be better <span aria-label="stuck out tongue" class="emoji emoji-1f61b" role="img" title="stuck out tongue">:stuck_out_tongue:</span> but yeah</p>



<a name="278198223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278198223" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riccardo D&#x27;Ambrosio <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278198223">(Apr 07 2022 at 17:23)</a>:</h4>
<p>i need to look back at that nvptx PR, it looked fine to me last time i checked but i haven't reviewed it in a while</p>



<a name="278217466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278217466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cjgillot <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278217466">(Apr 07 2022 at 19:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278177517">said</a>:</p>
<blockquote>
<p>in any case I think <span class="user-mention silent" data-user-id="248906">cjgillot</span> said "I wonder if we should refine the disk space-run time tradeoff beforehand.", and I think it would be prudent for them to at least look into removing the most trivial cases from their caching...</p>
</blockquote>
<p>I realize I did not provide sufficient context before the meeting.<br>
The linked PR proposes to cache results for all queries for which we encode/decode metadata.  This may sound silly to load from cache just to store to metadata, but it may actually get us optimal result reuse: results are loaded iff they are usefully reused.</p>
<p>My question is where the tradeoff between time &amp; disk should be.  If I were to optimize this tradeoff, where should I aim?</p>



<a name="278219630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278219630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278219630">(Apr 07 2022 at 20:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276242">Riccardo D'Ambrosio</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278198097">said</a>:</p>
<blockquote>
<p>i dont blame nvidia too much because i know they legally cannot open source many things because they are tied up in patents, licenses, contracts, internal APIs, etc.</p>
</blockquote>
<p>Nvidia doesn't allow using their signed firmware with the nouveau opensource driver, right? I don't see why they would be required to impose this legal restriction. Even if there is some reason, why do they have to put certain things behind signed firmware on hardware level and not allow it with the firmware nouveau generates? Like on some nvidea gpus fan control requires a signed firmware afaik. <a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=MTc5ODA">https://www.phoronix.com/scan.php?page=news_item&amp;px=MTc5ODA</a> To be fair they eventually did release some signed firmware to be used with nouveau: <a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=NVIDIA-Releases-Signed-Blobs">https://www.phoronix.com/scan.php?page=news_item&amp;px=NVIDIA-Releases-Signed-Blobs</a> Still it seems to happen with a delay of much more than a couple of weeks after release of a new gpu. Also what stops them from bringing the kernel part of nouveau into shape and then let their userspace driver use nouveau instead of their kernel module blob? I don't see why the kernel driver should contain anything they can't release. The kernel driver should only handle secure communication between the gpu and the userspace. Things like the shader compiler aren't part of the kernel driver either.</p>



<a name="278220237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278220237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riccardo D&#x27;Ambrosio <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278220237">(Apr 07 2022 at 20:15)</a>:</h4>
<p>i don't agree with many of their decisions, but thats natural. If there is a reason and i knew it i probably could not say either. The shader compiler i suspect is a much different story too, i presume that CUDA is actually the core of nvidia GPUs, and that the CUDA driver and the graphics driver are sort of the same thing, so they could not release components tied to it such as the shader compiler (which supposedly uses libnvvm) very easily.</p>



<a name="278220528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278220528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278220528">(Apr 07 2022 at 20:17)</a>:</h4>
<p>I don't think we need to dissect Nvidia's open-source policies in the compiler team meeting thread. <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="278220540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278220540" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riccardo D&#x27;Ambrosio <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278220540">(Apr 07 2022 at 20:17)</a>:</h4>
<p>true lmao</p>



<a name="278220637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278220637" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Riccardo D&#x27;Ambrosio <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278220637">(Apr 07 2022 at 20:18)</a>:</h4>
<p>anyways, yeah, i think its a circular issue that should get better once i find the time to try and integrate the codegen into rustc better and get it to use modern llvm</p>



<a name="278222669"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278222669" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278222669">(Apr 07 2022 at 20:34)</a>:</h4>
<p>Yeah, I have much more sympathy for keeping the userspace half closed source than for the kernel module. As per <span class="user-mention silent" data-user-id="125250">Wesley Wiser</span>'s suggestion I will leave it at this.</p>



<a name="278304552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278304552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vincenzo Palazzo <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278304552">(Apr 08 2022 at 13:35)</a>:</h4>
<p>Hello everyone, I'm new in the rust contrbution, but I would like to take part to the team and this mean also to the meeting, there is some way to know the scheduler? do you have an google calendar event?</p>



<a name="278305341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278305341" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278305341">(Apr 08 2022 at 13:41)</a>:</h4>
<p><span class="user-mention" data-user-id="492566">@Vincenzo Palazzo</span> it's on Zulip every week on Thursday</p>



<a name="278305541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278305541" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278305541">(Apr 08 2022 at 13:43)</a>:</h4>
<p>The calendar is here and you should be able to subscribe to it <a href="https://calendar.google.com/calendar/u/0/embed?src=6u5rrtce6lrtv07pfi3damgjus@group.calendar.google.com">https://calendar.google.com/calendar/u/0/embed?src=6u5rrtce6lrtv07pfi3damgjus@group.calendar.google.com</a></p>



<a name="278305568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278305568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vincenzo Palazzo <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278305568">(Apr 08 2022 at 13:43)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> Thanks! and sorry for the stupid questio- <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> Thanks for the link :)</p>



<a name="278305733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278305733" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278305733">(Apr 08 2022 at 13:45)</a>:</h4>
<p>Not a stupid question <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="278305851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278305851" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278305851">(Apr 08 2022 at 13:45)</a>:</h4>
<p>You might also be interested to look around <a href="https://rust-lang.github.io/compiler-team/">https://rust-lang.github.io/compiler-team/</a> and <a href="https://rustc-dev-guide.rust-lang.org/">https://rustc-dev-guide.rust-lang.org/</a></p>



<a name="278306354"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-04-07/near/278306354" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vincenzo Palazzo <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-04-07.html#278306354">(Apr 08 2022 at 13:48)</a>:</h4>
<p>Yep I already read the book and I only put the wrong day in the calendar :) I read the wrong day, for this reason I asked here :) my bad</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>