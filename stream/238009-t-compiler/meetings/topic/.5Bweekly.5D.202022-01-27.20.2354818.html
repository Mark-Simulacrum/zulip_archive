<html>
<head><meta charset="utf-8"><title>[weekly] 2022-01-27 #54818 · t-compiler/meetings · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/index.html">t-compiler/meetings</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html">[weekly] 2022-01-27 #54818</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="269568195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269568195" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269568195">(Jan 27 2022 at 13:00)</a>:</h4>
<p>Hello <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span>; triage meeting will take place in  2h<br>
<em>WG-prioritization</em> has done pre-triage in <a class="stream" data-stream-id="245100" href="/#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts">#t-compiler/wg-prioritization/alerts</a> and prepared the <a href="https://hackmd.io/PptGbL8US52Ct07t6vuB5A?view">meeting agenda</a></p>
<p>Scheduled checkins from:</p>
<ul>
<li><span class="user-group-mention silent" data-user-group-id="1060">WG-rls2.0</span>  by <span class="user-mention" data-user-id="133169">@matklad</span> : any progress to share?</li>
<li><span class="user-group-mention silent" data-user-group-id="1123">WG-self-profile</span>  by <span class="user-mention" data-user-id="124287">@mw</span>  and <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> : any progress to share?</li>
</ul>



<a name="269585035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269585035" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269585035">(Jan 27 2022 at 15:03)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> ! Weekly triage meeting starts now; add a <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> to show you’re here!</p>



<a name="269585208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269585208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269585208">(Jan 27 2022 at 15:04)</a>:</h4>
<p>We’ll start out with ~6 minutes for</p>
<h2>Announcements</h2>



<a name="269585246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269585246" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269585246">(Jan 27 2022 at 15:04)</a>:</h4>
<ul>
<li>Tomorrow (Friday at <time datetime="2022-01-28T15:00:00Z">2022-01-28T10:00:00-05:00</time>) we have our <a href="https://forge.rust-lang.org/compiler/steering-meeting.html">Steering Meeting</a><ul>
<li><a href="https://github.com/rust-lang/compiler-team/issues/479">Meeting proposal</a>: Run down <code>P-high</code> issues list</li>
<li>Related blog post: <a href="https://blog.rust-lang.org/inside-rust/2022/01/18/jan-steering-cycle.html">https://blog.rust-lang.org/inside-rust/2022/01/18/jan-steering-cycle.html</a> </li>
<li>Document prepared by Felix: <a href="https://hackmd.io/YY3u0dkURtiQHDVX0hEImA?view">https://hackmd.io/YY3u0dkURtiQHDVX0hEImA?view</a></li>
</ul>
</li>
</ul>



<a name="269585376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269585376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269585376">(Jan 27 2022 at 15:05)</a>:</h4>
<p>(I’m planning to try to flesh out that document more, but even with what’s there now, I think there’s some important pieces of that picture that we will be discussing in that meeting.)</p>



<a name="269585427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269585427" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269585427">(Jan 27 2022 at 15:05)</a>:</h4>
<ul>
<li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copyright/IP/etc, please let the Core team know (or at least message <span class="user-mention silent" data-user-id="116083">pnkfelix</span> or <span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> so we can pass it along).</li>
</ul>



<a name="269585454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269585454" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269585454">(Jan 27 2022 at 15:05)</a>:</h4>
<ul>
<li>(TIP) strive to include a <em>reason</em> when you do <code>@bors retry</code>, even if you think its obvious from context. Why? Because the context absent on <a href="https://bors.rust-lang.org/retry_log/rust">https://bors.rust-lang.org/retry_log/rust</a>, but it <em>will</em> show your comment. (<a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bors.3A.20stop.20prioritizing.20old.20PRs.20over.20new.20PRs.html#267617921">related zulip discussion</a>)</li>
</ul>



<a name="269585590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269585590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269585590">(Jan 27 2022 at 15:06)</a>:</h4>
<p>(I was unaware that there was a meaningful “reason” field on <code>@bors retry</code> before I saw that conversation, so thanks to all who participated in that conversation)</p>



<a name="269585797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269585797" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269585797">(Jan 27 2022 at 15:07)</a>:</h4>
<p>another tip I’ll throw out there: For all the reviewers out there: if a PR seems like it could affect compiler performance, please do request a performance run. It makes things a lot easier, in terms of teasing out what performance changes were anticipated and which were not (and it can help inform about whether a PR should be included in a rollup)</p>



<a name="269585891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269585891" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269585891">(Jan 27 2022 at 15:08)</a>:</h4>
<h2>MCPs/FCPs</h2>



<a name="269585902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269585902" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269585902">(Jan 27 2022 at 15:08)</a>:</h4>
<ul>
<li>New MCPs (take a look, see if you like them!)<ul>
<li>No new proposals this time.</li>
</ul>
</li>
</ul>



<a name="269585918"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269585918" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269585918">(Jan 27 2022 at 15:08)</a>:</h4>
<ul>
<li>Old MCPs (not seconded, take a look)<ul>
<li>"Accept <code>pc</code> in place of <code>unknown</code> and <code>unknown</code> in place of <code>pc</code> for <code>x86_64</code> and <code>i?86</code> targets" <a href="https://github.com/rust-lang/compiler-team/issues/441">compiler-team#441</a> (last review activity: 6 months ago)</li>
<li>"Make <code>-Z binary-dep-depinfo</code> the default behavior" <a href="https://github.com/rust-lang/compiler-team/issues/464">compiler-team#464</a> (last review activity: 3 months ago)</li>
<li>"Tier 3 target proposal: riscv64gc-linux-android (Android target for <code>riscv64gc</code>)" <a href="https://github.com/rust-lang/compiler-team/issues/472">compiler-team#472</a> (last review activity: about 48 days ago)</li>
<li>"<code>-Dwarnings</code> to cover all warnings" <a href="https://github.com/rust-lang/compiler-team/issues/473">compiler-team#473</a> (last review activity: about 48 days ago)</li>
<li>"Build-time execution sandboxing" <a href="https://github.com/rust-lang/compiler-team/issues/475">compiler-team#475</a> (last review activity: about 31 days ago)</li>
<li>"Dealing with type/const ambiguities" <a href="https://github.com/rust-lang/compiler-team/issues/480">compiler-team#480</a> (last review activity: about 6 days ago)</li>
</ul>
</li>
</ul>



<a name="269585941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269585941" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269585941">(Jan 27 2022 at 15:08)</a>:</h4>
<ul>
<li>Pending FCP requests (check your boxes!)<ul>
<li>No pending FCP requests this time.</li>
</ul>
</li>
</ul>



<a name="269585962"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269585962" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269585962">(Jan 27 2022 at 15:08)</a>:</h4>
<ul>
<li>Things in FCP (make sure you're good with it)<ul>
<li>"Stabilize <code>-Z instrument-coverage</code> as <code>-C instrument-coverage</code>" <a href="https://github.com/rust-lang/rust/pull/90132">rust#90132</a></li>
</ul>
</li>
</ul>



<a name="269586009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269586009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269586009">(Jan 27 2022 at 15:09)</a>:</h4>
<ul>
<li>Accepted MCPs<ul>
<li>"CI should exercise (subset of) tests under --stage 1" <a href="https://github.com/rust-lang/compiler-team/issues/439">compiler-team#439</a> </li>
<li>"Adding known bugs to test cases" <a href="https://github.com/rust-lang/compiler-team/issues/476">compiler-team#476</a> </li>
<li>"Introduce a new linter for diagnostic meesages" <a href="https://github.com/rust-lang/compiler-team/issues/478">compiler-team#478</a></li>
</ul>
</li>
</ul>



<a name="269586032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269586032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269586032">(Jan 27 2022 at 15:09)</a>:</h4>
<ul>
<li>Finalized FCPs (disposition merge)<ul>
<li>"Change location of where clause on GATs" <a href="https://github.com/rust-lang/rust/pull/90076">rust#90076</a> </li>
<li>"Stabilize <code>-Z print-link-args</code> as <code>--print link-args</code>" <a href="https://github.com/rust-lang/rust/pull/91606">rust#91606</a></li>
</ul>
</li>
</ul>



<a name="269586141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269586141" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269586141">(Jan 27 2022 at 15:09)</a>:</h4>
<h3>WG checkins</h3>
<ul>
<li><span class="user-group-mention silent" data-user-group-id="1060">WG-rls2.0</span> by <span class="user-mention" data-user-id="133169">@matklad</span> (<a href="https://hackmd.io/N_WW5tZqTLWouaed6cCjxg#WG-checkins">previous checkin</a>)</li>
</ul>



<a name="269586366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269586366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269586366">(Jan 27 2022 at 15:11)</a>:</h4>
<p>(if <span class="user-mention" data-user-id="133169">@matklad</span> or anyone else from WG-rls2.0 have anything to report (<span class="user-mention" data-user-id="129457">@Florian Diebold</span> ?), feel free to chime in sometime in the next 50minutes)</p>



<a name="269586409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269586409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269586409">(Jan 27 2022 at 15:11)</a>:</h4>
<ul>
<li><span class="user-group-mention silent" data-user-group-id="1123">WG-self-profile</span> by <span class="user-mention" data-user-id="124287">@mw</span> and <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> (<a href="https://hackmd.io/HYT7NJFwS8q8Xp1h_CmfTQ#WG-checkins">previous checkin</a>)<blockquote>
<p>Nothing to report this cycle.</p>
</blockquote>
</li>
</ul>



<a name="269586439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269586439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269586439">(Jan 27 2022 at 15:11)</a>:</h4>
<h2>Backport nominations</h2>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler beta</a></p>



<a name="269586470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269586470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269586470">(Jan 27 2022 at 15:11)</a>:</h4>
<ul>
<li><img alt=":beta:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/4715/emoji/images/20717.png" title="beta"> "Update LLVM submodule" <a href="https://github.com/rust-lang/rust/pull/93081">rust#93081</a><ul>
<li>nominated by <span class="user-mention" data-user-id="116122">@simulacrum</span> (see <a href="https://github.com/rust-lang/rust/pull/93081#issuecomment-1018684296">comment</a>) as it fixes a mis-compilation on aarch64-unknown-linux-gnu introduced in 1.57 </li>
<li>also nominated for stable backport</li>
</ul>
</li>
</ul>



<a name="269586839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269586839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269586839">(Jan 27 2022 at 15:14)</a>:</h4>
<p>if we’re going to be backporting stuff for LLVM bugs, I’d like to also make sure we look the patch that is supposed to fix <a href="https://github.com/rust-lang/rust/issues/91671">#91671</a></p>



<a name="269586841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269586841" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269586841">(Jan 27 2022 at 15:14)</a>:</h4>
<p>I'm a bit confused which commits are actually relevant.</p>



<a name="269586861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269586861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269586861">(Jan 27 2022 at 15:14)</a>:</h4>
<p>Is it just <a href="https://github.com/rust-lang/rust/commit/221a195b62f4373a8893f4d022e4ce981b09a857">221a195b62f4373a8893f4d022e4ce981b09a857</a>?</p>



<a name="269586893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269586893" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269586893">(Jan 27 2022 at 15:14)</a>:</h4>
<p>Since it looks like <a href="https://github.com/rust-lang/rust/commit/ce65262d7ce251555ed386bca9691636b6fdcf77">ce65262d7ce251555ed386bca9691636b6fdcf77</a> was reverted?</p>



<a name="269586942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269586942" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269586942">(Jan 27 2022 at 15:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-01-27.20.2354818/near/269586861">said</a>:</p>
<blockquote>
<p>Is it just <a href="https://github.com/rust-lang/rust/commit/221a195b62f4373a8893f4d022e4ce981b09a857">221a195b62f4373a8893f4d022e4ce981b09a857</a>?</p>
</blockquote>
<p>(this link didn’t work)</p>



<a name="269587056"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269587056" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269587056">(Jan 27 2022 at 15:15)</a>:</h4>
<p><a href="https://github.com/rust-lang/llvm-project/commit/221a195b62f4373a8893f4d022e4ce981b09a857">https://github.com/rust-lang/llvm-project/commit/221a195b62f4373a8893f4d022e4ce981b09a857</a></p>



<a name="269587089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269587089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269587089">(Jan 27 2022 at 15:16)</a>:</h4>
<p>thanks</p>



<a name="269587244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269587244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269587244">(Jan 27 2022 at 15:16)</a>:</h4>
<p>From <a href="https://github.com/rust-lang/rust/issues/93081">#93081</a>, I clicked the "9 files" link under "Files changed" and got this list of commits <a href="https://github.com/rust-lang/llvm-project/compare/6b3dbcc81a470e5da84576d63fcfc19e3b1154cd...221a195b62f4373a8893f4d022e4ce981b09a857">https://github.com/rust-lang/llvm-project/compare/6b3dbcc81a470e5da84576d63fcfc19e3b1154cd...221a195b62f4373a8893f4d022e4ce981b09a857</a></p>



<a name="269587319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269587319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269587319">(Jan 27 2022 at 15:17)</a>:</h4>
<p>Maybe <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> and I can follow up with <span class="user-mention" data-user-id="116122">@simulacrum</span> and <span class="user-mention" data-user-id="133224">@Nikita Popov</span> outside this meeting to resolve these questions</p>



<a name="269587361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269587361" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269587361">(Jan 27 2022 at 15:17)</a>:</h4>
<p>it was reverted but re-added wasn't it?</p>



<a name="269587378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269587378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269587378">(Jan 27 2022 at 15:17)</a>:</h4>
<p>(No objection to backporting, just trying to understand what's in the backport <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>)</p>



<a name="269587427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269587427" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269587427">(Jan 27 2022 at 15:18)</a>:</h4>
<p><a href="https://github.com/rust-lang/llvm-project/commit/6c32ce82db36e443b7011a1db8fb100da567c4ab">https://github.com/rust-lang/llvm-project/commit/6c32ce82db36e443b7011a1db8fb100da567c4ab</a></p>



<a name="269587437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269587437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269587437">(Jan 27 2022 at 15:18)</a>:</h4>
<p>and then <a href="https://github.com/rust-lang/llvm-project/commit/ce65262d7ce251555ed386bca9691636b6fdcf77">https://github.com/rust-lang/llvm-project/commit/ce65262d7ce251555ed386bca9691636b6fdcf77</a></p>



<a name="269587484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269587484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269587484">(Jan 27 2022 at 15:18)</a>:</h4>
<p>so the actual important ones are <a href="https://github.com/rust-lang/llvm-project/commit/221a195b62f4373a8893f4d022e4ce981b09a857">https://github.com/rust-lang/llvm-project/commit/221a195b62f4373a8893f4d022e4ce981b09a857</a> and <a href="https://github.com/rust-lang/llvm-project/commit/2abffbf977a9e8c6ca4174a08fe5c4d7781f0aac">https://github.com/rust-lang/llvm-project/commit/2abffbf977a9e8c6ca4174a08fe5c4d7781f0aac</a></p>



<a name="269587531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269587531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269587531">(Jan 27 2022 at 15:18)</a>:</h4>
<p>important in the sense, being backported</p>



<a name="269587552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269587552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269587552">(Jan 27 2022 at 15:18)</a>:</h4>
<p>Well 6c32ce82db says "This reverts commit ce65262" so I think they cancel each other out.</p>



<a name="269587582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269587582" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269587582">(Jan 27 2022 at 15:19)</a>:</h4>
<p>right, that's what I'm saying</p>



<a name="269587770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269587770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269587770">(Jan 27 2022 at 15:20)</a>:</h4>
<p>so lets see: the backport thats being suggested will include <a href="https://github.com/rust-lang/llvm-project/commit/2abffbf977a9e8c6ca4174a08fe5c4d7781f0aac">https://github.com/rust-lang/llvm-project/commit/2abffbf977a9e8c6ca4174a08fe5c4d7781f0aac</a> , which doesn’t seem like  its resolving something that we’d normally <em>wouldn't</em> backport. But its also just extra complication to <em>avoid</em> backporting that, right?</p>



<a name="269587948"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269587948" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269587948">(Jan 27 2022 at 15:21)</a>:</h4>
<p>Anyway I’m fine with approving these backports</p>



<a name="269588084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588084" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588084">(Jan 27 2022 at 15:22)</a>:</h4>
<p>(I am kicking myself for not pushing harder to get the fix for <a href="https://github.com/rust-lang/rust/issues/91671">#91671</a> in there, but so be it.)</p>



<a name="269588129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588129" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588129">(Jan 27 2022 at 15:22)</a>:</h4>
<p>I think ideally we would just backport <a href="https://github.com/rust-lang/rust/commit/221a195b62f4373a8893f4d022e4ce981b09a857">221a195b62f4373a8893f4d022e4ce981b09a857</a> to beta but if that's complicated, I don't have an issue with taking all four commits.</p>



<a name="269588130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588130" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588130">(Jan 27 2022 at 15:22)</a>:</h4>
<p>lets move along</p>



<a name="269588201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588201" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588201">(Jan 27 2022 at 15:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-01-27.20.2354818/near/269588129">said</a>:</p>
<blockquote>
<p>I think ideally we would just backport <a href="https://github.com/rust-lang/rust/commit/221a195b62f4373a8893f4d022e4ce981b09a857">221a195b62f4373a8893f4d022e4ce981b09a857</a> to beta but if that's complicated, I don't have an issue with taking all four commits.</p>
</blockquote>
<p>yeah, I don’t know if having the beta history for llvm wildly deviate from its normal path is a good idea</p>



<a name="269588239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588239" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588239">(Jan 27 2022 at 15:23)</a>:</h4>
<p>but I can definitely see both sides of that debate</p>



<a name="269588345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588345">(Jan 27 2022 at 15:24)</a>:</h4>
<p>(mostly I’m just concerned with how hard it might be to understand how the beta and nightly submodule settings differ.)</p>



<a name="269588396"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588396" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588396">(Jan 27 2022 at 15:24)</a>:</h4>
<ul>
<li><img alt=":beta:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/4715/emoji/images/20717.png" title="beta"> "Use error-on-mismatch policy for PAuth module flags." <a href="https://github.com/rust-lang/rust/pull/93269">rust#93269</a> <ul>
<li>Fixes <a href="https://github.com/rust-lang/rust/issues/92885">rust#92885</a>, a <code>P-high</code> regression affecting building on arm64</li>
<li>Nominated by <span class="user-mention" data-user-id="116083">@pnkfelix</span> since this fixes a beta-to-stable regression</li>
</ul>
</li>
</ul>



<a name="269588406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588406">(Jan 27 2022 at 15:24)</a>:</h4>
<p>Yeah, that's a good point as well. I'm fine with whatever we normally do in this situation.</p>



<a name="269588543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588543">(Jan 27 2022 at 15:25)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1176">@WG-llvm</span> any thoughts on PR <a href="https://github.com/rust-lang/rust/issues/93269">#93269</a> ?</p>



<a name="269588643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588643" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588643">(Jan 27 2022 at 15:26)</a>:</h4>
<p>I would remove pauth support entirely from beta.</p>



<a name="269588647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588647" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588647">(Jan 27 2022 at 15:26)</a>:</h4>
<p>also, should we be worried about the CI situation described in the description of <a href="https://github.com/rust-lang/rust/issues/93269">#93269</a> ?</p>



<a name="269588654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588654">(Jan 27 2022 at 15:26)</a>:</h4>
<p>i.e. revert the PR which added the functionality.</p>



<a name="269588679"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588679" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588679">(Jan 27 2022 at 15:26)</a>:</h4>
<p>ah well that’s certainly another path, and one we should consider</p>



<a name="269588766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588766">(Jan 27 2022 at 15:27)</a>:</h4>
<p><span class="user-mention" data-user-id="123586">@nagisa</span> it was added in PR <a href="https://github.com/rust-lang/rust/issues/88354">#88354</a>, right?</p>



<a name="269588853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588853">(Jan 27 2022 at 15:28)</a>:</h4>
<p>Yeah.</p>



<a name="269588881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588881">(Jan 27 2022 at 15:28)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/88354/files">https://github.com/rust-lang/rust/pull/88354/files</a> looks quite self-contained so a revert should be pretty easy.</p>



<a name="269588916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588916" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588916">(Jan 27 2022 at 15:28)</a>:</h4>
<p>Was PR <a href="https://github.com/rust-lang/rust/issues/88354">#88354</a> supposed to be guarded by a <code>-Z</code> flag and it wasn’t?</p>



<a name="269588944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269588944" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269588944">(Jan 27 2022 at 15:28)</a>:</h4>
<p>Overall, I'm somewhat reluctant to say that clang is the only other toolchain we should look to interoperate for lto purposes.</p>



<a name="269589124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269589124" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269589124">(Jan 27 2022 at 15:30)</a>:</h4>
<p>Okay, well, does anyone object to reverting PR <a href="https://github.com/rust-lang/rust/issues/88354">#88354</a> on beta? because I agree with <span class="user-mention" data-user-id="123586">@nagisa</span>  that seems like a better path for now</p>



<a name="269589162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269589162" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269589162">(Jan 27 2022 at 15:30)</a>:</h4>
<p>lets plan on that unless someone speaks up.</p>



<a name="269589164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269589164" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269589164">(Jan 27 2022 at 15:30)</a>:</h4>
<p>it sorta is, what I didn't consider is that it adds metadata even if the <code>-Z</code> flags enabling specific protection types is not specified.</p>



<a name="269589165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269589165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269589165">(Jan 27 2022 at 15:30)</a>:</h4>
<p>sgtm</p>



<a name="269589243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269589243" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269589243">(Jan 27 2022 at 15:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-01-27.20.2354818/near/269589164">said</a>:</p>
<blockquote>
<p>it sorta is, what I didn't consider is that it adds metadata even if the <code>-Z</code> flags enabling specific protection types is not specified.</p>
</blockquote>
<p>is that metadata unavoidable, or could it <em>also</em> be guarded by <code>-Z</code> flags?</p>



<a name="269589301"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269589301" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269589301">(Jan 27 2022 at 15:31)</a>:</h4>
<p>well you and I can follow up about that outside of this meeting.</p>



<a name="269589309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269589309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269589309">(Jan 27 2022 at 15:31)</a>:</h4>
<p>We could make sure the metadata isn't added without the -Z flag, yes.</p>



<a name="269589319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269589319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269589319">(Jan 27 2022 at 15:31)</a>:</h4>
<p>okay. I think I’d like that.</p>



<a name="269589359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269589359" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269589359">(Jan 27 2022 at 15:31)</a>:</h4>
<p>next</p>
<ul>
<li><img alt=":stable:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/4715/emoji/images/20716.png" title="stable"> "Update LLVM submodule" <a href="https://github.com/rust-lang/rust/pull/93081">rust#93081</a></li>
</ul>



<a name="269589510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269589510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269589510">(Jan 27 2022 at 15:32)</a>:</h4>
<p>let me go look at those commits again quickly. :)</p>



<a name="269589558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269589558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269589558">(Jan 27 2022 at 15:33)</a>:</h4>
<p>ff<br>
<span class="user-mention silent" data-user-id="116266">Santiago Pastorino</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-01-27.20.2354818/near/269587484">said</a>:</p>
<blockquote>
<p>so the actual important ones are <a href="https://github.com/rust-lang/llvm-project/commit/221a195b62f4373a8893f4d022e4ce981b09a857">https://github.com/rust-lang/llvm-project/commit/221a195b62f4373a8893f4d022e4ce981b09a857</a> and <a href="https://github.com/rust-lang/llvm-project/commit/2abffbf977a9e8c6ca4174a08fe5c4d7781f0aac">https://github.com/rust-lang/llvm-project/commit/2abffbf977a9e8c6ca4174a08fe5c4d7781f0aac</a></p>
</blockquote>
<p>namely these ^ (assuming the others do indeed cancel each other out)</p>



<a name="269589921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269589921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269589921">(Jan 27 2022 at 15:35)</a>:</h4>
<p>I would argue that the codeview one is not all that important – unlikely to cause problems and does not introduce much of an interesting behaviour on its own either.</p>



<a name="269589959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269589959" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269589959">(Jan 27 2022 at 15:35)</a>:</h4>
<p>okay. after you get rid of the <code>#if 0</code> code, and the alpha rename, and the parameter-type change, it seems like the only real effect of  <a href="https://github.com/rust-lang/llvm-project/commit/221a195b62f4373a8893f4d022e4ce981b09a857">https://github.com/rust-lang/llvm-project/commit/221a195b62f4373a8893f4d022e4ce981b09a857</a>  is this</p>



<a name="269590030"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590030" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590030">(Jan 27 2022 at 15:36)</a>:</h4>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code><span class="gi">+  // Is this store a truncating one?</span><span class="w"></span>
<span class="gi">+  if (StoreSrcTy.getSizeInBits() != StoreMI.getMemSizeInBits())</span><span class="w"></span>
<span class="gi">+    return false;</span><span class="w"></span>
</code></pre></div>



<a name="269590124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590124" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590124">(Jan 27 2022 at 15:36)</a>:</h4>
<p>based on what I’ve seen, I’m comfortable back-porting this to stable</p>



<a name="269590137"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590137" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590137">(Jan 27 2022 at 15:36)</a>:</h4>
<p>Whatever we end up doing, let's make sure this is clearly communicated in the release notes: I know some Linux distros don't use our LLVM instead relying on their packaged version.</p>



<a name="269590249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590249">(Jan 27 2022 at 15:37)</a>:</h4>
<p><span class="user-mention" data-user-id="119031">@Esteban Küber</span> you want us to emphasize that we haven’t changed anything about how we interface to the underlying LLVM ?</p>



<a name="269590273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590273" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590273">(Jan 27 2022 at 15:37)</a>:</h4>
<p>i.e. I don’t expect distros to change their policy here based on these kinds of issues</p>



<a name="269590360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590360" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590360">(Jan 27 2022 at 15:38)</a>:</h4>
<p>or, oh, do some distro’s also patch their packaged LLVM in analogous ways?</p>



<a name="269590384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590384" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590384">(Jan 27 2022 at 15:38)</a>:</h4>
<p>(I would be surprised if they do, but what do I know)</p>



<a name="269590394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590394">(Jan 27 2022 at 15:38)</a>:</h4>
<p>I think it's also a good idea to emphasize this is us backporting an LLVM commit to fix an LLVM regression on a Tier 1 platform.</p>



<a name="269590442"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590442" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590442">(Jan 27 2022 at 15:39)</a>:</h4>
<p>Anyway, its not like we’re saying there has to be a point release</p>



<a name="269590481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590481" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590481">(Jan 27 2022 at 15:39)</a>:</h4>
<p>we’re just saying we would approve this being part of a hypotheical future point release</p>



<a name="269590538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590538">(Jan 27 2022 at 15:39)</a>:</h4>
<p>anyway, seems like there aren’t objections to approving a stable backport here.</p>



<a name="269590548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590548">(Jan 27 2022 at 15:39)</a>:</h4>
<p>so lets move along</p>



<a name="269590568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590568">(Jan 27 2022 at 15:39)</a>:</h4>
<p>so, let me recap the backports:</p>



<a name="269590595"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590595" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590595">(Jan 27 2022 at 15:40)</a>:</h4>
<ul>
<li><a href="https://github.com/rust-lang/rust/issues/93269">#93269</a> is approved and supersedes <a href="https://github.com/rust-lang/rust/issues/88354">#88354</a> (will be reverted on beta)</li>
</ul>



<a name="269590622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590622">(Jan 27 2022 at 15:40)</a>:</h4>
<ul>
<li><a href="https://github.com/rust-lang/rust/issues/93081">#93081</a> ok'd for both beta and stable backport</li>
</ul>



<a name="269590632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590632" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590632">(Jan 27 2022 at 15:40)</a>:</h4>
<p>correct?</p>



<a name="269590729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590729">(Jan 27 2022 at 15:40)</a>:</h4>
<p>uh, more like: we decided not to backport PR <a href="https://github.com/rust-lang/rust/issues/93269">#93269</a>, and instead we will revert PR <a href="https://github.com/rust-lang/rust/issues/88354">#88354</a> on beta</p>



<a name="269590783"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590783" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590783">(Jan 27 2022 at 15:41)</a>:</h4>
<p>ok thanks, I didnt clearly understand :)</p>



<a name="269590789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590789">(Jan 27 2022 at 15:41)</a>:</h4>
<p>(though if there is some <em>problem</em> with reverting PR <a href="https://github.com/rust-lang/rust/issues/88354">#88354</a>, then I guess we would fallback on backporting PR <a href="https://github.com/rust-lang/rust/issues/93269">#93269</a>. So, sure.)</p>



<a name="269590812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590812" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590812">(Jan 27 2022 at 15:41)</a>:</h4>
<p>(but so far, no one is expecting a problem with reverting PR <a href="https://github.com/rust-lang/rust/issues/88354">#88354</a>)</p>



<a name="269590866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590866" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590866">(Jan 27 2022 at 15:41)</a>:</h4>
<p>I don’t see any rustdoc stuff in the agenda. Did you elide that section this week, <span class="user-mention" data-user-id="250987">@apiraino</span> ?</p>



<a name="269590928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590928" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590928">(Jan 27 2022 at 15:42)</a>:</h4>
<p>(which I am totally cool with)</p>



<a name="269590954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590954">(Jan 27 2022 at 15:42)</a>:</h4>
<p>uh yes (was a mistake, but ... yeah)</p>



<a name="269590964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590964">(Jan 27 2022 at 15:42)</a>:</h4>
<p>okay</p>



<a name="269590971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590971">(Jan 27 2022 at 15:42)</a>:</h4>
<h2>PRs S-waiting-on-team</h2>
<p><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p>
<ul>
<li>No PRs waiting on <code>T-compiler</code> this time.</li>
</ul>



<a name="269590994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269590994" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269590994">(Jan 27 2022 at 15:42)</a>:</h4>
<p>ing for review</p>
<p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler+-label%3AT-lang+-label%3AT-infra+-label%3AT-release+-label%3AT-libs+-label%3AT-libs-api">List of PRs <code>s-waiting-for-review</code></a></p>



<a name="269591011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591011">(Jan 27 2022 at 15:42)</a>:</h4>
<ul>
<li>"might_permit_raw_init: also check arrays (take two)" <a href="https://github.com/rust-lang/rust/pull/87041">rust#87041</a> (last review activity: 6 months ago)<ul>
<li>opened by <span class="user-mention" data-user-id="125294">@Aaron Hill</span></li>
<li>assigned to <span class="user-mention" data-user-id="124288">@oli</span></li>
<li>PR now seems ready again for review</li>
<li>seems interesting for <a href="https://github.com/rust-lang/rust/issues/66151">rust#66151</a></li>
</ul>
</li>
</ul>



<a name="269591099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591099" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591099">(Jan 27 2022 at 15:43)</a>:</h4>
<p>I’ll assume <span class="user-mention" data-user-id="124288">@oli</span> will get around to this. Let us know if you need this redistributed, <span class="user-mention" data-user-id="124288">@oli</span></p>



<a name="269591135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591135">(Jan 27 2022 at 15:43)</a>:</h4>
<ul>
<li>"When encountering a binding that could be a const or unit variant, suggest the right path" <a href="https://github.com/rust-lang/rust/pull/90988">rust#90988</a> (last review activity: 2 months ago)<ul>
<li>PR author @<strong>estebank</strong></li>
<li>rust-highfive assigned to <span class="user-mention" data-user-id="116118">@Matthew Jasper</span></li>
<li>PR now shows conflicts due to upstream changes</li>
</ul>
</li>
</ul>



<a name="269591228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591228">(Jan 27 2022 at 15:44)</a>:</h4>
<p><span class="user-mention" data-user-id="119031">@Esteban Küber</span> , I’ll trust you’ll reach out if you’re not getting review support that you need</p>



<a name="269591250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591250" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591250">(Jan 27 2022 at 15:44)</a>:</h4>
<ul>
<li>"More informative error message for E0015" <a href="https://github.com/rust-lang/rust/pull/90532">rust#90532</a> (last review activity: 2 months ago)<ul>
<li>pr improves diagnostics (see <a href="https://github.com/rust-lang/rust/issues/92380">rust#92380</a>)</li>
<li>pr author <span class="user-mention" data-user-id="361356">@fee1-dead</span>  </li>
<li>review assigned to <span class="user-mention" data-user-id="124288">@oli</span></li>
</ul>
</li>
</ul>



<a name="269591304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591304" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591304">(Jan 27 2022 at 15:45)</a>:</h4>
<p>same deal as the PR two steps up; I’m assuming <span class="user-mention" data-user-id="124288">@oli</span> will be getting around to this soon.</p>



<a name="269591331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591331" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591331">(Jan 27 2022 at 15:45)</a>:</h4>
<ul>
<li>"Try to normalize associated types before processing obligations" <a href="https://github.com/rust-lang/rust/pull/90887">rust#90887</a> (last review activity: 2 months ago)<ul>
<li>pr author <span class="user-mention" data-user-id="232957">@Jack Huey</span> </li>
<li>assigned to <span class="user-mention" data-user-id="116009">@nikomatsakis</span> </li>
<li><a href="https://github.com/rust-lang/rust/pull/90887#issuecomment-973164844">last comment</a> from author hints that perf regressions are triaged</li>
</ul>
</li>
</ul>



<a name="269591393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591393">(Jan 27 2022 at 15:45)</a>:</h4>
<p>(i have a bunch of languishing PRs that I need to get back to, just haven't had the time to dedicate myself to them)</p>



<a name="269591433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591433" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591433">(Jan 27 2022 at 15:45)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/90887">#90887</a> is just waiting for <span class="user-mention" data-user-id="116009">@nikomatsakis</span></p>



<a name="269591509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591509">(Jan 27 2022 at 15:46)</a>:</h4>
<p><span class="user-mention" data-user-id="232957">@Jack Huey</span> same as <span class="user-mention" data-user-id="119031">@Esteban Küber</span> : just let me know if you aren’t getting the review support you need.</p>



<a name="269591510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591510">(Jan 27 2022 at 15:46)</a>:</h4>
<p>It's been brought up a bunch, he just hasn't gotten to it</p>



<a name="269591524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591524">(Jan 27 2022 at 15:46)</a>:</h4>
<p>Okay, sounds good.</p>



<a name="269591562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591562" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591562">(Jan 27 2022 at 15:46)</a>:</h4>
<ul>
<li>"Store hir_id_to_def_id in OwnerNodes." <a href="https://github.com/rust-lang/rust/pull/91112">rust#91112</a> (last review activity: 2 months ago)<ul>
<li>pr author <span class="user-mention" data-user-id="248906">@cjgillot</span></li>
<li>seems to be part of <a href="https://github.com/rust-lang/rust/pull/88186">rust#88186</a></li>
<li>no assignee to far</li>
<li>latest <a href="https://github.com/rust-lang/rust/pull/91112#issuecomment-986269024">perf run</a> shows mixed results with significant increase in instruction count. Does this perf benchmark needs triaging?</li>
</ul>
</li>
</ul>



<a name="269591632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591632" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591632">(Jan 27 2022 at 15:47)</a>:</h4>
<p>oh, its been closed. :)</p>



<a name="269591635"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591635" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591635">(Jan 27 2022 at 15:47)</a>:</h4>
<p>pr is closed now</p>



<a name="269591680"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591680" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591680">(Jan 27 2022 at 15:47)</a>:</h4>
<p>great great great</p>



<a name="269591707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591707" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591707">(Jan 27 2022 at 15:47)</a>:</h4>
<h2>Issues of Note</h2>
<h3>Short Summary</h3>
<ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">2 T-compiler P-critical issues</a><ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">0 of those are unassigned</a></li>
</ul>
</li>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">76 T-compiler P-high issues</a><ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">48 of those are unassigned</a></li>
</ul>
</li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta">0 P-critical, 0 P-high, 0 P-medium, 1 P-low regression-from-stable-to-beta</a></li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly">0 P-critical, 1 P-high, 1 P-medium, 0 P-low regression-from-stable-to-nightly</a></li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable">2 P-critical, 50 P-high, 81 P-medium, 12 P-low regression-from-stable-to-stable</a></li>
</ul>



<a name="269591750"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591750" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591750">(Jan 27 2022 at 15:47)</a>:</h4>
<h3>P-critical</h3>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p>



<a name="269591771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591771" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591771">(Jan 27 2022 at 15:47)</a>:</h4>
<ul>
<li>"Miscompilation where binding only some fields leaks the others" <a href="https://github.com/rust-lang/rust/issues/90752">rust#90752</a><ul>
<li>Should be fixed in 1.58.x (see following note)</li>
</ul>
</li>
</ul>



<a name="269591823"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591823" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591823">(Jan 27 2022 at 15:48)</a>:</h4>
<ul>
<li>"Compile-time regression between 1.56.1 and 1.57.0 for deeply nested decorator types" <a href="https://github.com/rust-lang/rust/issues/91598">rust#91598</a><ul>
<li>Should be fixed in 1.58.x (see following note), commenter reports to see it fixed in 1.59</li>
</ul>
</li>
</ul>



<a name="269591870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269591870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269591870">(Jan 27 2022 at 15:48)</a>:</h4>
<ul>
<li>A note about <a href="https://github.com/rust-lang/rust/issues/90752">#90752</a> and <a href="https://github.com/rust-lang/rust/issues/91598">#91598</a>: I (<span class="user-mention silent" data-user-id="250987">apiraino</span> ) tried to gather input from issue authors (and other people affected) if these issues are solved on their end, so we can move to closing them. Latest comments seems to indicate that in general people are happy, though not always clear if they can still reproduce the original situation. How to best handle this? Can we close them or should we wait for a little bit more?</li>
</ul>



<a name="269592017"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592017" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592017">(Jan 27 2022 at 15:49)</a>:</h4>
<p><code>S-probably-fixed</code>? /s</p>



<a name="269592025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592025" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592025">(Jan 27 2022 at 15:49)</a>:</h4>
<p>it sounds to me like in both these cases, the problem no longer duplicates in the minimized versions that were supplied, right?</p>



<a name="269592127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592127">(Jan 27 2022 at 15:49)</a>:</h4>
<p>I'm in favor of closing if we're "reasonably" confident the issue is actually resolved. We can always reopen if the author comes back and says it isn't fixed.</p>



<a name="269592188"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592188" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592188">(Jan 27 2022 at 15:50)</a>:</h4>
<p>yes. I am in favor of closing both these</p>



<a name="269592212"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592212" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592212">(Jan 27 2022 at 15:50)</a>:</h4>
<p>in some cases, other people piled on in the comments, with bugs they thought were related</p>



<a name="269592243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592243" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592243">(Jan 27 2022 at 15:50)</a>:</h4>
<p>and in some cases, those related bugs won’t actually be fixed</p>



<a name="269592267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592267">(Jan 27 2022 at 15:50)</a>:</h4>
<p>in theory, the right thing to do there is to go through those comments and identify those cases and file separate issues for them</p>



<a name="269592300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592300" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592300">(Jan 27 2022 at 15:51)</a>:</h4>
<p>but I don’t want to block closing these issues on that task, which might never happen</p>



<a name="269592326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592326">(Jan 27 2022 at 15:51)</a>:</h4>
<p>Plus, for <a href="https://github.com/rust-lang/rust/issues/91598">#91598</a>, we have a benchmark now to cover this case</p>



<a name="269592353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592353" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592353">(Jan 27 2022 at 15:51)</a>:</h4>
<p>There's a couple PRs open that might improve it</p>



<a name="269592383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592383">(Jan 27 2022 at 15:51)</a>:</h4>
<p>I’m trusting the commenters to do that if it matters, the same way I ‘m trusting the issue authors to file a new issue if the original unminimized thing isn’t actually resolved.</p>



<a name="269592482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592482">(Jan 27 2022 at 15:52)</a>:</h4>
<p>so lets close these. Thanks so much for following up with the issue filers here, <span class="user-mention" data-user-id="250987">@apiraino</span> !</p>



<a name="269592510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592510">(Jan 27 2022 at 15:52)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc">T-rustdoc</a></p>
<ul>
<li>No <code>P-critical</code> issues for <code>T-rustdoc</code> this time.</li>
</ul>



<a name="269592525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592525" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592525">(Jan 27 2022 at 15:52)</a>:</h4>
<h3>P-high regressions</h3>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p>
<ul>
<li>No <code>P-high</code> beta regressions this time.</li>
</ul>



<a name="269592548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592548">(Jan 27 2022 at 15:52)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">Unassigned P-high nightly regressions</a></p>
<ul>
<li>"Regression in async generator and fmt internals: loss of <code>Send</code>" <a href="https://github.com/rust-lang/rust/issues/93274">rust#93274</a><ul>
<li>opened by <span class="user-mention" data-user-id="232018">@Daniel Henry-Mantilla</span> </li>
<li><span class="user-mention" data-user-id="116113">@lqd</span> provides some analysis (see <a href="https://github.com/rust-lang/rust/issues/93274#issuecomment-1020710662">comment</a>), seems to have regressed in <a href="https://github.com/rust-lang/rust/pull/91359">rust#91359</a></li>
</ul>
</li>
</ul>



<a name="269592636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592636" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592636">(Jan 27 2022 at 15:53)</a>:</h4>
<p>lets tag with with the async labels, the <span class="user-group-mention" data-user-group-id="1172">@WG-async-foundations</span> group should be looking at it, I think.</p>



<a name="269592690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592690" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592690">(Jan 27 2022 at 15:53)</a>:</h4>
<p>(probably dtolnay as well)</p>



<a name="269592696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592696">(Jan 27 2022 at 15:53)</a>:</h4>
<h2>Performance logs</h2>
<h3><a href="https://github.com/rust-lang/rustc-perf/blob/master/triage/2022-01-25.md">2022-01-26 Triage Log</a></h3>
<p>An awesome week. There was some bits of noise from PR <a href="https://github.com/rust-lang/rust/issues/91032">#91032</a> that landed and then had to be backed out (and may soon land again), and we continue to wrestle with how to classify which things to include in rollup PR's. But overall there were some very real wins to the compiler's performance, and it is definitely reflected in the <a href="https://perf.rust-lang.org/bootstrap.html">total bootstrap time graph</a>. Great job!</p>
<p>Triage done by <strong>@pnkfelix</strong>.<br>
Revision range: <a href="https://perf.rust-lang.org/?start=7bc7be860f99f4a40d45b0f74e2d01b02e072357&amp;end=c54dfee65126a0ac385d55389a316e89095a0713&amp;absolute=false&amp;stat=instructions%3Au">7bc7be860f99f4a40d45b0f74e2d01b02e072357..c54dfee65126a0ac385d55389a316e89095a0713</a></p>
<p>4 Regressions, 5 Improvements, 4 Mixed; 3 of them in rollups</p>
<p>29 comparisons made in total<br>
30 Untriaged Pull Requests</p>



<a name="269592747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592747" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592747">(Jan 27 2022 at 15:53)</a>:</h4>
<h4>Regressions</h4>
<p>Update some rustc dependencies to deduplicate them <a href="https://github.com/rust-lang/rust/issues/92896">#92896</a></p>
<ul>
<li>Average relevant regression: 0.5%</li>
<li>Largest regression in <a href="https://perf.rust-lang.org/compare.html?start=0bcacb391b28460f5a50fd627f01f670dfcfc7cc&amp;end=84e918971d643c6a33067d5125214ab800ce5307&amp;stat=instructions:u">instruction counts</a>: 0.6% on <code>full</code> builds of <code>match-stress-enum check</code></li>
<li>6 of the 7 significant relevant regresions were to variants of <code>match-stress-enum</code>.</li>
<li>PR author guesses that it could be noise injected via one of the dependency updates, specifically hashbrown 0.11.0 to 0.11.2.</li>
<li>Left it untriaged for now (I would like to circle back and check whether there's any way to check that hypothesis; but if it goes untouched for a week, then we might just rubber-stamp it as triaged).</li>
</ul>
<p>Disable drop range tracking in generators <a href="https://github.com/rust-lang/rust/issues/93165">#93165</a></p>
<ul>
<li>Average relevant regression: 284.5%</li>
<li>Largest regression in <a href="https://perf.rust-lang.org/compare.html?start=10c4c4afec6dfc483af6efb7019941bab9a51a29&amp;end=d13e8dd41d44a73664943169d5b7fe39b22c449f&amp;stat=instructions:u">instruction counts</a>: 879.2% on <code>full</code> builds of <code>deeply-nested-async check</code></li>
<li>This regression was expected; it is a result of backing out PR <a href="https://github.com/rust-lang/rust/issues/91032">#91032</a>, which was included in rollup PR <a href="https://github.com/rust-lang/rust/issues/93138">#93138</a>, but was reverted due to correctness concerns (discussed under "Mixed" section below).</li>
</ul>
<p>Revert "Do not hash leading zero bytes of i64 numbers in Sip128 hasher" <a href="https://github.com/rust-lang/rust/issues/93014">#93014</a></p>
<ul>
<li>Average relevant regression: 1.5%</li>
<li>Average relevant improvement: -0.7%</li>
<li>Largest regression in <a href="https://perf.rust-lang.org/compare.html?start=ef119d704d87a05435ea97ef4161529142313a9b&amp;end=d2dc425721554348d4ed427f7eb89cdb49efefdb&amp;stat=instructions:u">instruction counts</a>: 7.9% on <code>incr-full</code> builds of <code>clap-rs check</code></li>
<li>This regression was expected; this PR reverts a perf optimization to restore correctness.</li>
</ul>
<p>Store a <code>Symbol</code> instead of an <code>Ident</code> in <code>AssocItem</code> <a href="https://github.com/rust-lang/rust/issues/93095">#93095</a></p>
<ul>
<li>Average relevant regression: 0.8%</li>
<li>Largest regression in <a href="https://perf.rust-lang.org/compare.html?start=92ed8747f255b2695c33b64982e6959711a72cb9&amp;end=8cdb3cd94efece1e17cbd8f6edb1dc1a482779a0&amp;stat=instructions:u">instruction counts</a>: 2.1% on <code>incr-patched: compile one</code> builds of <code>regex check</code></li>
<li>This PR was already triaged: it is a correctness fix for incremental compilation, and the lesser of two evils (when compared to PR <a href="https://github.com/rust-lang/rust/pull/92837">#92837</a>).</li>
</ul>



<a name="269592862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592862">(Jan 27 2022 at 15:54)</a>:</h4>
<h4>Improvements</h4>
<ul>
<li>Improve capacity estimation in Vec::from_iter <a href="https://github.com/rust-lang/rust/issues/92138">#92138</a></li>
<li>Make <code>Decodable</code> and <code>Decoder</code> infallible. <a href="https://github.com/rust-lang/rust/issues/93066">#93066</a></li>
<li>Use <code>indexmap</code> to avoid sorting <code>LocalDefId</code>s <a href="https://github.com/rust-lang/rust/issues/90842">#90842</a></li>
<li>Rustdoc: remove ListAttributesIter and use impl Iterator instead <a href="https://github.com/rust-lang/rust/issues/92353">#92353</a></li>
<li>Rollup of 10 pull requests <a href="https://github.com/rust-lang/rust/issues/93069">#93069</a></li>
</ul>



<a name="269592999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269592999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269592999">(Jan 27 2022 at 15:55)</a>:</h4>
<p>by the way, I did have specific notes on the Improvements, <a href="https://github.com/rust-lang/rustc-perf/blob/master/triage/2022-01-25.md#improvements">https://github.com/rust-lang/rustc-perf/blob/master/triage/2022-01-25.md#improvements</a></p>



<a name="269593034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593034" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593034">(Jan 27 2022 at 15:55)</a>:</h4>
<p>in particular I wanted to give a shout out to <span class="user-mention" data-user-id="120989">@nnethercote</span> for the work on PR <a href="https://github.com/rust-lang/rust/issues/93066">#93066</a></p>



<a name="269593187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593187">(Jan 27 2022 at 15:56)</a>:</h4>
<h4>Mixed</h4>
<p>Rollup of 17 pull requests <a href="https://github.com/rust-lang/rust/issues/93138">#93138</a></p>
<ul>
<li>Average relevant regression: 1.6%</li>
<li>Average relevant improvement: -57.9%</li>
<li>Largest improvement in <a href="https://perf.rust-lang.org/compare.html?start=777bb86bcdbc568be7cff6eeeaaf81a89b4aa50b&amp;end=523be2e05da322daaecf1ecc8f2c0d625f5f46e3&amp;stat=instructions:u">instruction counts</a>: -89.5% on <code>full</code> builds of <code>deeply-nested-async check</code></li>
<li>Largest regression in <a href="https://perf.rust-lang.org/compare.html?start=777bb86bcdbc568be7cff6eeeaaf81a89b4aa50b&amp;end=523be2e05da322daaecf1ecc8f2c0d625f5f46e3&amp;stat=instructions:u">instruction counts</a>: 2.6% on <code>full</code> builds of <code>await-call-tree check</code></li>
<li>The noted improvement from this roll-up was due to the inclusion of PR <a href="https://github.com/rust-lang/rust/pull/91032">#91032</a>, "Introduce drop range tracking to generator interior analysis".</li>
<li>PR <a href="https://github.com/rust-lang/rust/pull/91032">#91032</a> injected a family of ICEs, such as issue <a href="https://github.com/rust-lang/rust/issues/93161">#93161</a>, so the feature it added is being disabled.</li>
<li>As for the improvement: The PR author, <span class="user-mention" data-user-id="421986">@eholk</span>, made a <a href="https://github.com/rust-lang/rust/pull/93138#issuecomment-1019567349">note</a> hypothesizing that the improvement to deeply-nested-async may be an artifact of how much is pruned from the generator type. (This may be a sign of a overly artificial benchmark; I wrote a <a href="https://github.com/rust-lang/rust/pull/93138#issuecomment-1021820785">comment</a> asking for more clarification there.)</li>
</ul>
<p>Emit simpler code from format_args <a href="https://github.com/rust-lang/rust/issues/91359">#91359</a></p>
<ul>
<li>Average relevant regression: 1.2%</li>
<li>Average relevant improvement: -0.7%</li>
<li>Largest improvement in <a href="https://perf.rust-lang.org/compare.html?start=523be2e05da322daaecf1ecc8f2c0d625f5f46e3&amp;end=0bcacb391b28460f5a50fd627f01f670dfcfc7cc&amp;stat=instructions:u">instruction counts</a>: -2.2% on <code>full</code> builds of <code>cranelift-codegen check</code></li>
<li>Largest regression in <a href="https://perf.rust-lang.org/compare.html?start=523be2e05da322daaecf1ecc8f2c0d625f5f46e3&amp;end=0bcacb391b28460f5a50fd627f01f670dfcfc7cc&amp;stat=instructions:u">instruction counts</a>: 3.0% on <code>full</code> builds of <code>html5ever opt</code></li>
<li>These performance differences were anticipated ahead of time. <span class="user-mention" data-user-id="116122">@simulacrum</span> posted a <a href="https://github.com/rust-lang/rust/pull/91359#issuecomment-1013525074">nice analysis</a> explaining the probable root cause.</li>
<li>Notably, "with <code>-Csymbol-mangling-version=v0</code> the hashes (changes to which cause LLVM's workload to change) go away; [...] this patch is pretty much an improvement in terms of emitted IR (as roughly expected)."</li>
</ul>
<p>Update hashbrown to 0.12.0 <a href="https://github.com/rust-lang/rust/issues/92998">#92998</a></p>
<ul>
<li>Average relevant regression: 1.0%</li>
<li>Average relevant improvement: -0.9%</li>
<li>Largest improvement in <a href="https://perf.rust-lang.org/compare.html?start=bfe15646761a75f0259e204cab071565eed2b1e5&amp;end=10c4c4afec6dfc483af6efb7019941bab9a51a29&amp;stat=instructions:u">instruction counts</a>: -9.4% on <code>incr-patched: println</code> builds of <code>webrender opt</code></li>
<li>Largest regression in <a href="https://perf.rust-lang.org/compare.html?start=bfe15646761a75f0259e204cab071565eed2b1e5&amp;end=10c4c4afec6dfc483af6efb7019941bab9a51a29&amp;stat=instructions:u">instruction counts</a>: 2.5% on <code>incr-unchanged</code> builds of <code>externs debug</code></li>
<li>"an overall win but with a bit of noise since this code is extremely sensitive to inlining."</li>
</ul>
<p>Rollup of 8 pull requests <a href="https://github.com/rust-lang/rust/issues/93288">#93288</a></p>
<ul>
<li>Average relevant regression: 1.5%</li>
<li>Average relevant improvement: -0.7%</li>
<li>Largest improvement in <a href="https://perf.rust-lang.org/compare.html?start=e7825f2b690c9a0d21b6f6d84c404bb53b151b38&amp;end=df368ae457c54fb95d3e64f9986a5f171a6370f0&amp;stat=instructions:u">instruction counts</a>: -0.8% on <code>incr-full</code> builds of <code>keccak check</code></li>
<li>Largest regression in <a href="https://perf.rust-lang.org/compare.html?start=e7825f2b690c9a0d21b6f6d84c404bb53b151b38&amp;end=df368ae457c54fb95d3e64f9986a5f171a6370f0&amp;stat=instructions:u">instruction counts</a>: 2.0% on <code>incr-full</code> builds of <code>stm32f4 check</code></li>
<li>stm32f4 regressed on many axes (check/debug/opt/doc, full and incremental); inflate check for both full and incremental. keccak improved slightly.</li>
<li>It is not obvious what caused the changes here in this rollup.</li>
<li>stm32f4 was added in part to test compiler trait machinery.</li>
<li>After looking at each of 8 PR's in the rollup, most likely causes are either PR <a href="https://github.com/rust-lang/rust/pull/93064/">#93064</a> ("Properly track DepNodes in trait evaluation provisional cache") or PR <a href="https://github.com/rust-lang/rust/pull/93175/">#93175</a> ("Implement stable overlap check considering negative traits"). Left comments on each PR asking if they should have had perf runs.</li>
<li>I am leaving this unmarked (i.e. untriaged) for now.</li>
</ul>



<a name="269593259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593259" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593259">(Jan 27 2022 at 15:56)</a>:</h4>
<h2>Nominated Issues</h2>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler">T-compiler</a></p>
<ul>
<li>No nominated issues for <code>T-compiler</code> this time.</li>
</ul>
<p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler">RFC</a></p>
<ul>
<li>No nominated RFCs for <code>T-compiler</code> this time.</li>
</ul>



<a name="269593344"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593344" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593344">(Jan 27 2022 at 15:57)</a>:</h4>
<p>I would like to call out "New Cargo and Rust options to support embedding Natvis into a PDB" - <a href="https://github.com/rust-lang/rfcs/pull/3191">https://github.com/rust-lang/rfcs/pull/3191</a></p>



<a name="269593390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593390">(Jan 27 2022 at 15:57)</a>:</h4>
<p>Oh cool</p>



<a name="269593401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593401" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593401">(Jan 27 2022 at 15:57)</a>:</h4>
<p>That reminds me!</p>



<a name="269593472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593472">(Jan 27 2022 at 15:58)</a>:</h4>
<p>we have an ongoing conversation in <a class="stream-topic" data-stream-id="131828" href="/#narrow/stream/131828-t-compiler/topic/roadmap.20for.202022.20discussion">#t-compiler &gt; roadmap for 2022 discussion</a></p>



<a name="269593478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593478">(Jan 27 2022 at 15:58)</a>:</h4>
<p>Discussion is winding down so once that happens, I'm planning on starting an FCP to merge.</p>



<a name="269593519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593519" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593519">(Jan 27 2022 at 15:58)</a>:</h4>
<p>so if you care about where energy is spent this year on the compiler, you should join in that discussion</p>



<a name="269593580"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593580" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593580">(Jan 27 2022 at 15:59)</a>:</h4>
<p>and I want to specifically call out: <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> and <span class="user-mention" data-user-id="116083">@pnkfelix</span> are thinking that we finally have enough interest (and resources) to spin up a WG-debugging</p>



<a name="269593639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593639">(Jan 27 2022 at 15:59)</a>:</h4>
<p>So if you’re interested in helping out there (with implementation <em>or</em> with project management type stuff), please do reach out.</p>



<a name="269593684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593684" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593684">(Jan 27 2022 at 15:59)</a>:</h4>
<p>like, you don’t have to be an expert in DWARF to be a huge help here.</p>



<a name="269593812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593812" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593812">(Jan 27 2022 at 16:00)</a>:</h4>
<p>We should share this widely</p>



<a name="269593822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593822">(Jan 27 2022 at 16:00)</a>:</h4>
<p>I’m hoping I’ll have more to say on that subject in the next few weeks</p>



<a name="269593923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593923">(Jan 27 2022 at 16:01)</a>:</h4>
<p>Yes. I am thinking I would like a structure somewhat inspired by what the Async Vision doc did</p>



<a name="269593963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269593963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269593963">(Jan 27 2022 at 16:01)</a>:</h4>
<p>in particular, I want people to share their “Status Quo” stories of what debugging is like for them.</p>



<a name="269594139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269594139" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269594139">(Jan 27 2022 at 16:02)</a>:</h4>
<p>(but before I kick off any effort there, I want to circle ‘round with <span class="user-mention" data-user-id="116009">@nikomatsakis</span> and try to figure out if there’s a more lightweight structure we could use. and/or one that lets people have more agency with how they choose to relay their Status Quo stories to us…)</p>



<a name="269594160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269594160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269594160">(Jan 27 2022 at 16:02)</a>:</h4>
<p>It would also be useful to identify experts for particular debuggers we can lean on when asking questions or deciding what the particular behavior of something should be.</p>



<a name="269594210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269594210" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269594210">(Jan 27 2022 at 16:02)</a>:</h4>
<p>I may be able to occasionally help out. I've read a decent part of the dwarf spec to add debugging support to cg_clif, though I am by no means an expert.</p>



<a name="269594248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269594248" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269594248">(Jan 27 2022 at 16:02)</a>:</h4>
<p>Yes. As I mentioned in <a class="stream-topic" data-stream-id="131828" href="/#narrow/stream/131828-t-compiler/topic/roadmap.20for.202022.20discussion">#t-compiler &gt; roadmap for 2022 discussion</a> I have gotten engagement from one of the original authors of LLDB</p>



<a name="269594291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269594291" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269594291">(Jan 27 2022 at 16:03)</a>:</h4>
<p>so we definitely have resources we can tap here</p>



<a name="269594397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202022-01-27%20%2354818/near/269594397" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202022-01-27.20.2354818.html#269594397">(Jan 27 2022 at 16:03)</a>:</h4>
<p>anyway, our hour is up! Thank all of you in <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span>  for coming!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>