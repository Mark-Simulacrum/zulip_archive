<html>
<head><meta charset="utf-8"><title>[weekly] 2021-07-15 #54818 · t-compiler/meetings · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/index.html">t-compiler/meetings</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html">[weekly] 2021-07-15 #54818</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="246084064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246084064" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246084064">(Jul 15 2021 at 12:03)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span>; the triage meeting will take place in 2h<br>
<em>WG-prioritization</em> has done pre-triage in <a class="stream" data-stream-id="245100" href="/#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts">#t-compiler/wg-prioritization/alerts</a> and prepared the <a href="https://hackmd.io/PgfxdZIrTEOQ5Mw_ZEEesA?view">meeting agenda</a></p>
<p>Scheduled checkins from:</p>
<ul>
<li><span class="user-group-mention" data-user-group-id="1172">@WG-async-foundations</span>  by <span class="user-mention" data-user-id="116009">@nikomatsakis</span>  and <span class="user-mention" data-user-id="116883">@tmandry</span>: anything to share?</li>
<li><span class="user-group-mention" data-user-group-id="692">@WG-traits</span>  by <span class="user-mention" data-user-id="116009">@nikomatsakis</span>  and <span class="user-mention" data-user-id="232957">@Jack Huey</span> : anything to report?</li>
</ul>



<a name="246097729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246097729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246097729">(Jul 15 2021 at 14:00)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span>; lets get the meeting started. Leave a <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> to show you’re here.</p>



<a name="246097849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246097849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246097849">(Jul 15 2021 at 14:01)</a>:</h4>
<p>We’ll start off with ~8 minutes for </p>
<h2>Announcements</h2>



<a name="246098067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098067" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098067">(Jul 15 2021 at 14:02)</a>:</h4>
<p>Hmm. The compiler team calendar doesn’t reflect it (Yet!), but</p>



<a name="246098130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098130" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098130">(Jul 15 2021 at 14:02)</a>:</h4>
<p>tomorrow we do have a steering meeting, to discuss extensions to the review policy for Rust Compiler Pull Requests.</p>



<a name="246098181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098181">(Jul 15 2021 at 14:03)</a>:</h4>
<p>somehow I consistently fail to take care of doing both 1. updating calendar and 2. writing the Inside Rust blog post. :(</p>



<a name="246098205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098205">(Jul 15 2021 at 14:03)</a>:</h4>
<p>We're starting to design the Rust Annual Survey for 2021. We'd love to know what types of things that the compiler team is interested in finding out. I've created a document <a href="https://hackmd.io/@ryanlevick/rJFqnDV6O">here</a> to capture ideas. This document is about capturing high-level questions we want to answer, not the specific questions that will be included in the survey itself. If you're interested in helping more with the survey visit us over in <a class="stream" data-stream-id="294169" href="/#narrow/stream/294169-t-community.2Frust-survey-2021">#t-community/rust-survey-2021</a></p>



<a name="246098253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098253" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098253">(Jul 15 2021 at 14:03)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="224872">@rylev</span> !</p>



<a name="246098321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098321">(Jul 15 2021 at 14:04)</a>:</h4>
<p>also, tomorrows steering meeting on review policy is <a href="https://github.com/rust-lang/compiler-team/issues/444">compiler-team#444</a></p>



<a name="246098328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098328">(Jul 15 2021 at 14:04)</a>:</h4>
<p><span class="user-mention" data-user-id="124287">@mw</span> had the great idea of asking more about the privacy policy around the compiler gathering metrics (like ICEs). We'll definitely want to consider that</p>



<a name="246098358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098358" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098358">(Jul 15 2021 at 14:04)</a>:</h4>
<p>I'd like to also give a shoutout to <span class="user-mention" data-user-id="255061">@Léo Lanteri Thauvin</span> who landed a PR in the last week to make <code>r? @rust-lang/compiler</code> reroll for a new random reviewer. </p>
<p><a href="https://github.com/rust-lang/highfive/pull/249">https://github.com/rust-lang/highfive/pull/249</a></p>



<a name="246098422"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098422" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098422">(Jul 15 2021 at 14:05)</a>:</h4>
<p>I’m going to go ahead and start in on MCPS/FCPs, but I welcome people to continue chiming in with more announcements</p>



<a name="246098431"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098431" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098431">(Jul 15 2021 at 14:05)</a>:</h4>
<h2>MCPs/FCPs</h2>
<ul>
<li>New MCPs (take a look, see if you like them!)<ul>
<li>"Non exhaustive reachable patterns lint" <a href="https://github.com/rust-lang/compiler-team/issues/445">compiler-team#445</a></li>
</ul>
</li>
</ul>



<a name="246098488"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098488" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098488">(Jul 15 2021 at 14:05)</a>:</h4>
<ul>
<li>Old MCPs (not seconded, take a look)<ul>
<li>"Add different entry points for x.py" <a href="https://github.com/rust-lang/compiler-team/issues/396">compiler-team#396</a> (last comment: 6 months ago)</li>
<li>"rustdoc is using rustc_ast_pretty, would it be possible to make it somewhat "stable"?" <a href="https://github.com/rust-lang/compiler-team/issues/403">compiler-team#403</a> (last comment: 5 months ago)</li>
<li>"Don't steal the resolver when lowering HIR; instead store an immutable resolver in TyCtxt" <a href="https://github.com/rust-lang/compiler-team/issues/437">compiler-team#437</a> (last comment: about 34 days ago)</li>
<li>"CI should exercise (subset of) tests under --stage 1" <a href="https://github.com/rust-lang/compiler-team/issues/439">compiler-team#439</a> (last comment: about 13 days ago)</li>
<li>"Accept <code>pc</code> in place of <code>unknown</code> and <code>unknown</code> in place of <code>pc</code> for <code>x86_64</code> and <code>i?86</code> targets" <a href="https://github.com/rust-lang/compiler-team/issues/441">compiler-team#441</a> (last comment: about 13 days ago)</li>
<li>"Encode spans relative to the enclosing item" <a href="https://github.com/rust-lang/compiler-team/issues/443">compiler-team#443</a> (last comment: about 13 days ago)</li>
</ul>
</li>
</ul>



<a name="246098514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098514">(Jul 15 2021 at 14:05)</a>:</h4>
<ul>
<li>Pending FCP requests (check your boxes!)<ul>
<li>"Write text output files to stdout if options like <code>-o -</code> or <code>--emit asm=-</code> are provided" <a href="https://github.com/rust-lang/compiler-team/issues/431">compiler-team#431</a> </li>
<li>"Preserve, clarify, and extend debug information" <a href="https://github.com/rust-lang/rust/pull/83947">rust#83947</a></li>
</ul>
</li>
</ul>



<a name="246098548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098548">(Jul 15 2021 at 14:05)</a>:</h4>
<ul>
<li>Things in FCP (make sure you're good with it)<ul>
<li>No FCP requests this time.</li>
</ul>
</li>
<li>Accepted MCPs<ul>
<li>No new accepted proposals this time.</li>
</ul>
</li>
</ul>



<a name="246098575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098575" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098575">(Jul 15 2021 at 14:05)</a>:</h4>
<ul>
<li>Finalized FCPs (disposition merge)<ul>
<li>"Tracking issue for <code>#![feature(maybe_uninit_extra,const_maybe_uninit_write)]</code>" <a href="https://github.com/rust-lang/rust/issues/63567">rust#63567</a> </li>
<li>"Tracking Issue for <code>array_map</code>" <a href="https://github.com/rust-lang/rust/issues/75243">rust#75243</a> </li>
<li>"Stabilize <code>impl From&lt;[(K, V); N]&gt; for HashMap</code> (and friends)" <a href="https://github.com/rust-lang/rust/pull/84111">rust#84111</a> </li>
<li>"Stabilize bindings_after_at" <a href="https://github.com/rust-lang/rust/pull/85305">rust#85305</a></li>
</ul>
</li>
</ul>



<a name="246098728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098728" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098728">(Jul 15 2021 at 14:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="224872">rylev</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-15.20.2354818/near/246098328">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="124287">mw</span> had the great idea of asking more about the privacy policy around the compiler gathering metrics (like ICEs). We'll definitely want to consider that</p>
</blockquote>
<p>Cc <span class="user-mention" data-user-id="119031">@Esteban Küber</span> ^</p>



<a name="246098779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098779">(Jul 15 2021 at 14:07)</a>:</h4>
<h3>WG checkins</h3>



<a name="246098822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098822">(Jul 15 2021 at 14:07)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> / <span class="user-mention" data-user-id="116883">@tmandry</span> : anything to report from <span class="user-group-mention" data-user-group-id="1172">@WG-async-foundations</span> ?</p>



<a name="246098882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098882">(Jul 15 2021 at 14:07)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="692">@WG-traits</span> by <span class="user-mention" data-user-id="116009">@nikomatsakis</span> and <span class="user-mention" data-user-id="232957">@Jack Huey</span> </p>
<blockquote>
<p>We recently (last week) had an organizational meeting and reviewed various initiatives/projects that WG-traits is working on. These include: GATs, TAIT, rustc_type_ir, trait upcasting, salsa, Chalk, and fixing trait-related incremental bugs.<br>
We decided to no longer have a single weekly meeting, in favor of more targeted "1:1" meetings (as needed for each initiative). We will still be having a steering/organizational meeting once a month. We haven't decided if that'll take the same timeslot as the weekly meeting or change.<br>
Updates of individual initiatives:<br>
<strong>GATs</strong><br>
We realized that in [#85499] (normalization under binders), we run into problems when we want to project but can't yet (i.e. <code>&lt;T as Trait&gt;::Foo&lt;'a&gt;</code>) and the associated type will <em>eventually</em> contain a bound var. So, for now, the plan is to fall back to no normalization when we don't have enough information to project. This still fixes the ICEs in [#62529], but results in some errors where we want to pass. Also split out [#86993] as a more minimal GATs-only change (which can be landed before, or skipped).<br>
<strong>TAIT</strong><br>
We had a meeting and found that the implementation is still a bit wrong. There's a bit more work to do before stabilization of <code>min_type_alias_impl_trait</code>, including fixing a number of issues.<br>
<strong>rustc_type_ir</strong><br>
There is an open PR [#86435] to begin moving major types (like <code>TyKind</code>) into <code>rustc_type_ir</code> and out of <code>rustc_middle</code>. Blocked on some lifetime variance (probably) issues that need to be looked into.<br>
<strong>trait upcasting</strong><br>
There is an open PR [#86461] to refactor the vtable format and a bigger PR [#86264] that is being split out into smaller PRs.<br>
<strong>salsa, Chalk</strong><br>
[chalk#708] got merged, which reworks the recursive solver to be prepare to use salsa for fixed-point iteration.<br>
<strong>incremental ICEs trait work</strong><br>
There are <a href="#narrow/stream/144729-wg-traits/topic/subobligations.20and.20ICEs.20.2385868/near/245066992">3 approaches</a> open to solve the <code>evaluate_obligation</code> incremental issue, but each have a moderate perf impact. They need to be reviewed to pick the best solution.</p>
</blockquote>
<p>[#62529]: <a href="https://github.com/rust-lang/rust/issues/62529">https://github.com/rust-lang/rust/issues/62529</a><br>
[#85499]: <a href="https://github.com/rust-lang/rust/pull/85499">https://github.com/rust-lang/rust/pull/85499</a><br>
[#86264]: <a href="https://github.com/rust-lang/rust/pull/86264">https://github.com/rust-lang/rust/pull/86264</a><br>
[#86435]: <a href="https://github.com/rust-lang/rust/pull/86435">https://github.com/rust-lang/rust/pull/86435</a><br>
[#86461]: <a href="https://github.com/rust-lang/rust/pull/86461">https://github.com/rust-lang/rust/pull/86461</a><br>
[#86993]: <a href="https://github.com/rust-lang/rust/pull/86993">https://github.com/rust-lang/rust/pull/86993</a><br>
[chalk#708]: <a href="https://github.com/rust-lang/chalk/pull/708">https://github.com/rust-lang/chalk/pull/708</a></p>



<a name="246098993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098993" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098993">(Jul 15 2021 at 14:08)</a>:</h4>
<p>(hmm, sorry y’all, that wasn’t formatted in a way zulip handles well)</p>



<a name="246098994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246098994" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246098994">(Jul 15 2021 at 14:08)</a>:</h4>
<p>Sorry everyone, long checkin</p>



<a name="246099033"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099033" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099033">(Jul 15 2021 at 14:08)</a>:</h4>
<p>oops</p>



<a name="246099110"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099110" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099110">(Jul 15 2021 at 14:09)</a>:</h4>
<p>(no worries, it looks great in the agenda)</p>



<a name="246099117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099117" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099117">(Jul 15 2021 at 14:09)</a>:</h4>
<p>Normally I’d edit it to fix, but I think I’m better off just moving along with the mtg. (And to my knowledge no one else has edit permissions on my msg)</p>



<a name="246099165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099165">(Jul 15 2021 at 14:09)</a>:</h4>
<h2>Backport nominations</h2>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler beta</a></p>



<a name="246099199"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099199" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099199">(Jul 15 2021 at 14:09)</a>:</h4>
<ul>
<li><img alt=":beta:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/4715/emoji/images/20717.png" title="beta"> "Don't use gc-sections with profile-generate." <a href="https://github.com/rust-lang/rust/pull/87004">rust#87004</a> <ul>
<li>opened by <span class="user-mention" data-user-id="309977">@Jamie Cunliffe</span> </li>
<li>nomination proposed by <span class="user-mention" data-user-id="116122">@simulacrum</span> as this should fix <a href="https://github.com/rust-lang/rust/issues/78226">rust#78226</a>, preferably to be shipped in 1.54 a <code>P-critical</code> regression on AArch64 target</li>
<li>Some PGO tests are failing on Windows (see <a href="https://github.com/rust-lang/rust/pull/87004#issuecomment-879157185">comment</a>)</li>
</ul>
</li>
</ul>



<a name="246099278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099278">(Jul 15 2021 at 14:10)</a>:</h4>
<p>this might be a bit premature, in terms of consideration, but could use more insight potentially</p>



<a name="246099309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099309">(Jul 15 2021 at 14:10)</a>:</h4>
<p>(the implementation is not yet really working, AFAICT)</p>



<a name="246099377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099377" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099377">(Jul 15 2021 at 14:10)</a>:</h4>
<p>but as it's fixing a p-critical issue, may be worth some attention regardless; not sure how much it makes sense to discuss in-meeting though.</p>



<a name="246099401"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099401" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099401">(Jul 15 2021 at 14:11)</a>:</h4>
<p>Its good to draw attention to the PR</p>



<a name="246099436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099436">(Jul 15 2021 at 14:11)</a>:</h4>
<p>but yeah, it does not make sense to discuss backport nomination at this point</p>



<a name="246099464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099464" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099464">(Jul 15 2021 at 14:11)</a>:</h4>
<p>I'll be looking into PGO related stuff next week, maybe I can help</p>



<a name="246099470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099470">(Jul 15 2021 at 14:11)</a>:</h4>
<p>release is in two weeks</p>



<a name="246099509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099509">(Jul 15 2021 at 14:11)</a>:</h4>
<p>so if we’re going to back port this, we’ll want to do it next week</p>



<a name="246099603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099603" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099603">(Jul 15 2021 at 14:12)</a>:</h4>
<p>Is this really P-critical?</p>



<a name="246099626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099626" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099626">(Jul 15 2021 at 14:12)</a>:</h4>
<p>nature of failure is pretty bad</p>



<a name="246099635"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099635" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099635">(Jul 15 2021 at 14:12)</a>:</h4>
<p>we didn't reach a conclusion last week</p>



<a name="246099693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099693" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099693">(Jul 15 2021 at 14:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-15.20.2354818/near/246099626">said</a>:</p>
<blockquote>
<p>nature of failure is pretty bad</p>
</blockquote>
<p>or … is it? can’t easily tell.</p>



<a name="246099750"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099750" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099750">(Jul 15 2021 at 14:13)</a>:</h4>
<p>I think per policy if it isn't we should be adding a note to the tier/platform support page in rustc book with a "tier 1 except for PGO" or something.</p>



<a name="246099785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099785" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099785">(Jul 15 2021 at 14:13)</a>:</h4>
<p>Yeah I agree, we need consistency on this point</p>



<a name="246099807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099807">(Jul 15 2021 at 14:13)</a>:</h4>
<p>but the bar for P-critical-ness is “should it block release” (or its supposed to be that, at least)</p>



<a name="246099850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099850">(Jul 15 2021 at 14:13)</a>:</h4>
<p>I’m having a hard time stomaching blocking release on this</p>



<a name="246099934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099934" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099934">(Jul 15 2021 at 14:14)</a>:</h4>
<p>It looks to me like the PGO data just doesn't get attached to the LLVM IR. Given that this isn't a correctness issue, "just" a performance one, this doesn't seem P-critical to me either.</p>



<a name="246099949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099949" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099949">(Jul 15 2021 at 14:14)</a>:</h4>
<p>I think it's pretty clear we're not delaying a release because of this. I don't know what would have to happen for an individual bug to be worth blocking a release over (but not, e.g., nightlies, etc.)</p>



<a name="246099983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246099983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246099983">(Jul 15 2021 at 14:14)</a>:</h4>
<p>so I'm not sure "release blocker" is <em>quite</em> right</p>



<a name="246100006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100006">(Jul 15 2021 at 14:14)</a>:</h4>
<p>but in any case, I have no particularly strong opinion</p>



<a name="246100043"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100043" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100043">(Jul 15 2021 at 14:15)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> you mean in terms of how we define “P-critical” ? I can see what you mean, in that its not clear what bugs we’ve had that would block a release</p>



<a name="246100046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100046" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100046">(Jul 15 2021 at 14:15)</a>:</h4>
<p>in practice</p>



<a name="246100058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100058" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100058">(Jul 15 2021 at 14:15)</a>:</h4>
<p>yeah</p>



<a name="246100063"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100063" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100063">(Jul 15 2021 at 14:15)</a>:</h4>
<p>I would vote for P-high as it does seem important to some of our users and there has been movement on resolving it.</p>



<a name="246100090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100090" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100090">(Jul 15 2021 at 14:15)</a>:</h4>
<p>P-high sgtm</p>



<a name="246100096"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100096" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100096">(Jul 15 2021 at 14:15)</a>:</h4>
<p>but I think that’s in part because the bugs that are truly release-blockers actually get fixed. :)</p>



<a name="246100150"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100150" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100150">(Jul 15 2021 at 14:15)</a>:</h4>
<p>To confirm, there is no crash or anything with this bug present, right?</p>



<a name="246100222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100222" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100222">(Jul 15 2021 at 14:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-15.20.2354818/near/246099750">said</a>:</p>
<blockquote>
<p>I think per policy if it isn't we should be adding a note to the tier/platform support page in rustc book with a "tier 1 except for PGO" or something.</p>
</blockquote>
<p>If we do downgrade to P-high, then we should still take action on this point that <span class="user-mention" data-user-id="116122">@simulacrum</span> made here.</p>



<a name="246100234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100234" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100234">(Jul 15 2021 at 14:16)</a>:</h4>
<p>it's just that PGO will have less data available for optimizations?</p>



<a name="246100327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100327">(Jul 15 2021 at 14:17)</a>:</h4>
<p>it's my impression that's the case, yes, <span class="user-mention" data-user-id="124287">@mw</span></p>



<a name="246100328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100328">(Jul 15 2021 at 14:17)</a>:</h4>
<p><span class="user-mention" data-user-id="124287">@mw</span> that is my current understanding, but that is also based solely on cursory examination of the issue text and comment thread.</p>



<a name="246100353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100353" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100353">(Jul 15 2021 at 14:17)</a>:</h4>
<p>linker is likely stripping some PGO symbols</p>



<a name="246100397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100397" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100397">(Jul 15 2021 at 14:17)</a>:</h4>
<p>Okay, so, action items: <span class="user-mention" data-user-id="124287">@mw</span> you think you’ll have time to help with this next week?</p>



<a name="246100413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100413">(Jul 15 2021 at 14:17)</a>:</h4>
<p>the PR attempting to fix it uncovered a crash with -Clink-dead-code on stable, but that's a separate problem -- we don't have an issue yet</p>



<a name="246100418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100418">(Jul 15 2021 at 14:17)</a>:</h4>
<p>Yes, I think so</p>



<a name="246100467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100467" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100467">(Jul 15 2021 at 14:17)</a>:</h4>
<p>I can own downgrade to P-high and updates to tier/platform support page.</p>



<a name="246100608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100608" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100608">(Jul 15 2021 at 14:18)</a>:</h4>
<ul>
<li>No stable nominations for <code>T-compiler</code> this time.</li>
</ul>



<a name="246100619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100619">(Jul 15 2021 at 14:19)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc">T-rustdoc stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc">T-rustdoc beta</a></p>
<ul>
<li>No backport nominations for <code>T-rustdoc</code> this time.</li>
</ul>



<a name="246100639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100639">(Jul 15 2021 at 14:19)</a>:</h4>
<h2>PRs S-waiting-on-team</h2>
<p><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p>



<a name="246100658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100658" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100658">(Jul 15 2021 at 14:19)</a>:</h4>
<ul>
<li>"Encode spans relative to the enclosing item" <a href="https://github.com/rust-lang/rust/pull/84373">rust#84373</a> <ul>
<li>opened by <span class="user-mention" data-user-id="248906">@cjgillot</span> </li>
<li><span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> called on team review as it may be interesting to be merged to move forward <a href="https://github.com/rust-lang/rust/issues/35148#issuecomment-879839839">rust#35148</a></li>
</ul>
</li>
</ul>



<a name="246100782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100782">(Jul 15 2021 at 14:20)</a>:</h4>
<p>wg-incr-comp has been pretty dormant but it seems like they are best owners of this</p>



<a name="246100855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100855">(Jul 15 2021 at 14:20)</a>:</h4>
<p>relevant MCP is <a href="https://github.com/rust-lang/compiler-team/issues/443">compiler-team#443</a></p>



<a name="246100904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100904">(Jul 15 2021 at 14:21)</a>:</h4>
<p>I don’t think team as whole needs to worry though</p>



<a name="246100983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246100983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246100983">(Jul 15 2021 at 14:21)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> , lets maybe you and I plan to talk  about how to get wg-incr-comp moving again. I bet <span class="user-mention" data-user-id="124287">@mw</span> will want to help with that too, if they have time.</p>



<a name="246101037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101037">(Jul 15 2021 at 14:22)</a>:</h4>
<p>(I’ll follow up with <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> and <span class="user-mention" data-user-id="124287">@mw</span> outside of meeting for that.)</p>



<a name="246101084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101084" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101084">(Jul 15 2021 at 14:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-15.20.2354818/near/246100983">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> , lets maybe you and I plan to talk  about how to get wg-incr-comp moving again. I bet <span class="user-mention silent" data-user-id="124287">mw</span> will want to help with that too, if they have time.</p>
</blockquote>
<p>(I'd love to learn more here too)</p>



<a name="246101133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101133" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cjgillot <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101133">(Jul 15 2021 at 14:22)</a>:</h4>
<p>I am also available to help.</p>



<a name="246101191"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101191" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101191">(Jul 15 2021 at 14:22)</a>:</h4>
<p>:)</p>



<a name="246101212"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101212" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101212">(Jul 15 2021 at 14:23)</a>:</h4>
<p>Always happy when PR authors are available to help</p>



<a name="246101222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101222" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101222">(Jul 15 2021 at 14:23)</a>:</h4>
<p>we should aim to merge this after the beta cutoff (if we decide to merge it)</p>



<a name="246101275"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101275" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101275">(Jul 15 2021 at 14:23)</a>:</h4>
<p>(though it is under -Z flag, so risk is somewhat reduced there, no? Assuming -Z guards are correct, mainly.)</p>



<a name="246101296"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101296" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cjgillot <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101296">(Jul 15 2021 at 14:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-15.20.2354818/near/246101212">said</a>:</p>
<blockquote>
<p>Always happy when PR authors are available to help</p>
</blockquote>
<p>I mean with the wg more generally :)</p>



<a name="246101300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101300" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101300">(Jul 15 2021 at 14:23)</a>:</h4>
<p>Though I guess maybe performance is a concern that -Z won’t help with</p>



<a name="246101380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101380" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101380">(Jul 15 2021 at 14:24)</a>:</h4>
<p>next PR S-waiting-on-team</p>



<a name="246101383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101383">(Jul 15 2021 at 14:24)</a>:</h4>
<ul>
<li>"Wrap libraries in linker groups, allowing backwards/circular references" <a href="https://github.com/rust-lang/rust/pull/85805">rust#85805</a> <ul>
<li>opened by <span class="user-mention" data-user-id="239881">@Josh Triplett</span> </li>
<li>reviewed by <span class="user-mention" data-user-id="133247">@bjorn3</span> </li>
<li><span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> self-assigned for review, expressed idea to reconsider this PR <a href="https://github.com/rust-lang/rust/pull/85805#issuecomment-868825690">in 6-12 months</a></li>
</ul>
</li>
</ul>



<a name="246101406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101406">(Jul 15 2021 at 14:24)</a>:</h4>
<p>whoa</p>



<a name="246101458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101458" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101458">(Jul 15 2021 at 14:24)</a>:</h4>
<p>does this need an MCP ?</p>



<a name="246101563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101563">(Jul 15 2021 at 14:25)</a>:</h4>
<p>Anyway it seems like it is getting active discussion</p>



<a name="246101604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101604" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101604">(Jul 15 2021 at 14:26)</a>:</h4>
<p>or at least, bjorn3 looked at it a week ago</p>



<a name="246101706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101706">(Jul 15 2021 at 14:26)</a>:</h4>
<p>My gut instinct is that this is enough of a change that it should get visibility via an MCP</p>



<a name="246101806"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101806" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101806">(Jul 15 2021 at 14:27)</a>:</h4>
<p>I invite counter-argument, but I want to move along in meeting. So just speak up if you want to revisit this at end of meeting.</p>



<a name="246101814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101814">(Jul 15 2021 at 14:27)</a>:</h4>
<p>This seems potentially troublesome in that it disallows _certain_ use-cases.</p>



<a name="246101829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101829">(Jul 15 2021 at 14:27)</a>:</h4>
<p>yeah, lets move on ^^</p>



<a name="246101849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101849">(Jul 15 2021 at 14:27)</a>:</h4>
<h2>Issues of Note</h2>
<h3>Short Summary</h3>
<ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">4 T-compiler P-critical issues</a><ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">3 of those are unassigned</a></li>
</ul>
</li>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">80 T-compiler P-high issues</a><ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">54 of those are unassigned</a></li>
</ul>
</li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta">2 P-critical, 0 P-high, 1 P-medium, 0 P-low regression-from-stable-to-beta</a></li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly">0 P-critical, 3 P-high, 2 P-medium, 0 P-low regression-from-stable-to-nightly</a></li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable">2 P-critical, 45 P-high, 83 P-medium, 11 P-low regression-from-stable-to-stable</a></li>
</ul>



<a name="246101867"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101867" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101867">(Jul 15 2021 at 14:27)</a>:</h4>
<h3>P-critical</h3>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p>



<a name="246101893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101893" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101893">(Jul 15 2021 at 14:27)</a>:</h4>
<ul>
<li>"run-make-fulldeps/pgo-branch-weights fails on AArch64 Linux" <a href="https://github.com/rust-lang/rust/issues/78226">rust#78226</a> <ul>
<li>only fails on aarch64 arm</li>
<li>discussed <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245320262">last week</a></li>
<li><span class="user-mention" data-user-id="116122">@simulacrum</span> <a href="https://github.com/rust-lang/rust/issues/78226#issuecomment-866299280">comments</a> that tests for this are disabled but a fix for 1.54 would be good</li>
<li>being investigated by <span class="user-mention" data-user-id="309977">@Jamie Cunliffe</span> <a href="https://github.com/rust-lang/rust/issues/78226#issuecomment-868570487">see comment</a> </li>
<li><span class="user-mention" data-user-id="116122">@simulacrum</span>has beta-nominated <a href="https://github.com/rust-lang/rust/pull/87004">rust#87004</a> to fix this</li>
</ul>
</li>
</ul>



<a name="246101915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101915" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101915">(Jul 15 2021 at 14:27)</a>:</h4>
<p>we discussed this above and assigned action items</p>



<a name="246101973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246101973" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246101973">(Jul 15 2021 at 14:28)</a>:</h4>
<ul>
<li>"Unstable fingerprints - what to do on beta (and stable)" <a href="https://github.com/rust-lang/rust/issues/84970">rust#84970</a><ul>
<li>discussed <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245321885">last week</a></li>
<li>general feeling is to re-enable incr-comp again in 1.54</li>
<li><span class="user-mention" data-user-id="125294">@Aaron Hill</span> is working on some performance improvements to handling of projection predicates</li>
<li><span class="user-mention" data-user-id="123586">@nagisa</span> reported that errors are looking useful enough</li>
</ul>
</li>
</ul>



<a name="246102027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102027">(Jul 15 2021 at 14:28)</a>:</h4>
<p>What's the state of this?</p>



<a name="246102040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102040">(Jul 15 2021 at 14:28)</a>:</h4>
<p>I’m skimming the summary table now</p>



<a name="246102096"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102096" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102096">(Jul 15 2021 at 14:28)</a>:</h4>
<p>we are getting pretty close to release, right? the summary table doesn't look that good, actually. Is it up to date?</p>



<a name="246102140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102140" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102140">(Jul 15 2021 at 14:29)</a>:</h4>
<p>well, summary table doesn’t include actual impact of each issue</p>



<a name="246102158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102158" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102158">(Jul 15 2021 at 14:29)</a>:</h4>
<p>because … we don’t know it</p>



<a name="246102164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102164" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102164">(Jul 15 2021 at 14:29)</a>:</h4>
<p>PR <a href="https://github.com/rust-lang/rust/pull/86946">https://github.com/rust-lang/rust/pull/86946</a> is still waiting on review, but it doesn't appear to help much (or at all) with the perf regressions from the evaluate_obligation fix</p>



<a name="246102340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102340" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102340">(Jul 15 2021 at 14:30)</a>:</h4>
<p>the evaluate_obligation fix already landed, right?</p>



<a name="246102347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102347">(Jul 15 2021 at 14:30)</a>:</h4>
<p>The <code>native_libraries</code> problem is fixed, right? (in <a href="https://github.com/rust-lang/rust/issues/85702">#85702</a>?)</p>



<a name="246102437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102437">(Jul 15 2021 at 14:30)</a>:</h4>
<p>Yes</p>



<a name="246102464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102464" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102464">(Jul 15 2021 at 14:31)</a>:</h4>
<p>okay so there’s some metadata to update perhaps</p>



<a name="246102478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102478">(Jul 15 2021 at 14:31)</a>:</h4>
<p>Or at least, no one has come across it since the fix I landed</p>



<a name="246102504"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102504" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102504">(Jul 15 2021 at 14:31)</a>:</h4>
<p>I was never able to reproduce the original issue</p>



<a name="246102536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102536" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102536">(Jul 15 2021 at 14:31)</a>:</h4>
<p>But investigating it led me to find and fix a couple bugs</p>



<a name="246102545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102545" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102545">(Jul 15 2021 at 14:31)</a>:</h4>
<p>Does <a href="https://github.com/rust-lang/rust/issues/85702">#85702</a> need a backport?</p>



<a name="246102556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102556" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102556">(Jul 15 2021 at 14:31)</a>:</h4>
<p>Which were most likely the cause</p>



<a name="246102582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102582" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102582">(Jul 15 2021 at 14:31)</a>:</h4>
<p>Github claims PR <a href="https://github.com/rust-lang/rust/issues/85702">#85702</a> is milestoned for 1.54</p>



<a name="246102602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102602">(Jul 15 2021 at 14:31)</a>:</h4>
<p>Looks like  <a href="https://github.com/rust-lang/rust/issues/85702">#85702</a> is in 1.54 which is the next version to ship on stable.</p>



<a name="246102678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102678">(Jul 15 2021 at 14:32)</a>:</h4>
<p>Man, I don't understand this milestone stuff :)</p>



<a name="246102706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102706">(Jul 15 2021 at 14:32)</a>:</h4>
<p>Thanks for asking though since it is important we don't make that mistake again! <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="246102740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102740" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102740">(Jul 15 2021 at 14:32)</a>:</h4>
<p>I’m personally willing to move forward with reenabling incr-comp</p>



<a name="246102804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102804" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102804">(Jul 15 2021 at 14:33)</a>:</h4>
<p>Do we have fixes for <a href="https://github.com/rust-lang/rust/issues/84963">#84963</a> that haven't landed yet?</p>



<a name="246102849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102849">(Jul 15 2021 at 14:33)</a>:</h4>
<p>I don't see any PRs linked from that issue.</p>



<a name="246102871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102871" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102871">(Jul 15 2021 at 14:33)</a>:</h4>
<p>No</p>



<a name="246102883"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102883" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102883">(Jul 15 2021 at 14:33)</a>:</h4>
<p>I've been meaning to work on it</p>



<a name="246102912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102912" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102912">(Jul 15 2021 at 14:33)</a>:</h4>
<p>Incr comp was always on in nightly, right?</p>



<a name="246102976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102976">(Jul 15 2021 at 14:34)</a>:</h4>
<p>However, it can be trivially solved by bumping the recursion limit</p>



<a name="246102983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102983">(Jul 15 2021 at 14:34)</a>:</h4>
<p><span class="user-mention" data-user-id="119031">@Esteban Küber</span> yeah, nightly and beta both</p>



<a name="246102992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246102992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246102992">(Jul 15 2021 at 14:34)</a>:</h4>
<p>Only stable had it turned off</p>



<a name="246103014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103014" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103014">(Jul 15 2021 at 14:34)</a>:</h4>
<p>So I think the other evaluate_obligation issue is much more important</p>



<a name="246103043"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103043" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103043">(Jul 15 2021 at 14:34)</a>:</h4>
<p><span class="user-mention" data-user-id="125294">@Aaron Hill</span> Does your recent PR around global limits fix this?</p>



<a name="246103072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103072">(Jul 15 2021 at 14:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125294">Aaron Hill</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-15.20.2354818/near/246103014">said</a>:</p>
<blockquote>
<p>So I think the other evaluate_obligation issue is much more important</p>
</blockquote>
<p>by this, do you mean <a href="https://github.com/rust-lang/rust/issues/85360">#85360</a> ?</p>



<a name="246103128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103128" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103128">(Jul 15 2021 at 14:35)</a>:</h4>
<p><span class="user-mention" data-user-id="124287">@mw</span> I'll check, but I don't think so</p>



<a name="246103150"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103150" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103150">(Jul 15 2021 at 14:35)</a>:</h4>
<p>This issue occurs when you keep the limit the same</p>



<a name="246103171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103171" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103171">(Jul 15 2021 at 14:35)</a>:</h4>
<p>OK</p>



<a name="246103174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103174">(Jul 15 2021 at 14:35)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> I think I'll end up moving the linker group PR to draft for now. Will that take it off your radar, or does it need a label change as well?</p>



<a name="246103186"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103186" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103186">(Jul 15 2021 at 14:35)</a>:</h4>
<p>because caching can allow things to succeed that would otherwise overflow</p>



<a name="246103287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103287" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103287">(Jul 15 2021 at 14:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-15.20.2354818/near/246103174">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> I think I'll end up moving the linker group PR to draft for now. Will that take it off your radar, or does it need a label change as well?</p>
</blockquote>
<p>probably label change is necessary too. But also: we may want it on our radar, just in a different form (i.e. an MCP) ?</p>



<a name="246103371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103371" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103371">(Jul 15 2021 at 14:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125294">Aaron Hill</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-15.20.2354818/near/246103014">said</a>:</p>
<blockquote>
<p>So I think the other evaluate_obligation issue is much more important</p>
</blockquote>
<p>Do you consider this a potential blocker for re-enabling?</p>



<a name="246103409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103409">(Jul 15 2021 at 14:37)</a>:</h4>
<p>(which one is it exactly?)</p>



<a name="246103417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103417">(Jul 15 2021 at 14:37)</a>:</h4>
<p>It's more that given the (slight) performance tradeoff, I don't feel like I have the bandwidth to make the case for it right now.</p>



<a name="246103434"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103434" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103434">(Jul 15 2021 at 14:37)</a>:</h4>
<p><span class="user-mention" data-user-id="239881">@Josh Triplett</span> gotcha.</p>



<a name="246103468"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103468" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103468">(Jul 15 2021 at 14:37)</a>:</h4>
<p>If we <em>do</em> disable incr-comp for 1.54</p>



<a name="246103481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103481" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103481">(Jul 15 2021 at 14:37)</a>:</h4>
<p><span class="user-mention" data-user-id="124287">@mw</span> I think it should hopefully be rare enough in practice to not cause issues</p>



<a name="246103493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103493" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103493">(Jul 15 2021 at 14:37)</a>:</h4>
<p>But I'm not certain</p>



<a name="246103501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103501" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103501">(Jul 15 2021 at 14:37)</a>:</h4>
<p>I think we need to start talking about whether it should be turned off for beta too</p>



<a name="246103509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103509">(Jul 15 2021 at 14:38)</a>:</h4>
<p>(and nightly?)</p>



<a name="246103590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103590">(Jul 15 2021 at 14:38)</a>:</h4>
<p>i.e. I’m certain the release team is unhappy about any last minute patches after doing the beta to stable promotion</p>



<a name="246103643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103643" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103643">(Jul 15 2021 at 14:38)</a>:</h4>
<p>and in general, its just not great form to have a beta with a user experience that significantly differs from stable</p>



<a name="246103660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103660" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103660">(Jul 15 2021 at 14:39)</a>:</h4>
<p>I think it's a bad idea, we'd be cutting ourselves from the only signal of wether our fixes are actually having an impact for real users</p>



<a name="246103706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103706">(Jul 15 2021 at 14:39)</a>:</h4>
<p>I'm confused :) What are we talking about?</p>



<a name="246103752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103752" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103752">(Jul 15 2021 at 14:39)</a>:</h4>
<p>Okay, there’s a couple different threads here</p>



<a name="246103780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103780">(Jul 15 2021 at 14:39)</a>:</h4>
<p><span class="user-mention" data-user-id="125294">@Aaron Hill</span> said another evaluate_obligation bug is more important</p>



<a name="246103856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103856">(Jul 15 2021 at 14:40)</a>:</h4>
<p>we’re still looking for confirmation that Aaron was referring to <a href="https://github.com/rust-lang/rust/issues/85360">#85360</a></p>



<a name="246103912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103912" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103912">(Jul 15 2021 at 14:40)</a>:</h4>
<p>this raised the question of whether that shuold motivate disable incr-comp in 1.54</p>



<a name="246103997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246103997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246103997">(Jul 15 2021 at 14:41)</a>:</h4>
<p>and, essentially in parallel, I asked whether disabling in 1.54 should mean we disable more broadly, while Aaron also responded that they don’t think “the bug” should motivate disabled in 1.54</p>



<a name="246104027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104027">(Jul 15 2021 at 14:41)</a>:</h4>
<p>Is that something that <span class="user-group-mention" data-user-group-id="692">@WG-traits</span> could help with quickly enough?</p>



<a name="246104081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104081" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104081">(Jul 15 2021 at 14:41)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> Yes, that's the issue I meant</p>



<a name="246104142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104142" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104142">(Jul 15 2021 at 14:42)</a>:</h4>
<p>I think leaving incr. comp. enabled on nightly and beta has worked rather well so far</p>



<a name="246104146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104146">(Jul 15 2021 at 14:42)</a>:</h4>
<p>(At this point, I’m happy to table the question of whether we should consider disabling more broadly. It is a tricky subject, as <span class="user-mention" data-user-id="119031">@Esteban Küber</span> points out.)</p>



<a name="246104165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104165">(Jul 15 2021 at 14:42)</a>:</h4>
<p>One hacky approach would be to apply my projection-caching fix only in incr comp mode</p>



<a name="246104194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104194" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104194">(Jul 15 2021 at 14:42)</a>:</h4>
<p>That would mitigate the worst performance regression (21 percent)</p>



<a name="246104242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104242" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104242">(Jul 15 2021 at 14:43)</a>:</h4>
<p>This is PR <a href="https://github.com/rust-lang/rust/pull/85868">https://github.com/rust-lang/rust/pull/85868</a></p>



<a name="246104292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104292" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104292">(Jul 15 2021 at 14:43)</a>:</h4>
<p>Oh, <span class="user-mention" data-user-id="125294">@Aaron Hill</span></p>



<a name="246104339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104339">(Jul 15 2021 at 14:43)</a>:</h4>
<p>I created this calendly thing to let people book time to go through PRs and things: <a href="https://calendly.com/nikomatsakis/office-hours">https://calendly.com/nikomatsakis/office-hours</a></p>



<a name="246104363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104363">(Jul 15 2021 at 14:44)</a>:</h4>
<p>(I'm catching up)</p>



<a name="246104413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104413">(Jul 15 2021 at 14:44)</a>:</h4>
<p>That said, I think we may just have to accept the regression on this particular one</p>



<a name="246104446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104446">(Jul 15 2021 at 14:44)</a>:</h4>
<p>Yeah, that's what it seems like :/</p>



<a name="246104448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104448" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104448">(Jul 15 2021 at 14:44)</a>:</h4>
<p>That case it regressed so much on</p>



<a name="246104473"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104473" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104473">(Jul 15 2021 at 14:44)</a>:</h4>
<p>its not representative of real code, right? Its a microbenchmark,</p>



<a name="246104492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104492" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104492">(Jul 15 2021 at 14:44)</a>:</h4>
<p>I rebases that PR on top of my performance improvement PR, but it didn't help</p>



<a name="246104498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104498">(Jul 15 2021 at 14:44)</a>:</h4>
<p>I think that's correct</p>



<a name="246104510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104510">(Jul 15 2021 at 14:44)</a>:</h4>
<p>Yeah, the regression seems very localized</p>



<a name="246104526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104526" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104526">(Jul 15 2021 at 14:44)</a>:</h4>
<p>(i.e., its meant to be exposing bad behavior by exploding a paticular pattern)</p>



<a name="246104551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104551">(Jul 15 2021 at 14:45)</a>:</h4>
<p>I think that could be realistic, unfortunately</p>



<a name="246104558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104558">(Jul 15 2021 at 14:45)</a>:</h4>
<p>hmm.</p>



<a name="246104562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104562" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104562">(Jul 15 2021 at 14:45)</a>:</h4>
<p>okay</p>



<a name="246104569"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104569" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104569">(Jul 15 2021 at 14:45)</a>:</h4>
<p>If people are using long chains of iterator methods</p>



<a name="246104621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104621" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104621">(Jul 15 2021 at 14:45)</a>:</h4>
<p>20% regression isn't  good but it's not the end of the world</p>



<a name="246104629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104629">(Jul 15 2021 at 14:45)</a>:</h4>
<p>I think it's worth pointing out most of the real world crates do not show a massive change one way or the other.</p>



<a name="246104639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104639">(Jul 15 2021 at 14:45)</a>:</h4>
<p>the point is not that the pattern is not realistic</p>



<a name="246104650"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104650" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104650">(Jul 15 2021 at 14:45)</a>:</h4>
<p>(we should have more hyperlinks. Too many clicks to get to the benchmark)</p>



<a name="246104657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104657">(Jul 15 2021 at 14:45)</a>:</h4>
<p>it's just that in the grand scheme of compilation</p>



<a name="246104712"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104712" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104712">(Jul 15 2021 at 14:46)</a>:</h4>
<p>the 20% hit may be much smaller</p>



<a name="246104720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104720" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104720">(Jul 15 2021 at 14:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-15.20.2354818/near/246104629">said</a>:</p>
<blockquote>
<p>I think it's worth pointing out most of the real world crates do not show a massive change one way or the other.</p>
</blockquote>
<p>i.e., this</p>



<a name="246104760"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104760" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104760">(Jul 15 2021 at 14:46)</a>:</h4>
<p>Uh the 20% regression is a regression of milliseconds of time.</p>



<a name="246104763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104763">(Jul 15 2021 at 14:46)</a>:</h4>
<p>we probably could revise the rust-timer feedback to categorize this</p>



<a name="246104771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104771" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104771">(Jul 15 2021 at 14:46)</a>:</h4>
<p>compared to the 200-600% regression you get from disabling incr. comp., it seems fine :)</p>



<a name="246104773"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104773" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104773">(Jul 15 2021 at 14:46)</a>:</h4>
<p>I don't think this is worth blocking the fix on.</p>



<a name="246104775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104775">(Jul 15 2021 at 14:46)</a>:</h4>
<p>(I agree with <span class="user-mention" data-user-id="125294">@Aaron Hill</span> that the pattern is realistic)</p>



<a name="246104780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104780">(Jul 15 2021 at 14:46)</a>:</h4>
<p>i.e. the max change for the microbenchmarks vs the max change for the “real world” benchmark</p>



<a name="246104813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104813" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104813">(Jul 15 2021 at 14:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-15.20.2354818/near/246104775">said</a>:</p>
<blockquote>
<p>(I agree with <span class="user-mention silent" data-user-id="125294">Aaron Hill</span> that the pattern is realistic)</p>
</blockquote>
<p>Okay, I can believe I misrepresented the <em>kind</em> of micro-benchmark this is</p>



<a name="246104853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104853">(Jul 15 2021 at 14:47)</a>:</h4>
<p>but I think its still fair to classify it as a microbenchmark</p>



<a name="246104877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104877">(Jul 15 2021 at 14:47)</a>:</h4>
<p>Ie <code>deeply-nested-check</code> takes <code>0.030</code> seconds instead of <code>0.023</code> seconds.</p>



<a name="246104885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104885">(Jul 15 2021 at 14:47)</a>:</h4>
<p>At this point</p>



<a name="246104893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104893" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104893">(Jul 15 2021 at 14:47)</a>:</h4>
<p>we should move along, I thinmk</p>



<a name="246104953"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104953" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104953">(Jul 15 2021 at 14:48)</a>:</h4>
<p>unless someone wants to argue strongly for disabling incr-comp in 1.54</p>



<a name="246104967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104967" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104967">(Jul 15 2021 at 14:48)</a>:</h4>
<p>(in which case, that someone should interrupt the meeting)</p>



<a name="246104977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104977" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104977">(Jul 15 2021 at 14:48)</a>:</h4>
<p>it seems like we all agree that we should land it</p>



<a name="246104984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246104984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246104984">(Jul 15 2021 at 14:48)</a>:</h4>
<p>and accept the perf hit</p>



<a name="246105009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105009">(Jul 15 2021 at 14:48)</a>:</h4>
<p>correctness &gt;&gt; perf. I think that is generally true across the entirety of SWE discipline.</p>



<a name="246105028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105028">(Jul 15 2021 at 14:48)</a>:</h4>
<p>I'll remove the perf-improvement commit from that PR</p>



<a name="246105040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105040">(Jul 15 2021 at 14:48)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc">T-rustdoc</a></p>
<ul>
<li>No <code>P-critical</code> issues for <code>T-rustdoc</code> this time.</li>
</ul>



<a name="246105048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105048">(Jul 15 2021 at 14:48)</a>:</h4>
<p>I can do a quick review, <span class="user-mention" data-user-id="125294">@Aaron Hill</span>, if you ping me</p>



<a name="246105052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105052" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105052">(Jul 15 2021 at 14:48)</a>:</h4>
<h3>P-high regressions</h3>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-libs+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p>
<ul>
<li>No <code>P-high</code> beta regressions this time.</li>
</ul>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-libs+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">Unassigned P-high nightly regressions</a></p>
<ul>
<li>No unassigned <code>P-high</code> nightly regressions this time.</li>
</ul>



<a name="246105061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105061" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105061">(Jul 15 2021 at 14:49)</a>:</h4>
<p>since we walked through the code already</p>



<a name="246105071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105071">(Jul 15 2021 at 14:49)</a>:</h4>
<h2>Performance logs</h2>
<blockquote>
<p><a href="https://github.com/rust-lang/rustc-perf/blob/master/triage/2021-07-13.md">triage logs for 2021-07-13</a></p>
</blockquote>
<p>Mostly quiet week; improvements outweighed regressions.</p>
<p>Triage done by <strong>@simulacrum</strong>.<br>
Revision range: <a href="https://perf.rust-lang.org/?start=9a27044f42ace9eb652781b53f598e25d4e7e918&amp;end=5aff6dd07a562a2cba3c57fc3460a72acb6bef46&amp;absolute=false&amp;stat=instructions%3Au">9a27044f42ace9eb652781b53f598e25d4e7e918..5aff6dd07a562a2cba3c57fc3460a72acb6bef46</a></p>
<p>1 Regressions, 4 Improvements, 0 Mixed; 0 of them in rollups</p>



<a name="246105091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105091" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105091">(Jul 15 2021 at 14:49)</a>:</h4>
<h4>Regressions</h4>
<p>Support forwarding caller location through trait object method call <a href="https://github.com/rust-lang/rust/issues/81360">#81360</a></p>
<ul>
<li>Moderate regression in <a href="https://perf.rust-lang.org/compare.html?start=a84d1b21aea9863f0fc5f436b4982d145dade646&amp;end=3982eb35cabe3a99194d768d34a92347967c3fa2&amp;stat=instructions:u">instruction counts</a> (up to 1.5% on <code>incr-full</code> builds of <code>unused-warnings-check</code>)</li>
<li>Largely due to increased number of calls to the newly-made query<br>
  should_inherit_track_caller. Mostly higher regressions on smaller benchmarks.</li>
</ul>



<a name="246105104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105104" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105104">(Jul 15 2021 at 14:49)</a>:</h4>
<h4>Improvements</h4>
<ul>
<li>Reland "Merge CrateDisambiguator into StableCrateId" <a href="https://github.com/rust-lang/rust/issues/86143">#86143</a></li>
<li>Stop generating <code>alloca</code>s &amp; <code>memcmp</code> for simple short array equality <a href="https://github.com/rust-lang/rust/issues/85828">#85828</a></li>
<li>Add support for raw-dylib with stdcall, fastcall functions <a href="https://github.com/rust-lang/rust/issues/86419">#86419</a></li>
<li>Use clang 12.0.1 on dist-x86_64/i686-linux <a href="https://github.com/rust-lang/rust/issues/87019">#87019</a></li>
</ul>



<a name="246105119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105119">(Jul 15 2021 at 14:49)</a>:</h4>
<h4>Nags requiring follow up</h4>
<ul>
<li>There are a number of <a href="https://github.com/rust-lang/rust/issues?q=is%3Amerged+label%3Aperf-regression+-label%3Aperf-regression-triaged">untriaged regressions</a>; as of this writing:<ul>
<li>Include terminators in instance size estimate <a href="https://github.com/rust-lang/rust/issues/86777">#86777</a></li>
<li>Rollup of 8 pull requests <a href="https://github.com/rust-lang/rust/issues/86588">#86588</a></li>
<li>Change entry point to <span aria-label="shield" class="emoji emoji-1f6e1" role="img" title="shield">:shield:</span>️ against <span aria-label="boom" class="emoji emoji-1f4a5" role="img" title="boom">:boom:</span> <span aria-label="boom" class="emoji emoji-1f4a5" role="img" title="boom">:boom:</span>-payloads <a href="https://github.com/rust-lang/rust/issues/86034">#86034</a></li>
<li>Inline Iterator as IntoIterator. <a href="https://github.com/rust-lang/rust/issues/84560">#84560</a></li>
</ul>
</li>
</ul>



<a name="246105157"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105157" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105157">(Jul 15 2021 at 14:49)</a>:</h4>
<p>do we have owners for all those nags?</p>



<a name="246105185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105185" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105185">(Jul 15 2021 at 14:50)</a>:</h4>
<p>(I should note that we're really trying to improve perf.rlo and hopefully you should be seeing some improvements soon. If you're patient about perf, come talk with us over in <a class="stream" data-stream-id="247081" href="/#narrow/stream/247081-t-compiler.2Fperformance">#t-compiler/performance</a> )</p>



<a name="246105264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105264" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105264">(Jul 15 2021 at 14:50)</a>:</h4>
<p>I don't see how</p>
<blockquote>
<p>Change entry point to <span aria-label="shield" class="emoji emoji-1f6e1" role="img" title="shield">:shield:</span>️ against <span aria-label="boom" class="emoji emoji-1f4a5" role="img" title="boom">:boom:</span> <span aria-label="boom" class="emoji emoji-1f4a5" role="img" title="boom">:boom:</span>-payloads <a href="https://github.com/rust-lang/rust/issues/86034">#86034</a></p>
</blockquote>
<p>could be addressed.</p>



<a name="246105309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105309">(Jul 15 2021 at 14:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-15.20.2354818/near/246105157">said</a>:</p>
<blockquote>
<p>do we have owners for all those nags?</p>
</blockquote>
<p>We do not - we're currently unsure of exactly what the process should be. Those nags all have comments on them indicating them as regressions (including the <code>perf-regression</code> label)</p>



<a name="246105318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105318">(Jul 15 2021 at 14:51)</a>:</h4>
<p>I'm not sure what our goal should be wrt to that regression.</p>



<a name="246105357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105357">(Jul 15 2021 at 14:51)</a>:</h4>
<p><span class="user-mention" data-user-id="123586">@nagisa</span> would it be plausible to validate your hypothesis that its from codegen unit redistribution?</p>



<a name="246105489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105489" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105489">(Jul 15 2021 at 14:52)</a>:</h4>
<p>Oh right, I mentioned we could build with -Ccodegen-units=1.</p>



<a name="246105495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105495" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105495">(Jul 15 2021 at 14:52)</a>:</h4>
<p>yeah, we could.</p>



<a name="246105501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105501" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105501">(Jul 15 2021 at 14:52)</a>:</h4>
<p>at the very least, isn’t there a flag to avoid breaking into codegen units at all? Hypothe</p>



<a name="246105517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105517">(Jul 15 2021 at 14:52)</a>:</h4>
<p>okay that’s what I was thinking of</p>



<a name="246105518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105518" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105518">(Jul 15 2021 at 14:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-15.20.2354818/near/246105318">said</a>:</p>
<blockquote>
<p>I'm not sure what our goal should be wrt to that regression.</p>
</blockquote>
<p>I'd also like to note that it's a reasonable argument to make that if the cost/benefit analysis of investigating a regression leads to the conclusion that the regression is acceptable is a completely fine outcome.</p>



<a name="246105538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105538">(Jul 15 2021 at 14:52)</a>:</h4>
<p><span class="user-mention" data-user-id="224872">@rylev</span> makes a solid point as well. :)</p>



<a name="246105570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105570">(Jul 15 2021 at 14:52)</a>:</h4>
<p>I'll make a note for myself to try at least that thing this weekend.</p>



<a name="246105593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105593">(Jul 15 2021 at 14:52)</a>:</h4>
<p>though it was a very broad set of seemingly significant regressions</p>



<a name="246105636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105636" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105636">(Jul 15 2021 at 14:53)</a>:</h4>
<p>though again, maybe only on microbenchmarks?</p>



<a name="246105666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105666" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105666">(Jul 15 2021 at 14:53)</a>:</h4>
<p>well, I guess html5ever and cranelift-codegen are “real world"</p>



<a name="246105691"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105691" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105691">(Jul 15 2021 at 14:53)</a>:</h4>
<p>Okay, nominations</p>



<a name="246105692"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105692" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105692">(Jul 15 2021 at 14:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-15.20.2354818/near/246105357">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> would it be plausible to validate your hypothesis that its from codegen unit redistribution?</p>
</blockquote>
<p>Looking at the perf results from <a href="https://github.com/rust-lang/rust/pull/86034#issuecomment-871488586">this comment</a>, the self-profile data shows additional codegen units being compiled.</p>



<a name="246105803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105803" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105803">(Jul 15 2021 at 14:54)</a>:</h4>
<p>Where is that linked on the site?</p>



<a name="246105839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105839">(Jul 15 2021 at 14:54)</a>:</h4>
<p>Should we discuss this now?</p>



<a name="246105879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105879" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105879">(Jul 15 2021 at 14:55)</a>:</h4>
<p>We have 5 minutes left</p>



<a name="246105904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105904">(Jul 15 2021 at 14:55)</a>:</h4>
<p>I guess it might be nice to talk about one or two nominated issues</p>



<a name="246105908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105908">(Jul 15 2021 at 14:55)</a>:</h4>
<p>for once. :)</p>



<a name="246105931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105931" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105931">(Jul 15 2021 at 14:55)</a>:</h4>
<h2>Nominated Issues</h2>



<a name="246105946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246105946" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246105946">(Jul 15 2021 at 14:55)</a>:</h4>
<p>T-rustdoc</p>
<ul>
<li>Generate links to definition in rustdoc source code pages <a href="https://github.com/rust-lang/rust/pull/84176">#84176</a><ul>
<li>Authored by <span class="user-mention" data-user-id="210316">@GuillaumeGomez</span></li>
<li>approved by T-rustdoc, reviewed by <span class="user-mention" data-user-id="232545">@Joshua Nelson</span> </li>
<li><a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245326203">mentioned last week</a></li>
<li>needs a final look by T-compiler for merge (<span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> can't merge own PR)</li>
</ul>
</li>
</ul>



<a name="246106028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106028">(Jul 15 2021 at 14:56)</a>:</h4>
<p>oh but there’s been activity here</p>



<a name="246106063"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106063" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106063">(Jul 15 2021 at 14:56)</a>:</h4>
<p>So lets leave it aside, hopefully rustdoc team is working it out</p>



<a name="246106090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106090" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106090">(Jul 15 2021 at 14:56)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler">T-compiler</a></p>
<ul>
<li>"<code>match</code> an <code>std::cmp::Ordering</code> generates less optimized code in nightly" <a href="https://github.com/rust-lang/rust/issues/86511">rust#86511</a><ul>
<li>comment mentions these issues <a href="https://github.com/rust-lang/rust/issues/86391">#86391</a> and <a href="https://github.com/rust-lang/rust/issues/86354">#86354</a></li>
<li>issue nominated for help in finding someone giving some context for an accurate priority to track the issue</li>
</ul>
</li>
</ul>



<a name="246106158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106158" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106158">(Jul 15 2021 at 14:57)</a>:</h4>
<p>okay, so after feedback from last week</p>



<a name="246106172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106172" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106172">(Jul 15 2021 at 14:57)</a>:</h4>
<p>the issue author made progress in tracking down a more specific commit</p>



<a name="246106205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106205">(Jul 15 2021 at 14:57)</a>:</h4>
<p>where now claim is that injection was from PR <a href="https://github.com/rust-lang/rust/issues/84993">#84993</a></p>



<a name="246106219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106219" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106219">(Jul 15 2021 at 14:57)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="119009">@eddyb</span> + <span class="user-mention" data-user-id="123586">@nagisa</span></p>



<a name="246106285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106285" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106285">(Jul 15 2021 at 14:58)</a>:</h4>
<p>hmm. So change in order of basic blocks is causing worse match code to be emitted?</p>



<a name="246106292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106292" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106292">(Jul 15 2021 at 14:58)</a>:</h4>
<p>I guess I can believe that happened</p>



<a name="246106307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106307">(Jul 15 2021 at 14:58)</a>:</h4>
<p>I don’t know what we should plan to do about it.</p>



<a name="246106372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106372" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106372">(Jul 15 2021 at 14:59)</a>:</h4>
<p>the “order” here is creation ordewr</p>



<a name="246106415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106415" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106415">(Jul 15 2021 at 14:59)</a>:</h4>
<p>not controw-flow order, If I understand correctly</p>



<a name="246106600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106600">(Jul 15 2021 at 15:00)</a>:</h4>
<p>And that’s our hour, folks!</p>



<a name="246106619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106619">(Jul 15 2021 at 15:00)</a>:</h4>
<p>It is plausible. I strongly suspect that its some peephole instcombine that was firing successfully before and not anymore.</p>



<a name="246106724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106724" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106724">(Jul 15 2021 at 15:00)</a>:</h4>
<p>yeah. nearly impossible for us to control for that</p>



<a name="246106774"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106774" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106774">(Jul 15 2021 at 15:00)</a>:</h4>
<p>though maybe we could identify an LLVM bug to file?</p>



<a name="246106813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106813" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106813">(Jul 15 2021 at 15:00)</a>:</h4>
<p>in terms of optimization opportunity?</p>



<a name="246106909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106909">(Jul 15 2021 at 15:01)</a>:</h4>
<p>yeah, probably.</p>



<a name="246106919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106919" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106919">(Jul 15 2021 at 15:01)</a>:</h4>
<p>seems like the only action item I can identify here: make a small LLVM IR test case and file it with LLVM devs</p>



<a name="246106977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106977" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106977">(Jul 15 2021 at 15:01)</a>:</h4>
<p>easier to work in a forward direction than the backward here.</p>



<a name="246106984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246106984" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246106984">(Jul 15 2021 at 15:01)</a>:</h4>
<p>Okay that’s our hour. Thanks to everyone in <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> for attending! And don’t forget: Steering meeting tomorrow about Review Policy!</p>



<a name="246107147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246107147" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246107147">(Jul 15 2021 at 15:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-15.20.2354818/near/246105803">said</a>:</p>
<blockquote>
<p>Where is that linked on the site?</p>
</blockquote>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span>  Open the <a href="https://perf.rust-lang.org/compare.html?start=29cd70d40722930e66a8b726fe58a7bd1d64a22b&amp;end=6b354a13820a444f834a33365ae4a8d97d7d27ce&amp;stat=max-rss">perf results</a>, expand a test, "token-stream-stress-debug" for example, click on the diff value for a test like <a href="https://perf.rust-lang.org/detailed-query.html?commit=6b354a13820a444f834a33365ae4a8d97d7d27ce&amp;base_commit=29cd70d40722930e66a8b726fe58a7bd1d64a22b&amp;benchmark=token-stream-stress-debug&amp;run_name=full"><code>9.8%??</code></a> then look for the "codegen_module" row and see that it has 2 more executions in this run (the far right column for that row).</p>



<a name="246107242"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246107242" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246107242">(Jul 15 2021 at 15:02)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I pinged you on the PR, and removed the other commit</p>



<a name="246111649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246111649" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246111649">(Jul 15 2021 at 15:33)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> I see! I’m not sure I’ve ever attempted to understand the “Executions” column before!</p>



<a name="246111889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246111889" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246111889">(Jul 15 2021 at 15:35)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> To be clear: your point here is that we believe this is a change in codegen units because it is <em>this specific</em> query, named “codegen_module”, that has had a change in number of executions</p>



<a name="246111988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246111988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246111988">(Jul 15 2021 at 15:36)</a>:</h4>
<p>(i.e. interpreting the reason for (and effect of) changes to number of executions is very context depedent on which query we’re talking about.)</p>



<a name="246112263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246112263" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246112263">(Jul 15 2021 at 15:38)</a>:</h4>
<p>Yeah exactly.</p>



<a name="246112354"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246112354" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246112354">(Jul 15 2021 at 15:38)</a>:</h4>
<p>I know that we invoke the <code>codegen_modules</code> query once for each cgu we create so the data here means that we're creating two more cgus than before.</p>



<a name="246195458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-15%20%2354818/near/246195458" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-15.20.2354818.html#246195458">(Jul 16 2021 at 08:05)</a>:</h4>
<p>Draft for next week's agenda is available at:<br>
<a href="https://hackmd.io/euBza5vIQHOTs2elsYN2bg?view">https://hackmd.io/euBza5vIQHOTs2elsYN2bg?view</a></p>
<p>Scheduled checkins from:</p>
<ul>
<li><span class="user-group-mention" data-user-group-id="1187">@WG-diagnostics</span> from <span class="user-mention" data-user-id="119031">@Esteban Küber</span> and <span class="user-mention" data-user-id="124288">@oli</span> </li>
<li><span class="user-group-mention" data-user-group-id="1380">@WG-rustc-dev-guide</span> from <span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> and <span class="user-mention" data-user-id="217081">@Yuki Okushi</span></li>
</ul>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>