<html>
<head><meta charset="utf-8"><title>[weekly] 2021-07-08 #54818 · t-compiler/meetings · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/index.html">t-compiler/meetings</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html">[weekly] 2021-07-08 #54818</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="245304729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245304729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245304729">(Jul 08 2021 at 12:14)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span>; the triage meeting will take place in about 1h40<br>
<em>WG-prioritization</em> has done pre-triage in <a class="stream" data-stream-id="245100" href="/#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts">#t-compiler/wg-prioritization/alerts</a> and prepared the <a href="https://hackmd.io/tuLB5d6ETKCZGS3cpzzRiA">meeting agenda</a></p>
<p>Scheduled checkins from:</p>
<ul>
<li><span class="user-group-mention" data-user-group-id="1123">@WG-self-profile</span>  checkin by <span class="user-mention" data-user-id="124287">@mw</span>  &amp;&amp; <span class="user-mention" data-user-id="125250">@Wesley Wiser</span></li>
</ul>



<a name="245315227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245315227" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245315227">(Jul 08 2021 at 13:50)</a>:</h4>
<p><span class="user-mention" data-user-id="119009">@eddyb</span> will you be at meeting today? I’m adding an “early nomination discussion” section where I’ll put one or two nominated issues</p>



<a name="245315257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245315257" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245315257">(Jul 08 2021 at 13:50)</a>:</h4>
<p>and if you’ll be there today, then I’ll put <a href="https://github.com/rust-lang/rust/issues/86699">rust#86699</a> in that early section</p>



<a name="245316119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245316119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245316119">(Jul 08 2021 at 13:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245315227">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="119009">eddyb</span> will you be at meeting today? I’m adding an “early nomination discussion” section where I’ll put one or two nominated issues</p>
</blockquote>
<p>yupp, sounds good, thanks!</p>



<a name="245316274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245316274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245316274">(Jul 08 2021 at 13:57)</a>:</h4>
<p>awsome</p>



<a name="245316809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245316809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245316809">(Jul 08 2021 at 14:00)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> , triage meeting is starting now. Add a <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> to show you are present!</p>



<a name="245316866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245316866" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245316866">(Jul 08 2021 at 14:01)</a>:</h4>
<p>Lets spend ~8 minutes on</p>
<h2>Announcements</h2>



<a name="245316877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245316877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245316877">(Jul 08 2021 at 14:01)</a>:</h4>
<ul>
<li>Friday meeting: Tomorrow at <time datetime="2021-07-09T14:00:00Z">2021-07-09T10:00:00-04:00</time> we will be having part III of our series of meetings on the fingerprint bug write-up, <a href="https://github.com/rust-lang/compiler-team/issues/435">compiler-team#435</a> (<a href="https://hackmd.io/DhKzaRUgTVGSmhW8Mj0c8A?view">doc</a> under discussion).</li>
</ul>



<a name="245316923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245316923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245316923">(Jul 08 2021 at 14:01)</a>:</h4>
<h3>MCPs/FCPs</h3>
<ul>
<li>New MCPs (take a look, see if you like them!)<ul>
<li>No new proposals this time.</li>
</ul>
</li>
</ul>



<a name="245316967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245316967" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245316967">(Jul 08 2021 at 14:01)</a>:</h4>
<ul>
<li>Old MCPs (not seconded, take a look)<ul>
<li>"Add different entry points for x.py" <a href="https://github.com/rust-lang/compiler-team/issues/396">compiler-team#396</a> (last comment: 6 months ago)</li>
<li>"rustdoc is using rustc_ast_pretty, would it be possible to make it somewhat "stable"?" <a href="https://github.com/rust-lang/compiler-team/issues/403">compiler-team#403</a> (last comment: 5 months ago)</li>
<li>"LLVM plugin support in Rust" <a href="https://github.com/rust-lang/compiler-team/issues/419">compiler-team#419</a> (last comment: 3 months ago)</li>
<li>"Don't steal the resolver when lowering HIR; instead store an immutable resolver in TyCtxt" <a href="https://github.com/rust-lang/compiler-team/issues/437">compiler-team#437</a> (last comment: about 26 days ago)</li>
<li>"CI should exercise (subset of) tests under --stage 1" <a href="https://github.com/rust-lang/compiler-team/issues/439">compiler-team#439</a> (last comment: about 5 days ago)</li>
<li>"Accept <code>pc</code> in place of <code>unknown</code> and <code>unknown</code> in place of <code>pc</code> for <code>x86_64</code> and <code>i?86</code> targets" <a href="https://github.com/rust-lang/compiler-team/issues/441">compiler-team#441</a> (last comment: about 5 days ago)</li>
<li>"Encode spans relative to the enclosing item" <a href="https://github.com/rust-lang/compiler-team/issues/443">compiler-team#443</a> (last comment: about 5 days ago)</li>
</ul>
</li>
</ul>



<a name="245317031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317031">(Jul 08 2021 at 14:02)</a>:</h4>
<ul>
<li>Pending FCP requests (check your boxes!)<ul>
<li>"Write text output files to stdout if options like <code>-o -</code> or <code>--emit asm=-</code> are provided" <a href="https://github.com/rust-lang/compiler-team/issues/431">compiler-team#431</a></li>
</ul>
</li>
</ul>



<a name="245317054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317054">(Jul 08 2021 at 14:02)</a>:</h4>
<ul>
<li>Things in FCP (make sure you're good with it)<ul>
<li>"Promote <code>aarch64-apple-ios-sim</code> to Tier 2" <a href="https://github.com/rust-lang/compiler-team/issues/428">compiler-team#428</a> </li>
<li>"Merge rustc_codegen_gcc backend as compiler/rustc_codegen_gcc" <a href="https://github.com/rust-lang/compiler-team/issues/442">compiler-team#442</a></li>
</ul>
</li>
</ul>



<a name="245317135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317135">(Jul 08 2021 at 14:02)</a>:</h4>
<ul>
<li>Accepted MCPs<ul>
<li>No new accepted proposals this time.</li>
</ul>
</li>
</ul>



<a name="245317149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317149" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317149">(Jul 08 2021 at 14:02)</a>:</h4>
<ul>
<li>Finalized FCPs (disposition merge)<ul>
<li>"Tracking Issue for feature(string_drain_as_str) - string::Drain::as_str()" <a href="https://github.com/rust-lang/rust/issues/76905">rust#76905</a> </li>
<li>"Tracking Issue for std::io::Seek::rewind()" <a href="https://github.com/rust-lang/rust/issues/85149">rust#85149</a></li>
</ul>
</li>
</ul>



<a name="245317174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317174">(Jul 08 2021 at 14:03)</a>:</h4>
<h3>WG checkins</h3>
<p><em>WG-self-profile</em> checkin by <span class="user-mention" data-user-id="124287">@mw</span> &amp;&amp; <span class="user-mention" data-user-id="125250">@Wesley Wiser</span>:</p>
<blockquote>
<p>Just a few small things to report here:<br>
- <span class="user-mention silent" data-user-id="125294">Aaron Hill</span> extended measureme's API to allow recording events in a more flexible way if needed.<br>
- <span class="user-mention silent" data-user-id="224872">rylev</span> is working with <span class="user-mention silent" data-user-id="124287">mw</span> on adding incr. comp. related measurements, starting with query results hashing timings.</p>
</blockquote>



<a name="245317205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317205">(Jul 08 2021 at 14:03)</a>:</h4>
<h2>Backport nominations</h2>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler beta</a></p>
<ul>
<li>No beta nominations for <code>T-compiler</code> this time.</li>
<li>No stable nominations for <code>T-compiler</code> this time.</li>
</ul>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc">T-rustdoc stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc">T-rustdoc beta</a></p>
<ul>
<li>No beta nominations for <code>T-rustdoc</code> this time.</li>
<li>No stable nominations for <code>T-rustdoc</code> this time.</li>
</ul>



<a name="245317239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317239" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317239">(Jul 08 2021 at 14:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245317135">said</a>:</p>
<blockquote>
<ul>
<li>Accepted MCPs<ul>
<li>No new accepted proposals this time.</li>
</ul>
</li>
</ul>
</blockquote>
<p>Wasn't the gcc backend an MCP?</p>



<a name="245317243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317243" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317243">(Jul 08 2021 at 14:03)</a>:</h4>
<p>Oh whoa whoa whoa</p>



<a name="245317259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317259" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317259">(Jul 08 2021 at 14:03)</a>:</h4>
<p>I went too far. :)</p>



<a name="245317435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317435" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317435">(Jul 08 2021 at 14:04)</a>:</h4>
<p>you mean <a href="https://github.com/rust-lang/compiler-team/issues/442">compiler-team#442</a>, <span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> ?</p>



<a name="245317532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317532" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317532">(Jul 08 2021 at 14:05)</a>:</h4>
<p>Its state was only modified three hours ago. The agenda isn’t guaranteed to incorporate info that fast</p>



<a name="245317541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317541" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317541">(Jul 08 2021 at 14:05)</a>:</h4>
<p>:)</p>



<a name="245317568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317568">(Jul 08 2021 at 14:05)</a>:</h4>
<p>One of the drawbacks of asynchronous systems and/or distributed systems</p>



<a name="245317577"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317577" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317577">(Jul 08 2021 at 14:05)</a>:</h4>
<p>Oh my bad</p>



<a name="245317666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317666" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317666">(Jul 08 2021 at 14:06)</a>:</h4>
<p>Not a problem, doesn’t hurt to give things <em>extra</em> visibility</p>



<a name="245317697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317697" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317697">(Jul 08 2021 at 14:06)</a>:</h4>
<p>any other announcements?</p>



<a name="245317797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317797" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317797">(Jul 08 2021 at 14:07)</a>:</h4>
<p>I wouldn’t mind taking a moment to ask: Has anyone read <a href="https://github.com/rust-lang/compiler-team/issues/396">compiler-team#396</a> and subseuqently decided “no, I’m not going to second this” ?</p>



<a name="245317860"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317860" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317860">(Jul 08 2021 at 14:07)</a>:</h4>
<p>(I figure it would be good to work through the backlog there a little)</p>



<a name="245317914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245317914" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245317914">(Jul 08 2021 at 14:08)</a>:</h4>
<p>I closed one of the MCPS (LLVM plugin one)</p>



<a name="245318057"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318057" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318057">(Jul 08 2021 at 14:08)</a>:</h4>
<p>Ann: <a href="#narrow/stream/131828-t-compiler/topic/Revisions.20.2B.20.60only-.60.20test.20directives.20work.20great/near/245018602">only- filters work great with revisions</a> if anybody missed this.</p>



<a name="245318064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318064" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318064">(Jul 08 2021 at 14:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245317797">said</a>:</p>
<blockquote>
<p>I wouldn’t mind taking a moment to ask: Has anyone read <a href="https://github.com/rust-lang/compiler-team/issues/396">compiler-team#396</a> and subseuqently decided “no, I’m not going to second this” ?</p>
</blockquote>
<p>me, as it's not a usecase that fits my workflow, so I'm not qualified. I just stay on the main folder</p>



<a name="245318130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318130" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318130">(Jul 08 2021 at 14:09)</a>:</h4>
<p>/me may just go and second <a href="https://github.com/rust-lang/compiler-team/issues/396">compiler-team#396</a>. If I understand it correctly, its not adding any expressiveness to <code>x.py</code>; its just promoting certain common workflows and giving them dedicated wrapper scripts</p>



<a name="245318205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318205">(Jul 08 2021 at 14:09)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> do you think the architectural choice of putting the wrapper scripts in subdirectories is the main problem with it?</p>



<a name="245318287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318287" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318287">(Jul 08 2021 at 14:10)</a>:</h4>
<p>we can discuss this in the zulip channel dedicated to the MCP</p>



<a name="245318294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318294" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318294">(Jul 08 2021 at 14:10)</a>:</h4>
<p>I suppose I should cc <span class="user-mention" data-user-id="232545">@Joshua Nelson</span> since its their MCP</p>



<a name="245318298"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318298" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318298">(Jul 08 2021 at 14:10)</a>:</h4>
<p>good point <span class="user-mention" data-user-id="124288">@oli</span></p>



<a name="245318337"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318337" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318337">(Jul 08 2021 at 14:10)</a>:</h4>
<p>that zulip stream is <a class="stream-topic" data-stream-id="233931" href="/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20different.20entry.20points.20for.20x.2Epy.20compiler-team.23396">#t-compiler/major changes &gt; Add different entry points for x.py compiler-team#396</a></p>



<a name="245318413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318413">(Jul 08 2021 at 14:11)</a>:</h4>
<p>with that, I’ll move on</p>



<a name="245318492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318492" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318492">(Jul 08 2021 at 14:11)</a>:</h4>
<p>as previously noted, we have no backport nominations this week</p>



<a name="245318549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318549">(Jul 08 2021 at 14:12)</a>:</h4>
<h2>PRs S-waiting-on-team</h2>
<p><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p>
<ul>
<li>None at this time</li>
</ul>



<a name="245318600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318600">(Jul 08 2021 at 14:12)</a>:</h4>
<p>This week, i’m trying something new: I added a new section, with hand-picked nominations that we will discuss early in the meeting</p>



<a name="245318612"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318612" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318612">(Jul 08 2021 at 14:12)</a>:</h4>
<p>to ensure they get visited</p>



<a name="245318627"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318627" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318627">(Jul 08 2021 at 14:12)</a>:</h4>
<h2>Early Nominations</h2>
<ul>
<li>"Allow reifying intrinsics to <code>fn</code> pointers." <a href="https://github.com/rust-lang/rust/pull/86699">rust#86699</a><ul>
<li>opened by <span class="user-mention" data-user-id="119009">@eddyb</span>, asking for a review (<a href="https://github.com/rust-lang/rust/pull/86699#issuecomment-870745885">comment</a>)</li>
</ul>
</li>
</ul>



<a name="245318675"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318675" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318675">(Jul 08 2021 at 14:13)</a>:</h4>
<p>that comment link btw is not relevant</p>



<a name="245318678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318678">(Jul 08 2021 at 14:13)</a>:</h4>
<p>This is related to that copy/copy_nonoverlapping thing I assume</p>



<a name="245318689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318689">(Jul 08 2021 at 14:13)</a>:</h4>
<p>I think it's a reply to a different comment</p>



<a name="245318747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318747" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318747">(Jul 08 2021 at 14:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245318678">said</a>:</p>
<blockquote>
<p>This is related to that copy/copy_nonoverlapping thing I assume</p>
</blockquote>
<p>oh yes, it even says so in the description</p>



<a name="245318868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318868" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318868">(Jul 08 2021 at 14:14)</a>:</h4>
<p>I’m trying to remember what opinions T-lang had on this</p>



<a name="245318908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318908">(Jul 08 2021 at 14:14)</a>:</h4>
<p>so the reason I nominated it is that I'm not even sure whether this needs an MCP or something else, it's a bit significant in that it's technically an insta-stable language feature, but also we expose very few intrinsics, so it <em>almost</em> balances itself out</p>



<a name="245318963"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245318963" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245318963">(Jul 08 2021 at 14:15)</a>:</h4>
<p>aren’t there a slew of SIMD intrinsics that are exposed?</p>



<a name="245319067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319067" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319067">(Jul 08 2021 at 14:15)</a>:</h4>
<p>ugh I keep forgetting those are in a separate repo</p>



<a name="245319087"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319087" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319087">(Jul 08 2021 at 14:16)</a>:</h4>
<p>so that's the first thing I missed</p>



<a name="245319203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319203" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319203">(Jul 08 2021 at 14:16)</a>:</h4>
<p>I thought all of those had wrapper functions though. I will have to look closer into it</p>



<a name="245319207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319207" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319207">(Jul 08 2021 at 14:16)</a>:</h4>
<p>My memory is that SIMD was the main thing T-lang was concerned about. Or at least, If I recall correctly, certain members thought it was a feature that you couldn’t reify SIMD primitives</p>



<a name="245319244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319244">(Jul 08 2021 at 14:17)</a>:</h4>
<p>but 1. I might be completely misremembering that, and 2. even if that <em>is</em> a concern, we can always add a lint</p>



<a name="245319248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319248" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319248">(Jul 08 2021 at 14:17)</a>:</h4>
<p>Yeah, I thought we just exposed normal Rust functions that call into the intrinsics for simd.</p>



<a name="245319290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319290" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319290">(Jul 08 2021 at 14:17)</a>:</h4>
<p>there was something in the Zulip thread about performance pitfalls <em>but only</em> if we did intrinsics differently enough</p>



<a name="245319301"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319301" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319301">(Jul 08 2021 at 14:17)</a>:</h4>
<p>it cannot apply to today's intrinsics</p>



<a name="245319398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319398">(Jul 08 2021 at 14:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="119009">eddyb</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245319290">said</a>:</p>
<blockquote>
<p>there was something in the Zulip thread about performance pitfalls <em>but only</em> if we did intrinsics differently enough</p>
</blockquote>
<p>(IIRC, if the intrinsic was a regular definition with an attribute, and contained <em>a different</em> implementation to use when reifying)</p>



<a name="245319423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319423">(Jul 08 2021 at 14:18)</a>:</h4>
<p>Okay, I can definitely believe that I am misremembering</p>



<a name="245319424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319424">(Jul 08 2021 at 14:18)</a>:</h4>
<p>it just needs a proper review then, yeah?</p>



<a name="245319425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319425" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319425">(Jul 08 2021 at 14:18)</a>:</h4>
<p>anyway this seems fine</p>



<a name="245319426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319426" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319426">(Jul 08 2021 at 14:18)</a>:</h4>
<p>in terms of its goal</p>



<a name="245319499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319499">(Jul 08 2021 at 14:19)</a>:</h4>
<p>you still can't reify e.g. functions that use <code>#[rustc_const_arg]</code> or w/e that feature is, which is the main thing (AFAIK) that requires "emulation" with SIMD</p>



<a name="245319592"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319592" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319592">(Jul 08 2021 at 14:19)</a>:</h4>
<p><span class="user-mention" data-user-id="119009">@eddyb</span> where is the associated zulip thread?</p>



<a name="245319694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319694" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319694">(Jul 08 2021 at 14:20)</a>:</h4>
<p>Ah found it</p>



<a name="245319715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319715">(Jul 08 2021 at 14:20)</a>:</h4>
<p><a class="stream-topic" data-stream-id="131828" href="/#narrow/stream/131828-t-compiler/topic/reifying.20function.20ptrs.20for.20intrinsics.20.2384297">#t-compiler &gt; reifying function ptrs for intrinsics #84297</a></p>



<a name="245319725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245319725" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245319725">(Jul 08 2021 at 14:20)</a>:</h4>
<p>was just going to link <a href="#narrow/stream/131828-t-compiler/topic/reifying.20function.20ptrs.20for.20intrinsics.20.2384297/near/244196818">https://rust-lang.zulipchat.com/#narrow/stream/131828-t-compiler/topic/reifying.20function.20ptrs.20for.20intrinsics.20.2384297/near/244196818</a> heh</p>



<a name="245320007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320007">(Jul 08 2021 at 14:22)</a>:</h4>
<p>okay. In terms of ownership, lets see if anyone else jumps up to review. <span class="user-mention" data-user-id="119009">@eddyb</span> , if you don’t get an review owner by tomorrow, ping me.</p>



<a name="245320030"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320030" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320030">(Jul 08 2021 at 14:22)</a>:</h4>
<p>sound good?</p>



<a name="245320063"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320063" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320063">(Jul 08 2021 at 14:22)</a>:</h4>
<p>Lets move along to issues</p>



<a name="245320070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320070">(Jul 08 2021 at 14:22)</a>:</h4>
<p>I did review the implementation in isolation; it seems okay to me.</p>



<a name="245320095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320095" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320095">(Jul 08 2021 at 14:22)</a>:</h4>
<h2>Issues of Note</h2>
<h3>Short Summary</h3>
<ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">4 T-compiler P-critical issues</a><ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">3 of those are unassigned</a></li>
</ul>
</li>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">79 T-compiler P-high issues</a><ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">53 of those are unassigned</a></li>
</ul>
</li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta">2 P-critical, 0 P-high, 1 P-medium, 0 P-low regression-from-stable-to-beta</a></li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly">0 P-critical, 2 P-high, 2 P-medium, 0 P-low regression-from-stable-to-nightly</a></li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable">2 P-critical, 47 P-high, 83 P-medium, 10 P-low regression-from-stable-to-stable</a></li>
</ul>



<a name="245320101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320101" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320101">(Jul 08 2021 at 14:22)</a>:</h4>
<p>but all the interactions need to be figured out by somebody.</p>



<a name="245320174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320174">(Jul 08 2021 at 14:23)</a>:</h4>
<p>(maybe its something we strive to land early in a release cycle)</p>



<a name="245320183"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320183" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320183">(Jul 08 2021 at 14:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245320030">said</a>:</p>
<blockquote>
<p>sound good?</p>
</blockquote>
<p>thanks! I will still need to look into the MIR pass thing, thanks for noticing it (in the other thread)</p>



<a name="245320240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320240" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320240">(Jul 08 2021 at 14:23)</a>:</h4>
<h3>P-critical</h3>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p>



<a name="245320262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320262">(Jul 08 2021 at 14:24)</a>:</h4>
<ul>
<li>"run-make-fulldeps/pgo-branch-weights fails on AArch64 Linux" <a href="https://github.com/rust-lang/rust/issues/78226">rust#78226</a><ul>
<li>only fails on aarch64 arm</li>
<li><span class="user-mention" data-user-id="116122">@simulacrum</span> <a href="https://github.com/rust-lang/rust/issues/78226#issuecomment-866299280">comments</a> that tests for this are disabled but a fix for 1.54 would be good</li>
<li>being investigated by <span class="user-mention" data-user-id="309977">@Jamie Cunliffe</span> <a href="https://github.com/rust-lang/rust/issues/78226#issuecomment-868570487">see comment</a> </li>
<li><span class="user-mention" data-user-id="116122">@simulacrum</span> <a href="https://github.com/rust-lang/rust/issues/78226#issuecomment-875011175">suggests</a> looking at <a href="https://github.com/rust-lang/rust/pull/85891">#85891</a></li>
</ul>
</li>
</ul>



<a name="245320440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320440">(Jul 08 2021 at 14:25)</a>:</h4>
<p>Hmm the story about the reverts seems a little confusing to me</p>



<a name="245320463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320463" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320463">(Jul 08 2021 at 14:25)</a>:</h4>
<p>The reverts, IIRC, were largely performance-driven</p>



<a name="245320477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320477" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320477">(Jul 08 2021 at 14:25)</a>:</h4>
<p>So they're not due to this bug inherently.</p>



<a name="245320613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320613">(Jul 08 2021 at 14:26)</a>:</h4>
<p>okay</p>



<a name="245320616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320616" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320616">(Jul 08 2021 at 14:26)</a>:</h4>
<p>And the current working theory is that <a href="https://github.com/rust-lang/rust/issues/85891">#85891</a> (or its sibling PRs which revert and unrevert it) in practice just shuffled symbol order or something like that, leading to different behavior in the linker and -ultimately - bugs in our PGO which are preexisting</p>



<a name="245320631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320631" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320631">(Jul 08 2021 at 14:26)</a>:</h4>
<p>gotcha.</p>



<a name="245320635"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320635" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320635">(Jul 08 2021 at 14:26)</a>:</h4>
<p>that makes sense</p>



<a name="245320671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320671">(Jul 08 2021 at 14:27)</a>:</h4>
<p>It's not clear to me what we plan to do for 1.54 or long-term yet, though</p>



<a name="245320751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320751" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320751">(Jul 08 2021 at 14:27)</a>:</h4>
<p>hmm. Yeah we should probably address the question of whether this is <em>really</em> P-critical</p>



<a name="245320764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320764">(Jul 08 2021 at 14:27)</a>:</h4>
<p>I'm not sure how much the ARM folks can help out in terms of figuring out what is causing this behavior - my guess is it's not actually ARM specific, just that symbol ordering presumably is also somewhat platform dependent (I think the target triple is part of our crate hash etc)</p>



<a name="245320974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245320974" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245320974">(Jul 08 2021 at 14:29)</a>:</h4>
<p>the nature of this test failure, to be clear: It is that we are not getting the profile data we expect, right?</p>



<a name="245321009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321009">(Jul 08 2021 at 14:29)</a>:</h4>
<p>AFAICT, we're getting <em>no</em> profile data</p>



<a name="245321021"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321021" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321021">(Jul 08 2021 at 14:29)</a>:</h4>
<p>but yes</p>



<a name="245321026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321026" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321026">(Jul 08 2021 at 14:29)</a>:</h4>
<p>Or is there something deeper (more impactful) that we need to worry about ...</p>



<a name="245321060"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321060" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321060">(Jul 08 2021 at 14:30)</a>:</h4>
<p>Hmm. Is “no profile data” worse than “unexpected profile data” ...</p>



<a name="245321159"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321159" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321159">(Jul 08 2021 at 14:30)</a>:</h4>
<p>The former  is at least something that is readily detectable</p>



<a name="245321167"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321167" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321167">(Jul 08 2021 at 14:30)</a>:</h4>
<p>I don't know :)</p>
<p>I probably wouldn't spend so much meeting time on this though -- I think the criticality may be more important</p>



<a name="245321175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321175" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321175">(Jul 08 2021 at 14:30)</a>:</h4>
<p>but more embarassing</p>



<a name="245321224"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321224" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321224">(Jul 08 2021 at 14:30)</a>:</h4>
<p>aarch64-unknown-linux-gnu is a tier 1 target, so in that sense it feels critical</p>



<a name="245321250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321250" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321250">(Jul 08 2021 at 14:31)</a>:</h4>
<p>Sorry, are you saying we should debate the criticality, or we should not debate the criticality?</p>



<a name="245321286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321286">(Jul 08 2021 at 14:31)</a>:</h4>
<p>(Or that we should debate the criticality, but <em>not now</em> ?)</p>



<a name="245321290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321290" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321290">(Jul 08 2021 at 14:31)</a>:</h4>
<p>we should debate the criticality over investigating the bug itself in our meeting</p>



<a name="245321314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321314">(Jul 08 2021 at 14:31)</a>:</h4>
<p>okay</p>



<a name="245321327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321327">(Jul 08 2021 at 14:31)</a>:</h4>
<p>the target itself is important</p>



<a name="245321341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321341" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321341">(Jul 08 2021 at 14:31)</a>:</h4>
<p>but the nature of this particular feature does not strike me as P-critical</p>



<a name="245321483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321483" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321483">(Jul 08 2021 at 14:32)</a>:</h4>
<p>I think strictly speaking our policy doesn't really have non-critical features, but my gut definitely says that I agree</p>



<a name="245321564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321564" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321564">(Jul 08 2021 at 14:32)</a>:</h4>
<p>Yeah. Its possible our policy needs to be more explicit on that sort of point</p>



<a name="245321760"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321760" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321760">(Jul 08 2021 at 14:34)</a>:</h4>
<p>anyway, release is July 29th</p>



<a name="245321773"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321773" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321773">(Jul 08 2021 at 14:34)</a>:</h4>
<p>we have time to continue debate (or even fix the bug!)</p>



<a name="245321779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321779">(Jul 08 2021 at 14:34)</a>:</h4>
<p>lets move along</p>



<a name="245321885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321885">(Jul 08 2021 at 14:35)</a>:</h4>
<ul>
<li>"Unstable fingerprints - what to do on beta (and stable)" <a href="https://github.com/rust-lang/rust/issues/84970">rust#84970</a><ul>
<li>discussed <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-06-24.20.2354818/near/243797032">last week</a></li>
<li><span class="user-mention" data-user-id="125294">@Aaron Hill</span> comments about addressing the <a href="https://github.com/rust-lang/rust/issues/85360">sub-obligation</a> and <a href="https://github.com/rust-lang/rust/issues/84963">the overflow</a> issues, other than those all known issues are fixed</li>
<li>@<strong>estebank</strong> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-06-17.20.2354818/near/243025573">offered to have a look</a></li>
<li>there are <a href="https://github.com/rust-lang/rust/issues/84970#issuecomment-873539084">still occurrences of incr-comp ICEs</a> (though possibly related to other issues? see <a href="https://github.com/rust-lang/rust/issues/84970#issuecomment-873624124">comment</a>) </li>
<li>general feeling is to re-enable incr-comp again in 1.54</li>
</ul>
</li>
</ul>



<a name="245321976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321976">(Jul 08 2021 at 14:35)</a>:</h4>
<p>I'm working some some performance improvements to handling of projection predicates</p>



<a name="245321977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245321977" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245321977">(Jul 08 2021 at 14:35)</a>:</h4>
<p>I encountered this family of bugs in beta today and the error message/notes were useful enough that I think that at least from that perspective its okay ^^</p>



<a name="245322064"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245322064" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245322064">(Jul 08 2021 at 14:36)</a>:</h4>
<p>Which might make one of the simpler strategies viable for fixing the evaluate_obligation ICE</p>



<a name="245322122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245322122" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245322122">(Jul 08 2021 at 14:36)</a>:</h4>
<p>Yes I think <span class="user-mention" data-user-id="123586">@nagisa</span> is bringing up an important point</p>



<a name="245322177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245322177" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245322177">(Jul 08 2021 at 14:37)</a>:</h4>
<p>We are definitely seeing several reports of people still hitting this on a roughly 3-4 times/week basis I think, so that may signal not wanting to re-enable. But I still feel a little unclear on what rationale we use either way, feels like there's no "right" decision here.</p>



<a name="245322192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245322192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245322192">(Jul 08 2021 at 14:37)</a>:</h4>
<p>if the number of occurrences of fingerprint ICE is small enough, and the error messages are good enough, then the ICE’s can be considered mitigated well enough for 1.54</p>



<a name="245322232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245322232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245322232">(Jul 08 2021 at 14:37)</a>:</h4>
<p>3-4 times/week is not ideal, but it sounds workable to me</p>



<a name="245322258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245322258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245322258">(Jul 08 2021 at 14:37)</a>:</h4>
<p>The crucial point being that many rustc users will benefit from incr-comp being re-enabled</p>



<a name="245322341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245322341" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245322341">(Jul 08 2021 at 14:38)</a>:</h4>
<p>Sounds to me like we want some telemetry in the compiler as we don't have the data to make informed decisions right now; OTOH it'd be such a PR disaster <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="245322414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245322414" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245322414">(Jul 08 2021 at 14:38)</a>:</h4>
<p>yep</p>



<a name="245322429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245322429" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245322429">(Jul 08 2021 at 14:39)</a>:</h4>
<p>its something on my mind</p>



<a name="245322470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245322470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245322470">(Jul 08 2021 at 14:39)</a>:</h4>
<p>we’ll probably talk more about that in tomorrow’s meeting about fingerprints</p>



<a name="245322480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245322480" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245322480">(Jul 08 2021 at 14:39)</a>:</h4>
<p>so lets move along</p>



<a name="245322528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245322528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245322528">(Jul 08 2021 at 14:39)</a>:</h4>
<ul>
<li>"iter::Fuse is unsound with how specialization currently behaves around HRTB fn pointers" <a href="https://github.com/rust-lang/rust/issues/85863">rust#85863</a><ul>
<li><span class="user-mention" data-user-id="138448">@cuviper</span> (<a href="https://github.com/rust-lang/rust/issues/85863#issuecomment-871797016">comment</a>) opened pr <a href="https://github.com/rust-lang/rust/pull/86765">rust#86765</a> and <a href="https://github.com/rust-lang/rust/pull/86766">rust#86766</a></li>
<li>also, discussed <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-01.20.2354818/near/244577649">last week</a> (issue needs an owner)</li>
</ul>
</li>
</ul>



<a name="245322603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245322603" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245322603">(Jul 08 2021 at 14:40)</a>:</h4>
<p>ooooooh <a href="https://github.com/rust-lang/rust/issues/85863#issuecomment-872536139">diagram</a></p>



<a name="245322952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245322952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245322952">(Jul 08 2021 at 14:42)</a>:</h4>
<p>for the most part I think <span class="user-group-mention" data-user-group-id="4493">@T-libs</span> owns this? Or maybe <span class="user-group-mention" data-user-group-id="2645">@T-libs-api</span> , if there are changes implied to the public APIs? (Which is not clear to me, <span class="user-mention" data-user-id="138448">@cuviper</span> commented that PR <a href="https://github.com/rust-lang/rust/issues/86765">#86765</a> loses in-place iteration, that’s an API change, right?)</p>



<a name="245323082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323082" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323082">(Jul 08 2021 at 14:43)</a>:</h4>
<p><span class="user-mention" data-user-id="310399">@Mara</span> thoughts on ^ ?</p>



<a name="245323113"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323113" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323113">(Jul 08 2021 at 14:44)</a>:</h4>
<p>hi</p>



<a name="245323127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323127">(Jul 08 2021 at 14:44)</a>:</h4>
<p>/me reads</p>



<a name="245323216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323216" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323216">(Jul 08 2021 at 14:44)</a>:</h4>
<p>yeah we handled this in our meeting yesterday</p>



<a name="245323252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323252">(Jul 08 2021 at 14:44)</a>:</h4>
<p>okay. I see PR <a href="https://github.com/rust-lang/rust/issues/86765">#86765</a> was only marked “ready for review” 21 hours ago</p>



<a name="245323264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323264" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323264">(Jul 08 2021 at 14:44)</a>:</h4>
<p>exactly</p>



<a name="245323285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323285" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323285">(Jul 08 2021 at 14:45)</a>:</h4>
<p>so it sounds to me like this is under control</p>



<a name="245323486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323486">(Jul 08 2021 at 14:46)</a>:</h4>
<p>what release(s) does <a href="https://github.com/rust-lang/rust/issues/85863">#85863</a> affect? There’s no milestone on the issue, and there’s no regression labels on it. Is it purely nightly?</p>



<a name="245323531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323531">(Jul 08 2021 at 14:46)</a>:</h4>
<p>It seems unlkely that it could be purely nightly given how old it is. Is it in fact stable-to-stable regression?</p>



<a name="245323630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323630">(Jul 08 2021 at 14:47)</a>:</h4>
<p>okay, related bug <a href="https://github.com/rust-lang/rust/issues/85873">#85873</a> is marked stable-to-stable regression</p>



<a name="245323673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323673">(Jul 08 2021 at 14:47)</a>:</h4>
<p>Its at least a year old if my memory serves me right.</p>



<a name="245323790"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323790" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323790">(Jul 08 2021 at 14:48)</a>:</h4>
<p>so I’ll assume that T-libs is handling this, both in terms of what the short-term solution is, and also whether to backport anything. (My guess is that we should not backport anything here, but its T-libs’s call I think.)</p>



<a name="245323827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323827" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323827">(Jul 08 2021 at 14:48)</a>:</h4>
<ul>
<li>"TrustedRandomAccess optimization for Zip containing vec::IntoIter is unsound with how specialization currently behaves around HRTB fn pointers" <a href="https://github.com/rust-lang/rust/issues/85873">rust#85873</a><ul>
<li><span class="user-mention" data-user-id="280891">@Frank Steffahn</span> authored PR <a href="https://github.com/rust-lang/rust/pull/85874">rust#85874</a> that should close this issue </li>
<li>added the work from PR <a href="https://github.com/steffahn/rust/pull/1">steffahn/rust#1</a></li>
</ul>
</li>
</ul>



<a name="245323875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323875">(Jul 08 2021 at 14:48)</a>:</h4>
<p>this is related to the previous bug. They aren’t duplicates, but I think the root answer is the same: Its T-libs’ problem, not ours</p>



<a name="245323889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323889" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323889">(Jul 08 2021 at 14:49)</a>:</h4>
<p>yeah, we decided what to backport too. I'll open a PR for that.</p>



<a name="245323921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323921">(Jul 08 2021 at 14:49)</a>:</h4>
<p>yup, same. also discussed yesterday and handled :)</p>



<a name="245323957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245323957" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245323957">(Jul 08 2021 at 14:49)</a>:</h4>
<p>(and I think in fact someone on the thread made an argument that the root cause here is not about specialization. So thus its not clear to me whether there is even a compiler bug here to be discussed…)</p>



<a name="245324090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324090" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324090">(Jul 08 2021 at 14:50)</a>:</h4>
<p>I may remove T-compiler labels /or/ remove from next week meeting?</p>



<a name="245324140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324140" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324140">(Jul 08 2021 at 14:50)</a>:</h4>
<p>just not to reiterate these issues over and over again is its not necessary</p>



<a name="245324142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324142" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324142">(Jul 08 2021 at 14:50)</a>:</h4>
<p>I think that seems prudent here</p>



<a name="245324156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324156" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324156">(Jul 08 2021 at 14:50)</a>:</h4>
<p>Well, the fact that specialization makes it super hard get these things right I think does point to the fact that we may want to have some followup on the feature itself.</p>



<a name="245324188"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324188" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324188">(Jul 08 2021 at 14:50)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc">T-rustdoc</a></p>
<ul>
<li>No <code>P-critical</code> issues for <code>T-rustdoc</code> this time.</li>
</ul>



<a name="245324203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324203" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324203">(Jul 08 2021 at 14:50)</a>:</h4>
<h3>P-high regressions</h3>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-libs+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p>
<ul>
<li>No <code>P-high</code> beta regressions this time.</li>
</ul>



<a name="245324226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324226" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324226">(Jul 08 2021 at 14:51)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-libs+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">Unassigned P-high nightly regressions</a></p>
<ul>
<li>No unassigned <code>P-high</code> nightly regressions this time.</li>
</ul>



<a name="245324257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324257" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324257">(Jul 08 2021 at 14:51)</a>:</h4>
<h2>Performance logs</h2>
<blockquote>
<p><a href="https://github.com/rust-lang/rustc-perf/blob/master/triage/2021-07-06.md">triage logs for 2021-07-06</a></p>
</blockquote>
<p>A fairly mixed week with improvements and regressions mostly balancing themselves out. The highlight of this week is the new performance triage process which will now label PRs that introduce performance regressions with the <code>perf-regression</code> label. Authors and/or reviewers are expected to justify their performance regression either by a short summary of why the change is worth it despite the regression or by creating an issue to follow-up on the regression.</p>
<p>Triage done by <strong>@rylev</strong>.<br>
2 Regressions, 3 Improvements, 2 Mixed, 1 of them in rollups</p>



<a name="245324289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324289" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324289">(Jul 08 2021 at 14:51)</a>:</h4>
<h4>Regressions</h4>
<p>Rollup of 8 pull requests <a href="https://github.com/rust-lang/rust/issues/86588">#86588</a></p>
<ul>
<li>Moderate regression in <a href="https://perf.rust-lang.org/compare.html?start=f1e691da2e640bb45fe18f8a5bd8f7afa65ce21d&amp;end=964a81eb37db6ee33b8fc107582618bf2befe02d&amp;stat=instructions:u">instruction counts</a> (up to 1.9% on <code>full</code> builds of <code>deeply-nested-async-check</code>)</li>
<li>The regressions are worse in <code>deeply-nested-async</code>.</li>
<li>Most of the rollup is documentation or tooling changes. The only real changes in code were in <a href="https://github.com/rust-lang/rust/pull/86566">MIR pretty printing</a> and <a href="https://github.com/rust-lang/rust/pull/86536">checking spans to see if Rust 2021 closure capturing should be used</a>. Both seem rather benign. However, given the performance regression is async code (which may take more advantage of closures), perhaps the closure capture change should be investigated first.</li>
<li>Follow-up comment: <a href="https://github.com/rust-lang/rust/pull/86588#issuecomment-874773229">https://github.com/rust-lang/rust/pull/86588#issuecomment-874773229</a></li>
</ul>
<p>Improve debug symbol names to avoid ambiguity and work better with MSVC's debugger <a href="https://github.com/rust-lang/rust/issues/85269">#85269</a></p>
<ul>
<li>Moderate regression in <a href="https://perf.rust-lang.org/compare.html?start=851c82e88ade86bfe3b4ee785d5e5ab1d954b61c&amp;end=2545459bff0aae43288e2e17bff0d332c49a6353&amp;stat=instructions:u">instruction counts</a> (up to 1.5% on <code>incr-unchanged</code> builds of <code>unify-linearly-debug</code>)</li>
<li>This might be the case of simply doing more work (including allocations) where there were comparatively few before.</li>
<li>Unfortunately a perf run was not run before merging (due to the somewhat complication nature of it landing). This is another example where we'll probably want to invest more in ensuring our performance triage process does not lose track of such changes.</li>
<li>@michaelwoerister already opened <a href="https://github.com/rust-lang/rust/issues/86431">#86431</a> to investigate this area of the code. Given the regression isn't very bad, I suggest we let this change slide and try to address the performance of debug info generation wholistically.<br>
-Follow-up comment: <a href="https://github.com/rust-lang/rust/pull/85269#issuecomment-874776341">https://github.com/rust-lang/rust/pull/85269#issuecomment-874776341</a></li>
</ul>



<a name="245324403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324403">(Jul 08 2021 at 14:52)</a>:</h4>
<h4>Improvements</h4>
<ul>
<li>Derive <code>Copy</code> for <code>VarianceDiagInfo</code> <a href="https://github.com/rust-lang/rust/issues/86670">#86670</a></li>
<li>Add inflate to pgo <a href="https://github.com/rust-lang/rust/issues/86697">#86697</a></li>
<li>Fix const-generics ICE related to binding <a href="https://github.com/rust-lang/rust/issues/86795">#86795</a></li>
</ul>



<a name="245324431"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324431" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324431">(Jul 08 2021 at 14:52)</a>:</h4>
<h4>Mixed</h4>
<p>Include terminators in instance size estimate <a href="https://github.com/rust-lang/rust/issues/86777">#86777</a></p>
<ul>
<li>Moderate regression in <a href="https://perf.rust-lang.org/compare.html?start=56dee7c49ecdec4c2c9eccc6ff966cf58847bda6&amp;end=7a9ff746fe20a38a3adc0ac65e1789f6e4b099ad&amp;stat=instructions:u">instruction counts</a> (up to 4.4% on <code>incr-unchanged</code> builds of <code>deeply-nested-async-check</code>)</li>
<li>Moderate improvement in <a href="https://perf.rust-lang.org/compare.html?start=56dee7c49ecdec4c2c9eccc6ff966cf58847bda6&amp;end=7a9ff746fe20a38a3adc0ac65e1789f6e4b099ad&amp;stat=instructions:u">instruction counts</a> (up to -1.9% on <code>full</code> builds of <code>ripgrep-opt</code>)</li>
<li>This was identified as potentially being performance sensitive since it leads to changes in CGU partitioning, but unfortunately, @bors has already been invoked on the PR. Arguably, we should have run a performance test anyway.</li>
<li>This seemed to impact the <code>deeply-nested-async</code> benchmark which has the tendency to be more sensitive to changes like this.</li>
<li>Follow-up comment: <a href="https://github.com/rust-lang/rust/pull/86777#issuecomment-874779995">https://github.com/rust-lang/rust/pull/86777#issuecomment-874779995</a></li>
</ul>
<p>Inline Iterator as IntoIterator. <a href="https://github.com/rust-lang/rust/issues/84560">#84560</a></p>
<ul>
<li>Large regression in <a href="https://perf.rust-lang.org/compare.html?start=5249414809d40fe22eca0c36105a2f71b9006e04&amp;end=6e9b3696d494a32d493585f96f0671123066cd58&amp;stat=instructions:u">instruction counts</a> (up to 6.2% on <code>incr-patched: println</code> builds of <code>webrender-opt</code>)</li>
<li>Moderate improvement in <a href="https://perf.rust-lang.org/compare.html?start=5249414809d40fe22eca0c36105a2f71b9006e04&amp;end=6e9b3696d494a32d493585f96f0671123066cd58&amp;stat=instructions:u">instruction counts</a> (up to -3.2% on <code>full</code> builds of <code>deeply-nested-opt</code>)</li>
<li>Performance run was run on the change which looks similar to results here. Given that this led to fairly significant regressions in some benchmarks, there should probably be some justification as to why the performance regressions are acceptable.</li>
<li>Follow-up comment: <a href="https://github.com/rust-lang/rust/pull/84560#issuecomment-874781386">https://github.com/rust-lang/rust/pull/84560#issuecomment-874781386</a></li>
</ul>



<a name="245324545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324545" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324545">(Jul 08 2021 at 14:53)</a>:</h4>
<p>Yeah PR <a href="https://github.com/rust-lang/rust/issues/86777">#86777</a> totally should have had a performance run</p>



<a name="245324633"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324633" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324633">(Jul 08 2021 at 14:53)</a>:</h4>
<p>so should rust-highfive be automatically posting a comment listing areas of the compiler that warrant a perf run?</p>



<a name="245324785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324785" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324785">(Jul 08 2021 at 14:54)</a>:</h4>
<p>(At the same time, PR <a href="https://github.com/rust-lang/rust/issues/86777">#86777</a> sounds like “the right thing” regardless of its performance impact … its possible that we need follow-on work to refine the estimation, or tune heuristics elsewhere…)</p>



<a name="245324811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324811" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324811">(Jul 08 2021 at 14:54)</a>:</h4>
<h4>Nags requiring follow up</h4>
<ul>
<li>Now that we are adding labels to performance regressions, it should hopefully be easier to follow up.</li>
<li>Last week's follow up on max-rss regression in <a href="https://github.com/rust-lang/rust/pull/86034#issuecomment-871488586">#86034</a> has not been addressed.</li>
</ul>



<a name="245324892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324892">(Jul 08 2021 at 14:55)</a>:</h4>
<p>To be fair, <span class="user-mention" data-user-id="123586">@nagisa</span> did say something, if only that the regression was not expected.</p>



<a name="245324950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324950" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324950">(Jul 08 2021 at 14:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245324545">said</a>:</p>
<blockquote>
<p>Yeah PR <a href="https://github.com/rust-lang/rust/issues/86777">#86777</a> totally should have had a performance run</p>
</blockquote>
<p>I caught that 86777 was going to be rolled up and fixed that but didn't do a perf run because it seemed like landing it was the correct thing to do. Next time, I'll do a perf run too but I would probably vote to land even with the regression.</p>



<a name="245324983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245324983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245324983">(Jul 08 2021 at 14:56)</a>:</h4>
<p>The real message I’m seeing here, though, is that we perhaps should be tracking codegen unit distribution as a metric itself?</p>



<a name="245325061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325061" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325061">(Jul 08 2021 at 14:56)</a>:</h4>
<p>so that we can at least <em>tell</em> from the perf.rlo data whether it changed significantly from one run to the next, in order to validate such hypotheses that we’ve seen recently?</p>



<a name="245325112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325112" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325112">(Jul 08 2021 at 14:57)</a>:</h4>
<p>How would you quantify it?</p>



<a name="245325127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325127" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325127">(Jul 08 2021 at 14:57)</a>:</h4>
<p><span class="user-mention" data-user-id="224872">@rylev</span> <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> how plausible do you think that would be to add to perf.rlo?</p>



<a name="245325179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325179" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325179">(Jul 08 2021 at 14:57)</a>:</h4>
<p>Codegen unit count and/or number of items within each is an obvious one, but things can change in terms of how things are allocated to codegen units.</p>



<a name="245325189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325189" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325189">(Jul 08 2021 at 14:57)</a>:</h4>
<p>What do you mean by "codegen unit distribution"?</p>



<a name="245325197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325197">(Jul 08 2021 at 14:57)</a>:</h4>
<p>we could just report the histogram</p>



<a name="245325232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325232">(Jul 08 2021 at 14:57)</a>:</h4>
<p>Oh like the size of items in each cgu?</p>



<a name="245325235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325235" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325235">(Jul 08 2021 at 14:57)</a>:</h4>
<p>and I anticipate that this latter part is what will have much more effect on the compile times ultimately.</p>



<a name="245325249"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325249" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325249">(Jul 08 2021 at 14:58)</a>:</h4>
<p>of how many codegen units and what their sizes were</p>



<a name="245325351"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325351" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325351">(Jul 08 2021 at 14:58)</a>:</h4>
<p>it wouldn’t have <em>all</em> the data, but it might serve as a reasonable proxy</p>



<a name="245325427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325427" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325427">(Jul 08 2021 at 14:58)</a>:</h4>
<p>we _could_ run perf with <code>-Ccodegen-units=1</code> if we aren't already.</p>



<a name="245325468"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325468" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325468">(Jul 08 2021 at 14:59)</a>:</h4>
<p>That basically nerfs the incremental tests though doesn't it?</p>



<a name="245325484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325484">(Jul 08 2021 at 14:59)</a>:</h4>
<p>that would at least give us an easy proxy to see how things change without partitioning in the equation.</p>



<a name="245325494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325494" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325494">(Jul 08 2021 at 14:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="123586">nagisa</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245325235">said</a>:</p>
<blockquote>
<p>and I anticipate that this latter part is what will have much more effect on the compile times ultimately.</p>
</blockquote>
<p>Is your thinking here that there are likely instances where the size distribution wouldn’t change much, but the compilation times still would change drastically?</p>



<a name="245325511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325511">(Jul 08 2021 at 14:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245325468">said</a>:</p>
<blockquote>
<p>That basically nerfs the incremental tests though doesn't it?</p>
</blockquote>
<p>In addition to the regular testing.</p>



<a name="245325593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325593" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325593">(Jul 08 2021 at 14:59)</a>:</h4>
<p>That’s not a bad idea</p>



<a name="245325602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325602">(Jul 08 2021 at 14:59)</a>:</h4>
<p>if we can afford the cycles</p>



<a name="245325611"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325611" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325611">(Jul 08 2021 at 14:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245325494">said</a>:</p>
<blockquote>
<p>Is your thinking here that there are likely instances where the size distribution wouldn’t change much, but the compilation times still would change drastically?</p>
</blockquote>
<p>Yes.</p>



<a name="245325685"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325685" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325685">(Jul 08 2021 at 15:00)</a>:</h4>
<p>Okay</p>



<a name="245325763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325763" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325763">(Jul 08 2021 at 15:00)</a>:</h4>
<p>lets look into that (adding new benchmark variants that do <code>codegen-units=1</code>, it sounds like the easiest way to go)</p>



<a name="245325790"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325790" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325790">(Jul 08 2021 at 15:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245325127">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="224872">rylev</span> <span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> how plausible do you think that would be to add to perf.rlo?</p>
</blockquote>
<p>We already have all of this data in rustc so it's mostly a matter of recording it and then incorporating it into the perf.rlo site.</p>



<a name="245325792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325792">(Jul 08 2021 at 15:00)</a>:</h4>
<p>we don’t have time to go through the nominated issues</p>



<a name="245325804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325804" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325804">(Jul 08 2021 at 15:00)</a>:</h4>
<p>I’ll post them here for visibility</p>



<a name="245325820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325820">(Jul 08 2021 at 15:00)</a>:</h4>
<p>(and I’m feeling llike my “early nominatino section” is justified.)</p>



<a name="245325849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325849" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325849">(Jul 08 2021 at 15:01)</a>:</h4>
<p>For visibiilty: </p>
<h2>Nominated Issues</h2>
<p>T-rustdoc</p>
<ul>
<li>Generate links to definition in rustdoc source code pages <a href="https://github.com/rust-lang/rust/pull/84176">#84176</a><ul>
<li>Authored by <span class="user-mention" data-user-id="210316">@GuillaumeGomez</span></li>
<li>approved by T-rustdoc</li>
<li><a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-06-17.20.2354818/near/243029071">mentioned in a past meeting</a></li>
<li>needs a final look by T-compiler for merge (<span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> can't merge own PR)</li>
</ul>
</li>
</ul>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler">T-compiler</a></p>
<ul>
<li>"<code>match</code> an <code>std::cmp::Ordering</code> generates less optimized code in nightly" <a href="https://github.com/rust-lang/rust/issues/86511">rust#86511</a><ul>
<li>a comment mentions these issues <a href="https://github.com/rust-lang/rust/issues/86391">#86391</a> and <a href="https://github.com/rust-lang/rust/issues/86354">#86354</a></li>
<li>issue nominated for help in finding someone giving some context for an accurate priority to track the issue</li>
</ul>
</li>
<li>"Binary size is significant increased from <code>1.46.0</code> to <code>1.51.0</code>" <a href="https://github.com/rust-lang/rust/issues/86610">rust#86610</a><ul>
<li>perhaps related to one or more issues about the same theme (see mentioned issues, ex. <a href="https://github.com/rust-lang/rust/issues/86431">rust#86431</a> was mentioned)</li>
<li>issue nominated as FIY for T-compiler. Can this be tracked in perf?</li>
</ul>
</li>
</ul>
<p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler">RFC</a></p>
<ul>
<li>No nominated RFCs for <code>T-compiler</code> this time.</li>
</ul>



<a name="245325873"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325873" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325873">(Jul 08 2021 at 15:01)</a>:</h4>
<p>Thanks to everyone in <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> for attending!</p>



<a name="245325989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245325989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245325989">(Jul 08 2021 at 15:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245325127">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="224872">rylev</span> <span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> how plausible do you think that would be to add to perf.rlo?</p>
</blockquote>
<p>On a practical level I'm going to be trying to do some cleanup to perf.rlo to make adding new metrics easier (since this also impacts the work that <span class="user-mention" data-user-id="124287">@mw</span> and I have done on measuring incremental compilation fingerprint generation overhead)</p>



<a name="245326193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245326193" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245326193">(Jul 08 2021 at 15:03)</a>:</h4>
<p>This one <code>I-nominated</code> in particular</p>



<a name="245326203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245326203" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245326203">(Jul 08 2021 at 15:03)</a>:</h4>
<ul>
<li>Generate links to definition in rustdoc source code pages <a href="https://github.com/rust-lang/rust/pull/84176">#84176</a><ul>
<li>Authored by <span class="user-mention" data-user-id="210316">@GuillaumeGomez</span></li>
<li>approved by T-rustdoc</li>
<li><a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-06-17.20.2354818/near/243029071">mentioned in a past meeting</a></li>
<li>needs a final look by T-compiler for merge (<span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> can't merge own PR)</li>
</ul>
</li>
</ul>



<a name="245326339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245326339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245326339">(Jul 08 2021 at 15:03)</a>:</h4>
<p>is just in need of someone different from the PR author for a review and merge (it has been discussed extensively previously inside T-rustdoc and here too)</p>



<a name="245326429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245326429" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245326429">(Jul 08 2021 at 15:04)</a>:</h4>
<p>so It's up for grab to any volunteer :)</p>



<a name="245326511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245326511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245326511">(Jul 08 2021 at 15:04)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="245327559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245327559" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245327559">(Jul 08 2021 at 15:11)</a>:</h4>
<p>Draft for next week's agenda is available at:<br>
<a href="https://hackmd.io/PgfxdZIrTEOQ5Mw_ZEEesA">https://hackmd.io/PgfxdZIrTEOQ5Mw_ZEEesA</a></p>
<p>Scheduled checkins from:</p>
<ul>
<li><span class="user-group-mention" data-user-group-id="1172">@WG-async-foundations</span> by <span class="user-mention" data-user-id="116009">@nikomatsakis</span> and <span class="user-mention" data-user-id="116883">@tmandry</span> </li>
<li><span class="user-group-mention" data-user-group-id="692">@WG-traits</span> by <span class="user-mention" data-user-id="116009">@nikomatsakis</span> and <span class="user-mention" data-user-id="232957">@Jack Huey</span></li>
</ul>



<a name="245330120"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245330120" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245330120">(Jul 08 2021 at 15:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245318627">said</a>:</p>
<blockquote>
<h2>Early Nominations</h2>
<ul>
<li>"Allow reifying intrinsics to <code>fn</code> pointers." <a href="https://github.com/rust-lang/rust/pull/86699">rust#86699</a><ul>
<li>opened by <span class="user-mention silent" data-user-id="119009">eddyb</span>, asking for a review (<a href="https://github.com/rust-lang/rust/pull/86699#issuecomment-870745885">comment</a>)</li>
</ul>
</li>
</ul>
</blockquote>
<p><span class="user-mention" data-user-id="119009">@eddyb</span> if you're ok with it, I'd remove the <code>I-nominated</code> flag as I saw today a good discussion about this pr. In case, the flag can be re-added if you see a fit for next week's meeting</p>



<a name="245330213"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245330213" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245330213">(Jul 08 2021 at 15:29)</a>:</h4>
<p>(btw sorry for the confusing summary I've done about it)</p>



<a name="245330231"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245330231" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245330231">(Jul 08 2021 at 15:29)</a>:</h4>
<p>yeah that's fine</p>



<a name="245330280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245330280" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245330280">(Jul 08 2021 at 15:29)</a>:</h4>
<p>thanks again for getting it unstuck!</p>



<a name="245354983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245354983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245354983">(Jul 08 2021 at 18:48)</a>:</h4>
<p><span class="user-mention" data-user-id="250987">@apiraino</span> I think you intended to mention tmandry in the checking from wg-async-foundations in the upcoming agenda <a href="https://hackmd.io/PgfxdZIrTEOQ5Mw_ZEEesA">https://hackmd.io/PgfxdZIrTEOQ5Mw_ZEEesA</a>, instead of me.</p>



<a name="245355071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245355071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245355071">(Jul 08 2021 at 18:49)</a>:</h4>
<p>ugh you're right. as you can see I still sometimes confuse and dont correctly match github/zulip nicknames</p>



<a name="245355080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245355080" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245355080">(Jul 08 2021 at 18:49)</a>:</h4>
<p>apologies, thanks for noticing</p>



<a name="245363469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245363469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245363469">(Jul 08 2021 at 19:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-07-08.20.2354818/near/245322952">said</a>:</p>
<blockquote>
<p>for the most part I think <span class="user-group-mention silent" data-user-group-id="4493">T-libs</span> owns this? Or maybe <span class="user-group-mention silent" data-user-group-id="2645">T-libs-api</span> , if there are changes implied to the public APIs? (Which is not clear to me, <span class="user-mention silent" data-user-id="138448">cuviper</span> commented that PR <a href="https://github.com/rust-lang/rust/issues/86765">#86765</a> loses in-place iteration, that’s an API change, right?)</p>
</blockquote>
<p>Well, it loses the implementation of two <em>unstable</em> traits: <code>SourceIter</code> because we can't always return <code>as_inner</code>, and <code>InPlaceIterable</code> because it doesn't make sense without the former. (I'm not even sure why they are separate traits.)</p>



<a name="245363504"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245363504" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245363504">(Jul 08 2021 at 19:57)</a>:</h4>
<p>In terms of stable API, the only change is the implicit behavioral change, whether some <code>FromIterator</code> implementations are able to reuse storage.</p>



<a name="245363653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-07-08%20%2354818/near/245363653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-07-08.20.2354818.html#245363653">(Jul 08 2021 at 19:58)</a>:</h4>
<p>IMO this is not important through <code>Fuse</code>, but one could argue. And I'm not sure if that should be <code>T-libs</code> or <code>T-libs-api</code>.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>