<html>
<head><meta charset="utf-8"><title>[planning meeting] 2021-09-24 · t-compiler/meetings · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/index.html">t-compiler/meetings</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html">[planning meeting] 2021-09-24</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="254708640"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254708640" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254708640">(Sep 24 2021 at 14:01)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> ; the planning meeting for the “October cycle” is starting now</p>



<a name="254708689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254708689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254708689">(Sep 24 2021 at 14:01)</a>:</h4>
<p>add a <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> above to show you’re here</p>



<a name="254708947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254708947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254708947">(Sep 24 2021 at 14:03)</a>:</h4>
<p>So lets see, do we have any meeting proposals</p>



<a name="254709057"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709057" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709057">(Sep 24 2021 at 14:03)</a>:</h4>
<p><a href="https://github.com/rust-lang/compiler-team/issues?q=is%3Aopen+is%3Aissue+label%3Ameeting-proposal+">all proposals</a></p>



<a name="254709151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709151">(Sep 24 2021 at 14:04)</a>:</h4>
<p>only one of these is lacking a meeting-scheduled label</p>



<a name="254709207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709207" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709207">(Sep 24 2021 at 14:04)</a>:</h4>
<p>We already had that meeting lol.</p>



<a name="254709211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709211">(Sep 24 2021 at 14:04)</a>:</h4>
<p>I'm going to close it</p>



<a name="254709232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709232">(Sep 24 2021 at 14:04)</a>:</h4>
<p>yeah I was thinking “we must have had this"</p>



<a name="254709250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709250" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709250">(Sep 24 2021 at 14:05)</a>:</h4>
<p>Er, I guess just add the label?</p>



<a name="254709286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709286">(Sep 24 2021 at 14:05)</a>:</h4>
<p>We've had most of these meetings</p>



<a name="254709287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709287" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709287">(Sep 24 2021 at 14:05)</a>:</h4>
<p>it might be good to link to the archive of the meeting discussion</p>



<a name="254709299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709299" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709299">(Sep 24 2021 at 14:05)</a>:</h4>
<p>Should we be closing them?</p>



<a name="254709343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709343">(Sep 24 2021 at 14:05)</a>:</h4>
<p>So I think in theory we are supposed to draft up a summary of the meeting outcome</p>



<a name="254709351"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709351" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709351">(Sep 24 2021 at 14:05)</a>:</h4>
<p>and posting it somewhere</p>



<a name="254709362"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709362" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709362">(Sep 24 2021 at 14:05)</a>:</h4>
<p>before we close the issue</p>



<a name="254709394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709394">(Sep 24 2021 at 14:05)</a>:</h4>
<p>I am not sure that is a worthwhile to spend time for <em>all</em> of these meetings at this point</p>



<a name="254709406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709406">(Sep 24 2021 at 14:05)</a>:</h4>
<p>but a review is probably warranted</p>



<a name="254709568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709568">(Sep 24 2021 at 14:06)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> maybe you and I can discuss what to do about that in private? The only thing I think warrants attention from others is whether anyone wants to volunteer to draft any summaries</p>



<a name="254709611"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709611" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709611">(Sep 24 2021 at 14:06)</a>:</h4>
<p>Sure, sounds good.</p>



<a name="254709638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709638" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709638">(Sep 24 2021 at 14:07)</a>:</h4>
<p>to be clear, I’m not <em>expecting</em> any volunteers on that front</p>



<a name="254709680"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709680" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709680">(Sep 24 2021 at 14:07)</a>:</h4>
<p>but if someone wants to surprise me, go ahead and mention it here, or privmsg wesley and/or myself</p>



<a name="254709721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709721">(Sep 24 2021 at 14:07)</a>:</h4>
<p>so okay, I’m going to assume we have no meeting proposals</p>



<a name="254709775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709775" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709775">(Sep 24 2021 at 14:07)</a>:</h4>
<p>Should we spend this time going over the MCP’s?</p>



<a name="254709841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254709841" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254709841">(Sep 24 2021 at 14:08)</a>:</h4>
<p>I think that was a useful way to spend time the last time we had a planning meeting with no proposals.</p>



<a name="254710026"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254710026" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254710026">(Sep 24 2021 at 14:09)</a>:</h4>
<p>So lets see</p>



<a name="254710124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254710124" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254710124">(Sep 24 2021 at 14:10)</a>:</h4>
<p>We have <a href="https://github.com/rust-lang/compiler-team/issues?q=is%3Aopen+is%3Aissue+label%3Amajor-change+-label%3Amajor-change-accepted">8 open unaccepeted MCPs</a></p>



<a name="254710263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254710263" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254710263">(Sep 24 2021 at 14:10)</a>:</h4>
<p>uh lets <a href="https://github.com/rust-lang/compiler-team/issues?q=is%3Aopen+is%3Aissue+label%3Amajor-change+-label%3Amajor-change-accepted+sort%3Acreated-asc">sort by oldest-first</a></p>



<a name="254710317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254710317" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254710317">(Sep 24 2021 at 14:10)</a>:</h4>
<p>I think we started with the oldest last time so maybe we should start with the newest and talk about a different subset?</p>



<a name="254710335"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254710335" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254710335">(Sep 24 2021 at 14:10)</a>:</h4>
<p>oh I suppose that could make sense too</p>



<a name="254710347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254710347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254710347">(Sep 24 2021 at 14:11)</a>:</h4>
<p>okay</p>



<a name="254710388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254710388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254710388">(Sep 24 2021 at 14:11)</a>:</h4>
<p><a href="https://github.com/rust-lang/compiler-team/issues?q=is%3Aopen+is%3Aissue+label%3Amajor-change+-label%3Amajor-change-accepted+sort%3Acreated-desc">newest-first</a> which is probably same as first link I posted.</p>



<a name="254710449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254710449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254710449">(Sep 24 2021 at 14:11)</a>:</h4>
<p>First up " Tier 3 target proposal: x86_64-unknown-none (freestanding/bare-metal x86-64)” <a href="https://github.com/rust-lang/compiler-team/issues/462">compiler-team#462</a></p>



<a name="254710555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254710555" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254710555">(Sep 24 2021 at 14:12)</a>:</h4>
<p>zulip stream: <a class="stream-topic" data-stream-id="233931" href="/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-none.20.28freestanding.2E.2E.2E">#t-compiler/major changes &gt; Tier 3 target proposal: x86_64-unknown-none (freestanding...</a></p>



<a name="254710762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254710762" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254710762">(Sep 24 2021 at 14:13)</a>:</h4>
<p>nuts I guessed the wrong one to point to</p>



<a name="254710838"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254710838" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254710838">(Sep 24 2021 at 14:14)</a>:</h4>
<p>zulip stream: <a class="stream-topic" data-stream-id="233931" href="/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462">#t-compiler/major changes &gt; Tier 3 target proposal: x86_64-unknown-no… compiler-team#462</a></p>



<a name="254710909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254710909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254710909">(Sep 24 2021 at 14:14)</a>:</h4>
<p>I agree with the feedback in the thread: I would prefer if the target name included "elf" in it.</p>



<a name="254710933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254710933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254710933">(Sep 24 2021 at 14:14)</a>:</h4>
<p>(triage bot should probably link to the <del>original</del> preceding stream when it renames in response to github issue renames, right?)</p>



<a name="254711029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711029" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711029">(Sep 24 2021 at 14:15)</a>:</h4>
<p>Would be nice if it could leave a comment with the link in the original thread as well.</p>



<a name="254711090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711090" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711090">(Sep 24 2021 at 14:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202021-09-24/near/254710909">said</a>:</p>
<blockquote>
<p>I agree with the feedback in the thread: I would prefer if the target name included "elf" in it.</p>
</blockquote>
<p>What do you think of this comment w.r.t. that: "-elf may imply some minimal amount of<br>
C library support” ?</p>



<a name="254711122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711122" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711122">(Sep 24 2021 at 14:15)</a>:</h4>
<p>(I personally don’t know why it would)</p>



<a name="254711222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711222" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711222">(Sep 24 2021 at 14:16)</a>:</h4>
<p>I don't think I'm enough of an expert on low-level system details to know either way.</p>



<a name="254711373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711373" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711373">(Sep 24 2021 at 14:17)</a>:</h4>
<p>There are other containers for binaries on x86_64 though (COFF right?) so I don't see why <code>x86_64-unknown-none</code> would imply elf.</p>



<a name="254711429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711429" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711429">(Sep 24 2021 at 14:17)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="239881">@Josh Triplett</span> had argued that ELF is the default, but not strictly implied...</p>



<a name="254711486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711486">(Sep 24 2021 at 14:17)</a>:</h4>
<p>I see</p>



<a name="254711623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711623" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711623">(Sep 24 2021 at 14:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Tier.203.20target.20proposal.3A.20x86_64-unknown-no.E2.80.A6.20compiler-team.23462/near/254007573">said</a>:</p>
<blockquote>
<p>So in a way, ELF is just the <em>default</em> object format, not the <em>only</em> object format.</p>
</blockquote>



<a name="254711631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711631" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711631">(Sep 24 2021 at 14:18)</a>:</h4>
<p>Perhaps we need to have some kind of guidelines around naming targets?</p>



<a name="254711662"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711662" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711662">(Sep 24 2021 at 14:18)</a>:</h4>
<p>Some related questions came up in the Switch target PR.</p>



<a name="254711723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711723" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711723">(Sep 24 2021 at 14:19)</a>:</h4>
<p>They're currently going for <code>aarch64-nintendo-switch-freestanding</code></p>



<a name="254711744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711744">(Sep 24 2021 at 14:19)</a>:</h4>
<p>hmm</p>



<a name="254711752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711752" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711752">(Sep 24 2021 at 14:19)</a>:</h4>
<p>but <code>freestanding</code> in that context means "only talks to the kernel, no libc"</p>



<a name="254711829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711829">(Sep 24 2021 at 14:20)</a>:</h4>
<p>Where as in Josh's proposal</p>
<blockquote>
<p>This compiler MCP proposes a new target, x86_64-unknown-none, for standalone or "freestanding" x86-64 binaries with no operating system, using ELF as the object format. This target is intended for firmware, kernels, modules, and other software running without an operating system.</p>
</blockquote>



<a name="254711893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711893" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711893">(Sep 24 2021 at 14:20)</a>:</h4>
<p>Which sounds like an even more bare metal environment.</p>



<a name="254711953"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254711953" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254711953">(Sep 24 2021 at 14:20)</a>:</h4>
<p>do any other targets currently have <code>freestanding</code> in their name?</p>



<a name="254712032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712032">(Sep 24 2021 at 14:21)</a>:</h4>
<p>No, that I can see</p>



<a name="254712057"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712057" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712057">(Sep 24 2021 at 14:21)</a>:</h4>
<p>anyway it seems like both of these conversations are both very fresh and ongoing</p>



<a name="254712062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712062" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712062">(Sep 24 2021 at 14:21)</a>:</h4>
<p>(I suggested that name so perhaps I led them astray)</p>



<a name="254712084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712084" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712084">(Sep 24 2021 at 14:21)</a>:</h4>
<p>so I dont think we need to put effort into pushing things along</p>



<a name="254712123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712123">(Sep 24 2021 at 14:22)</a>:</h4>
<p>the only thing I think we need to ask ourselves here is: Is there some way that we could help drive the conversation towards consensus</p>



<a name="254712213"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712213" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712213">(Sep 24 2021 at 14:22)</a>:</h4>
<p>it does seem like it <em>might</em> be a good idea for the stakeholders of both of these proposals to be aware of one another?</p>



<a name="254712253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712253" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712253">(Sep 24 2021 at 14:22)</a>:</h4>
<p>Not that they would necessarily care about each other’s targets</p>



<a name="254712287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712287" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712287">(Sep 24 2021 at 14:22)</a>:</h4>
<p>but more that it might help develop consistent naming choices for these two similar cases</p>



<a name="254712385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712385">(Sep 24 2021 at 14:23)</a>:</h4>
<p>Couldn't hurt to leave a comment pointing to the other target on each proposal but I do think it's the compiler team's interest to have reasonable target names so perhaps we need to put some work in there.</p>



<a name="254712418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712418">(Sep 24 2021 at 14:23)</a>:</h4>
<p>Okay</p>



<a name="254712484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712484" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712484">(Sep 24 2021 at 14:24)</a>:</h4>
<p>Even something simple like a glossary of conventions or terms and when to use them in the target name would be helpful.</p>



<a name="254712547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712547" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712547">(Sep 24 2021 at 14:24)</a>:</h4>
<p>Proposed action item: Review current set of target names, as well as at least these two proposed targets (and potentially others)</p>



<a name="254712584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712584">(Sep 24 2021 at 14:24)</a>:</h4>
<p>and from that review, try to determine guidelines for naming?</p>



<a name="254712629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712629">(Sep 24 2021 at 14:25)</a>:</h4>
<p>Who are the right stakeholders here? I think I’d want <span class="user-mention" data-user-id="239881">@Josh Triplett</span> in the conversation at the very least.</p>



<a name="254712743"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712743" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712743">(Sep 24 2021 at 14:26)</a>:</h4>
<p>If there isn’t already a zulip thread on this topic in <a class="stream" data-stream-id="131828" href="/#narrow/stream/131828-t-compiler">#t-compiler</a>, the right thing might be to just start that thread</p>



<a name="254712813"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712813" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712813">(Sep 24 2021 at 14:26)</a>:</h4>
<p>I’ll do that right after this meeting.</p>



<a name="254712857"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712857" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712857">(Sep 24 2021 at 14:26)</a>:</h4>
<p>Having someone involved who's had experience working with target names in other compilers/contexts would definitely be useful. Josh seems like a great person to help with that (if he's interested)</p>



<a name="254712885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712885">(Sep 24 2021 at 14:26)</a>:</h4>
<p>Okay great</p>



<a name="254712892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712892">(Sep 24 2021 at 14:26)</a>:</h4>
<p>lets move along then.</p>



<a name="254712929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712929">(Sep 24 2021 at 14:27)</a>:</h4>
<p>prefer-dynamic=subset <a href="https://github.com/rust-lang/compiler-team/issues/455">compiler-team#455</a></p>



<a name="254712957"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712957" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712957">(Sep 24 2021 at 14:27)</a>:</h4>
<p>Zulip thread: <a class="stream-topic" data-stream-id="233931" href="/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/prefer-dynamic.3Dsubset.20compiler-team.23455">#t-compiler/major changes &gt; prefer-dynamic=subset compiler-team#455</a></p>



<a name="254712986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254712986" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254712986">(Sep 24 2021 at 14:27)</a>:</h4>
<p>so this has largely stalled</p>



<a name="254713014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254713014" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254713014">(Sep 24 2021 at 14:27)</a>:</h4>
<p><span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> voiced some concerns</p>



<a name="254713019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254713019" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254713019">(Sep 24 2021 at 14:27)</a>:</h4>
<p>and did some investigation</p>



<a name="254713081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254713081" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254713081">(Sep 24 2021 at 14:28)</a>:</h4>
<p>which was noted on the above thread</p>



<a name="254713203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254713203" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254713203">(Sep 24 2021 at 14:28)</a>:</h4>
<p>in particular, I <em>think</em> <span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> identified some problems in how <em>indirect</em> dependencies are (re)looked up, where it can find a different set of rmeta/rlib/dylib from what it found originally</p>



<a name="254713328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254713328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254713328">(Sep 24 2021 at 14:29)</a>:</h4>
<p>Basically, I want to look into what would be involved in fixing that</p>



<a name="254713503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254713503" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254713503">(Sep 24 2021 at 14:30)</a>:</h4>
<p>I don’t think it addresses all the use cases I was trying to cover, but I think fixing that (if we <em>can</em> do so without breaking anyone) might yield a world where a different, simpler proposal (probably focused solely on <code>libstd</code> resolution) might fly better.</p>



<a name="254713584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254713584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254713584">(Sep 24 2021 at 14:31)</a>:</h4>
<p>So I think the action item there is for someone, probably me, to follow up on trying to fix that.</p>



<a name="254713869"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254713869" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254713869">(Sep 24 2021 at 14:33)</a>:</h4>
<p>On the PR itself, I think <span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> ’s <a href="https://github.com/rust-lang/rust/pull/88101#issuecomment-911733772">comment</a> is worth reading. Notably: </p>
<blockquote>
<p>The whole idea is a pretty big hack, that is not much better than the workarounds that exist currently.<br>
It breaks through all the careful versioning and hashes used by cargo and rustc to uniquely identify crates.<br>
I guess it's suitable if your build is on fire and you need to extinguish it right now, but it's not something I'd personally want to stabilize.</p>
</blockquote>



<a name="254714083"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254714083" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254714083">(Sep 24 2021 at 14:34)</a>:</h4>
<p>and also this:</p>
<blockquote>
<p>[…] However that [alternative workaround put foward by petrochenkov] wouldn't work for crates not controlled by cargo and found purely by name (with std being the main example), unless we add, for example, a new rustc --print option for retrieving a crate file path by name.</p>
</blockquote>



<a name="254714119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254714119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254714119">(Sep 24 2021 at 14:34)</a>:</h4>
<p>It sounds entirely reasonable to me for us to add a new <code>rustc —print</code> option that provides that.</p>



<a name="254714266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254714266" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254714266">(Sep 24 2021 at 14:35)</a>:</h4>
<p>(Also, I am now realizing I should separate out the commits that improve the diagnostics and land them separately. They should not be controversial.)</p>



<a name="254714342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254714342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254714342">(Sep 24 2021 at 14:36)</a>:</h4>
<p>less magic in rustc would be dope in general.</p>



<a name="254714386"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254714386" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254714386">(Sep 24 2021 at 14:36)</a>:</h4>
<p>I guess. I thought the whole point of <code>dylib</code> was 100% magic.</p>



<a name="254714403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254714403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254714403">(Sep 24 2021 at 14:36)</a>:</h4>
<p>(I’m being pretty glib.)</p>



<a name="254714503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254714503" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254714503">(Sep 24 2021 at 14:37)</a>:</h4>
<p>ANyway: Should I even leave this MCP open?</p>



<a name="254714584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254714584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254714584">(Sep 24 2021 at 14:37)</a>:</h4>
<p>from <span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> ’s comment, it sounds like the libstd case might be better handled in another, less magical but more baroque way?</p>



<a name="254714635"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254714635" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254714635">(Sep 24 2021 at 14:37)</a>:</h4>
<p>I think I’ll leave it open until I have a counter-proposal ready to put up</p>



<a name="254714819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254714819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254714819">(Sep 24 2021 at 14:38)</a>:</h4>
<p>next</p>



<a name="254714874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254714874" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254714874">(Sep 24 2021 at 14:39)</a>:</h4>
<p>Add TyKind::Const and remove GenericArgKind::Const <a href="https://github.com/rust-lang/compiler-team/issues/453">compiler-team#453</a></p>



<a name="254714946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254714946" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254714946">(Sep 24 2021 at 14:39)</a>:</h4>
<p>zulip stream: <a class="stream-topic" data-stream-id="233931" href="/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20.02klzzwxh.3A0000.03.20and.20remove.20.60GenericAr.E2.80.A6.20compiler-team.23453">#t-compiler/major changes &gt; Add <code>TyKind::Const</code> and remove `GenericAr… compiler-team#453</a></p>



<a name="254714977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254714977" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254714977">(Sep 24 2021 at 14:39)</a>:</h4>
<p>uh or maybe not</p>



<a name="254715137"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254715137" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254715137">(Sep 24 2021 at 14:40)</a>:</h4>
<p><a class="stream-topic" data-stream-id="233931" href="/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20.02klzzwxh.3A0000.03.20and.20remove.20.60GenericAr.E2.80.A6.20compiler-team.23453">#t-compiler/major changes &gt; Add <code>TyKind::Const</code> and remove `GenericAr… compiler-team#453</a></p>



<a name="254715154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254715154" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254715154">(Sep 24 2021 at 14:41)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span>  wrote on the thread:</p>
<blockquote>
<p>New plan v2: How about we avoid all this unpleasentness and create a TyOrConst (bikesheddable) type that can be Ty, Const or any of the shared inference/placeholder/GenericParam variants and then we remove the shared variants from the structures themselves. This will likely cause a lot of fallout, as anything that actually wants to handle these will need to start using TyOrConst, but it may be worth it, idk?</p>
</blockquote>



<a name="254715218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254715218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254715218">(Sep 24 2021 at 14:41)</a>:</h4>
<p>yea.... I'm not too sure how to proceed here, we can close and I can move it to an issue/zulip thread</p>



<a name="254715251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254715251" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254715251">(Sep 24 2021 at 14:41)</a>:</h4>
<p>we <em>do</em> have some duplication in rustc between types and consts that I would like to avoid, but I'm not sure about the best way</p>



<a name="254715316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254715316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254715316">(Sep 24 2021 at 14:42)</a>:</h4>
<p>zulip stream <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20.60TyKind.3A.3AConst.60.20and.20remove.20.60GenericAr.E2.80.A6.20compiler-team.23453/near/248479604">link</a> (I don’t know why the autolinked one suggested by the Zulip app isn’t working.)</p>



<a name="254715476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254715476" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254715476">(Sep 24 2021 at 14:43)</a>:</h4>
<p>Okay so you will close it <span class="user-mention" data-user-id="124288">@oli</span> ? I don’t want to try to take time to reveiw that whole thread now if i can avoid it. :)</p>



<a name="254715486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254715486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254715486">(Sep 24 2021 at 14:43)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="254715784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254715784" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254715784">(Sep 24 2021 at 14:45)</a>:</h4>
<p>next</p>



<a name="254715814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254715814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254715814">(Sep 24 2021 at 14:45)</a>:</h4>
<p>Non exhaustive reachable patterns lint <a href="https://github.com/rust-lang/compiler-team/issues/445">compiler-team#445</a></p>



<a name="254715896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254715896" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254715896">(Sep 24 2021 at 14:46)</a>:</h4>
<p>zulip stream: <a class="stream-topic" data-stream-id="233931" href="/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Non.20exhaustive.20reachable.20patterns.20lint.20compiler-team.23445">#t-compiler/major changes &gt; Non exhaustive reachable patterns lint compiler-team#445</a></p>



<a name="254716007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716007">(Sep 24 2021 at 14:47)</a>:</h4>
<p>worth noting: the lang team did approve the associated lang team MCP: <a href="https://github.com/rust-lang/lang-team/issues/112">https://github.com/rust-lang/lang-team/issues/112</a></p>



<a name="254716070"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716070" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716070">(Sep 24 2021 at 14:47)</a>:</h4>
<p>I think the PR has already merged?</p>



<a name="254716091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716091" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716091">(Sep 24 2021 at 14:47)</a>:</h4>
<p>hah hah, really?</p>



<a name="254716111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716111" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716111">(Sep 24 2021 at 14:47)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/86809">https://github.com/rust-lang/rust/pull/86809</a></p>



<a name="254716238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716238">(Sep 24 2021 at 14:48)</a>:</h4>
<p>Okay, yeah, I even looked at three days ago as part of performance triage</p>



<a name="254716247"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716247" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716247">(Sep 24 2021 at 14:48)</a>:</h4>
<p>hmm</p>



<a name="254716261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716261" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716261">(Sep 24 2021 at 14:48)</a>:</h4>
<p>so was there a process error here?</p>



<a name="254716299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716299" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716299">(Sep 24 2021 at 14:48)</a>:</h4>
<p>Do lints approved by lang team still need to go through compiler-team MCP ?</p>



<a name="254716342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716342">(Sep 24 2021 at 14:49)</a>:</h4>
<p>Personally, I don’t think it needs to,</p>



<a name="254716362"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716362" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716362">(Sep 24 2021 at 14:49)</a>:</h4>
<p>It's unclear to me.</p>



<a name="254716398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716398">(Sep 24 2021 at 14:49)</a>:</h4>
<p>We've had a number of lints uplifted from Clippy go through a compiler team MCP and a lang team MCP?/FCP as well.</p>



<a name="254716440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716440">(Sep 24 2021 at 14:49)</a>:</h4>
<p>I guess there are two questions to my mind</p>



<a name="254716518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716518" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716518">(Sep 24 2021 at 14:50)</a>:</h4>
<ol>
<li>Does the compiler team need a higher-level notice that something like this is going through?</li>
</ol>



<a name="254716555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716555" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716555">(Sep 24 2021 at 14:50)</a>:</h4>
<p>i.e. it seems bad that the MCP just went in the “proposed” state</p>



<a name="254716567"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716567" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716567">(Sep 24 2021 at 14:50)</a>:</h4>
<p>I think as long as a compiler team member reviewed or approved the PR, we don't need full team approval since another team already approved of the lint in general. The only thing the compiler team needs to sign off on is whether we want to keep maintaining it, and that doesn't need full team approval unless the reviewer considers the complexity relevant</p>



<a name="254716597"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716597" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716597">(Sep 24 2021 at 14:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202021-09-24/near/254716261">said</a>:</p>
<blockquote>
<p>so was there a process error here?</p>
</blockquote>
<p>Yes, I think so but it's understandable given the MCP request was buried in ~100 comments that GH collapsed.</p>



<a name="254716618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716618" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716618">(Sep 24 2021 at 14:51)</a>:</h4>
<p>so that someone who isn’t following the PR’s carefully, but is watching the MCP list, would get wrong impression about plan and status</p>



<a name="254716659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716659">(Sep 24 2021 at 14:51)</a>:</h4>
<p>worth noting that there was extensive impl-related discussion on the t-lang MCP stream, too</p>



<a name="254716677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716677">(Sep 24 2021 at 14:51)</a>:</h4>
<p>Maybe we need MCAs? XD (major change announcement)</p>



<a name="254716711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716711">(Sep 24 2021 at 14:51)</a>:</h4>
<p>I was interpreting the MCP’s and FCP’s as being that (a kind of “major change announcement”)</p>



<a name="254716855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716855">(Sep 24 2021 at 14:52)</a>:</h4>
<p>XD well, MCP requires approval, while here, it was enough that everyone knows about it. It should have probably been insta-seconded, but I also get why that didn't happen</p>



<a name="254716903"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716903" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716903">(Sep 24 2021 at 14:52)</a>:</h4>
<p>anyway I’m willing to say I failed here. I’m in the lang team, and I run the compiler-team meeting. I should have noticed the discrepancy</p>



<a name="254716988"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716988" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716988">(Sep 24 2021 at 14:53)</a>:</h4>
<p>(I.e. the reason to have overlap between teams is in part to notice things like this.)</p>



<a name="254716995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254716995" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254716995">(Sep 24 2021 at 14:53)</a>:</h4>
<p>I don't think we need to assign any blame here <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="254717003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717003" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717003">(Sep 24 2021 at 14:53)</a>:</h4>
<p>Anyway, fine it happened.</p>



<a name="254717021"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717021" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717021">(Sep 24 2021 at 14:53)</a>:</h4>
<p>It seems like everyone is ok with the lint being landed.</p>



<a name="254717057"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717057" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717057">(Sep 24 2021 at 14:53)</a>:</h4>
<p>I’m closing <a href="https://github.com/rust-lang/compiler-team/issues/445">compiler-team#445</a> with a link to <a href="https://github.com/rust-lang/rust/issues/86809">rust#86809</a></p>



<a name="254717140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717140" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717140">(Sep 24 2021 at 14:54)</a>:</h4>
<p>next:  Accept pc in place of unknown and unknown in place of pc for x86_64 and i?86 targets <a href="https://github.com/rust-lang/compiler-team/issues/441">compiler-team#441</a></p>



<a name="254717146"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717146" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717146">(Sep 24 2021 at 14:54)</a>:</h4>
<p>I think it would be useful for us (compiler &amp; lang) to figure out what the correct procedure should be for adding new lints.</p>



<a name="254717181"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717181" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717181">(Sep 24 2021 at 14:54)</a>:</h4>
<p>Indeed</p>



<a name="254717192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717192">(Sep 24 2021 at 14:54)</a>:</h4>
<p>This is a fairly common occurrence.</p>



<a name="254717204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717204" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717204">(Sep 24 2021 at 14:54)</a>:</h4>
<p>I think there’s a desire for a more general set of guidelines</p>



<a name="254717230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717230">(Sep 24 2021 at 14:54)</a>:</h4>
<p>about what kinds of lints even belong in the compiler vs clippy</p>



<a name="254717244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717244">(Sep 24 2021 at 14:55)</a>:</h4>
<p>at least, it came up in this week’s T-lang meeting</p>



<a name="254717300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717300" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717300">(Sep 24 2021 at 14:55)</a>:</h4>
<p>maybe first step there is to identify who the stakeholders are in the first place.</p>



<a name="254717426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717426" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717426">(Sep 24 2021 at 14:56)</a>:</h4>
<p>Lints enabled by default have <em>some</em> cost to them so there's definitely a tradeoff between catching the most common/worst issues and slowing down every compilation.</p>



<a name="254717486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717486">(Sep 24 2021 at 14:56)</a>:</h4>
<p>I think the idea I liked from T-lang meeting was that if we do want to add more pure-style lints — things that <em>don’t</em> tend to detect bugs (these are lints analogous to “unused parens”) — then I’d want them under a common group and thus be easier to disable <em>en masse</em></p>



<a name="254717509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717509">(Sep 24 2021 at 14:56)</a>:</h4>
<p>but that’s if we even want them at all</p>



<a name="254717647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717647" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717647">(Sep 24 2021 at 14:57)</a>:</h4>
<p>Unused parens almost feels like it shouldn't even be a lint, just in rustfmt.</p>



<a name="254717675"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717675" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717675">(Sep 24 2021 at 14:58)</a>:</h4>
<p>But that's getting off-topic.</p>



<a name="254717772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717772" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717772">(Sep 24 2021 at 14:58)</a>:</h4>
<p>yes</p>



<a name="254717785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717785" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717785">(Sep 24 2021 at 14:58)</a>:</h4>
<p>2 mins left. Should we continue discussing or call the meeting there?</p>



<a name="254717853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717853">(Sep 24 2021 at 14:59)</a>:</h4>
<p>um lets just at least do a temperature check on <a href="https://github.com/rust-lang/compiler-team/issues/441">compiler-team#441</a></p>



<a name="254717892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717892">(Sep 24 2021 at 14:59)</a>:</h4>
<p>zulip stream: <a class="stream-topic" data-stream-id="233931" href="/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Accept.20.02klzzwxh.3A0000.03.20in.20place.20of.20.02klzzwxh.3A0001.03.20and.20.60un.E2.80.A6.20compiler-team.23441">#t-compiler/major changes &gt; Accept <code>pc</code> in place of <code>unknown</code> and `un… compiler-team#441</a></p>



<a name="254717912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717912" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717912">(Sep 24 2021 at 14:59)</a>:</h4>
<p>dammit</p>



<a name="254717955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254717955" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254717955">(Sep 24 2021 at 14:59)</a>:</h4>
<p>(I wonder if backquotes in the titles are breaking the zulip-suggested auto-linkers there?)</p>



<a name="254718087"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718087" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718087">(Sep 24 2021 at 15:00)</a>:</h4>
<p>zulip stream <a href="#narrow/stream/233931-xxx/topic/Accept.20.60pc.60.20in.20place.20of.20.60unknown.60.20and.20.60un.E2.80.A6.20compiler-team.23441">link</a></p>



<a name="254718218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718218">(Sep 24 2021 at 15:01)</a>:</h4>
<p>Zulip stream hasn’t had discussion since July</p>



<a name="254718254"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718254" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718254">(Sep 24 2021 at 15:01)</a>:</h4>
<p>Do we think this is going to happen?</p>



<a name="254718388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718388">(Sep 24 2021 at 15:02)</a>:</h4>
<p>I feel like if we go down this path, we're just going to end up having to support this for every <code>{unknown,pc}</code> target.</p>



<a name="254718444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718444">(Sep 24 2021 at 15:02)</a>:</h4>
<p>Is that a bad thing?</p>



<a name="254718493"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718493" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718493">(Sep 24 2021 at 15:02)</a>:</h4>
<p>And it doesn't solve the problem of "my distro calls the target i586 but rust calls it i686" or whatever.</p>



<a name="254718520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718520">(Sep 24 2021 at 15:02)</a>:</h4>
<p>I suppose not.</p>



<a name="254718528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718528">(Sep 24 2021 at 15:02)</a>:</h4>
<p>That’s a better counter</p>



<a name="254718551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718551" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718551">(Sep 24 2021 at 15:03)</a>:</h4>
<p>I.e. the i586 vs i686 mismatch</p>



<a name="254718649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718649" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718649">(Sep 24 2021 at 15:03)</a>:</h4>
<p>I.e. {unknown, pc} may be doable on its own, but it might set a precedent for unifying other names that really shouldn’t be unified</p>



<a name="254718718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718718" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718718">(Sep 24 2021 at 15:04)</a>:</h4>
<p>Okay we’re over time</p>



<a name="254718791"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718791" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718791">(Sep 24 2021 at 15:04)</a>:</h4>
<p>I'd almost prefer a flag that says "treat this target string x as if it was y"</p>



<a name="254718810"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718810" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718810">(Sep 24 2021 at 15:04)</a>:</h4>
<p>I’ll drop a note in the Zulip stream, asking the participants where they think the conversation is going</p>



<a name="254718815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718815" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718815">(Sep 24 2021 at 15:04)</a>:</h4>
<p>I am wary of landing this, given how many places we have target triples (e.g., Cargo, rustup, rustc all need to know about this, right?)</p>



<a name="254718839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254718839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254718839">(Sep 24 2021 at 15:04)</a>:</h4>
<p>but I don't care that much.</p>



<a name="254719151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254719151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254719151">(Sep 24 2021 at 15:06)</a>:</h4>
<p>Thanks to everyone in <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> for attending!</p>



<a name="254719245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254719245" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254719245">(Sep 24 2021 at 15:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202021-09-24/near/254718815">said</a>:</p>
<blockquote>
<p>I am wary of landing this, given how many places we have target triples (e.g., Cargo, rustup, rustc all need to know about this, right?)</p>
</blockquote>
<p>Maybe we “just” need a third party tool: <code>cargo guess-actual-target</code></p>



<a name="254719333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254719333" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254719333">(Sep 24 2021 at 15:07)</a>:</h4>
<p>where you give that what you think the target string you want is, and it finds the closest match from those actually available, based on internal normalization/equivalence rules, and hands that back.</p>



<a name="254721020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254721020" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254721020">(Sep 24 2021 at 15:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202021-09-24/near/254719333">said</a>:</p>
<blockquote>
<p>where you give that what you think the target string you want is, and it finds the closest match from those actually available, based on internal normalization/equivalence rules, and hands that back.</p>
</blockquote>
<p>my understanding from reading <span class="user-mention" data-user-id="257758">@Connor Horman</span>'s comments is that there's an autotools program that already does this</p>



<a name="254721110"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254721110" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254721110">(Sep 24 2021 at 15:19)</a>:</h4>
<p>I don't recall why they wanted to change rustc's target parsing; I think it was something about making the program's job easier? which seems unconvincing to me, but I also haven't thought about it much</p>



<a name="254734184"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254734184" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254734184">(Sep 24 2021 at 16:41)</a>:</h4>
<p>There is an autotools thing that guesses the target, yes. It is considered to be a mistake.</p>



<a name="254752854"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254752854" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254752854">(Sep 24 2021 at 18:45)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> Responding to earlier comments: I think there is indeed a distinction between a standalone/freestanding/bare-metal target that doesn't assume any OS at all, and a "libraryless" target like that Switch target.</p>



<a name="254752903"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254752903" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254752903">(Sep 24 2021 at 18:45)</a>:</h4>
<p>I'm not sure what the right name for the latter kind of target is, but I don't think it's <code>-none</code>.</p>



<a name="254752979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254752979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254752979">(Sep 24 2021 at 18:46)</a>:</h4>
<p><code>-none</code> implies no OS at all. The Switch target still expects the kernel, just not userspace libraries.</p>



<a name="254754885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254754885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254754885">(Sep 24 2021 at 18:59)</a>:</h4>
<p><span class="user-mention" data-user-id="239881">@Josh Triplett</span> I totally agree! I think I originally suggested <code>-freestanding</code> on the Switch PR so I might be to blame for that. </p>
<p>I think part of the issue right now is we don't have consistent vocabulary to use for targets like these. "<code>-none</code> implies no OS at all" makes complete sense to me. <code>-freestanding</code> is perhaps too overloaded to use in the Switch environment.</p>



<a name="254755393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254755393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254755393">(Sep 24 2021 at 19:01)</a>:</h4>
<p>Yeah, I agree. I think we need a name for "direct to the kernel", and we should use the same name for that whether it's switch or Linux.</p>



<a name="254755496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254755496" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254755496">(Sep 24 2021 at 19:02)</a>:</h4>
<p><code>x86_64-unknown-linux-raw</code> and <code>...-nintendo-switch-raw</code> or something like that. (Bikeshed painting ensues here.)</p>



<a name="254755553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254755553" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254755553">(Sep 24 2021 at 19:02)</a>:</h4>
<p>Someone had suggested <code>-raw</code> on the <code>raw-dylib</code> tracking issue for a hypothetical Windows target that uses raw-dylibs instead of requiring the gnu or MSVC toolchains.</p>



<a name="254755790"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254755790" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254755790">(Sep 24 2021 at 19:04)</a>:</h4>
<p>Since Windows can't really do "bare syscalls", raw-dylib seems as close as we can reasonably get.</p>



<a name="254755848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254755848" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254755848">(Sep 24 2021 at 19:05)</a>:</h4>
<p>(to the best of my knowledge, the Windows syscall interface isn't considered stable, and if you want a stable interface you have to use winapi)</p>



<a name="254756865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254756865" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254756865">(Sep 24 2021 at 19:12)</a>:</h4>
<p>Yes, that's my understanding as well.</p>



<a name="254766372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254766372" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254766372">(Sep 24 2021 at 20:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202021-09-24/near/254713503">said</a>:</p>
<blockquote>
<p>I don’t think it addresses all the use cases I was trying to cover, but I think fixing that (if we <em>can</em> do so without breaking anyone) might yield a world where a different, simpler proposal (probably focused solely on <code>libstd</code> resolution) might fly better.</p>
</blockquote>
<p>The fix is in <a href="https://github.com/petrochenkov/rust/tree/cflavor">https://github.com/petrochenkov/rust/tree/cflavor</a> (preserving "flavors" of the linked libraries, which you are suggesting as well, if I understand correctly), but it's breaking and incompatible with pipelined compilation.</p>



<a name="254770976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254770976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254770976">(Sep 24 2021 at 20:54)</a>:</h4>
<p>I think the ideal long term solution would be to break the linker invocation out of rustc and let the build system (cargo in this case) handle it instead. This would also be useful for non-cargo build systems like rust-for-linux.</p>



<a name="254771048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254771048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254771048">(Sep 24 2021 at 20:55)</a>:</h4>
<p>The build system can then decide by itself when to link rlibs and when dylibs.</p>



<a name="254771900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254771900" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254771900">(Sep 24 2021 at 21:01)</a>:</h4>
<p>What about the option of splitting the linker into a separate <code>rustc</code> invocation, which I've seen suggested many times?</p>



<a name="254774154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254774154" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254774154">(Sep 24 2021 at 21:18)</a>:</h4>
<p>There is already -Zno-link/-Zlink-only, but it currently puts absolute paths in the .rlink file, requires a "root" crate for linking (so no linking of multiple rlibs into a single dylib) and doesn't allow the build system to provide arbitrary additional object files compiled from C/C++.</p>



<a name="254776032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254776032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254776032">(Sep 24 2021 at 21:33)</a>:</h4>
<p>This reminds me of MIR-only-rlibs too somewhat.</p>



<a name="254776122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254776122" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254776122">(Sep 24 2021 at 21:34)</a>:</h4>
<p>I don't think splitting work into multiple process executions is the right approach either, though. That approach has its own inherent overheads that aren't always trivial.</p>



<a name="254776467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254776467" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254776467">(Sep 24 2021 at 21:37)</a>:</h4>
<p>Link stage is perhaps the only one that currently is a separate process _anyway_ so there isn't any cost in externalizing it (or at least supporting that use-case)</p>



<a name="254776515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254776515" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254776515">(Sep 24 2021 at 21:37)</a>:</h4>
<p>But that then makes combining the two together more difficult if we wanted to try that. And it doesn't help with pipelined compilation.</p>



<a name="254809738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bplanning%20meeting%5D%202021-09-24/near/254809738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/.5Bplanning.20meeting.5D.202021-09-24.html#254809738">(Sep 25 2021 at 05:13)</a>:</h4>
<p>It will help with pipelined compilation as you can keep the current logic of matching any dep kind in rustc for pipelined compilation and let the build system decide if the final link should use a dylib or rlib for each specific crate independent of which choice rustc made.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>