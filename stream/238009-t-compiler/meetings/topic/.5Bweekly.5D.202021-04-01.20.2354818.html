<html>
<head><meta charset="utf-8"><title>[weekly] 2021-04-01 #54818 · t-compiler/meetings · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/index.html">t-compiler/meetings</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html">[weekly] 2021-04-01 #54818</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="232739199"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232739199" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232739199">(Apr 01 2021 at 11:07)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span>; the triage meeting will happen in about 2h<br>
<em>WG-prioritization</em> has done pre-triage in <a class="stream" data-stream-id="245100" href="/#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts">#t-compiler/wg-prioritization/alerts</a> and prepared the <a href="https://hackmd.io/RA9MK7AzQnK8cMYnHttvNQ?view">meeting agenda</a></p>
<p>We have checkins from:</p>
<ul>
<li><span class="user-group-mention" data-user-group-id="1162">@WG-mir-opt</span>  checkin by @_oli</li>
<li><span class="user-group-mention" data-user-group-id="1184">@WG-polonius</span>  checkin by @_lqd</li>
</ul>



<a name="232760758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232760758" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232760758">(Apr 01 2021 at 14:00)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> ; the meeting starts in about a minute, add a <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> to show you are here. I’ll be a minute or two late. While I’m gone, Feel free to make your own </p>
<h2>Announcements</h2>



<a name="232761742"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232761742" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232761742">(Apr 01 2021 at 14:05)</a>:</h4>
<ul>
<li>No Steering Meeting tomorrow (2021-04-02), as it is holiday in many countries.</li>
</ul>



<a name="232761822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232761822" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232761822">(Apr 01 2021 at 14:06)</a>:</h4>
<h3>MCPs/FCPs</h3>
<ul>
<li>New MCPs (take a look, see if you like them!)<ul>
<li>"Update the existing musl targets to be dynamically linked." <a href="https://github.com/rust-lang/compiler-team/issues/422">compiler-team#422</a></li>
<li>"Rename -Cllvm-args to something backend agnostic" <a href="https://github.com/rust-lang/compiler-team/issues/421">compiler-team#421</a></li>
</ul>
</li>
</ul>



<a name="232761839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232761839" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232761839">(Apr 01 2021 at 14:06)</a>:</h4>
<ul>
<li>Old MCPs (not seconded, take a look)<ul>
<li>"MCP: More Cranelift-friendly portable SIMD intrinsics" <a href="https://github.com/rust-lang/compiler-team/issues/381">compiler-team#381</a></li>
<li>"Debuggable Macro Expansions" <a href="https://github.com/rust-lang/compiler-team/issues/386">compiler-team#386</a></li>
<li>"Uplift the <code>invalid_atomic_ordering</code> lint from clippy to rustc" <a href="https://github.com/rust-lang/compiler-team/issues/390">compiler-team#390</a></li>
<li>"Staged queries" <a href="https://github.com/rust-lang/compiler-team/issues/391">compiler-team#391</a></li>
<li>"Do not traverse the HIR to generate metadata" <a href="https://github.com/rust-lang/compiler-team/issues/392">compiler-team#392</a></li>
<li>"Embed version numbers in backport nominations and regression labels" <a href="https://github.com/rust-lang/compiler-team/issues/393">compiler-team#393</a></li>
<li>"Add different entry points for x.py" <a href="https://github.com/rust-lang/compiler-team/issues/396">compiler-team#396</a></li>
<li>"rustdoc is using rustc_ast_pretty, would it be possible to make it somewhat "stable"?" <a href="https://github.com/rust-lang/compiler-team/issues/403">compiler-team#403</a></li>
<li>"Eagerly construct bodies of THIR" <a href="https://github.com/rust-lang/compiler-team/issues/409">compiler-team#409</a></li>
<li>"LLVM plugin support in Rust" <a href="https://github.com/rust-lang/compiler-team/issues/419">compiler-team#419</a></li>
</ul>
</li>
</ul>



<a name="232761859"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232761859" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232761859">(Apr 01 2021 at 14:06)</a>:</h4>
<ul>
<li>Pending FCP requests (check your boxes!)<ul>
<li>No pending FCP requests this time.</li>
</ul>
</li>
</ul>



<a name="232761886"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232761886" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232761886">(Apr 01 2021 at 14:06)</a>:</h4>
<ul>
<li>Things in FCP (make sure you're good with it)<ul>
<li>"Lang Item for Transmutability" <a href="https://github.com/rust-lang/compiler-team/issues/411">compiler-team#411</a></li>
<li>"Switch JSON serialization from rustc_serialize to serde" <a href="https://github.com/rust-lang/compiler-team/issues/418">compiler-team#418</a></li>
<li>"Lint large assignments and locals" <a href="https://github.com/rust-lang/compiler-team/issues/420">compiler-team#420</a></li>
<li>"Adding diesel to the cargotest suite" <a href="https://github.com/rust-lang/rust/pull/81507">rust#81507</a></li>
<li>"reduce threads spawned by ui-tests" <a href="https://github.com/rust-lang/rust/pull/81942">rust#81942</a></li>
</ul>
</li>
</ul>



<a name="232761916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232761916" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232761916">(Apr 01 2021 at 14:06)</a>:</h4>
<ul>
<li>Accepted MCPs<ul>
<li>"Filter out query machinery from compiler backtraces by default" <a href="https://github.com/rust-lang/compiler-team/issues/410">compiler-team#410</a></li>
<li>"MCP: Embed the <code>hir_id</code> of the _awaited expression_ into <code>DesugaringKind</code>" <a href="https://github.com/rust-lang/compiler-team/issues/413">compiler-team#413</a></li>
</ul>
</li>
</ul>



<a name="232761932"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232761932" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232761932">(Apr 01 2021 at 14:06)</a>:</h4>
<ul>
<li>Finalized FCPs (disposition merge)<ul>
<li>"Implement indexing slices with pairs of core::ops::Bound&lt;usize&gt;" <a href="https://github.com/rust-lang/rust/pull/77704">rust#77704</a></li>
<li>"Stabilize or_patterns (RFC 2535, 2530, 2175)" <a href="https://github.com/rust-lang/rust/pull/79278">rust#79278</a></li>
<li>"Make NonNull::as_ref (and friends) return refs with unbound lifetimes" <a href="https://github.com/rust-lang/rust/pull/80771">rust#80771</a></li>
<li>"Stabilize <code>assoc_char_funcs</code> and <code>assoc_char_consts</code>" <a href="https://github.com/rust-lang/rust/pull/82919">rust#82919</a></li>
<li>"Stabilize <code>bufreader_seek_relative</code>" <a href="https://github.com/rust-lang/rust/pull/82992">rust#82992</a></li>
<li>"Deprecate RustcEncodable and RustcDecodable." <a href="https://github.com/rust-lang/rust/pull/83160">rust#83160</a></li>
</ul>
</li>
</ul>



<a name="232761949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232761949" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232761949">(Apr 01 2021 at 14:07)</a>:</h4>
<h3>WG checkins</h3>



<a name="232761979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232761979" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232761979">(Apr 01 2021 at 14:07)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1162">@WG-mir-opt</span> checkin by <span class="user-mention" data-user-id="124288">@oli</span>:</p>
<blockquote>
<ul>
<li>Partook in the shrinkmem sprint</li>
<li>mir-opt-level=2 is now automatically activated in release mode</li>
<li>shaved off a few percentages of max-rss by adjusting MIR datastructures</li>
<li>ran some experiments to pinpoint an MVP for MIR inlining</li>
</ul>
</blockquote>



<a name="232762100"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762100" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762100">(Apr 01 2021 at 14:08)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="1184">@WG-polonius</span> checkin by <span class="user-mention" data-user-id="116113">@lqd</span></p>
<blockquote>
<p>Nothing especially newsworthy since the last check-in, only a little progress has been made since then.</p>
</blockquote>



<a name="232762164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762164" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762164">(Apr 01 2021 at 14:08)</a>:</h4>
<h2>Backport nominations</h2>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler beta</a></p>



<a name="232762190"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762190" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762190">(Apr 01 2021 at 14:08)</a>:</h4>
<ul>
<li><img alt=":beta:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/4715/emoji/images/20717.png" title="beta"> "Fix the <code>unsafe_block_in_unsafe_fn</code>s stabilized version" <a href="https://github.com/rust-lang/rust/pull/83736">rust#83736</a><ul>
<li>opened by <span class="user-mention" data-user-id="217081">@Yuki Okushi</span> </li>
<li>reviewed by <span class="user-mention" data-user-id="232545">@Joshua Nelson</span> </li>
<li>fixes issue <a href="https://github.com/rust-lang/rust/issues/83735">#83735</a>, a wrong claim about <code>unsafe_block_in_unsafe_fn</code> being stabilized in 1.51.0</li>
</ul>
</li>
</ul>



<a name="232762304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762304" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762304">(Apr 01 2021 at 14:08)</a>:</h4>
<p>Hmm I'm realizing now that this warning doesn't actually show up on beta due to a bug</p>



<a name="232762458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762458" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762458">(Apr 01 2021 at 14:09)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/83736">#83736</a> just changes the warning text to point to a newer release</p>



<a name="232762466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762466" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762466">(Apr 01 2021 at 14:09)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/83715">https://github.com/rust-lang/rust/issues/83715</a></p>



<a name="232762483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762483" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762483">(Apr 01 2021 at 14:10)</a>:</h4>
<p>should <a href="https://github.com/rust-lang/rust/issues/83736">#83736</a> be a stable-nominated too?</p>



<a name="232762627"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762627" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762627">(Apr 01 2021 at 14:10)</a>:</h4>
<p>no, because 1.51 doesn't have the stable feature</p>



<a name="232762663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762663" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762663">(Apr 01 2021 at 14:10)</a>:</h4>
<p>it was only stabilized in 1.52 (Currently on beta)</p>



<a name="232762672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762672" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762672">(Apr 01 2021 at 14:10)</a>:</h4>
<p>Oh, right, okay.</p>



<a name="232762724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762724" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762724">(Apr 01 2021 at 14:11)</a>:</h4>
<p>Since this bug isn't actually visible on beta/stable, no backport is needed and this can ride the trains</p>



<a name="232762759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762759" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762759">(Apr 01 2021 at 14:11)</a>:</h4>
<p>yeah I think rustdoc doesn't document language features</p>



<a name="232762774"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762774" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762774">(Apr 01 2021 at 14:11)</a>:</h4>
<p>if the warning doesn’t show up in the beta, is that itself a problem? I.e., <em>is</em> this actually going to be stable in 1.52 ?</p>



<a name="232762808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762808" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762808">(Apr 01 2021 at 14:11)</a>:</h4>
<p>or is it going to wait until 1.53?</p>



<a name="232762841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762841" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762841">(Apr 01 2021 at 14:12)</a>:</h4>
<p>no, on beta you can't use feature gates, so you don't get an error about the version</p>



<a name="232762950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762950" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762950">(Apr 01 2021 at 14:12)</a>:</h4>
<p>okay Isee</p>



<a name="232762958"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762958" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762958">(Apr 01 2021 at 14:12)</a>:</h4>
<p>I get it now</p>



<a name="232762976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232762976" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232762976">(Apr 01 2021 at 14:12)</a>:</h4>
<p>yeah this doesn’t seem like it needs to be backported at all then</p>



<a name="232763001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763001" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763001">(Apr 01 2021 at 14:12)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/83736">#83736</a>: declining to backport to beta. Letting it ride the trains, as oli said.</p>



<a name="232763014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763014" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763014">(Apr 01 2021 at 14:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-04-01.20.2354818/near/232762774">said</a>:</p>
<blockquote>
<p>if the warning doesn’t show up in the beta, is that itself a problem? I.e., <em>is</em> this actually going to be stable in 1.52 ?</p>
</blockquote>
<p>checking for feature gates is not actually related to whether the feature gate is marked as active or not <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="232763066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763066" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763066">(Apr 01 2021 at 14:13)</a>:</h4>
<p>you could have an <code>if tcx.features().unsafe_op { ... }</code> block anywhere</p>



<a name="232763139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763139" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763139">(Apr 01 2021 at 14:13)</a>:</h4>
<ul>
<li>No stable nominations for <code>T-compiler</code> this time.</li>
</ul>



<a name="232763154"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763154" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763154">(Apr 01 2021 at 14:13)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-libs-impl">T-libs-impl stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-libs-impl">T-libs-impl beta</a></p>
<ul>
<li>No backport nominations for <code>T-libs-impl</code> this time.</li>
</ul>



<a name="232763164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763164" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763164">(Apr 01 2021 at 14:13)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc">T-rustdoc stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc">T-rustdoc beta</a></p>



<a name="232763190"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763190" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763190">(Apr 01 2021 at 14:13)</a>:</h4>
<ul>
<li><img alt=":beta:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/4715/emoji/images/20717.png" title="beta"> "Fix Self keyword doc URL conflict on case insensitive file systems (until definitely fixed on rustdoc)" <a href="https://github.com/rust-lang/rust/pull/83678">rust#83678</a><ul>
<li>opened by <span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> </li>
<li>approved by <span class="user-mention" data-user-id="232545">@Joshua Nelson</span> </li>
<li>Fixes <a href="https://github.com/rust-lang/rust/issues/80504">#80504</a> and prevents <a href="https://github.com/rust-lang/rust/issues/83154">#83154</a> and related <a href="https://github.com/rust-lang/rustup/issues/2694">rust-lang/rustup#2694</a></li>
</ul>
</li>
</ul>



<a name="232763260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763260" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763260">(Apr 01 2021 at 14:14)</a>:</h4>
<p>I'm trying to check now that this actually fixes the issue</p>



<a name="232763278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763278" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763278">(Apr 01 2021 at 14:14)</a>:</h4>
<p>can we delay this a week?</p>



<a name="232763288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763288" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763288">(Apr 01 2021 at 14:14)</a>:</h4>
<p>its fine with me</p>



<a name="232763334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763334" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763334">(Apr 01 2021 at 14:14)</a>:</h4>
<p>we’ll go ahead and table <a href="https://github.com/rust-lang/rust/issues/83678">#83678</a>, wait to decide on it next week.</p>



<a name="232763351"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763351" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763351">(Apr 01 2021 at 14:14)</a>:</h4>
<ul>
<li>No stable nominations for <code>T-rustdoc</code> this time.</li>
</ul>



<a name="232763365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763365" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763365">(Apr 01 2021 at 14:14)</a>:</h4>
<h2>PRs S-waiting-on-team</h2>
<p><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p>



<a name="232763387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763387" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763387">(Apr 01 2021 at 14:15)</a>:</h4>
<ul>
<li>"add dynamically-linked musl targets" <a href="https://github.com/rust-lang/rust/pull/82556">rust#82556</a><ul>
<li><a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bdesign.20meeting.5D.202021-03-26.20musl.20linking.20compiler-team.23416">actionables from the meeting</a><ul>
<li>Written an <a href="https://github.com/rust-lang/compiler-team/issues/422">MCP</a>, verify whether we can give warnings, and have the team sign it off</li>
<li>Finally a blog post to give a heads up and guidance <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bdesign.20meeting.5D.202021-03-26.20musl.20linking.20compiler-team.23416/near/231979422">comment</a></li>
</ul>
</li>
</ul>
</li>
</ul>



<a name="232763485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763485" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763485">(Apr 01 2021 at 14:15)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> , we should probably close <a href="https://github.com/rust-lang/rust/issues/82556">rust#82556</a>, right? Or should that wait until MCP <a href="https://github.com/rust-lang/compiler-team/issues/422">compiler-team#422</a> is accepted?</p>



<a name="232763531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763531" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763531">(Apr 01 2021 at 14:15)</a>:</h4>
<p>I think we should wait to close. We should communicate with the author prior to closing to make it clear what's going on.</p>



<a name="232763609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763609" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763609">(Apr 01 2021 at 14:16)</a>:</h4>
<p>Okay. Sounds good.</p>



<a name="232763648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763648" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763648">(Apr 01 2021 at 14:16)</a>:</h4>
<p>but we certainly don’t need to <em>do</em> anything with <a href="https://github.com/rust-lang/rust/issues/82556">#82556</a> for the time being.</p>



<a name="232763657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763657" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763657">(Apr 01 2021 at 14:16)</a>:</h4>
<p>so lets move along.</p>



<a name="232763686"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763686" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763686">(Apr 01 2021 at 14:16)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-libs-impl">T-libs-impl</a></p>
<ul>
<li>No PRs waiting on <code>T-libs-impl</code> this time.</li>
</ul>



<a name="232763699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763699" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763699">(Apr 01 2021 at 14:16)</a>:</h4>
<h2>Issues of Note</h2>
<h3>Short Summary</h3>
<ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">0 T-compiler P-critical issues</a><ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">0 of those are unassigned</a></li>
</ul>
</li>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">62 T-compiler P-high issues</a><ul>
<li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">39 of those are unassigned</a></li>
</ul>
</li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta">0 P-critical, 3 P-high, 3 P-medium, 0 P-low regression-from-stable-to-beta</a></li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly">1 P-critical, 0 P-high, 2 P-medium, 0 P-low regression-from-stable-to-nightly</a></li>
<li><a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable">0 P-critical, 38 P-high, 91 P-medium, 11 P-low regression-from-stable-to-stable</a></li>
</ul>



<a name="232763715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763715" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763715">(Apr 01 2021 at 14:16)</a>:</h4>
<h3>P-critical</h3>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p>
<ul>
<li>No <code>P-critical</code> issues for <code>T-compiler</code> this time.</li>
</ul>



<a name="232763728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763728" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763728">(Apr 01 2021 at 14:16)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-libs-impl">T-libs-impl</a></p>
<ul>
<li>"Double free in Vec::from_iter specialization when drop panics" <a href="https://github.com/rust-lang/rust/issues/83618">rust#83618</a><ul>
<li>Opened by <span class="user-mention" data-user-id="329529">@Yechan Bae</span></li>
<li><span class="user-mention" data-user-id="239181">@The 8472</span> submitted PR <a href="https://github.com/rust-lang/rust/pull/83629">#83629</a></li>
<li>PR assigned for review to <span class="user-mention" data-user-id="310399">@Mara</span></li>
</ul>
</li>
</ul>



<a name="232763809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763809" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763809">(Apr 01 2021 at 14:17)</a>:</h4>
<p>glad to see fast turnaround here.</p>



<a name="232763827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763827" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763827">(Apr 01 2021 at 14:17)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc">T-rustdoc</a></p>
<ul>
<li>No <code>P-critical</code> issues for <code>T-rustdoc</code> this time.</li>
</ul>



<a name="232763849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763849" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763849">(Apr 01 2021 at 14:17)</a>:</h4>
<h3>P-high regressions</h3>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high">P-high beta regressions</a></p>



<a name="232763876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763876" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763876">(Apr 01 2021 at 14:17)</a>:</h4>
<ul>
<li>"WASI: path_open regression in Rust 1.51 when using LTO" <a href="https://github.com/rust-lang/rust/issues/82758">rust#82758</a><ul>
<li>fixed by <span class="user-mention" data-user-id="116122">@simulacrum</span> in PR <a href="https://github.com/rust-lang/rust/pull/82804">#82804</a>, PR should be in 1.51 stable</li>
<li>is there an actionable for this issue?</li>
</ul>
</li>
</ul>



<a name="232763944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232763944" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232763944">(Apr 01 2021 at 14:18)</a>:</h4>
<p>(Mostly off topic, but I think <span class="user-mention silent" data-user-id="329529">Yechan Bae</span> is a researcher, it's cool to see formal methods finding unsoundness :)</p>



<a name="232764038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232764038" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232764038">(Apr 01 2021 at 14:18)</a>:</h4>
<p>so, can we close <a href="https://github.com/rust-lang/rust/issues/82758">#82758</a> now? The issue reported says that <a href="https://github.com/rust-lang/rust/issues/82804">#82804</a> fixed it for them, and <a href="https://github.com/rust-lang/rust/issues/82804">#82804</a> is part of 1.51 ...</p>



<a name="232764110"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232764110" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232764110">(Apr 01 2021 at 14:19)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> ^ ?</p>



<a name="232764177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232764177" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232764177">(Apr 01 2021 at 14:19)</a>:</h4>
<p>I think we can close <a href="https://github.com/rust-lang/rust/issues/82758">#82758</a>. Doing so now.</p>



<a name="232764212"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232764212" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232764212">(Apr 01 2021 at 14:20)</a>:</h4>
<p>yeah I think so too</p>



<a name="232764415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232764415" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232764415">(Apr 01 2021 at 14:21)</a>:</h4>
<ul>
<li>"<code>probe-stack=inline-asm</code> generates wrong DWARF information" <a href="https://github.com/rust-lang/rust/issues/83139">rust#83139</a><ul>
<li>partially mitigated by <span class="user-mention" data-user-id="116083">@pnkfelix</span> in PR <a href="https://github.com/rust-lang/rust/pull/83412">#82412</a>, which reverts PR <a href="https://github.com/rust-lang/rust/pull/77885">#77885</a></li>
<li>from the PR comment: after we resolve <a href="https://github.com/rust-lang/rust/issues/83139">#83139</a> (potentially by backporting a fix to LLVM or by deciding that one cannot rely on the quality of our DWARF output in the manner described in <a href="https://github.com/rust-lang/rust/issues/83139">#83139</a>), we can change this back</li>
</ul>
</li>
</ul>



<a name="232764512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232764512" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232764512">(Apr 01 2021 at 14:21)</a>:</h4>
<p>yeah we need to actually follow-through on deciding what to do here.</p>



<a name="232764588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232764588" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232764588">(Apr 01 2021 at 14:22)</a>:</h4>
<p>the LLVM patch is <a href="https://reviews.llvm.org/D98789">https://reviews.llvm.org/D98789</a></p>



<a name="232764643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232764643" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232764643">(Apr 01 2021 at 14:22)</a>:</h4>
<p>work is ongoing there</p>



<a name="232764668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232764668" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232764668">(Apr 01 2021 at 14:22)</a>:</h4>
<p>so I think we can say this is “making progress” and leave it at that for now</p>



<a name="232764700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232764700" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232764700">(Apr 01 2021 at 14:22)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee">Unassigned P-high nightly regressions</a></p>
<ul>
<li>No unassigned <code>P-high</code> nightly regressions this time.</li>
</ul>



<a name="232764723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232764723" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232764723">(Apr 01 2021 at 14:23)</a>:</h4>
<h2>Performance logs</h2>
<blockquote>
<p><a href="https://github.com/rust-lang/rustc-perf/blob/7af0553b65a918cf4b19fa289a85bd97abf3f43b/triage/2021-04-01.md">2021-04-01 Triage Log</a></p>
</blockquote>
<p>A somewhat negative weak for performance where regressions outweigh improvements. Sadly, a lot of the regressions don't seem very straight-forward to understand, and so more investigation will be necessary.</p>
<p>Triage done by <strong>@rylev</strong>: 2 Regressions, 2 Improvements, 3 Mixed, 2 of them in rollups</p>



<a name="232764775"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232764775" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232764775">(Apr 01 2021 at 14:23)</a>:</h4>
<h4>Regressions</h4>
<p>implement <code>feature(const_generics_defaults)</code> <a href="https://github.com/rust-lang/rust/issues/75384">#75384</a></p>
<ul>
<li>Moderate regression in <a href="https://perf.rust-lang.org/compare.html?start=db492ecd5ba6bd82205612cebb9034710653f0c2&amp;end=5b33de3340c7b36646af46303a30f7066b4bd7db&amp;stat=instructions:u">instruction counts</a> (up to 1.1% on <code>incr-unchanged</code> builds of <code>ucd-check</code>)</li>
<li>A small regression in incremental compilation in one particular benchmark <code>ucd</code>. The query affected is <code>generate_crate_metadata</code> which tracks with the fact that incremental compilation is affected.</li>
<li>A quick scan of the changes doesn't reveal anything suspicious as encoding of metadata has changed only a little bit and should only be impacted when encoding something with default const generics.</li>
</ul>
<p>Use <code>EvaluatedToOkModuloRegions</code> whenever we erase regions <a href="https://github.com/rust-lang/rust/issues/83220">#83220</a></p>
<ul>
<li>Moderate regression in <a href="https://perf.rust-lang.org/compare.html?start=f5fe425c925ef36d5f4c18cfa44173fc42de31b8&amp;end=07e0e2ec268c140e607e1ac7f49f145612d0f597&amp;stat=instructions:u">instruction counts</a> (up to 1.8% on <code>full</code> builds of <code>hyper-2-check</code>)</li>
<li>A moderate regression in trait obligation evaluation which this code directly impacts. </li>
<li>A performance run was performed, but the impact was deemed acceptable. The author and reviewer <a href="https://github.com/rust-lang/rust/pull/83220#issuecomment-811752366">were pinged</a> about why the performance is acceptable.</li>
</ul>
<p>Refactor <code>Binder</code> to track bound vars <a href="https://github.com/rust-lang/rust/issues/76814">#76814</a></p>
<ul>
<li>Moderate regression in <a href="https://perf.rust-lang.org/compare.html?start=a5029ac0ab372aec515db2e718da6d7787f3d122&amp;end=4fdac23f3171e2f8864d359a21da600dd3faafc9&amp;stat=instructions:u">instruction counts</a> (up to 3.9% on <code>incr-unchanged</code> builds of <code>externs-check</code>)</li>
<li>Moderate regression in trait resolution queries which this code directly impacts. While a performance run was made, it was never discussed in the PR. The author and reviewer <a href="https://github.com/rust-lang/rust/pull/76814#issuecomment-811758311">were pinged</a>.</li>
</ul>



<a name="232765129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232765129" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232765129">(Apr 01 2021 at 14:25)</a>:</h4>
<p>so, PR <a href="https://github.com/rust-lang/rust/issues/83220">#83220</a>, IIUC, is proactive defense. We don’t know of actual unsoundness, but the code <em>was</em> wrong. I’m guessing that’s why the impact was deemed acceptable.</p>



<a name="232765317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232765317" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232765317">(Apr 01 2021 at 14:26)</a>:</h4>
<p>for PR <a href="https://github.com/rust-lang/rust/issues/76814">#76814</a> … heh, maybe the “up to 3.9%” just looked so “good” compared to the earlier results that saw regressions that were on the order of 700% regression. :)</p>



<a name="232765556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232765556" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232765556">(Apr 01 2021 at 14:28)</a>:</h4>
<p>For <a href="https://github.com/rust-lang/rust/issues/76814">#76814</a>, we did discuss perf results, just not on github :)</p>



<a name="232765565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232765565" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232765565">(Apr 01 2021 at 14:28)</a>:</h4>
<p>(Also, <span class="user-mention" data-user-id="232957">@Jack Huey</span> did provide feedback on the performance regressions from <a href="https://github.com/rust-lang/rust/issues/76814">#76814</a> about 2 hours ago)</p>



<a name="232765667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232765667" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232765667">(Apr 01 2021 at 14:29)</a>:</h4>
<p>it sounds likethere are some ideas for trying to buy back some performance again</p>



<a name="232765695"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232765695" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232765695">(Apr 01 2021 at 14:29)</a>:</h4>
<p>anyway, lets proceed</p>



<a name="232765715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232765715" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232765715">(Apr 01 2021 at 14:29)</a>:</h4>
<h4>Improvements</h4>
<ul>
<li>Rollup of 9 pull requests <a href="https://github.com/rust-lang/rust/issues/83432">#83432</a></li>
<li>Rollup of 8 pull requests <a href="https://github.com/rust-lang/rust/issues/83580">#83580</a></li>
</ul>



<a name="232765735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232765735" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232765735">(Apr 01 2021 at 14:29)</a>:</h4>
<h4>Mixed</h4>
<ul>
<li>Remove assignments to ZST places instead of marking ZST return place as unused <a href="https://github.com/rust-lang/rust/issues/83177">#83177</a></li>
<li>Import small cold functions <a href="https://github.com/rust-lang/rust/issues/82980">#82980</a></li>
<li>Reduce the impact of Vec::reserve calls that do not cause any allocation <a href="https://github.com/rust-lang/rust/issues/83357">#83357</a></li>
</ul>



<a name="232765769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232765769" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232765769">(Apr 01 2021 at 14:29)</a>:</h4>
<h4>Nags requiring follow up</h4>
<ul>
<li>The <a href="https://github.com/rust-lang/rust/pull/82964#issuecomment-800663588">issue</a> from two weeks ago has stalled.</li>
<li>Follow-ups from this week:<br>
    - <a href="https://github.com/rust-lang/rust/pull/83220#issuecomment-811752366">https://github.com/rust-lang/rust/pull/83220#issuecomment-811752366</a><br>
    - <a href="https://github.com/rust-lang/rust/pull/76814#issuecomment-811758311">https://github.com/rust-lang/rust/pull/76814#issuecomment-811758311</a><br>
    - <a href="https://github.com/rust-lang/rust/pull/82980#issuecomment-811767001">https://github.com/rust-lang/rust/pull/82980#issuecomment-811767001</a><br>
    - <a href="https://github.com/rust-lang/rust/pull/83357#issuecomment-811770400">https://github.com/rust-lang/rust/pull/83357#issuecomment-811770400</a></li>
</ul>



<a name="232765894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232765894" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232765894">(Apr 01 2021 at 14:30)</a>:</h4>
<p>(the “issue from two weeks ago” is PR <a href="https://github.com/rust-lang/rust/issues/82964">#82964</a>, “Shorten rustc_middle::ty::mod”)</p>



<a name="232766012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232766012" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232766012">(Apr 01 2021 at 14:31)</a>:</h4>
<p>I think the PR author needs some assistance with making progress there. I won’t be able to carve out time for that this week (stuff at home), but next week should be better, I think.</p>



<a name="232766135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232766135" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232766135">(Apr 01 2021 at 14:31)</a>:</h4>
<p>(The PR authors issue is “Cannot profile local rustc” (with rusts-perf) <a href="https://github.com/rust-lang/rustc-perf/issues/854">https://github.com/rust-lang/rustc-perf/issues/854</a> )</p>



<a name="232766175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232766175" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232766175">(Apr 01 2021 at 14:31)</a>:</h4>
<p>Yeah, I've not had time to look into it unfortunately</p>



<a name="232766226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232766226" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232766226">(Apr 01 2021 at 14:32)</a>:</h4>
<p>FWIW this is essentially benchmark of ObligationCauseCode hashing</p>



<a name="232766315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232766315" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232766315">(Apr 01 2021 at 14:32)</a>:</h4>
<h2>Nominated Issues</h2>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler">T-compiler</a></p>



<a name="232766346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232766346" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232766346">(Apr 01 2021 at 14:32)</a>:</h4>
<ul>
<li>"<code>undefined reference to</code> linker error when using dylibs" <a href="https://github.com/rust-lang/rust/issues/82151">rust#82151</a><ul>
<li>(mentioned in <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-03-18.20.2354818/near/230879756">past meeting</a>)</li>
</ul>
</li>
</ul>



<a name="232766397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232766397" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232766397">(Apr 01 2021 at 14:33)</a>:</h4>
<p>(again, I probably won’t get to this this week.)</p>



<a name="232766455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232766455" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232766455">(Apr 01 2021 at 14:33)</a>:</h4>
<ul>
<li>"add dynamically-linked musl targets" <a href="https://github.com/rust-lang/rust/pull/82556">rust#82556</a><ul>
<li>(see item in S-waiting-on-team)</li>
</ul>
</li>
</ul>



<a name="232766469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232766469" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232766469">(Apr 01 2021 at 14:33)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-libs-impl">T-libs-impl</a></p>
<ul>
<li>No nominated issues for <code>T-libs-impl</code> this time.</li>
</ul>
<p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler">RFC</a></p>
<ul>
<li>No nominated RFCs for <code>T-compiler</code> this time.</li>
</ul>



<a name="232766484"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232766484" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232766484">(Apr 01 2021 at 14:33)</a>:</h4>
<p>and that’s our agenda!</p>



<a name="232766922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232766922" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232766922">(Apr 01 2021 at 14:35)</a>:</h4>
<p>so</p>



<a name="232766952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232766952" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232766952">(Apr 01 2021 at 14:36)</a>:</h4>
<p>ways to spend remaining meeting time</p>



<a name="232767002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767002" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767002">(Apr 01 2021 at 14:36)</a>:</h4>
<p>I could just say “we all get 25 more minutes”</p>



<a name="232767025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767025" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767025">(Apr 01 2021 at 14:36)</a>:</h4>
<p>but I think it would be good</p>



<a name="232767051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767051" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767051">(Apr 01 2021 at 14:36)</a>:</h4>
<p>to maybe try to look over that list of Old MCP's</p>



<a name="232767090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767090" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767090">(Apr 01 2021 at 14:36)</a>:</h4>
<p>and try to make progress there. Or at least highlight them a bit more explicitly</p>



<a name="232767196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767196" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767196">(Apr 01 2021 at 14:37)</a>:</h4>
<p>Here’s that full list again</p>



<a name="232767207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767207" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767207">(Apr 01 2021 at 14:37)</a>:</h4>
<ul>
<li>Old MCPs (not seconded, take a look)<ul>
<li>"MCP: More Cranelift-friendly portable SIMD intrinsics" <a href="https://github.com/rust-lang/compiler-team/issues/381">compiler-team#381</a></li>
<li>"Debuggable Macro Expansions" <a href="https://github.com/rust-lang/compiler-team/issues/386">compiler-team#386</a></li>
<li>"Uplift the <code>invalid_atomic_ordering</code> lint from clippy to rustc" <a href="https://github.com/rust-lang/compiler-team/issues/390">compiler-team#390</a></li>
<li>"Staged queries" <a href="https://github.com/rust-lang/compiler-team/issues/391">compiler-team#391</a></li>
<li>"Do not traverse the HIR to generate metadata" <a href="https://github.com/rust-lang/compiler-team/issues/392">compiler-team#392</a></li>
<li>"Embed version numbers in backport nominations and regression labels" <a href="https://github.com/rust-lang/compiler-team/issues/393">compiler-team#393</a></li>
<li>"Add different entry points for x.py" <a href="https://github.com/rust-lang/compiler-team/issues/396">compiler-team#396</a></li>
<li>"rustdoc is using rustc_ast_pretty, would it be possible to make it somewhat "stable"?" <a href="https://github.com/rust-lang/compiler-team/issues/403">compiler-team#403</a></li>
<li>"Eagerly construct bodies of THIR" <a href="https://github.com/rust-lang/compiler-team/issues/409">compiler-team#409</a></li>
<li>"LLVM plugin support in Rust" <a href="https://github.com/rust-lang/compiler-team/issues/419">compiler-team#419</a></li>
</ul>
</li>
</ul>



<a name="232767244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767244" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767244">(Apr 01 2021 at 14:37)</a>:</h4>
<p>(that’s 10 old MCPs)</p>



<a name="232767267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767267" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767267">(Apr 01 2021 at 14:37)</a>:</h4>
<p>I think we could reasonably spend 2 minutes on each</p>



<a name="232767294"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767294" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767294">(Apr 01 2021 at 14:37)</a>:</h4>
<p>just to take temperatures</p>



<a name="232767367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767367" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767367">(Apr 01 2021 at 14:38)</a>:</h4>
<p>lets go lowest-numbered first</p>



<a name="232767421"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767421" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767421">(Apr 01 2021 at 14:38)</a>:</h4>
<p>- "MCP: More Cranelift-friendly portable SIMD intrinsics" <a href="https://github.com/rust-lang/compiler-team/issues/381">compiler-team#381</a></p>



<a name="232767653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767653" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767653">(Apr 01 2021 at 14:39)</a>:</h4>
<p>associated zulip stream: <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/MCP.3A.20More.20Cranelift-friendly.20portable.20SIM.E2.80.A6.20compiler-team.23381/near/215569238">https://rust-lang.zulipchat.com/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/MCP.3A.20More.20Cranelift-friendly.20portable.20SIM.E2.80.A6.20compiler-team.23381/near/215569238</a></p>



<a name="232767872"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767872" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767872">(Apr 01 2021 at 14:41)</a>:</h4>
<p>I want this very much</p>



<a name="232767918"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767918" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767918">(Apr 01 2021 at 14:41)</a>:</h4>
<p>so from skimming the zulip stream</p>



<a name="232767956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232767956" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232767956">(Apr 01 2021 at 14:41)</a>:</h4>
<p>One thing in particular I really like about this proposal is that our SIMD intrinsic are defined in pure Rust instead of by LLVM behavior.</p>



<a name="232768087"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232768087" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232768087">(Apr 01 2021 at 14:42)</a>:</h4>
<p>That seems great especially since we're starting to see a lot more interest in alternative backends (not just Cranelift).</p>



<a name="232768089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232768089" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232768089">(Apr 01 2021 at 14:42)</a>:</h4>
<p>it sounds like the main ideas are to try to write reference implementations in “plain old Rust”. In some cases that might require trait bound to even express what the behavior is</p>



<a name="232768186"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232768186" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232768186">(Apr 01 2021 at 14:42)</a>:</h4>
<p>so far all of the conversation on zulip seemed very positive</p>



<a name="232768252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232768252" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232768252">(Apr 01 2021 at 14:43)</a>:</h4>
<p>it all sounds plausible. I’lll go ahead and second it.</p>



<a name="232768339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232768339" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232768339">(Apr 01 2021 at 14:43)</a>:</h4>
<p>next</p>



<a name="232768342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232768342" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232768342">(Apr 01 2021 at 14:43)</a>:</h4>
<p>- "Debuggable Macro Expansions" <a href="https://github.com/rust-lang/compiler-team/issues/386">compiler-team#386</a></p>



<a name="232768473"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232768473" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232768473">(Apr 01 2021 at 14:44)</a>:</h4>
<p>associated zulip stream: <a href="#narrow/stream/233931-xxx/topic/Debuggable.20Macro.20Expansions.20compiler-team.23386">https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Debuggable.20Macro.20Expansions.20compiler-team.23386</a></p>



<a name="232768604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232768604" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232768604">(Apr 01 2021 at 14:45)</a>:</h4>
<p>so this is turning on behavior that is already implemented but hidden by <code>-Zdebug-macros</code>, right?</p>



<a name="232768662"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232768662" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232768662">(Apr 01 2021 at 14:45)</a>:</h4>
<p>and adds a way to opt-into the old behavior, with an attribute, <code>#[collapse_debuginfo]</code></p>



<a name="232768682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232768682" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232768682">(Apr 01 2021 at 14:45)</a>:</h4>
<p>I don’t have much experience myself using <code>-Zdebug-macros</code>.</p>



<a name="232768782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232768782" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232768782">(Apr 01 2021 at 14:46)</a>:</h4>
<p>but I can appreciate wanting to provide a path for exposing useful flags like that.</p>



<a name="232769044"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769044" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769044">(Apr 01 2021 at 14:48)</a>:</h4>
<p>Hmm. Does <code>-Zdebug-macros</code> help with understanding code (as in stepping through code in gdb) that uses stuff like <code>#[async_trait]</code> ?</p>



<a name="232769192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769192" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769192">(Apr 01 2021 at 14:48)</a>:</h4>
<p>well anyway it seems like maybe this can wait</p>



<a name="232769251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769251" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769251">(Apr 01 2021 at 14:49)</a>:</h4>
<p>in the zulip stream, <span class="user-mention" data-user-id="133247">@bjorn3</span> mentioned "What about pretending that macro invocations are inlined function calls in the dwarf debuginfo?"</p>



<a name="232769278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769278" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769278">(Apr 01 2021 at 14:49)</a>:</h4>
<p>so there may be design questions here</p>



<a name="232769371"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769371" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769371">(Apr 01 2021 at 14:49)</a>:</h4>
<p>(Though I think dwarf may have outright <em>support</em> for macros…? I could have sworn I saw it in DWARF spec when I was skimming it recently.)</p>



<a name="232769492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769492" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769492">(Apr 01 2021 at 14:50)</a>:</h4>
<p>DWARF has support for C style macros. Not lisp/rust style ones.</p>



<a name="232769495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769495" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769495">(Apr 01 2021 at 14:50)</a>:</h4>
<p>I suppose there’s a broader question here, of how much we guarantee about the quality + stabilty of our debuginfo output</p>



<a name="232769505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769505" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769505">(Apr 01 2021 at 14:50)</a>:</h4>
<p>It's probably worth thinking more broadly than just DWARF before we commit to a strategy.</p>



<a name="232769535"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769535" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769535">(Apr 01 2021 at 14:50)</a>:</h4>
<p><em>cough</em> Windows <em>cough</em></p>



<a name="232769541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769541" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769541">(Apr 01 2021 at 14:50)</a>:</h4>
<p>heh</p>



<a name="232769593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769593" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769593">(Apr 01 2021 at 14:50)</a>:</h4>
<p>lets leave this where it is for now</p>



<a name="232769634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769634" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769634">(Apr 01 2021 at 14:51)</a>:</h4>
<p>but maybe we should try to think of a design meeting topic that covers some of this ground</p>



<a name="232769643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769643" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769643">(Apr 01 2021 at 14:51)</a>:</h4>
<p>next</p>



<a name="232769664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769664" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769664">(Apr 01 2021 at 14:51)</a>:</h4>
<p>- "Uplift the <code>invalid_atomic_ordering</code> lint from clippy to rustc" <a href="https://github.com/rust-lang/compiler-team/issues/390">compiler-team#390</a></p>



<a name="232769722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769722" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769722">(Apr 01 2021 at 14:51)</a>:</h4>
<p>"The lint has no false positives, and so long as the orderings are specified directly in the call covers the whole set of stable[0] functions which take ordering arguments that I'm aware of."</p>



<a name="232769792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769792" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769792">(Apr 01 2021 at 14:52)</a>:</h4>
<p>associated zulip stream: <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Uplift.20the.20.60invalid_atomic_ordering.60.20lint.20from.20clippy">https://rust-lang.zulipchat.com/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Uplift.20the.20.60invalid_atomic_ordering.60.20lint.20from.20clippy</a></p>



<a name="232769889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769889" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769889">(Apr 01 2021 at 14:52)</a>:</h4>
<p>anyway this sounds like a good thing to me</p>



<a name="232769941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769941" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769941">(Apr 01 2021 at 14:53)</a>:</h4>
<p>and the lang team has said they would be satisfied with just an FCP on the associated PR; they don’t need to be involved from the outset on “lints for things that are just wrong"</p>



<a name="232769972"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232769972" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232769972">(Apr 01 2021 at 14:53)</a>:</h4>
<p>or wait, that was <span class="user-mention" data-user-id="125270">@scottmcm</span> ’s opinion</p>



<a name="232770075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770075" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770075">(Apr 01 2021 at 14:54)</a>:</h4>
<p>anyway, in <em>this</em> case, all of <span class="user-mention" data-user-id="116009">@nikomatsakis</span> and <span class="user-mention" data-user-id="239881">@Josh Triplett</span> and <span class="user-mention" data-user-id="125270">@scottmcm</span> sounded okay with waiting until the PR to be involved</p>



<a name="232770107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770107" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770107">(Apr 01 2021 at 14:54)</a>:</h4>
<p>so I’ll go ahead and second this</p>



<a name="232770164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770164" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770164">(Apr 01 2021 at 14:54)</a>:</h4>
<p>next</p>



<a name="232770169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770169" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770169">(Apr 01 2021 at 14:54)</a>:</h4>
<p>- "Staged queries" <a href="https://github.com/rust-lang/compiler-team/issues/391">compiler-team#391</a></p>



<a name="232770222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770222" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770222">(Apr 01 2021 at 14:55)</a>:</h4>
<p>associated zulip stream: <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Staged.20queries.20compiler-team.23391">https://rust-lang.zulipchat.com/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Staged.20queries.20compiler-team.23391</a></p>



<a name="232770223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770223" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770223">(Apr 01 2021 at 14:55)</a>:</h4>
<p>in general T-lang would like to be nominated and give our <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> on the PR itself</p>



<a name="232770240"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770240" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770240">(Apr 01 2021 at 14:55)</a>:</h4>
<p>(for lints)</p>



<a name="232770305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770305" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770305">(Apr 01 2021 at 14:55)</a>:</h4>
<p>(I think seconding this is fine)</p>



<a name="232770342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770342" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770342">(Apr 01 2021 at 14:55)</a>:</h4>
<p>(<span class="user-mention" data-user-id="116009">@nikomatsakis</span> That’s a minimum for all lints, sure. But for some lints,. lang wants to be involved at an earlier stage, right?)</p>



<a name="232770460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770460" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770460">(Apr 01 2021 at 14:56)</a>:</h4>
<p>(If this was decided in an lang meeting and I have forgotten… well, my brain is mush, what can I say.)</p>



<a name="232770505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770505" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770505">(Apr 01 2021 at 14:56)</a>:</h4>
<p>I'd say "it's not required, but you may get surprised by pushback at a late stage"</p>



<a name="232770537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770537" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770537">(Apr 01 2021 at 14:56)</a>:</h4>
<p>i.e., if the lint is a lot of work to implement, maybe a good idea to discuss first</p>



<a name="232770572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770572" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770572">(Apr 01 2021 at 14:57)</a>:</h4>
<p>okay</p>



<a name="232770591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770591" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770591">(Apr 01 2021 at 14:57)</a>:</h4>
<p>back to "Staged queries" <a href="https://github.com/rust-lang/compiler-team/issues/391">compiler-team#391</a></p>



<a name="232770636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770636" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770636">(Apr 01 2021 at 14:57)</a>:</h4>
<p>this architecure certainly sounds attractive, as presented in the MCP</p>



<a name="232770686"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770686" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770686">(Apr 01 2021 at 14:57)</a>:</h4>
<p>the zulip stream points out some technicalities, I think</p>



<a name="232770798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770798" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770798">(Apr 01 2021 at 14:58)</a>:</h4>
<p>and there is debate as to whether a staged approach “breaks incremental"</p>



<a name="232770856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770856" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770856">(Apr 01 2021 at 14:58)</a>:</h4>
<p>I'm a bit split on <a href="https://github.com/rust-lang/compiler-team/issues/391">compiler-team#391</a>. On the one hand, lowering memory use is a worthwhile goal. On the other hand, this feels like a pretty big departure from the current query system and it feels like this could create issues down the road where we have to move queries between stages so they're available to call in certain situations (for example, diagnostics might want to run typeck queries "early" to provide suggestions about what things to import).</p>



<a name="232770871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770871" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770871">(Apr 01 2021 at 14:59)</a>:</h4>
<p>I think wg-incr-comp should discuss this</p>



<a name="232770914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770914" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770914">(Apr 01 2021 at 14:59)</a>:</h4>
<p>as in, wg-incr-comp should allocate time to discuss this in their dedicated meeting.</p>



<a name="232770936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770936" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770936">(Apr 01 2021 at 14:59)</a>:</h4>
<p>so lets leave it alone for now</p>



<a name="232770966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770966" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770966">(Apr 01 2021 at 14:59)</a>:</h4>
<p>next</p>



<a name="232770968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232770968" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232770968">(Apr 01 2021 at 14:59)</a>:</h4>
<p>- "Do not traverse the HIR to generate metadata" <a href="https://github.com/rust-lang/compiler-team/issues/392">compiler-team#392</a></p>



<a name="232771066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232771066" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232771066">(Apr 01 2021 at 15:00)</a>:</h4>
<p>associated zulip stream: <a href="#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Do.20not.20traverse.20HIR.20to.20generate.20metadata.20compiler-team.23392">https://rust-lang.zulipchat.com/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Do.20not.20traverse.20HIR.20to.20generate.20metadata.20compiler-team.23392</a></p>



<a name="232771164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232771164" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232771164">(Apr 01 2021 at 15:00)</a>:</h4>
<p>hmm</p>



<a name="232771296"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232771296" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232771296">(Apr 01 2021 at 15:01)</a>:</h4>
<p>perf says <a href="https://perf.rust-lang.org/compare.html?start=30a42735a0ff678172f66f63aca746096a717293&amp;end=2e325a37b8ff6a4cce0abcacff6dc1b64a3cf624">“oh dear”</a></p>



<a name="232771404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232771404" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232771404">(Apr 01 2021 at 15:01)</a>:</h4>
<p>There's a more recent run after some changes <a href="https://perf.rust-lang.org/compare.html?start=a8486b64b0c87dabd045453b6c81500015d122d6&amp;end=9ba2f75e36261442ace073a6eabdb12d49c2cf40">https://perf.rust-lang.org/compare.html?start=a8486b64b0c87dabd045453b6c81500015d122d6&amp;end=9ba2f75e36261442ace073a6eabdb12d49c2cf40</a></p>
<p>Edit: even more recent</p>



<a name="232771588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232771588" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232771588">(Apr 01 2021 at 15:03)</a>:</h4>
<p>when the proposal says this is “simpler"</p>



<a name="232771615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232771615" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232771615">(Apr 01 2021 at 15:03)</a>:</h4>
<p>do they mean “simpler to understand as a human” ?</p>



<a name="232771648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232771648" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232771648">(Apr 01 2021 at 15:03)</a>:</h4>
<p>or “simpler for a computer to execute” ?</p>



<a name="232771725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232771725" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232771725">(Apr 01 2021 at 15:03)</a>:</h4>
<p>well, we are over time, and I don’t think we would second this in its current state</p>



<a name="232771738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232771738" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232771738">(Apr 01 2021 at 15:03)</a>:</h4>
<p>maybe I’m wrong</p>



<a name="232771853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232771853" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232771853">(Apr 01 2021 at 15:04)</a>:</h4>
<p>I think they mean simpler to understand. Looking at the diff, the code seems more uniform than it was previously.</p>



<a name="232772015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232772015" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232772015">(Apr 01 2021 at 15:05)</a>:</h4>
<p>okay. lets leave it alone. We dont’ need to close it</p>



<a name="232772109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/232772109" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#232772109">(Apr 01 2021 at 15:05)</a>:</h4>
<p>thanks to everyone in <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> for attending! Great meeting, great to have time to work through a backlog like this. Stay safe everyone!</p>



<a name="233033438"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/%5Bweekly%5D%202021-04-01%20%2354818/near/233033438" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/238009-t-compiler/meetings/topic/.5Bweekly.5D.202021-04-01.20.2354818.html#233033438">(Apr 03 2021 at 21:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-04-01.20.2354818/near/232763334">said</a>:</p>
<blockquote>
<p>we’ll go ahead and table <a href="https://github.com/rust-lang/rust/issues/83678">#83678</a>, wait to decide on it next week.</p>
</blockquote>
<p>yes, this does fix the issue :) <a href="https://github.com/rust-lang/rustup/issues/2694#issuecomment-812918127">https://github.com/rust-lang/rustup/issues/2694#issuecomment-812918127</a></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>