<html>
<head><meta charset="utf-8"><title>x.py invocations · t-compiler/meetings · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/index.html">t-compiler/meetings</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html">x.py invocations</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="250941164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250941164" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250941164">(Aug 27 2021 at 14:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202021-08-27/near/250938056">said</a>:</p>
<blockquote>
<p>I don't... I just remember random invocations and forget them. If it's not commited to the repo, I will not use it (not as a choice, but because I lose/forget the script)</p>
</blockquote>
<p><span class="user-mention" data-user-id="124288">@oli</span> what sort of random invocations do you mean? are they something we could add an alias for in x.py maybe?</p>



<a name="250941178"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250941178" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250941178">(Aug 27 2021 at 14:38)</a>:</h4>
<p>or at least mention in the dev-guide?</p>



<a name="250947308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250947308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250947308">(Aug 27 2021 at 15:18)</a>:</h4>
<p>like... how to invoke a rustc of a specific stage while not even libcore works, or testing all <code>src/test</code> subfolders that are relevant for compiler development. Or running a specific ui test with custom flags added</p>



<a name="250947555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250947555" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250947555">(Aug 27 2021 at 15:20)</a>:</h4>
<blockquote>
<p>testing all src/test subfolders that are relevant for compiler development</p>
</blockquote>
<p>hmm, I feel like all the tests are relevant</p>



<a name="250947587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250947587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250947587">(Aug 27 2021 at 15:21)</a>:</h4>
<p>do you mean just the ones that fail most often, like <code>src/test/ui</code> and <code>src/test/run-make</code>?</p>



<a name="250947610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250947610" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250947610">(Aug 27 2021 at 15:21)</a>:</h4>
<blockquote>
<p>running a specific ui test with custom flags added</p>
</blockquote>
<p>ooh yeah that does seem tricky today</p>



<a name="250949684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250949684" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250949684">(Aug 27 2021 at 15:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/x.2Epy.20invocations/near/250947555">said</a>:</p>
<blockquote>
<blockquote>
<p>testing all src/test subfolders that are relevant for compiler development</p>
</blockquote>
<p>hmm, I feel like all the tests are relevant</p>
</blockquote>
<p>running x.py test takes many times as long as just running mir-opt,ui,incremental</p>



<a name="250949792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250949792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250949792">(Aug 27 2021 at 15:36)</a>:</h4>
<p>the others are rarely failing, running them every single time takes too much time</p>



<a name="250949835"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250949835" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250949835">(Aug 27 2021 at 15:36)</a>:</h4>
<p>I never run run-make <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="250953360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250953360" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250953360">(Aug 27 2021 at 16:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="124288">oli</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/x.2Epy.20invocations/near/250949684">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/x.2Epy.20invocations/near/250947555">said</a>:</p>
<blockquote>
<blockquote>
<p>testing all src/test subfolders that are relevant for compiler development</p>
</blockquote>
<p>hmm, I feel like all the tests are relevant</p>
</blockquote>
<p>running x.py test takes many times as long as just running mir-opt,ui,incremental</p>
</blockquote>
<p>adding <code>x.py test mir</code> seems like a useful alias</p>



<a name="250953380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250953380" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250953380">(Aug 27 2021 at 16:02)</a>:</h4>
<p>there's already things like <code>x.py doc std</code> so it's not unprecedented</p>



<a name="250953571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250953571" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250953571">(Aug 27 2021 at 16:03)</a>:</h4>
<p>That works different. <code>./x.py doc std</code> runs the doc step which contains the crate <code>std</code>. <code>./x.py doc core</code> would do the same and document <code>std</code> too.</p>



<a name="250953615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250953615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250953615">(Aug 27 2021 at 16:03)</a>:</h4>
<p>oh booo</p>



<a name="250953628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250953628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250953628">(Aug 27 2021 at 16:03)</a>:</h4>
<p>I really wish x.py were smarter within steps</p>



<a name="250953663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250953663" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250953663">(Aug 27 2021 at 16:03)</a>:</h4>
<p>I really wish x.py was smaller.</p>



<a name="250953687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250953687" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250953687">(Aug 27 2021 at 16:04)</a>:</h4>
<p>e.g. <a href="https://github.com/rust-lang/rust/issues/51748">https://github.com/rust-lang/rust/issues/51748</a> is a really silly problem to have</p>



<a name="250953735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250953735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250953735">(Aug 27 2021 at 16:04)</a>:</h4>
<p>It has a lot of complexity making it hard to find the right places to add new things.</p>



<a name="250953765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250953765" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250953765">(Aug 27 2021 at 16:04)</a>:</h4>
<p>I am <span aria-label="thumbs down" class="emoji emoji-1f44e" role="img" title="thumbs down">:thumbs_down:</span> on adding new aliases, I think it hurts us more than hels</p>



<a name="250953834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250953834" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250953834">(Aug 27 2021 at 16:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/x.2Epy.20invocations/near/250953765">said</a>:</p>
<blockquote>
<p>I am <span aria-label="thumbs down" class="emoji emoji-1f44e" role="img" title="thumbs down">:thumbs_down:</span> on adding new aliases, I think it hurts us more than hels</p>
</blockquote>
<p>hmm, hurts as in it makes x.py more complicated to maintain? or as in it's harder to use?</p>



<a name="250953892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/238009-t-compiler/meetings/topic/x.py%20invocations/near/250953892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/238009-t-compiler/meetings/topic/x.2Epy.20invocations.html#250953892">(Aug 27 2021 at 16:05)</a>:</h4>
<p>More complicated for everyone, IMO</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>