<html>
<head><meta charset="utf-8"><title>`.clone()` suggestions · t-compiler/wg-diagnostics · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/index.html">t-compiler/wg-diagnostics</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html">`.clone()` suggestions</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="274398128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/274398128" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#274398128">(Mar 07 2022 at 14:25)</a>:</h4>
<p>Hey! I'm working on improving suggestions for moved-out errors for cases like these:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">fn</span> <span class="nf">duplicate</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">t</span>: <span class="nc">T</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">t</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Currently we only suggest adding <code>T: Copy</code> bound, however sometime it's a better solution to use <code>.clone()</code> instead. So, I want to add a suggestion like this:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>help: Alternatively, consider cloning the value
  |
2 |     [t.clone(), t];
  |       ++++++++
</code></pre></div>
<p>And I have a couple of questions about this</p>
<ol>
<li>Is this ok? Wouldn't it make the error too big?</li>
</ol>
<div class="spoiler-block"><div class="spoiler-header">
<p>example</p>
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>   error[E0382]: use of moved value: `t`
 --&gt; t.rs:2:9
  |
1 | fn duplicate&lt;T&gt;(t: T) {
  |                 - move occurs because `t` has type `T`, which does not implement the `Copy` trait
2 |     [t, t];
  |      -  ^ value used here after move
  |      |
  |      value moved here
  |
help: consider restricting type parameter `T`
  |
1 | fn duplicate&lt;T: Copy&gt;(t: T) {
  |               ++++++
help: Alternatively, consider cloning the value
  |
2 |     [t.clone(), t];
  |       ++++++++
</code></pre></div>
</div></div>
<ol start="2">
<li>How to test this with rustfix? it applies both suggestions, but only one of them should be applied</li>
</ol>



<a name="274402130"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/274402130" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#274402130">(Mar 07 2022 at 14:53)</a>:</h4>
<p>are there any other errors that have multiple "helps" for a single error?</p>



<a name="274404182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/274404182" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> flip1995 <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#274404182">(Mar 07 2022 at 15:06)</a>:</h4>
<ol>
<li>Not sure about the "too big" part. You would also have to add a suggestion to add a <code>T: Clone</code> bound in order to be able to call <code>.clone()</code>.  I think the question should be more about whether it adds useful information, rather than whether it is too long. This is of course a trait off. I don't really have an answer to it though.</li>
<li><code>rustfix</code> is not (fully?) able to apply multi-part suggestions at the moment. See <a href="https://github.com/rust-lang/rustfix/issues/141">rustfix#141</a> and <a href="https://github.com/rust-lang/rust/issues/53934">#53934</a>. The TL;DR of this is: it is not clear if all parts of a multipart suggestion should be applied or which of the multple suggestions should be applied. The later would be true for your planned suggestion.</li>
</ol>



<a name="274431543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/274431543" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#274431543">(Mar 07 2022 at 17:58)</a>:</h4>
<p>It's unfortunate that our current input for rustfix is insufficient for properly processing multiple suggestions in all cases.</p>



<a name="274432080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/274432080" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#274432080">(Mar 07 2022 at 18:01)</a>:</h4>
<p>What have been previously done in similar cases? I see the following options:</p>
<ol>
<li>Do not show both suggestions at the same time (eg choose <code>.clone()</code> if the type is already <code>Clone</code> or if it can't be <code>Copy</code>)</li>
<li>Make both suggestions not machine applicable </li>
<li>Make one of the suggestions not machine applicable (will this make <code>rustfix</code> apply only the machine applicable one?)</li>
</ol>



<a name="274442363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/274442363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Goulet (compiler-errors) <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#274442363">(Mar 07 2022 at 19:09)</a>:</h4>
<blockquote>
<p>Make one of the suggestions not machine applicable (will this make rustfix apply only the machine applicable one?)</p>
</blockquote>
<p>This one will work, I've done this before I think. Though I think that getting only one of the fixups to show would probably be best...</p>



<a name="274442397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/274442397" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Goulet (compiler-errors) <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#274442397">(Mar 07 2022 at 19:10)</a>:</h4>
<p>On the side, I don't know if adding <code>: Copy</code> bound to a generic should ever be MachineApplicable, since it changes what type the function accepts.</p>



<a name="274778046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/274778046" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#274778046">(Mar 10 2022 at 01:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256342">bstrie</span> <a href="#narrow/stream/147480-t-compiler.2Fwg-diagnostics/topic/.60.2Eclone.28.29.60.20suggestions/near/274402130">said</a>:</p>
<blockquote>
<p>are there any other errors that have multiple "helps" for a single error?</p>
</blockquote>
<p>Yes, there are a few.</p>



<a name="274778372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/274778372" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#274778372">(Mar 10 2022 at 01:27)</a>:</h4>
<p><span class="user-mention" data-user-id="273349">@Waffle Lapkin</span> what I would do is twofold:</p>
<p>Handle the following case by suggesting only <code>t.clone()</code>:</p>
<div class="codehilite"><pre><span></span><code>fn duplicate&lt;T: Clone&gt;(t: T) {
    [t, t];
}
</code></pre></div>
<p>and in the case you're working on:</p>
<div class="codehilite"><pre><span></span><code>help: alternatively, consider cloning the value
  |
1 ~ fn duplicate&lt;T: Clone&gt;(t: T) {
2 ~     [t.clone(), t];
</code></pre></div>
<p>(Although the later might not look as good if the .clone() call is too far apart from the trait bound and might confuse people, in that case maybe having two separate suggestions might work better:)</p>
<div class="codehilite"><pre><span></span><code>help: alternatively, consider making the value cloneable...
  |
1 | fn duplicate&lt;T: Clone&gt;(t: T) {
  |               ++++++++
help: ...and cloning the value
  |
2 |     [t.clone(), t];
  |       ++++++++
</code></pre></div>
<p>I'm fine with the verbosity of these examples.</p>



<a name="274778460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/274778460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#274778460">(Mar 10 2022 at 01:28)</a>:</h4>
<blockquote>
<p>How to test this with rustfix? it applies both suggestions, but only one of them should be applied</p>
</blockquote>
<p>Either let all the suggestions be applied (which is fine usually), or rely exclusively on the visual .stderr output <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="274808236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/274808236" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#274808236">(Mar 10 2022 at 09:16)</a>:</h4>
<p>I did <code>.clone()</code> and <code>: Clone</code> in separate suggestions because it was easier at the moment, but it can be merged with a little refactoring.</p>



<a name="274809028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/274809028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#274809028">(Mar 10 2022 at 09:24)</a>:</h4>
<p>The main problem I'm currently having is code like this:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">fn</span> <span class="nf">duplicate</span><span class="o">&lt;</span><span class="n">T</span>: <span class="nb">Clone</span><span class="o">&gt;</span><span class="p">(</span><span class="n">t</span>: <span class="nc">T</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">S</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="n">t</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>If I understand correctly, the only thing I have at the moment of reporting the error is span of <code>t</code> inside of <code>S{}</code>. My naive <code>span.shrink_to_hi(), ".clone()"</code> suggests <code>S { t.clone() }</code> which is problematic.</p>
<p><span class="user-mention" data-user-id="426609">@Michael Goulet (compiler-errors)</span> hinted me that there is a function that makes similar suggestions: <a href="https://github.com/rust-lang/rust/blob/2f8d1a835b4e7feaf625f74d0d5cb9b84dbc845a/compiler/rustc_typeck/src/check/demand.rs#L507"><code>maybe_get_struct_pattern_shorthand_field</code></a>, but it needs HIR (<code>&amp;hir::Expr&lt;'_&gt;</code>) and I can't find any way how can I get it from span/the information I have about moves.</p>



<a name="275574258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/275574258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#275574258">(Mar 16 2022 at 20:42)</a>:</h4>
<p><span class="user-mention" data-user-id="273349">@Waffle Lapkin</span>  Do you have a piece of code to show me? Do you no longer have an expr or HirId at hand? If you don't, an invalid suggestion _might_ be fine, depending on how often this happens. Ideally we would change the code to make the expr or parent expr available.</p>



<a name="275576222"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/275576222" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Goulet (compiler-errors) <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#275576222">(Mar 16 2022 at 20:58)</a>:</h4>
<p>I think they're making changes in <code>rustc_borrowck/src/diagnostics/conflict_errors.rs</code>, so there's no HIR information available, just a span. I think it may be difficult to pipe HIR information into the MIR body because of the not-1:1 correlation between MIR statements and HIR exprs...</p>



<a name="275576237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/275576237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Goulet (compiler-errors) <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#275576237">(Mar 16 2022 at 20:58)</a>:</h4>
<p>I wonder if we could at least mark MIR assignment statements with a flag that signifies if it originated from a struct-pattern shorthand, though that might be overkill for use in only one fixup in borrowck.</p>



<a name="275576603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/275576603" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Goulet (compiler-errors) <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#275576603">(Mar 16 2022 at 21:01)</a>:</h4>
<p>Perhaps instead of a suggestion, the diagnostic could just use a note that describes something like "use <code>clone</code> on this expression"? though I'm not sure if span_notes of that nature are discouraged in favor for a span_suggestion, even if it's incorrect sometimes.</p>



<a name="275576850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/275576850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Goulet (compiler-errors) <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#275576850">(Mar 16 2022 at 21:02)</a>:</h4>
<p>(also I'm curious if other suggestions in <code>report_use_of_moved_or_uninitialized</code> are similarly broken when it comes to struct field shorthand...)</p>



<a name="275578792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/275578792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#275578792">(Mar 16 2022 at 21:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="426609">Michael Goulet (compiler-errors)</span> <a href="#narrow/stream/147480-t-compiler.2Fwg-diagnostics/topic/.60.2Eclone.28.29.60.20suggestions/near/275576850">said</a>:</p>
<blockquote>
<p>(also I'm curious if other suggestions in <code>report_use_of_moved_or_uninitialized</code> are similarly broken when it comes to struct field shorthand...)</p>
</blockquote>
<p>Very likely. We fix them as they come up (if we can)</p>



<a name="275578822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/275578822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#275578822">(Mar 16 2022 at 21:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="426609">Michael Goulet (compiler-errors)</span> <a href="#narrow/stream/147480-t-compiler.2Fwg-diagnostics/topic/.60.2Eclone.28.29.60.20suggestions/near/275576603">said</a>:</p>
<blockquote>
<p>Perhaps instead of a suggestion, the diagnostic could just use a note that describes something like "use <code>clone</code> on this expression"? though I'm not sure if span_notes of that nature are discouraged in favor for a span_suggestion, even if it's incorrect sometimes.</p>
</blockquote>
<p>We could, but I think for those cases lets provide a structured suggestion marked as MaybeIncorrect</p>



<a name="275578905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/275578905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#275578905">(Mar 16 2022 at 21:20)</a>:</h4>
<p>I do see that there's a <code>mir_hir_id</code> there available, but don't know what it's pointing at</p>



<a name="275586475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/275586475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#275586475">(Mar 16 2022 at 22:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="119031">Esteban Küber</span> <a href="#narrow/stream/147480-t-compiler.2Fwg-diagnostics/topic/.60.2Eclone.28.29.60.20suggestions/near/275574258">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="273349">Waffle Lapkin</span>  Do you have a piece of code to show me? Do you no longer have an expr or HirId at hand? If you don't, an invalid suggestion _might_ be fine, depending on how often this happens. Ideally we would change the code to make the expr or parent expr available.</p>
</blockquote>
<p>I can make a WIP PR to show you what I've for so far, though ideally <a href="https://github.com/rust-lang/rust/pull/94698">https://github.com/rust-lang/rust/pull/94698</a> should be merged first</p>



<a name="275916174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/275916174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#275916174">(Mar 19 2022 at 15:47)</a>:</h4>
<p>I've made a PR: <a href="https://github.com/rust-lang/rust/pull/95115">https://github.com/rust-lang/rust/pull/95115</a>!</p>



<a name="275916441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/%60.clone%28%29%60%20suggestions/near/275916441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Waffle Lapkin <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/.60.2Eclone().60.20suggestions.html#275916441">(Mar 19 2022 at 15:54)</a>:</h4>
<p><em>oh no, I forgot to check tidy</em></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>