<html>
<head><meta charset="utf-8"><title>empowering better &quot;cannot find type&quot; debugging? · t-compiler/wg-diagnostics · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/index.html">t-compiler/wg-diagnostics</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/empowering.20better.20.22cannot.20find.20type.22.20debugging.3F.html">empowering better &quot;cannot find type&quot; debugging?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="261044842"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/empowering%20better%20%22cannot%20find%20type%22%20debugging%3F/near/261044842" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt H <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/empowering.20better.20.22cannot.20find.20type.22.20debugging.3F.html#261044842">(Nov 10 2021 at 19:51)</a>:</h4>
<p>I'm looking at code that unexpectedly fails to build with <code>error[E0412]: cannot find type </code>my_symbol<code> in this scope</code>. apparently my symbol is not in the namespace I expected it to be in, and the namespace rustc suggests i add a <code>use</code> directive for is one where I didn't expect the symbol to be exported from. I'm wondering if there's more information rustc can emit (perhaps behind extra flags) to help me figure out what's going on</p>
<p>I don't remember ever seeing rustc list two options when suggesting <code>use</code> directives - is it just picking the first one, and if so could we optionally show all places where symbols of that name are found? my other idea was to just dump a .json of the whole namespace tree for the user to weed through. thoughts?</p>
<p>(the specific thing I'm trying to do is build libstd with the Buck build system using build files generated by <a href="https://github.com/facebookincubator/reindeer">https://github.com/facebookincubator/reindeer</a> and I think Buck is not handling the way libcore imports stdarch by hardcoding a relative path to its <code>mod.rs</code> well. that configuration is unsupported, but it means I can't use <code>cargo doc</code> since I'm not building with Cargo)</p>



<a name="261167770"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/empowering%20better%20%22cannot%20find%20type%22%20debugging%3F/near/261167770" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/empowering.20better.20.22cannot.20find.20type.22.20debugging.3F.html#261167770">(Nov 11 2021 at 18:15)</a>:</h4>
<p>Multiple suggestions are technically possible, but I think that <em>that</em> suggestion in particular picks up the closest match only. I thought that that error also had a span pointing at the original definition, when possible.</p>



<a name="261167841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/empowering%20better%20%22cannot%20find%20type%22%20debugging%3F/near/261167841" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/empowering.20better.20.22cannot.20find.20type.22.20debugging.3F.html#261167841">(Nov 11 2021 at 18:15)</a>:</h4>
<p>Are you ok with relying on nightly-only -Z flags, <span class="user-mention" data-user-id="456484">@Matt H</span>?</p>



<a name="261185462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/empowering%20better%20%22cannot%20find%20type%22%20debugging%3F/near/261185462" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt H <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/empowering.20better.20.22cannot.20find.20type.22.20debugging.3F.html#261185462">(Nov 11 2021 at 21:17)</a>:</h4>
<p>what do you mean? are there already -Z flags that exist that i could use, or do I think a hypothetical new flag could be kept nightly-only? -Z is fine with me either way (and actually i realize i never checked if -Z flags exist already!)</p>



<a name="261959285"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/empowering%20better%20%22cannot%20find%20type%22%20debugging%3F/near/261959285" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/empowering.20better.20.22cannot.20find.20type.22.20debugging.3F.html#261959285">(Nov 18 2021 at 17:17)</a>:</h4>
<p>I meant to add a new <code>-Z</code> flag to do this: stabilizing such a thing would be a lengthy process, but having a nightly flag to dump this info would only need an MCP to t-compiler that would likely be accepted quickly</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>