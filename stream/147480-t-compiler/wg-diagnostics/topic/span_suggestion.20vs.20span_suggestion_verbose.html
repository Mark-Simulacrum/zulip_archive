<html>
<head><meta charset="utf-8"><title>span_suggestion vs span_suggestion_verbose · t-compiler/wg-diagnostics · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/index.html">t-compiler/wg-diagnostics</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion.20vs.20span_suggestion_verbose.html">span_suggestion vs span_suggestion_verbose</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="263689644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion%20vs%20span_suggestion_verbose/near/263689644" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rukai <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion.20vs.20span_suggestion_verbose.html#263689644">(Dec 04 2021 at 07:08)</a>:</h4>
<p>Should span_suggestion_verbose be used over span_suggestion whenever possible?<br>
I.e if a suggestion can be reasonably presented as a diff, it should be presented as a diff?</p>



<a name="264032659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion%20vs%20span_suggestion_verbose/near/264032659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion.20vs.20span_suggestion_verbose.html#264032659">(Dec 07 2021 at 17:02)</a>:</h4>
<p>It depends a lot on context, sadly :-/<br>
There's no official guideline, only "vibes" ^_^'</p>



<a name="264032782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion%20vs%20span_suggestion_verbose/near/264032782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion.20vs.20span_suggestion_verbose.html#264032782">(Dec 07 2021 at 17:03)</a>:</h4>
<p>My rule of thumb is "see what the output looks like in the test cases, if the increased verbosity will make it <em>clearer</em> to most people what the change needs to be, use <code>_verbose</code>"</p>



<a name="264032842"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion%20vs%20span_suggestion_verbose/near/264032842" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion.20vs.20span_suggestion_verbose.html#264032842">(Dec 07 2021 at 17:03)</a>:</h4>
<p>otherwise, the inline version would be preferred (that was the only thing we used to have originally)</p>



<a name="264032866"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion%20vs%20span_suggestion_verbose/near/264032866" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion.20vs.20span_suggestion_verbose.html#264032866">(Dec 07 2021 at 17:03)</a>:</h4>
<p><span class="user-mention" data-user-id="426247">@Rukai</span></p>



<a name="264032913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion%20vs%20span_suggestion_verbose/near/264032913" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion.20vs.20span_suggestion_verbose.html#264032913">(Dec 07 2021 at 17:03)</a>:</h4>
<p>what counts as "<em>clearer</em>", is... ill defined</p>



<a name="264033062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion%20vs%20span_suggestion_verbose/near/264033062" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion.20vs.20span_suggestion_verbose.html#264033062">(Dec 07 2021 at 17:04)</a>:</h4>
<p>for code deletion, <code>_verbose</code> is much clearer now, for replacements it depends on how big the snippet might be, for additions <code>_verbose</code> is almost always better.</p>



<a name="264094912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion%20vs%20span_suggestion_verbose/near/264094912" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rukai <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion.20vs.20span_suggestion_verbose.html#264094912">(Dec 08 2021 at 00:21)</a>:</h4>
<p>thanks, that helps a lot!<br>
If you have any examples off the top of your head, where non _verbose is used and it should be used over _verbose that might help.<br>
I get the feeling a lot of non _verbose usages just havent been moved to _verbose yet.</p>



<a name="264106050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion%20vs%20span_suggestion_verbose/near/264106050" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/147480-t-compiler/wg-diagnostics/topic/span_suggestion.20vs.20span_suggestion_verbose.html#264106050">(Dec 08 2021 at 03:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="119031">Esteban Küber</span> <a href="#narrow/stream/147480-t-compiler.2Fwg-diagnostics/topic/span_suggestion.20vs.20span_suggestion_verbose/near/264033062">said</a>:</p>
<blockquote>
<p>for code deletion, <code>_verbose</code> is much clearer now, for replacements it depends on how big the snippet might be, for additions <code>_verbose</code> is almost always better.</p>
</blockquote>
<p>It would be good to add all the listed recommendations to the doc comments of <code>fn span_suggestion(_verbose)</code>.<br>
I recently reviewed a PR using the verbose version, and I couldn't understand what is the difference with the non-verbose version and which one should be preferred.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>