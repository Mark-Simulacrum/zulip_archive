<html>
<head><meta charset="utf-8"><title>✔ std::slice::partition · t-libs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/index.html">t-libs</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.E2.9C.94.20std.3A.3Aslice.3A.3Apartition.html">✔ std::slice::partition</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="256552238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%E2%9C%94%20std%3A%3Aslice%3A%3Apartition/near/256552238" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mario Carneiro <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.E2.9C.94.20std.3A.3Aslice.3A.3Apartition.html#256552238">(Oct 07 2021 at 10:03)</a>:</h4>
<p>I suppose I can just use <code>sort_by</code> with boolean key although that's kind of overkill</p>



<a name="256552597"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%E2%9C%94%20std%3A%3Aslice%3A%3Apartition/near/256552597" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.E2.9C.94.20std.3A.3Aslice.3A.3Apartition.html#256552597">(Oct 07 2021 at 10:06)</a>:</h4>
<p>eh, that's more or less what you need anyway if you want it to be stable</p>



<a name="256553513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%E2%9C%94%20std%3A%3Aslice%3A%3Apartition/near/256553513" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.E2.9C.94.20std.3A.3Aslice.3A.3Apartition.html#256553513">(Oct 07 2021 at 10:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> has marked this topic as resolved.</p>



<a name="256901012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%E2%9C%94%20std%3A%3Aslice%3A%3Apartition/near/256901012" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tavian Barnes <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.E2.9C.94.20std.3A.3Aslice.3A.3Apartition.html#256901012">(Oct 09 2021 at 21:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="271719">Mario Carneiro</span> <a href="#narrow/stream/219381-t-libs/topic/.E2.9C.94.20std.3A.3Aslice.3A.3Apartition/near/256552047">said</a>:</p>
<blockquote>
<p>... it's not possible to implement a stable partition without additional allocation?</p>
</blockquote>
<p>I think it is possible, although I don't know how practical the algorithm is: <a href="https://link.springer.com/article/10.1007%2FBF01994842">https://link.springer.com/article/10.1007%2FBF01994842</a></p>



<a name="256903416"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%E2%9C%94%20std%3A%3Aslice%3A%3Apartition/near/256903416" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans Kratz <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.E2.9C.94.20std.3A.3Aslice.3A.3Apartition.html#256903416">(Oct 09 2021 at 22:22)</a>:</h4>
<p>Interesting. Full paper: <a href="http://hjemmesider.diku.dk/~jyrki/Paper/KP1992bJ.pdf">http://hjemmesider.diku.dk/~jyrki/Paper/KP1992bJ.pdf</a></p>



<a name="256908732"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%E2%9C%94%20std%3A%3Aslice%3A%3Apartition/near/256908732" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.E2.9C.94.20std.3A.3Aslice.3A.3Apartition.html#256908732">(Oct 09 2021 at 23:57)</a>:</h4>
<p>My statement about that possibility was in the context of a generic <code>Iterator</code></p>



<a name="256908753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%E2%9C%94%20std%3A%3Aslice%3A%3Apartition/near/256908753" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.E2.9C.94.20std.3A.3Aslice.3A.3Apartition.html#256908753">(Oct 09 2021 at 23:57)</a>:</h4>
<p>I'm sure there's more you can do on random-access slices</p>



<a name="256908847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%E2%9C%94%20std%3A%3Aslice%3A%3Apartition/near/256908847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.E2.9C.94.20std.3A.3Aslice.3A.3Apartition.html#256908847">(Oct 09 2021 at 23:59)</a>:</h4>
<p>just like we don't support <code>sort</code> on iterators, whereas that paper is treating <code>partition</code> as "stable 0-1 sorting"</p>



<a name="256937133"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%E2%9C%94%20std%3A%3Aslice%3A%3Apartition/near/256937133" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.E2.9C.94.20std.3A.3Aslice.3A.3Apartition.html#256937133">(Oct 10 2021 at 08:29)</a>:</h4>
<p>that might be a better implementation for slices though. maybe we could specialize sort_by_key to use that algorithm when the keys are bools</p>



<a name="257145452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%E2%9C%94%20std%3A%3Aslice%3A%3Apartition/near/257145452" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.E2.9C.94.20std.3A.3Aslice.3A.3Apartition.html#257145452">(Oct 12 2021 at 03:44)</a>:</h4>
<p><code>sort</code> already looks for runs and such, so it might do pretty well, actually</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>