<html>
<head><meta charset="utf-8"><title>Prelude Changes in 2021? · t-libs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/index.html">t-libs</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html">Prelude Changes in 2021?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="205541225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/205541225" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#205541225">(Jul 30 2020 at 22:44)</a>:</h4>
<p>Are there plans to expand the prelude in 2021 edition?</p>
<p>I know that currently "editions don't do that", but it seems possible to make the necessary changes to allow for another prelude to be part of 2021, and have it all ready in time.</p>



<a name="205541390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/205541390" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#205541390">(Jul 30 2020 at 22:46)</a>:</h4>
<p>I think it's a possibility. We've got this issue to track it: <a href="https://github.com/rust-lang/rust/issues/65512">https://github.com/rust-lang/rust/issues/65512</a></p>



<a name="205668024"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/205668024" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#205668024">(Aug 01 2020 at 06:31)</a>:</h4>
<p>Oh, ha, I just opened this earlier today: <a href="https://github.com/rust-lang/lang-team/issues/44">https://github.com/rust-lang/lang-team/issues/44</a></p>



<a name="207718105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207718105" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207718105">(Aug 22 2020 at 10:29)</a>:</h4>
<p>Have we ever had discussion about possibly removing/hiding deprecated APIs in new editions? Possibly even as simple as <code>#[doc(hidden)]</code>-ing them?</p>



<a name="207722560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207722560" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207722560">(Aug 22 2020 at 12:37)</a>:</h4>
<p>there was a discussion about adding a 'pending deprecation' attribute if I can find it</p>



<a name="207722626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207722626" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207722626">(Aug 22 2020 at 12:38)</a>:</h4>
<p><a href="#narrow/stream/219381-t-libs/topic/Deprecate.20.7Binteger.7D.3A.3Amax_value.20and.20min_value.20methods">https://rust-lang.zulipchat.com/#narrow/stream/219381-t-libs/topic/Deprecate.20.7Binteger.7D.3A.3Amax_value.20and.20min_value.20methods</a></p>



<a name="207728136"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207728136" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207728136">(Aug 22 2020 at 15:03)</a>:</h4>
<p>FWIW, we already have the "deprecated_in_future" lint and you can deprecate something for a future rustc version.</p>



<a name="207737956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207737956" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207737956">(Aug 22 2020 at 19:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="204346">Ashley Mannix</span> <a href="#narrow/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F/near/207718105">said</a>:</p>
<blockquote>
<p>Have we ever had discussion about possibly removing/hiding deprecated APIs in new editions? Possibly even as simple as <code>#[doc(hidden)]</code>-ing them?</p>
</blockquote>
<p>Personally, I think that as long as its possible for code that uses such APIs to still compile, we should continue to document them. Otherwise, someone reading existing code can't look up what those APIs do.</p>



<a name="207743990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207743990" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207743990">(Aug 22 2020 at 22:05)</a>:</h4>
<p>Small detail, doc(hidden) doesn't prevent doc comments. So it would be possible to maintain doc comments while also strongly discouraging new use by not showing it in the main generated doc.</p>
<p>I do think that's probably a step too far, but it would work.</p>



<a name="207745782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207745782" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207745782">(Aug 22 2020 at 23:01)</a>:</h4>
<p><span class="user-mention" data-user-id="224471">@Lokathor</span> I'm aware, but my point was that people wouldn't find that documentation.</p>



<a name="207745850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207745850" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207745850">(Aug 22 2020 at 23:03)</a>:</h4>
<p>Ah, i just open up modules and read the source often enough, but i guess most people might not.</p>



<a name="207745955"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207745955" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207745955">(Aug 22 2020 at 23:06)</a>:</h4>
<p>Use of the deprecated APIs is already strongly discouraged by compiler being super loud about you using them.</p>



<a name="207746286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207746286" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207746286">(Aug 22 2020 at 23:16)</a>:</h4>
<p>I think at some point we’ll need to hide some deprecated APIs since they’re going to accumulate effectively until the end of time. Maybe we could look at an edition flag to rustdoc so picking an old edition shows those old deprecated APIs too?</p>



<a name="207746298"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207746298" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207746298">(Aug 22 2020 at 23:17)</a>:</h4>
<p>I’m trying to think of ways we can make the most of edition releases for the standard library since we can’t really do much 😄</p>



<a name="207746350"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207746350" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207746350">(Aug 22 2020 at 23:18)</a>:</h4>
<p>collapsing them by default could go a long way towards decluttering. That said I don't think its a good idea to think about how to address problem (docs cluttered with deprecated items to the point of unreadability) that we don't yet have.</p>



<a name="207746365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207746365" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207746365">(Aug 22 2020 at 23:19)</a>:</h4>
<p>mostly because trying to figure it now unnecessarily restricts the solution space.</p>



<a name="207746428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207746428" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207746428">(Aug 22 2020 at 23:21)</a>:</h4>
<p>That’s fair. I don’t know if we want to try take on splitting up <code>std::sync</code> by the time the 2021 edition rolls around (there’s no RFC or anything for it), but if we did that might be a good one to look at and see what clutter it would produce</p>



<a name="207759273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Prelude%20Changes%20in%202021%3F/near/207759273" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> XAMPPRocky <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Prelude.20Changes.20in.202021.3F.html#207759273">(Aug 23 2020 at 06:37)</a>:</h4>
<p>A solution on the rustdoc side might be having a dedicated “deprecated functions” section that’s collapsed by default.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>