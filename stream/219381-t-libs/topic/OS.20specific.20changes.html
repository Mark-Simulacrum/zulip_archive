<html>
<head><meta charset="utf-8"><title>OS specific changes · t-libs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/index.html">t-libs</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/OS.20specific.20changes.html">OS specific changes</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="243082550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/OS%20specific%20changes/near/243082550" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Denton <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/OS.20specific.20changes.html#243082550">(Jun 17 2021 at 20:48)</a>:</h4>
<p>I think it was mentioned somewhere that the libs team might discuss the policy around potential breakage for OS specific code? I mean, in terms of having a rough policy about the extent to which it is acceptable to introduce changes that could (at least hypothetically) break someone's code. Sorry if this has already been explained elsewhere. I'm struggling to find if outcomes of t-libs meetings are documented anywhere or not.</p>
<p>I have a particular interest in this because there are a number of issues with <code>sys/windows</code> and I'd prefer not to annoy the whole libs team every single time I make a PR. They seem rather busy already!</p>



<a name="243097502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/OS%20specific%20changes/near/243097502" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/OS.20specific.20changes.html#243097502">(Jun 17 2021 at 23:13)</a>:</h4>
<p>we don't really have a clear policy here. i think it'd be quite hard to have a general policy for these things.<br>
do you have some examples of things you might want to break?</p>



<a name="243125058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/OS%20specific%20changes/near/243125058" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Denton <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/OS.20specific.20changes.html#243125058">(Jun 18 2021 at 07:28)</a>:</h4>
<p>That's fine. I was more looking for some general idea of what sort of behaviour is guaranteed vs. what can be changed. So that I don't waste everybody's time. For example, command line argument parsing. In ~2008 Microsoft slightly tweaked the algorithm they use for parsing arguments but Rust still uses the older algorithm. Another example is file path handling. Rust currently has very limited understanding of different types of Windows paths and so it would be great if Rust could handle them more intelligently. But doing so might result in changing behaviour, even if the previous behaviour was wrong.</p>



<a name="243131145"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/OS%20specific%20changes/near/243131145" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/OS.20specific.20changes.html#243131145">(Jun 18 2021 at 08:34)</a>:</h4>
<p><span class="user-mention" data-user-id="260325">@Chris Denton</span> both of those sound like changes we should make, although carefully.</p>



<a name="243131216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/OS%20specific%20changes/near/243131216" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/OS.20specific.20changes.html#243131216">(Jun 18 2021 at 08:35)</a>:</h4>
<p>just like your environment variable fix (thanks for that :) )</p>



<a name="243132602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/OS%20specific%20changes/near/243132602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Denton <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/OS.20specific.20changes.html#243132602">(Jun 18 2021 at 08:47)</a>:</h4>
<p>Thanks! I guess I'm just feeling overly nervous at the moment.</p>



<a name="243143758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/OS%20specific%20changes/near/243143758" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/OS.20specific.20changes.html#243143758">(Jun 18 2021 at 10:47)</a>:</h4>
<p>if you open an issue on the <code>libs-team</code> repository describing all the changes you want to make, we can discuss your plans in a meeting and make a decision about which changes might be a problem, and which would be fine to make.<br>
(this is not a requirement, but might save you a lot of time implementing some change, and gives us a good overview of where you're going with your PRs)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>