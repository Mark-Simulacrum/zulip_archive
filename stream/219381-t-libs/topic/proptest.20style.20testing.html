<html>
<head><meta charset="utf-8"><title>proptest style testing · t-libs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/index.html">t-libs</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/proptest.20style.20testing.html">proptest style testing</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="258633074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/proptest%20style%20testing/near/258633074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jane Lusby [she/her] <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/proptest.20style.20testing.html#258633074">(Oct 21 2021 at 23:22)</a>:</h4>
<p>Does anyone know if we have any tests for std APIs that test specific properties on an API and then share inputs across multiple tests?</p>
<p>For context, I've run into two different PRs today where I wanted to write a proptest style test encoding an invariant that should be upheld which I could then plug into some existing set of useful inputs, doesn't necessarily have to be randomly generated or anything</p>



<a name="258633129"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/proptest%20style%20testing/near/258633129" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jane Lusby [she/her] <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/proptest.20style.20testing.html#258633129">(Oct 21 2021 at 23:23)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/87339#discussion_r717773993">https://github.com/rust-lang/rust/pull/87339#discussion_r717773993</a> is the first example, where I'd like to be able to write that assert as a test and then plug in a bunch of different Paths without having to copy interesting examples of paths from other tests</p>



<a name="258633268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/proptest%20style%20testing/near/258633268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jane Lusby [she/her] <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/proptest.20style.20testing.html#258633268">(Oct 21 2021 at 23:24)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/83233#issuecomment-949069431">https://github.com/rust-lang/rust/pull/83233#issuecomment-949069431</a> is the other one, where I wanted to be able to test different combinations of M and N</p>



<a name="258633274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/proptest%20style%20testing/near/258633274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jane Lusby [she/her] <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/proptest.20style.20testing.html#258633274">(Oct 21 2021 at 23:24)</a>:</h4>
<p>tho honestly in retrospect the second one is a bad example</p>



<a name="258680237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/proptest%20style%20testing/near/258680237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/proptest.20style.20testing.html#258680237">(Oct 22 2021 at 08:37)</a>:</h4>
<p>the log10 integer tests brute-force the value domain of some smaller integer types</p>



<a name="258680334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/proptest%20style%20testing/near/258680334" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/proptest.20style.20testing.html#258680334">(Oct 22 2021 at 08:38)</a>:</h4>
<p>but they don't share inputs across tests</p>



<a name="258680913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/proptest%20style%20testing/near/258680913" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/proptest.20style.20testing.html#258680913">(Oct 22 2021 at 08:43)</a>:</h4>
<blockquote>
<p>I'd like to be able to write that assert as a test and then plug in a bunch of different Paths without having to copy interesting examples of paths from other tests</p>
</blockquote>
<p>Doesn't <code>path/tests.rs</code> already do that? a macro driving several tests invoked with many different parameters.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>