<html>
<head><meta charset="utf-8"><title>When is a panic a &quot;breaking change&quot;? · t-libs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/index.html">t-libs</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/When.20is.20a.20panic.20a.20.22breaking.20change.22.3F.html">When is a panic a &quot;breaking change&quot;?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="258438090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/When%20is%20a%20panic%20a%20%22breaking%20change%22%3F/near/258438090" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/When.20is.20a.20panic.20a.20.22breaking.20change.22.3F.html#258438090">(Oct 20 2021 at 20:25)</a>:</h4>
<p>Hello, I sat in on the T-libs-api meeting today, and there seemed to be an almost philosophical question coming up: "What measure is a <code>panic!</code> with respect to Rust stability?" I figured I'd ask that here, directly.</p>
<p>For reference, these RFCs offer the biggest definition of the conventions for thinking about Rust stability and plot a path for "stability without stagnation":</p>
<ul>
<li><a href="https://rust-lang.github.io/rfcs/1105-api-evolution.html">https://rust-lang.github.io/rfcs/1105-api-evolution.html</a></li>
<li><a href="https://rust-lang.github.io/rfcs/1122-language-semver.html">https://rust-lang.github.io/rfcs/1122-language-semver.html</a></li>
</ul>



<a name="258439028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/When%20is%20a%20panic%20a%20%22breaking%20change%22%3F/near/258439028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/When.20is.20a.20panic.20a.20.22breaking.20change.22.3F.html#258439028">(Oct 20 2021 at 20:30)</a>:</h4>
<p>There are two major possible cases:</p>
<ul>
<li>Removing a panic and returning a value</li>
<li>Adding a panic</li>
</ul>
<p>These also are subdivided between things which already return an Option or Result case and those which don't.</p>



<a name="258441120"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/When%20is%20a%20panic%20a%20%22breaking%20change%22%3F/near/258441120" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/When.20is.20a.20panic.20a.20.22breaking.20change.22.3F.html#258441120">(Oct 20 2021 at 20:44)</a>:</h4>
<p>I can imagine cases in which either is those is a breaking change, and cases in which either of them isn't.</p>



<a name="258441198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/When%20is%20a%20panic%20a%20%22breaking%20change%22%3F/near/258441198" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/When.20is.20a.20panic.20a.20.22breaking.20change.22.3F.html#258441198">(Oct 20 2021 at 20:45)</a>:</h4>
<p>Depends on whether people 1) can and 2) do count on the presence/absence of the panic.</p>



<a name="258441385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/When%20is%20a%20panic%20a%20%22breaking%20change%22%3F/near/258441385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/When.20is.20a.20panic.20a.20.22breaking.20change.22.3F.html#258441385">(Oct 20 2021 at 20:46)</a>:</h4>
<p>Indeed, I don't think we're going to find "hard and fast" rules here. However, I don't think we even have clearly defined principles, and panics are, well, basically an exception.</p>



<a name="258442011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/When%20is%20a%20panic%20a%20%22breaking%20change%22%3F/near/258442011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jubilee <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/When.20is.20a.20panic.20a.20.22breaking.20change.22.3F.html#258442011">(Oct 20 2021 at 20:50)</a>:</h4>
<p>By having a culture in favor of <strong>ahem</strong> "calm" APIs instead of "panicky" ones, we have managed to basically ignore the question for some time.</p>



<a name="258442218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/When%20is%20a%20panic%20a%20%22breaking%20change%22%3F/near/258442218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/When.20is.20a.20panic.20a.20.22breaking.20change.22.3F.html#258442218">(Oct 20 2021 at 20:51)</a>:</h4>
<p>Right. We tend to reserve panics for things that seem so wrong that the idea of proceeding makes little to no sense. And even then, there seems to be more of a push to remove panics than to add them.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>