<html>
<head><meta charset="utf-8"><title>BinaryHeap::retain · t-libs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/index.html">t-libs</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/BinaryHeap.3A.3Aretain.html">BinaryHeap::retain</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="261905983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/BinaryHeap%3A%3Aretain/near/261905983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/BinaryHeap.3A.3Aretain.html#261905983">(Nov 18 2021 at 09:53)</a>:</h4>
<p>Anyone mind kicking off FCP for <code>BinaryHeap::retain</code> (<a href="https://github.com/rust-lang/rust/issues/71503">#71503</a>)? There doesn't seem to be any blockers, and <span class="user-mention" data-user-id="204346">@Ashley Mannix</span> said (over a year ago!) that it should be fine for stabilization. In that time process has changed such that FCP happens on the issue.</p>



<a name="261906002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/BinaryHeap%3A%3Aretain/near/261906002" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/BinaryHeap.3A.3Aretain.html#261906002">(Nov 18 2021 at 09:53)</a>:</h4>
<p>I'll happily submit a stabilization PR once FCP completes.</p>



<a name="261906923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/BinaryHeap%3A%3Aretain/near/261906923" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashley Mannix <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/BinaryHeap.3A.3Aretain.html#261906923">(Nov 18 2021 at 10:03)</a>:</h4>
<p>I have no memory of this event <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> I must’ve forgotten to actually start one at the time…</p>



<a name="261908448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/BinaryHeap%3A%3Aretain/near/261908448" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/BinaryHeap.3A.3Aretain.html#261908448">(Nov 18 2021 at 10:18)</a>:</h4>
<p>Probably not, because a year ago we required a PR to be up for FCP. Now we don't.</p>



<a name="261908496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/BinaryHeap%3A%3Aretain/near/261908496" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/BinaryHeap.3A.3Aretain.html#261908496">(Nov 18 2021 at 10:19)</a>:</h4>
<p>Turns out the reason I wanted it didn't quite pan out, but it still can't hurt to stabilize <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="261923658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/BinaryHeap%3A%3Aretain/near/261923658" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/BinaryHeap.3A.3Aretain.html#261923658">(Nov 18 2021 at 13:02)</a>:</h4>
<p>Hmm, this is a bit odd of an API since it doesn't take advantage of the heap-ness in any way.  Part of me says that APIs like that shouldn't be added, and people should just <code>take</code> it as a Vec, do the update, and remake the heap again -- since that's what the API does anyway.</p>
<p>Though it's certainly not a <em>problem</em> to have it.</p>
<p>Can you say more about how your usage didn't pan out?</p>



<a name="261925243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/BinaryHeap%3A%3Aretain/near/261925243" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/BinaryHeap.3A.3Aretain.html#261925243">(Nov 18 2021 at 13:15)</a>:</h4>
<p>Since <a href="https://github.com/rust-lang/rust/issues/78681">#78681</a> it does something a bit better than going through Vec.</p>



<a name="261997996"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/BinaryHeap%3A%3Aretain/near/261997996" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/BinaryHeap.3A.3Aretain.html#261997996">(Nov 18 2021 at 22:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125270">scottmcm</span> <a href="#narrow/stream/219381-t-libs/topic/BinaryHeap.3A.3Aretain/near/261923658">said</a>:</p>
<blockquote>
<p>Can you say more about how your usage didn't pan out?</p>
</blockquote>
<p>I needed a different data structure altogether. Using <code>retain</code> could have worked but it was more efficient to use something else completely. Not the fault of this method, though.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>