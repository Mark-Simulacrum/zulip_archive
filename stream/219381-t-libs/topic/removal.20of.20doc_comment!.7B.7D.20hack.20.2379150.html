<html>
<head><meta charset="utf-8"><title>removal of doc_comment!{} hack #79150 · t-libs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/index.html">t-libs</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html">removal of doc_comment!{} hack #79150</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="221248779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221248779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221248779">(Dec 30 2020 at 21:38)</a>:</h4>
<p>Anybody feels like reviewing <a href="https://github.com/rust-lang/rust/pull/79150">a +4,643 −5,140 PR</a> that effectively does nothing? <span aria-label="grimacing" class="emoji emoji-1f62c" role="img" title="grimacing">:grimacing:</span><br>
<a href="/user_uploads/4715/JnzMbZy0x08VDCGSyaPpP_1u/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/JnzMbZy0x08VDCGSyaPpP_1u/image.png" title="image.png"><img src="/user_uploads/4715/JnzMbZy0x08VDCGSyaPpP_1u/image.png"></a></div>



<a name="221249644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221249644" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221249644">(Dec 30 2020 at 21:53)</a>:</h4>
<p><span class="user-mention" data-user-id="310399">@Mara</span> ping me on a weekend after the beta bump and I'm happy to take a look, I'm not on t-libs though</p>



<a name="221249765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221249765" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221249765">(Dec 30 2020 at 21:55)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> beta bump happened some minutes ago ^^</p>



<a name="221249836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221249836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221249836">(Dec 30 2020 at 21:56)</a>:</h4>
<p>excellent, time for me to spam <a href="https://github.com/rust-lang/rust/issues/78835">https://github.com/rust-lang/rust/issues/78835</a></p>



<a name="221249841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221249841" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221249841">(Dec 30 2020 at 21:56)</a>:</h4>
<p>high-five would classify this as t-libs, but it doesn't modify the api. it also doesn't change the implementation, and it also doesn't change the (resulting) documentation, so uh.. this seems to mostly fall outside of all teams :P</p>



<a name="221249908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221249908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221249908">(Dec 30 2020 at 21:57)</a>:</h4>
<p>taking a look now :)</p>



<a name="221250409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221250409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221250409">(Dec 30 2020 at 22:04)</a>:</h4>
<p>so I'm actually considering doing an HTML level diff instead of trying to read the source</p>



<a name="221250425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221250425" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221250425">(Dec 30 2020 at 22:04)</a>:</h4>
<p>if the generated HTML is the same, then I trust you that all the source level changes were close enough to right</p>



<a name="221250429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221250429" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221250429">(Dec 30 2020 at 22:04)</a>:</h4>
<p>yeah, i did that. but the diff was huge because the line numbers appear in the html</p>



<a name="221250436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221250436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221250436">(Dec 30 2020 at 22:04)</a>:</h4>
<p>oh boooo</p>



<a name="221250456"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221250456" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221250456">(Dec 30 2020 at 22:05)</a>:</h4>
<p>hmm I think rustdoc has <code>doc(no_source)</code> or something like that</p>



<a name="221250469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221250469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221250469">(Dec 30 2020 at 22:05)</a>:</h4>
<p>that sounds useful</p>



<a name="221250501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221250501" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221250501">(Dec 30 2020 at 22:05)</a>:</h4>
<p>time for a <code>rustdocdiff</code></p>



<a name="221250553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221250553" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221250553">(Dec 30 2020 at 22:06)</a>:</h4>
<p><span class="user-mention" data-user-id="210267">@Nemo157</span> I'm putting you on the case</p>



<a name="221250568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221250568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221250568">(Dec 30 2020 at 22:06)</a>:</h4>
<p>(they wrote the code for <a href="https://github.com/rust-lang/rust/pull/78752">https://github.com/rust-lang/rust/pull/78752</a>, I just made the PR)</p>



<a name="221250604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221250604" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221250604">(Dec 30 2020 at 22:07)</a>:</h4>
<p>heh, nice</p>



<a name="221250622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221250622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221250622">(Dec 30 2020 at 22:07)</a>:</h4>
<p>oh excellent this only changed <code>core</code> files, I can just add the attr in one place</p>



<a name="221250751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221250751" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221250751">(Dec 30 2020 at 22:09)</a>:</h4>
<p>(wow I really need to work on the build times for bootstrap itself)</p>



<a name="221251028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221251028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221251028">(Dec 30 2020 at 22:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack/near/221249836">said</a>:</p>
<blockquote>
<p>excellent, time for me to spam <a href="https://github.com/rust-lang/rust/issues/78835">https://github.com/rust-lang/rust/issues/78835</a></p>
</blockquote>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> Need help? xD</p>



<a name="221251061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221251061" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221251061">(Dec 30 2020 at 22:11)</a>:</h4>
<p><span class="user-mention" data-user-id="255061">@Léo Lanteri Thauvin</span> go for it! <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<a name="221251083"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221251083" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221251083">(Dec 30 2020 at 22:11)</a>:</h4>
<p>and then once that lands I can deprecate <code>doc(include)</code> <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="221251305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221251305" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221251305">(Dec 30 2020 at 22:15)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>$ rg -F <span class="s1">'doc(include'</span> library --count-matches
library/std/src/macros.rs:1
library/core/src/macros/mod.rs:1
library/std/src/os/raw/mod.rs:16
library/stdarch/crates/core_arch/src/lib.rs:1
library/stdarch/crates/core_arch/src/mod.rs:1
</code></pre></div>
<p>Oh easy :D</p>



<a name="221251366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221251366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221251366">(Dec 30 2020 at 22:16)</a>:</h4>
<p>wow, that's actually a lot more than I expected lol</p>



<a name="221251367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221251367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221251367">(Dec 30 2020 at 22:16)</a>:</h4>
<p>Intra-doc-links and unsoundness documentation were much worse</p>



<a name="221251548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221251548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221251548">(Dec 30 2020 at 22:19)</a>:</h4>
<p>yeah this is way better<br>
<a href="/user_uploads/4715/HnFhgWq3_tY-u3M2LCVYmdej/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/HnFhgWq3_tY-u3M2LCVYmdej/image.png" title="image.png"><img src="/user_uploads/4715/HnFhgWq3_tY-u3M2LCVYmdej/image.png"></a></div>



<a name="221251670"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221251670" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221251670">(Dec 30 2020 at 22:21)</a>:</h4>
<p>are those "intead"s instead of "instead"s ?</p>



<a name="221251727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221251727" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221251727">(Dec 30 2020 at 22:22)</a>:</h4>
<p>yup :)</p>



<a name="221251751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221251751" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221251751">(Dec 30 2020 at 22:23)</a>:</h4>
<p>nice. fixed and pushed</p>



<a name="221252314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221252314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221252314">(Dec 30 2020 at 22:33)</a>:</h4>
<p>for some reason rustdoc stopped adding newlines after <code>fn main() {</code> but that's hidden in the docs anyway so it shouldn't matter</p>



<a name="221252392"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221252392" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221252392">(Dec 30 2020 at 22:34)</a>:</h4>
<p>left a review :)</p>



<a name="221252685"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221252685" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221252685">(Dec 30 2020 at 22:40)</a>:</h4>
<p>Thanks!</p>



<a name="221253015"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221253015" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221253015">(Dec 30 2020 at 22:46)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> so does that mean <code>r=you</code>?</p>
<p><a href="/user_uploads/4715/-TvnO2SYexNswlepbkjFO6T7/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/-TvnO2SYexNswlepbkjFO6T7/image.png" title="image.png"><img src="/user_uploads/4715/-TvnO2SYexNswlepbkjFO6T7/image.png"></a></div>



<a name="221253051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221253051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221253051">(Dec 30 2020 at 22:47)</a>:</h4>
<p><span class="user-mention" data-user-id="310399">@Mara</span> sure, go for it :)</p>



<a name="221299390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221299390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221299390">(Dec 31 2020 at 16:12)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> 78835 is T-lang, and I'm personally entirely in favor.</p>



<a name="221299413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221299413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221299413">(Dec 31 2020 at 16:13)</a>:</h4>
<p><span class="user-mention" data-user-id="239881">@Josh Triplett</span> I was referring specifically to switching away from doc(include): <a href="https://github.com/rust-lang/rust/issues/78835#issuecomment-742531894">https://github.com/rust-lang/rust/issues/78835#issuecomment-742531894</a></p>
<p>but yeah the feature in general is awesome :) kudos to <span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span></p>



<a name="221299418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221299418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221299418">(Dec 31 2020 at 16:13)</a>:</h4>
<p>Please do make good use of that one, so that we can use the resulting experience report to support stabilization.</p>



<a name="221299469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221299469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221299469">(Dec 31 2020 at 16:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150/near/221299418">said</a>:</p>
<blockquote>
<p>Please do make good use of that one, so that we can use the resulting experience report to support stabilization.</p>
</blockquote>
<p>oh don't worry, we're already finding bugs <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span> <a href="https://github.com/rust-lang/rust/issues/80540">https://github.com/rust-lang/rust/issues/80540</a></p>



<a name="221299522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221299522" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221299522">(Dec 31 2020 at 16:15)</a>:</h4>
<p>Is the rationale for moving away from doc(include) just orthogonality and making path handling the problem of include_str?</p>



<a name="221299590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221299590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221299590">(Dec 31 2020 at 16:16)</a>:</h4>
<p>Personally, I've wanted a stable solution for this for a while, to allow for reusing README.md as the top-level crate docs.</p>



<a name="221299671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221299671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221299671">(Dec 31 2020 at 16:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239881">Josh Triplett</span> <a href="#narrow/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150/near/221299522">said</a>:</p>
<blockquote>
<p>Is the rationale for moving away from doc(include) just orthogonality and making path handling the problem of include_str?</p>
</blockquote>
<p>basically yes; and also the parsing for it was a giant hack: <a href="https://internals.rust-lang.org/t/macro-expansion-points-in-attributes/11455">https://internals.rust-lang.org/t/macro-expansion-points-in-attributes/11455</a></p>



<a name="221299743"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/removal%20of%20doc_comment%21%7B%7D%20hack%20%2379150/near/221299743" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/removal.20of.20doc_comment!.7B.7D.20hack.20.2379150.html#221299743">(Dec 31 2020 at 16:18)</a>:</h4>
<p>plus this also unlocks things like <code>#[doc = concat!("abc", stringify!(x))]</code>: <a href="https://github.com/rust-lang/rust/issues/79150">https://github.com/rust-lang/rust/issues/79150</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>