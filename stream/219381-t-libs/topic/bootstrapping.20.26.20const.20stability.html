<html>
<head><meta charset="utf-8"><title>bootstrapping &amp; const stability · t-libs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/index.html">t-libs</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/bootstrapping.20.26.20const.20stability.html">bootstrapping &amp; const stability</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="256166667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/bootstrapping%20%26%20const%20stability/near/256166667" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/bootstrapping.20.26.20const.20stability.html#256166667">(Oct 05 2021 at 02:32)</a>:</h4>
<p>When stabilizing a method as <code>const</code> that relies on a newly-stabilized language feature (in this case <code>const_panic</code>), I should use <code>#[rustc_allow_const_fn_unstable(..)]</code>, right? Gated behind the bootstrap cfg, naturally.</p>



<a name="256166689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/bootstrapping%20%26%20const%20stability/near/256166689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/bootstrapping.20.26.20const.20stability.html#256166689">(Oct 05 2021 at 02:32)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="124288">@oli</span> ^^</p>



<a name="256167111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/bootstrapping%20%26%20const%20stability/near/256167111" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/bootstrapping.20.26.20const.20stability.html#256167111">(Oct 05 2021 at 02:38)</a>:</h4>
<p>It's odd because the methods this is showing up on are only those directly using it. As in if A calls <code>panic!()</code> and B calls A, the compiler doesn't complain about B despite the lack of an attribute on A.</p>



<a name="256186954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/bootstrapping%20%26%20const%20stability/near/256186954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/bootstrapping.20.26.20const.20stability.html#256186954">(Oct 05 2021 at 06:56)</a>:</h4>
<p>yea, the point of the attribute is to hide the instability from callers</p>



<a name="256198091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/bootstrapping%20%26%20const%20stability/near/256198091" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/bootstrapping.20.26.20const.20stability.html#256198091">(Oct 05 2021 at 08:42)</a>:</h4>
<p>I understood that much. Just wasn't sure if that's appropriate usage of it and I didn't mess something up with the first stabilization.</p>



<a name="256198119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/bootstrapping%20%26%20const%20stability/near/256198119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/bootstrapping.20.26.20const.20stability.html#256198119">(Oct 05 2021 at 08:42)</a>:</h4>
<p>PR is up at this point anyways.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>