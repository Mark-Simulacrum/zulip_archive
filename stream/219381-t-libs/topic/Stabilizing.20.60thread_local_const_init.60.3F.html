<html>
<head><meta charset="utf-8"><title>Stabilizing `thread_local_const_init`? · t-libs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/index.html">t-libs</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/Stabilizing.20.60thread_local_const_init.60.3F.html">Stabilizing `thread_local_const_init`?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="251744525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Stabilizing%20%60thread_local_const_init%60%3F/near/251744525" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/Stabilizing.20.60thread_local_const_init.60.3F.html#251744525">(Sep 02 2021 at 16:34)</a>:</h4>
<p>Would I be able to convince a team member to propose an FCP to stabilize the <code>thread_local_const_init</code>, tracked at <a href="https://github.com/rust-lang/rust/issues/84223">https://github.com/rust-lang/rust/issues/84223</a>, to enable faster access to thread locals on supported platforms?</p>



<a name="251747826"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Stabilizing%20%60thread_local_const_init%60%3F/near/251747826" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/Stabilizing.20.60thread_local_const_init.60.3F.html#251747826">(Sep 02 2021 at 16:56)</a>:</h4>
<p>It looks like an inline const block, so probably it isn't a good idea to stablise it before inline const block syntax is stablised?</p>



<a name="251764386"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Stabilizing%20%60thread_local_const_init%60%3F/near/251764386" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/Stabilizing.20.60thread_local_const_init.60.3F.html#251764386">(Sep 02 2021 at 18:36)</a>:</h4>
<p>It's worth noting that this is a macro so the syntax doesn't need to be staiblized in the sense that the macro can be stable as it's not actually using the <code>const { ... }</code> syntax. That doesn't change the fact, though, that if <code>const</code>-blocks get a totally different syntax then the <code>thread_local!</code> macro would be using a different one and would need some sort of migration/update.</p>



<a name="251860488"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Stabilizing%20%60thread_local_const_init%60%3F/near/251860488" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/Stabilizing.20.60thread_local_const_init.60.3F.html#251860488">(Sep 03 2021 at 10:49)</a>:</h4>
<p>I think we are all happy with the syntax, it's just some logic around generics that is still whacky, so <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> from me</p>



<a name="253259706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Stabilizing%20%60thread_local_const_init%60%3F/near/253259706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/Stabilizing.20.60thread_local_const_init.60.3F.html#253259706">(Sep 14 2021 at 14:22)</a>:</h4>
<p>I fear I may not know the procedure for this kind of stabilization nowadays, does anyone know what the next steps might be for something like this? (is this the wrong channel to ask this in?)</p>



<a name="253261403"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Stabilizing%20%60thread_local_const_init%60%3F/near/253261403" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/Stabilizing.20.60thread_local_const_init.60.3F.html#253261403">(Sep 14 2021 at 14:32)</a>:</h4>
<p><span class="user-mention" data-user-id="116015">@Alex Crichton</span> sorry for the late reply! the best way to push things forward nowadays is labeling them as I-nominated. then it'll appear on the agenda for the next weekly meeting. i've added the label to the issue</p>



<a name="253261441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Stabilizing%20%60thread_local_const_init%60%3F/near/253261441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/Stabilizing.20.60thread_local_const_init.60.3F.html#253261441">(Sep 14 2021 at 14:33)</a>:</h4>
<p>oh no worries, and thanks!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>