<html>
<head><meta charset="utf-8"><title>assert_matches alternatives · t-libs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/index.html">t-libs</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/assert_matches.20alternatives.html">assert_matches alternatives</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="258423440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/assert_matches%20alternatives/near/258423440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ruster <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/assert_matches.20alternatives.html#258423440">(Oct 20 2021 at 18:56)</a>:</h4>
<p>Hello, I got some questions about <a href="https://github.com/rust-lang/rust/issues/82775">https://github.com/rust-lang/rust/issues/82775</a>.<br>
I took a rough read over the discussion there and it seems to me <code>assert_matches!(...)</code> is ultimately the same as <code>assert!(matches!(...))</code>. What is the advantage apart from quicker typing?</p>



<a name="258425614"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/assert_matches%20alternatives/near/258425614" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ruster <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/assert_matches.20alternatives.html#258425614">(Oct 20 2021 at 19:08)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="310399">@Mara</span></p>



<a name="258427173"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/assert_matches%20alternatives/near/258427173" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/assert_matches.20alternatives.html#258427173">(Oct 20 2021 at 19:18)</a>:</h4>
<p>I think better panic messages. <code>assert_matches!()</code> can show the value being matched on, while.<code>assert!(matches!())</code> can't.</p>



<a name="258431480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/assert_matches%20alternatives/near/258431480" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ruster <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/assert_matches.20alternatives.html#258431480">(Oct 20 2021 at 19:43)</a>:</h4>
<p>Ah, I see.</p>



<a name="258434622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/assert_matches%20alternatives/near/258434622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/assert_matches.20alternatives.html#258434622">(Oct 20 2021 at 20:02)</a>:</h4>
<p>yeah same difference between assert_eq!(a, b) and assert!(a == b)</p>



<a name="258434690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/assert_matches%20alternatives/near/258434690" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/assert_matches.20alternatives.html#258434690">(Oct 20 2021 at 20:03)</a>:</h4>
<p>assert_matches requires the value to be Debug. assert_eq requires both values to be Debug</p>



<a name="258500349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/assert_matches%20alternatives/near/258500349" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/assert_matches.20alternatives.html#258500349">(Oct 21 2021 at 07:36)</a>:</h4>
<p>I remember a few attempts at teaching assert to introspect the expression passed to it, to support better error messages. Did any of those ever succeed?</p>



<a name="258500844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/assert_matches%20alternatives/near/258500844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> kennytm <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/assert_matches.20alternatives.html#258500844">(Oct 21 2021 at 07:40)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/44838">#44838</a> <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>