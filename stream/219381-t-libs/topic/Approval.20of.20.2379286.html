<html>
<head><meta charset="utf-8"><title>Approval of #79286 · t-libs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/index.html">t-libs</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Approval.20of.20.2379286.html">Approval of #79286</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="218831163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Approval%20of%20%2379286/near/218831163" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Diekmann <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Approval.20of.20.2379286.html#218831163">(Dec 04 2020 at 13:20)</a>:</h4>
<p>The pull request was approved by two WG members. Can a review-user approve those changes?</p>



<a name="218832107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Approval%20of%20%2379286/near/218832107" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Approval.20of.20.2379286.html#218832107">(Dec 04 2020 at 13:29)</a>:</h4>
<p><span class="user-mention" data-user-id="216785">@Tim Diekmann</span> Can you rebase it first to remove the merge commits?</p>



<a name="218834292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Approval%20of%20%2379286/near/218834292" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Diekmann <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Approval.20of.20.2379286.html#218834292">(Dec 04 2020 at 13:47)</a>:</h4>
<p>Sure!</p>



<a name="218835010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Approval%20of%20%2379286/near/218835010" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Diekmann <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Approval.20of.20.2379286.html#218835010">(Dec 04 2020 at 13:54)</a>:</h4>
<p>Thank you very much! <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="218835190"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Approval%20of%20%2379286/near/218835190" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Approval.20of.20.2379286.html#218835190">(Dec 04 2020 at 13:56)</a>:</h4>
<p>No problem. Feel free to assign PRs to me, if I can review them without having all the context of the wg-allocators group ^^</p>



<a name="218835200"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Approval%20of%20%2379286/near/218835200" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Approval.20of.20.2379286.html#218835200">(Dec 04 2020 at 13:56)</a>:</h4>
<p>Btw, if you have time, it'd be good to also update <code>hashbrown</code>: <a href="https://github.com/rust-lang/hashbrown/blob/master/src/raw/alloc.rs#L6">https://github.com/rust-lang/hashbrown/blob/master/src/raw/alloc.rs#L6</a></p>



<a name="218836599"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Approval%20of%20%2379286/near/218836599" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Diekmann <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Approval.20of.20.2379286.html#218836599">(Dec 04 2020 at 14:09)</a>:</h4>
<p>Sure, I'll do, thanks!</p>
<p>I'm already working on adjusting <code>hashbrown</code>, but there are more things to change than just changing the trait name. Currently, a <code>A: Clone</code> bound is spread all over the crate, which is unfortunate and I try to remove it if possible. Do I remember correctly, that <code>std</code> does not depend on the allocator-feature of <code>hashbrown</code> or did that change? If so, I'll open a PR as soon as I have time. </p>
<p>If not, I like to postpone adjusting the crate as I'm working on <a href="https://internals.rust-lang.org/t/is-custom-allocators-the-right-abstraction/13460">a pretty nice proposal, which replaces the allocator in collection with a storage trait</a>. That way, it will be possible to inline a storage like <code>[MaybeUninit&lt;_&gt;; N]</code> into a collection, which is what most people would expect from a generic parameter on collecitons.</p>



<a name="218836790"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Approval%20of%20%2379286/near/218836790" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Approval.20of.20.2379286.html#218836790">(Dec 04 2020 at 14:11)</a>:</h4>
<blockquote>
<p>Do I remember correctly, that std does not depend on the allocator-feature of hashbrown </p>
</blockquote>
<p>Yeah, i think so. If not, the CI would fail. ^^</p>



<a name="218836894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Approval%20of%20%2379286/near/218836894" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mara <a href="https://rust-lang.github.io/zulip_archive/stream/219381-t-libs/topic/Approval.20of.20.2379286.html#218836894">(Dec 04 2020 at 14:12)</a>:</h4>
<p>Sounds like you all have it under control, great! Thanks for working on all this!</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>