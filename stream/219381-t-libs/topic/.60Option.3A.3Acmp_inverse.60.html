<html>
<head><meta charset="utf-8"><title>`Option::cmp_inverse` · t-libs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/index.html">t-libs</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.60Option.3A.3Acmp_inverse.60.html">`Option::cmp_inverse`</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="264378330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%60Option%3A%3Acmp_inverse%60/near/264378330" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.60Option.3A.3Acmp_inverse.60.html#264378330">(Dec 09 2021 at 22:43)</a>:</h4>
<p>How would people feel about a <code>cmp_inverse</code> method on option that does the same as <code>Ord::cmp</code> except <code>None</code> is greatest? Hmm, I'm realizing there'd need to be a <code>partial_cmp_inverse</code> equivalent. That's a little meh</p>



<a name="264379223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%60Option%3A%3Acmp_inverse%60/near/264379223" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> scottmcm <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.60Option.3A.3Acmp_inverse.60.html#264379223">(Dec 09 2021 at 22:52)</a>:</h4>
<p>I've always hated that <code>Option</code> is <code>Ord</code> at all.  IMHO it should only ever have been <code>PartialOrd</code>, since I've never seen a good reason why <code>None &lt; Some(_)</code> as opposed to <code>Some(_) &lt; None</code>.  As it is, <code>.fold(None, Ord::min)</code> and <code>.fold(None, Ord::max)</code> do <em>completely</em> different things, which I consider more a footgun than useful.</p>
<p>But I've been ranting about this for almost 4 years (&lt;<a href="https://internals.rust-lang.org/t/lifting-binary-operations-e-g-t-t-option-t-option-t/6618/10?u=scottmcm">https://internals.rust-lang.org/t/lifting-binary-operations-e-g-t-t-option-t-option-t/6618/10?u=scottmcm</a>&gt;) so feel free to ignore me if you're heard it before :P</p>



<a name="264379478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%60Option%3A%3Acmp_inverse%60/near/264379478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.60Option.3A.3Acmp_inverse.60.html#264379478">(Dec 09 2021 at 22:55)</a>:</h4>
<p><code>Reverse&lt;Option&lt;Reverse&lt;T&gt;&gt;&gt;</code></p>



<a name="264381144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%60Option%3A%3Acmp_inverse%60/near/264381144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.60Option.3A.3Acmp_inverse.60.html#264381144">(Dec 09 2021 at 23:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="138448">cuviper</span> <a href="#narrow/stream/219381-t-libs/topic/.60Option.3A.3Acmp_inverse.60/near/264379478">said</a>:</p>
<blockquote>
<p><code>Reverse&lt;Option&lt;Reverse&lt;T&gt;&gt;&gt;</code></p>
</blockquote>
<p>Ah, that is... a possibility, and delightfully opaque</p>



<a name="264422007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/%60Option%3A%3Acmp_inverse%60/near/264422007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Cameron <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/.60Option.3A.3Acmp_inverse.60.html#264422007">(Dec 10 2021 at 09:35)</a>:</h4>
<p>In theory (given that Ord on Option makes no sense, as scottmcm says), I think it would be great to have cmp_inverse, but in practice I think it would not be so useful because it would not 'plug in' to any of the ordering infra - e.g., how would you specify to use it with sort or the &lt; &gt; operators?</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>