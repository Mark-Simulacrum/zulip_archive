<html>
<head><meta charset="utf-8"><title>documenting variance · t-libs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/index.html">t-libs</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/documenting.20variance.html">documenting variance</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="274197248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/documenting%20variance/near/274197248" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/documenting.20variance.html#274197248">(Mar 04 2022 at 22:29)</a>:</h4>
<p>I'm noticing that the docs for NonNull use "covariant" and "invariant" without bothering to define them, which seems like a pretty poor user experience. Especially since even if someone is familiar with variance I expect many will wind up at "wait, but Rust doesn't have subtyping?" Is there an authoritative place to link here, specifically regarding variance in the context of Rust?</p>



<a name="274197260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/documenting%20variance/near/274197260" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/documenting.20variance.html#274197260">(Mar 04 2022 at 22:29)</a>:</h4>
<p><a href="https://doc.rust-lang.org/std/ptr/struct.NonNull.html">https://doc.rust-lang.org/std/ptr/struct.NonNull.html</a></p>



<a name="274197396"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/documenting%20variance/near/274197396" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jane Lusby [she/her] <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/documenting.20variance.html#274197396">(Mar 04 2022 at 22:30)</a>:</h4>
<p>not authoritative, but sunshowers wrote and maintains an extremely thorough guide to variance that could be used as the basis for one if we don't already have an acceptable authoritative source to link to</p>



<a name="274197448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/documenting%20variance/near/274197448" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jane Lusby [she/her] <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/documenting.20variance.html#274197448">(Mar 04 2022 at 22:31)</a>:</h4>
<p><a href="https://github.com/sunshowers-code/lifetime-variance">https://github.com/sunshowers-code/lifetime-variance</a></p>



<a name="274204750"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/documenting%20variance/near/274204750" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Kimock (Saethlin) <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/documenting.20variance.html#274204750">(Mar 04 2022 at 23:50)</a>:</h4>
<p><a href="https://doc.rust-lang.org/nomicon/subtyping.html">https://doc.rust-lang.org/nomicon/subtyping.html</a></p>



<a name="274204774"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/documenting%20variance/near/274204774" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Kimock (Saethlin) <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/documenting.20variance.html#274204774">(Mar 04 2022 at 23:51)</a>:</h4>
<p>People sometimes act like the nomicon is authoritative</p>



<a name="274235553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/documenting%20variance/near/274235553" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giacomo Stevanato <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/documenting.20variance.html#274235553">(Mar 05 2022 at 10:40)</a>:</h4>
<p>The reference also has a section on subtyping and variance although it's a bit less extensive than the nomicon <a href="https://doc.rust-lang.org/reference/subtyping.html">https://doc.rust-lang.org/reference/subtyping.html</a></p>



<a name="274344827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/documenting%20variance/near/274344827" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jules Bertholet <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/documenting.20variance.html#274344827">(Mar 07 2022 at 03:12)</a>:</h4>
<p>The <code>rustc</code> dev guide has a section on variance as well: <a href="https://rustc-dev-guide.rust-lang.org/variance.html">https://rustc-dev-guide.rust-lang.org/variance.html</a></p>



<a name="274409656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/documenting%20variance/near/274409656" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bstrie <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/documenting.20variance.html#274409656">(Mar 07 2022 at 15:45)</a>:</h4>
<p>Hm, for the moment I'll submit a PR adding a link to that section in the reference, and if people want to further pursue this then they can just make the reference better :P</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>