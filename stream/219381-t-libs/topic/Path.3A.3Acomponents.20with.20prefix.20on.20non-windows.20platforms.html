<html>
<head><meta charset="utf-8"><title>Path::components with prefix on non-windows platforms · t-libs · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/index.html">t-libs</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/Path.3A.3Acomponents.20with.20prefix.20on.20non-windows.20platforms.html">Path::components with prefix on non-windows platforms</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="275752805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Path%3A%3Acomponents%20with%20prefix%20on%20non-windows%20platforms/near/275752805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Chamberlain <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/Path.3A.3Acomponents.20with.20prefix.20on.20non-windows.20platforms.html#275752805">(Mar 18 2022 at 02:19)</a>:</h4>
<p>Hi all, I hope this is the right stream to post in. I'm hoping to help make some forward progress on this issue that's a few years old: <a href="https://github.com/rust-lang/rust/issues/52331">https://github.com/rust-lang/rust/issues/52331</a></p>
<p>A seemingly backwards-compatible way of solving this was proposed in <a href="https://github.com/rust-lang/rust/issues/52331#issuecomment-405018941">https://github.com/rust-lang/rust/issues/52331#issuecomment-405018941</a> but it seems like there wasn't really any consensus on whether that was agreeable to the libs team, and the issue has kind of stagnated. I'm hoping to get some feedback here to find a path forward, since there is now another OS target that might benefit from having a trait extension like this besides Redox (<code>armv6k-nintendo-3ds</code>).</p>
<p>So the basic question: is deprecating an API only on specific targets like this typical or allowed? If not, does it seem okay to deprecate this API entirely, and provide a Windows-specific extension trait to replace it, and allow for other OS extension traits as needed? I'm also not a Windows developer, so if anyone has experience in that area that would probably be helpful too. </p>
<p>Thanks!</p>



<a name="276560705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/219381-t-libs/topic/Path%3A%3Acomponents%20with%20prefix%20on%20non-windows%20platforms/near/276560705" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Chamberlain <a href="https://zulip-archive.rust-lang.org/stream/219381-t-libs/topic/Path.3A.3Acomponents.20with.20prefix.20on.20non-windows.20platforms.html#276560705">(Mar 25 2022 at 01:18)</a>:</h4>
<p>Hi, hope it's okay that I'm bumping this topic again (maybe I should have posted in <a class="stream" data-stream-id="265478" href="/#narrow/stream/265478-t-libs.2Fapi-guidelines">#t-libs/api-guidelines</a> ?). Can anyone here help, or is there maybe a label or @ we can apply on the GitHub issue to try and get some input from the libs team (or libs-api?) for a path forward? The original reporter of the issue has expressed that they are happy to implement the requested change, but needs some guidance around how to make the API backwards compatible and/or deprecate it.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>