<html>
<head><meta charset="utf-8"><title>#94847 No more auto-vectorization starting with LLVM 14 · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2394847.20No.20more.20auto-vectorization.20starting.20with.20LLVM.2014.html">#94847 No more auto-vectorization starting with LLVM 14</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="274978046"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2394847%20No%20more%20auto-vectorization%20starting%20with%20LLVM%2014/near/274978046" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2394847.20No.20more.20auto-vectorization.20starting.20with.20LLVM.2014.html#274978046">(Mar 11 2022 at 13:58)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/94847">#94847</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="274994201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2394847%20No%20more%20auto-vectorization%20starting%20with%20LLVM%2014/near/274994201" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2394847.20No.20more.20auto-vectorization.20starting.20with.20LLVM.2014.html#274994201">(Mar 11 2022 at 16:01)</a>:</h4>
<p>I've checked similar issues to figure out the impact. many of them are labelled with <code>I-slow</code> so I think the impact here is that code will run slower because some assembly is not generated.</p>



<a name="274994212"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2394847%20No%20more%20auto-vectorization%20starting%20with%20LLVM%2014/near/274994212" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2394847.20No.20more.20auto-vectorization.20starting.20with.20LLVM.2014.html#274994212">(Mar 11 2022 at 16:01)</a>:</h4>
<p>I'd say P-medium (maybe even lower?)  but  I'd be happy with a second opinion with more context as I can't infer a lot from the issue.</p>



<a name="274994359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2394847%20No%20more%20auto-vectorization%20starting%20with%20LLVM%2014/near/274994359" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2394847.20No.20more.20auto-vectorization.20starting.20with.20LLVM.2014.html#274994359">(Mar 11 2022 at 16:02)</a>:</h4>
<p>in any case it seems a regression due to the update to LLVM 14 (so I wonder if it's an upstream issue to be reported there)</p>



<a name="275007011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2394847%20No%20more%20auto-vectorization%20starting%20with%20LLVM%2014/near/275007011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Kimock (Saethlin) <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2394847.20No.20more.20auto-vectorization.20starting.20with.20LLVM.2014.html#275007011">(Mar 11 2022 at 17:37)</a>:</h4>
<p>I put a comment on the issue. Looks like quite a big regression to me, but this <em>is</em> on a microbenchmark.</p>



<a name="275562829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2394847%20No%20more%20auto-vectorization%20starting%20with%20LLVM%2014/near/275562829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2394847.20No.20more.20auto-vectorization.20starting.20with.20LLVM.2014.html#275562829">(Mar 16 2022 at 19:05)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="120827">@Ben Kimock (Saethlin)</span> for the additional context. In this case better to bump up the evaluation with  a <code>P-high</code></p>



<a name="275691409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2394847%20No%20more%20auto-vectorization%20starting%20with%20LLVM%2014/near/275691409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2394847.20No.20more.20auto-vectorization.20starting.20with.20LLVM.2014.html#275691409">(Mar 17 2022 at 16:53)</a>:</h4>
<p>update: T-compiler says our evaluation is mostly correct<br>
<a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-03-17.20.2354818/near/275666056">https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-03-17.20.2354818/near/275666056</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>