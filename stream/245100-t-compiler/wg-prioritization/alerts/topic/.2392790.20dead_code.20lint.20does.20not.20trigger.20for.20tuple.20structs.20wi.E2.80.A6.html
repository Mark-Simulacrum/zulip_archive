<html>
<head><meta charset="utf-8"><title>#92790 dead_code lint does not trigger for tuple structs wi… · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html">#92790 dead_code lint does not trigger for tuple structs wi…</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="267665356"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392790%20dead_code%20lint%20does%20not%20trigger%20for%20tuple%20structs%20wi%E2%80%A6/near/267665356" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html#267665356">(Jan 12 2022 at 00:06)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/92790">#92790</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="267690959"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392790%20dead_code%20lint%20does%20not%20trigger%20for%20tuple%20structs%20wi%E2%80%A6/near/267690959" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html#267690959">(Jan 12 2022 at 07:49)</a>:</h4>
<p>Is this a bug? I mean, I'm not saying it's good design, but it seems intentional?</p>



<a name="267765588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392790%20dead_code%20lint%20does%20not%20trigger%20for%20tuple%20structs%20wi%E2%80%A6/near/267765588" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html#267765588">(Jan 12 2022 at 18:24)</a>:</h4>
<p>It may have been a mistake, but either way, it seems "wrong"</p>



<a name="267779682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392790%20dead_code%20lint%20does%20not%20trigger%20for%20tuple%20structs%20wi%E2%80%A6/near/267779682" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html#267779682">(Jan 12 2022 at 20:13)</a>:</h4>
<p>should this be prioritized? In case I would say perhaps a <code>p-low</code>due to this undetected warning always been there.</p>



<a name="267779728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392790%20dead_code%20lint%20does%20not%20trigger%20for%20tuple%20structs%20wi%E2%80%A6/near/267779728" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html#267779728">(Jan 12 2022 at 20:13)</a>:</h4>
<p>speaking of fixing it: this seems to be implemented long ago (as per <a href="https://github.com/rust-lang/rust/issues/92790#issuecomment-1010533199">this comment</a>), curious that only now this has been noticed (iiuc).<br>
Is that safe to be "fixed", right? or someone should see if fixing that would have other repercussions?</p>



<a name="267779864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392790%20dead_code%20lint%20does%20not%20trigger%20for%20tuple%20structs%20wi%E2%80%A6/near/267779864" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html#267779864">(Jan 12 2022 at 20:15)</a>:</h4>
<blockquote>
<p>In case I would say perhaps a p-low due to this undetected warning always been there.</p>
</blockquote>
<p>Well, just because it's always been there doesn't mean it should be low priority</p>



<a name="267779947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392790%20dead_code%20lint%20does%20not%20trigger%20for%20tuple%20structs%20wi%E2%80%A6/near/267779947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html#267779947">(Jan 12 2022 at 20:15)</a>:</h4>
<blockquote>
<p>or someone should see if fixing that would have other repercussions?</p>
</blockquote>
<p>We'll see how the PR affects the test suite, the stdlib, etc., so that should give an idea</p>



<a name="267841282"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392790%20dead_code%20lint%20does%20not%20trigger%20for%20tuple%20structs%20wi%E2%80%A6/near/267841282" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html#267841282">(Jan 13 2022 at 09:11)</a>:</h4>
<p>so, <span class="user-mention" data-user-id="307537">@Noah Lev</span> you seem inclined to prioritize it as a <code>p-medium</code>, am I reading it correctly? I'll assign that label, though I still think it's more on the lower spectrum (my thinking is: it's just a missing lint and has been there since longtime)</p>



<a name="267841292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392790%20dead_code%20lint%20does%20not%20trigger%20for%20tuple%20structs%20wi%E2%80%A6/near/267841292" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html#267841292">(Jan 13 2022 at 09:11)</a>:</h4>
<p>but in the end it doesn't matter that much since it's below our alarm threshold anyway :)</p>



<a name="267841519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392790%20dead_code%20lint%20does%20not%20trigger%20for%20tuple%20structs%20wi%E2%80%A6/near/267841519" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html#267841519">(Jan 13 2022 at 09:13)</a>:</h4>
<p>speaking of lints: I'm curious if lint could be a job for clippy or does clippy work at another level? I sometimes I confuse the class of lintings I get from rustc and clippy</p>



<a name="267841605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392790%20dead_code%20lint%20does%20not%20trigger%20for%20tuple%20structs%20wi%E2%80%A6/near/267841605" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html#267841605">(Jan 13 2022 at 09:14)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/92790">#92790</a>'s prioritization request has been removed.</p>



<a name="267844788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392790%20dead_code%20lint%20does%20not%20trigger%20for%20tuple%20structs%20wi%E2%80%A6/near/267844788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html#267844788">(Jan 13 2022 at 09:42)</a>:</h4>
<p>Clippy is tool designed to generate extra lints for things that improve your code. However, there are also lines built into rustc, which trigger automatically without you having to run them separately. That's for errors we want people to be able to turn off, or for warnings they can turn to errors, and so on. They have different use-cases.</p>



<a name="267844999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392790%20dead_code%20lint%20does%20not%20trigger%20for%20tuple%20structs%20wi%E2%80%A6/near/267844999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html#267844999">(Jan 13 2022 at 09:44)</a>:</h4>
<p>excellent, thank you :)</p>



<a name="267915300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392790%20dead_code%20lint%20does%20not%20trigger%20for%20tuple%20structs%20wi%E2%80%A6/near/267915300" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392790.20dead_code.20lint.20does.20not.20trigger.20for.20tuple.20structs.20wi.E2.80.A6.html#267915300">(Jan 13 2022 at 19:05)</a>:</h4>
<p>Yeah, Clippy is more opinionated too</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>