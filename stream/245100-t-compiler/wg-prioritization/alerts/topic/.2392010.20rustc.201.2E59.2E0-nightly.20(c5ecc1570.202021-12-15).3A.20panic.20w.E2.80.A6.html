<html>
<head><meta charset="utf-8"><title>#92010 rustc 1.59.0-nightly (c5ecc1570 2021-12-15): panic w… · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html">#92010 rustc 1.59.0-nightly (c5ecc1570 2021-12-15): panic w…</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="265237870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265237870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265237870">(Dec 17 2021 at 00:05)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/92010">#92010</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="265324314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265324314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hirochika Matsumoto <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265324314">(Dec 17 2021 at 16:42)</a>:</h4>
<p>This is <code>Error -&gt; ICE</code> case, so I'd say <code>P-medium</code>.</p>



<a name="265382898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265382898" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265382898">(Dec 18 2021 at 01:16)</a>:</h4>
<p>There's no error before the ICE and this seems easy to hit. I don't know whether I'd say P-medium or P-high.</p>



<a name="265421519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265421519" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hirochika Matsumoto <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265421519">(Dec 18 2021 at 14:32)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/92010#issuecomment-996288412">This</a> is the output on stable I guess?</p>



<a name="265436258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265436258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265436258">(Dec 18 2021 at 19:01)</a>:</h4>
<p>I think he says currently there are no errors before icing, so it would hurt user quite a bit. I agree with P-high.</p>



<a name="265441194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265441194" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265441194">(Dec 18 2021 at 20:20)</a>:</h4>
<p>What would P-medium be, then? I feel like we're drifting gradually to higher prioritizations, which makes them less useful</p>



<a name="265441205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265441205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265441205">(Dec 18 2021 at 20:20)</a>:</h4>
<p>(although given how little attention P-high issues get, I wonder if it makes sense to just combine them with P-medium...)</p>



<a name="265447607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265447607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265447607">(Dec 18 2021 at 22:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20.28c5ecc1570.202021-12-15.29.3A.20panic.20w.E2.80.A6/near/265441194">said</a>:</p>
<blockquote>
<p>What would P-medium be, then? I feel like we're drifting gradually to higher prioritizations, which makes them less useful</p>
</blockquote>
<p>So do I. <em>sighs</em></p>



<a name="265447716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265447716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265447716">(Dec 18 2021 at 22:41)</a>:</h4>
<p>I mentioned it <a href="#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/.2391598.20Compile-time.20regression.20between.201.2E56.2E1.20and.201.2E57.2E.2E.2E.2E/near/263982735">here</a>.</p>



<a name="265467570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265467570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265467570">(Dec 19 2021 at 07:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20.28c5ecc1570.202021-12-15.29.3A.20panic.20w.E2.80.A6/near/265441194">said</a>:</p>
<blockquote>
<p>What would P-medium be, then? I feel like we're drifting gradually to higher prioritizations, which makes them less useful</p>
</blockquote>
<p>Many perf regressions,  code size regressions, diagnositcs regressions would be P-medium. For Error-&gt;ICE issues, I would say if an error is emitted before icing, or the source code contains easy-to-spot syntactical errors, or the required condition to ICE is niche, then it could be P-medium.</p>



<a name="265467762"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265467762" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265467762">(Dec 19 2021 at 08:02)</a>:</h4>
<p>In this particular issue, neither the ICE messsage, stack trace or query stack reflects what went wrong; it's not immediately obvious what's wrong with the code (in production code the trait bound on impl block may not be in the same page as the function)</p>



<a name="265475119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265475119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265475119">(Dec 19 2021 at 11:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20.28c5ecc1570.202021-12-15.29.3A.20panic.20w.E2.80.A6/near/265441205">said</a>:</p>
<blockquote>
<p>(although given how little attention P-high issues get, I wonder if it makes sense to just combine them with P-medium...)</p>
</blockquote>
<p>I don't think so. They are helpful to people in deciding what to work on. Also, P-high regressions do get a slot in T-compiler triage meetings. It would be nice to have a way of making sure that P-high bugs more generally don't sit around indefinitely though.</p>



<a name="265475136"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265475136" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265475136">(Dec 19 2021 at 11:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="303710">Gary Guo</span> <a href="#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20.28c5ecc1570.202021-12-15.29.3A.20panic.20w.E2.80.A6/near/265467570">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20.28c5ecc1570.202021-12-15.29.3A.20panic.20w.E2.80.A6/near/265441194">said</a>:</p>
<blockquote>
<p>What would P-medium be, then? I feel like we're drifting gradually to higher prioritizations, which makes them less useful</p>
</blockquote>
<p>Many perf regressions,  code size regressions, diagnositcs regressions would be P-medium. For Error-&gt;ICE issues, I would say if an error is emitted before icing, or the source code contains easy-to-spot syntactical errors, or the required condition to ICE is niche, then it could be P-medium.</p>
</blockquote>
<p>This set of logic is definitely internally consistent. It's just that a few months ago we would have been less likely to consider P-high for this sort of issue.</p>



<a name="265903526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265903526" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265903526">(Dec 23 2021 at 10:31)</a>:</h4>
<p>in this case I'd maybe say a <code>P-medium</code> (btw a patch in on the way). My thinking is as follows: the code is broken, the user receives an ICE instead of a useful suggestion.<br>
Generally I think this is not a blocking issue, I mean you start fiddling with the code and try to figure out what's wrong. That small code snippet isn't really talking to me but on a real codebase I would probably have a better context.</p>



<a name="265903532"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265903532" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265903532">(Dec 23 2021 at 10:31)</a>:</h4>
<p>I've personally spent <em>a lot</em> of manhours learning what an error I see actually _means_ and ended up accepting it as a fact of life when learning Rust, maybe I've also become a bit numb.<br>
We see quite <em>a lot</em> of them, I think that they cannot be reasonably all prioritized as <code>P-high</code>, they won't be fixed all anyway and - as Joshua points out - they add background noise to stuff the T-compiler should spend their time on.</p>



<a name="265903633"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265903633" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265903633">(Dec 23 2021 at 10:32)</a>:</h4>
<p>Now, with this out of the way the topic of "P-high issues aren't resolved either", I think that's a different story: it's about not having enough spoons to empty the sea :)</p>



<a name="265903934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265903934" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265903934">(Dec 23 2021 at 10:36)</a>:</h4>
<p>I think we can safely call this a rough consensus for <code>P-medium</code>.</p>



<a name="265904709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392010%20rustc%201.59.0-nightly%20%28c5ecc1570%202021-12-15%29%3A%20panic%20w%E2%80%A6/near/265904709" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392010.20rustc.201.2E59.2E0-nightly.20(c5ecc1570.202021-12-15).3A.20panic.20w.E2.80.A6.html#265904709">(Dec 23 2021 at 10:45)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/92010">#92010</a>'s prioritization request has been removed.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>