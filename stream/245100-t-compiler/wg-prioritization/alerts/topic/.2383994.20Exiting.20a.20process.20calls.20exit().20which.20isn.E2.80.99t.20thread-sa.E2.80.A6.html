<html>
<head><meta charset="utf-8"><title>#83994 Exiting a process calls exit() which isn’t thread-sa… · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html">#83994 Exiting a process calls exit() which isn’t thread-sa…</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="233639306"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383994%20Exiting%20a%20process%20calls%20exit%28%29%20which%20isn%E2%80%99t%20thread-sa%E2%80%A6/near/233639306" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html#233639306">(Apr 08 2021 at 11:52)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/83994">#83994</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="233639463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383994%20Exiting%20a%20process%20calls%20exit%28%29%20which%20isn%E2%80%99t%20thread-sa%E2%80%A6/near/233639463" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html#233639463">(Apr 08 2021 at 11:53)</a>:</h4>
<p>Working code, unsound, <code>P-critial</code>, minimum <code>P-high</code>.</p>



<a name="233639524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383994%20Exiting%20a%20process%20calls%20exit%28%29%20which%20isn%E2%80%99t%20thread-sa%E2%80%A6/near/233639524" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html#233639524">(Apr 08 2021 at 11:54)</a>:</h4>
<p>Or a nomination for <code>T-libs</code>.</p>



<a name="233640275"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383994%20Exiting%20a%20process%20calls%20exit%28%29%20which%20isn%E2%80%99t%20thread-sa%E2%80%A6/near/233640275" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html#233640275">(Apr 08 2021 at 12:00)</a>:</h4>
<p>I think we should nominate</p>



<a name="233640315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383994%20Exiting%20a%20process%20calls%20exit%28%29%20which%20isn%E2%80%99t%20thread-sa%E2%80%A6/near/233640315" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html#233640315">(Apr 08 2021 at 12:01)</a>:</h4>
<p>it seems really weird to me for <code>exit()</code> not to call libc::exit</p>



<a name="233641709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383994%20Exiting%20a%20process%20calls%20exit%28%29%20which%20isn%E2%80%99t%20thread-sa%E2%80%A6/near/233641709" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html#233641709">(Apr 08 2021 at 12:12)</a>:</h4>
<p>I don't have a good context on this but <span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> has a point that this should be discussed. Not a regression, I think.<br>
t-libs should have already received a notification ( I think)</p>



<a name="233645414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383994%20Exiting%20a%20process%20calls%20exit%28%29%20which%20isn%E2%80%99t%20thread-sa%E2%80%A6/near/233645414" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html#233645414">(Apr 08 2021 at 12:43)</a>:</h4>
<p>If we all agree on nominate, I'll just do that. :)</p>



<a name="233645676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383994%20Exiting%20a%20process%20calls%20exit%28%29%20which%20isn%E2%80%99t%20thread-sa%E2%80%A6/near/233645676" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html#233645676">(Apr 08 2021 at 12:45)</a>:</h4>
<p>yeah I think it's fine, please go ahead (thanks). At least it will apply a "question mark" on it that will be useful later</p>



<a name="233646102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383994%20Exiting%20a%20process%20calls%20exit%28%29%20which%20isn%E2%80%99t%20thread-sa%E2%80%A6/near/233646102" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html#233646102">(Apr 08 2021 at 12:48)</a>:</h4>
<p>Side-note, did I do something wrong in my comment to make rustbot not fire?</p>



<a name="233646132"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383994%20Exiting%20a%20process%20calls%20exit%28%29%20which%20isn%E2%80%99t%20thread-sa%E2%80%A6/near/233646132" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html#233646132">(Apr 08 2021 at 12:48)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/83994">#83994</a>'s prioritization request has been removed.</p>



<a name="233647023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383994%20Exiting%20a%20process%20calls%20exit%28%29%20which%20isn%E2%80%99t%20thread-sa%E2%80%A6/near/233647023" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html#233647023">(Apr 08 2021 at 12:55)</a>:</h4>
<p>it might just be buggy</p>



<a name="233648094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383994%20Exiting%20a%20process%20calls%20exit%28%29%20which%20isn%E2%80%99t%20thread-sa%E2%80%A6/near/233648094" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html#233648094">(Apr 08 2021 at 13:03)</a>:</h4>
<p><span class="user-mention" data-user-id="256313">@Hameer Abbasi</span> I'm not 100% sure (didnt check the rustbot code) but I think the correct invocation is<br>
<code>@rustbot label +label -other_label</code><br>
(notice: <code>label</code> is singular)</p>



<a name="233648260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383994%20Exiting%20a%20process%20calls%20exit%28%29%20which%20isn%E2%80%99t%20thread-sa%E2%80%A6/near/233648260" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html#233648260">(Apr 08 2021 at 13:04)</a>:</h4>
<p>(btw I keep a list of reply templates because I always forget the bot syntax <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> )</p>



<a name="233658639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383994%20Exiting%20a%20process%20calls%20exit%28%29%20which%20isn%E2%80%99t%20thread-sa%E2%80%A6/near/233658639" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383994.20Exiting.20a.20process.20calls.20exit().20which.20isn.E2.80.99t.20thread-sa.E2.80.A6.html#233658639">(Apr 08 2021 at 14:10)</a>:</h4>
<p>I think I also missed the <code>d</code> in <code>I-nominated</code>.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>