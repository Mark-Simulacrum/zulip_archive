<html>
<head><meta charset="utf-8"><title>#80289 Optimizations cause release version to not work · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html">#80289 Optimizations cause release version to not work</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="222412204"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222412204" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222412204">(Jan 12 2021 at 10:16)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/80289">#80289</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="222558805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222558805" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222558805">(Jan 13 2021 at 10:11)</a>:</h4>
<p>I would assign a <code>P-medium</code> but doing so would likely end up having this in stable at some point, than we have a stable-to-stable regression. Also, it looks like it's a windows only (iiuc) issue due to the default stack size.</p>



<a name="222559011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222559011" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222559011">(Jan 13 2021 at 10:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="209117">lzutao</span> and <span class="user-mention silent" data-user-id="307537">Camelid</span>  helped a lot finding more about this issue, if anyone with more Windows hardware will eventually raise flags about this, we can increase the priority</p>



<a name="222559176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222559176" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222559176">(Jan 13 2021 at 10:15)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2403">@WG-prioritization</span> further thoughts on this?</p>



<a name="222559333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222559333" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222559333">(Jan 13 2021 at 10:16)</a>:</h4>
<p>Perhaps we should ping the windows working group?</p>



<a name="222559987"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222559987" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222559987">(Jan 13 2021 at 10:23)</a>:</h4>
<p>hm ... there's already a "windows" label, it is enough to get their attention? I'm checking the rustbot ping groups</p>



<a name="222560125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222560125" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222560125">(Jan 13 2021 at 10:24)</a>:</h4>
<p>ah <a href="https://github.com/rust-lang/rust/blob/fc93e4719c2ced744d75f0c281bb7ba29844bedd/triagebot.toml#L40">found it</a></p>



<a name="222560554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222560554" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222560554">(Jan 13 2021 at 10:28)</a>:</h4>
<p>(I can try to take a look myself if I find time today)</p>



<a name="222560613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222560613" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222560613">(Jan 13 2021 at 10:28)</a>:</h4>
<p>/me wonders if he can get some Windows VMs for people to use for Rust purposes</p>



<a name="222575636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222575636" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222575636">(Jan 13 2021 at 13:05)</a>:</h4>
<p>For me personally, the issue is a) my laptop doesn't have enough memory to run a VM, and b) my fast computer is over a network and setting up a gui sounds painful. It's not a licensing issue really</p>



<a name="222584365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222584365" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222584365">(Jan 13 2021 at 14:12)</a>:</h4>
<p>I was more thinking having cloud based VMs rather than licensing for VMs that Rust people would run on their own machines</p>



<a name="222585953"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222585953" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222585953">(Jan 13 2021 at 14:23)</a>:</h4>
<p>ooh that would be really cool :D</p>



<a name="222703856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222703856" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222703856">(Jan 14 2021 at 11:06)</a>:</h4>
<p>by the way, very interesting technical analysis in <a href="https://github.com/rust-lang/rust/issues/80289#issuecomment-759610799">this issue</a></p>



<a name="222803713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222803713" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222803713">(Jan 15 2021 at 00:13)</a>:</h4>
<p>I closed the issue by request of <code>@sivadeilra</code>. It appears the issue was with the user's code: a single function allocated at least 1 MB on the stack.</p>



<a name="222803791"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2380289%20Optimizations%20cause%20release%20version%20to%20not%20work/near/222803791" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2380289.20Optimizations.20cause.20release.20version.20to.20not.20work.html#222803791">(Jan 15 2021 at 00:14)</a>:</h4>
<p>(Of course, re-open if you think there's something up!)</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>