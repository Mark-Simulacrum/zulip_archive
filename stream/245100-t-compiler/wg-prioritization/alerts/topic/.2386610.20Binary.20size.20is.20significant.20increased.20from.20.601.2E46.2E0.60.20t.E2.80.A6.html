<html>
<head><meta charset="utf-8"><title>#86610 Binary size is significant increased from `1.46.0` t… · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2386610.20Binary.20size.20is.20significant.20increased.20from.20.601.2E46.2E0.60.20t.E2.80.A6.html">#86610 Binary size is significant increased from `1.46.0` t…</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="243869383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2386610%20Binary%20size%20is%20significant%20increased%20from%20%601.46.0%60%20t%E2%80%A6/near/243869383" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2386610.20Binary.20size.20is.20significant.20increased.20from.20.601.2E46.2E0.60.20t.E2.80.A6.html#243869383">(Jun 25 2021 at 02:29)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/86610">#86610</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="244092312"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2386610%20Binary%20size%20is%20significant%20increased%20from%20%601.46.0%60%20t%E2%80%A6/near/244092312" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2386610.20Binary.20size.20is.20significant.20increased.20from.20.601.2E46.2E0.60.20t.E2.80.A6.html#244092312">(Jun 28 2021 at 00:24)</a>:</h4>
<p><code>P-high</code>? I don't know how big a deal an 8% increase in binary size is, but it sounds pretty bad.</p>



<a name="244188367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2386610%20Binary%20size%20is%20significant%20increased%20from%20%601.46.0%60%20t%E2%80%A6/near/244188367" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2386610.20Binary.20size.20is.20significant.20increased.20from.20.601.2E46.2E0.60.20t.E2.80.A6.html#244188367">(Jun 28 2021 at 18:44)</a>:</h4>
<p>I wonder if this <a href="https://github.com/rust-lang/rust/issues/83925#issuecomment-820556221">discussion from T-compiler</a> about a related issue also applies for this case which - hopefully - I can summarize with: side-effects by moving to LLVM 12 that are not simply brushed off as 'regressions' but should be perhaps framed into an RFC/MCP</p>



<a name="244189119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2386610%20Binary%20size%20is%20significant%20increased%20from%20%601.46.0%60%20t%E2%80%A6/near/244189119" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2386610.20Binary.20size.20is.20significant.20increased.20from.20.601.2E46.2E0.60.20t.E2.80.A6.html#244189119">(Jun 28 2021 at 18:49)</a>:</h4>
<p><a href="#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/I-prioritize.20.2375804.20.22hello.20world.22.20binary.20size.20increase.20in.20e.E2.80.A6/near/207873177">oh, well</a></p>



<a name="244214395"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2386610%20Binary%20size%20is%20significant%20increased%20from%20%601.46.0%60%20t%E2%80%A6/near/244214395" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2386610.20Binary.20size.20is.20significant.20increased.20from.20.601.2E46.2E0.60.20t.E2.80.A6.html#244214395">(Jun 28 2021 at 22:49)</a>:</h4>
<p>We think this is LLVM's fault, and not a matter of what debuginfo we're passing into it?</p>



<a name="244246234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2386610%20Binary%20size%20is%20significant%20increased%20from%20%601.46.0%60%20t%E2%80%A6/near/244246234" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2386610.20Binary.20size.20is.20significant.20increased.20from.20.601.2E46.2E0.60.20t.E2.80.A6.html#244246234">(Jun 29 2021 at 08:10)</a>:</h4>
<p>apologies, my comment is confusing. The discussion I mentioned for <a href="https://github.com/rust-lang/rust/issues/83925">#83925</a>  basically says (my understanding) we're not happy that binary size grows, but since it seems to be brought by LLVM12 upgrade, there is some thoughts on how to approach the issue (therefore <code>P-medium</code> -&gt; we recognize the problem but it's not immediately critical).<br>
link to <a href="https://zulip-archive.rust-lang.org/238009tcompilermeetings/32576weekly2021041554818.html#234687473">T-compiler discussion</a><br>
especially <a href="https://zulip-archive.rust-lang.org/238009tcompilermeetings/32576weekly2021041554818.html#234688481">this comment</a> and following thoughts</p>



<a name="244246244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2386610%20Binary%20size%20is%20significant%20increased%20from%20%601.46.0%60%20t%E2%80%A6/near/244246244" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2386610.20Binary.20size.20is.20significant.20increased.20from.20.601.2E46.2E0.60.20t.E2.80.A6.html#244246244">(Jun 29 2021 at 08:10)</a>:</h4>
<p>I was wondering if that kind of reasoning could also apply in this case.</p>



<a name="244246408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2386610%20Binary%20size%20is%20significant%20increased%20from%20%601.46.0%60%20t%E2%80%A6/near/244246408" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2386610.20Binary.20size.20is.20significant.20increased.20from.20.601.2E46.2E0.60.20t.E2.80.A6.html#244246408">(Jun 29 2021 at 08:13)</a>:</h4>
<p>I also commented on my suggestion to <code>I-nominate</code> the issue: probably it could be good but perhaps the same outcome as per <span class="user-mention silent" data-user-id="232545">Joshua Nelson</span>'s comment</p>



<a name="244270238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2386610%20Binary%20size%20is%20significant%20increased%20from%20%601.46.0%60%20t%E2%80%A6/near/244270238" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2386610.20Binary.20size.20is.20significant.20increased.20from.20.601.2E46.2E0.60.20t.E2.80.A6.html#244270238">(Jun 29 2021 at 12:12)</a>:</h4>
<p>I think nominating is fine, it's good for T-compiler to be aware, but I still think the issue is that this isn't tracked in perf</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>