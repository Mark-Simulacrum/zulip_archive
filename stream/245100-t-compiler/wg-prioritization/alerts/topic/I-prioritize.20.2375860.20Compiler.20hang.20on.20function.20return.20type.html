<html>
<head><meta charset="utf-8"><title>I-prioritize #75860 Compiler hang on function return type · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html">I-prioritize #75860 Compiler hang on function return type</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="207797718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/207797718" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#207797718">(Aug 24 2020 at 00:04)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/75860">#75860</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="208138621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208138621" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208138621">(Aug 26 2020 at 19:43)</a>:</h4>
<p>bump, this is pending ...</p>



<a name="208138650"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208138650" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208138650">(Aug 26 2020 at 19:43)</a>:</h4>
<p>sorry for bothering with these last messages, we've 4 more issues to prioritize</p>



<a name="208138688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208138688" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208138688">(Aug 26 2020 at 19:43)</a>:</h4>
<p>the ones on top :)</p>



<a name="208138938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208138938" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208138938">(Aug 26 2020 at 19:45)</a>:</h4>
<p>btw this one is weird ?</p>



<a name="208139027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208139027" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208139027">(Aug 26 2020 at 19:46)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="2403">@WG-prioritization</span> does someone have an idea why this could happen?</p>



<a name="208139218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208139218" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208139218">(Aug 26 2020 at 19:47)</a>:</h4>
<p>the relevant snippet is <code>   1,69%  librustc_driver-74e90dce13cbc5f5.so  [.] rustc_data_structures::obligation_forest::ObligationForest&lt;O&gt;::register_obligation_at</code></p>



<a name="208139283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208139283" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208139283">(Aug 26 2020 at 19:48)</a>:</h4>
<p>so maybe some infinite recursion in typeck?</p>



<a name="208139494"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208139494" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208139494">(Aug 26 2020 at 19:49)</a>:</h4>
<p>yeah, unsure</p>



<a name="208835341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208835341" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208835341">(Sep 02 2020 at 14:49)</a>:</h4>
<p>prioritizing this one is pending</p>



<a name="208835366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208835366" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208835366">(Sep 02 2020 at 14:49)</a>:</h4>
<p>but we don't have a way to reproduce this</p>



<a name="208835447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208835447" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208835447">(Sep 02 2020 at 14:50)</a>:</h4>
<p>I wonder if we should go with a priority and then adjust once someone is able to provide a repro for it</p>



<a name="208836529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208836529" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208836529">(Sep 02 2020 at 14:56)</a>:</h4>
<p>Added <code>E-needs-mcve</code>, I think we should ping cleanup?</p>



<a name="208836861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208836861" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208836861">(Sep 02 2020 at 14:58)</a>:</h4>
<p>I’d go with <code>P-high</code>, hangs are frustrating and this apparently has affected multiple people</p>



<a name="208837082"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208837082" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208837082">(Sep 02 2020 at 14:59)</a>:</h4>
<p><span class="user-mention" data-user-id="255061">@LeSeulArtichaut</span> it already has an MCVE</p>



<a name="208837147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208837147" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208837147">(Sep 02 2020 at 15:00)</a>:</h4>
<p>the 'minimal POC' dropdown</p>



<a name="208837404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208837404" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208837404">(Sep 02 2020 at 15:01)</a>:</h4>
<p>might want to edit the issue so it's not hidden by default</p>



<a name="208843060"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208843060" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208843060">(Sep 02 2020 at 15:33)</a>:</h4>
<p>Yeah I think a <code>P-high</code> is fine, can always be updated at a later stage. After a quick check on <a href="http://godbolt.org">godbolt.org</a> it seems to be broken since before 1.40, it's not clear since when this started <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span>  maybe a bisection could help?</p>



<a name="208843233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208843233" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208843233">(Sep 02 2020 at 15:34)</a>:</h4>
<p>adding needs-bisection</p>



<a name="208843479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208843479" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208843479">(Sep 02 2020 at 15:36)</a>:</h4>
<p>removed needs-mcve, it's already there</p>



<a name="208848812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2375860%20Compiler%20hang%20on%20function%20return%20type/near/208848812" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2375860.20Compiler.20hang.20on.20function.20return.20type.html#208848812">(Sep 02 2020 at 16:09)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/75860">#75860</a>'s prioritization request has been removed.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>