<html>
<head><meta charset="utf-8"><title>#90024 2021 `cargo fix --edition` ICE: type parameter out o… · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html">#90024 2021 `cargo fix --edition` ICE: type parameter out o…</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="258609847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/258609847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#258609847">(Oct 21 2021 at 20:13)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/90024">#90024</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="258610397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/258610397" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#258610397">(Oct 21 2021 at 20:17)</a>:</h4>
<p>A lot of people seem to be running into this ICE when migrating to Rust 2021.</p>



<a name="258625627"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/258625627" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#258625627">(Oct 21 2021 at 22:14)</a>:</h4>
<p>From the latest minimization I would say this is <code>P-critical</code>.</p>



<a name="258625645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/258625645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#258625645">(Oct 21 2021 at 22:14)</a>:</h4>
<p>Should this be classified as a stable regression?</p>



<a name="258637815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/258637815" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#258637815">(Oct 22 2021 at 00:14)</a>:</h4>
<p>Good point, I have now marked it as a stable-to-stable regression for 1.56.0.</p>



<a name="258637985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/258637985" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#258637985">(Oct 22 2021 at 00:16)</a>:</h4>
<p>I think <code>P-critical</code> is probably good since the MCVE is small and this makes edition migration much harder. But maybe let's wait for one or two other people to chime in before prioritizing.</p>



<a name="258642329"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/258642329" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#258642329">(Oct 22 2021 at 01:09)</a>:</h4>
<p>Wait, what? This isn't even a regression, people will just have to migrate to 2021 manually. I would say <em>maybe</em> P-high but honestly P-medium seems fine too, this doesn't break any existing code</p>



<a name="258642428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/258642428" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#258642428">(Oct 22 2021 at 01:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6/near/258642329">said</a>:</p>
<blockquote>
<p>Wait, what? This isn't even a regression, people will just have to migrate to 2021 manually. I would say <em>maybe</em> P-high but honestly P-medium seems fine too, this doesn't break any existing code</p>
</blockquote>
<p>Well,  <code>cargo fix --edition</code> is a stable command</p>



<a name="258642625"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/258642625" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#258642625">(Oct 22 2021 at 01:12)</a>:</h4>
<p>Sure, but it's opt-in, it's not like your build is breaking</p>



<a name="258642642"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/258642642" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#258642642">(Oct 22 2021 at 01:13)</a>:</h4>
<p>And I'm pretty sure you can still migrate from 2015 to 2018</p>



<a name="258642972"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/258642972" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#258642972">(Oct 22 2021 at 01:16)</a>:</h4>
<p>Well, with a new edition it's not good that people can't migrate their code</p>



<a name="258643000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/258643000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#258643000">(Oct 22 2021 at 01:16)</a>:</h4>
<p>Probably should ask <span class="user-group-mention" data-user-group-id="2907">@T-release</span> for opinion</p>



<a name="258677613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/258677613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#258677613">(Oct 22 2021 at 08:09)</a>:</h4>
<p>I've read again the public announcements and I think we are already telling people to try the 2021 migration (ETA was Oct, 2021 i.e. Rust stable 1.56).</p>
<p>Therefore I think it's ok to consider today this a stable-to-stable regression, though I'd perhaps say <code>P-high</code> (like Joshua says, it's an opt-in)</p>



<a name="258773155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/258773155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#258773155">(Oct 22 2021 at 20:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6/near/258642329">said</a>:</p>
<blockquote>
<p>Wait, what? This isn't even a regression, people will just have to migrate to 2021 manually. I would say <em>maybe</em> P-high but honestly P-medium seems fine too, this doesn't break any existing code</p>
</blockquote>
<p>I think I got confused; I agree this isn't a regression. But I do think it should be <code>P-high</code>.</p>



<a name="259364176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/259364176" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#259364176">(Oct 28 2021 at 09:52)</a>:</h4>
<p>indeed, I'll add a <code>P-high</code>. There's now a PR waiting for review</p>



<a name="259364208"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2390024%202021%20%60cargo%20fix%20--edition%60%20ICE%3A%20type%20parameter%20out%20o%E2%80%A6/near/259364208" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2390024.202021.20.60cargo.20fix.20--edition.60.20ICE.3A.20type.20parameter.20out.20o.E2.80.A6.html#259364208">(Oct 28 2021 at 09:52)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/90024">#90024</a>'s prioritization request has been removed.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>