<html>
<head><meta charset="utf-8"><title>I-prioritize #77716 Revert &quot;Allow dynamic linking for iOS/t… · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html">I-prioritize #77716 Revert &quot;Allow dynamic linking for iOS/t…</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="213445039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/213445039" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#213445039">(Oct 15 2020 at 15:41)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/77716">#77716</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="213471075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/213471075" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#213471075">(Oct 15 2020 at 18:52)</a>:</h4>
<p>Sounds like <code>P-high</code> to me.</p>



<a name="213471339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/213471339" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#213471339">(Oct 15 2020 at 18:54)</a>:</h4>
<p>(note that this one is not an issue but a PR)</p>



<a name="213474965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/213474965" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#213474965">(Oct 15 2020 at 19:20)</a>:</h4>
<p>No issue was filed for this, but this breaks production users. Not quite sure how to deal with it, certainly would be good to fix the Cargo limitations, but maybe we should revert regardless?</p>



<a name="213475666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/213475666" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#213475666">(Oct 15 2020 at 19:26)</a>:</h4>
<p>I think it's reasonable to file an issue for it to discuss reverting vs. introducing an actual fix?</p>



<a name="213475989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/213475989" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#213475989">(Oct 15 2020 at 19:28)</a>:</h4>
<p>and as someone said before, I'd nominate PRs rather than prioritize them</p>



<a name="213478308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/213478308" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#213478308">(Oct 15 2020 at 19:48)</a>:</h4>
<p>by reading the comments it looks like the first patch and this subsequent PR are suboptimal to solve the issue. In my limited understading we have two issues: 1) compile against dynamic libraries =&gt; your App won't be pusblished on AppStore and 2) do <em>not</em> compile against dynamic libs and have your build fail (the case of the PR submitter).</p>
<p>The real "fix" involves <a href="https://github.com/rust-lang/rust/pull/77716#issuecomment-709410444">a bit more work</a> and thus would imply pinning rustc to 1.45.x for an unknown time</p>



<a name="213479117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/213479117" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#213479117">(Oct 15 2020 at 19:54)</a>:</h4>
<p>I think I agree on nominating this PR (or better, the underlying issue)</p>



<a name="213484853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/213484853" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#213484853">(Oct 15 2020 at 20:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="217081">Yuki Okushi</span> <a href="#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6/near/213475989">said</a>:</p>
<blockquote>
<p>and as someone said before, I'd nominate PRs rather than prioritize them</p>
</blockquote>
<p>I believe this was auto-prioritized because it was marked as a regression</p>



<a name="213489772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/213489772" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#213489772">(Oct 15 2020 at 21:24)</a>:</h4>
<p>I mentioned it because you said "Sounds like <code>P-high</code> to me" and I thought we were going to prioritize this PR :)<br>
anyway we can drop <code>I-prioritize</code> and continue the discussion, I think</p>



<a name="213490094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/213490094" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#213490094">(Oct 15 2020 at 21:27)</a>:</h4>
<p>Well I wasn't sure, but I figured I would throw out a level in case we did :)</p>



<a name="213490241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/213490241" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#213490241">(Oct 15 2020 at 21:28)</a>:</h4>
<p>I see!</p>



<a name="213490257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/213490257" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#213490257">(Oct 15 2020 at 21:29)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/77716">#77716</a>'s prioritization request has been removed.</p>



<a name="214165543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/214165543" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#214165543">(Oct 22 2020 at 10:00)</a>:</h4>
<p>Seems like the issue  is "fixed" by <a href="https://github.com/rust-lang/rust/pull/77716#issuecomment-712492125">https://github.com/rust-lang/rust/pull/77716#issuecomment-712492125</a> allowing cargo to handle the situation. </p>
<p>My understanding is that both the previous patch <a href="https://github.com/rust-lang/rust/issues/71516">#71516</a> <strong>and</strong> this one are neither the perfect solution. "Fixing" it somewhere else (i.e. in cargo) might leave an underlying issue open ("allow or not dynamic linking on iOS platform?").<br>
I wonder if this patch is still eligible for beta backport and/or should be nominated for discussion to see  if is there anything to do from the rustc perspective. </p>
<p>Opinions?</p>



<a name="214165631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/214165631" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#214165631">(Oct 22 2020 at 10:01)</a>:</h4>
<p>maybe even closed? :-)</p>



<a name="214181668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/214181668" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#214181668">(Oct 22 2020 at 12:51)</a>:</h4>
<p>if there's support in cargo I don't see why this needs further discussion - the reason they wanted to revert is because it broke their code, but now they can choose whether to use static or dynamic linking</p>



<a name="214181717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377716%20Revert%20%22Allow%20dynamic%20linking%20for%20iOS/t%E2%80%A6/near/214181717" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377716.20Revert.20.22Allow.20dynamic.20linking.20for.20iOS.2Ft.E2.80.A6.html#214181717">(Oct 22 2020 at 12:52)</a>:</h4>
<p>I don't think being <em>able</em> to use dynamic linking was ever opposed, just forcing people to use it</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>