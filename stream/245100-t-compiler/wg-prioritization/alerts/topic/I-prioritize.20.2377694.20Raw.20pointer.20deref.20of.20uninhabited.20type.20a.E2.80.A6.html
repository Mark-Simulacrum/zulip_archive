<html>
<head><meta charset="utf-8"><title>I-prioritize #77694 Raw pointer deref of uninhabited type a… · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html">I-prioritize #77694 Raw pointer deref of uninhabited type a…</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="212682216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212682216" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212682216">(Oct 08 2020 at 12:37)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/77694">#77694</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="212687706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212687706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212687706">(Oct 08 2020 at 13:19)</a>:</h4>
<p>I guess this is an unsoundness bug, labeled it as such</p>



<a name="212687785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212687785" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212687785">(Oct 08 2020 at 13:19)</a>:</h4>
<p>Can you violate memory safety with this bug? My impression is no</p>



<a name="212688050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212688050" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212688050">(Oct 08 2020 at 13:21)</a>:</h4>
<p>I think this is <code>P-medium</code>, but I’d be fine with <code>P-high</code> too</p>



<a name="212688205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212688205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lzutao <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212688205">(Oct 08 2020 at 13:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="255061">LeSeulArtichaut</span> <a href="#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6/near/212687706">said</a>:</p>
<blockquote>
<p>I guess this is an unsoundness bug, labeled it as such</p>
</blockquote>
<p>I'm not sure, quite often <span class="user-mention" data-user-id="120791">@RalfJ</span> will tag the unsoundness label when he see fit.</p>



<a name="212688226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212688226" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212688226">(Oct 08 2020 at 13:22)</a>:</h4>
<p>I don't think this is an unsoundness bug</p>



<a name="212688268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212688268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212688268">(Oct 08 2020 at 13:23)</a>:</h4>
<p>this mostly looks like an error in const checking to me</p>



<a name="212688397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212688397" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212688397">(Oct 08 2020 at 13:24)</a>:</h4>
<p>(executing <code>fn infallible</code> is UB though)</p>



<a name="212695788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212695788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212695788">(Oct 08 2020 at 14:15)</a>:</h4>
<p>yeah, it's a const-stability-checking bug</p>



<a name="212695814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212695814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212695814">(Oct 08 2020 at 14:15)</a>:</h4>
<p>but it causes neither runtime nor const-time unsoundness</p>



<a name="212695982"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212695982" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212695982">(Oct 08 2020 at 14:16)</a>:</h4>
<p>so this is like any other case of "<em>oops</em> a nightly-only feature is usable on stable"</p>



<a name="212696007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212696007" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212696007">(Oct 08 2020 at 14:16)</a>:</h4>
<p>I leave it up to you if that implies P-high ;)</p>



<a name="212743524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212743524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212743524">(Oct 08 2020 at 20:14)</a>:</h4>
<p>I would say <code>P-medium</code> or <code>P-high</code>, but I don't know this part of Rust that well, so maybe let's go with <span class="user-mention silent" data-user-id="120791">RalfJ</span>'s implication of <code>P-high</code>?</p>



<a name="212745914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212745914" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212745914">(Oct 08 2020 at 20:37)</a>:</h4>
<p>personally I would say p-high or p-critical, feature gates should <em>never</em> be allowed on stable</p>



<a name="212745964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212745964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212745964">(Oct 08 2020 at 20:37)</a>:</h4>
<p>this caused one of our other issues, a feature gate was available so long people thought it was part of the language: <a href="https://github.com/rust-lang/rust/issues/77713">https://github.com/rust-lang/rust/issues/77713</a></p>



<a name="212748066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212748066" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212748066">(Oct 08 2020 at 20:57)</a>:</h4>
<p>Okay, I'm fine with either. How about <code>P-high</code>?</p>



<a name="212748530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2377694%20Raw%20pointer%20deref%20of%20uninhabited%20type%20a%E2%80%A6/near/212748530" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2377694.20Raw.20pointer.20deref.20of.20uninhabited.20type.20a.E2.80.A6.html#212748530">(Oct 08 2020 at 21:01)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/77694">#77694</a>'s prioritization request has been removed.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>