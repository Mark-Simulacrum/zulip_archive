<html>
<head><meta charset="utf-8"><title>I-prioritize #80309 Miscompilation when using wrapping_sub/… · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html">I-prioritize #80309 Miscompilation when using wrapping_sub/…</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="220738012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220738012" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220738012">(Dec 22 2020 at 21:53)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/80309">#80309</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="220738682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220738682" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220738682">(Dec 22 2020 at 22:02)</a>:</h4>
<p>Is this unsound? I'm always confused</p>



<a name="220739016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220739016" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220739016">(Dec 22 2020 at 22:06)</a>:</h4>
<p>I wonder if this is a regression</p>



<a name="220740463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220740463" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220740463">(Dec 22 2020 at 22:22)</a>:</h4>
<p>No, this seems to happen since 1.16.0 when <code>ptr_wrapping_offset</code> was stabilized</p>



<a name="220740701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220740701" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stu <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220740701">(Dec 22 2020 at 22:25)</a>:</h4>
<p>P-critical I guess? Illegal instruction using only safe code seems bad</p>



<a name="220740801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220740801" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220740801">(Dec 22 2020 at 22:26)</a>:</h4>
<p>Right, but I think it must be hard to hit in real code</p>



<a name="220740855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220740855" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stu <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220740855">(Dec 22 2020 at 22:27)</a>:</h4>
<p>Yea that’s true</p>



<a name="220740904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220740904" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220740904">(Dec 22 2020 at 22:27)</a>:</h4>
<p>I was wondering if I could try to look at the LLVM IR</p>



<a name="220740965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220740965" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220740965">(Dec 22 2020 at 22:28)</a>:</h4>
<p>Turns out this simple program generates 2182 lines (!) of LLVM IR with <code>--emit=llvm-ir</code> <span aria-label="eyes" class="emoji emoji-1f440" role="img" title="eyes">:eyes:</span></p>



<a name="220740975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220740975" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220740975">(Dec 22 2020 at 22:28)</a>:</h4>
<p>I wasn't prepared :D</p>



<a name="220741201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220741201" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220741201">(Dec 22 2020 at 22:30)</a>:</h4>
<p><span class="user-mention" data-user-id="255061">@Léo Lanteri Thauvin</span> it should be a lot smaller if you remove the println</p>



<a name="220741205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220741205" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220741205">(Dec 22 2020 at 22:31)</a>:</h4>
<p>and compile with panic=abort</p>



<a name="220741228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220741228" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220741228">(Dec 22 2020 at 22:31)</a>:</h4>
<p>Ah, yes, that explains things :)</p>



<a name="220741339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220741339" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220741339">(Dec 22 2020 at 22:32)</a>:</h4>
<p>Also I need to use <code>-O</code> <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="220741377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220741377" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220741377">(Dec 22 2020 at 22:32)</a>:</h4>
<p>well if you use -O then you see it <em>after</em> the miscompilation</p>



<a name="220741384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220741384" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220741384">(Dec 22 2020 at 22:32)</a>:</h4>
<p>which may or may not be what you want</p>



<a name="220741425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220741425" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220741425">(Dec 22 2020 at 22:33)</a>:</h4>
<p>The miscompilation probably happens in LLVM, right?</p>



<a name="220741445"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220741445" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220741445">(Dec 22 2020 at 22:33)</a>:</h4>
<p>I would be shocked if it happened in mir-opts</p>



<a name="220741464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220741464" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220741464">(Dec 22 2020 at 22:33)</a>:</h4>
<p>I know pretty much nothing about codegen <span aria-label="tired" class="emoji emoji-1f614" role="img" title="tired">:tired:</span></p>



<a name="220741465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220741465" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220741465">(Dec 22 2020 at 22:33)</a>:</h4>
<p>especially since it's release-only</p>



<a name="220741559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220741559" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220741559">(Dec 22 2020 at 22:34)</a>:</h4>
<p>Does <code>--emit=llvm-ir</code> emit the IR before or after the LLVM passes?</p>



<a name="220741659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220741659" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220741659">(Dec 22 2020 at 22:35)</a>:</h4>
<p>after; you can disable LLVM passes with <code>-Cno-prepopulate-passes</code></p>



<a name="220741695"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220741695" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220741695">(Dec 22 2020 at 22:35)</a>:</h4>
<p>Ah, alright thanks :)</p>



<a name="220741825"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220741825" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220741825">(Dec 22 2020 at 22:37)</a>:</h4>
<p><code>-Copt-level=1</code> still works (for me), so it might be better starting point for bisection</p>



<a name="220742205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220742205" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220742205">(Dec 22 2020 at 22:38)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/80309#issuecomment-749813415">https://github.com/rust-lang/rust/issues/80309#issuecomment-749813415</a> <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="220777989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220777989" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220777989">(Dec 23 2020 at 10:45)</a>:</h4>
<p>thinking about the priority, would it make sense a <code>P-high</code> (although there is a repro also on safe code). I can't figure out the impact on real code (and if warrants a <code>P-critical</code>)</p>



<a name="220787514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220787514" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220787514">(Dec 23 2020 at 13:17)</a>:</h4>
<p>I think starting with <code>P-critical</code> makes the most sense</p>



<a name="220787876"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220787876" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stu <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220787876">(Dec 23 2020 at 13:22)</a>:</h4>
<p>Yea I agree. Even if it’s super hard to hit it in real code it shouldn’t be possible</p>



<a name="220787887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220787887" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220787887">(Dec 23 2020 at 13:22)</a>:</h4>
<p>because of the safe code reproducible?</p>



<a name="220787999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2380309%20Miscompilation%20when%20using%20wrapping_sub/%E2%80%A6/near/220787999" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stu <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2380309.20Miscompilation.20when.20using.20wrapping_sub.2F.E2.80.A6.html#220787999">(Dec 23 2020 at 13:24)</a>:</h4>
<p>Yes</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>