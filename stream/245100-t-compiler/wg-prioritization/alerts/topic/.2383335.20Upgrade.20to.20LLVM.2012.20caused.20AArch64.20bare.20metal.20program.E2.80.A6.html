<html>
<head><meta charset="utf-8"><title>#83335 Upgrade to LLVM 12 caused AArch64 bare metal program… · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html">#83335 Upgrade to LLVM 12 caused AArch64 bare metal program…</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="231187413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/231187413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#231187413">(Mar 21 2021 at 02:43)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/83335">#83335</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="231189648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/231189648" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#231189648">(Mar 21 2021 at 03:32)</a>:</h4>
<p>This is a tier 2 target; I think P-high is good</p>



<a name="231189761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/231189761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#231189761">(Mar 21 2021 at 03:34)</a>:</h4>
<p>Err actually I saw "incorrectly" and assumed it failed to compile but it didn't actually say. I think we should wait for more info.</p>



<a name="231204738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/231204738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#231204738">(Mar 21 2021 at 09:26)</a>:</h4>
<p>yeah, I'll try to hint more to what we need. <span class="user-mention" data-user-id="232545">@Joshua Nelson</span> I'm curious about the regression-from-stable label: for now I would think more a "nightly-to-nightly"regression (if that label ever existed)</p>



<a name="231214905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/231214905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#231214905">(Mar 21 2021 at 12:57)</a>:</h4>
<p><span class="user-mention" data-user-id="250987">@apiraino</span> isn't that target on stable?</p>



<a name="231218243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/231218243" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#231218243">(Mar 21 2021 at 14:03)</a>:</h4>
<p>ah yes sorry now I see that you mean (works on stable, issue is since nightly-2021-03-05 )</p>



<a name="231218302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/231218302" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#231218302">(Mar 21 2021 at 14:04)</a>:</h4>
<p>there's no label for nightly-to-nightly because all regressions are nightly-to-nightly, and if it never made it to stable it's not really a regression</p>



<a name="231242520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/231242520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#231242520">(Mar 21 2021 at 21:32)</a>:</h4>
<blockquote>
<p>and if it never made it to stable it's not really a regression</p>
</blockquote>
<p>I would say it's still some form of regression since it used to work and no longer does, but I think I see what you mean as well.</p>



<a name="231792171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/231792171" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#231792171">(Mar 25 2021 at 12:35)</a>:</h4>
<p>I wonder if we should include this in today's agenda with an <code>I-nominate</code> or wait a little more for further advice.. <span class="user-mention silent" data-user-id="123586">nagisa</span> did some thinking on it but I don't have the right context to say what it looks like.<br>
my judgement might be off, I also would say <code>P-high</code> (reason:  upgrade to LLVM12 broke a tier 2 platform)</p>



<a name="231792656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/231792656" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#231792656">(Mar 25 2021 at 12:39)</a>:</h4>
<p>(by the way I am curious about what hardware matches <code>aarch64-unknown-none-softfloat</code>)</p>



<a name="231799270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/231799270" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#231799270">(Mar 25 2021 at 13:25)</a>:</h4>
<p>I'll put it on agenda just to make sure everyone's aware of it</p>



<a name="231800569"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/231800569" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#231800569">(Mar 25 2021 at 13:33)</a>:</h4>
<p><span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



<a name="232566075"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/232566075" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#232566075">(Mar 31 2021 at 10:12)</a>:</h4>
<p>I'll apply the <code>T-compiler</code> label to this issue (hope it's the correct one) to keep in the loop</p>



<a name="232566328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/232566328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#232566328">(Mar 31 2021 at 10:15)</a>:</h4>
<p>I see <span class="user-mention silent" data-user-id="123586">nagisa</span> you've working on this on PR  <a href="https://github.com/rust-lang/rust/issues/83592">#83592</a>, so I'd remove also remove the i-priority label</p>



<a name="232566566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/232566566" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#232566566">(Mar 31 2021 at 10:17)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/83335">#83335</a>'s prioritization request has been removed.</p>



<a name="232578889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/232578889" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ojeda <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#232578889">(Mar 31 2021 at 12:11)</a>:</h4>
<p><span class="user-mention" data-user-id="250987">@apiraino</span> Please note that other major targets were also affected, e.g. x86_64 with <code>-Crelocation-model=static</code>.</p>



<a name="232585006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/232585006" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#232585006">(Mar 31 2021 at 12:55)</a>:</h4>
<p><span class="user-mention" data-user-id="382653">@ojeda</span> removing the label didnt want to express the intent of this issue not being important, rather that (to my understanding) PR <a href="https://github.com/rust-lang/rust/issues/83592">#83592</a> should fix exactly the <code>-Crelocation-model=static</code> (so I felt that assigning now a priority label was superflous)</p>



<a name="232585045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/232585045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#232585045">(Mar 31 2021 at 12:55)</a>:</h4>
<p>however, if you feel this issue should be discussed during the compiler meeting, we can attach a P-high/P-critical and have it under the teams' eyes</p>



<a name="232585077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/232585077" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#232585077">(Mar 31 2021 at 12:55)</a>:</h4>
<p>(also, feel free to chime in during the meeting to add more context)</p>



<a name="232585393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/232585393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#232585393">(Mar 31 2021 at 12:57)</a>:</h4>
<p>cc: <span class="user-mention" data-user-id="123586">@nagisa</span>  for an additional opinion</p>



<a name="232592014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/232592014" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ojeda <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#232592014">(Mar 31 2021 at 13:36)</a>:</h4>
<p><span class="user-mention" data-user-id="250987">@apiraino</span> Ah, sorry, I didn't mean it like that! I was only replying to the older messages about the affected platforms :-) i.e. since you linked this thread in the issue, I read it and noticed some of the replies here were newer than my comment in the issue about x86_64, and so I thought perhaps it was missed a week ago and therefore valuable to add it here.</p>



<a name="232592648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2383335%20Upgrade%20to%20LLVM%2012%20caused%20AArch64%20bare%20metal%20program%E2%80%A6/near/232592648" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2383335.20Upgrade.20to.20LLVM.2012.20caused.20AArch64.20bare.20metal.20program.E2.80.A6.html#232592648">(Mar 31 2021 at 13:40)</a>:</h4>
<p>no worries and thanks for pointing that out!</p>
<p>for context: the Zulip threads under #t-compiler/wg-prioritization/alerts are not always updated as the issue history evolves. They are meant to talk a little about issues until we figure out how bad the issue is :)<br>
We always welcome comments from anyone with a bit more context</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>