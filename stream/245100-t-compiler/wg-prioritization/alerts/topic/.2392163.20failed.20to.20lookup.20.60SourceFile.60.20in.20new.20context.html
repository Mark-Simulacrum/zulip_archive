<html>
<head><meta charset="utf-8"><title>#92163 failed to lookup `SourceFile` in new context · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392163.20failed.20to.20lookup.20.60SourceFile.60.20in.20new.20context.html">#92163 failed to lookup `SourceFile` in new context</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="266355180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392163%20failed%20to%20lookup%20%60SourceFile%60%20in%20new%20context/near/266355180" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392163.20failed.20to.20lookup.20.60SourceFile.60.20in.20new.20context.html#266355180">(Dec 29 2021 at 15:44)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/92163">#92163</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="266373335"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392163%20failed%20to%20lookup%20%60SourceFile%60%20in%20new%20context/near/266373335" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392163.20failed.20to.20lookup.20.60SourceFile.60.20in.20new.20context.html#266373335">(Dec 29 2021 at 19:45)</a>:</h4>
<p>uhm, affects rustc perf CI but it looks like people are also tripping into this. A PR with a fix is already on its way.</p>
<p>Looks like a <code>p-high</code> thing, imo</p>



<a name="266391715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392163%20failed%20to%20lookup%20%60SourceFile%60%20in%20new%20context/near/266391715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392163.20failed.20to.20lookup.20.60SourceFile.60.20in.20new.20context.html#266391715">(Dec 30 2021 at 00:33)</a>:</h4>
<p>I agree with P-high.</p>



<a name="266414518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392163%20failed%20to%20lookup%20%60SourceFile%60%20in%20new%20context/near/266414518" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392163.20failed.20to.20lookup.20.60SourceFile.60.20in.20new.20context.html#266414518">(Dec 30 2021 at 09:21)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/92163">#92163</a>'s prioritization request has been removed.</p>



<a name="266479796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392163%20failed%20to%20lookup%20%60SourceFile%60%20in%20new%20context/near/266479796" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392163.20failed.20to.20lookup.20.60SourceFile.60.20in.20new.20context.html#266479796">(Dec 31 2021 at 04:09)</a>:</h4>
<p>I think we should consider increasing this to <code>P-critical</code>.</p>



<a name="266479821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392163%20failed%20to%20lookup%20%60SourceFile%60%20in%20new%20context/near/266479821" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392163.20failed.20to.20lookup.20.60SourceFile.60.20in.20new.20context.html#266479821">(Dec 31 2021 at 04:10)</a>:</h4>
<p>There are a lot of duplicates, to the point that the issue has been pinned. It's also happening frequently enough for some people that they're disabling incremental or downgrading.</p>



<a name="266479870"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392163%20failed%20to%20lookup%20%60SourceFile%60%20in%20new%20context/near/266479870" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392163.20failed.20to.20lookup.20.60SourceFile.60.20in.20new.20context.html#266479870">(Dec 31 2021 at 04:10)</a>:</h4>
<p>The problem isn't all that severe, but the frequency is really high.</p>



<a name="266479965"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392163%20failed%20to%20lookup%20%60SourceFile%60%20in%20new%20context/near/266479965" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392163.20failed.20to.20lookup.20.60SourceFile.60.20in.20new.20context.html#266479965">(Dec 31 2021 at 04:13)</a>:</h4>
<p>I suppose it doesn't matter all that much what we prioritize it as, given that this is only on nightly and the PR is pretty much ready. Still, this many reports for a nightly bug is kinda terrifying.</p>



<a name="266485263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392163%20failed%20to%20lookup%20%60SourceFile%60%20in%20new%20context/near/266485263" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392163.20failed.20to.20lookup.20.60SourceFile.60.20in.20new.20context.html#266485263">(Dec 31 2021 at 06:32)</a>:</h4>
<p>Okay, this latest comment makes me more sure we should increase the prioritization:</p>
<blockquote>
<p>FWIW, it prevents building clippy with x.py test with enabled incremental for me.<br>
The cargo clean recommendation doesn't work in that case, and removing the incremental directories manually doesn't help either because some intermediate build step creates them again.<br>
The only fix is disabling the incremental flag, but it requires rebuilding everything from scratch (and rebuilding everything again when enabling incremental back), which requires unreasonable amount of time</p>
</blockquote>



<a name="266507557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392163%20failed%20to%20lookup%20%60SourceFile%60%20in%20new%20context/near/266507557" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392163.20failed.20to.20lookup.20.60SourceFile.60.20in.20new.20context.html#266507557">(Dec 31 2021 at 14:55)</a>:</h4>
<blockquote>
<p>I suppose it doesn't matter all that much what we prioritize it as, given that this is only on nightly and the PR is pretty much ready</p>
</blockquote>
<p>Actually I think you're absolutely right and we should amend the evaluation, this issue is increasing in reports. The fact that there is a pending fix is orthogonal. Good that this is happening on nightly and not on stable :)</p>



<a name="266507736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392163%20failed%20to%20lookup%20%60SourceFile%60%20in%20new%20context/near/266507736" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gurwinder Singh <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392163.20failed.20to.20lookup.20.60SourceFile.60.20in.20new.20context.html#266507736">(Dec 31 2021 at 14:59)</a>:</h4>
<p>It is happening on stable from 1.57</p>



<a name="266512341"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2392163%20failed%20to%20lookup%20%60SourceFile%60%20in%20new%20context/near/266512341" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2392163.20failed.20to.20lookup.20.60SourceFile.60.20in.20new.20context.html#266512341">(Dec 31 2021 at 16:29)</a>:</h4>
<p>in this case the regression label should perhaps be updated.</p>
<p>I've tried re-reading <a href="https://github.com/rust-lang/rust/issues/92163">#92163</a> and the linked issues, could only find <a href="https://github.com/rust-lang/rust/issues/92447">#92447</a>, are you <span class="user-mention" data-user-id="218938">@Gurwinder Singh</span> referring to that one?</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>