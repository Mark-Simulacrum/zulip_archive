<html>
<head><meta charset="utf-8"><title>#82665 regression: AsRef inference breakage · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html">#82665 regression: AsRef inference breakage</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="228262674"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228262674" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228262674">(Mar 01 2021 at 16:42)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/82665">#82665</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="228928424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228928424" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228928424">(Mar 05 2021 at 10:08)</a>:</h4>
<p>Mark says on the issue:</p>
<blockquote>
<p>Usually we don't do anything here, but would be good to at least ping authors.</p>
</blockquote>
<p>So we don't have to prioritize if it's a usual one actually?</p>



<a name="228941239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228941239" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228941239">(Mar 05 2021 at 11:59)</a>:</h4>
<p>correct, when crater runs issues can be resolved by the crate author updating the crate =&gt; "not our problem" :-)<br>
But in this case your comment (btw thanks for your improved bisection  ^_^) seems to point to an actual regression  (<a href="https://github.com/rust-lang/rust/issues/75180">#75180</a>) so I'm inclined to open a specific issue for that. Would that make sense?</p>



<a name="228942272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228942272" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228942272">(Mar 05 2021 at 12:07)</a>:</h4>
<p>Yeah, this issue should be discussed on the libs team to introduce a fix or just close it (actually, it's nominated for the team)</p>



<a name="228942321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228942321" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228942321">(Mar 05 2021 at 12:08)</a>:</h4>
<p>so could we drop the prioritize label?</p>



<a name="228942506"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228942506" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228942506">(Mar 05 2021 at 12:09)</a>:</h4>
<p>What surprises me is that <a href="https://github.com/rust-lang/rust/issues/75180">#75180</a> already had a crater run, but it seems like it didn't pick up this <code>AsRef</code> regression?</p>



<a name="228942609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228942609" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228942609">(Mar 05 2021 at 12:10)</a>:</h4>
<p>But anyway this is not a <code>T-compiler</code> issue, so we don't have to prioritize it</p>



<a name="228942636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228942636" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228942636">(Mar 05 2021 at 12:10)</a>:</h4>
<p>makes sense, thanks <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



<a name="228942702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228942702" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228942702">(Mar 05 2021 at 12:11)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/82665">#82665</a>'s prioritization request has been removed.</p>



<a name="228942703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228942703" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228942703">(Mar 05 2021 at 12:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="217081">Yuki Okushi</span> <a href="#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage/near/228942321">said</a>:</p>
<blockquote>
<p>so could we drop the prioritize label?</p>
</blockquote>
<p>I don't know if <code>T-libs</code> use it, they seem to use priority labels though</p>



<a name="228942818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228942818" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228942818">(Mar 05 2021 at 12:12)</a>:</h4>
<p>ah, if they use it, it should be left</p>



<a name="228942913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228942913" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228942913">(Mar 05 2021 at 12:13)</a>:</h4>
<p>It's <code>I-nominated</code> for them, so I guess it doesn't really matter</p>



<a name="228942968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228942968" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228942968">(Mar 05 2021 at 12:14)</a>:</h4>
<p>we're stuck in bureaucracy</p>



<a name="228942973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228942973" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228942973">(Mar 05 2021 at 12:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="255061">Léo Lanteri Thauvin</span> <a href="#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage/near/228942506">said</a>:</p>
<blockquote>
<p>What surprises me is that <a href="https://github.com/rust-lang/rust/issues/75180">#75180</a> already had a crater run, but it seems like it didn't pick up this <code>AsRef</code> regression?</p>
</blockquote>
<p>Looks like they found it at least: <a href="https://github.com/rust-lang/rust/pull/75180#issuecomment-681492119">https://github.com/rust-lang/rust/pull/75180#issuecomment-681492119</a></p>



<a name="228943176"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228943176" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228943176">(Mar 05 2021 at 12:15)</a>:</h4>
<p>Oops, you're right</p>



<a name="228943311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228943311" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228943311">(Mar 05 2021 at 12:16)</a>:</h4>
<p>So the PR was approved while they were aware of these regressions</p>



<a name="228943388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228943388" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228943388">(Mar 05 2021 at 12:17)</a>:</h4>
<p>This issue will most likely be closed as wontfix then</p>



<a name="228943479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2382665%20regression%3A%20AsRef%20inference%20breakage/near/228943479" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2382665.20regression.3A.20AsRef.20inference.20breakage.html#228943479">(Mar 05 2021 at 12:18)</a>:</h4>
<p>I'll post a comment on the issue</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>