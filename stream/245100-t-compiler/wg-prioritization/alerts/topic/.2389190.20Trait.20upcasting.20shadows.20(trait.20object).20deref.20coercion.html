<html>
<head><meta charset="utf-8"><title>#89190 Trait upcasting shadows (trait object) deref coercion · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2389190.20Trait.20upcasting.20shadows.20(trait.20object).20deref.20coercion.html">#89190 Trait upcasting shadows (trait object) deref coercion</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="254457342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2389190%20Trait%20upcasting%20shadows%20%28trait%20object%29%20deref%20coercion/near/254457342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2389190.20Trait.20upcasting.20shadows.20(trait.20object).20deref.20coercion.html#254457342">(Sep 22 2021 at 23:43)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/89190">#89190</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="254457343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2389190%20Trait%20upcasting%20shadows%20%28trait%20object%29%20deref%20coercion/near/254457343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2389190.20Trait.20upcasting.20shadows.20(trait.20object).20deref.20coercion.html#254457343">(Sep 22 2021 at 23:43)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/89190">#89190</a>'s prioritization request has been removed.</p>



<a name="254457345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2389190%20Trait%20upcasting%20shadows%20%28trait%20object%29%20deref%20coercion/near/254457345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2389190.20Trait.20upcasting.20shadows.20(trait.20object).20deref.20coercion.html#254457345">(Sep 22 2021 at 23:43)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/89190">#89190</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="254458989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2389190%20Trait%20upcasting%20shadows%20%28trait%20object%29%20deref%20coercion/near/254458989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2389190.20Trait.20upcasting.20shadows.20(trait.20object).20deref.20coercion.html#254458989">(Sep 23 2021 at 00:02)</a>:</h4>
<p>This looks very bad. P-critical maybe?</p>



<a name="254459069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2389190%20Trait%20upcasting%20shadows%20%28trait%20object%29%20deref%20coercion/near/254459069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2389190.20Trait.20upcasting.20shadows.20(trait.20object).20deref.20coercion.html#254459069">(Sep 23 2021 at 00:03)</a>:</h4>
<p>Actually maybe not that bad. P-high seems more reasonable.</p>



<a name="254480853"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2389190%20Trait%20upcasting%20shadows%20%28trait%20object%29%20deref%20coercion/near/254480853" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hirochika Matsumoto <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2389190.20Trait.20upcasting.20shadows.20(trait.20object).20deref.20coercion.html#254480853">(Sep 23 2021 at 04:58)</a>:</h4>
<p>I agree, <code>P-high</code> should suffice.</p>



<a name="254480910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2389190%20Trait%20upcasting%20shadows%20%28trait%20object%29%20deref%20coercion/near/254480910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2389190.20Trait.20upcasting.20shadows.20(trait.20object).20deref.20coercion.html#254480910">(Sep 23 2021 at 04:59)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/89190">#89190</a>'s prioritization request has been removed.</p>



<a name="254493244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2389190%20Trait%20upcasting%20shadows%20%28trait%20object%29%20deref%20coercion/near/254493244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2389190.20Trait.20upcasting.20shadows.20(trait.20object).20deref.20coercion.html#254493244">(Sep 23 2021 at 07:31)</a>:</h4>
<p>So, if I understand correctly the issue here is an experimental feature that is surfacing to beta, right? In this case I agree with P-high.</p>
<p>Otherwise I would even downgrade to P-medium since the error message tells me I'm using an experimental (and work in progress) feature (<a href="https://github.com/rust-lang/rust/issues/65991">#65991</a>)</p>



<a name="254493824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2389190%20Trait%20upcasting%20shadows%20%28trait%20object%29%20deref%20coercion/near/254493824" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2389190.20Trait.20upcasting.20shadows.20(trait.20object).20deref.20coercion.html#254493824">(Sep 23 2021 at 07:37)</a>:</h4>
<p>No, it's previously accepted in stable as a deref coercion, but it's now rejected because compiler thinks it's upcasting coercion.</p>



<a name="254493897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2389190%20Trait%20upcasting%20shadows%20%28trait%20object%29%20deref%20coercion/near/254493897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2389190.20Trait.20upcasting.20shadows.20(trait.20object).20deref.20coercion.html#254493897">(Sep 23 2021 at 07:37)</a>:</h4>
<p>I posted it in wg-traits to gain attention</p>



<a name="254493989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2389190%20Trait%20upcasting%20shadows%20%28trait%20object%29%20deref%20coercion/near/254493989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2389190.20Trait.20upcasting.20shadows.20(trait.20object).20deref.20coercion.html#254493989">(Sep 23 2021 at 07:38)</a>:</h4>
<p>ah thanks :)  slightly clearer now</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>