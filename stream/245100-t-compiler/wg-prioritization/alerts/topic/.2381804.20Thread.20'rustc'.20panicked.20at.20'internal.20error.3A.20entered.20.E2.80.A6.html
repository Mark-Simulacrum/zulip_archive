<html>
<head><meta charset="utf-8"><title>#81804 Thread &#x27;rustc&#x27; panicked at &#x27;internal error: entered … · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2381804.20Thread.20&#x27;rustc&#x27;.20panicked.20at.20&#x27;internal.20error.3A.20entered.20.E2.80.A6.html">#81804 Thread &#x27;rustc&#x27; panicked at &#x27;internal error: entered …</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="225354507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2381804%20Thread%20%27rustc%27%20panicked%20at%20%27internal%20error%3A%20entered%20%E2%80%A6/near/225354507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2381804.20Thread.20&#x27;rustc&#x27;.20panicked.20at.20&#x27;internal.20error.3A.20entered.20.E2.80.A6.html#225354507">(Feb 05 2021 at 20:49)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/81804">#81804</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="225354684"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2381804%20Thread%20%27rustc%27%20panicked%20at%20%27internal%20error%3A%20entered%20%E2%80%A6/near/225354684" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2381804.20Thread.20&#x27;rustc&#x27;.20panicked.20at.20&#x27;internal.20error.3A.20entered.20.E2.80.A6.html#225354684">(Feb 05 2021 at 20:50)</a>:</h4>
<p>Invalid code; and gives useful error before panic. I’d say <code>P-medium</code> at most.</p>



<a name="225416811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2381804%20Thread%20%27rustc%27%20panicked%20at%20%27internal%20error%3A%20entered%20%E2%80%A6/near/225416811" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2381804.20Thread.20&#x27;rustc&#x27;.20panicked.20at.20&#x27;internal.20error.3A.20entered.20.E2.80.A6.html#225416811">(Feb 06 2021 at 15:29)</a>:</h4>
<p>It seems I may have spoken too soon: There may be a buffer overrun here.</p>



<a name="225440194"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2381804%20Thread%20%27rustc%27%20panicked%20at%20%27internal%20error%3A%20entered%20%E2%80%A6/near/225440194" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2381804.20Thread.20&#x27;rustc&#x27;.20panicked.20at.20&#x27;internal.20error.3A.20entered.20.E2.80.A6.html#225440194">(Feb 07 2021 at 01:55)</a>:</h4>
<p>What makes you think there's a buffer overrun?</p>



<a name="225544553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2381804%20Thread%20%27rustc%27%20panicked%20at%20%27internal%20error%3A%20entered%20%E2%80%A6/near/225544553" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2381804.20Thread.20&#x27;rustc&#x27;.20panicked.20at.20&#x27;internal.20error.3A.20entered.20.E2.80.A6.html#225544553">(Feb 08 2021 at 13:36)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/81804#issuecomment-774400620">This comment</a>:</p>
<blockquote>
<p>As a result we get this error that points to outside of the file</p>
</blockquote>



<a name="225553921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2381804%20Thread%20%27rustc%27%20panicked%20at%20%27internal%20error%3A%20entered%20%E2%80%A6/near/225553921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2381804.20Thread.20&#x27;rustc&#x27;.20panicked.20at.20&#x27;internal.20error.3A.20entered.20.E2.80.A6.html#225553921">(Feb 08 2021 at 14:48)</a>:</h4>
<p>That's not a buffer overrun though, the diagnostics are just wrong</p>



<a name="225553952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2381804%20Thread%20%27rustc%27%20panicked%20at%20%27internal%20error%3A%20entered%20%E2%80%A6/near/225553952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2381804.20Thread.20&#x27;rustc&#x27;.20panicked.20at.20&#x27;internal.20error.3A.20entered.20.E2.80.A6.html#225553952">(Feb 08 2021 at 14:49)</a>:</h4>
<p>Buffer overrun specifically means you're <em>derefencing</em> past the end of the buffer</p>



<a name="225581678"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2381804%20Thread%20%27rustc%27%20panicked%20at%20%27internal%20error%3A%20entered%20%E2%80%A6/near/225581678" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2381804.20Thread.20&#x27;rustc&#x27;.20panicked.20at.20&#x27;internal.20error.3A.20entered.20.E2.80.A6.html#225581678">(Feb 08 2021 at 17:49)</a>:</h4>
<p>I thought maybe the diagnostics or the compiler tries to do that, hence the panic.</p>



<a name="225614394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2381804%20Thread%20%27rustc%27%20panicked%20at%20%27internal%20error%3A%20entered%20%E2%80%A6/near/225614394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2381804.20Thread.20&#x27;rustc&#x27;.20panicked.20at.20&#x27;internal.20error.3A.20entered.20.E2.80.A6.html#225614394">(Feb 08 2021 at 21:54)</a>:</h4>
<p>Buffer overruns are memory corruption issues – this is just a logic bug.</p>



<a name="225614476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2381804%20Thread%20%27rustc%27%20panicked%20at%20%27internal%20error%3A%20entered%20%E2%80%A6/near/225614476" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2381804.20Thread.20&#x27;rustc&#x27;.20panicked.20at.20&#x27;internal.20error.3A.20entered.20.E2.80.A6.html#225614476">(Feb 08 2021 at 21:55)</a>:</h4>
<p>For some reason the compiler represents source locations in a way that allows them to cross files. This may be an issue related to that.</p>



<a name="225661139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2381804%20Thread%20%27rustc%27%20panicked%20at%20%27internal%20error%3A%20entered%20%E2%80%A6/near/225661139" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2381804.20Thread.20&#x27;rustc&#x27;.20panicked.20at.20&#x27;internal.20error.3A.20entered.20.E2.80.A6.html#225661139">(Feb 09 2021 at 09:12)</a>:</h4>
<p>Okay, I’ll trust both of you on that — My experience is limited. <code>P-medium</code> gets my vote then.</p>



<a name="225831717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2381804%20Thread%20%27rustc%27%20panicked%20at%20%27internal%20error%3A%20entered%20%E2%80%A6/near/225831717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2381804.20Thread.20&#x27;rustc&#x27;.20panicked.20at.20&#x27;internal.20error.3A.20entered.20.E2.80.A6.html#225831717">(Feb 10 2021 at 12:59)</a>:</h4>
<p>ok then be it <code>P-medium</code> like the other reported by the same person : <a href="https://github.com/rust-lang/rust/issues/81920">#81920</a> and <a href="https://github.com/rust-lang/rust/issues/81886">#81886</a> (which imo are all in the same backet)</p>



<a name="225831839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2381804%20Thread%20%27rustc%27%20panicked%20at%20%27internal%20error%3A%20entered%20%E2%80%A6/near/225831839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://zulip-archive.rust-lang.org/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2381804.20Thread.20&#x27;rustc&#x27;.20panicked.20at.20&#x27;internal.20error.3A.20entered.20.E2.80.A6.html#225831839">(Feb 10 2021 at 13:00)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/81804">#81804</a>'s prioritization request has been removed.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>