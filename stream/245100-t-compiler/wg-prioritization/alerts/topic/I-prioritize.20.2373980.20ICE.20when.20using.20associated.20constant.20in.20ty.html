<html>
<head><meta charset="utf-8"><title>I-prioritize #73980 ICE when using associated constant in ty · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2373980.20ICE.20when.20using.20associated.20constant.20in.20ty.html">I-prioritize #73980 ICE when using associated constant in ty</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="202785683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2373980%20ICE%20when%20using%20associated%20constant%20in%20ty/near/202785683" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2373980.20ICE.20when.20using.20associated.20constant.20in.20ty.html#202785683">(Jul 03 2020 at 09:47)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/73980">#73980</a> has been requested for prioritization.</p>
<h1><a href="https://hackmd.io/WJ0G17DHTHGgv0OW9I2PxA?view#Unprioritized-I-prioritize">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="202814079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2373980%20ICE%20when%20using%20associated%20constant%20in%20ty/near/202814079" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2373980.20ICE.20when.20using.20associated.20constant.20in.20ty.html#202814079">(Jul 03 2020 at 15:17)</a>:</h4>
<p>according to the godbolt, it regressed since 1.22.0. and seems it's related to const-eval and cyclic reference. <code>P-high</code> for it?</p>



<a name="202814871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2373980%20ICE%20when%20using%20associated%20constant%20in%20ty/near/202814871" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2373980.20ICE.20when.20using.20associated.20constant.20in.20ty.html#202814871">(Jul 03 2020 at 15:25)</a>:</h4>
<p>Yeah, at least <code>P-high</code> imo, I would go for <code>P-critical</code> if it didn't went unnoticed since version 1.22</p>



<a name="202815155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2373980%20ICE%20when%20using%20associated%20constant%20in%20ty/near/202815155" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2373980.20ICE.20when.20using.20associated.20constant.20in.20ty.html#202815155">(Jul 03 2020 at 15:29)</a>:</h4>
<p>Ahhh, nm... that's not really <code>P-high</code>. This is just a problem with using generics in array lengths which relies on lazy normalization</p>



<a name="202815170"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2373980%20ICE%20when%20using%20associated%20constant%20in%20ty/near/202815170" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2373980.20ICE.20when.20using.20associated.20constant.20in.20ty.html#202815170">(Jul 03 2020 at 15:29)</a>:</h4>
<p>Let me quickly get the relevants duplicate issues here</p>



<a name="202820180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2373980%20ICE%20when%20using%20associated%20constant%20in%20ty/near/202820180" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2373980.20ICE.20when.20using.20associated.20constant.20in.20ty.html#202820180">(Jul 03 2020 at 16:26)</a>:</h4>
<p>I don't really think we should try to fix this before <code>lazy_normalization_consts</code> is stable <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span><br>
So <code>P-medium</code>maybe, don't know how to best handle this.</p>



<a name="202820189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2373980%20ICE%20when%20using%20associated%20constant%20in%20ty/near/202820189" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2373980.20ICE.20when.20using.20associated.20constant.20in.20ty.html#202820189">(Jul 03 2020 at 16:26)</a>:</h4>
<p>Opened <a href="https://github.com/rust-lang/rust/issues/74000">#74000</a> to separate <code>lazy_normalization_consts</code> from <code>const_generics</code><br>
will slightly adjust my priorities after looking at this for a bit</p>



<a name="202820288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2373980%20ICE%20when%20using%20associated%20constant%20in%20ty/near/202820288" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2373980.20ICE.20when.20using.20associated.20constant.20in.20ty.html#202820288">(Jul 03 2020 at 16:27)</a>:</h4>
<p>But it might be a good idea to fix name resolution to at least prevent the ICE</p>



<a name="202820333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2373980%20ICE%20when%20using%20associated%20constant%20in%20ty/near/202820333" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Okushi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2373980.20ICE.20when.20using.20associated.20constant.20in.20ty.html#202820333">(Jul 03 2020 at 16:27)</a>:</h4>
<p>thanks for investigating! sounds good, no objections for that prio</p>



<a name="203004035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2373980%20ICE%20when%20using%20associated%20constant%20in%20ty/near/203004035" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2373980.20ICE.20when.20using.20associated.20constant.20in.20ty.html#203004035">(Jul 06 2020 at 15:31)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/73980">#73980</a>'s prioritization request has been removed.</p>



<a name="203004125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2373980%20ICE%20when%20using%20associated%20constant%20in%20ty/near/203004125" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Lanteri Thauvin <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2373980.20ICE.20when.20using.20associated.20constant.20in.20ty.html#203004125">(Jul 06 2020 at 15:32)</a>:</h4>
<p>(Assigned <code>P-medium</code>)</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>