<html>
<head><meta charset="utf-8"><title>I-prioritize #76452 Low nproc ulimit causes compiler to cra… · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2376452.20Low.20nproc.20ulimit.20causes.20compiler.20to.20cra.E2.80.A6.html">I-prioritize #76452 Low nproc ulimit causes compiler to cra…</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="209332540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2376452%20Low%20nproc%20ulimit%20causes%20compiler%20to%20cra%E2%80%A6/near/209332540" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2376452.20Low.20nproc.20ulimit.20causes.20compiler.20to.20cra.E2.80.A6.html#209332540">(Sep 07 2020 at 22:59)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/76452">#76452</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="209332708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2376452%20Low%20nproc%20ulimit%20causes%20compiler%20to%20cra%E2%80%A6/near/209332708" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DPC <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2376452.20Low.20nproc.20ulimit.20causes.20compiler.20to.20cra.E2.80.A6.html#209332708">(Sep 07 2020 at 23:02)</a>:</h4>
<p>(this is solved btw but was wondering if there is anything documented regarding ulimit or if we could do anything about this in general)</p>



<a name="209332722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2376452%20Low%20nproc%20ulimit%20causes%20compiler%20to%20cra%E2%80%A6/near/209332722" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2376452.20Low.20nproc.20ulimit.20causes.20compiler.20to.20cra.E2.80.A6.html#209332722">(Sep 07 2020 at 23:02)</a>:</h4>
<p>I mean, 'use less threads'? that kills compile times though :/</p>



<a name="209332726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2376452%20Low%20nproc%20ulimit%20causes%20compiler%20to%20cra%E2%80%A6/near/209332726" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2376452.20Low.20nproc.20ulimit.20causes.20compiler.20to.20cra.E2.80.A6.html#209332726">(Sep 07 2020 at 23:02)</a>:</h4>
<p>I don't know if it's worth fixing</p>



<a name="209332747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2376452%20Low%20nproc%20ulimit%20causes%20compiler%20to%20cra%E2%80%A6/near/209332747" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2376452.20Low.20nproc.20ulimit.20causes.20compiler.20to.20cra.E2.80.A6.html#209332747">(Sep 07 2020 at 23:03)</a>:</h4>
<p>it would be nice to give a better error message though</p>



<a name="209332828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2376452%20Low%20nproc%20ulimit%20causes%20compiler%20to%20cra%E2%80%A6/near/209332828" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2376452.20Low.20nproc.20ulimit.20causes.20compiler.20to.20cra.E2.80.A6.html#209332828">(Sep 07 2020 at 23:04)</a>:</h4>
<p>so I'd say P-medium WRT the error message and P-low WRT to making it actually work with ulimit=100</p>



<a name="209332848"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2376452%20Low%20nproc%20ulimit%20causes%20compiler%20to%20cra%E2%80%A6/near/209332848" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2376452.20Low.20nproc.20ulimit.20causes.20compiler.20to.20cra.E2.80.A6.html#209332848">(Sep 07 2020 at 23:04)</a>:</h4>
<p>especially since you can work around it with <code>-j1</code></p>



<a name="209381704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2376452%20Low%20nproc%20ulimit%20causes%20compiler%20to%20cra%E2%80%A6/near/209381704" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2376452.20Low.20nproc.20ulimit.20causes.20compiler.20to.20cra.E2.80.A6.html#209381704">(Sep 08 2020 at 12:57)</a>:</h4>
<p>I agree on <code>P-medium</code>, a crash is a always crash.<br>
Are there real world situations in which limiting to <code>100</code> the max user processes is useful? In case we can always bump the flag a bit</p>



<a name="209556766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2376452%20Low%20nproc%20ulimit%20causes%20compiler%20to%20cra%E2%80%A6/near/209556766" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2376452.20Low.20nproc.20ulimit.20causes.20compiler.20to.20cra.E2.80.A6.html#209556766">(Sep 09 2020 at 19:28)</a>:</h4>
<p>I was more inclined to go with <code>P-low</code> but I'm fine with <code>P-medium</code> that is what you've agreed on, so <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="209556798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize%20%2376452%20Low%20nproc%20ulimit%20causes%20compiler%20to%20cra%E2%80%A6/near/209556798" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/I-prioritize.20.2376452.20Low.20nproc.20ulimit.20causes.20compiler.20to.20cra.E2.80.A6.html#209556798">(Sep 09 2020 at 19:28)</a>:</h4>
<p>Issue <a href="https://github.com/rust-lang/rust/issues/76452">#76452</a>'s prioritization request has been removed.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>