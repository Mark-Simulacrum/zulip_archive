<html>
<head><meta charset="utf-8"><title>#84667 In latest nightly observing a to-be returned variabl… · t-compiler/wg-prioritization/alerts · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/index.html">t-compiler/wg-prioritization/alerts</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html">#84667 In latest nightly observing a to-be returned variabl…</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="236646575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236646575" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> triagebot <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236646575">(Apr 29 2021 at 09:50)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="3111">@WG-prioritization/alerts</span> issue <a href="https://github.com/rust-lang/rust/issues/84667">#84667</a> has been requested for prioritization.</p>
<h1><a href="https://forge.rust-lang.org/compiler/prioritization/procedure.html#assign-priority-to-unprioritized-issues-with-i-prioritize-label">Procedure</a></h1>
<ul>
<li>Priority?</li>
<li>Regression?</li>
<li>Notify people/groups?</li>
<li>Needs <code>I-nominated</code>?</li>
</ul>



<a name="236647179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236647179" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236647179">(Apr 29 2021 at 09:56)</a>:</h4>
<p>LLVM regression from stable to beta, problem with the C FFI IIUC. <code>P-high</code>, I'd say.</p>



<a name="236648794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236648794" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236648794">(Apr 29 2021 at 10:09)</a>:</h4>
<p>wow, interesting error. I have no great context here but yes, it smells like P-high</p>



<a name="236649517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236649517" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236649517">(Apr 29 2021 at 10:16)</a>:</h4>
<p>I believe it could show up in a bunch of C/C++ libraries that users link against. Does that clarify things a bit?</p>



<a name="236649568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236649568" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tm <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236649568">(Apr 29 2021 at 10:17)</a>:</h4>
<p>FFI turns out to be unnecessary to reproduce the issue.</p>



<a name="236649650"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236649650" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236649650">(Apr 29 2021 at 10:18)</a>:</h4>
<p>If that's the case, shouldn't it be unsound, and therefore <code>P-critical</code> (the last one is an opinion).</p>



<a name="236649906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236649906" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stu <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236649906">(Apr 29 2021 at 10:20)</a>:</h4>
<p>I think we should wait a bit for a MVCE but it’s probably going to be P-critical I guess.</p>



<a name="236649990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236649990" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stu <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236649990">(Apr 29 2021 at 10:21)</a>:</h4>
<p>I can investigate further later this day and trying to get a MVCE</p>



<a name="236650334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236650334" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236650334">(Apr 29 2021 at 10:24)</a>:</h4>
<p><span class="user-mention" data-user-id="230287">@Stu</span>  that would be great.</p>
<p>Meanwhile I'm thinking that this looks like something that appeared in 1.51 (see <a href="https://github.com/rust-lang/rust/commit/635ccfe01c0be19d9fb0a99facbd9e06290f0ab1">linked commit</a>), the next stable release is in a week (May, 6th).</p>
<p>If this turns out to be evaluated as a P-critical, my next question would be if that could be a significant regression to qualify as a release blocker</p>



<a name="236650413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236650413" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236650413">(Apr 29 2021 at 10:25)</a>:</h4>
<p>(personally I don't think so, but still asking myself the question)</p>



<a name="236650483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236650483" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236650483">(Apr 29 2021 at 10:25)</a>:</h4>
<p>I believe we should do a crater run if one hasn't been done since that PR.</p>



<a name="236650577"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236650577" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236650577">(Apr 29 2021 at 10:26)</a>:</h4>
<p>That would give us an idea of what breaks and doesn't, and may help with an MVCE.</p>



<a name="236650780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236650780" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236650780">(Apr 29 2021 at 10:28)</a>:</h4>
<p>I've noticed this comment in pr <a href="https://github.com/rust-lang/rust/issues/77885">#77885</a></p>
<p><a href="https://github.com/rust-lang/rust/pull/77885#discussion_r599690797">https://github.com/rust-lang/rust/pull/77885#discussion_r599690797</a></p>
<p>(not sure if related)</p>



<a name="236650956"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236650956" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hameer Abbasi <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236650956">(Apr 29 2021 at 10:30)</a>:</h4>
<p>I believe that only matters if a user builds <code>rustc</code> against an old LLVM version, which I believe isn't the case here.</p>



<a name="236650978"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/245100-t-compiler/wg-prioritization/alerts/topic/%2384667%20In%20latest%20nightly%20observing%20a%20to-be%20returned%20variabl%E2%80%A6/near/236650978" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stu <a href="https://rust-lang.github.io/zulip_archive/stream/245100-t-compiler/wg-prioritization/alerts/topic/.2384667.20In.20latest.20nightly.20observing.20a.20to-be.20returned.20variabl.E2.80.A6.html#236650978">(Apr 29 2021 at 10:30)</a>:</h4>
<p>Oh wow. Already the next release. It feels like 1.51 was released a few days ago <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>