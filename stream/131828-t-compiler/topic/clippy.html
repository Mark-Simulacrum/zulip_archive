<html>
<head><meta charset="utf-8"><title>clippy · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html">clippy</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="203233508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203233508" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203233508">(Jul 08 2020 at 05:48)</a>:</h4>
<p>Is clippy now part of rustc?</p>



<a name="203233572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203233572" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203233572">(Jul 08 2020 at 05:50)</a>:</h4>
<p>mmm, looks like it's not a submodule any more.</p>



<a name="203233613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203233613" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lzutao <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203233613">(Jul 08 2020 at 05:51)</a>:</h4>
<p>It is a subtree in the Rust repo, but you can also develop with it in clippy repo</p>



<a name="203236345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203236345" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203236345">(Jul 08 2020 at 06:49)</a>:</h4>
<p>At <a href="https://github.com/rust-lang/rust/tree/master/src/tools">https://github.com/rust-lang/rust/tree/master/src/tools</a>, some of the directories have <code>@</code>, which I think means "git submodule", but clippy isn't one of them.</p>



<a name="203236347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203236347" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203236347">(Jul 08 2020 at 06:49)</a>:</h4>
<p>I think this has changed recently?</p>



<a name="203237523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203237523" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203237523">(Jul 08 2020 at 07:10)</a>:</h4>
<p>If I change an interface that clippy uses, I now have to fix the clippy code for rustc to build locally. <span class="user-mention" data-user-id="132040">@Manish Goregaokar</span> , is that expected?</p>



<a name="203237534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203237534" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203237534">(Jul 08 2020 at 07:11)</a>:</h4>
<p>Yes</p>



<a name="203237549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203237549" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203237549">(Jul 08 2020 at 07:11)</a>:</h4>
<p>But you can fix it in tree</p>



<a name="203237563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203237563" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203237563">(Jul 08 2020 at 07:11)</a>:</h4>
<p>Clippy is "just another" internal consumer</p>



<a name="203237565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203237565" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203237565">(Jul 08 2020 at 07:11)</a>:</h4>
<p>like rustdoc</p>



<a name="203237576"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203237576" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203237576">(Jul 08 2020 at 07:12)</a>:</h4>
<p>Clippy is now managed by subtree</p>



<a name="203237623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203237623" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203237623">(Jul 08 2020 at 07:12)</a>:</h4>
<p>which means it's vendored in tree (and you don't have to worry about subtree at all)</p>



<a name="203237649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203237649" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203237649">(Jul 08 2020 at 07:12)</a>:</h4>
<p>And we occasionally run a sync step up and down between the clippy repo</p>



<a name="203237754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203237754" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203237754">(Jul 08 2020 at 07:14)</a>:</h4>
<p>This is the best of both worlds: it's still easy to get folks to hack on it out of tree, but we don't need to worry about rust breakages since people can fix them in the same PR causing the breakage</p>



<a name="203237903"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203237903" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203237903">(Jul 08 2020 at 07:16)</a>:</h4>
<p>lovely, thanks!</p>



<a name="203237922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203237922" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203237922">(Jul 08 2020 at 07:16)</a>:</h4>
<p>BTW, is "subtree" a name in the above? Like is this a git/GitHub feature?</p>



<a name="203237943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203237943" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203237943">(Jul 08 2020 at 07:16)</a>:</h4>
<p>yes</p>



<a name="203237953"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203237953" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203237953">(Jul 08 2020 at 07:17)</a>:</h4>
<p>It's a git feature</p>



<a name="203237981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203237981" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203237981">(Jul 08 2020 at 07:17)</a>:</h4>
<p>Note that due to some bugs the built-in git version doesn't actually work for us, we need a patched version to do the initial sync, but again only Clippy team members need to worry about this</p>



<a name="203238029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203238029" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203238029">(Jul 08 2020 at 07:18)</a>:</h4>
<p>As we continue to play around with this we might start doing similar things for miri, rustfmt, and maybe rustdoc</p>



<a name="203238062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203238062" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203238062">(Jul 08 2020 at 07:18)</a>:</h4>
<p>(rustfmt is in a particularly weird place since it has its own unique way of handling rustc breakage)</p>



<a name="203240373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203240373" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Félix Fischer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203240373">(Jul 08 2020 at 07:55)</a>:</h4>
<p>I'm so happy that this happened. Long haul Clippy PRs were a pain to maintain because random rustc commits kept breaking Clippy's <code>master</code></p>



<a name="203240436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203240436" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Félix Fischer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203240436">(Jul 08 2020 at 07:56)</a>:</h4>
<p>And well, sometimes we couldn't build with the <code>master</code> toolchain for days</p>



<a name="203240477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203240477" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Félix Fischer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203240477">(Jul 08 2020 at 07:56)</a>:</h4>
<p>Also this meant, at least for me, more chances of messing up your own commits with git because git</p>



<a name="203240509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203240509" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Félix Fischer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203240509">(Jul 08 2020 at 07:57)</a>:</h4>
<p>(Like non commutativity and other stuff that tends to break git's reasoning about changes)</p>



<a name="203310428"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/clippy/near/203310428" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/clippy.html#203310428">(Jul 08 2020 at 19:20)</a>:</h4>
<p>This is good, I'm fidding with <code>Symbol</code> and it is impacting clippy, so I'm glad that this won't cause much disruption now</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>