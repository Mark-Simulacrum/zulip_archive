<html>
<head><meta charset="utf-8"><title>beta backports · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html">beta backports</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="132742201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/132742201" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#132742201">(Aug 25 2018 at 09:26)</a>:</h4>
<p>Hey T-compiler!<br>
There are <a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Amerged+label%3AT-compiler+label%3Abeta-nominated+-label%3Abeta-accepted" target="_blank" title="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Amerged+label%3AT-compiler+label%3Abeta-nominated+-label%3Abeta-accepted">a bunch of PRs</a> waiting your approval for beta backport.</p>



<a name="132742215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/132742215" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#132742215">(Aug 25 2018 at 09:27)</a>:</h4>
<p>(don't worry if you missed them, those PRs weren't labeled T-compiler before)</p>



<a name="147985746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147985746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147985746">(Nov 19 2018 at 18:57)</a>:</h4>
<p><span class="user-group-mention" data-user-group-id="492">@T-compiler</span>  So, we've been trying to get all backports and things done by this Wednesday, owing to the upcoming US holiday. This means we've got to "move faster" on the <a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=+is%3Apr+label%3Abeta-nominated+-label%3Abeta-accepted" target="_blank" title="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=+is%3Apr+label%3Abeta-nominated+-label%3Abeta-accepted">list of pending beta nominations</a> than waiting for a standard triage meeting. Here is the list of backports and my recommendations. If you disagree, please let me know ASAP =)</p>
<p>## Clear accept</p>
<p>Small patch, fixes regression or otherwise important for edition.</p>
<ul>
<li>Fix stability hole with <code>static _</code> <a href="https://github.com/rust-lang/rust/issues/55983" target="_blank" title="https://github.com/rust-lang/rust/issues/55983">#55983</a> </li>
<li>do not propagate inferred bounds on trait objects if they involve <code>Self</code> <a href="https://github.com/rust-lang/rust/issues/56003" target="_blank" title="https://github.com/rust-lang/rust/issues/56003">#56003</a> </li>
<li>remove "approx env bounds" if we already know from trait <a href="https://github.com/rust-lang/rust/issues/56043" target="_blank" title="https://github.com/rust-lang/rust/issues/56043">#56043</a> </li>
<li>Stabilize <code>extern_crate_item_prelude</code> <a href="https://github.com/rust-lang/rust/issues/56032" target="_blank" title="https://github.com/rust-lang/rust/issues/56032">#56032</a> </li>
</ul>
<p>## Accept, but with caveats</p>
<p>While conceptually simple, this PR itself is fairly large. Still, it fixes an NLL regression affecting servo (<a href="https://github.com/rust-lang/rust/issues/55223" target="_blank" title="https://github.com/rust-lang/rust/issues/55223">#55223</a>). I don't know if there's a more minimal diff, perhaps. It's also been living happily on nightly though so producing a <em>new</em> PR feels more risky.</p>
<ul>
<li>NLL: cast causes failure to promote to static <a href="https://github.com/rust-lang/rust/issues/55385" target="_blank" title="https://github.com/rust-lang/rust/issues/55385">#55385</a></li>
</ul>



<a name="147985823"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147985823" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147985823">(Nov 19 2018 at 18:58)</a>:</h4>
<p>hmm when does beta branch off?</p>



<a name="147985836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147985836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147985836">(Nov 19 2018 at 18:58)</a>:</h4>
<p>(I was hoping to get the proc-macro PR in)</p>



<a name="147985850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147985850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147985850">(Nov 19 2018 at 18:59)</a>:</h4>
<p>I'm not 100% sure of the schedule, perhaps <span class="user-mention" data-user-id="116122">@simulacrum</span> or <span class="user-mention" data-user-id="121055">@Pietro Albini</span> knows for sure</p>



<a name="147985877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147985877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147985877">(Nov 19 2018 at 18:59)</a>:</h4>
<p>Probably a few days before december 7th</p>



<a name="147985881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147985881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147985881">(Nov 19 2018 at 18:59)</a>:</h4>
<p>or wait, do we branch earlier because it is rust 2018 release?</p>



<a name="147985885"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147985885" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147985885">(Nov 19 2018 at 19:00)</a>:</h4>
<p>yeah that's why I'm asking</p>



<a name="147985954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147985954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147985954">(Nov 19 2018 at 19:00)</a>:</h4>
<p>do you mean the beta freeze?</p>



<a name="147985973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147985973" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147985973">(Nov 19 2018 at 19:00)</a>:</h4>
<p>wait, no</p>



<a name="147986008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147986008" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147986008">(Nov 19 2018 at 19:01)</a>:</h4>
<p>I meant when master becomes beta</p>



<a name="147986055"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147986055" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147986055">(Nov 19 2018 at 19:02)</a>:</h4>
<p>that should happen sometime during the release week, as usual (I don't know anything that would change that, but maybe <span class="user-mention" data-user-id="116122">@simulacrum</span> knows better)</p>



<a name="147988434"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147988434" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147988434">(Nov 19 2018 at 19:34)</a>:</h4>
<p>I expect master/beta promotion to happen as per normal; edition release should not be affected by that.</p>



<a name="147988437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147988437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147988437">(Nov 19 2018 at 19:34)</a>:</h4>
<p>(and vice versa)</p>



<a name="147988487"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147988487" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147988487">(Nov 19 2018 at 19:35)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="119009">@eddyb</span> a major motivation was to leave time for unexpected crises but also an extra beta run</p>



<a name="147988569"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147988569" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147988569">(Nov 19 2018 at 19:36)</a>:</h4>
<p>okay so I shouldn't be worried</p>



<a name="147988619"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147988619" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147988619">(Nov 19 2018 at 19:37)</a>:</h4>
<p>No objection to backporting any of these from me.</p>



<a name="147988629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147988629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147988629">(Nov 19 2018 at 19:37)</a>:</h4>
<p>though I didn’t look at any of those too closely.</p>



<a name="147990921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147990921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147990921">(Nov 19 2018 at 20:03)</a>:</h4>
<p><span class="user-mention" data-user-id="119009">@eddyb</span> Yes, that's accurate</p>



<a name="147990964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147990964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147990964">(Nov 19 2018 at 20:04)</a>:</h4>
<p>No need to worry, beta/master promotion is as per normal.</p>



<a name="147990993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147990993" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147990993">(Nov 19 2018 at 20:04)</a>:</h4>
<p>also don't worry about the crater queue, if we need to get a beta run going we can always give priority/kill the current run</p>



<a name="147996106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147996106" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147996106">(Nov 19 2018 at 21:19)</a>:</h4>
<p>From talking to nrc there are a few more backports I was not aware of. Most of them are small changes to save analysis but there is also one larger change to name resolution (cc <span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span>) -- to help nrc out, I can give a try at backporting that more complex one, perhaps.</p>
<ul>
<li><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+author%3Anrc+label%3Abeta-nominated" target="_blank" title="https://github.com/rust-lang/rust/pulls?q=is%3Apr+author%3Anrc+label%3Abeta-nominated">List of nrc PRs</a></li>
<li><a href="https://github.com/rust-lang/rust/pull/55879" target="_blank" title="https://github.com/rust-lang/rust/pull/55879">Plus one more</a></li>
</ul>



<a name="147996751"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147996751" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147996751">(Nov 19 2018 at 21:28)</a>:</h4>
<p>The large PR (<a href="https://github.com/rust-lang/rust/pull/54145" target="_blank" title="https://github.com/rust-lang/rust/pull/54145">https://github.com/rust-lang/rust/pull/54145</a>) introduced several ICEs and I'm not sure all of them are fixed.</p>



<a name="147996983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147996983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147996983">(Nov 19 2018 at 21:31)</a>:</h4>
<p>@nrc probably needs to audit and possibly fix the relevant issues from the last month if he wants to land it on beta.</p>



<a name="147997202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147997202" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147997202">(Nov 19 2018 at 21:34)</a>:</h4>
<p>(I thought nrc gave up on backporting it after the first backport attempt in <a href="https://github.com/rust-lang/rust/pull/55405" target="_blank" title="https://github.com/rust-lang/rust/pull/55405">https://github.com/rust-lang/rust/pull/55405</a> was unsuccessful.)</p>



<a name="147997845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147997845" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147997845">(Nov 19 2018 at 21:44)</a>:</h4>
<p>He says he believes the ICEs are fixed (most of them are in the save resolution PRs to be backported)</p>



<a name="147997882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147997882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147997882">(Nov 19 2018 at 21:44)</a>:</h4>
<p>seems like they should be backported as a "unit"</p>



<a name="147997892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147997892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147997892">(Nov 19 2018 at 21:45)</a>:</h4>
<p>plus it would need <a href="https://github.com/rust-lang/rust/pull/56061/files" target="_blank" title="https://github.com/rust-lang/rust/pull/56061/files">the RLS update</a></p>



<a name="147997964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147997964" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147997964">(Nov 19 2018 at 21:46)</a>:</h4>
<p>btw, <span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span>, I presume you planned to "forward port" your latest PRs to nightly?</p>



<a name="147998058"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147998058" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147998058">(Nov 19 2018 at 21:47)</a>:</h4>
<p>there is a PR of that</p>



<a name="147998126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147998126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147998126">(Nov 19 2018 at 21:48)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/56042" target="_blank" title="https://github.com/rust-lang/rust/pull/56042">https://github.com/rust-lang/rust/pull/56042</a></p>



<a name="147998152"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147998152" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147998152">(Nov 19 2018 at 21:48)</a>:</h4>
<p>(or perhaps I’m thinking of the wrong one?)</p>



<a name="147998410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147998410" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147998410">(Nov 19 2018 at 21:53)</a>:</h4>
<p>Yes, one forward-port already landed.<br>
There will be one more if <a href="https://github.com/rust-lang/rust/pull/56053" target="_blank" title="https://github.com/rust-lang/rust/pull/56053">https://github.com/rust-lang/rust/pull/56053</a> lands on beta.</p>



<a name="147998452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147998452" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147998452">(Nov 19 2018 at 21:54)</a>:</h4>
<p>great</p>



<a name="147998490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147998490" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147998490">(Nov 19 2018 at 21:54)</a>:</h4>
<p>hadn't seen that</p>



<a name="147998517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147998517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147998517">(Nov 19 2018 at 21:54)</a>:</h4>
<p><span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> are you prep'ing the modified version of <a href="https://github.com/rust-lang/rust/pull/56053" target="_blank" title="https://github.com/rust-lang/rust/pull/56053">https://github.com/rust-lang/rust/pull/56053</a> that includes the "std in root" etc?</p>



<a name="147998523"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147998523" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147998523">(Nov 19 2018 at 21:54)</a>:</h4>
<p>I think that was still the plan, right?</p>



<a name="147998536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/147998536" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#147998536">(Nov 19 2018 at 21:55)</a>:</h4>
<p>Yes.</p>



<a name="148001245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148001245" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148001245">(Nov 19 2018 at 22:39)</a>:</h4>
<p>well, backporting <a href="https://github.com/rust-lang/rust/issues/54145" target="_blank" title="https://github.com/rust-lang/rust/issues/54145">#54145</a> is not entirely trivial</p>



<a name="148001248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148001248" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148001248">(Nov 19 2018 at 22:39)</a>:</h4>
<p>still poking at it</p>



<a name="148002360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148002360" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148002360">(Nov 19 2018 at 22:56)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> <br>
Look at <a href="https://github.com/rust-lang/rust/pull/56042/commits/38025e0dca8c2f049884eedc58792c4e321ed27c" target="_blank" title="https://github.com/rust-lang/rust/pull/56042/commits/38025e0dca8c2f049884eedc58792c4e321ed27c">https://github.com/rust-lang/rust/pull/56042/commits/38025e0dca8c2f049884eedc58792c4e321ed27c</a><br>
The fix for backport of <a href="https://github.com/rust-lang/rust/issues/54145" target="_blank" title="https://github.com/rust-lang/rust/issues/54145">https://github.com/rust-lang/rust/issues/54145</a> should be very similar to that commit.</p>



<a name="148002503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148002503" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148002503">(Nov 19 2018 at 22:58)</a>:</h4>
<p>Oh, wait, no. I also fixed half of these segment &lt;-&gt; ident mismatches in the middle of rebase, so it's spread over whole <a href="https://github.com/rust-lang/rust/pull/56042" target="_blank" title="https://github.com/rust-lang/rust/pull/56042">https://github.com/rust-lang/rust/pull/56042</a>.</p>



<a name="148006552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148006552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148006552">(Nov 20 2018 at 00:18)</a>:</h4>
<p><span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> ok thanks</p>



<a name="148006744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148006744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148006744">(Nov 20 2018 at 00:20)</a>:</h4>
<p>though it looks pretty different :)</p>



<a name="148006757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148006757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148006757">(Nov 20 2018 at 00:21)</a>:</h4>
<p>I guess we refactored all the <code>(Ident, Option&lt;NodeId&gt;)</code> pairs into <code>Segment</code> at some point?</p>



<a name="148007139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148007139" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148007139">(Nov 20 2018 at 00:28)</a>:</h4>
<p>In <a href="https://github.com/rust-lang/rust/pull/54145" target="_blank" title="https://github.com/rust-lang/rust/pull/54145">https://github.com/rust-lang/rust/pull/54145</a> itself.</p>



<a name="148035792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148035792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148035792">(Nov 20 2018 at 12:35)</a>:</h4>
<p>ok, later in the sequence I guess</p>



<a name="148106161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148106161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148106161">(Nov 21 2018 at 12:18)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> </p>
<blockquote>
<p>He says he believes the ICEs are fixed (most of them are in the save resolution PRs to be backported)</p>
</blockquote>
<p>Not all of them, it seems - <a href="https://github.com/rust-lang/rust/issues/56128" target="_blank" title="https://github.com/rust-lang/rust/issues/56128">https://github.com/rust-lang/rust/issues/56128</a></p>



<a name="148109979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148109979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148109979">(Nov 21 2018 at 13:34)</a>:</h4>
<p><span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> sigh</p>



<a name="148113516"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148113516" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148113516">(Nov 21 2018 at 14:34)</a>:</h4>
<p><span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> is <a href="https://github.com/rust-lang/rust/pull/56117" target="_blank" title="https://github.com/rust-lang/rust/pull/56117">https://github.com/rust-lang/rust/pull/56117</a> still relevant?</p>



<a name="148113527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148113527" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148113527">(Nov 21 2018 at 14:34)</a>:</h4>
<p>oh, I guess it is</p>



<a name="148113912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148113912" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148113912">(Nov 21 2018 at 14:41)</a>:</h4>
<p>the other question is how much to care about <a href="https://github.com/rust-lang/rust/issues/53797" target="_blank" title="https://github.com/rust-lang/rust/issues/53797">https://github.com/rust-lang/rust/issues/53797</a></p>



<a name="148113914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148113914" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148113914">(Nov 21 2018 at 14:41)</a>:</h4>
<p>I guess I will see if it's easy to fix</p>



<a name="148114342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148114342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148114342">(Nov 21 2018 at 14:47)</a>:</h4>
<blockquote>
<p>is <a href="https://github.com/rust-lang/rust/pull/56117" target="_blank" title="https://github.com/rust-lang/rust/pull/56117">https://github.com/rust-lang/rust/pull/56117</a> still relevant?</p>
</blockquote>
<p>Still relevant.</p>
<blockquote>
<p>the other question is how much to care about <a href="https://github.com/rust-lang/rust/issues/53797" target="_blank" title="https://github.com/rust-lang/rust/issues/53797">https://github.com/rust-lang/rust/issues/53797</a></p>
</blockquote>
<p>I don't care much about it personally :)</p>



<a name="148114690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148114690" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148114690">(Nov 21 2018 at 14:52)</a>:</h4>
<p>It seems important for our premise of forward porting people's code</p>



<a name="148114694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148114694" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148114694">(Nov 21 2018 at 14:52)</a>:</h4>
<p>but it may be something that nobody in practice does</p>



<a name="148114718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148114718" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148114718">(Nov 21 2018 at 14:52)</a>:</h4>
<p>(specifically, having a crate + module with same name, and then referencing the module in an ambiguous way)</p>



<a name="148114725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148114725" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148114725">(Nov 21 2018 at 14:52)</a>:</h4>
<p>I can't quite tell where the "forward compatibility" lints trigger</p>



<a name="148114899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148114899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148114899">(Nov 21 2018 at 14:55)</a>:</h4>
<p>ok, I found the code in question (<code>lint_if_path_starts_with_module</code>)</p>



<a name="148114942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148114942" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148114942">(Nov 21 2018 at 14:56)</a>:</h4>
<p>the problem here is more about modules that shadow prelude names</p>



<a name="148140855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/148140855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#148140855">(Nov 21 2018 at 22:21)</a>:</h4>
<p>Another fix for stable-to-beta regression - <a href="https://github.com/rust-lang/rust/pull/56147" target="_blank" title="https://github.com/rust-lang/rust/pull/56147">https://github.com/rust-lang/rust/pull/56147</a></p>



<a name="159193116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193116" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193116">(Feb 22 2019 at 21:33)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> or maybe <span class="user-mention" data-user-id="116083">@pnkfelix</span> -- can you look at the test failure in <a href="https://github.com/rust-lang/rust/pull/58656" target="_blank" title="https://github.com/rust-lang/rust/pull/58656">https://github.com/rust-lang/rust/pull/58656</a>?</p>



<a name="159193216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193216" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193216">(Feb 22 2019 at 21:34)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> I feel like I saw a PR, I think by <span class="user-mention" data-user-id="116083">@pnkfelix</span> aiming to address this problem..?</p>



<a name="159193252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193252">(Feb 22 2019 at 21:35)</a>:</h4>
<p>hmm</p>



<a name="159193254"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193254" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193254">(Feb 22 2019 at 21:35)</a>:</h4>
<p>I may be misremembering</p>



<a name="159193258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193258">(Feb 22 2019 at 21:35)</a>:</h4>
<p>it looks like a different error</p>



<a name="159193340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193340" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193340">(Feb 22 2019 at 21:36)</a>:</h4>
<p>oh, heh, it looks like the PR I am thinking of is actually the one that <strong>added that test</strong></p>



<a name="159193342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193342">(Feb 22 2019 at 21:36)</a>:</h4>
<p>You mean <a href="https://github.com/rust-lang/rust/pull/58649" target="_blank" title="https://github.com/rust-lang/rust/pull/58649">https://github.com/rust-lang/rust/pull/58649</a>?</p>



<a name="159193452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193452" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193452">(Feb 22 2019 at 21:38)</a>:</h4>
<p>It might be an interaction with some previous PR (i.e., the fixes it introduces are then insufficient)</p>



<a name="159193475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193475">(Feb 22 2019 at 21:38)</a>:</h4>
<p>Right</p>



<a name="159193480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193480" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193480">(Feb 22 2019 at 21:38)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> Do you think we should back it out of the rollup and land everything else? It looks like a "why not" backport to me, but maybe that's the wrong impression</p>



<a name="159193486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193486">(Feb 22 2019 at 21:39)</a>:</h4>
<p>well so</p>



<a name="159193495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193495" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193495">(Feb 22 2019 at 21:39)</a>:</h4>
<p>ok I get the same error with <code>+beta</code></p>



<a name="159193499"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193499" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193499">(Feb 22 2019 at 21:39)</a>:</h4>
<p>as with my local build of the leak check stuff</p>



<a name="159193509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193509">(Feb 22 2019 at 21:39)</a>:</h4>
<p>I think we should pull that PR, yes</p>



<a name="159193514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193514">(Feb 22 2019 at 21:39)</a>:</h4>
<p>my guess is that it is building on some other changes that would have to be backported</p>



<a name="159193522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193522" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193522">(Feb 22 2019 at 21:39)</a>:</h4>
<p>okay I will do that soon (probably a few hours)</p>



<a name="159193524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193524" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193524">(Feb 22 2019 at 21:39)</a>:</h4>
<p>and I don't know what those are</p>



<a name="159193587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193587">(Feb 22 2019 at 21:40)</a>:</h4>
<p>thanks!</p>



<a name="159193639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193639">(Feb 22 2019 at 21:41)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> do you want me to rebase your branch without those commits?</p>



<a name="159193643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193643" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193643">(Feb 22 2019 at 21:41)</a>:</h4>
<p>(if you are busy right now)</p>



<a name="159193658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193658" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193658">(Feb 22 2019 at 21:41)</a>:</h4>
<p>if you have the time -- I will do so in ~1.5 hours myself if not</p>



<a name="159193668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193668" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193668">(Feb 22 2019 at 21:41)</a>:</h4>
<p>Would appreciate of course :)</p>



<a name="159193741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193741" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193741">(Feb 22 2019 at 21:42)</a>:</h4>
<p>I say keep PR but kill the test it adds , myself</p>



<a name="159193748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193748">(Feb 22 2019 at 21:42)</a>:</h4>
<p>that's reasonable</p>



<a name="159193759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193759" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193759">(Feb 22 2019 at 21:42)</a>:</h4>
<p>But maybe that’s just asking for trouble</p>



<a name="159193780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193780">(Feb 22 2019 at 21:42)</a>:</h4>
<p>well, in this specific instance</p>



<a name="159193781"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193781" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193781">(Feb 22 2019 at 21:42)</a>:</h4>
<p>The PR itself still seems it can only help</p>



<a name="159193787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193787">(Feb 22 2019 at 21:43)</a>:</h4>
<p>iirc all you did was change to delay_span_bug</p>



<a name="159193792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193792">(Feb 22 2019 at 21:43)</a>:</h4>
<p>seems safe</p>



<a name="159193803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193803" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193803">(Feb 22 2019 at 21:43)</a>:</h4>
<p>Right</p>



<a name="159193825"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193825" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193825">(Feb 22 2019 at 21:43)</a>:</h4>
<p>Can’t believe I forgot that compare mode nll is off by default</p>



<a name="159193827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193827" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193827">(Feb 22 2019 at 21:43)</a>:</h4>
<p>Argh</p>



<a name="159193868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193868" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193868">(Feb 22 2019 at 21:44)</a>:</h4>
<p>(Off by default for local checkouts+builds, that is)</p>



<a name="159193892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193892">(Feb 22 2019 at 21:44)</a>:</h4>
<p>Done</p>



<a name="159193904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193904">(Feb 22 2019 at 21:44)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> I pushed a version to your branch without the test :)</p>



<a name="159193910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193910">(Feb 22 2019 at 21:44)</a>:</h4>
<p>feels..like cheating but hey</p>



<a name="159193914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193914" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193914">(Feb 22 2019 at 21:44)</a>:</h4>
<p>okay sounds good - I'll re-r+</p>



<a name="159193925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193925" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193925">(Feb 22 2019 at 21:44)</a>:</h4>
<p>Reopen the original bug too please</p>



<a name="159193940"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159193940" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159193940">(Feb 22 2019 at 21:45)</a>:</h4>
<p>I’ll look at it again on Monday</p>



<a name="159194198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159194198" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159194198">(Feb 22 2019 at 21:48)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> Do you want me to r- your PR? I think it'll land successfully...</p>



<a name="159194241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159194241" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159194241">(Feb 22 2019 at 21:49)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> <a href="https://github.com/rust-lang/rust/issues/57464" target="_blank" title="https://github.com/rust-lang/rust/issues/57464">https://github.com/rust-lang/rust/issues/57464</a> was never closed yet</p>



<a name="159194251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20backports/near/159194251" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20backports.html#159194251">(Feb 22 2019 at 21:49)</a>:</h4>
<p>(as your PR had not landed)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>