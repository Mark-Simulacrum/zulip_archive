<html>
<head><meta charset="utf-8"><title>Understanding fmt internals · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Understanding.20fmt.20internals.html">Understanding fmt internals</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="231175252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Understanding%20fmt%20internals/near/231175252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Understanding.20fmt.20internals.html#231175252">(Mar 20 2021 at 22:18)</a>:</h4>
<p>I am doing an experiment to see if I can restructure the <code>format_args!</code> data to improve perf. I may be in over my head but it's at least a good learning experience. One thing I do not understand is <a href="https://github.com/rust-lang/rust/blob/61edfd591cedff66fca639c02f66984f6271e5a6/library/core/src/fmt/rt/v1.rs#L42"><code>Count::Param</code></a> and <code>ArgumentV1::from_usize</code>. Is there any reason for <code>Arguments</code> to be aware of these param indices? Couldn't we just copy the value and just use <code>Count::Is</code> instead?</p>



<a name="231186759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Understanding%20fmt%20internals/near/231186759" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Understanding.20fmt.20internals.html#231186759">(Mar 21 2021 at 02:29)</a>:</h4>
<p>(You might want to ask in <a class="stream" data-stream-id="219381" href="/#narrow/stream/219381-t-libs">#t-libs</a>)</p>



<a name="231316709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Understanding%20fmt%20internals/near/231316709" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Steffen <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Understanding.20fmt.20internals.html#231316709">(Mar 22 2021 at 14:15)</a>:</h4>
<p>Thanks, <a href="#narrow/stream/219381-t-libs/topic/Understanding.20fmt.20internals/near/231312888">reposted</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>