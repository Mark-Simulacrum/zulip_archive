<html>
<head><meta charset="utf-8"><title>`save_analysis` tests · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/.60save_analysis.60.20tests.html">`save_analysis` tests</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="199517602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%60save_analysis%60%20tests/near/199517602" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marmeladema <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/.60save_analysis.60.20tests.html#199517602">(Jun 02 2020 at 16:24)</a>:</h4>
<p>Hello!<br>
I would like make a new kind of tests in <code>src/test/</code> for the save_analysis crate. The idea would be to compare the generated output to detect regressions, the same way miri does it iirc.<br>
Could someone points to where I should be looking at to add this new test mode?</p>



<a name="199518874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%60save_analysis%60%20tests/near/199518874" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/.60save_analysis.60.20tests.html#199518874">(Jun 02 2020 at 16:33)</a>:</h4>
<p>I am unsure that it makes sense to invest effort into testing something that we're hoping to remove 'soon'... but you'd look at compiletest, in src/tools/compiletest.</p>



<a name="199518924"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%60save_analysis%60%20tests/near/199518924" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/.60save_analysis.60.20tests.html#199518924">(Jun 02 2020 at 16:33)</a>:</h4>
<p>I think a good approach would likely be to let the compiler just dump save analysis to stderr and then you can use regular UI tests I imagine</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>