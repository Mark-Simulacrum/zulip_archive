<html>
<head><meta charset="utf-8"><title>Missed betaport · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html">Missed betaport</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="261705570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/261705570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#261705570">(Nov 16 2021 at 20:57)</a>:</h4>
<p>A <code>P-high</code> <code>regression-from-stable-to-beta</code> <a href="https://github.com/rust-lang/rust/issues/89190">#89190</a> made its way into 1.56 stable release, due to the bugfix not being backported (the PR is not <code>beta-nominated</code>). Maybe we need a more systematic way of preventing things like this from happening again? E.g. let rustbot reopen all <code>regression-from-stable-to-beta</code> and <code>regression-from-stable-to-stable</code> PRs if it's closed by a PR against master branch?</p>



<a name="261714921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/261714921" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#261714921">(Nov 16 2021 at 22:15)</a>:</h4>
<p>Yeah this is a definitely risk that we’ve been just trying to catch manually.</p>



<a name="261714944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/261714944" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#261714944">(Nov 16 2021 at 22:15)</a>:</h4>
<p>and that it would be better to have a systematic way to avoid such mistakes</p>



<a name="261715537"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/261715537" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#261715537">(Nov 16 2021 at 22:20)</a>:</h4>
<p>I wonder if there is a way to tell github to not auto-close issues that have a certain label? E.g. it would make sense to me to required any issue labelled as a regression to have to be manually closed...</p>



<a name="261805841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/261805841" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#261805841">(Nov 17 2021 at 16:06)</a>:</h4>
<blockquote>
<p>E.g. let rustbot reopen all regression-from-stable-to-beta and regression-from-stable-to-stable PRs if it's closed by a PR against master branch?</p>
</blockquote>
<p>That sounds like a good idea, though I think stable-to-stable regressions are not as big a deal and stable-to-nightly matter more. Someone would have to put in the work to implement it though.</p>



<a name="261821365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/261821365" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#261821365">(Nov 17 2021 at 17:49)</a>:</h4>
<p>Stable to nightly regression is fixed after merging PR into master.</p>



<a name="261821512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/261821512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#261821512">(Nov 17 2021 at 17:50)</a>:</h4>
<p>And stable to stable regression at least warrants a backport discussion to limit window of breakage.</p>



<a name="261837862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/261837862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#261837862">(Nov 17 2021 at 19:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="303710">Gary Guo</span> <a href="#narrow/stream/131828-t-compiler/topic/Missed.20betaport/near/261821365">said</a>:</p>
<blockquote>
<p>Stable to nightly regression is fixed after merging PR into master.</p>
</blockquote>
<p>Hmm, but sometimes regressions are marked as stable-to-nightly but after they were marked they made it to beta.</p>



<a name="261838281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/261838281" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#261838281">(Nov 17 2021 at 19:49)</a>:</h4>
<p>Well, they should progress from stable-to-nightly to stable-to-beta when cut-off happens.</p>



<a name="261989340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/261989340" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#261989340">(Nov 18 2021 at 20:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="303710">Gary Guo</span> <a href="#narrow/stream/131828-t-compiler/topic/Missed.20betaport/near/261838281">said</a>:</p>
<blockquote>
<p>Well, they should progress from stable-to-nightly to stable-to-beta when cut-off happens.</p>
</blockquote>
<p>Yes, but currently it's manual and often forgotten. So protecting regression-from-stable-to-nightly issues as well might be good.</p>



<a name="261989639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/261989639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#261989639">(Nov 18 2021 at 20:58)</a>:</h4>
<p>I think it's probably worthwhile to replace regression-to-{beta,nightly} with milestones + regression-next or something (bikeshed on the last one). Milestones automate the "make sure it's up to date" and are more broadly useful to tag not-strictly-regressions.</p>



<a name="261989660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/261989660" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#261989660">(Nov 18 2021 at 20:58)</a>:</h4>
<p>There's been several proposals in this area, just not been driven to conclusion yet.</p>



<a name="261993811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/261993811" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#261993811">(Nov 18 2021 at 21:31)</a>:</h4>
<p>Yep, I think everyone's generally in agreement that it'd be better to use version numbers. Just need to figure out the details.</p>



<a name="262044260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/262044260" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#262044260">(Nov 19 2021 at 09:26)</a>:</h4>
<p>So, I'll try to create a mental model of how this can be handled in the meanwhile, please fix my thinking.<br>
The idea (iiuc) is to ensure that all fixed/closed <code>regression-from-stable-to-{stable,beta}</code> are <code>{stable,beta}-nominated</code> and evaluated for a backport, correct?</p>



<a name="262044268"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/262044268" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#262044268">(Nov 19 2021 at 09:26)</a>:</h4>
<p>If yes, could perhaps a weekly check <a href="https://github.com/rust-lang/rust/issues?q=is%3Aclosed+label%3Aregression-from-stable-to-stable+label%3Aregression-from-stable-to-beta+-label%3Abeta-approved+-label%3Abeta-nominated+-label%3Astable-nominated+-label%3Astable-approved+">with this filter</a> satisfy the requirement? I can save this link and run it before the weekly T-compiler triage meeting</p>



<a name="262044465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/262044465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#262044465">(Nov 19 2021 at 09:29)</a>:</h4>
<blockquote>
<p>Yes, but currently it's manual and often forgotten. So protecting regression-from-stable-to-nightly issues as well might be good.</p>
</blockquote>
<p>(... and in case also add the regressions on nightly to such filter)</p>



<a name="262047511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/262047511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#262047511">(Nov 19 2021 at 10:04)</a>:</h4>
<p>Most <code>regressions-from-stable-to-stable</code> typically don't get considered for a backport at all, unless they are high-impact. One of the metrics that make such a regression higher impact if the regression is present in the latest stable release only.</p>



<a name="262047585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/262047585" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#262047585">(Nov 19 2021 at 10:05)</a>:</h4>
<p>beta regressions, yeah, most of fixes for them should be considered one way or another.</p>



<a name="263051253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/263051253" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> inquisitivecrystal <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#263051253">(Nov 29 2021 at 18:46)</a>:</h4>
<p>One solution, which only requires changes to tooling, is to get triagebot to advance the regression label automatically on release day.</p>



<a name="263077644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Missed%20betaport/near/263077644" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Missed.20betaport.html#263077644">(Nov 29 2021 at 22:39)</a>:</h4>
<p>I think that's been discussed previously. Changing the tooling in some ways might require more work than switching to versioned labels. Also, the advantage of versioned labels is I think they might be a bit clearer for humans (or, at least, me).</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>