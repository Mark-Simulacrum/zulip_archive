<html>
<head><meta charset="utf-8"><title>rustdoc ICE issues seem to be autogenerated? · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html">rustdoc ICE issues seem to be autogenerated?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="218120429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218120429" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218120429">(Nov 27 2020 at 18:52)</a>:</h4>
<p><span class="user-mention" data-user-id="217864">@matthiaskrgr</span> are all the issues you just opened with rustdoc in the name created by a script or something? they say 'rustdoc' in the title, but they're labeled with T-compiler, and they were all opened really quickly</p>



<a name="218120476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218120476" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218120476">(Nov 27 2020 at 18:52)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/79468">https://github.com/rust-lang/rust/issues/79468</a> in particular I'm not even sure makes sense for rustdoc, rustdoc accepts lots of things that are normally invalid</p>



<a name="218120528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218120528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218120528">(Nov 27 2020 at 18:53)</a>:</h4>
<p>no, i filed them manually, but the crashes were found with a script</p>



<a name="218120603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218120603" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218120603">(Nov 27 2020 at 18:54)</a>:</h4>
<p>basically i ran rustdoc in all the files in the repo and filtered out the crashes</p>



<a name="218120607"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218120607" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218120607">(Nov 27 2020 at 18:54)</a>:</h4>
<p>oh I misread <a href="https://github.com/rust-lang/rust/issues/79468">https://github.com/rust-lang/rust/issues/79468</a> - it's an ICE within the compiler, it expected rustdoc to run more type checking than it did <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="218120629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218120629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218120629">(Nov 27 2020 at 18:55)</a>:</h4>
<p>gotcha, thanks - can you mark them as T-rustdoc next time?</p>



<a name="218120635"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218120635" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218120635">(Nov 27 2020 at 18:55)</a>:</h4>
<p>there are a couple more i still have to triage</p>



<a name="218120645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218120645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218120645">(Nov 27 2020 at 18:55)</a>:</h4>
<p>I guess you went from the issue template actually, I wonder if we could get a template for rustdoc ICEs</p>



<a name="218120651"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218120651" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218120651">(Nov 27 2020 at 18:55)</a>:</h4>
<p>ah I see</p>



<a name="218120727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218120727" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218120727">(Nov 27 2020 at 18:56)</a>:</h4>
<p>well rustdoc still said Internal Compiler Error so I went with the ice template</p>



<a name="218120748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218120748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218120748">(Nov 27 2020 at 18:56)</a>:</h4>
<p>yeah, it's definitely the closest we have now</p>



<a name="218120767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218120767" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218120767">(Nov 27 2020 at 18:57)</a>:</h4>
<p>i dont have perms to add labels manually, ill have to look up the rustbot syntax again</p>



<a name="218120778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218120778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218120778">(Nov 27 2020 at 18:57)</a>:</h4>
<p>I fixed them for now, it's nbd</p>



<a name="218120787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218120787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218120787">(Nov 27 2020 at 18:57)</a>:</h4>
<p><code>@rustbot modify labels: -T-compiler +T-rustdoc</code></p>



<a name="218121714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218121714" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218121714">(Nov 27 2020 at 19:11)</a>:</h4>
<p>running rustdoc on all the tests was so slow that i could almost file them as they appeared from the script :p</p>



<a name="218121757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218121757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218121757">(Nov 27 2020 at 19:11)</a>:</h4>
<p>yeah that's a whole separate issue <a href="https://github.com/rust-lang/rust/issues/79103">https://github.com/rust-lang/rust/issues/79103</a></p>



<a name="218121814"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218121814" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218121814">(Nov 27 2020 at 19:12)</a>:</h4>
<p>tbf, it <em>is</em> actually doing more work, since it's looking at <em>all</em> impls, not just the ones that are used</p>



<a name="218121821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218121821" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218121821">(Nov 27 2020 at 19:12)</a>:</h4>
<p>but it should still be faster than it is now</p>



<a name="218127406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218127406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218127406">(Nov 27 2020 at 20:34)</a>:</h4>
<p><span class="user-mention" data-user-id="217864">@matthiaskrgr</span> You can also use the new shorter <code>@rustbot label -T-compiler +T-rustdoc</code> syntax :)</p>



<a name="218157858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218157858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218157858">(Nov 28 2020 at 10:18)</a>:</h4>
<p>thanks!</p>



<a name="218157864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustdoc%20ICE%20issues%20seem%20to%20be%20autogenerated%3F/near/218157864" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustdoc.20ICE.20issues.20seem.20to.20be.20autogenerated.3F.html#218157864">(Nov 28 2020 at 10:18)</a>:</h4>
<p>reported 4 more crashes, I think that was all of them for now :)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>