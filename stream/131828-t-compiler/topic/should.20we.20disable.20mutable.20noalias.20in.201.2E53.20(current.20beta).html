<html>
<head><meta charset="utf-8"><title>should we disable mutable noalias in 1.53 (current beta) · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/should.20we.20disable.20mutable.20noalias.20in.201.2E53.20(current.20beta).html">should we disable mutable noalias in 1.53 (current beta)</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="239598643"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/should%20we%20disable%20mutable%20noalias%20in%201.53%20%28current%20beta%29/near/239598643" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/should.20we.20disable.20mutable.20noalias.20in.201.2E53.20(current.20beta).html#239598643">(May 20 2021 at 14:15)</a>:</h4>
<p>see Regression: Miscompilation due to bug in "mutable noalias" logic <a href="https://github.com/rust-lang/rust/issues/84958">#84958</a></p>



<a name="239598752"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/should%20we%20disable%20mutable%20noalias%20in%201.53%20%28current%20beta%29/near/239598752" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/should.20we.20disable.20mutable.20noalias.20in.201.2E53.20(current.20beta).html#239598752">(May 20 2021 at 14:16)</a>:</h4>
<p>From <span class="user-mention" data-user-id="133224">@Nikita Popov</span> 's comment (<a href="https://reviews.llvm.org/D102110#2766704">https://reviews.llvm.org/D102110#2766704</a>), it looks like there are still outstanding issues with noalias annotations in LLVM</p>



<a name="239598819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/should%20we%20disable%20mutable%20noalias%20in%201.53%20%28current%20beta%29/near/239598819" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Hill <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/should.20we.20disable.20mutable.20noalias.20in.201.2E53.20(current.20beta).html#239598819">(May 20 2021 at 14:16)</a>:</h4>
<p>I don't know if there's a Rust snippet that exploits the particular bug mentioned in that comment</p>



<a name="239599106"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/should%20we%20disable%20mutable%20noalias%20in%201.53%20%28current%20beta%29/near/239599106" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/should.20we.20disable.20mutable.20noalias.20in.201.2E53.20(current.20beta).html#239599106">(May 20 2021 at 14:18)</a>:</h4>
<p>I'd personally be in favor of disabling it for 1.53, just out of added caution. I think having no regressions reported for several cycles would perhaps merit re-enabling, but I'd rather be cautious.</p>



<a name="239599964"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/should%20we%20disable%20mutable%20noalias%20in%201.53%20%28current%20beta%29/near/239599964" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/should.20we.20disable.20mutable.20noalias.20in.201.2E53.20(current.20beta).html#239599964">(May 20 2021 at 14:22)</a>:</h4>
<p>Yes, I would also recommend disabling it on 1.53.</p>



<a name="240079317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/should%20we%20disable%20mutable%20noalias%20in%201.53%20%28current%20beta%29/near/240079317" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/should.20we.20disable.20mutable.20noalias.20in.201.2E53.20(current.20beta).html#240079317">(May 24 2021 at 16:58)</a>:</h4>
<p>okay lets plan on doing this.</p>



<a name="241655031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/should%20we%20disable%20mutable%20noalias%20in%201.53%20%28current%20beta%29/near/241655031" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/should.20we.20disable.20mutable.20noalias.20in.201.2E53.20(current.20beta).html#241655031">(Jun 05 2021 at 20:31)</a>:</h4>
<p>I submitted <a href="https://github.com/rust-lang/rust/pull/86036">https://github.com/rust-lang/rust/pull/86036</a> to disable on beta.</p>



<a name="241656573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/should%20we%20disable%20mutable%20noalias%20in%201.53%20%28current%20beta%29/near/241656573" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/should.20we.20disable.20mutable.20noalias.20in.201.2E53.20(current.20beta).html#241656573">(Jun 05 2021 at 21:16)</a>:</h4>
<p>Thanks!</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>