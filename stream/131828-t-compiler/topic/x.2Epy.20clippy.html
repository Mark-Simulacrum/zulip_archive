<html>
<head><meta charset="utf-8"><title>x.py clippy · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20clippy.html">x.py clippy</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="256885510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20clippy/near/256885510" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Clemens Wasser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20clippy.html#256885510">(Oct 09 2021 at 17:31)</a>:</h4>
<p>Sorry if this is the wrong stream to ask, but I am having problems with running <code>x.py clippy</code><br>
I get the following error when trying to run it, although clippy is installed:</p>
<div class="codehilite"><pre><span></span><code>error: `x.py clippy` requires a host `rustc` toolchain with the `clippy` component
help: try `rustup component add clippy`
</code></pre></div>



<a name="256911511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20clippy/near/256911511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20clippy.html#256911511">(Oct 10 2021 at 00:44)</a>:</h4>
<p>What does <code>cargo clippy --version</code> output?</p>



<a name="256938519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20clippy/near/256938519" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matthiaskrgr <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20clippy.html#256938519">(Oct 10 2021 at 08:51)</a>:</h4>
<p>just for the record, Clemens and I chatted a bit yesterday night and it seems that the problem is somehow related to windows<br>
<a href="https://github.com/rust-lang/rust/issues/89715">https://github.com/rust-lang/rust/issues/89715</a><br>
clippy was installed on the toolchain etc and in the end, x.py clippy worked when removing a bit of code from bootstrap <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> </p>
<p>I wonder if there is somehow a problem with detecting rustc/clippy on windows</p>



<a name="256941942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20clippy/near/256941942" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Clemens Wasser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20clippy.html#256941942">(Oct 10 2021 at 09:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/131828-t-compiler/topic/x.2Epy.20clippy/near/256911511">said</a>:</p>
<blockquote>
<p>What does <code>cargo clippy --version</code> output?</p>
</blockquote>
<p>If you look at the Issue <span class="user-mention" data-user-id="217864">@matthiaskrgr</span> linked, the cause of this error was already found.<br>
It is caused by a bug in <code>std::process::Command</code> on Windows.<br>
But thanks for your help anyway <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>