<html>
<head><meta charset="utf-8"><title>Distributing cranelift · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Distributing.20cranelift.html">Distributing cranelift</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="224858207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Distributing%20cranelift/near/224858207" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Distributing.20cranelift.html#224858207">(Feb 02 2021 at 11:24)</a>:</h4>
<p><span class="user-mention" data-user-id="133247">@bjorn3</span> hey</p>



<a name="224858349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Distributing%20cranelift/near/224858349" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Distributing.20cranelift.html#224858349">(Feb 02 2021 at 11:26)</a>:</h4>
<p>I think it's probably a matter of adding the configuration to rustbuild and build-manifest - likely relatively easy on the implementation side.</p>



<a name="224858414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Distributing%20cranelift/near/224858414" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Distributing.20cranelift.html#224858414">(Feb 02 2021 at 11:27)</a>:</h4>
<p>I don't have a lot of bandwidth personally these next few weeks, but if you want to submit a PR it'll be in my review queue.</p>



<a name="224858440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Distributing%20cranelift/near/224858440" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Distributing.20cranelift.html#224858440">(Feb 02 2021 at 11:27)</a>:</h4>
<p>Are there blockers to distribution in terms of support in rustc for loading it ergonomically?</p>



<a name="224858473"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Distributing%20cranelift/near/224858473" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Distributing.20cranelift.html#224858473">(Feb 02 2021 at 11:28)</a>:</h4>
<p>Ok, thanks. Do I need like an MCP for the decision to distribute it?</p>



<a name="224858539"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Distributing%20cranelift/near/224858539" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Distributing.20cranelift.html#224858539">(Feb 02 2021 at 11:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/131828-t-compiler/topic/Distributing.20cranelift/near/224858440">said</a>:</p>
<blockquote>
<p>Are there blockers to distribution in terms of support in rustc for loading it ergonomically?</p>
</blockquote>
<p><code>-Zcodegen-backend=cranelift</code> works fine. Thanks to the abi compatibility it can even re-use the cg_llvm sysroot.</p>



<a name="224858702"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Distributing%20cranelift/near/224858702" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Distributing.20cranelift.html#224858702">(Feb 02 2021 at 11:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="133247">bjorn3</span> <a href="#narrow/stream/131828-t-compiler/topic/Distributing.20cranelift/near/224858473">said</a>:</p>
<blockquote>
<p>Ok, thanks. Do I need like an MCP for the decision to distribute it?</p>
</blockquote>
<p>it probably doesn't hurt, but I guess just announcing it at the thursday compiler team meeting will also do the job</p>



<a name="224858720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Distributing%20cranelift/near/224858720" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Distributing.20cranelift.html#224858720">(Feb 02 2021 at 11:30)</a>:</h4>
<p>either way, there's no reason to block this work from happening</p>



<a name="224858985"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Distributing%20cranelift/near/224858985" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Distributing.20cranelift.html#224858985">(Feb 02 2021 at 11:33)</a>:</h4>
<p>Yeah, should be fine to start. I think it's unlikely to be a problem; I do think an MCP wouldn't hurt, though, for those who miss meetings.</p>



<a name="224913919"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Distributing%20cranelift/near/224913919" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Distributing.20cranelift.html#224913919">(Feb 02 2021 at 18:25)</a>:</h4>
<p>What is the purpose of <code>tarball.set_overlay</code>?</p>



<a name="224913962"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Distributing%20cranelift/near/224913962" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Distributing.20cranelift.html#224913962">(Feb 02 2021 at 18:25)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> ^</p>



<a name="224916207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Distributing%20cranelift/near/224916207" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Distributing.20cranelift.html#224916207">(Feb 02 2021 at 18:39)</a>:</h4>
<p>IIRC to provide license files and such - I would follow what other things do.</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>