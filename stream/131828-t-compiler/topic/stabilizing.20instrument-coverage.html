<html>
<head><meta charset="utf-8"><title>stabilizing instrument-coverage · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html">stabilizing instrument-coverage</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="258538837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258538837" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258538837">(Oct 21 2021 at 12:49)</a>:</h4>
<p>I'm interested in stabilizing <code>-Z instrument-coverage</code> (as <code>-C instrument-coverage</code>). As far as I can tell from the tracking issue, I don't <em>think</em> there are any blockers; there are open issues but not showstoppers.</p>



<a name="258538883"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258538883" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258538883">(Oct 21 2021 at 12:49)</a>:</h4>
<p>Would a PR stabilizing the option, and a writeup for why the option seems ready to stabilize, be welcome?</p>



<a name="258539713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258539713" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258539713">(Oct 21 2021 at 12:54)</a>:</h4>
<p>Do <code>-C flag</code> additions need an MCP?</p>



<a name="258539819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258539819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258539819">(Oct 21 2021 at 12:55)</a>:</h4>
<p>(in any case I think the steps you outline would indeed be welcome)</p>



<a name="258540016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258540016" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258540016">(Oct 21 2021 at 12:56)</a>:</h4>
<p>Okay, a <code>-C flag</code> is explicitly <a href="https://forge.rust-lang.org/compiler/mcp.html#public-facing-changes-require-rfcbot-fcp">addressed in the MCP doc</a>. Its an example of something that requires an MCP, and furthermore, requires full team fcp (rather than a mere “second” from a team member).</p>



<a name="258540245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258540245" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258540245">(Oct 21 2021 at 12:58)</a>:</h4>
<p>But, oh, hmm. That same section lists a hypothetical process of first doing an MCP for <code>-Z flag</code>, and then later moving it to <code>-C flag</code> via a PR that needs approval via <code>rfcbot fcp</code></p>



<a name="258540288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258540288" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258540288">(Oct 21 2021 at 12:58)</a>:</h4>
<p>(was there an MCP for <code>-Z instrument-coverage</code> ?)</p>



<a name="258540418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258540418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258540418">(Oct 21 2021 at 12:59)</a>:</h4>
<p>At this point I <em>think</em> an MCP is not strictly needed, assuming the PR includes any missing info in terms of the motivation for the flag.</p>



<a name="258540435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258540435" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258540435">(Oct 21 2021 at 12:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage/near/258540288">said</a>:</p>
<blockquote>
<p>(was there an MCP for <code>-Z instrument-coverage</code> ?)</p>
</blockquote>
<p>Looks like it: <a href="https://github.com/rust-lang/compiler-team/issues/278">https://github.com/rust-lang/compiler-team/issues/278</a></p>



<a name="258540472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258540472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258540472">(Oct 21 2021 at 12:59)</a>:</h4>
<p>Okay great then, thanks Josh!</p>



<a name="258540522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258540522" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258540522">(Oct 21 2021 at 12:59)</a>:</h4>
<p>So, no MCP needed, but the PR should have a compiler-team FCP?</p>



<a name="258549982"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258549982" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258549982">(Oct 21 2021 at 13:59)</a>:</h4>
<p>I think that’s right</p>



<a name="258554079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258554079" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258554079">(Oct 21 2021 at 14:23)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/90132">https://github.com/rust-lang/rust/pull/90132</a></p>



<a name="258554151"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258554151" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258554151">(Oct 21 2021 at 14:23)</a>:</h4>
<p>(Depends on <a href="https://github.com/rust-lang/rust/pull/90128">https://github.com/rust-lang/rust/pull/90128</a> , which I think also needs an FCP.)</p>



<a name="258555820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/258555820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#258555820">(Oct 21 2021 at 14:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> Please let me know if that looks like sufficient information, or if including more information would help.</p>



<a name="259147465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/259147465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#259147465">(Oct 26 2021 at 19:19)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="239881">@Josh Triplett</span> ! I can see there’s been a ton of discussion over the last week about this.</p>



<a name="259147565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/259147565" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#259147565">(Oct 26 2021 at 19:20)</a>:</h4>
<p>I <em>think</em> I've managed to resolve all of the outstanding issues at this point.</p>



<a name="260104472"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/260104472" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#260104472">(Nov 03 2021 at 08:58)</a>:</h4>
<p>I kinda want to leave a comment when I have more energy</p>



<a name="260104488"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/stabilizing%20instrument-coverage/near/260104488" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/stabilizing.20instrument-coverage.html#260104488">(Nov 03 2021 at 08:58)</a>:</h4>
<p>so hopefully this week?</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>