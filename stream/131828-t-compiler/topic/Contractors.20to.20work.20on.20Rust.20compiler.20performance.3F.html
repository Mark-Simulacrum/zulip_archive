<html>
<head><meta charset="utf-8"><title>Contractors to work on Rust compiler performance? · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html">Contractors to work on Rust compiler performance?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="252334265"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252334265" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Aas <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252334265">(Sep 07 2021 at 16:41)</a>:</h4>
<p>We (ISRG - <a href="http://abetterinternet.org">abetterinternet.org</a>, <a href="http://memorysafety.org">memorysafety.org</a>) are looking for contractors to work on generally improving Rust compiler performance. If you or anyone you know might be interested please email me: <a href="mailto:josh@letsencrypt.org">josh@letsencrypt.org</a></p>
<p>(I'm not sure this is the right place to post this message, please redirect me if it's not.)</p>



<a name="252341564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252341564" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252341564">(Sep 07 2021 at 17:30)</a>:</h4>
<p>out of curiosity, I'm wondering whether there is more that you could go into, as to specific usecases you have in mind</p>



<a name="252341801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252341801" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252341801">(Sep 07 2021 at 17:32)</a>:</h4>
<p>e.g. between incremental and "batch" compilation, you can have different areas of the compiler that would need work, and so you may end up with different people interested/with prior experience/etc.</p>



<a name="252342218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252342218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252342218">(Sep 07 2021 at 17:35)</a>:</h4>
<p>there's a lot of "latency vs throughput" kind of tradeoffs - sadly, IDE focus on <code>rustc</code> itself seems to have died down (in favor of RA), so extremely-low-latency incremental is perhaps less of a priority nowadays (though I would have to talk to e.g. <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> to get an updated overview)</p>



<a name="252343264"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252343264" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252343264">(Sep 07 2021 at 17:42)</a>:</h4>
<p>I have been doing some refactoring of the metadata loader recently. My eventual goal with those refactorings is to hopefully (partially) separate the <code>CStore</code> from the <code>Session</code> so that already loaded metadata can be reused between compilation sessions when using a custom driver without having to locate and parse it every time. This may be useful for RLS and if rust-analyzer ever learns to load rlibs, it would be useful for rust-analyzer too.</p>



<a name="252344612"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252344612" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Manish Goregaokar <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252344612">(Sep 07 2021 at 17:52)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="232957">@Jack Huey</span> perhaps</p>



<a name="252346715"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252346715" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252346715">(Sep 07 2021 at 18:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="119009">eddyb</span> <a href="#narrow/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F/near/252341564">said</a>:</p>
<blockquote>
<p>out of curiosity, I'm wondering whether there is more that you could go into, as to specific usecases you have in mind</p>
</blockquote>
<p>which crates need their compilation time to be improved would be nice to know as well</p>



<a name="252347794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252347794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cjgillot <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252347794">(Sep 07 2021 at 18:13)</a>:</h4>
<p>Still out of curiosity, who will manage/prioritize/review the contractors' work?<br>
(Don't take me wrong: this is a fantastic idea. rustc just has chronic review load issues.)</p>



<a name="252361994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252361994" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252361994">(Sep 07 2021 at 19:49)</a>:</h4>
<p>parallel compiler work seems to have stalled too, that would be one possibility for throughput improvements</p>



<a name="252373894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252373894" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252373894">(Sep 07 2021 at 21:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="248906">cjgillot</span> <a href="#narrow/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F/near/252347794">said</a>:</p>
<blockquote>
<p>Still out of curiosity, who will manage/prioritize/review the contractors' work?<br>
(Don't take me wrong: this is a fantastic idea. rustc just has chronic review load issues.)</p>
</blockquote>
<p>I think anyone considering contracting work on this would need to take this into account.</p>



<a name="252374822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252374822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252374822">(Sep 07 2021 at 21:31)</a>:</h4>
<p>should reviewers also be independent? paying people to review each other seems like a conflict of interest or at least a potential siloing problem. not sure how big an issue that is. how do other open source projects handle this?</p>



<a name="252375201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252375201" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252375201">(Sep 07 2021 at 21:34)</a>:</h4>
<p>maybe the foundation could answer these kinds of questions</p>



<a name="252375565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252375565" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Timothy Maloney <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252375565">(Sep 07 2021 at 21:38)</a>:</h4>
<p>FWIW I’ve opened <a href="https://github.com/rust-lang/compiler-team/issues/459">this issue</a> regarding the fact there are no parallel rustc experts listed on the compiler team.</p>



<a name="252392134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252392134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252392134">(Sep 08 2021 at 00:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330154">The 8472</span> <a href="#narrow/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F/near/252374822">said</a>:</p>
<blockquote>
<p>should reviewers also be independent? paying people to review each other seems like a conflict of interest or at least a potential siloing problem. not sure how big an issue that is. how do other open source projects handle this?</p>
</blockquote>
<p>I think this part is addressed by <code>mw</code>'s work on <a href="https://github.com/rust-lang/rust-forge/pull/553/files#diff-411f66d4eb2789b42a60878c08e7dbc8457c5a6742bb7b1f8466ee1143871bd7R111-R122">updating our review policy documentation</a>.</p>



<a name="252393054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252393054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252393054">(Sep 08 2021 at 01:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="248906">cjgillot</span> <a href="#narrow/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F/near/252347794">said</a>:</p>
<blockquote>
<p>Still out of curiosity, who will manage/prioritize/review the contractors' work?<br>
(Don't take me wrong: this is a fantastic idea. rustc just has chronic review load issues.)</p>
</blockquote>
<p>This is a great point! In general, I think most everyone on compiler team/contributors is sympathetic to issues with rustc's performance and would like to see it improve. I personally would be happy to review some of the results of this effort and I can likely get additional time from MS to do these reviews. </p>
<p>At the same time, I suspect there will not be any simple changes that make a significant difference. Part of the work here will also be going through the MCP process with large changes to make sure the rest of the group is onboard with the proposed direction.</p>



<a name="252503625"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Contractors%20to%20work%20on%20Rust%20compiler%20performance%3F/near/252503625" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F.html#252503625">(Sep 08 2021 at 17:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="330154">The 8472</span> <a href="#narrow/stream/131828-t-compiler/topic/Contractors.20to.20work.20on.20Rust.20compiler.20performance.3F/near/252374822">said</a>:</p>
<blockquote>
<p>should reviewers also be independent? paying people to review each other seems like a conflict of interest</p>
</blockquote>
<p>I agree completely. I think that's a great reason for people from different organizations with the same goal to work together.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>