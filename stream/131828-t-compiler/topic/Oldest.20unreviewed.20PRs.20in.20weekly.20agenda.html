<html>
<head><meta charset="utf-8"><title>Oldest unreviewed PRs in weekly agenda · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html">Oldest unreviewed PRs in weekly agenda</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="250155868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250155868" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250155868">(Aug 20 2021 at 18:33)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> figured a new thread would be better</p>



<a name="250155908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250155908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250155908">(Aug 20 2021 at 18:33)</a>:</h4>
<p>so, for <a href="https://github.com/rust-lang/triagebot/issues/1461">triagebot#1461</a></p>



<a name="250156005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250156005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250156005">(Aug 20 2021 at 18:34)</a>:</h4>
<p>I wonder how difficult it would be to, for each PR that is "waiting-on-review", figure out when the last comment from the assigned reviewer is, and use that?</p>



<a name="250157009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250157009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250157009">(Aug 20 2021 at 18:43)</a>:</h4>
<p>Or even the last comment</p>



<a name="250157138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250157138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250157138">(Aug 20 2021 at 18:44)</a>:</h4>
<p>It's difficult as-is, since because the triage team updates the waiting-on-review label periodically, PRs that are otherwise "stale" have a newer update date</p>



<a name="250158688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250158688" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250158688">(Aug 20 2021 at 18:59)</a>:</h4>
<p>Nonetheless, we also probably want to filter on <em>not</em> <code>T-libs</code>, <code>T-libs-api</code></p>



<a name="250159951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250159951" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250159951">(Aug 20 2021 at 19:09)</a>:</h4>
<p>you mean, ignore comments from members of those teams?</p>



<a name="250160051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250160051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250160051">(Aug 20 2021 at 19:10)</a>:</h4>
<p>I mean, labels</p>



<a name="250160068"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250160068" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250160068">(Aug 20 2021 at 19:10)</a>:</h4>
<p>but I guess theoretically there could be <code>T-lib-api</code> and <code>T-compiler</code></p>



<a name="250160196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250160196" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250160196">(Aug 20 2021 at 19:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/250156005">said</a>:</p>
<blockquote>
<p>I wonder how difficult it would be to, for each PR that is "waiting-on-review", figure out when the last comment from the assigned reviewer is, and use that?</p>
</blockquote>
<p>note: would also need to check last <em>review</em>, since that's tracked separately</p>



<a name="250160320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250160320" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250160320">(Aug 20 2021 at 19:13)</a>:</h4>
<p>I realize that triagebot doesn't use the github graphql API, but theoretically, this would get us all the info we need:</p>
<div class="codehilite" data-code-language="graphql"><pre><span></span><code>{
  repository(owner: "rust-lang", name: "rust") {
    pullRequests(states: OPEN, first: 100, labels: "S-waiting-on-review", orderBy: { field: CREATED_AT, direction: ASC }) {
      totalCount
      nodes {
        number
        labels(first: 10) {
          nodes {
            name
          }
        }
        isDraft
        assignees(first: 100) {
          nodes {
            login
          }
        }
        comments(first: 100, orderBy: { field: UPDATED_AT, direction: DESC }) {
          nodes {
            author {
              login
            }
            updatedAt
          }
        }
        reviews(last: 5) {
          nodes {
            author {
              login
            }
            updatedAt
          }
        }
      }
    }
  }
}
</code></pre></div>



<a name="250160584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250160584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250160584">(Aug 20 2021 at 19:15)</a>:</h4>
<p>Also note that unless we paginate, we can only "sort" through the oldest 100 open PRs tagged waiting-on-review; this could theoretically be changed to 100 least recently updated</p>



<a name="250162340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250162340" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250162340">(Aug 20 2021 at 19:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/250156005">said</a>:</p>
<blockquote>
<p>I wonder how difficult it would be to, for each PR that is "waiting-on-review", figure out when the last comment from the assigned reviewer is, and use that?</p>
</blockquote>
<p>yes, this is what I first thought we should be doing, then people started talking about last updated and guessed that that was good enough</p>



<a name="250162388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250162388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250162388">(Aug 20 2021 at 19:29)</a>:</h4>
<p>in any case, the automation based on comments shouldn't be very hard but is something that we need to implement the infrastructure for that on triagebot</p>



<a name="250162400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250162400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250162400">(Aug 20 2021 at 19:29)</a>:</h4>
<p>is not as easy as just adding a query to it</p>



<a name="250162488"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250162488" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250162488">(Aug 20 2021 at 19:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/250158688">said</a>:</p>
<blockquote>
<p>Nonetheless, we also probably want to filter on <em>not</em> <code>T-libs</code>, <code>T-libs-api</code></p>
</blockquote>
<p>yeah, I've left more or less the same the link provided is doing but it's easy to filter those out or include whatever we want</p>



<a name="250172920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250172920" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Guo <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250172920">(Aug 20 2021 at 21:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/250157009">said</a>:</p>
<blockquote>
<p>Or even the last comment</p>
</blockquote>
<p>Might need to ignore bot comments (e.g. bors merge conflict) and author comments</p>



<a name="250179443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250179443" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250179443">(Aug 20 2021 at 22:22)</a>:</h4>
<p>And triage team comments as well.<br>
It's somewhat annoying that they are breaking the "least recently updated" sorting on purpose, but apparently there are reasons.</p>



<a name="250397091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250397091" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250397091">(Aug 23 2021 at 19:06)</a>:</h4>
<p>Okay, so I played around with this today</p>



<a name="250397144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250397144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250397144">(Aug 23 2021 at 19:06)</a>:</h4>
<p>I basically made a comparison</p>



<a name="250397357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250397357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250397357">(Aug 23 2021 at 19:07)</a>:</h4>
<p>On one hand, we just look least recently updated of -T:lib, -T:libs-api,+waiting-on-review,-is:draft</p>



<a name="250397632"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250397632" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250397632">(Aug 23 2021 at 19:09)</a>:</h4>
<p>The other, we look at +waiting-on-review,-is:draft,(-T:libs,-T:libs-api)||+T-compiler. And sort based on the oldest PRs based on either last comment from the assigned reviewer or <em>any</em> review.</p>



<a name="250397693"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250397693" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250397693">(Aug 23 2021 at 19:10)</a>:</h4>
<p>The former:</p>
<div class="codehilite"><pre><span></span><code>[{&#39;assignees&#39;: {&#39;matthewjasper&#39;}, &#39;pr&#39;: 83744},
 {&#39;assignees&#39;: {&#39;wesleywiser&#39;}, &#39;pr&#39;: 87867},
 {&#39;assignees&#39;: {&#39;matthewjasper&#39;}, &#39;pr&#39;: 86748},
 {&#39;assignees&#39;: {&#39;nikomatsakis&#39;}, &#39;pr&#39;: 84944},
 {&#39;assignees&#39;: {&#39;estebank&#39;}, &#39;pr&#39;: 86360}]
</code></pre></div>



<a name="250397718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250397718" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250397718">(Aug 23 2021 at 19:10)</a>:</h4>
<p>The latter:</p>
<div class="codehilite"><pre><span></span><code>[{&#39;assignees&#39;: {&#39;matthewjasper&#39;}, &#39;pr&#39;: 83744},
 {&#39;assignees&#39;: {&#39;matthewjasper&#39;}, &#39;pr&#39;: 84267},
 {&#39;assignees&#39;: {&#39;nikomatsakis&#39;}, &#39;pr&#39;: 84944},
 {&#39;assignees&#39;: {&#39;nikomatsakis&#39;}, &#39;pr&#39;: 83850},
 {&#39;assignees&#39;: {&#39;steveklabnik&#39;}, &#39;pr&#39;: 85223}]
</code></pre></div>



<a name="250398307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250398307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250398307">(Aug 23 2021 at 19:15)</a>:</h4>
<p>Note that the latter are on average much "older" than the former</p>



<a name="250399541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250399541" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250399541">(Aug 23 2021 at 19:25)</a>:</h4>
<p>A bit more data.<br>
Former:</p>
<div class="codehilite"><pre><span></span><code>[{&#39;assignee&#39;: &#39;matthewjasper&#39;, &#39;pr&#39;: 83744, &#39;updated&#39;: &#39;2021-08-04&#39;},
 {&#39;assignee&#39;: &#39;wesleywiser&#39;, &#39;pr&#39;: 87867, &#39;updated&#39;: &#39;2021-08-08&#39;},
 {&#39;assignee&#39;: &#39;matthewjasper&#39;, &#39;pr&#39;: 86748, &#39;updated&#39;: &#39;2021-08-09&#39;},
 {&#39;assignee&#39;: &#39;nikomatsakis&#39;, &#39;pr&#39;: 84944, &#39;updated&#39;: &#39;2021-08-09&#39;},
 {&#39;assignee&#39;: &#39;estebank&#39;, &#39;pr&#39;: 86360, &#39;updated&#39;: &#39;2021-08-09&#39;},
 {&#39;assignee&#39;: &#39;scottmcm&#39;, &#39;pr&#39;: 86844, &#39;updated&#39;: &#39;2021-08-09&#39;},
 {&#39;assignee&#39;: &#39;wesleywiser&#39;, &#39;pr&#39;: 87835, &#39;updated&#39;: &#39;2021-08-10&#39;},
 {&#39;assignee&#39;: &#39;joshtriplett&#39;, &#39;pr&#39;: 87910, &#39;updated&#39;: &#39;2021-08-11&#39;},
 {&#39;assignee&#39;: &#39;estebank&#39;, &#39;pr&#39;: 87830, &#39;updated&#39;: &#39;2021-08-11&#39;},
 {&#39;assignee&#39;: &#39;kennytm&#39;, &#39;pr&#39;: 87882, &#39;updated&#39;: &#39;2021-08-11&#39;}]
</code></pre></div>
<p>Latter</p>
<div class="codehilite"><pre><span></span><code>[{&#39;assignee&#39;: &#39;matthewjasper&#39;, &#39;pr&#39;: 83744, &#39;updated&#39;: &#39;2021-04-01&#39;},
 {&#39;assignee&#39;: &#39;matthewjasper&#39;, &#39;pr&#39;: 84267, &#39;updated&#39;: &#39;2021-04-17&#39;},
 {&#39;assignee&#39;: &#39;nikomatsakis&#39;, &#39;pr&#39;: 84944, &#39;updated&#39;: &#39;2021-05-05&#39;},
 {&#39;assignee&#39;: &#39;nikomatsakis&#39;, &#39;pr&#39;: 83850, &#39;updated&#39;: &#39;2021-05-13&#39;},
 {&#39;assignee&#39;: &#39;steveklabnik&#39;, &#39;pr&#39;: 85223, &#39;updated&#39;: &#39;2021-05-16&#39;},
 {&#39;assignee&#39;: &#39;matthewjasper&#39;, &#39;pr&#39;: 85558, &#39;updated&#39;: &#39;2021-05-21&#39;},
 {&#39;assignee&#39;: &#39;nikomatsakis&#39;, &#39;pr&#39;: 85021, &#39;updated&#39;: &#39;2021-05-21&#39;},
 {&#39;assignee&#39;: &#39;estebank&#39;, &#39;pr&#39;: 85556, &#39;updated&#39;: &#39;2021-05-21&#39;},
 {&#39;assignee&#39;: &#39;estebank&#39;, &#39;pr&#39;: 85690, &#39;updated&#39;: &#39;2021-05-25&#39;},
 {&#39;assignee&#39;: &#39;wesleywiser&#39;, &#39;pr&#39;: 85013, &#39;updated&#39;: &#39;2021-05-27&#39;}]
</code></pre></div>



<a name="250811704"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250811704" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250811704">(Aug 26 2021 at 17:44)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> around?</p>



<a name="250811861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250811861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250811861">(Aug 26 2021 at 17:45)</a>:</h4>
<p>It would be nice to "upgrade" this list in time for next week's triage meeting</p>



<a name="250811954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250811954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250811954">(Aug 26 2021 at 17:46)</a>:</h4>
<p>I have a working python script to do this</p>



<a name="250811997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250811997" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250811997">(Aug 26 2021 at 17:46)</a>:</h4>
<p>But obviously need to port into triagebot</p>



<a name="250812078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250812078" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250812078">(Aug 26 2021 at 17:47)</a>:</h4>
<p>But, since it uses graphql, it needs a "new" api there</p>



<a name="250812267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250812267" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250812267">(Aug 26 2021 at 17:48)</a>:</h4>
<p>(I don't think <em>not</em> using graphql here is a good option, given that under the above constraints, we actually need data about the comments for all issues)</p>



<a name="250813195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250813195" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250813195">(Aug 26 2021 at 17:55)</a>:</h4>
<p>So, I guess a few options:<br>
1) Don't use graphql, change to use REST queries, which requires send 1+n queries, where n is the number of issues that we "care" about based on labels and draft. If we wanted to filter by only "old" PRs with the created date, then that's potentially reasonable. Filtering by updated isn't a great option as we've seen.<br>
2) Treat the script I created as "opaque", i.e. feed a token and maybe whatever else we want configurable, get back a list of issues + metadata<br>
3) Treat the graphql query opaquely, but dispatch the query in Rust. The only hiccup here is we actually have to paginate since there are too many issues that github won't return them all at once. Not a big deal though.<br>
4) Put the "proper" infrastructure in place to generalize the query for potential future graphql queries<br>
4b) Port all the queries to GraphQL</p>



<a name="250813284"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250813284" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250813284">(Aug 26 2021 at 17:55)</a>:</h4>
<p>my vote is to support GraphQL (4), I expect there will be more queries that need it in the future</p>



<a name="250813952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250813952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250813952">(Aug 26 2021 at 18:00)</a>:</h4>
<p>My vote depends on who's doing the work here :) I think adding proper graphql query support is best long-term (<a href="https://github.com/obmarg/cynic">cynic</a> looks interesting). But if doing that is going to end up taking lots of time/is blocked on somebody having time to do it, I think it makes more sense to do 2 or 3.</p>



<a name="250834309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250834309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250834309">(Aug 26 2021 at 20:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/250811704">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116266">Santiago Pastorino</span> around?</p>
</blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> just saw your message</p>



<a name="250834613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250834613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250834613">(Aug 26 2021 at 20:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/250813952">said</a>:</p>
<blockquote>
<p>My vote depends on who's doing the work here :) I think adding proper graphql query support is best long-term (<a href="https://github.com/obmarg/cynic">cynic</a> looks interesting). But if doing that is going to end up taking lots of time/is blocked on somebody having time to do it, I think it makes more sense to do 2 or 3.</p>
</blockquote>
<p>agreed, the problem is finding someone with time to do this stuff</p>



<a name="250834683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250834683" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250834683">(Aug 26 2021 at 20:25)</a>:</h4>
<p>I wasn't going to jump into this issue but ended helping <span class="user-mention" data-user-id="250987">@apiraino</span> because I saw that a naive solution was already a supported use case by the existing infrastructure</p>



<a name="250852014"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/250852014" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#250852014">(Aug 26 2021 at 22:41)</a>:</h4>
<p>Okay I'm going to spend like an hour or so trying to get cynic implemented. If not, I'll just fall back to porting the python script to rust with the opaque query</p>



<a name="251030187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/251030187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#251030187">(Aug 28 2021 at 05:29)</a>:</h4>
<p><span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> <a href="https://github.com/rust-lang/triagebot/pull/1466">https://github.com/rust-lang/triagebot/pull/1466</a></p>



<a name="251030192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/251030192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#251030192">(Aug 28 2021 at 05:29)</a>:</h4>
<p>That was actually more work than I was expecting</p>



<a name="251068147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/251068147" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#251068147">(Aug 28 2021 at 16:55)</a>:</h4>
<p>Okay I did some cleanups <a href="https://github.com/rust-lang/triagebot/pull/1467">https://github.com/rust-lang/triagebot/pull/1467</a><br>
<span class="user-mention" data-user-id="116266">@Santiago Pastorino</span> <span class="user-mention" data-user-id="250987">@apiraino</span></p>



<a name="251078347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/251078347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#251078347">(Aug 28 2021 at 19:56)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="232957">@Jack Huey</span></p>



<a name="253147759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253147759" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253147759">(Sep 13 2021 at 19:41)</a>:</h4>
<p>So, there are a lot of PRs without a team label: <a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+-label%3AT-compiler+-label%3AT-libs-api+-label%3AT-lang+-label%3AT-libs+-label%3AT-rustdoc">https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+-label%3AT-compiler+-label%3AT-libs-api+-label%3AT-lang+-label%3AT-libs+-label%3AT-rustdoc</a> (and about half of those are waiting on review)</p>
<p><span class="user-group-mention" data-user-group-id="3132">@WG-triage</span> has a procedure been added to help ensure that issues get an appropriate team label? I imagine a lag time of up to a couple weeks is fine, but beyond that we probably <em>do</em> want to make sure we're tracking the relevant team</p>



<a name="253153971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253153971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253153971">(Sep 13 2021 at 20:21)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="417924">@inquisitivecrystal</span> from WG-prioritization went through a couple of weeks ago to add team labels, but I don't know if anyone has gone through since.</p>



<a name="253154230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253154230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253154230">(Sep 13 2021 at 20:22)</a>:</h4>
<p>Is the reason PRs should have team labels so teams can see a list of all PRs that are relevant for their team? That's why I try to label rustdoc PRs I come across with <code>T-rustdoc</code>, but is that the same reason you want team labels?</p>



<a name="253154568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253154568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253154568">(Sep 13 2021 at 20:24)</a>:</h4>
<p>Probably it would be a good idea to have a highfive (or rustbot) feature to auto-label PRs with team labels based on what files they modify (similar to the auto-assign feature). It might not always be right, but then people (reviewers, WG-triage, WG-prioritization, etc.) could manually fix them if necessary. I know T-rustdoc has discussed this before.</p>



<a name="253154858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253154858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253154858">(Sep 13 2021 at 20:26)</a>:</h4>
<p>I have added a few libs/libs-api labels last week</p>



<a name="253158302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253158302" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253158302">(Sep 13 2021 at 20:52)</a>:</h4>
<p>Okay, so the t-compiler meeting agenda now relies on T-compiler PR labels for the oldest unreviewed PRs section.</p>
<p>Looking back, I guess the discussion on the triagebot PR (<a href="https://github.com/rust-lang/triagebot/pull/1461">https://github.com/rust-lang/triagebot/pull/1461</a>) was for <span class="user-group-mention" data-user-group-id="2403">@WG-prioritization</span> to go through and label? I'm not sure it matters too much who does it, but <em>somebody</em> should</p>



<a name="253158416"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253158416" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253158416">(Sep 13 2021 at 20:53)</a>:</h4>
<p>I'm not against auto-labeling, but it might be a bit tricky to get right</p>



<a name="253158424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253158424" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253158424">(Sep 13 2021 at 20:53)</a>:</h4>
<p>They could do it at the same time they triage PRs maybe; that could be up to 15 days though</p>



<a name="253158601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253158601" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253158601">(Sep 13 2021 at 20:54)</a>:</h4>
<p>and that's okay; like I said, it starts to become relevant as they get older. It doesn't matter too much to worry about labeling for PRs that get opened and merged within a few days</p>



<a name="253158972"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253158972" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253158972">(Sep 13 2021 at 20:57)</a>:</h4>
<p>yes, I agree. We need to stay closer to the amount of PR being pushed. 20 days ago <span class="user-mention" data-user-id="417924">@inquisitivecrystal</span> labelled them all (thanks!) but now I see already 74 have piled up</p>



<a name="253159115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253159115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253159115">(Sep 13 2021 at 20:58)</a>:</h4>
<p>I'll start  labelling them for a while and understand if it could be automated somehow</p>



<a name="253169828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253169828" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253169828">(Sep 13 2021 at 22:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232957">Jack Huey</span> <a href="#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/253158416">said</a>:</p>
<blockquote>
<p>I'm not against auto-labeling, but it might be a bit tricky to get right</p>
</blockquote>
<p>I imagine we could get a 90%-good solution with this config:</p>
<ul>
<li><code>compiler/</code> -&gt; <code>T-compiler</code></li>
<li><code>library/</code> -&gt; <code>T-libs</code> (and then could be changed to <code>T-libs-api</code> manually)</li>
<li>{<code>src/librustdoc/</code>, <code>src/rustdoc-json-types/</code>, <code>src/tools/rustdoc{,-js,-gui}/</code>} -&gt; <code>T-rustdoc</code></li>
<li><code>src/tools/clippy/</code> -&gt; <code>T-clippy</code></li>
<li><code>src/tools/cargo/</code> -&gt; <code>T-cargo</code></li>
<li><code>src/tools/rustfmt/</code> -&gt; <code>A-rustfmt</code></li>
<li><code>src/tools/miri/</code> -&gt; <code>A-miri</code></li>
<li>{<code>src/bootstrap/</code>, <code>src/tidy/</code>} -&gt; <code>T-compiler</code></li>
<li><code>src/ci/</code> -&gt; <code>T-infra</code></li>
<li><code>RELEASES.md</code> -&gt; <code>T-release</code></li>
</ul>
<p>If a PR matches multiple of those, it would add a label for each one that matched, that way teams could easily see what PRs modify their code (T-rustdoc has been wanting a way to see this).</p>



<a name="253170114"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253170114" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253170114">(Sep 13 2021 at 22:25)</a>:</h4>
<p>I think bootstrap can just be compiler, and people can change as needed</p>



<a name="253170198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253170198" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253170198">(Sep 13 2021 at 22:26)</a>:</h4>
<p>Sure, that sounds reasonable to me.</p>



<a name="253170223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253170223" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253170223">(Sep 13 2021 at 22:26)</a>:</h4>
<p>Done.</p>



<a name="253170407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253170407" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253170407">(Sep 13 2021 at 22:28)</a>:</h4>
<p>This would be good</p>



<a name="253170436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253170436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253170436">(Sep 13 2021 at 22:28)</a>:</h4>
<p>The only thing to keep in mind is that in some cases, people will have to manually add <code>T-lang</code>, but I think that's rare</p>



<a name="253170606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253170606" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Huey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253170606">(Sep 13 2021 at 22:30)</a>:</h4>
<p>Ultimately, I don't think we need to be perfect</p>



<a name="253171746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253171746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253171746">(Sep 13 2021 at 22:42)</a>:</h4>
<p>Hmm, what's the goal of these labels? I don't think most people on T-compiler would be comfortable reviewing bootstrap PRs</p>



<a name="253171789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253171789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253171789">(Sep 13 2021 at 22:43)</a>:</h4>
<p>I guess if the goal is just to bring it up in meetings it's ok? But then I don't know the point of labelling things like T-rustdoc, it doesn't have regular meetings</p>



<a name="253171929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253171929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253171929">(Sep 13 2021 at 22:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/253171789">said</a>:</p>
<blockquote>
<p>I guess if the goal is just to bring it up in meetings it's ok? But then I don't know the point of labelling things like T-rustdoc, it doesn't have regular meetings</p>
</blockquote>
<p>Then it's possible to see all PRs that modify <code>T-rustdoc</code>. We had a discussion about this a few months ago because a PR modified rustdoc in non-trivial ways without having a rustdoc team member review it. We already label <code>T-rustdoc</code> PRs manually too, so this would just do it automatically.</p>



<a name="253175359"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253175359" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253175359">(Sep 13 2021 at 23:19)</a>:</h4>
<p>I don't think bootstrap PRs are sitting idle (I get assigned to then automatically and generally review quickly). T-infra is a better place for them to go though than compiler.</p>



<a name="253554053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253554053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253554053">(Sep 16 2021 at 09:43)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="307537">@Noah Lev</span> your labelling guidelines are really helpful!</p>



<a name="253554829"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/253554829" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> apiraino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#253554829">(Sep 16 2021 at 09:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda/near/253171789">said</a>:</p>
<blockquote>
<p>... I don't know the point of labelling things like T-rustdoc, it doesn't have regular meetings</p>
</blockquote>
<p>imo the T-label on a PR waiting for a review is useful to any team, whether they have regular meetings or not (and it helps handling unreviewed PRs with the same set of rules)</p>



<a name="264597546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/264597546" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#264597546">(Dec 12 2021 at 02:06)</a>:</h4>
<p>Followup: rustbot now has support for autolabeling!</p>



<a name="264597562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Oldest%20unreviewed%20PRs%20in%20weekly%20agenda/near/264597562" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Oldest.20unreviewed.20PRs.20in.20weekly.20agenda.html#264597562">(Dec 12 2021 at 02:07)</a>:</h4>
<p>A PR adding T-rustdoc autolabeling is in the merge queue, and I've just opened a PR for T-compiler: <a href="https://github.com/rust-lang/rust/pull/91819">https://github.com/rust-lang/rust/pull/91819</a></p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>