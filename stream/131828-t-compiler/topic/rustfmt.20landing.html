<html>
<head><meta charset="utf-8"><title>rustfmt landing · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html">rustfmt landing</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="184015550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184015550" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184015550">(Dec 21 2019 at 15:59)</a>:</h4>
<p>We should be landing rustfmt checking and a mass formatting some time in the next week (basically, as soon as one lands, we'll be posting the other).</p>
<p>This will mean that developers will want to enable rustfmt in editors or run <code>./x.py fmt</code> before pushing up. We have an ignore file -- it's likely we'll need some manual editing to pacify tidy around line lengths in some edge cases, but that should hopefully be quite rare.</p>



<a name="184016317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184016317" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184016317">(Dec 21 2019 at 16:20)</a>:</h4>
<p>It is happening! May the rustfmt finally be with us</p>



<a name="184032253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184032253" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184032253">(Dec 22 2019 at 00:34)</a>:</h4>
<p>this is so cool, hope that happens after <a href="https://github.com/rust-lang/rust/issues/67000" target="_blank" title="https://github.com/rust-lang/rust/issues/67000">#67000</a> is in <span aria-label="smile" class="emoji emoji-263a" role="img" title="smile">:smile:</span></p>



<a name="184032437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184032437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184032437">(Dec 22 2019 at 00:40)</a>:</h4>
<p>unlikely, but rebasing should not be a problem, just force your own changes and rustfmt them, the diff should be just your changes after that</p>



<a name="184060808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184060808" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184060808">(Dec 22 2019 at 16:37)</a>:</h4>
<p>I guess this is the default rustfmt setting, not whatever <span class="user-mention" data-user-id="124288">@oli</span> used in Miri to make rustfmt not waste quite that much vertical space? Does that mean I need a new screen because rustc code will take twice as much vertical space as before?^^ (rustfmt seems to be quite willing to waste tons of vertical space in complex code, in my experience.)</p>



<a name="184061406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184061406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184061406">(Dec 22 2019 at 16:56)</a>:</h4>
<p>It's not the default settings.</p>



<a name="184063705"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184063705" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> anp <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184063705">(Dec 22 2019 at 18:11)</a>:</h4>
<p>iirc the settings were agreed upon in a compiler meeting that i wasn’t even aware of when i started the PR that <span class="user-mention" data-user-id="116122">@simulacrum</span> has picked up and overhauled to land</p>



<a name="184063709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184063709" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> anp <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184063709">(Dec 22 2019 at 18:11)</a>:</h4>
<p>ie it happened a while ago</p>



<a name="184063712"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184063712" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184063712">(Dec 22 2019 at 18:11)</a>:</h4>
<p>We can adjust them as we land the pr in theory too</p>



<a name="184063714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184063714" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184063714">(Dec 22 2019 at 18:12)</a>:</h4>
<p>(that actually formats code)</p>



<a name="184063757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184063757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184063757">(Dec 22 2019 at 18:12)</a>:</h4>
<p>I'm working on that and should have it up tonight</p>



<a name="184063761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184063761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184063761">(Dec 22 2019 at 18:12)</a>:</h4>
<p>How much are you formatting? Everything?</p>



<a name="184063793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184063793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> anp <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184063793">(Dec 22 2019 at 18:14)</a>:</h4>
<p>i missed the conversation discussing how to do follow up formatting</p>



<a name="184063834"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184063834" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> anp <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184063834">(Dec 22 2019 at 18:14)</a>:</h4>
<p>i imagine we don’t want to have unformatted parts of the tree for long</p>



<a name="184063839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184063839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> anp <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184063839">(Dec 22 2019 at 18:14)</a>:</h4>
<p>i had this fever dream for a bot that could do a directory at a time and land them only when no approved prs would conflict</p>



<a name="184070459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184070459" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184070459">(Dec 22 2019 at 21:37)</a>:</h4>
<p>I don't think it's too worth it</p>



<a name="184071128"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184071128" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184071128">(Dec 22 2019 at 21:59)</a>:</h4>
<blockquote>
<p>+76,400 −85,063</p>
</blockquote>



<a name="184084995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184084995" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184084995">(Dec 23 2019 at 05:52)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="116122">@simulacrum</span> code contribution ranking is going to be halved =P</p>



<a name="184101769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184101769" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184101769">(Dec 23 2019 at 12:45)</a>:</h4>
<p>I recommend <code>git rebase -i origin/master --exec './x.py fmt &amp;&amp; git add -u &amp;&amp; git commit --no-edit --amend' -Xtheirs</code></p>



<a name="184101772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184101772" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184101772">(Dec 23 2019 at 12:45)</a>:</h4>
<p>that should auto rebase past formatting</p>



<a name="184101818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184101818" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184101818">(Dec 23 2019 at 12:46)</a>:</h4>
<p>(but note: <em>only</em> formatting, if you conflicted with some other PR this will just eat that change)</p>



<a name="184103605"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103605" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103605">(Dec 23 2019 at 13:18)</a>:</h4>
<blockquote>
<p>I recommend <code>git rebase -i origin/master --exec './x.py fmt &amp;&amp; git add -u &amp;&amp; git commit --no-edit --amend' -Xtheirs</code></p>
</blockquote>
<p>I was going to say, would be nice to document the way to rebase PRs against this massive change</p>



<a name="184103627"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103627" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103627">(Dec 23 2019 at 13:19)</a>:</h4>
<p>unsure if a post in IRLO, a blog post or where should we explain what happened and what contributors can do</p>



<a name="184103633"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103633" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103633">(Dec 23 2019 at 13:19)</a>:</h4>
<p>mainly for the people that are not around in general ...</p>



<a name="184103676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103676">(Dec 23 2019 at 13:20)</a>:</h4>
<p>... just thinking a bit loudly :)</p>



<a name="184103689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103689">(Dec 23 2019 at 13:20)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> pretty sure that you have considered this stuff but just wondering also what's the way forward</p>



<a name="184103822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103822">(Dec 23 2019 at 13:23)</a>:</h4>
<p>This feels worth of an Inside Rust blog post once it lands</p>



<a name="184103830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103830">(Dec 23 2019 at 13:23)</a>:</h4>
<p>It landed :P</p>



<a name="184103901"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103901" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103901">(Dec 23 2019 at 13:24)</a>:</h4>
<p>I can try to write something up</p>



<a name="184103908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103908">(Dec 23 2019 at 13:24)</a>:</h4>
<p>I wonder whether this would have qualified as a major change</p>



<a name="184103913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103913" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103913">(Dec 23 2019 at 13:24)</a>:</h4>
<p>I think it would have</p>



<a name="184103922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103922" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103922">(Dec 23 2019 at 13:24)</a>:</h4>
<p>we <em>did</em> approve and discuss it a few times, so I think it did to some extent</p>



<a name="184103930"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103930" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103930">(Dec 23 2019 at 13:24)</a>:</h4>
<p>(and certainly if we did it again, it would go through that process)</p>



<a name="184103952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103952">(Dec 23 2019 at 13:25)</a>:</h4>
<p>I will work on a inside rust post</p>



<a name="184103958"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103958" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103958">(Dec 23 2019 at 13:25)</a>:</h4>
<p>I'm changing <code>origin/master</code> to <code>upstream/master</code> in the above and then running <code>./x.py test -i src/test/ui --stage 1 --pass check --bless</code> at the end just to check it's all OK</p>



<a name="184103968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103968" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103968">(Dec 23 2019 at 13:25)</a>:</h4>
<p>sadly, some of the PRs no longer build after every commit</p>



<a name="184103977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103977" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103977">(Dec 23 2019 at 13:25)</a>:</h4>
<p>maybe <code>./x.py check</code> in <code>--exec</code> to verify that it does</p>



<a name="184103986"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184103986" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184103986">(Dec 23 2019 at 13:25)</a>:</h4>
<p>I'm actually going to write up the command such that it always works (even if there's other issues)</p>



<a name="184104032"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184104032" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184104032">(Dec 23 2019 at 13:26)</a>:</h4>
<p>i.e., you have to resolve rebase conflicts if necessary</p>



<a name="184104041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184104041" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184104041">(Dec 23 2019 at 13:26)</a>:</h4>
<p>but if you have syntax errors then this isn't going to work (of course)</p>



<a name="184104072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184104072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184104072">(Dec 23 2019 at 13:27)</a>:</h4>
<p>I had to rescue a fairly large PR because I used <code>-Xours</code> instead of <code>-Xtheirs</code> :D</p>



<a name="184104958"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184104958" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184104958">(Dec 23 2019 at 13:42)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span>  <span class="user-mention" data-user-id="116083">@pnkfelix</span> <a href="https://github.com/rust-lang/blog.rust-lang.org/pull/485" target="_blank" title="https://github.com/rust-lang/blog.rust-lang.org/pull/485">https://github.com/rust-lang/blog.rust-lang.org/pull/485</a></p>
<p>Maybe would be good to get that in sooner rather than later</p>



<a name="184111252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184111252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184111252">(Dec 23 2019 at 15:20)</a>:</h4>
<p>I’m really excited about this. Perhaps a post on internals would be good too?</p>



<a name="184112072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112072">(Dec 23 2019 at 15:33)</a>:</h4>
<p>I'm going to cross-post the inside rust blogpost once <span class="user-mention" data-user-id="116009">@nikomatsakis</span> takes a look (and hopefully merges it!)</p>



<a name="184112117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112117" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112117">(Dec 23 2019 at 15:34)</a>:</h4>
<p>I'll look now :)</p>



<a name="184112134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112134">(Dec 23 2019 at 15:34)</a>:</h4>
<p>also, I'm super excited too</p>



<a name="184112140"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112140" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112140">(Dec 23 2019 at 15:34)</a>:</h4>
<p>I guess I can enable "rustfmt on save" basically all the time now</p>



<a name="184112164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112164" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112164">(Dec 23 2019 at 15:35)</a>:</h4>
<p>shall I merge <span class="user-mention" data-user-id="116122">@simulacrum</span> ?</p>



<a name="184112169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112169" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112169">(Dec 23 2019 at 15:35)</a>:</h4>
<p>sounds like yes</p>



<a name="184112171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112171" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112171">(Dec 23 2019 at 15:35)</a>:</h4>
<p>sure yes</p>



<a name="184112235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112235" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112235">(Dec 23 2019 at 15:36)</a>:</h4>
<p>done</p>



<a name="184112236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112236" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112236">(Dec 23 2019 at 15:36)</a>:</h4>
<p>I currently have to change rustfmt to point to the "local" copy in our repo to get precisely the same formatting (usually at e.g. <code>build/x86_64-apple-darwin/stage0/bin/rustfmt</code>) but that's only true of 3 files across all of rust</p>



<a name="184112258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112258">(Dec 23 2019 at 15:37)</a>:</h4>
<p>and plausibly spurious? I saw it what felt like only sometimes, so not sure what was up</p>



<a name="184112260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112260" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112260">(Dec 23 2019 at 15:37)</a>:</h4>
<p>yeah I have no idea what binary emcs runs</p>



<a name="184112270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112270" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112270">(Dec 23 2019 at 15:37)</a>:</h4>
<p>but I guess it's unlikely to be an issue</p>



<a name="184112274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112274">(Dec 23 2019 at 15:37)</a>:</h4>
<p>in theory though yes auto formatting everywhere should be fine :)</p>



<a name="184112278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112278">(Dec 23 2019 at 15:37)</a>:</h4>
<p>I'll cross post a link to internals</p>



<a name="184112291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112291" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112291">(Dec 23 2019 at 15:37)</a>:</h4>
<p>I really enjoy now writing really horrible rust syntax</p>



<a name="184112327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112327">(Dec 23 2019 at 15:38)</a>:</h4>
<p>and then hitting save and watching it get cleaned up</p>



<a name="184112378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112378" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112378">(Dec 23 2019 at 15:39)</a>:</h4>
<p>my favorite is being able to freely change function arguments without rejiggering the whole function</p>



<a name="184112476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112476" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112476">(Dec 23 2019 at 15:41)</a>:</h4>
<p><a href="https://internals.rust-lang.org/t/formatting-the-compiler-tree/11529" target="_blank" title="https://internals.rust-lang.org/t/formatting-the-compiler-tree/11529">https://internals.rust-lang.org/t/formatting-the-compiler-tree/11529</a></p>



<a name="184112483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184112483" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184112483">(Dec 23 2019 at 15:41)</a>:</h4>
<p><a href="https://blog.rust-lang.org/inside-rust/2019/12/23/formatting-the-compiler.html" target="_blank" title="https://blog.rust-lang.org/inside-rust/2019/12/23/formatting-the-compiler.html">https://blog.rust-lang.org/inside-rust/2019/12/23/formatting-the-compiler.html</a></p>



<a name="184161672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184161672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184161672">(Dec 24 2019 at 10:16)</a>:</h4>
<p>I saw the <code>use_small_heuristics = "Max"</code>, awesome :)</p>



<a name="184161673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184161673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184161673">(Dec 24 2019 at 10:16)</a>:</h4>
<blockquote>
<p>and then hitting save and watching it get cleaned up</p>
</blockquote>
<p>what magic is that?</p>



<a name="184161690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184161690" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184161690">(Dec 24 2019 at 10:17)</a>:</h4>
<p>are there docs for how to set up IDEs and stuff in a way that actually works for the compiler? reading this I now feel like I am still in the stone age, just using a plain editor with no Rust IDE features whatsoever for rustc hacking^^</p>



<a name="184163081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184163081" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184163081">(Dec 24 2019 at 10:54)</a>:</h4>
<p><span class="user-mention" data-user-id="120791">@RalfJ</span> What editor do you use?</p>



<a name="184163319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184163319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184163319">(Dec 24 2019 at 11:01)</a>:</h4>
<p>Kate (the KDE editor)</p>



<a name="184163321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184163321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184163321">(Dec 24 2019 at 11:01)</a>:</h4>
<p>I'm using vscode for miri hacking though. but even there I have no IDE features due to a lack of RLS.</p>



<a name="184163366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184163366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184163366">(Dec 24 2019 at 11:02)</a>:</h4>
<p>I personally use vim -- I imagine vscode though, even without RLS, supports some sort of "run command on save"</p>



<a name="184163374"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184163374" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184163374">(Dec 24 2019 at 11:03)</a>:</h4>
<p>I guess it does. though the blog post said running fmt on the rustc code base takes a while, so taht doesnt sound like something one wants to do on every save?</p>



<a name="184163386"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184163386" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184163386">(Dec 24 2019 at 11:03)</a>:</h4>
<p>well, that's <em>every</em> file</p>



<a name="184163425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184163425" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184163425">(Dec 24 2019 at 11:04)</a>:</h4>
<p>if you just want to run it on the current file that'll be pretty instant</p>



<a name="184163429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184163429" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184163429">(Dec 24 2019 at 11:04)</a>:</h4>
<p>you can mostly just run <code>rustfmt --edition=2018 $CURRENT_FILE</code></p>



<a name="184164142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184164142" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184164142">(Dec 24 2019 at 11:25)</a>:</h4>
<p>ah makes sense</p>



<a name="184166107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184166107" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184166107">(Dec 24 2019 at 12:14)</a>:</h4>
<p>in vscode I set</p>
<div class="codehilite"><pre><span></span>    &quot;editor.formatOnSave&quot;: true,
    &quot;editor.formatOnPaste&quot;: true,
    &quot;editor.formatOnType&quot;: true,
</pre></div>


<p>for the projects that are rustfmtable<br>
and</p>
<div class="codehilite"><pre><span></span>    &quot;files.autoSave&quot;: &quot;onFocusChange&quot;,
</pre></div>


<p>globally in my user config</p>



<a name="184166179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184166179" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184166179">(Dec 24 2019 at 12:16)</a>:</h4>
<p>we could add a <code>.vscode</code> folder to the rustc repo doing the <code>editor.format*</code> settings, but not sure whether everyone is happy with that</p>



<a name="184168397"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184168397" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184168397">(Dec 24 2019 at 13:03)</a>:</h4>
<p>I personally think it would be really great to provide recommended editor settings for the common editors/IDEs in the repo. We could do something similarly to how <code>config.toml</code> works and have one <code>editors</code> or <code>.editors</code> folder in the root with subfolders for the different editors. We'd also setup <code>.gitignore</code> in the project root to ignore the correct locations for the files/folders. Interested users would just need to <code>cp .editors/$EDITOR .</code> to get the recommended default settings.</p>



<a name="184176280"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184176280" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184176280">(Dec 24 2019 at 15:53)</a>:</h4>
<p><span class="user-mention" data-user-id="120791">@RalfJ</span> oh you need to install rust-analyzer, it's so nice and works really well with rustc</p>



<a name="184195284"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184195284" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> anp <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184195284">(Dec 25 2019 at 00:38)</a>:</h4>
<p>fwiw there are multiple places in libstd and libcore where rust-analyzer autoformatting results in breakage <span aria-label="confused" class="emoji emoji-1f615" role="img" title="confused">:confused:</span> and pinned rustfmt is fine</p>



<a name="184195332"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184195332" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> anp <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184195332">(Dec 25 2019 at 00:40)</a>:</h4>
<p>i’ve started running <code>watchexec — ./x.py fmt</code> in a separate terminal instead</p>



<a name="184195888"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184195888" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184195888">(Dec 25 2019 at 01:00)</a>:</h4>
<p><span class="user-mention" data-user-id="130111">@anp</span> you might need a different rustfmt in environment</p>



<a name="184195893"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184195893" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184195893">(Dec 25 2019 at 01:00)</a>:</h4>
<p>I'm not sure what rust-analyzer uses by default</p>



<a name="184195951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184195951" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184195951">(Dec 25 2019 at 01:03)</a>:</h4>
<p>current nightly works well</p>



<a name="184195952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184195952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184195952">(Dec 25 2019 at 01:03)</a>:</h4>
<p>but we need a better scheme XD</p>



<a name="184196025"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196025" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196025">(Dec 25 2019 at 01:06)</a>:</h4>
<p>well, rustfmt is supposed to be stable</p>



<a name="184196047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196047" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196047">(Dec 25 2019 at 01:06)</a>:</h4>
<p>I'm to be honest not sure why we're seeing this given that</p>



<a name="184196057"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196057" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196057">(Dec 25 2019 at 01:07)</a>:</h4>
<p>maybe <span class="user-mention" data-user-id="130111">@anp</span> has a really old one :D</p>



<a name="184196061"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196061" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196061">(Dec 25 2019 at 01:07)</a>:</h4>
<p>eh, I see it vs. stable</p>



<a name="184196180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196180" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> anp <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196180">(Dec 25 2019 at 01:12)</a>:</h4>
<p>i think it might be picking up my stable rustfmt as the default in my environment</p>



<a name="184196221"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196221" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> anp <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196221">(Dec 25 2019 at 01:12)</a>:</h4>
<p>thinking more now, it might be possible to teach ra-lsp to use the bootstrap-managed rustfmt</p>



<a name="184196234"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196234" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196234">(Dec 25 2019 at 01:13)</a>:</h4>
<p>it should be</p>



<a name="184196235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196235" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196235">(Dec 25 2019 at 01:13)</a>:</h4>
<p>I gave up myself and just used rust.vim's rustfmt functionality which seemed to work a little better anyway</p>



<a name="184196276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196276" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196276">(Dec 25 2019 at 01:14)</a>:</h4>
<p>(otoh, I'm doing some fairly ... sketchy stuff with piping the LSP protocol across ssh so that I can run ra-lsp-server on my more powerful machine and conserve battery life)</p>



<a name="184196337"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196337" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196337">(Dec 25 2019 at 01:17)</a>:</h4>
<p>I'm <a href="https://github.com/davidtwco/veritas/blob/master/users/david/home/neovim.nix#L61" target="_blank" title="https://github.com/davidtwco/veritas/blob/master/users/david/home/neovim.nix#L61">using the current stable rustfmt through neovim+ALE</a> and I've not had any issues yet.</p>



<a name="184196375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196375" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196375">(Dec 25 2019 at 01:18)</a>:</h4>
<p><span class="user-mention" data-user-id="116107">@davidtwco</span> I think it's pretty context-dependent</p>



<a name="184196382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196382" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196382">(Dec 25 2019 at 01:18)</a>:</h4>
<p>I observed it on src/librustc_resolve/lib.rs fwiw</p>



<a name="184196383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196383">(Dec 25 2019 at 01:18)</a>:</h4>
<p>(among others)</p>



<a name="184196385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196385">(Dec 25 2019 at 01:18)</a>:</h4>
<p>one thing might be that the old rust format won't undo modern rustfmt</p>



<a name="184196387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196387">(Dec 25 2019 at 01:19)</a>:</h4>
<p>I wish we just had a proper sysroot for stage 0 that we could point a rustup against</p>



<a name="184196392"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196392" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196392">(Dec 25 2019 at 01:19)</a>:</h4>
<p>we do?</p>



<a name="184196393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196393">(Dec 25 2019 at 01:19)</a>:</h4>
<p><code>build/x86_64-apple-darwin/stage0/</code> should be rustup linkable I think</p>



<a name="184196394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196394">(Dec 25 2019 at 01:19)</a>:</h4>
<p>(or whatever triple you have)</p>



<a name="184196436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196436">(Dec 25 2019 at 01:20)</a>:</h4>
<p>and that's a stable-ish place (obviously we can change it but it won't change often)</p>



<a name="184196439"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196439" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196439">(Dec 25 2019 at 01:20)</a>:</h4>
<p>I tried that before I think... let me recheck</p>



<a name="184196447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196447" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196447">(Dec 25 2019 at 01:21)</a>:</h4>
<p>seems to work for me</p>



<a name="184196448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196448" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196448">(Dec 25 2019 at 01:21)</a>:</h4>
<p>hmm... curious, I'm sure I tried this before, but yea, I'm seeing everything in order</p>



<a name="184196450"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196450" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196450">(Dec 25 2019 at 01:21)</a>:</h4>
<p>(it's literally just a beta toolchain)</p>



<a name="184196451"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196451" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196451">(Dec 25 2019 at 01:21)</a>:</h4>
<p>ok, this makes a few things much simpler</p>



<a name="184196495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196495" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196495">(Dec 25 2019 at 01:22)</a>:</h4>
<p>O_o: can we just use a rustup toolchain file instead of hand-rolling the downloading logic and use rustup for stage 0?</p>



<a name="184196500"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196500" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196500">(Dec 25 2019 at 01:22)</a>:</h4>
<p>I mean we can still manually download rustup into <code>build/triple</code></p>



<a name="184196502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196502" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196502">(Dec 25 2019 at 01:22)</a>:</h4>
<p>ok, maybe that's bad for some environments</p>



<a name="184196508"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196508" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196508">(Dec 25 2019 at 01:23)</a>:</h4>
<p>we might be able to get away with it</p>



<a name="184196509"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196509" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196509">(Dec 25 2019 at 01:23)</a>:</h4>
<p>I think distros reconfigure the rustc anyway to point at their own binary</p>



<a name="184196511"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196511" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196511">(Dec 25 2019 at 01:23)</a>:</h4>
<p>oh, but we could use a rustup toolchain file and make that the canonical location for bootstrap to figure out the stage 0 compiler</p>



<a name="184196512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196512">(Dec 25 2019 at 01:23)</a>:</h4>
<p>kinda</p>



<a name="184196514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196514">(Dec 25 2019 at 01:23)</a>:</h4>
<p>we're actually not using a beta rustfmt today</p>



<a name="184196516"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196516" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196516">(Dec 25 2019 at 01:23)</a>:</h4>
<p>(so we'd have two toolchains)</p>



<a name="184196517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196517" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196517">(Dec 25 2019 at 01:23)</a>:</h4>
<p>oh ^^</p>



<a name="184196556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196556" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196556">(Dec 25 2019 at 01:24)</a>:</h4>
<p>because we need nightly rustfmt features and rustfmt does not have an equivalent of RUSTC_BOOTSTRAP</p>



<a name="184196560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196560" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196560">(Dec 25 2019 at 01:24)</a>:</h4>
<blockquote>
<p>because we need nightly rustfmt features and rustfmt does not have an equivalent of RUSTC_BOOTSTRAP</p>
</blockquote>
<p>that seems surmountable</p>



<a name="184196561"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196561" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196561">(Dec 25 2019 at 01:24)</a>:</h4>
<p>beta/stable branches will have the rustfmt-checking disabled</p>



<a name="184196564"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196564" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196564">(Dec 25 2019 at 01:24)</a>:</h4>
<p>well, we/I asked if rustfmt could add it, and they were against it</p>



<a name="184196570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196570">(Dec 25 2019 at 01:25)</a>:</h4>
<p>I didn't push too hard though</p>



<a name="184196754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rustfmt%20landing/near/184196754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rustfmt.20landing.html#184196754">(Dec 25 2019 at 01:31)</a>:</h4>
<p>ah ok</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>