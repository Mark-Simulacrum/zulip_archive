<html>
<head><meta charset="utf-8"><title>Organizing src/test/ui? · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Organizing.20src.2Ftest.2Fui.3F.html">Organizing src/test/ui?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="217365862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Organizing%20src/test/ui%3F/near/217365862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> isHavvy <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Organizing.20src.2Ftest.2Fui.3F.html#217365862">(Nov 20 2020 at 06:10)</a>:</h4>
<p>Given the mess that <code>src/test/ui</code> is in because "Moreover, for a long time, the rustc test runner did not support subdirectories", would y'all be alright with PRs that moved test files into subdirectories? I'd like to get that directory down to less than 1000 files so that Github will actually show all of them.</p>



<a name="217365976"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Organizing%20src/test/ui%3F/near/217365976" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oliver <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Organizing.20src.2Ftest.2Fui.3F.html#217365976">(Nov 20 2020 at 06:13)</a>:</h4>
<p>Possibly related?: <a href="https://github.com/rust-lang/rust/issues/76268">https://github.com/rust-lang/rust/issues/76268</a></p>



<a name="217366148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Organizing%20src/test/ui%3F/near/217366148" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> isHavvy <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Organizing.20src.2Ftest.2Fui.3F.html#217366148">(Nov 20 2020 at 06:17)</a>:</h4>
<p>Only tangentially, as that's for tests that don't actually belong in <code>src/test/ui</code> but rather belong in <code>library/src/../../*.rs</code> next to the type they're testing. Although it does also lower the number of files.</p>



<a name="217536942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Organizing%20src/test/ui%3F/near/217536942" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> isHavvy <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Organizing.20src.2Ftest.2Fui.3F.html#217536942">(Nov 22 2020 at 06:15)</a>:</h4>
<p>There's already an issue about too many tests. I've reasked my question in there: <a href="https://github.com/rust-lang/rust/issues/73494">https://github.com/rust-lang/rust/issues/73494</a></p>



<a name="217536992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Organizing%20src/test/ui%3F/near/217536992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Organizing.20src.2Ftest.2Fui.3F.html#217536992">(Nov 22 2020 at 06:16)</a>:</h4>
<p>Seems good to me :)</p>



<a name="217542750"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Organizing%20src/test/ui%3F/near/217542750" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Organizing.20src.2Ftest.2Fui.3F.html#217542750">(Nov 22 2020 at 09:21)</a>:</h4>
<p>yeah, also think this would be a good change</p>



<a name="217837950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Organizing%20src/test/ui%3F/near/217837950" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> isHavvy <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Organizing.20src.2Ftest.2Fui.3F.html#217837950">(Nov 25 2020 at 02:12)</a>:</h4>
<p>Should I open a tracking issue for this?</p>



<a name="218199897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Organizing%20src/test/ui%3F/near/218199897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> isHavvy <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Organizing.20src.2Ftest.2Fui.3F.html#218199897">(Nov 29 2020 at 07:02)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="116122">@simulacrum</span> for <a href="https://github.com/rust-lang/rust/issues/79395">#79395</a></p>



<a name="218210844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Organizing%20src/test/ui%3F/near/218210844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Organizing.20src.2Ftest.2Fui.3F.html#218210844">(Nov 29 2020 at 12:32)</a>:</h4>
<p><span class="user-mention" data-user-id="296643">@isHavvy</span> <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span> yeah, this seems like good rationale. Thanks!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>