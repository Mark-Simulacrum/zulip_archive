<html>
<head><meta charset="utf-8"><title>local-ui-test-failures · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html">local-ui-test-failures</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="133739458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133739458" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133739458">(Sep 11 2018 at 15:13)</a>:</h4>
<p>Is anyone else getting issues with the following tests failing on their local machines: </p>
<ul>
<li><code>ui/run-pass/panic-runtime/abort-link-to-unwinding-crates.rs</code></li>
<li><code>ui/run-pass/panic-runtime/abort.rs</code></li>
<li><code>ui/run-pass/panic-runtime/link-to-abort.rs</code></li>
<li><code>ui/run-pass/thinlto/all-crates.rs</code></li>
<li><code>ui/run-pass/thinlto/thin-lto-inlines2.rs</code></li>
</ul>
<p>They pass on Travis so I've just been ignoring them locally.</p>



<a name="133739636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133739636" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133739636">(Sep 11 2018 at 15:16)</a>:</h4>
<p>I get problems in and around that area from time to time...</p>



<a name="133739642"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133739642" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133739642">(Sep 11 2018 at 15:16)</a>:</h4>
<p>not sure if I'm seeing those <em>specific</em> errors</p>



<a name="133739646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133739646" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133739646">(Sep 11 2018 at 15:16)</a>:</h4>
<p>but it's the kind of test names I tend to ignore :P</p>



<a name="133739663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133739663" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133739663">(Sep 11 2018 at 15:17)</a>:</h4>
<p>is this <code>--stage 1</code>?</p>



<a name="133739780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133739780" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133739780">(Sep 11 2018 at 15:19)</a>:</h4>
<p>Yes, but with <code>--keep-stage 0</code>, not <code>--stage 1</code>.</p>



<a name="133740642"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133740642" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133740642">(Sep 11 2018 at 15:33)</a>:</h4>
<p>i get those errors all the time</p>



<a name="133740695"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133740695" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133740695">(Sep 11 2018 at 15:34)</a>:</h4>
<p>I cannot remember if its only with <code>--incremental</code> or not</p>



<a name="133740706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133740706" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133740706">(Sep 11 2018 at 15:34)</a>:</h4>
<p>its very frustrating</p>



<a name="133740707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133740707" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133740707">(Sep 11 2018 at 15:34)</a>:</h4>
<p>I am using incremental in this case.</p>



<a name="133740836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133740836" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133740836">(Sep 11 2018 at 15:36)</a>:</h4>
<p>I have wondered if it is related to <a href="https://github.com/rust-lang/rust/issues/53929" target="_blank" title="https://github.com/rust-lang/rust/issues/53929">#53929</a></p>



<a name="133740913"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133740913" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133740913">(Sep 11 2018 at 15:37)</a>:</h4>
<p>and I have also filed <a href="https://github.com/rust-lang/rust/issues/53761" target="_blank" title="https://github.com/rust-lang/rust/issues/53761">#53761</a></p>



<a name="133740984"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133740984" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133740984">(Sep 11 2018 at 15:38)</a>:</h4>
<p>I am also using <code>codegen-units=N</code> for N != 1 in my Cargo.toml</p>



<a name="133740997"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133740997" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133740997">(Sep 11 2018 at 15:38)</a>:</h4>
<p><span class="user-mention" data-user-id="116107">@davidtwco</span> are you doing that as well? Or do you leave that at the default setting?</p>



<a name="133741023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133741023" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133741023">(Sep 11 2018 at 15:39)</a>:</h4>
<p>I'm not on OS X so if your issue is specific to OS X then it's probably something else. Just the default <code>codegen-units</code>.</p>



<a name="133741042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133741042" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133741042">(Sep 11 2018 at 15:39)</a>:</h4>
<p>(I am just throwing in potential reasons why you or I may be seeing local issues that Travis does not observe. Though now that I say that, I hope that my codegen-units setting does not affect what we do on the test suite itself.....)</p>



<a name="133741144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133741144" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133741144">(Sep 11 2018 at 15:40)</a>:</h4>
<p>This is the full error that I get for one of the test cases: <a href="https://gist.github.com/davidtwco/76255039178e6a347706b47f5c4a9a7d" target="_blank" title="https://gist.github.com/davidtwco/76255039178e6a347706b47f5c4a9a7d">https://gist.github.com/davidtwco/76255039178e6a347706b47f5c4a9a7d</a></p>



<a name="133741402"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133741402" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133741402">(Sep 11 2018 at 15:44)</a>:</h4>
<p>Felix's one looks like <a href="https://github.com/rust-lang/rust/issues/52528" target="_blank" title="https://github.com/rust-lang/rust/issues/52528">#52528</a> (in particular, varkor's comment)</p>



<a name="133753465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133753465" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133753465">(Sep 11 2018 at 19:10)</a>:</h4>
<p>on Linux, on my migrate run-pass to ui branch, I am seeing the same cases fail as <span class="user-mention" data-user-id="116107">@davidtwco</span></p>



<a name="133753496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133753496" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133753496">(Sep 11 2018 at 19:11)</a>:</h4>
<p>(I'm double-checking now whether taking out <code>--incremental</code> fixes it; I think it has in the past, but I'm not 100% certain)</p>



<a name="133754630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133754630" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133754630">(Sep 11 2018 at 19:29)</a>:</h4>
<p>(and yes, it looks like removing <code>--incremental</code> fixes the problem for me on Linux)</p>



<a name="133754697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133754697" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133754697">(Sep 11 2018 at 19:30)</a>:</h4>
<p>Is there an issue out there for this specific problem?</p>



<a name="133756305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133756305" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133756305">(Sep 11 2018 at 19:57)</a>:</h4>
<p>If there's an existing issue, I don't think its been diagnosed properly. The closest might be <a href="https://github.com/rust-lang/rust/issues/52528" target="_blank" title="https://github.com/rust-lang/rust/issues/52528">#52528</a></p>



<a name="133756365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/133756365" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#133756365">(Sep 11 2018 at 19:58)</a>:</h4>
<p>but even there that's just because <span class="user-mention" data-user-id="121053">@varkor</span> noted a connection</p>



<a name="134128502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/134128502" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#134128502">(Sep 17 2018 at 21:44)</a>:</h4>
<p>I'm seeing these test failures too with --incremental.</p>



<a name="134224504"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/134224504" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#134224504">(Sep 19 2018 at 10:51)</a>:</h4>
<p>Does setting --incremental in <code>x.py</code> make  tests be build incrementally too? That wouldn't make sense.</p>



<a name="134229363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/134229363" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#134229363">(Sep 19 2018 at 12:38)</a>:</h4>
<p>Oh, the problem is (probably) that libstd was built incrementally ...</p>



<a name="134231329"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/134231329" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#134231329">(Sep 19 2018 at 13:17)</a>:</h4>
<p><span class="user-mention" data-user-id="124287">@mw</span> and that somehow affected the codegen of the tests...?</p>



<a name="134232277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/134232277" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#134232277">(Sep 19 2018 at 13:35)</a>:</h4>
<p>or oh you mean the codegen of the libstd itself was broken in some way that the tests may be exposing...?</p>



<a name="134233576"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/134233576" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#134233576">(Sep 19 2018 at 13:59)</a>:</h4>
<p>yes, I think so</p>



<a name="134233581"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/134233581" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#134233581">(Sep 19 2018 at 13:59)</a>:</h4>
<p>I just tried with codegen-units=1000. that doesn't fail</p>



<a name="134233649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/134233649" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#134233649">(Sep 19 2018 at 14:00)</a>:</h4>
<p>but incr. comp. does a slightly different partitioning, splitting generic and non-generic code into different obj files</p>



<a name="134233661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/134233661" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#134233661">(Sep 19 2018 at 14:00)</a>:</h4>
<p>that might be part of the problem</p>



<a name="136602045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/136602045" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#136602045">(Oct 27 2018 at 10:44)</a>:</h4>
<div class="codehilite"><pre><span></span>    [ui] ui/coherence/coherence-inherited-assoc-ty-cycle-err.rs
    [ui] ui/consts/const-size_of-cycle.rs
    [ui] ui/cycle-projection-based-on-where-clause.rs
    [ui] ui/cycle-trait/cycle-trait-default-type-trait.rs
    [ui] ui/cycle-trait/cycle-trait-supertrait-direct.rs
    [ui] ui/cycle-trait/cycle-trait-supertrait-indirect.rs
    [ui] ui/existential_types/no_inferrable_concrete_type.rs
    [ui] ui/impl-trait/auto-trait-leak.rs
    [ui] ui/infinite/infinite-tag-type-recursion.rs
    [ui] ui/infinite/infinite-vec-type-recursion.rs
    [ui] ui/issues/issue-12511.rs
    [ui] ui/issues/issue-17252.rs
    [ui] ui/issues/issue-20772.rs
    [ui] ui/issues/issue-21177.rs
    [ui] ui/issues/issue-22673.rs
    [ui] ui/issues/issue-23302-1.rs
    [ui] ui/issues/issue-23302-2.rs
    [ui] ui/issues/issue-23302-3.rs
    [ui] ui/issues/issue-26548.rs
    [ui] ui/issues/issue-3008-1.rs
    [ui] ui/issues/issue-3008-2.rs
    [ui] ui/issues/issue-32326.rs
    [ui] ui/issues/issue-34373.rs
    [ui] ui/issues/issue-36163.rs
    [ui] ui/issues/issue-44415.rs
    [ui] ui/no_owned_box_lang_item.rs
    [ui] ui/recursion/recursive-enum.rs
    [ui] ui/resolve/resolve-self-in-impl.rs
    [ui] ui/run-pass/panic-runtime/abort-link-to-unwinding-crates.rs
    [ui] ui/run-pass/panic-runtime/abort.rs
    [ui] ui/run-pass/panic-runtime/link-to-abort.rs
    [ui] ui/run-pass/thinlto/all-crates.rs
    [ui] ui/run-pass/thinlto/thin-lto-inlines2.rs
    [ui] ui/union/union-nonrepresentable.rs
</pre></div>


<p>are the tests that fialed for me today</p>



<a name="136602266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/136602266" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#136602266">(Oct 27 2018 at 10:52)</a>:</h4>
<p>Interesting, I just rebased an hour ago and ran the full ui suite and had no strange failures.</p>



<a name="136602328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/136602328" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#136602328">(Oct 27 2018 at 10:55)</a>:</h4>
<p>Is my config diff from what is default</p>
<div class="codehilite"><pre><span></span><span class="gd">--- config.toml.example 2018-10-27 13:47:09.761548565 +0300</span>
<span class="gi">+++ config.toml 2018-10-13 15:36:24.818581061 +0300</span>
<span class="gu">@@ -16,10 +16,10 @@</span>

 # Indicates whether rustc will support compilation with LLVM
 # note: rustc does not compile without LLVM at the moment
<span class="gd">-#enabled = true</span>
<span class="gi">+enabled = true</span>

 # Indicates whether the LLVM build is a Release or Debug build
<span class="gd">-#optimize = true</span>
<span class="gi">+optimize = true</span>

 # Indicates whether LLVM should be built with ThinLTO. Note that this will
 # only succeed if you use clang, lld, llvm-ar, and llvm-ranlib in your C/C++
<span class="gu">@@ -28,10 +28,10 @@</span>
 #thin-lto = false

 # Indicates whether an LLVM Release build should include debug info
<span class="gd">-#release-debuginfo = false</span>
<span class="gi">+release-debuginfo = false</span>

 # Indicates whether the LLVM assertions are enabled or not
<span class="gd">-#assertions = false</span>
<span class="gi">+assertions = true</span>

 # Indicates whether ccache is used when building LLVM
 #ccache = false
<span class="gu">@@ -50,7 +50,7 @@</span>
 # Tell the LLVM build system to use Ninja instead of the platform default for
 # the generated build system. This can sometimes be faster than make, for
 # example.
<span class="gd">-#ninja = false</span>
<span class="gi">+ninja = true</span>

 # LLVM targets to build support for.
 # Note: this is NOT related to Rust compilation targets. However, as Rust is
<span class="gu">@@ -61,14 +61,14 @@</span>
 # support. You&#39;ll need to write a target specification at least, and most
 # likely, teach rustc about the C ABI of the target. Get in touch with the
 # Rust team and file an issue if you need assistance in porting!
<span class="gd">-#targets = &quot;X86;ARM;AArch64;Mips;PowerPC;SystemZ;JSBackend;MSP430;Sparc;NVPTX;Hexagon&quot;</span>
<span class="gi">+targets = &quot;X86;ARM;AArch64&quot;</span>

 # LLVM experimental targets to build support for. These targets are specified in
 # the same format as above, but since these targets are experimental, they are
 # not built by default and the experimental Rust compilation targets that depend
 # on them will not work unless the user opts in to building them. By default the
 # `WebAssembly` and `RISCV` targets are enabled when compiling LLVM from scratch.
<span class="gd">-#experimental-targets = &quot;WebAssembly;RISCV&quot;</span>
<span class="gi">+experimental-targets = &quot;&quot;</span>

 # Cap the number of parallel linker invocations when compiling LLVM.
 # This can be useful when building LLVM with debug info, which significantly
<span class="gu">@@ -76,7 +76,7 @@</span>
 # each linker process.
 # If absent or 0, linker invocations are treated like any other job and
 # controlled by rustbuild&#39;s -j parameter.
<span class="gd">-#link-jobs = 0</span>
<span class="gi">+link-jobs = 1</span>

 # When invoking `llvm-config` this configures whether the `--shared` argument is
 # passed to prefer linking to shared libraries.
<span class="gu">@@ -130,7 +130,7 @@</span>
 #compiler-docs = false

 # Indicate whether submodules are managed and updated automatically.
<span class="gd">-#submodules = true</span>
<span class="gi">+submodules = false</span>

 # Update submodules only when the checked out commit in the submodules differs
 # from what is committed in the main rustc repo.
<span class="gu">@@ -161,13 +161,13 @@</span>
 # would rather to perform a full bootstrap, compiling the compiler three times,
 # then you can set this option to true. You shouldn&#39;t ever need to set this
 # option to true.
<span class="gd">-#full-bootstrap = false</span>
<span class="gi">+full-bootstrap = false</span>

 # Enable a build of the extended rust tool set which is not only the compiler
 # but also tools such as Cargo. This will also produce &quot;combined installers&quot;
 # which are used to install Rust and Cargo together. This is disabled by
 # default.
<span class="gd">-#extended = false</span>
<span class="gi">+extended = false</span>

 # Installs chosen set of extended tools if enables. By default builds all.
 # If chosen tool failed to build the installation fails.
<span class="gu">@@ -177,14 +177,15 @@</span>
 #verbose = 0

 # Build the sanitizer runtimes
<span class="gd">-#sanitizers = false</span>
<span class="gi">+sanitizers = false</span>

 # Build the profiler runtime
 #profiler = false

<span class="gd">-# Indicates whether the native libraries linked into Cargo will be statically</span>
<span class="gd">-# linked or not.</span>
<span class="gd">-#cargo-native-static = false</span>
<span class="gi">+# Indicates whether the OpenSSL linked into Cargo will be statically linked or</span>
<span class="gi">+# not. If static linkage is specified then the build system will download a</span>
<span class="gi">+# known-good version of OpenSSL, compile it, and link it to Cargo.</span>
<span class="gi">+#openssl-static = false</span>

 # Run the build with low priority, by setting the process group&#39;s &quot;nice&quot; value
 # to +10 on Unix platforms, and by using a &quot;low priority&quot; job object on Windows.
<span class="gu">@@ -197,11 +198,11 @@</span>

 # Indicates that a local rebuild is occurring instead of a full bootstrap,
 # essentially skipping stage0 as the local compiler is recompiling itself again.
<span class="gd">-#local-rebuild = false</span>
<span class="gi">+# local-rebuild = true</span>

 # Print out how long each rustbuild step took (mostly intended for CI and
 # tracking over time)
<span class="gd">-#print-step-timings = false</span>
<span class="gi">+# print-step-timings = true</span>

 # =============================================================================
 # General install configuration options
<span class="gu">@@ -242,48 +243,27 @@</span>
 # =============================================================================
 [rust]

<span class="gd">-# Whether or not to optimize the compiler and standard library.</span>
<span class="gd">-#</span>
<span class="gi">+# Indicates that the build should be optimized for debugging Rust. Note that</span>
<span class="gi">+# this is typically not what you want as it takes an incredibly large amount of</span>
<span class="gi">+# time to have a debug-mode rustc compile any code (notably libstd). If this</span>
<span class="gi">+# value is set to `true` it will affect a number of configuration options below</span>
<span class="gi">+# as well, if unconfigured.</span>
<span class="gi">+#debug = false</span>
<span class="gi">+</span>
<span class="gi">+# Whether or not to optimize the compiler and standard library</span>
 # Note: the slowness of the non optimized compiler compiling itself usually
 #       outweighs the time gains in not doing optimizations, therefore a
<span class="gd">-#       full bootstrap takes much more time with `optimize` set to false.</span>
<span class="gd">-#optimize = true</span>
<span class="gd">-</span>
<span class="gd">-# Indicates that the build should be configured for debugging Rust. A</span>
<span class="gd">-# `debug`-enabled compiler and standard library will be somewhat</span>
<span class="gd">-# slower (due to e.g. checking of debug assertions) but should remain</span>
<span class="gd">-# usable.</span>
<span class="gd">-#</span>
<span class="gd">-# Note: If this value is set to `true`, it will affect a number of</span>
<span class="gd">-#       configuration options below as well, if they have been left</span>
<span class="gd">-#       unconfigured in this file.</span>
<span class="gd">-#</span>
<span class="gd">-# Note: changes to the `debug` setting do *not* affect `optimize`</span>
<span class="gd">-#       above. In theory, a &quot;maximally debuggable&quot; environment would</span>
<span class="gd">-#       set `optimize` to `false` above to assist the introspection</span>
<span class="gd">-#       facilities of debuggers like lldb and gdb. To recreate such an</span>
<span class="gd">-#       environment, explicitly set `optimize` to `false` and `debug`</span>
<span class="gd">-#       to `true`. In practice, everyone leaves `optimize` set to</span>
<span class="gd">-#       `true`, because an unoptimized rustc with debugging</span>
<span class="gd">-#       enabled becomes *unusably slow* (e.g. rust-lang/rust#24840</span>
<span class="gd">-#       reported a 25x slowdown) and bootstrapping the supposed</span>
<span class="gd">-#       &quot;maximally debuggable&quot; environment (notably libstd) takes</span>
<span class="gd">-#       hours to build.</span>
<span class="gd">-#</span>
<span class="gd">-#debug = false</span>
<span class="gi">+#       full bootstrap takes much more time with optimize set to false.</span>
<span class="gi">+optimize = true</span>

 # Number of codegen units to use for each compiler invocation. A value of 0
 # means &quot;the number of cores on this machine&quot;, and 1+ is passed through to the
 # compiler.
<span class="gd">-#codegen-units = 1</span>
<span class="gd">-</span>
<span class="gd">-# Sets the number of codegen units to build the standard library with,</span>
<span class="gd">-# regardless of what the codegen-unit setting for the rest of the compiler is.</span>
<span class="gd">-#codegen-units-std = 1</span>
<span class="gi">+codegen-units = 16</span>

 # Whether or not debug assertions are enabled for the compiler and standard
 # library. Also enables compilation of debug! and trace! logging macros.
<span class="gd">-#debug-assertions = false</span>
<span class="gi">+debug-assertions = true</span>

 # Whether or not debuginfo is emitted
 #debuginfo = false
<span class="gu">@@ -310,10 +290,10 @@</span>
 #backtrace = true

 # Whether to always use incremental compilation when building rustc
<span class="gd">-#incremental = false</span>
<span class="gi">+incremental = true</span>

 # Build rustc with experimental parallelization
<span class="gd">-#experimental-parallel-queries = false</span>
<span class="gi">+experimental-parallel-queries = true</span>

 # The default linker that will be hard-coded into the generated compiler for
 # targets that don&#39;t specify linker explicitly in their target specifications.
<span class="gu">@@ -413,24 +393,24 @@</span>
 # C compiler to be used to compiler C code. Note that the
 # default value is platform specific, and if not specified it may also depend on
 # what platform is crossing to what platform.
<span class="gd">-#cc = &quot;cc&quot;</span>
<span class="gi">+# cc = &quot;clang&quot;</span>

 # C++ compiler to be used to compiler C++ code (e.g. LLVM and our LLVM shims).
 # This is only used for host targets.
<span class="gd">-#cxx = &quot;c++&quot;</span>
<span class="gi">+# cxx = &quot;clang++&quot;</span>

 # Archiver to be used to assemble static libraries compiled from C/C++ code.
 # Note: an absolute path should be used, otherwise LLVM build will break.
<span class="gd">-#ar = &quot;ar&quot;</span>
<span class="gi">+# ar = &quot;llvm-ar&quot;</span>

 # Ranlib to be used to assemble static libraries compiled from C/C++ code.
 # Note: an absolute path should be used, otherwise LLVM build will break.
<span class="gd">-#ranlib = &quot;ranlib&quot;</span>
<span class="gi">+# ranlib = &quot;llvm-ranlib&quot;</span>

 # Linker to be used to link Rust code. Note that the
 # default value is platform specific, and if not specified it may also depend on
 # what platform is crossing to what platform.
<span class="gd">-#linker = &quot;cc&quot;</span>
<span class="gi">+# linker = &quot;clang -fuse-ld=lld&quot;</span>

 # Path to the `llvm-config` binary of the installation of a custom LLVM to link
 # against. Note that if this is specified we don&#39;t compile LLVM at all for this
<span class="gu">@@ -501,7 +481,3 @@</span>
 # as the one built on Windows will contain backslashes in paths causing problems
 # on linux
 #src-tarball = true
<span class="gd">-#</span>
<span class="gd">-</span>
<span class="gd">-# Whether to allow failures when building tools</span>
<span class="gd">-#missing-tools = false</span>
</pre></div>



<a name="136602380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/136602380" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#136602380">(Oct 27 2018 at 10:57)</a>:</h4>
<p><a href="https://gist.github.com/davidtwco/87af94434a64fee06a81a7c4a33f3808" target="_blank" title="https://gist.github.com/davidtwco/87af94434a64fee06a81a7c4a33f3808">My diff in a gist</a> - definitely less changed.</p>



<a name="136602902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/136602902" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#136602902">(Oct 27 2018 at 11:13)</a>:</h4>
<p>Well, this time I didn’t forget to update my submodules...</p>
<div class="codehilite"><pre><span></span>    [ui] ui/coherence/coherence-inherited-assoc-ty-cycle-err.rs
    [ui] ui/consts/const-size_of-cycle.rs
    [ui] ui/cycle-projection-based-on-where-clause.rs
    [ui] ui/cycle-trait/cycle-trait-default-type-trait.rs
    [ui] ui/cycle-trait/cycle-trait-supertrait-indirect.rs
    [ui] ui/existential_types/no_inferrable_concrete_type.rs
    [ui] ui/impl-trait/auto-trait-leak.rs
    [ui] ui/infinite/infinite-tag-type-recursion.rs
    [ui] ui/infinite/infinite-vec-type-recursion.rs
    [ui] ui/issues/issue-12511.rs
    [ui] ui/issues/issue-17252.rs
    [ui] ui/issues/issue-20772.rs
    [ui] ui/issues/issue-21177.rs
    [ui] ui/issues/issue-23302-1.rs
    [ui] ui/issues/issue-23302-2.rs
    [ui] ui/issues/issue-23302-3.rs
    [ui] ui/issues/issue-26548.rs
    [ui] ui/issues/issue-32326.rs
    [ui] ui/issues/issue-34373.rs
    [ui] ui/issues/issue-36163.rs
    [ui] ui/issues/issue-44415.rs
    [ui] ui/recursion/recursive-static-definition.rs
    [ui] ui/resolve/issue-23305.rs
    [ui] ui/resolve/resolve-self-in-impl.rs
    [ui] ui/span/recursive-type-field.rs
    [ui] ui/variance/variance-regions-unused-indirect.rs
</pre></div>



<a name="136602906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/local-ui-test-failures/near/136602906" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/local-ui-test-failures.html#136602906">(Oct 27 2018 at 11:13)</a>:</h4>
<p>Still quite a few failures though</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>