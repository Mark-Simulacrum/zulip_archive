<html>
<head><meta charset="utf-8"><title>load Polly as plugin · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/load.20Polly.20as.20plugin.html">load Polly as plugin</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="176953929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/load%20Polly%20as%20plugin/near/176953929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Droste <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/load.20Polly.20as.20plugin.html#176953929">(Sep 30 2019 at 17:30)</a>:</h4>
<p>Hi all!</p>
<p>Is it possible to load compiler plugins through <code>rustc</code> in some way?  For reference , Clang allows for <code>clang -Xclang -load -Xclang LLVMPolly.so</code> whereas <code>opt</code> provides <code>opt -load LLVMPolly.so</code> in order to enable optimization passes provided through plugins. (link to Polly: <a href="http://polly.llvm.org/" target="_blank" title="http://polly.llvm.org/">http://polly.llvm.org/</a>).</p>



<a name="176955720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/load%20Polly%20as%20plugin/near/176955720" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Droste <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/load.20Polly.20as.20plugin.html#176955720">(Sep 30 2019 at 17:49)</a>:</h4>
<p>Running <code>rustc -C llvm-args=--help | grep load </code>, it seems the <code>--load</code> flag is stripped (as opposed to <code>opt --help</code>).  Is there a specific reason for that?</p>



<a name="177037629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/load%20Polly%20as%20plugin/near/177037629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/load.20Polly.20as.20plugin.html#177037629">(Oct 01 2019 at 09:24)</a>:</h4>
<p>You can try to look in the GitHub issues / PRs about Polly - some people put quite a bit of effort integrating it into rustc</p>



<a name="177041652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/load%20Polly%20as%20plugin/near/177041652" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Droste <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/load.20Polly.20as.20plugin.html#177041652">(Oct 01 2019 at 10:22)</a>:</h4>
<p>Thanks, yeah I did see that. Though, for me still question is why not allow for compiler plugins in general. That seems like a low hanging fruit without adding a lot of maintenance cost to the Rust compiler. (Also interesting to see the discussion on the LLVM mailing list on that: <a href="https://lists.llvm.org/pipermail/llvm-dev/2018-January/120677.html" target="_blank" title="https://lists.llvm.org/pipermail/llvm-dev/2018-January/120677.html">https://lists.llvm.org/pipermail/llvm-dev/2018-January/120677.html</a>  where Polly will not become part of mainline soon .)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>