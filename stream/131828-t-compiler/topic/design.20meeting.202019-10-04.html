<html>
<head><meta charset="utf-8"><title>design meeting 2019-10-04 · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html">design meeting 2019-10-04</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="177338334"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177338334" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177338334">(Oct 04 2019 at 13:27)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span>! In about 30 minutes, we'll have our design meeting for this week. The theme is </p>
<h1>Roadmap 2020</h1>
<p>In some <a href="#narrow/stream/131828-t-compiler/topic/roadmap.20pre-discussion" title="#narrow/stream/131828-t-compiler/topic/roadmap.20pre-discussion">pre-discussion</a>, <span class="user-mention" data-user-id="116083">@pnkfelix</span> and I decided that the best place to start would be to focus on enumerating the <strong>biggest challenges</strong> that we see for rustc and the compiler team at this moment. These challenges can be technical but also organizational. </p>
<p>We started a <a href="https://hackmd.io/JNRvANhJSwm6Zggq7CY0Vw" target="_blank" title="https://hackmd.io/JNRvANhJSwm6Zggq7CY0Vw">hackmd document</a> that we will use to collect notes. We've seeded the document with <a href="https://hackmd.io/JNRvANhJSwm6Zggq7CY0Vw?view#Big-challenges-for-rustc-and-compiler-team" target="_blank" title="https://hackmd.io/JNRvANhJSwm6Zggq7CY0Vw?view#Big-challenges-for-rustc-and-compiler-team">our initial thoughts on the biggest challenges</a>, but we'd like feedback from y'all. </p>
<p>So, please: </p>
<ul>
<li>check out the <a href="https://hackmd.io/JNRvANhJSwm6Zggq7CY0Vw?view#Big-challenges-for-rustc-and-compiler-team" target="_blank" title="https://hackmd.io/JNRvANhJSwm6Zggq7CY0Vw?view#Big-challenges-for-rustc-and-compiler-team">list of challenges</a></li>
<li><a href="https://poll.ly/#/P76nbdyb" target="_blank" title="https://poll.ly/#/P76nbdyb">vote</a> for the ones that you think are most urgent</li>
<li>feel free to add your own items to the poll and (ideally) to the hackmd doc (where you can elaborate a ibt more)</li>
</ul>
<p>You can do this now, but we'll also spend a bit of time in the beginning of the meeting.</p>



<a name="177338728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177338728" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177338728">(Oct 04 2019 at 13:32)</a>:</h4>
<p>should we provide guidance as to how many votes people should use? I guess if someone <em>really</em> cares about sometnign they could make dummy accounts to vote more than once on an item</p>



<a name="177338796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177338796" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177338796">(Oct 04 2019 at 13:32)</a>:</h4>
<p>/me frantically searches for their Tor scripts</p>



<a name="177341081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341081" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341081">(Oct 04 2019 at 13:59)</a>:</h4>
<p>I had intended for it to be "approval voting" -- vote for as many as you like, once per item</p>



<a name="177341087"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341087" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341087">(Oct 04 2019 at 13:59)</a>:</h4>
<p>but...</p>



<a name="177341297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341297" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341297">(Oct 04 2019 at 14:01)</a>:</h4>
<p>approval voting is probably fine</p>



<a name="177341361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341361" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341361">(Oct 04 2019 at 14:02)</a>:</h4>
<p>I was vaguely wondering if we should encourage to vote for e.g. <em>half</em> of the topics</p>



<a name="177341364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341364" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341364">(Oct 04 2019 at 14:02)</a>:</h4>
<p>(or "at most half")</p>



<a name="177341432"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341432" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341432">(Oct 04 2019 at 14:03)</a>:</h4>
<p>hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span>! It's 10:03am (at least here in Boston...) and that means it's time for....</p>
<h1>Roadmap 2020 design meeting</h1>



<a name="177341455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341455" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341455">(Oct 04 2019 at 14:04)</a>:</h4>
<p>To start, let's have some </p>
<h1>announcements</h1>



<a name="177341522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341522" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341522">(Oct 04 2019 at 14:04)</a>:</h4>
<p>the first "announcement" is about this meeting -- the plan for today (if you missed it) is to discuss <em>challenges</em>, and I have some <a href="#narrow/stream/131828-t-compiler/topic/design.20meeting.202019-10-04/near/177338334" title="#narrow/stream/131828-t-compiler/topic/design.20meeting.202019-10-04/near/177338334">notes above</a></p>



<a name="177341568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341568" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341568">(Oct 04 2019 at 14:05)</a>:</h4>
<p>in particular, people should be reading the <a href="https://hackmd.io/JNRvANhJSwm6Zggq7CY0Vw?view#Big-challenges-for-rustc-and-compiler-team" target="_blank" title="https://hackmd.io/JNRvANhJSwm6Zggq7CY0Vw?view#Big-challenges-for-rustc-and-compiler-team">list of challenges</a> and <a href="https://poll.ly/#/P76nbdyb" target="_blank" title="https://poll.ly/#/P76nbdyb">voting</a> -- feel free to add your own ideas!</p>



<a name="177341620"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341620" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341620">(Oct 04 2019 at 14:05)</a>:</h4>
<p>(if you add your own ideas, make sure to put it on the voting page!)</p>



<a name="177341706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341706">(Oct 04 2019 at 14:06)</a>:</h4>
<p>yep</p>



<a name="177341717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341717">(Oct 04 2019 at 14:06)</a>:</h4>
<p>the plan is to kind of use the votes to guide more detailed discussion, I thnk</p>



<a name="177341928"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341928" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341928">(Oct 04 2019 at 14:09)</a>:</h4>
<p>ok, how are folks doing?</p>



<a name="177341981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341981" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341981">(Oct 04 2019 at 14:10)</a>:</h4>
<p>I may be the only one that added an item</p>



<a name="177341983"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341983" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341983">(Oct 04 2019 at 14:10)</a>:</h4>
<p>I see <span class="user-mention" data-user-id="116083">@pnkfelix</span> added "paying for labor" to the list (fyi)</p>



<a name="177341992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177341992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177341992">(Oct 04 2019 at 14:10)</a>:</h4>
<p>/me almost spelled that "labour" -- what has become of me.</p>



<a name="177342002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342002" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342002">(Oct 04 2019 at 14:10)</a>:</h4>
<p>(and its arguably an item that belongs somewhere other than this meeting. i.e. this is not an issue for "just" 2020/2021)</p>



<a name="177342004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342004" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342004">(Oct 04 2019 at 14:10)</a>:</h4>
<p>too much time spent reading about brexit or something</p>



<a name="177342041"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342041" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342041">(Oct 04 2019 at 14:11)</a>:</h4>
<p>yeah, my sense is that it's not really something that belongs on the <em>compiler team roadmap</em> per se, but I'm always interested to hear about it, and I think it could inform other roadmaps</p>



<a name="177342067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342067" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342067">(Oct 04 2019 at 14:11)</a>:</h4>
<p>I think its a topic that we sometimes shy away from discussing</p>



<a name="177342079"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342079" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342079">(Oct 04 2019 at 14:11)</a>:</h4>
<p>and yet it seems vitally important ...</p>



<a name="177342081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342081" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342081">(Oct 04 2019 at 14:11)</a>:</h4>
<p>(also, I want to repeat that people who <em>are</em> interested in contracting or in issuing contracts should contact me privately; I'm trying to get a better sense of what people are looking for and how we can try to connect people who want to issue contracts)</p>



<a name="177342115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban Küber <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342115">(Oct 04 2019 at 14:12)</a>:</h4>
<p>It would be nice to have more people working full time on the compiler</p>



<a name="177342164"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342164" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342164">(Oct 04 2019 at 14:12)</a>:</h4>
<p>yeah</p>



<a name="177342168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342168" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342168">(Oct 04 2019 at 14:12)</a>:</h4>
<blockquote>
<p>yeah, my sense is that it's not really something that belongs on the <em>compiler team roadmap</em> per se, but I'm always interested to hear about it, and I think it could inform other roadmaps</p>
</blockquote>
<p>to be clear this doesn't mean don't vote for it :)</p>



<a name="177342177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342177" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342177">(Oct 04 2019 at 14:12)</a>:</h4>
<p>ok let's get started</p>



<a name="177342197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342197">(Oct 04 2019 at 14:13)</a>:</h4>
<p>heh I like these votes</p>



<a name="177342209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342209" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342209">(Oct 04 2019 at 14:13)</a>:</h4>
<p>the number one item in terms of problems by far is</p>
<h1>compilation times remain stubbornly high</h1>



<a name="177342220"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342220" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342220">(Oct 04 2019 at 14:13)</a>:</h4>
<p>(deleted)</p>



<a name="177342228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342228">(Oct 04 2019 at 14:13)</a>:</h4>
<p>in the hackmd doc, I wrote the following</p>
<ul>
<li>many companies have huge codebases and compilation time can be an existential crisis</li>
<li>
<p>we feel this ourselves with bootstrapping<br>
    * band-aids like "factor librustc into finer grain crates" might work; cannot be "official answer"</p>
</li>
<li>
<p>incremental has helped but it's not like a 1-line change is 'instantaneous'</p>
</li>
<li>this bullet is talking about the time it takes to "run tests" and do full builds; it does NOT refer to the "instantaneous feedback" for things like completion, which falls under IDE</li>
</ul>



<a name="177342253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342253" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342253">(Oct 04 2019 at 14:13)</a>:</h4>
<p>(well, I wrote some of that)</p>



<a name="177342302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342302" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342302">(Oct 04 2019 at 14:14)</a>:</h4>
<p>I wanted to add something around team growth, maybe it's a bit late already ...</p>



<a name="177342306"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342306" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342306">(Oct 04 2019 at 14:14)</a>:</h4>
<p>ps I'm going to try and keep the <a href="https://hackmd.io/JNRvANhJSwm6Zggq7CY0Vw?edit" target="_blank" title="https://hackmd.io/JNRvANhJSwm6Zggq7CY0Vw?edit">hackmd</a> up to date as we  go</p>



<a name="177342318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342318">(Oct 04 2019 at 14:14)</a>:</h4>
<blockquote>
<p>I wanted to add something around team growth, maybe it's a bit late already ...</p>
</blockquote>
<p>go ahead and finish</p>



<a name="177342324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342324" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342324">(Oct 04 2019 at 14:14)</a>:</h4>
<p>the main question is -- I guess two-fold --</p>



<a name="177342345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342345" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342345">(Oct 04 2019 at 14:14)</a>:</h4>
<p>is there more to say about compilation time as a <em>problem</em> and do we want to kind of discuss some of what might be done to try and <em>address it</em>?</p>



<a name="177342392"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342392" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342392">(Oct 04 2019 at 14:15)</a>:</h4>
<p>small note: incremental isn't all the way back to parsing, that could have a nice effect in theory, especially with pipelining and everything else<br>
but this is a significant thing to tackle and will likely not happen without coordination</p>



<a name="177342412"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342412" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342412">(Oct 04 2019 at 14:15)</a>:</h4>
<p>One thing that I think we never really successfully did</p>



<a name="177342415"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342415" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342415">(Oct 04 2019 at 14:15)</a>:</h4>
<blockquote>
<p>is there more to say about compilation time as a <em>problem</em> and do we want to kind of discuss some of what might be done to try and <em>address it</em>?</p>
</blockquote>
<p>is it worth differentiating bootstrap time from overall compile times ?</p>



<a name="177342465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342465">(Oct 04 2019 at 14:16)</a>:</h4>
<p>obviously fixing the latter has a very broad effect</p>



<a name="177342477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342477" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342477">(Oct 04 2019 at 14:16)</a>:</h4>
<p>is to establish clear benchmark(s) that we think is meaningful that we can measure and optimize for</p>



<a name="177342479"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342479" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342479">(Oct 04 2019 at 14:16)</a>:</h4>
<blockquote>
<p>I wanted to add something around team growth, maybe it's a bit late already ...</p>
</blockquote>
<p>added it and added to the voting board</p>



<a name="177342495"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342495" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342495">(Oct 04 2019 at 14:16)</a>:</h4>
<blockquote>
<p>is it worth differentiating bootstrap time from overall compile times ?</p>
</blockquote>
<p>yeah, let's talk about that a bit actually, I think that's a good question</p>



<a name="177342507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342507">(Oct 04 2019 at 14:16)</a>:</h4>
<p>but focusing on the former (bootstrap times) may yield better return in short- medium- term</p>



<a name="177342527"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342527" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342527">(Oct 04 2019 at 14:16)</a>:</h4>
<blockquote>
<p>is to establish clear benchmark(s) that we think is meaningful that we can measure and optimize for</p>
</blockquote>
<p>getting a deja-vu, as if this has been said every year for the past 3-4 years</p>



<a name="177342536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342536" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342536">(Oct 04 2019 at 14:17)</a>:</h4>
<p>exactly :P</p>



<a name="177342583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342583" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342583">(Oct 04 2019 at 14:17)</a>:</h4>
<p>we definitely have a set of benchmarks. dunno if its a <em>good</em> set</p>



<a name="177342590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342590">(Oct 04 2019 at 14:17)</a>:</h4>
<p>but people use perf.rlo</p>



<a name="177342591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342591" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342591">(Oct 04 2019 at 14:17)</a>:</h4>
<p>I do think that setting a strict goal of "make the compiler itself bootstrap faster" may be reasonable. It's likely to help other big projects out there, and it'll help us go faster too.</p>



<a name="177342654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342654">(Oct 04 2019 at 14:18)</a>:</h4>
<p>yeah, I think we've made great progress in the sense that perf.rlo has become much better</p>



<a name="177342679"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342679" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342679">(Oct 04 2019 at 14:18)</a>:</h4>
<p>I thnk what i'm advocating for is picking specific crates/scenarios (maybe from that list!) and saying "let's do that" -- but indeed maybe bootstrapping is the right one to start with</p>



<a name="177342699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342699">(Oct 04 2019 at 14:18)</a>:</h4>
<p>I know that there's been a lot of attention paid to <em>CI</em> specifically and where time is spent</p>



<a name="177342740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342740" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342740">(Oct 04 2019 at 14:19)</a>:</h4>
<p>I feel like building rustc incrementally still feels prety slow a ot of the time, even if you use <code>--keep-stage</code></p>



<a name="177342747"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342747" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342747">(Oct 04 2019 at 14:19)</a>:</h4>
<p>and of course that is tricky and confusing</p>



<a name="177342778"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342778" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342778">(Oct 04 2019 at 14:19)</a>:</h4>
<p>so my first question would be something like "incremental bootstrap most of all?" (distinct from CI) and "maybe find a way to make a (95%?) reliable, automatic keep-stage?"</p>



<a name="177342897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342897">(Oct 04 2019 at 14:20)</a>:</h4>
<p>I personally think that my priorities would be:</p>
<ol>
<li>non incremental bootstrap</li>
<li>incremental bootstrap</li>
<li>keep stage improvements</li>
</ol>



<a name="177342938"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342938" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342938">(Oct 04 2019 at 14:21)</a>:</h4>
<p>interesting</p>



<a name="177342968"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342968" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342968">(Oct 04 2019 at 14:21)</a>:</h4>
<p>in that order primarily because we're already really pretty fast at a check build on the compiler. codegen/LLVM time improvements are where we need to make the most improvement, largely, and that is shared between non-incr/incr</p>



<a name="177342993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177342993" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177342993">(Oct 04 2019 at 14:21)</a>:</h4>
<p>well, that depends</p>



<a name="177343000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343000">(Oct 04 2019 at 14:22)</a>:</h4>
<p>but that's interesting</p>



<a name="177343045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343045" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343045">(Oct 04 2019 at 14:22)</a>:</h4>
<p>(i.e., it's plausible that better codegen-unit distribution could help)</p>



<a name="177343053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343053">(Oct 04 2019 at 14:22)</a>:</h4>
<p>I know that e.g. <span class="user-mention" data-user-id="120518">@Eric Huss</span> has done some cool work on visualizing bootstrap/CI times, are those easily accessible?</p>



<a name="177343059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343059">(Oct 04 2019 at 14:22)</a>:</h4>
<p><a href="https://mark.rousskov.org/parallel-compiler-data/master/rustc-compiler-opt-timing.html" target="_blank" title="https://mark.rousskov.org/parallel-compiler-data/master/rustc-compiler-opt-timing.html">https://mark.rousskov.org/parallel-compiler-data/master/rustc-compiler-opt-timing.html</a></p>



<a name="177343060"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343060" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343060">(Oct 04 2019 at 14:22)</a>:</h4>
<p>anyway, we don't want to go in too deep technically probably</p>



<a name="177343143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343143" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343143">(Oct 04 2019 at 14:23)</a>:</h4>
<p>Maybe a good idea would be: come up with some concrete-ish goal (sounds like we have a candidate -- improve LLVM time around rustc bootstrap) and identify if there are any measurements needed to validate or guide that.</p>



<a name="177343147"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343147" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343147">(Oct 04 2019 at 14:23)</a>:</h4>
<p>that editing a comment has the same effect as modifying a function wrt forcing recompilation is regularly a frustration — incremental still isn't fine-grained enough</p>



<a name="177343260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343260" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343260">(Oct 04 2019 at 14:24)</a>:</h4>
<p>that's where moving incremental all the way back to parsing would solve, I think</p>



<a name="177343281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343281" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343281">(Oct 04 2019 at 14:25)</a>:</h4>
<p>do you think?</p>



<a name="177343292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343292" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343292">(Oct 04 2019 at 14:25)</a>:</h4>
<p>(tracked by <a href="https://github.com/rust-lang/rust/issues/47389" target="_blank" title="https://github.com/rust-lang/rust/issues/47389">#47389</a>)</p>



<a name="177343307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343307">(Oct 04 2019 at 14:25)</a>:</h4>
<p>That's true -- in some sense, if we were better at incremental, then we could avoid codegen time. Right now even a "comment edit" means we re-codegen things I believe</p>



<a name="177343310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343310" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343310">(Oct 04 2019 at 14:25)</a>:</h4>
<p>it seems like <code>x.py build -i</code> <em>still</em> takes more time <code>x.py check</code></p>



<a name="177343320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343320" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343320">(Oct 04 2019 at 14:25)</a>:</h4>
<p>when all you've done is modify a comment</p>



<a name="177343323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343323" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343323">(Oct 04 2019 at 14:25)</a>:</h4>
<p>and I feel like that shouldn't be</p>



<a name="177343330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343330" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343330">(Oct 04 2019 at 14:25)</a>:</h4>
<p>but maybe that's not true</p>



<a name="177343338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343338" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343338">(Oct 04 2019 at 14:25)</a>:</h4>
<blockquote>
<p>That's true -- in some sense, if we were better at incremental, then we could avoid codegen time. Right now even a "comment edit" means we re-codegen things I believe</p>
</blockquote>
<p>it <em>shouldn't</em> be true -- well, modulo spans, that may be part of it</p>



<a name="177343409"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343409" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343409">(Oct 04 2019 at 14:26)</a>:</h4>
<p>Yeah this is "buggy" for the most part, not correct -- but I believe it is the state of the world today :)</p>



<a name="177343427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343427" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343427">(Oct 04 2019 at 14:26)</a>:</h4>
<p>still, it seems like what I can extract from this is maybe a few things</p>
<ul>
<li>bootstrap is worth focusing on</li>
<li>
<p>codegen time is a big deal<br>
    * measurements suggest librustc is long pole in the tent, also</p>
</li>
<li>
<p>incremental could be improved, e.g. measure/improve the "edit comment" use case</p>
</li>
</ul>



<a name="177343477"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343477" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343477">(Oct 04 2019 at 14:27)</a>:</h4>
<p>should we turn to the next topic?</p>



<a name="177343491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343491">(Oct 04 2019 at 14:27)</a>:</h4>
<p>I guess it's two-part:</p>
<ol>
<li>don't do any work past the HIR when only a comment changed (targeted Span improvements may help)</li>
<li>move incremental back so you don't need to spend entire seconds getting to HIR</li>
</ol>



<a name="177343529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343529" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343529">(Oct 04 2019 at 14:27)</a>:</h4>
<p>(Zulip really hates me right now, the lag is unbearable)</p>



<a name="177343637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343637" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343637">(Oct 04 2019 at 14:28)</a>:</h4>
<p>next most voted was</p>
<blockquote>
<p>tech debt around the trait system</p>
</blockquote>
<p>and the text from the hackmd is</p>
<blockquote>
<ul>
<li>
<p>tech debt around the trait system</p>
<ul>
<li>blocking a lot of lang team progress (async fn in traits, GATs, specialization)</li>
<li>
<p>"lazy normalization"</p>
<ul>
<li>also maybe blocking const generics work</li>
<li>also support for higher-ranked lifetimes etc remains a common place where you can hit ICEs that have no real fix</li>
</ul>
</li>
<li>
<p>possibly performance impact</p>
</li>
</ul>
</li>
</ul>
</blockquote>



<a name="177343673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343673" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343673">(Oct 04 2019 at 14:29)</a>:</h4>
<p>(side note: does anyone know if there is a bug filed with zulip about their handling of bullet lists?! it seems to have regressed significantly...)</p>



<a name="177343728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343728" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343728">(Oct 04 2019 at 14:29)</a>:</h4>
<p>I think what might be helpful here would be to discuss this in more specific terms -- have I called out the right real goals, for example?</p>



<a name="177343750"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343750" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343750">(Oct 04 2019 at 14:30)</a>:</h4>
<p>(It'd probably be good to prioritize somewhat within those, as well)</p>



<a name="177343947"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177343947" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177343947">(Oct 04 2019 at 14:31)</a>:</h4>
<p>lazy norm also blocks any interesting usage of type/const parameters in const expressions inside types (e.g. <code>[u8; size_of::&lt;T&gt;()]</code> or <code>Foo&lt;{N + 1}&gt;</code>)<br>
(note that this is <em>not</em> limited to const-generics, it includes things that work on stable when you have a concrete type instead of a type parameter!)</p>



<a name="177344072"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344072" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344072">(Oct 04 2019 at 14:32)</a>:</h4>
<p>So we could talk a bit about what's the problem there. We've made .. relatively little progress on this this year, though we have made some. I think a lot of that is because my time has been limited. This remains true, though in the last few weeks I've managed to block out bigger chunks of time.</p>



<a name="177344080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344080" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344080">(Oct 04 2019 at 14:33)</a>:</h4>
<p>It's also because there's just a lot to organize and it's hard to get traction</p>



<a name="177344086"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344086" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344086">(Oct 04 2019 at 14:33)</a>:</h4>
<p>There's no want of folks interested</p>



<a name="177344088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344088">(Oct 04 2019 at 14:33)</a>:</h4>
<p>lazy norm, If i understand correctly, would also address the problem that right now we have various random iCE's that arise because we're missing <code>normalize()</code> calls at "just the right places"</p>



<a name="177344097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344097">(Oct 04 2019 at 14:33)</a>:</h4>
<p>I think a lot of the problems from rustc recur in a microcosm</p>



<a name="177344105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344105" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344105">(Oct 04 2019 at 14:33)</a>:</h4>
<blockquote>
<p>lazy norm, If i understand correctly, would also address the problem that right now we have various random iCE's that arise because we're missing <code>normalize()</code> calls at "just the right places"</p>
</blockquote>
<p>yes, that's a goal</p>



<a name="177344112"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344112" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344112">(Oct 04 2019 at 14:33)</a>:</h4>
<blockquote>
<p>I think a lot of the problems from rustc recur in a microcosm</p>
</blockquote>
<p>specifically, laying out designs and getting feedback</p>



<a name="177344179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344179" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344179">(Oct 04 2019 at 14:34)</a>:</h4>
<p>I had blocked out time today to try and setup (e.g.) a recurring "design meeting" where we focus on <em>some topic</em> each week and dig in deep</p>



<a name="177344206"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344206" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344206">(Oct 04 2019 at 14:34)</a>:</h4>
<p>anyway, maybe going a bit deep for roadmap discussion :)</p>



<a name="177344210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344210" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344210">(Oct 04 2019 at 14:34)</a>:</h4>
<p>I'm just braindumping</p>



<a name="177344261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344261" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344261">(Oct 04 2019 at 14:35)</a>:</h4>
<p>one thing I will say is that iterating with rust-analyzer has been good and exposed various weaknesses</p>



<a name="177344279"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344279" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344279">(Oct 04 2019 at 14:35)</a>:</h4>
<p>but one of the hard things to balance is "incremental progress on existing system" and "chalk"</p>



<a name="177344286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344286">(Oct 04 2019 at 14:35)</a>:</h4>
<p>should we plan to discuss, in some future meeting, whether we want to focus on swapping in a new trait subsystem (chalk) or try to ...</p>



<a name="177344295"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344295" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344295">(Oct 04 2019 at 14:35)</a>:</h4>
<p>okay yeah you just summarized it</p>



<a name="177344364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344364" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344364">(Oct 04 2019 at 14:36)</a>:</h4>
<p>the last time the wg-traits went deep on that topic, we concluded that it would be hard to upgade existing system to realy solve e.g. gats</p>



<a name="177344384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344384" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344384">(Oct 04 2019 at 14:36)</a>:</h4>
<p>however, I think that for lazy norm it is plausible (and I was planning to put time into exploring that today)</p>



<a name="177344389"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344389" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344389">(Oct 04 2019 at 14:36)</a>:</h4>
<p>thinking back on NLL, we got a lot of leverage from moving to MIR-borrowck. But even there, we did <em>not</em> go whole hog on trying to swap in polonius</p>



<a name="177344418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344418">(Oct 04 2019 at 14:36)</a>:</h4>
<p>So I don't actually know what that analogy tells us</p>



<a name="177344520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344520">(Oct 04 2019 at 14:38)</a>:</h4>
<p>How <em>long</em>, or how much man power, would you say have invested in trying to upgrade existing system?</p>



<a name="177344522"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344522" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344522">(Oct 04 2019 at 14:38)</a>:</h4>
<p>ok I don't feel like "new information" is coming to light here, next topic? :)</p>



<a name="177344546"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344546" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344546">(Oct 04 2019 at 14:38)</a>:</h4>
<p>(let me know if I'm rail-roading...)</p>



<a name="177344549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344549">(Oct 04 2019 at 14:38)</a>:</h4>
<p>Well wait, I don't know what we've concluded from this. Is it just that we all agree that this is a challenge?</p>



<a name="177344585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344585" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344585">(Oct 04 2019 at 14:38)</a>:</h4>
<p>heh indeed I don't think we concluded much</p>



<a name="177344620"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344620" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344620">(Oct 04 2019 at 14:39)</a>:</h4>
<p>well ok so</p>



<a name="177344629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344629" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344629">(Oct 04 2019 at 14:39)</a>:</h4>
<p>I think a good goal for the year for traits would be</p>



<a name="177344638"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344638" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344638">(Oct 04 2019 at 14:39)</a>:</h4>
<p>sorry, let me rephrase that</p>



<a name="177344654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344654">(Oct 04 2019 at 14:39)</a>:</h4>
<p>if the answer is just: "we should have a follow-up meeting to discuss traits challenges", I'm okay with that conclusion</p>



<a name="177344720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344720" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344720">(Oct 04 2019 at 14:40)</a>:</h4>
<p>I think a good <em>immediate</em> goal would be to kind of decide the extent to which we will go "all in" on chalk next year -- and what we will try to solve on existing system first</p>



<a name="177344784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344784" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344784">(Oct 04 2019 at 14:40)</a>:</h4>
<p>and I think we should make <em>that</em> exploration our main immediate goal, and try to propose a more concrete plan in (say) a month or so, which might indeed make it onto the roadmap</p>



<a name="177344796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344796" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344796">(Oct 04 2019 at 14:40)</a>:</h4>
<p>or just be useful :)</p>



<a name="177344836"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344836" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344836">(Oct 04 2019 at 14:41)</a>:</h4>
<p>we have gained some new data in this regard (thanks e.g. to r-a exploration but also a few other things)</p>



<a name="177344973"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177344973" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177344973">(Oct 04 2019 at 14:42)</a>:</h4>
<p><del>I'm not sure even sure lazy normalization for type-level constant expressions is that tied to traits, tbh</del></p>
<p><em>nevermind</em> the problem is lazy normalization for everything is needed to break cycles that happen to affect constant expressions in particular, my memory is just bad</p>



<a name="177345023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345023" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345023">(Oct 04 2019 at 14:42)</a>:</h4>
<p>(deleted)</p>



<a name="177345095"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345095" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345095">(Oct 04 2019 at 14:43)</a>:</h4>
<p>let's move to another thing, but I think I agree</p>



<a name="177345115"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345115" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345115">(Oct 04 2019 at 14:43)</a>:</h4>
<p>or at least I think that we can make progress around there :)</p>



<a name="177345220"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345220" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345220">(Oct 04 2019 at 14:44)</a>:</h4>
<p>next most voted:</p>
<ul>
<li>paying for labor
*</li>
</ul>



<a name="177345286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345286" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345286">(Oct 04 2019 at 14:44)</a>:</h4>
<ul>
<li>paying for labor<br>
    * we rely on volunteers for vast majority of coding effort<br>
    * some of this is coding done while "on the clock" for some boss, with that boss's blessing<br>
    * (there are also contract laborers, financed by companies with specific needs)<br>
    * is this model of compensation going to suffice going forward?</li>
</ul>



<a name="177345331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345331" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345331">(Oct 04 2019 at 14:45)</a>:</h4>
<p>I'd be curious to hear what "upvoters" were expressing, because I could see many things to talk about here</p>



<a name="177345455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345455" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345455">(Oct 04 2019 at 14:46)</a>:</h4>
<blockquote>
<p>if the answer is just: "we should have a follow-up meeting to discuss traits challenges", I'm okay with that conclusion</p>
</blockquote>
<p>I wrote this btw as the 'traits conclusion'</p>
<ul>
<li>conclusion:<br>
    * we need most of all a clear roadmap here, and that should be an immediate focus<br>
    * good to try and separate out lazy normalization from other goals</li>
</ul>



<a name="177345489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345489" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345489">(Oct 04 2019 at 14:46)</a>:</h4>
<p>i posed the "pay for labor" topic because it strikes me as a potential existential threat. nrc quipped years ago that (paraphrasing) we'll be fine without more compiler developers, but without users Rust is dead in the water.</p>



<a name="177345507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345507">(Oct 04 2019 at 14:47)</a>:</h4>
<p>I believed that at the time. But I think now we have more users.</p>



<a name="177345518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345518" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345518">(Oct 04 2019 at 14:47)</a>:</h4>
<p>I guess I can give my current perspective</p>



<a name="177345592"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345592" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345592">(Oct 04 2019 at 14:47)</a>:</h4>
<p>So much paradoxes here.<br>
- Full-time employed people often work for sprint goals and reports rather than quality.<br>
- Some people that are supposed to be full-time employed appear and do something like once a month and busy with something unobservable the rest of the time.</p>



<a name="177345666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345666" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345666">(Oct 04 2019 at 14:48)</a>:</h4>
<p>I think we may well make progress on some sort of foundation, but I don't think it will hire a lot of compiler devs. I think the situation we really want is to have more companies doing funding in more diverse ways.</p>



<a name="177345697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345697" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345697">(Oct 04 2019 at 14:48)</a>:</h4>
<p>One thing I've been thinking a lot about</p>



<a name="177345717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345717" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345717">(Oct 04 2019 at 14:48)</a>:</h4>
<p>is how we as a team can help to connect people with grants/contracting and make it easy for people to get grants or contracts</p>



<a name="177345725"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345725" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345725">(Oct 04 2019 at 14:48)</a>:</h4>
<p>so as an example, I've wondered if</p>



<a name="177345731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345731">(Oct 04 2019 at 14:48)</a>:</h4>
<p>when we come up with projects</p>



<a name="177345764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345764">(Oct 04 2019 at 14:49)</a>:</h4>
<blockquote>
<p>- Some people that are supposed to be full-time employed appear and do something like once a month and busy with something unobservable the rest of the time.</p>
</blockquote>
<p>sounds like something that keeps happening to me and I did want to bring up a related thing</p>



<a name="177345835"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345835" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345835">(Oct 04 2019 at 14:49)</a>:</h4>
<p>if we can describe the steps needed, that could help people develop a grant application to work on it, etc. But that's also kind of a lot of work (but also very similar to the work of mentoring, so...)</p>



<a name="177345845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177345845" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177345845">(Oct 04 2019 at 14:49)</a>:</h4>
<p>/me stops</p>



<a name="177346048"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346048" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346048">(Oct 04 2019 at 14:51)</a>:</h4>
<blockquote>
<p>Full-time employed people often work for sprint goals and reports rather than quality.</p>
</blockquote>
<p><span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> are you saying here that it would be a bad idea to try to figure out compensation systems, because it would open up people trying to game the system to get the money?</p>



<a name="177346074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346074">(Oct 04 2019 at 14:51)</a>:</h4>
<p>due to the haphazard work distribution, I can end up trying to do up to a dozen things at a time and humans aren't known for their excellent multitasking skills</p>



<a name="177346167"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346167" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346167">(Oct 04 2019 at 14:52)</a>:</h4>
<p>I've noticed I do much better on single shorter-term focused projects, but even then there's some amount of getting dragged into a different part of rustc instead of focusing on the contract</p>



<a name="177346205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346205">(Oct 04 2019 at 14:52)</a>:</h4>
<p><span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> or was that more a general statement about the kinds of work you see (either here or across FOSS) when comparing paid- vs volunteer effort ?</p>



<a name="177346225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346225">(Oct 04 2019 at 14:53)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> <br>
Nah, it's more that people are overloaded and often have to do what they <em>have to</em> rather than want to.</p>



<a name="177346261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346261" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346261">(Oct 04 2019 at 14:53)</a>:</h4>
<p>Taking shortcuts and decreasing the quality.</p>



<a name="177346301"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346301" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346301">(Oct 04 2019 at 14:53)</a>:</h4>
<p>I have no idea what the solution is but I feel like the resources available would be more effectively used if we planned for it better. I guess I'm just rambling here</p>



<a name="177346309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346309">(Oct 04 2019 at 14:53)</a>:</h4>
<p>doesn't that also depends on the goals you may have in a contract?</p>



<a name="177346310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346310" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346310">(Oct 04 2019 at 14:53)</a>:</h4>
<p>i see, the "have to" there is as in, what's good for the employee rather than what's good for the project itself.</p>



<a name="177346363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346363">(Oct 04 2019 at 14:54)</a>:</h4>
<blockquote>
<p>due to the haphazard work distribution, I can end up trying to do up to a dozen things at a time and humans aren't known for their excellent multitasking skills</p>
</blockquote>
<p>yes this</p>



<a name="177346422"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346422" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346422">(Oct 04 2019 at 14:54)</a>:</h4>
<p>(These are the reasons why I'm personally afraid that if I turn the hobby into a job and start contracting I immediately lose all the motivation and productivity and leave the project soon.)</p>



<a name="177346476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346476" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346476">(Oct 04 2019 at 14:55)</a>:</h4>
<p>OK, well, we're coming in at 55 minutes</p>



<a name="177346544"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346544" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santiago Pastorino <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346544">(Oct 04 2019 at 14:56)</a>:</h4>
<blockquote>
<p>(These are the reasons why I'm personally afraid that if I turn the hobby into a job and start contracting I immediately lose all the motivation and productivity and leave the project soon.)</p>
</blockquote>
<p>I feel completely the opposite tbh, if I can turn a hobby into my day to day job I'd feel realization</p>



<a name="177346595"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346595" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346595">(Oct 04 2019 at 14:56)</a>:</h4>
<p>I voted for it because I would jump at the opportunity to work on rustc full time (though, if such a position existed, there are far more qualified people that should get it first), but nothing like that exists. Contracting doesn't appeal as much to me as full-time employment.</p>



<a name="177346711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346711">(Oct 04 2019 at 14:57)</a>:</h4>
<p>Yeah, that makes sense.</p>



<a name="177346722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346722" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346722">(Oct 04 2019 at 14:57)</a>:</h4>
<p>tbqh, Rust hasn't gotten much <em>specific</em> from me being paid, with some small exceptions (like the Rust 2018 crunch) - to the extent that it would be more honest to have the contract say "do things around rustc for one more year"</p>



<a name="177346815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346815" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346815">(Oct 04 2019 at 14:58)</a>:</h4>
<p>so we should maybe try to figure out, about goals (wrt contracting):</p>
<ul>
<li>how much do they actually work?</li>
<li>where/why don't they?</li>
</ul>



<a name="177346820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346820">(Oct 04 2019 at 14:58)</a>:</h4>
<p>are there some conclusions we can draw from this? :)</p>



<a name="177346871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346871" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346871">(Oct 04 2019 at 14:58)</a>:</h4>
<p>well: Is paying for labor a challenge we need to worry about in <em>short term</em> (as in, next year, or even next two years)</p>



<a name="177346929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346929" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346929">(Oct 04 2019 at 14:59)</a>:</h4>
<p>I'm tempted to say, based on gut feeling, that the status quo will suffice for now</p>



<a name="177346989"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177346989" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177346989">(Oct 04 2019 at 14:59)</a>:</h4>
<p>but I think we should nonetheless discuss it on occasion going forward</p>



<a name="177347004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177347004" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177347004">(Oct 04 2019 at 14:59)</a>:</h4>
<p>Yeah. I also do think this will be a theme that the project as a whole should be working on, and it's helpful to keep talking about it.</p>



<a name="177347076"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177347076" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177347076">(Oct 04 2019 at 15:00)</a>:</h4>
<p>(I approve of bringing it out into the open, regardless)</p>



<a name="177347109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177347109" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177347109">(Oct 04 2019 at 15:00)</a>:</h4>
<p>i would be interested to know</p>



<a name="177347132"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177347132" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177347132">(Oct 04 2019 at 15:00)</a>:</h4>
<p>about people who did were volunteers and then had to stop due to their jobs</p>



<a name="177347182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177347182" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177347182">(Oct 04 2019 at 15:01)</a>:</h4>
<p>Such as students who were able to participate but then lacked time/will after getting gainful employment.</p>



<a name="177347213"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177347213" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177347213">(Oct 04 2019 at 15:01)</a>:</h4>
<p>Basically I'm curious how many of those we've had, and whether we could have done something to keep them engaged in project.</p>



<a name="177347252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177347252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177347252">(Oct 04 2019 at 15:01)</a>:</h4>
<p>but its not a data-set I'm prepared to acquire in -1 minutes remaining in meeting</p>



<a name="177347426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177347426" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177347426">(Oct 04 2019 at 15:03)</a>:</h4>
<p>OK, well, I guess that's a wrap</p>



<a name="177347455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177347455" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177347455">(Oct 04 2019 at 15:03)</a>:</h4>
<p>TBH my main take-away from this meeting is that the problems we identified are the main ones :)</p>



<a name="177347545"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177347545" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177347545">(Oct 04 2019 at 15:04)</a>:</h4>
<p>I guess i'll highlight this</p>



<a name="177347547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177347547" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177347547">(Oct 04 2019 at 15:04)</a>:</h4>
<ul>
<li>maintenance and triage work<br>
    * we do a decent job of keeping up with work but work burden is unevenly distributed<br>
    * non-urgent / non-regression bugs can "pile up" -- are we making progress on them?<br>
    * (note absence of data here; maybe we <em>are</em> keeping up, relative to bug-report rate and/or bugs that actually matter...)<br>
        * (simulacrum): we are not really keeping up<br>
        * long-term trend is up; most current issues are fairly recently triaged,<br>
          count has been going up: ~3000 last summer, up to 4900 now. Not all compiler team, but "most".</li>
</ul>



<a name="177347562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177347562" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177347562">(Oct 04 2019 at 15:04)</a>:</h4>
<p>looking back over the docs, <span class="user-mention" data-user-id="116122">@simulacrum</span>'s comment is interesting</p>



<a name="177347569"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/design%20meeting%202019-10-04/near/177347569" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/design.20meeting.202019-10-04.html#177347569">(Oct 04 2019 at 15:04)</a>:</h4>
<p>anyway, I gotta run, thanks &lt;3 for participating</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>