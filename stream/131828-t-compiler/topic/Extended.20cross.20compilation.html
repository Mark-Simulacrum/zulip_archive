<html>
<head><meta charset="utf-8"><title>Extended cross compilation · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Extended.20cross.20compilation.html">Extended cross compilation</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="207595372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Extended%20cross%20compilation/near/207595372" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Hommey <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Extended.20cross.20compilation.html#207595372">(Aug 21 2020 at 02:28)</a>:</h4>
<p>So, I was trying to do an extended build of the rust compiler on an Apple Silicon DTK. (the non-extended build works just fine). The extended build fails for interesting reasons: the build starts from a x86_64 rustc run through rosetta 2, and builds a x86_64 extended stage 1, which fails building cargo because there is no x86_64 libssl on the system. The only libssl I have is from homebrew, and it's arm64 native. And homebrew apparently dropped support for universal binaries... I tried switching to build openssl statically in config.toml, but that failed too (but I don't remember what the error was)<br>
Anyways, I actually wonder why the build system wants to build an intermediate x86_64 cargo, when what is actually wanted is an arm64 one.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>