<html>
<head><meta charset="utf-8"><title>Revisions + `only-` test directives work great · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Revisions.20.2B.20.60only-.60.20test.20directives.20work.20great.html">Revisions + `only-` test directives work great</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="245018602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Revisions%20%2B%20%60only-%60%20test%20directives%20work%20great/near/245018602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Revisions.20.2B.20.60only-.60.20test.20directives.20work.20great.html#245018602">(Jul 06 2021 at 10:11)</a>:</h4>
<p>One thing that <a href="https://github.com/rust-lang/rust/pull/86272">https://github.com/rust-lang/rust/pull/86272</a> improved is how test ignore directives are handled. Now they are per-revision which, I just realized now, allows you to write something along the lines of</p>
<div class="codehilite"><pre><span></span><code>// revisions: a b
// [a] only-a
// [b] only-b
</code></pre></div>
<p>instead of having to resort to a long list of <code>// ignore-*</code> in attempt to negate the <code>only-</code> directives. This will do exactly what you'd expect – run the test for A or B.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>