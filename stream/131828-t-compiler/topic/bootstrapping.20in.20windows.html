<html>
<head><meta charset="utf-8"><title>bootstrapping in windows · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html">bootstrapping in windows</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="162802962"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162802962" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162802962">(Apr 08 2019 at 09:49)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="116466">@Zoxc</span> , do you mind if I ask you some newbie questions about trying to bootstrap <code>rustc</code> in windows?</p>



<a name="162803040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803040">(Apr 08 2019 at 09:50)</a>:</h4>
<p>Fire away. <code>msvc</code> or <code>gnu</code>? =P</p>



<a name="162803081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803081" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803081">(Apr 08 2019 at 09:51)</a>:</h4>
<p>I'm trying to do msvc</p>



<a name="162803160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803160">(Apr 08 2019 at 09:52)</a>:</h4>
<p>currently when I run <code>C:\Python27\python.exe x.py build</code>, ...</p>



<a name="162803166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803166" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803166">(Apr 08 2019 at 09:52)</a>:</h4>
<p>I get a bunch of errors</p>



<a name="162803192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803192">(Apr 08 2019 at 09:52)</a>:</h4>
<p>saying "SecurityProtocol: Cannot convert null to type System.Net.SecurityProtocolType" due to invalid enumeration values"</p>



<a name="162803207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803207" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803207">(Apr 08 2019 at 09:53)</a>:</h4>
<p>and then that seems like its showing me a pseudo-call stack saying that is arising due to a call to DownloadFile</p>



<a name="162803216"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803216" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803216">(Apr 08 2019 at 09:53)</a>:</h4>
<p>where its trying to download the beta build for bootstrapping</p>



<a name="162803228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803228">(Apr 08 2019 at 09:53)</a>:</h4>
<p>(<a href="http://static.rust-lang.org/dist/2019-03-20/rust-std-beta-x86_64-pc-windows-msvc.tar.gz.sha256" target="_blank" title="http://static.rust-lang.org/dist/2019-03-20/rust-std-beta-x86_64-pc-windows-msvc.tar.gz.sha256">static.rust-lang.org/dist/2019-03-20/rust-std-beta-x86_64-pc-windows-msvc.tar.gz.sha256</a>)</p>



<a name="162803310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803310" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803310">(Apr 08 2019 at 09:54)</a>:</h4>
<p>I cannot easily cut-and-paste the text itself, so I've been trying to transcribe it. Maybe I should post a screen grab of the window ...)</p>



<a name="162803339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803339" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803339">(Apr 08 2019 at 09:55)</a>:</h4>
<p>Are you on the latest Wimdows 10? Might be a PowerShell version mismatch</p>



<a name="162803398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803398">(Apr 08 2019 at 09:56)</a>:</h4>
<p>Windows 7 i think</p>



<a name="162803412"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803412" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803412">(Apr 08 2019 at 09:56)</a>:</h4>
<p>yeah Windows 7 Sevice Pack 1</p>



<a name="162803417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803417">(Apr 08 2019 at 09:56)</a>:</h4>
<p>You recommend using Windows 10 instead?</p>



<a name="162803447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803447" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803447">(Apr 08 2019 at 09:57)</a>:</h4>
<p>I'm not wedded to any particular Windows version; I just had thought from past experience than when using a VirtualBox or VMWare like setup, you're usually better off going with an older version of Windows due to the performance overhead of virtualization</p>



<a name="162803555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803555" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803555">(Apr 08 2019 at 09:59)</a>:</h4>
<p>Try installing a newer PowerShell or .NET version</p>



<a name="162803654"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803654" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803654">(Apr 08 2019 at 10:01)</a>:</h4>
<p>okay, but don't worry about upgrading my Windows 7 yet? I'll see, thanks!</p>



<a name="162803754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803754">(Apr 08 2019 at 10:02)</a>:</h4>
<p>Windows 7 should work fine, but I haven't tried it</p>



<a name="162803856"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803856" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803856">(Apr 08 2019 at 10:04)</a>:</h4>
<p>hmm. there's this table with four different links depending on whether one wants PS (PowerShell) 3.0, 4.0, 5.0, or 5.1</p>



<a name="162803861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803861">(Apr 08 2019 at 10:04)</a>:</h4>
<p>which one do you have? I guessI could jump right to 5.1</p>



<a name="162803875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803875">(Apr 08 2019 at 10:04)</a>:</h4>
<p>(technically I guess its the version of the Window Management Framework (WMF)</p>



<a name="162803890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162803890" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162803890">(Apr 08 2019 at 10:05)</a>:</h4>
<p>5.1</p>



<a name="162805261"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162805261" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162805261">(Apr 08 2019 at 10:31)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="116466">@Zoxc</span> ! Now I've gotten past the download step. (And have hit an entirely new error, of course)</p>



<a name="162805922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162805922" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162805922">(Apr 08 2019 at 10:45)</a>:</h4>
<p>Did you fix it too? =P</p>



<a name="162806090"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806090" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806090">(Apr 08 2019 at 10:48)</a>:</h4>
<p>no</p>



<a name="162806091"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806091" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806091">(Apr 08 2019 at 10:48)</a>:</h4>
<p>at this point I'm downloading a Windows 10 VM</p>



<a name="162806102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806102" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806102">(Apr 08 2019 at 10:49)</a>:</h4>
<p>rather than keep trying to dissect every thing that pops up</p>



<a name="162806116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806116" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806116">(Apr 08 2019 at 10:49)</a>:</h4>
<p>Which error did you get? You should get a VM with copy and paste =P</p>



<a name="162806174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806174">(Apr 08 2019 at 10:50)</a>:</h4>
<p>I couldn't exactly tell what the error was. the message was pretty malformed</p>



<a name="162806189"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806189" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806189">(Apr 08 2019 at 10:50)</a>:</h4>
<p>it was complaining that the command I was trying to run was not compatible with my version of windows</p>



<a name="162806192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806192">(Apr 08 2019 at 10:50)</a>:</h4>
<p>but it wrote "%1" rather than the command name</p>



<a name="162806195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806195" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806195">(Apr 08 2019 at 10:50)</a>:</h4>
<p>in the diagnostic</p>



<a name="162806202"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806202" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806202">(Apr 08 2019 at 10:50)</a>:</h4>
<p>which I assume is some sort of interpolation bug</p>



<a name="162806214"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806214" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806214">(Apr 08 2019 at 10:51)</a>:</h4>
<p>:/</p>



<a name="162806218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806218">(Apr 08 2019 at 10:51)</a>:</h4>
<p>e.g. someone writing a message assuming .bat semantics, maybe?</p>



<a name="162806349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806349" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806349">(Apr 08 2019 at 10:53)</a>:</h4>
<p><a href="/user_uploads/4715/7ZVUXknMF8A_A_76_lFb1mSc/Screen-Shot-2019-04-08-at-12.52.43.png" target="_blank" title="Screen-Shot-2019-04-08-at-12.52.43.png">Screen-Shot-2019-04-08-at-12.52.43.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/4715/7ZVUXknMF8A_A_76_lFb1mSc/Screen-Shot-2019-04-08-at-12.52.43.png" target="_blank" title="Screen-Shot-2019-04-08-at-12.52.43.png"><img src="/user_uploads/4715/7ZVUXknMF8A_A_76_lFb1mSc/Screen-Shot-2019-04-08-at-12.52.43.png"></a></div>



<a name="162806404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806404">(Apr 08 2019 at 10:54)</a>:</h4>
<p>I will admit that my problem may stem from using VS 2019</p>



<a name="162806410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806410" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806410">(Apr 08 2019 at 10:54)</a>:</h4>
<p>I did see the note saying that bootstrapping only works in certain (older) versions of Visual Studio</p>



<a name="162806453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806453" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806453">(Apr 08 2019 at 10:55)</a>:</h4>
<p>Seems like something is trying to run x64-64 binaries on x86-32 Windows</p>



<a name="162806458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806458" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806458">(Apr 08 2019 at 10:55)</a>:</h4>
<p>but the path here (<a href="https://github.com/rust-lang/rust#msvc" target="_blank" title="https://github.com/rust-lang/rust#msvc">https://github.com/rust-lang/rust#msvc</a>) is not present on my (admittedly, free aka no-frills) Visual Studio install</p>



<a name="162806470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806470">(Apr 08 2019 at 10:55)</a>:</h4>
<p>hmm maybe it is indeed a 32-bit version, let me see</p>



<a name="162806538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806538" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806538">(Apr 08 2019 at 10:56)</a>:</h4>
<p>oh yeah this is absolutely 32-bit</p>



<a name="162806554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806554" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806554">(Apr 08 2019 at 10:56)</a>:</h4>
<p>so running vcvars64.bat is certainly not going to work then</p>



<a name="162806570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806570">(Apr 08 2019 at 10:56)</a>:</h4>
<p>You'll want <a href="https://github.com/Zoxc/rust/tree/vs2019" target="_blank" title="https://github.com/Zoxc/rust/tree/vs2019">https://github.com/Zoxc/rust/tree/vs2019</a> for VS 2019 support =P</p>



<a name="162806600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806600">(Apr 08 2019 at 10:57)</a>:</h4>
<p>is there a free version of VS that doesn't require using a branch off of master?</p>



<a name="162806675"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806675" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806675">(Apr 08 2019 at 10:58)</a>:</h4>
<p>VS 2017 Community</p>



<a name="162806710"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806710" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806710">(Apr 08 2019 at 10:59)</a>:</h4>
<p>Got to wait for <span class="user-mention" data-user-id="116015">@Alex Crichton</span> to wake up for VS 2019 support on master</p>



<a name="162806712"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806712" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806712">(Apr 08 2019 at 10:59)</a>:</h4>
<p>let me see if I can grab that...</p>



<a name="162806992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162806992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162806992">(Apr 08 2019 at 11:04)</a>:</h4>
<p>I can't find an installer for VS 2017 Community. Microsoft seems to be pushing 2019 hard. <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="162807008"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162807008" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162807008">(Apr 08 2019 at 11:04)</a>:</h4>
<p><a href="https://visualstudio.microsoft.com/downloads/" target="_blank" title="https://visualstudio.microsoft.com/downloads/">https://visualstudio.microsoft.com/downloads/</a></p>



<a name="162807131"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162807131" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162807131">(Apr 08 2019 at 11:06)</a>:</h4>
<p>I tried that. even though it has a separate section for 2017, ... the Installer app it then gives you does a search for "Available" versions</p>



<a name="162807134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162807134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162807134">(Apr 08 2019 at 11:06)</a>:</h4>
<p>and only shows 2019 for me. <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="162807155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162807155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162807155">(Apr 08 2019 at 11:07)</a>:</h4>
<p>(looking)</p>



<a name="162807250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162807250" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162807250">(Apr 08 2019 at 11:08)</a>:</h4>
<p>going to "older downlolads" takes me to a "My Benefits" page under <a href="http://my.visualstudio.com" target="_blank" title="http://my.visualstudio.com">my.visualstudio.com</a> that says "Sorry, we couldn't find any downloads for you."</p>



<a name="162807284"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162807284" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162807284">(Apr 08 2019 at 11:09)</a>:</h4>
<p>/me should probably set a timer to limit how much more time he invests in this today</p>



<a name="162807800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162807800" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162807800">(Apr 08 2019 at 11:18)</a>:</h4>
<p>weird, I just saw a glimpse of 2017 under a different run of the installer.</p>



<a name="162807807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162807807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162807807">(Apr 08 2019 at 11:18)</a>:</h4>
<p>okay so let me see if I can get that working</p>



<a name="162808094"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162808094" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162808094">(Apr 08 2019 at 11:24)</a>:</h4>
<p>(oh wow, moving my VirtualBox VM's window off of my laptop screen and onto the external monitor's screen seems to have made the UX way way way more responsive...)</p>



<a name="162808786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162808786" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Carosone <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162808786">(Apr 08 2019 at 11:37)</a>:</h4>
<p>is the laptop high-dpi and the monitor not? maybe it's doing some really inefficient scaling?</p>



<a name="162809357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162809357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162809357">(Apr 08 2019 at 11:46)</a>:</h4>
<p>downgrading from VirtualBox 6.0 to VirtualBox 5.2 seems like it may be a workaround</p>



<a name="162830513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162830513" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162830513">(Apr 08 2019 at 16:05)</a>:</h4>
<blockquote>
<p>yeah Windows 7 Sevice Pack 1</p>
</blockquote>
<p>I have successfully built Rust on Windows 7</p>



<a name="162830520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162830520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162830520">(Apr 08 2019 at 16:05)</a>:</h4>
<p>nothing special happened</p>



<a name="162830596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162830596" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162830596">(Apr 08 2019 at 16:06)</a>:</h4>
<p>That was a longish time ago tho</p>



<a name="162911820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162911820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162911820">(Apr 09 2019 at 13:51)</a>:</h4>
<p>I am having a more productive experience with my attempt atop Windows 10</p>



<a name="162911924"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162911924" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162911924">(Apr 09 2019 at 13:52)</a>:</h4>
<p>Are you producing more data for Microsoft?</p>



<a name="162911926"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162911926" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162911926">(Apr 09 2019 at 13:52)</a>:</h4>
<p>but this may be in part because Microsoft's set of free 90-day VirtualBox VM's only has 32-bit x86 for Windows 7. If you want/need x86_64, then you need to grab their Windows 10 VM</p>



<a name="162912038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/162912038" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#162912038">(Apr 09 2019 at 13:53)</a>:</h4>
<p>my attempt atop Windows 10 is currently building LLVM. I never got that far with my 32-bit Windows 7 VM</p>



<a name="163101841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/163101841" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#163101841">(Apr 11 2019 at 14:01)</a>:</h4>
<p>VS 2019 now work on master =P<br>
Have you tried VMware?</p>



<a name="163101900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/163101900" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#163101900">(Apr 11 2019 at 14:02)</a>:</h4>
<p>in the past I used VMware</p>



<a name="163101922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/163101922" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#163101922">(Apr 11 2019 at 14:02)</a>:</h4>
<p>and maybe I should indeed use it now, since I suspect its performance is superior to VirtualBox</p>



<a name="163101942"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/163101942" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#163101942">(Apr 11 2019 at 14:03)</a>:</h4>
<p>but various points in Mozilla's and/or Microsoft's infrastructure were pushing me to VirtualBox here</p>



<a name="164782419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782419" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782419">(May 03 2019 at 10:10)</a>:</h4>
<p>okay so at this point I've gotten a used Windows laptop</p>



<a name="164782486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782486">(May 03 2019 at 10:10)</a>:</h4>
<p>and I've installed both VS Studio 2017 Express edition, and VS Studio 2019 Community edition</p>



<a name="164782500"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782500" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782500">(May 03 2019 at 10:10)</a>:</h4>
<p>I'm trying to figure out how to do this <em>without</em> purchasing anything</p>



<a name="164782512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782512">(May 03 2019 at 10:11)</a>:</h4>
<p>(to best emulate what some of our contributors need to do)</p>



<a name="164782513"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782513" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782513">(May 03 2019 at 10:11)</a>:</h4>
<p>and I still have not managed to bootstrap Rust</p>



<a name="164782534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782534" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782534">(May 03 2019 at 10:11)</a>:</h4>
<p>mostly because I keep hitting what I assume are environment setup issues</p>



<a name="164782716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782716">(May 03 2019 at 10:15)</a>:</h4>
<p>Which issues? =P</p>



<a name="164782765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782765" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782765">(May 03 2019 at 10:16)</a>:</h4>
<p>well</p>



<a name="164782769"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782769" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782769">(May 03 2019 at 10:16)</a>:</h4>
<p>my "most successful" runs tend to end with a link step problem</p>



<a name="164782780"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782780" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782780">(May 03 2019 at 10:16)</a>:</h4>
<p>with a mismatch between x86 and x64</p>



<a name="164782789"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782789" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782789">(May 03 2019 at 10:16)</a>:</h4>
<p>I'm doing another run right now, in order to transcribe the actual message</p>



<a name="164782823"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782823" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782823">(May 03 2019 at 10:17)</a>:</h4>
<p>but my main question, for anyone who like me is trying to bootstrap atop windows using free Visual Studio  downloads, is: What command prompt are you starting with?</p>



<a name="164782878"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782878" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782878">(May 03 2019 at 10:18)</a>:</h4>
<p>my current run is using "x64 Native Tools Command Prompt for VS 2019"</p>



<a name="164782890"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782890" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782890">(May 03 2019 at 10:18)</a>:</h4>
<p>I use plain powershell with python, cmake and git in PATH</p>



<a name="164782908"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782908" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782908">(May 03 2019 at 10:19)</a>:</h4>
<p>I assume after running powershell, you need to invoke some other script to set up environment variables?</p>



<a name="164782909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782909">(May 03 2019 at 10:19)</a>:</h4>
<p>cmake, the cc crate  and rustc will detect and use VS tools on their own</p>



<a name="164782911"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782911" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782911">(May 03 2019 at 10:19)</a>:</h4>
<p>something analogous to vcvarsall.bat?</p>



<a name="164782912"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782912" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782912">(May 03 2019 at 10:19)</a>:</h4>
<p>hmm</p>



<a name="164782915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164782915" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164782915">(May 03 2019 at 10:19)</a>:</h4>
<p>okay let me try powershell then</p>



<a name="164783185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783185" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783185">(May 03 2019 at 10:24)</a>:</h4>
<p>I'll use a msys2 shell if I need to run <code>run-make</code> tests, as those need bash</p>



<a name="164783193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783193" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783193">(May 03 2019 at 10:24)</a>:</h4>
<p>just to be clear ...</p>



<a name="164783211"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783211" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783211">(May 03 2019 at 10:25)</a>:</h4>
<p>the detection that the cmake, cc, rustc crates do ... you're saying that works only in powershell?</p>



<a name="164783215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783215" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783215">(May 03 2019 at 10:25)</a>:</h4>
<p>or it supposedly works in any terminal?</p>



<a name="164783227"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783227" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783227">(May 03 2019 at 10:25)</a>:</h4>
<p>because ... if its any terminal ... then I would imagine I'm going to run into the same essential problem.</p>



<a name="164783232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783232">(May 03 2019 at 10:25)</a>:</h4>
<p>It works in any terminal</p>



<a name="164783239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783239" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783239">(May 03 2019 at 10:25)</a>:</h4>
<p>But <code>vcvarsall.bat</code> might do something that overrides them</p>



<a name="164783283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783283" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783283">(May 03 2019 at 10:26)</a>:</h4>
<p>Are you on x64 now?</p>



<a name="164783284"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783284" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783284">(May 03 2019 at 10:26)</a>:</h4>
<p>Are you using Visual Studio as your compiler? Or are you using ... what's it called ...</p>



<a name="164783297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783297" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783297">(May 03 2019 at 10:26)</a>:</h4>
<p>... whatever the way to get gcc and/or clang atop windows is ...?</p>



<a name="164783331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783331" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783331">(May 03 2019 at 10:27)</a>:</h4>
<p>I use msvc not mingw</p>



<a name="164783337"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783337" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783337">(May 03 2019 at 10:27)</a>:</h4>
<p>okay.</p>



<a name="164783386"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783386" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783386">(May 03 2019 at 10:28)</a>:</h4>
<p>did you do any customization of your environment that you can remember, in terms of what environment variables are set by default in your shell?</p>



<a name="164783391"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783391" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783391">(May 03 2019 at 10:28)</a>:</h4>
<p>or are you using whatever the vanilla install of MSVC?</p>



<a name="164783395"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783395" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783395">(May 03 2019 at 10:28)</a>:</h4>
<p>(and which MSVC is it? Are you on 2019 Community?)</p>



<a name="164783426"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783426" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783426">(May 03 2019 at 10:29)</a>:</h4>
<p>(sorry for all the questions; I'm trying to gather as much info as I can up front so I can replicate a supposedly known-to-work environment)</p>



<a name="164783427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783427" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783427">(May 03 2019 at 10:29)</a>:</h4>
<p>clang-cl is msvc-like just for the record</p>



<a name="164783440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783440">(May 03 2019 at 10:29)</a>:</h4>
<p>I haven't done any setup for environment variables specific to Rust</p>



<a name="164783505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783505" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783505">(May 03 2019 at 10:30)</a>:</h4>
<p>I have VS 2017 and VS 2019 now, not sure which is used, but it worked when only VS 2019 was installed</p>



<a name="164783621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783621" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783621">(May 03 2019 at 10:33)</a>:</h4>
<p>okay</p>



<a name="164783631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783631" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783631">(May 03 2019 at 10:34)</a>:</h4>
<p>I've been meaning to look more at Powershell anyway, especially after wycats' tweets raving about it</p>



<a name="164783680"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164783680" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164783680">(May 03 2019 at 10:34)</a>:</h4>
<p>It's terrible. I just use it because it's VS Code's default, and I just run x.py in it =P</p>



<a name="164787882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164787882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164787882">(May 03 2019 at 11:57)</a>:</h4>
<p>so you run as a subshell of a VS Code editor instance?</p>



<a name="164787946"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164787946" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164787946">(May 03 2019 at 11:58)</a>:</h4>
<p>(that may be an important detail; its possible VS Code sets up envionment variables. I've just been trying to run in vanilla terminals, either cmd.exe, or the various bat scripts added to the Start Menu by Visual Studio install(s)</p>



<a name="164788237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788237" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788237">(May 03 2019 at 12:03)</a>:</h4>
<p>I use the VS Code terminal yes. That should not be important</p>



<a name="164788336"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788336" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788336">(May 03 2019 at 12:05)</a>:</h4>
<p>A build from a clean slate (no build folder) with cmd.exe or powershell should not fail. File a bug if it's not from missing tools</p>



<a name="164788661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788661" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788661">(May 03 2019 at 12:11)</a>:</h4>
<p>are you saying that the current readme is wrong, here: <a href="https://github.com/rust-lang/rust/blob/master/README.md#msvc" target="_blank" title="https://github.com/rust-lang/rust/blob/master/README.md#msvc">https://github.com/rust-lang/rust/blob/master/README.md#msvc</a></p>



<a name="164788716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788716">(May 03 2019 at 12:12)</a>:</h4>
<p>where it says you may need to call the appropriate vcvars file before running the bootstrap?</p>



<a name="164788731"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788731" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788731">(May 03 2019 at 12:12)</a>:</h4>
<p>Visual Studio 2013 is a bit of a clue =P</p>



<a name="164788733"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788733" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788733">(May 03 2019 at 12:12)</a>:</h4>
<p>or are you just saying that VS 2019 is one of the Visual Studio versions that should (now) work out of the box</p>



<a name="164788738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788738">(May 03 2019 at 12:12)</a>:</h4>
<p>yeah well there is that "(or later)" next to that. :)</p>



<a name="164788739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788739" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788739">(May 03 2019 at 12:13)</a>:</h4>
<p>Probably dates the instructions to 2012</p>



<a name="164788750"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788750" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788750">(May 03 2019 at 12:13)</a>:</h4>
<p>it'd be nice if we actually listed the versions that we know work</p>



<a name="164788755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788755" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788755">(May 03 2019 at 12:13)</a>:</h4>
<p>or maybe just the ones that we use for the CI testing</p>



<a name="164788808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788808" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788808">(May 03 2019 at 12:14)</a>:</h4>
<p>Our MSVC CI testing is a bit strange, it runs inside msys2 :/</p>



<a name="164788819"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788819" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788819">(May 03 2019 at 12:14)</a>:</h4>
<p>I do not recommend that</p>



<a name="164788846"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788846" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788846">(May 03 2019 at 12:15)</a>:</h4>
<p>hmm. and the CI builds might be inheriting environment state from the outer msys2, right?</p>



<a name="164788960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788960" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788960">(May 03 2019 at 12:17)</a>:</h4>
<p>Not might. They are</p>



<a name="164788967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164788967" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164788967">(May 03 2019 at 12:17)</a>:</h4>
<p>yeah that's unfortunate</p>



<a name="164789027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164789027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164789027">(May 03 2019 at 12:18)</a>:</h4>
<p>I can understand having to fire off a build as some sort of subshell of msys2</p>



<a name="164789031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164789031" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164789031">(May 03 2019 at 12:18)</a>:</h4>
<p>just as an artifact of travis</p>



<a name="164789037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164789037" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164789037">(May 03 2019 at 12:18)</a>:</h4>
<p>but it would be good to find some way to isolate the inner subshell's environment state</p>



<a name="164790800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164790800" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164790800">(May 03 2019 at 12:47)</a>:</h4>
<p>(i am now wondering if my earlier environmental link issues are in fact <em>because</em> i kept running vcvarsall.bat or friends while trying to use VS 2019, based on earlier evidence that doing so was necessary for VS 2017)</p>



<a name="164790863"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164790863" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164790863">(May 03 2019 at 12:48)</a>:</h4>
<p>I still haven't seen a successful bootstrap, but my most recent problems may well originate from my attempts to run <code>x.py</code> outside of the root of the git checkout of rust.git</p>



<a name="164794672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164794672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164794672">(May 03 2019 at 13:42)</a>:</h4>
<p>Giving up for today; filed "cl.exe handling of llvm\include broken for VS 2019?" <a href="https://github.com/rust-lang/rust/issues/60507" target="_blank" title="https://github.com/rust-lang/rust/issues/60507">#60507</a></p>



<a name="164794828"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164794828" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164794828">(May 03 2019 at 13:44)</a>:</h4>
<p>Looks like something doesn't handle spaces correctly</p>



<a name="164795404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164795404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164795404">(May 03 2019 at 13:50)</a>:</h4>
<p>So probably don't put the repo in a path with spaces</p>



<a name="164795839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164795839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164795839">(May 03 2019 at 13:55)</a>:</h4>
<p>does <em>anything</em> work correctly with paths in spaces?</p>



<a name="164795850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164795850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164795850">(May 03 2019 at 13:55)</a>:</h4>
<p>I keep hearing about this in various situations</p>



<a name="164795875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164795875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164795875">(May 03 2019 at 13:55)</a>:</h4>
<p>(the sad answer is probably "malware, if that")</p>



<a name="164796052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164796052" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164796052">(May 03 2019 at 13:57)</a>:</h4>
<p>Plenty of things works correctly with spaces in path. Unix build systems and shell scripts always fail horribly though</p>



<a name="164796224"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164796224" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164796224">(May 03 2019 at 13:59)</a>:</h4>
<p>They're pretty much perfectly designed to induce bugs</p>



<a name="164796270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164796270" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164796270">(May 03 2019 at 14:00)</a>:</h4>
<p>there are ways to make it work, but, yeah, using spaces to separate things was a mistake</p>



<a name="164796324"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164796324" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164796324">(May 03 2019 at 14:00)</a>:</h4>
<p>you have to do silly things like <code>"$foo"</code></p>



<a name="164796649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164796649" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164796649">(May 03 2019 at 14:04)</a>:</h4>
<p>What do people do here, put their git checkout into C:\rust.git\ ?</p>



<a name="164796711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164796711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164796711">(May 03 2019 at 14:04)</a>:</h4>
<p>well, <code>C:\Users\eddy\Projects</code> doesn't have any spaces in it :P</p>



<a name="164796743"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164796743" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164796743">(May 03 2019 at 14:05)</a>:</h4>
<p>I used <code>C:\Users\wwiser\Code\rust</code></p>



<a name="164796749"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164796749" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164796749">(May 03 2019 at 14:05)</a>:</h4>
<p>but, yeah, especially if you have two partitions, I wouldn't be surprised by <code>D:\Projects\rust</code></p>



<a name="164796755"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164796755" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164796755">(May 03 2019 at 14:05)</a>:</h4>
<p>I store all my data on a separate partition from <code>C:</code></p>



<a name="164796837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164796837" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164796837">(May 03 2019 at 14:06)</a>:</h4>
<p>I also don't have a username with a space =P</p>



<a name="164801514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801514">(May 03 2019 at 15:00)</a>:</h4>
<p>I got my machine with the account already set up with a space in my user name :(</p>



<a name="164801526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801526" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801526">(May 03 2019 at 15:00)</a>:</h4>
<p>and I decided it would not be worth the effort to attempt to revise thaet</p>



<a name="164801542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801542" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801542">(May 03 2019 at 15:01)</a>:</h4>
<p>AFAICT one can not easily rename themselves in Windows.</p>



<a name="164801554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801554" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801554">(May 03 2019 at 15:01)</a>:</h4>
<p>maybe you can make a directory hard link?</p>



<a name="164801562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801562" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801562">(May 03 2019 at 15:01)</a>:</h4>
<p>in NTFS?</p>



<a name="164801571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801571" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801571">(May 03 2019 at 15:01)</a>:</h4>
<p>are we really not going to support this use case?</p>



<a name="164801576"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801576" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801576">(May 03 2019 at 15:01)</a>:</h4>
<p>so you run stuff from <code>C:\Users\felix\...</code> etc.</p>



<a name="164801648"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801648" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801648">(May 03 2019 at 15:02)</a>:</h4>
<p>i guess this maybe worthy of a meta-policy discussion at a higher level.</p>



<a name="164801671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801671">(May 03 2019 at 15:02)</a>:</h4>
<p>at the very least, something to mention at the compiler team meeting. Maybe directory hard links are indeed an appropriate work around</p>



<a name="164801689"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801689" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801689">(May 03 2019 at 15:02)</a>:</h4>
<p>but ... what about a developer who does not have Admin rights to their workstation?</p>



<a name="164801694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801694" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801694">(May 03 2019 at 15:02)</a>:</h4>
<p>I agree with fixing spaces in paths, but this is assuming we can do anything about it</p>



<a name="164801714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801714" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801714">(May 03 2019 at 15:03)</a>:</h4>
<p>I think anyone can create a directory under C: btw, but I could be wrong</p>



<a name="164801735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801735">(May 03 2019 at 15:03)</a>:</h4>
<p>I've done it before, at Adobe, i think by striving to switch to relative paths</p>



<a name="164801746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801746">(May 03 2019 at 15:03)</a>:</h4>
<p>but maybe that is not always an option</p>



<a name="164801757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801757">(May 03 2019 at 15:03)</a>:</h4>
<p>(e.g. when the relative/absolute path is embedded in the final product)</p>



<a name="164801854"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801854" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801854">(May 03 2019 at 15:04)</a>:</h4>
<p>I agree that we should fix this to support spaces in paths. However, it seems like there should be another way to create a folder without any spaces in the path.</p>



<a name="164801880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164801880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164801880">(May 03 2019 at 15:05)</a>:</h4>
<p>At least on my pc, I'm not prompted for elevated privileges to create a folder at <code>C:\</code></p>



<a name="164802028"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164802028" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164802028">(May 03 2019 at 15:07)</a>:</h4>
<p>(This also is probably going to prompt me to file a bug with Mozilla IT on how they set up Windows Laptops; they really should have asked me for a user name)</p>



<a name="164802043"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164802043" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164802043">(May 03 2019 at 15:07)</a>:</h4>
<p>I am prompted if I try to create a new folder under <code>C:\Users</code>. So at least on Win 10, creating a folder at the root of the drive might be a workaround?</p>



<a name="164802110"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164802110" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164802110">(May 03 2019 at 15:08)</a>:</h4>
<p>I remember being surprised I can just do this in XP/Win7</p>



<a name="164802125"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164802125" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164802125">(May 03 2019 at 15:08)</a>:</h4>
<p>so this should work in every  version, assuming we're not confused about it</p>



<a name="164802138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164802138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164802138">(May 03 2019 at 15:08)</a>:</h4>
<p>Creating a folder at the root is also "nice" because it helps you avoid path length limitations</p>



<a name="164802321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164802321" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164802321">(May 03 2019 at 15:11)</a>:</h4>
<p>(<code>MAX_PATH</code> = 260 characters unless you use "long paths" which are the <code>\\?\</code> style paths the win32 api supports)</p>



<a name="164802650"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164802650" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164802650">(May 03 2019 at 15:15)</a>:</h4>
<p>yeah I think the compiler uses those long paths a lot</p>



<a name="164803142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164803142" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164803142">(May 03 2019 at 15:20)</a>:</h4>
<p>It <em>should</em> be using <code>\\?\</code> style paths at the appropriate places just like it <em>should</em> handle paths with spaces in them. ¯\_(ツ)_/¯</p>



<a name="164831463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164831463" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164831463">(May 03 2019 at 21:21)</a>:</h4>
<blockquote>
<p>I remember being surprised I can just do this in XP/Win7</p>
</blockquote>
<p>You cannot "just" create a directory under <code>C:</code> without being an administrative account under W10</p>



<a name="164831530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164831530" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164831530">(May 03 2019 at 21:22)</a>:</h4>
<p>(in general W10 is now sane-by-default as far as things you can do to system-like directories go)</p>



<a name="164831540"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164831540" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164831540">(May 03 2019 at 21:22)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> I usually build rustc in a shell that is specifically launched by finding a "x64 shell" somewhere in the start menu</p>



<a name="164831558"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164831558" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164831558">(May 03 2019 at 21:23)</a>:</h4>
<p>if I cannot find it there, I go and dig around <code>Program Files</code> for it.</p>



<a name="164832845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164832845" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164832845">(May 03 2019 at 21:44)</a>:</h4>
<p>that's the Visual C++ Tools thing, right?</p>



<a name="164839943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/bootstrapping%20in%20windows/near/164839943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/bootstrapping.20in.20windows.html#164839943">(May 03 2019 at 23:54)</a>:</h4>
<p>Yeah, something like that.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>