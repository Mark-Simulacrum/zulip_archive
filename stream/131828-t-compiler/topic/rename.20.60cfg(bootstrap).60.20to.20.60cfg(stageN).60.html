<html>
<head><meta charset="utf-8"><title>rename `cfg(bootstrap)` to `cfg(stageN)` · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html">rename `cfg(bootstrap)` to `cfg(stageN)`</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="261044852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261044852" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261044852">(Nov 10 2021 at 19:51)</a>:</h4>
<p>I often get mixed up about whether <code>cfg(bootstrap)</code> means <em>when building with beta</em> or <em>when building with the compiler that beta built</em>. What do you think of renaming <code>cfg(bootstrap)</code> to <code>cfg(stageN)</code> where <code>N</code> is the relevant stage? Of course, then we'd need to decide whether the stage refers to the compiler that we are building <em>with</em>, or the compiler that is being <em>built</em>.</p>
<p>If <code>cfg(bootstrap)</code> means <em>when building with beta</em>, I think <code>cfg(stage0)</code> would be the clearest name. If <code>cfg(bootstrap)</code> means <em>when building with the compiler that beta built</em>, then I'm not sure about which number should be used.</p>
<p>I'd also be open to names other than <code>cfg(stageN)</code>; I just want a name that won't confuse me every time I need to use it <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="261045059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261045059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261045059">(Nov 10 2021 at 19:53)</a>:</h4>
<p>Also, the rustc-dev-guide's <a href="https://rustc-dev-guide.rust-lang.org/building/bootstrapping.html#why-does-only-libstd-use-cfgbootstrap">docs</a> on this don't actually say what <code>cfg(bootstrap)</code> means, so it'd be good to address that too.</p>



<a name="261047936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261047936" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261047936">(Nov 10 2021 at 20:12)</a>:</h4>
<p>We used to have stage0</p>



<a name="261047941"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261047941" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261047941">(Nov 10 2021 at 20:12)</a>:</h4>
<p>but it's not entirely true</p>



<a name="261048009"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048009" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048009">(Nov 10 2021 at 20:13)</a>:</h4>
<p>we only apply those gates if the bootstrap (i.e., downloaded / config.toml rustc =) compiler is an older version than the current one</p>



<a name="261048050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048050" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048050">(Nov 10 2021 at 20:13)</a>:</h4>
<p>in particular, if you are re-building the compiler with itself, you don't want cfg(bootstrap)</p>



<a name="261048199"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048199" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048199">(Nov 10 2021 at 20:14)</a>:</h4>
<p>(which happens when a distro needs to rebuild for any reason)</p>



<a name="261048230"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048230" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048230">(Nov 10 2021 at 20:14)</a>:</h4>
<p>Ok, I wonder if there's another name that would still be correct but also be clearer</p>



<a name="261048367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048367">(Nov 10 2021 at 20:15)</a>:</h4>
<p>I just get confused about whether "bootstrap" means "building with the bootstrap compiler" or "bootstrapping a version of compiler with the same version"</p>



<a name="261048368"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048368" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048368">(Nov 10 2021 at 20:15)</a>:</h4>
<p><code>old_rustc</code>?</p>



<a name="261048404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048404" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048404">(Nov 10 2021 at 20:15)</a>:</h4>
<p>That sounds much clearer to me!</p>



<a name="261048507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048507">(Nov 10 2021 at 20:16)</a>:</h4>
<p>I'd be all for renaming to <code>old_rustc</code> if others agree.</p>



<a name="261048514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048514">(Nov 10 2021 at 20:16)</a>:</h4>
<p>Should I open an MCP?</p>



<a name="261048536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048536" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048536">(Nov 10 2021 at 20:16)</a>:</h4>
<p>I don't think we need an MCP for this.</p>



<a name="261048606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048606" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048606">(Nov 10 2021 at 20:17)</a>:</h4>
<p>Well, should I open a PR to rust-lang/rust then? ;)</p>



<a name="261048609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048609" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048609">(Nov 10 2021 at 20:17)</a>:</h4>
<p>If you're willing to do the work to update things to the new name (source code, release process, rustc dev guide), I'm OK with old_rustc.</p>



<a name="261048653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048653">(Nov 10 2021 at 20:17)</a>:</h4>
<p>I just want to make sure others are okay with the new name before making the change</p>



<a name="261048696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048696">(Nov 10 2021 at 20:17)</a>:</h4>
<p>OTOH, I've thought about a more explicit version number there -- it may be worth it.</p>



<a name="261048706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048706">(Nov 10 2021 at 20:17)</a>:</h4>
<p>e.g., 1_56</p>



<a name="261048776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048776">(Nov 10 2021 at 20:18)</a>:</h4>
<p>but it probably doesn't bring enough value, so is not actually beneficial</p>



<a name="261048794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048794" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048794">(Nov 10 2021 at 20:18)</a>:</h4>
<p>wasn't there an RFC for version cfg?</p>



<a name="261048830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048830">(Nov 10 2021 at 20:18)</a>:</h4>
<p>well, that's the public-facing side of things and I think wouldn't work for this usecase (not actually sure though)</p>



<a name="261048847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048847" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048847">(Nov 10 2021 at 20:18)</a>:</h4>
<p>why wouldn't it?</p>



<a name="261048873"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048873" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048873">(Nov 10 2021 at 20:19)</a>:</h4>
<p>IIRC there was some debate over whether nightly "behaves" like the newer version</p>



<a name="261048881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048881">(Nov 10 2021 at 20:19)</a>:</h4>
<p>I forget where that landed</p>



<a name="261048895"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048895" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048895">(Nov 10 2021 at 20:19)</a>:</h4>
<p>hrm</p>



<a name="261048896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048896" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048896">(Nov 10 2021 at 20:19)</a>:</h4>
<p>if it works switching to that feels... better to me</p>



<a name="261048933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048933">(Nov 10 2021 at 20:19)</a>:</h4>
<p>I <em>think</em></p>



<a name="261048954"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048954" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048954">(Nov 10 2021 at 20:19)</a>:</h4>
<p>not actually confident in that assessment :)</p>



<a name="261048977"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261048977" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261048977">(Nov 10 2021 at 20:20)</a>:</h4>
<p>The problem with <code>cfg(1_56)</code> is that it'll be a pain if a PR takes a while to get merged</p>



<a name="261049052"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261049052" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261049052">(Nov 10 2021 at 20:20)</a>:</h4>
<p>Like with feature gate versions that often are wrong by the time the PR is merged</p>



<a name="261049060"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261049060" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261049060">(Nov 10 2021 at 20:20)</a>:</h4>
<p>there's definitely benefit to being able to hack around people adding cfg(bootstrap) to submodules</p>



<a name="261049068"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261049068" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261049068">(Nov 10 2021 at 20:20)</a>:</h4>
<p>this is a moving target anyway, no?</p>



<a name="261049073"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261049073" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261049073">(Nov 10 2021 at 20:20)</a>:</h4>
<p>(or other places that are hard to adjust)</p>



<a name="261049168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261049168" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261049168">(Nov 10 2021 at 20:21)</a>:</h4>
<p>said RFC: <a href="https://rust-lang.github.io/rfcs/2523-cfg-path-version.html">https://rust-lang.github.io/rfcs/2523-cfg-path-version.html</a></p>



<a name="261049209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261049209" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261049209">(Nov 10 2021 at 20:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/131828-t-compiler/topic/rename.20.60cfg.28bootstrap.29.60.20to.20.60cfg.28stageN.29.60/near/261049060">said</a>:</p>
<blockquote>
<p>there's definitely benefit to being able to hack around people adding cfg(bootstrap) to submodules</p>
</blockquote>
<p>Hmm, what do you mean?</p>



<a name="261049478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261049478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261049478">(Nov 10 2021 at 20:23)</a>:</h4>
<p>it seems that consensus was that nightly should _not_ claim to be its supposed version<br>
<a href="https://github.com/rust-lang/rust/issues/64796#issuecomment-625474439">https://github.com/rust-lang/rust/issues/64796#issuecomment-625474439</a></p>



<a name="261049531"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261049531" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261049531">(Nov 10 2021 at 20:23)</a>:</h4>
<p>so that won't work here</p>



<a name="261049613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261049613" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261049613">(Nov 10 2021 at 20:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="307537">Noah Lev</span> <a href="#narrow/stream/131828-t-compiler/topic/rename.20.60cfg.28bootstrap.29.60.20to.20.60cfg.28stageN.29.60/near/261049209">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/131828-t-compiler/topic/rename.20.60cfg.28bootstrap.29.60.20to.20.60cfg.28stageN.29.60/near/261049060">said</a>:</p>
<blockquote>
<p>there's definitely benefit to being able to hack around people adding cfg(bootstrap) to submodules</p>
</blockquote>
<p>Hmm, what do you mean?</p>
</blockquote>
<p>Let me see if I can dig it up</p>



<a name="261049660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261049660" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261049660">(Nov 10 2021 at 20:24)</a>:</h4>
<p><a href="https://github.com/rust-lang/stdarch/pull/796">https://github.com/rust-lang/stdarch/pull/796</a></p>



<a name="261049748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261049748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261049748">(Nov 10 2021 at 20:25)</a>:</h4>
<p>Trying to page context back in, but in any case, I think old_rustc is not contentious (just maybe not 'best', which seems OK)</p>



<a name="261049880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261049880" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261049880">(Nov 10 2021 at 20:26)</a>:</h4>
<p>Yeah, I just want something that is unambiguous (or at least less ambiguous)</p>



<a name="261049962"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261049962" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261049962">(Nov 10 2021 at 20:27)</a>:</h4>
<p>Just to be clear, <code>cfg(bootstrap)</code> currently means "when building with beta (or whatever the bootstrap compiler is)", right?</p>



<a name="261049975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261049975" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261049975">(Nov 10 2021 at 20:27)</a>:</h4>
<p>And then we'd change that to <code>old_rustc</code></p>



<a name="261050057"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261050057" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261050057">(Nov 10 2021 at 20:28)</a>:</h4>
<p>when building nightly with beta, or beta with stable, or stable N with stable N-1</p>



<a name="261050092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261050092" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261050092">(Nov 10 2021 at 20:28)</a>:</h4>
<p>Ok, so basically the "first" compile of the current sources</p>



<a name="261050150"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261050150" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261050150">(Nov 10 2021 at 20:29)</a>:</h4>
<p>yes, but it's also possible to build stable N with stable N, which should not set <code>cfg(bootstrap)</code></p>



<a name="261050155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261050155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261050155">(Nov 10 2021 at 20:29)</a>:</h4>
<p>I'll try to open some PRs with this change within the next week or so</p>



<a name="261050215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261050215" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261050215">(Nov 10 2021 at 20:29)</a>:</h4>
<p>hence "old"</p>



<a name="261050229"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261050229" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261050229">(Nov 10 2021 at 20:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="138448">cuviper</span> <a href="#narrow/stream/131828-t-compiler/topic/rename.20.60cfg.28bootstrap.29.60.20to.20.60cfg.28stageN.29.60/near/261050150">said</a>:</p>
<blockquote>
<p>yes, but it's also possible to build stable N with stable N, which should not set <code>cfg(bootstrap)</code></p>
</blockquote>
<p>But then that's not the "first" compile of stable N, since you already need a stable N</p>



<a name="261050258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261050258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261050258">(Nov 10 2021 at 20:29)</a>:</h4>
<p>Right? Or am I misunderstanding</p>



<a name="261050330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261050330" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261050330">(Nov 10 2021 at 20:30)</a>:</h4>
<p>ok, if you mean "first" globally, not just stage0</p>



<a name="261050420"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261050420" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261050420">(Nov 10 2021 at 20:30)</a>:</h4>
<p>point release shifts also don't count as <code>cfg(bootstrap)</code>, e.g. 1.56.0 building 1.56.1 is the "same" for this purpose</p>



<a name="261050443"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261050443" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261050443">(Nov 10 2021 at 20:31)</a>:</h4>
<p>Huh, really?</p>



<a name="261050462"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261050462" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261050462">(Nov 10 2021 at 20:31)</a>:</h4>
<p>Wow, this is even more complicated than I thought <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="261050822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261050822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261050822">(Nov 10 2021 at 20:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/131828-t-compiler/topic/rename.20.60cfg.28bootstrap.29.60.20to.20.60cfg.28stageN.29.60/near/261048009">said</a>:</p>
<blockquote>
<p>we only apply those gates if the bootstrap (i.e., downloaded / config.toml rustc =) compiler is an older version than the current one</p>
</blockquote>
<p>So does "older version" mean "older, modulo point releases"?</p>



<a name="261050875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261050875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261050875">(Nov 10 2021 at 20:34)</a>:</h4>
<p>yeah, I didn't recall the point release thing (which is mostly just because we don't bump the bootstrap compiler around point releases)</p>



<a name="261051139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261051139" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261051139">(Nov 10 2021 at 20:36)</a>:</h4>
<p>so in rust-lang upstream builds, we have 1.55.0 -&gt; 1.56.0, then 1.55.0 -&gt; 1.56.1</p>
<p>whereas in Fedora I have to build 1.55.0 -&gt; 1.56.0 -&gt; 1.56.1, and I don't want <code>cfg(bootstrap)</code> (as if 1.55) in the second build</p>



<a name="261051318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261051318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261051318">(Nov 10 2021 at 20:38)</a>:</h4>
<p>Interesting, why are upstream and distro builds run differently?</p>



<a name="261051370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261051370" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261051370">(Nov 10 2021 at 20:38)</a>:</h4>
<p>because the distro only carries one version at a time</p>



<a name="261051458"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261051458" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261051458">(Nov 10 2021 at 20:39)</a>:</h4>
<p>upstream downloads whatever it wants from <a href="http://static.rust-lang.org">static.rust-lang.org</a></p>



<a name="261051467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261051467" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261051467">(Nov 10 2021 at 20:39)</a>:</h4>
<p>we could do the same upstream too, tbh, and perhaps should, but it's not something we care about too much.</p>



<a name="261051657"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261051657" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261051657">(Nov 10 2021 at 20:41)</a>:</h4>
<p>Ah, I think I see what you mean <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="261051719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261051719" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261051719">(Nov 10 2021 at 20:41)</a>:</h4>
<p>The one thing I'm confused about is why you don't want <code>cfg(bootstrap)</code> enabled when building 1.56.1 with 1.56.0</p>



<a name="261051824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261051824" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261051824">(Nov 10 2021 at 20:42)</a>:</h4>
<p>we use <code>cfg(bootstrap)</code> for language changes, mostly, so that's expecting the semantics of a particular previous version</p>



<a name="261052038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261052038" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261052038">(Nov 10 2021 at 20:44)</a>:</h4>
<p>point releases don't change those kind of things</p>



<a name="261052172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261052172" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261052172">(Nov 10 2021 at 20:45)</a>:</h4>
<p>(in theory they could, then we distro folks would have to do some local patching to deal with the transition)</p>



<a name="261052363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261052363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261052363">(Nov 10 2021 at 20:47)</a>:</h4>
<p>but anyway this is why an explicit version might make sense. when 1.56.0 uses <code>cfg(bootstrap)</code>, it really means <code>cfg(rustc_is_1_55)</code></p>



<a name="261052520"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261052520" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261052520">(Nov 10 2021 at 20:48)</a>:</h4>
<p>I guess what I mean is: what is the downside of using <code>cfg(bootstrap)</code> when building 1.x.1 with 1.x.0? (since not using <code>cfg(bootstrap)</code> from my perspective seems to add some complexity)</p>



<a name="261052864"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261052864" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261052864">(Nov 10 2021 at 20:51)</a>:</h4>
<p>suppose there's something simple like an unstable language feature that changed the <code>feature(name)</code>, and this is used in <code>std</code>. with the old rustc, we want to set <code>#![feature(old_name)]</code>, and after that we want to set <code>#![feature(new_name)]</code></p>



<a name="261052949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261052949" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261052949">(Nov 10 2021 at 20:52)</a>:</h4>
<p>or similarly when such a feature is stabilized, we only want to set it with the old rustc</p>



<a name="261053034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261053034" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261053034">(Nov 10 2021 at 20:53)</a>:</h4>
<p>so <code>cfg(bootstrap)</code> is selecting between the old and new way of doing things</p>



<a name="261053116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261053116" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261053116">(Nov 10 2021 at 20:53)</a>:</h4>
<p>1.55.0 did it one way, 1.56.0 does it a new way, and 1.56.1 does it the same new way, just with some bug fixes</p>



<a name="261053305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261053305" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261053305">(Nov 10 2021 at 20:55)</a>:</h4>
<p>I think <code>cfg(bootstrap)</code> is more clear than <code>cfg(old_rustc)</code></p>



<a name="261053323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261053323" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261053323">(Nov 10 2021 at 20:55)</a>:</h4>
<p>that makes it sound like you could use 1.20 to build 1.30 or something</p>



<a name="261053327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261053327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261053327">(Nov 10 2021 at 20:55)</a>:</h4>
<p>which is definitely not true</p>



<a name="261053617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261053617" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261053617">(Nov 10 2021 at 20:57)</a>:</h4>
<p>sure, we could also keep the name and make sure that these reasons are captured rustc-dev docs</p>



<a name="261053655"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261053655" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261053655">(Nov 10 2021 at 20:58)</a>:</h4>
<p>I guess <code>cfg(previous_rustc)</code> is slightly closer to the intended meaning, but like <span class="user-mention silent" data-user-id="116122">simulacrum</span> and <span class="user-mention silent" data-user-id="138448">cuviper</span> it's still not quite right when there's a point release</p>



<a name="261053665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261053665" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261053665">(Nov 10 2021 at 20:58)</a>:</h4>
<p>(I haven't looked)</p>



<a name="261053699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261053699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261053699">(Nov 10 2021 at 20:58)</a>:</h4>
<p>they're not, really - I found this thread from <a href="https://github.com/rust-lang/rustc-dev-guide/issues/1255">https://github.com/rust-lang/rustc-dev-guide/issues/1255</a></p>



<a name="261053708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261053708" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261053708">(Nov 10 2021 at 20:58)</a>:</h4>
<p>I don't really care about the name personally and if documenting it is enough for folks, seems fine</p>



<a name="261053749"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261053749" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261053749">(Nov 10 2021 at 20:58)</a>:</h4>
<p>I just want to emphasize that literally all these places change basically on an every-release cycle anyway, so it's relatively low cost to update</p>



<a name="261053788"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261053788" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261053788">(Nov 10 2021 at 20:59)</a>:</h4>
<p>(modulo docs/compiler team knowledge, etc., but that's not <em>too</em> hard to propagate to and we're not suggesting daily changes)</p>



<a name="261053898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261053898" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261053898">(Nov 10 2021 at 21:00)</a>:</h4>
<p>yeah, the developer knowledge is the bigger risk of changing, but few ever deal with this</p>



<a name="261055084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261055084" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261055084">(Nov 10 2021 at 21:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="138448">cuviper</span> <a href="#narrow/stream/131828-t-compiler/topic/rename.20.60cfg.28bootstrap.29.60.20to.20.60cfg.28stageN.29.60/near/261053116">said</a>:</p>
<blockquote>
<p>1.55.0 did it one way, 1.56.0 does it a new way, and 1.56.1 does it the same new way, just with some bug fixes</p>
</blockquote>
<p>Ohhh, I get it now</p>



<a name="261055363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261055363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261055363">(Nov 10 2021 at 21:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/131828-t-compiler/topic/rename.20.60cfg.28bootstrap.29.60.20to.20.60cfg.28stageN.29.60/near/261053323">said</a>:</p>
<blockquote>
<p>that makes it sound like you could use 1.20 to build 1.30 or something</p>
</blockquote>
<p>I think in nearly all the cases where someone is using <code>cfg(bootstrap)</code>, they either would know using 1.20 to build 1.30 wouldn't work or wouldn't try it. I think most people who use it are just changing a feature-gate name etc.</p>



<a name="261055452"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261055452" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261055452">(Nov 10 2021 at 21:12)</a>:</h4>
<p>sure, but like, you could use that same argument for keeping the name the same. I'm just saying if we pick a new name it should be more descriptive</p>



<a name="261055486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261055486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261055486">(Nov 10 2021 at 21:12)</a>:</h4>
<p>The issue with keeping the name the same is I (and likely others) always forget whether to use <code>cfg(bootstrap)</code> or <code>cfg(not(bootstrap))</code> for a particular change</p>



<a name="261055576"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261055576" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261055576">(Nov 10 2021 at 21:13)</a>:</h4>
<p>I'd be happy with a more descriptive name, but I'm worried that it'll be bikeshedded and no name improvement will be made</p>



<a name="261055699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261055699" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261055699">(Nov 10 2021 at 21:14)</a>:</h4>
<p>And the issue with using docs is then people have to go find a docs page every time they use <code>cfg(bootstrap)</code>. IMO it'd be better if the name were more self-explanatory</p>



<a name="261056160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261056160" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261056160">(Nov 10 2021 at 21:18)</a>:</h4>
<p>FWIW I feel like I have at least built up an intuition for it, so it's hard for me to evaluate names against each other.</p>



<a name="261056290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261056290" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261056290">(Nov 10 2021 at 21:19)</a>:</h4>
<p>Yeah, I think the issue is that building up that intuition takes a while and to make it stick you have to use or remove <code>cfg(bootstrap)</code> often (which IIRC you do as part of the release process)</p>



<a name="261056459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261056459" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261056459">(Nov 10 2021 at 21:21)</a>:</h4>
<p>Yeah, whoever bumps the compiler -- usually Pietro or me.</p>
<p>I don't remember starting doing it so I feel like it's always been intuitive but I can definitely believe it's not (like most of rustbuild...)</p>



<a name="261058235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261058235" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261058235">(Nov 10 2021 at 21:35)</a>:</h4>
<p>(FWIW, looks like <code>cfg(stage0)</code> -&gt; <code>cfg(bootstrap)</code> happened in <a href="https://github.com/rust-lang/rust/issues/61494">#61494</a>.)</p>



<a name="261060579"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/rename%20%60cfg%28bootstrap%29%60%20to%20%60cfg%28stageN%29%60/near/261060579" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noah Lev <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/rename.20.60cfg(bootstrap).60.20to.20.60cfg(stageN).60.html#261060579">(Nov 10 2021 at 21:57)</a>:</h4>
<p>Btw, thanks <span class="user-mention silent" data-user-id="138448">cuviper</span> and <span class="user-mention silent" data-user-id="116122">simulacrum</span> for helping me understand the release process better :)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>