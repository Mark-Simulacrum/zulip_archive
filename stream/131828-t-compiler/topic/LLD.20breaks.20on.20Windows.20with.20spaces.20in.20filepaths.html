<html>
<head><meta charset="utf-8"><title>LLD breaks on Windows with spaces in filepaths · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html">LLD breaks on Windows with spaces in filepaths</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="211267603"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267603" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267603">(Sep 25 2020 at 14:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211266646">said</a>:</p>
<blockquote>
<p>I think <a href="https://github.com/rust-lang/rust/issues/76466">https://github.com/rust-lang/rust/issues/76466</a> is the one that worries me the most. If it's as simple as "building rust in paths with spaces is broken on windows", that seems potentially far-reaching.</p>
</blockquote>
<p>It's _just_ that simple. I just tried beta on Windows 10 64-bit in a path with multiple spaces and <code>--target wasm32-unknown-unknown</code> and it works fine.</p>



<a name="211267608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267608" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267608">(Sep 25 2020 at 14:50)</a>:</h4>
<p>(sorry to subscribe you to the stream, <span class="user-mention" data-user-id="224872">@Ryan Levick</span>)</p>



<a name="211267617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267617" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267617">(Sep 25 2020 at 14:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116009">nikomatsakis</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211266646">said</a>:</p>
<blockquote>
<p>I think <a href="https://github.com/rust-lang/rust/issues/76466">https://github.com/rust-lang/rust/issues/76466</a> is the one that worries me the most. If it's as simple as "building rust in paths with spaces is broken on windows", that seems potentially far-reaching.</p>
</blockquote>
<p>it <em>may</em> be broken for all LLD users on windows. Who relies on LLD besides WASM?</p>



<a name="211267656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267656" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267656">(Sep 25 2020 at 14:50)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> it's <em>not</em> just that simple?</p>



<a name="211267669"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267669" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267669">(Sep 25 2020 at 14:50)</a>:</h4>
<p>IE, that builds fine.</p>



<a name="211267703"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267703" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267703">(Sep 25 2020 at 14:50)</a>:</h4>
<p>yeah so it's something more specific, tied to lld I guess, and maybe 32 bit</p>



<a name="211267711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267711" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267711">(Sep 25 2020 at 14:50)</a>:</h4>
<p>But I'm on Win 64-bit so perhaps it's specific to 32-bit.</p>



<a name="211267724"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267724" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267724">(Sep 25 2020 at 14:51)</a>:</h4>
<p>I figured it must be or we'd have seen more people reporting it</p>



<a name="211267734"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267734" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267734">(Sep 25 2020 at 14:51)</a>:</h4>
<p>but original bug reporter said they were on Windows 64-bit ...</p>



<a name="211267774"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267774" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267774">(Sep 25 2020 at 14:51)</a>:</h4>
<p>Did you try the exact repo case, <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> ?</p>



<a name="211267796"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267796" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267796">(Sep 25 2020 at 14:51)</a>:</h4>
<p>No, I didn't. Just a basic hello world.</p>



<a name="211267805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267805" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267805">(Sep 25 2020 at 14:51)</a>:</h4>
<p>If we can't reproduce it, rolling back LLVM 11 seems silly. But the argument around cross-lang inlining is real.</p>



<a name="211267808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267808" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267808">(Sep 25 2020 at 14:51)</a>:</h4>
<p>Let me do that now.</p>



<a name="211267880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267880" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267880">(Sep 25 2020 at 14:52)</a>:</h4>
<p>That may be a policy we should settle on (only use released LLVM versions)</p>



<a name="211267894"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267894" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267894">(Sep 25 2020 at 14:52)</a>:</h4>
<p>I don't have a 32 bit machine but I can try to reproduce on a 64 bit. I can also ask colleagues who likely have a 32 bit machine</p>



<a name="211267924"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267924" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267924">(Sep 25 2020 at 14:52)</a>:</h4>
<p><span class="user-mention" data-user-id="224872">@Ryan Levick</span> do you know which bug we're talking about? It's <a href="https://github.com/rust-lang/rust/issues/76466">#76466</a></p>



<a name="211267945"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267945" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267945">(Sep 25 2020 at 14:52)</a>:</h4>
<p>Yep I can see the chat history <span aria-label="blush" class="emoji emoji-1f60a" role="img" title="blush">:blush:</span></p>



<a name="211267975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211267975" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211267975">(Sep 25 2020 at 14:53)</a>:</h4>
<p>(I figured it might be kind of complex to follow)</p>



<a name="211268065"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268065" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268065">(Sep 25 2020 at 14:53)</a>:</h4>
<p>Oh interesting</p>



<a name="211268074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268074" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268074">(Sep 25 2020 at 14:53)</a>:</h4>
<p>I have a repo of the same test case on Win 10 64-bit in a path with spaces.</p>



<a name="211268297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268297" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268297">(Sep 25 2020 at 14:55)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> That looks correct to me. For cross-lang LTO, you'd have to use a clang-11 pre-release build. It's pretty likely that the final version there will be released in the next two weeks, but there's no guarantees.</p>



<a name="211268372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268372" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268372">(Sep 25 2020 at 14:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="125250">Wesley Wiser</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211268074">said</a>:</p>
<blockquote>
<p>It repros</p>
</blockquote>
<p>ok, so it's kind of specific to wasm or something?</p>



<a name="211268449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268449" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268449">(Sep 25 2020 at 14:56)</a>:</h4>
<p>probably more subtle that just that, because <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> tried to select wasm as target in their Hello World, no?</p>



<a name="211268548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268548" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268548">(Sep 25 2020 at 14:57)</a>:</h4>
<p>Yeah I did</p>



<a name="211268555"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268555" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268555">(Sep 25 2020 at 14:57)</a>:</h4>
<p>I have to go afk in a few minutes. I feel like y'all can make the call, I think it's borderline. I guess that even if LLVM 11 is not released when the stable release is out, it will be released shortly thereafter, and then cross-lang inlining would work again (right <span class="user-mention" data-user-id="133224">@Nikita Popov</span>?)</p>



<a name="211268597"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268597" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268597">(Sep 25 2020 at 14:57)</a>:</h4>
<p>That's right.</p>



<a name="211268616"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268616" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268616">(Sep 25 2020 at 14:57)</a>:</h4>
<p>i.e., we wouldn't need to do any point release</p>



<a name="211268627"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268627" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268627">(Sep 25 2020 at 14:57)</a>:</h4>
<p>I think "Hello world" works because the only dependency is the std and that isn't located in a path with spaces</p>



<a name="211268645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268645" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268645">(Sep 25 2020 at 14:57)</a>:</h4>
<p>I think we can stick with LLVM 11 this cycle, because the risks associated with backing it out seem to outweigh the gains</p>



<a name="211268726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268726" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268726">(Sep 25 2020 at 14:58)</a>:</h4>
<p>Which means things might be totally broken if anyone has installed Rust in a path that has spaces in it.</p>



<a name="211268728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268728" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268728">(Sep 25 2020 at 14:58)</a>:</h4>
<p>Ah, so <span class="user-mention" data-user-id="125250">@Wesley Wiser</span> it may be that any crate with dependencies and paths in spaces breaks?</p>



<a name="211268737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268737" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268737">(Sep 25 2020 at 14:58)</a>:</h4>
<p>Yeah</p>



<a name="211268738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268738" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268738">(Sep 25 2020 at 14:58)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> maybe try a hello world that link to a different crate then.</p>



<a name="211268763"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268763" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268763">(Sep 25 2020 at 14:58)</a>:</h4>
<p>Not great.</p>



<a name="211268787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268787" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268787">(Sep 25 2020 at 14:58)</a>:</h4>
<p>If I move the test to a directory that doesn't have spaces, it links fine.</p>



<a name="211268800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268800" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268800">(Sep 25 2020 at 14:58)</a>:</h4>
<p>oy</p>



<a name="211268824"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268824" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268824">(Sep 25 2020 at 14:58)</a>:</h4>
<p>well, on the plus side</p>



<a name="211268833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268833" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268833">(Sep 25 2020 at 14:59)</a>:</h4>
<p>that's a workaround</p>



<a name="211268865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268865" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268865">(Sep 25 2020 at 14:59)</a>:</h4>
<p>not a great one given typical windows conventions</p>



<a name="211268887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268887" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268887">(Sep 25 2020 at 14:59)</a>:</h4>
<p>but one I've had to deploy in previous lives</p>



<a name="211268898"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268898" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268898">(Sep 25 2020 at 14:59)</a>:</h4>
<p>I can't seem to reproduce on the latest nightly. Checking to make sure I have the same set up</p>



<a name="211268935"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211268935" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211268935">(Sep 25 2020 at 14:59)</a>:</h4>
<p>I'll pull nightly and test too</p>



<a name="211269185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211269185" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211269185">(Sep 25 2020 at 15:01)</a>:</h4>
<p>anyone want to argue for a revert to LLVM 10 ?</p>



<a name="211269259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211269259" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211269259">(Sep 25 2020 at 15:01)</a>:</h4>
<p>I don't see any differences between my workspace and the one from the issue. Going to try on the specific nightly from issue</p>



<a name="211269394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211269394" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211269394">(Sep 25 2020 at 15:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211269185">said</a>:</p>
<blockquote>
<p>anyone want to argue for a revert to LLVM 10 ?</p>
</blockquote>
<p>not I</p>



<a name="211269470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211269470" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211269470">(Sep 25 2020 at 15:02)</a>:</h4>
<p>but it may merit a point release if we get a fix for <a href="https://github.com/rust-lang/rust/issues/76466">#76466</a> soon</p>



<a name="211269700"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211269700" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211269700">(Sep 25 2020 at 15:04)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> your recent replication <em>was</em> on a Windows 64-bit box, right?</p>



<a name="211269708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211269708" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211269708">(Sep 25 2020 at 15:04)</a>:</h4>
<p>Yeah</p>



<a name="211269739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211269739" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211269739">(Sep 25 2020 at 15:04)</a>:</h4>
<p>I'm still seeing it repo on nightly</p>



<a name="211269821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211269821" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211269821">(Sep 25 2020 at 15:05)</a>:</h4>
<p>/me is not able to replicate on his 64-bit Windows VM</p>



<a name="211269851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211269851" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211269851">(Sep 25 2020 at 15:05)</a>:</h4>
<p>hope this isn't a silly question, but wouldn't a 32-bit toolchain run on a 64-bit windows installation just like it does on linux?</p>



<a name="211269881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211269881" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211269881">(Sep 25 2020 at 15:05)</a>:</h4>
<p>as in, both OSes have support for running 32-bit userspace w/ 64-bit kernel, no?</p>



<a name="211269892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211269892" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211269892">(Sep 25 2020 at 15:05)</a>:</h4>
<p>Yes</p>



<a name="211269991"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211269991" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211269991">(Sep 25 2020 at 15:06)</a>:</h4>
<p>I cannot reproduce with the latest nightly nor with the nightly reported in the issue</p>



<a name="211270030"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270030" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270030">(Sep 25 2020 at 15:06)</a>:</h4>
<p>/me is going to try Rust installed by the msi installer instead of Rustup</p>



<a name="211270139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270139" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270139">(Sep 25 2020 at 15:07)</a>:</h4>
<p>oh right <code>rustup</code> paths would be in <code>C:\Users\$USER\.rustup\toolchains</code> so potentially no spaces</p>



<a name="211270158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270158" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270158">(Sep 25 2020 at 15:07)</a>:</h4>
<p>I suspect this might be related to locales too.</p>



<a name="211270253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270253" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270253">(Sep 25 2020 at 15:08)</a>:</h4>
<p>/me imagines somebody using a nbsp as their space of choice in the username.</p>



<a name="211270266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270266" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270266">(Sep 25 2020 at 15:08)</a>:</h4>
<p>Here's what I'm seeing:</p>
<div class="codehilite"><pre><span></span><code>C:\projects\test with spaces\hello_world&gt;cargo build --target wasm32-unknown-unknown
   Compiling proc-macro2 v1.0.21
   Compiling unicode-xid v0.2.1
   Compiling syn v1.0.41
   Compiling wasm-bindgen-shared v0.2.68
   Compiling log v0.4.11
   Compiling cfg-if v0.1.10
   Compiling bumpalo v3.4.0
   Compiling lazy_static v1.4.0
   Compiling wasm-bindgen v0.2.68
   Compiling quote v1.0.7
   Compiling wasm-bindgen-backend v0.2.68
   Compiling wasm-bindgen-macro-support v0.2.68
   Compiling wasm-bindgen-macro v0.2.68
   Compiling js-sys v0.3.45
   Compiling web-sys v0.3.45
   Compiling hello_world v0.1.0 (C:\projects\test with spaces\hello_world)
error: linking with `rust-lld` failed: exit code: 1
  |
  = note: &quot;rust-lld&quot; &quot;-flavor&quot; &quot;wasm&quot; &quot;-z&quot; &quot;stack-size=1048576&quot; &quot;--stack-first&quot; &quot;--allow-undefined&quot; &quot;--fatal-warnings&quot; &quot;--no-demangle&quot; &quot;--export-dynamic&quot; &quot;--no-entry&quot; &quot;-L&quot; &quot;C:\\Users\\wesley.wiser\\.rustup\\toolchains\\nightly-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib&quot; &quot;-L&quot; &quot;C:\\Users\\wesley.wiser\\.rustup\\toolchains\\nightly-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib\\self-contained&quot; &quot;C:\\projects\\test with spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\hello_world.10x1umxe2ihpk42f.rcgu.o&quot; &quot;C:\\projects\\test with spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\hello_world.1jrmc1rcj97b1rx7.rcgu.o&quot; &quot;C:\\projects\\test with spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\hello_world.2thlrb4v5nonu3ei.rcgu.o&quot; &quot;C:\\projects\\test with spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\hello_world.2ydc3y7vzq74rkde.rcgu.o&quot; &quot;C:\\projects\\test with spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\hello_world.31n4dyidua42hqrf.rcgu.o&quot; &quot;C:\\projects\\test with spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\hello_world.5rz76vvdq2iid4p.rcgu.o&quot; &quot;C:\\projects\\test with spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\hello_world.zd8q8tu961vm25b.rcgu.o&quot; &quot;-o&quot; &quot;C:\\projects\\test with spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\hello_world.wasm&quot; &quot;--export&quot; &quot;main&quot; &quot;--export&quot; &quot;__wbindgen_describe___wbg_addEventListener_1ee029f42ddd26e4&quot; &quot;--export&quot; &quot;__wbindgen_describe___wbg_addEventListener_9e7b0c3f65ebc0d7&quot;

{snip}

  = note: rust-lld: error: cannot open C:\\projects\\test\: no such file or directory
          rust-lld: error: cannot open with\: no such file or directory
          rust-lld: error: cannot open spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\hello_world.10x1umxe2ihpk42f.rcgu.o: no such file or directory
          rust-lld: error: cannot open C:\\projects\\test\: no such file or directory
          rust-lld: error: cannot open with\: no such file or directory
          rust-lld: error: cannot open spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\hello_world.1jrmc1rcj97b1rx7.rcgu.o: no such file or directory
          rust-lld: error: cannot open C:\\projects\\test\: no such file or directory
          rust-lld: error: cannot open with\: no such file or directory
          rust-lld: error: cannot open spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\hello_world.2thlrb4v5nonu3ei.rcgu.o: no such file or directory
          rust-lld: error: cannot open C:\\projects\\test\: no such file or directory
          rust-lld: error: cannot open with\: no such file or directory
          rust-lld: error: cannot open spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\hello_world.2ydc3y7vzq74rkde.rcgu.o: no such file or directory
          rust-lld: error: cannot open C:\\projects\\test\: no such file or directory
          rust-lld: error: cannot open with\: no such file or directory
          rust-lld: error: cannot open spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\hello_world.31n4dyidua42hqrf.rcgu.o: no such file or directory
          rust-lld: error: cannot open C:\\projects\\test\: no such file or directory
          rust-lld: error: cannot open with\: no such file or directory
          rust-lld: error: cannot open spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\hello_world.5rz76vvdq2iid4p.rcgu.o: no such file or directory
          rust-lld: error: cannot open C:\\projects\\test\: no such file or directory
          rust-lld: error: cannot open with\: no such file or directory
          rust-lld: error: too many errors emitted, stopping now (use -error-limit=0 to see all errors)


error: aborting due to previous error

error: could not compile `hello_world`

To learn more, run the command again with --verbose.
</code></pre></div>



<a name="211270271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270271" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270271">(Sep 25 2020 at 15:08)</a>:</h4>
<p><span class="user-mention" data-user-id="224872">@Ryan Levick</span> was the reproduction attempt with Rust installed in <code>C:\Progam Files</code>?</p>



<a name="211270467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270467" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270467">(Sep 25 2020 at 15:09)</a>:</h4>
<p>No, it's my user directory - no spaces</p>



<a name="211270497"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270497" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270497">(Sep 25 2020 at 15:09)</a>:</h4>
<p>or I guess like <span class="user-mention" data-user-id="125250">@Wesley Wiser</span>'s, with spaces in the path of the Cargo package</p>



<a name="211270620"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270620" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270620">(Sep 25 2020 at 15:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="119009">eddyb</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211270497">said</a>:</p>
<blockquote>
<p>or I guess like <span class="user-mention silent" data-user-id="125250">Wesley Wiser</span>'s, with spaces in the path of the Cargo package</p>
</blockquote>
<p>this is what I tried on my end, but it failed to reproduce for me</p>



<a name="211270646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270646" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270646">(Sep 25 2020 at 15:10)</a>:</h4>
<p>ah interesting</p>



<a name="211270773"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270773" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270773">(Sep 25 2020 at 15:11)</a>:</h4>
<p>(also might be interesting to try to reproduce on non-Windows systems.)</p>



<a name="211270779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270779" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270779">(Sep 25 2020 at 15:11)</a>:</h4>
<p>Yea I can't reproduce the issue if my path to the cargo project has spaces in it. I can try with the compiler itself</p>



<a name="211270803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270803" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270803">(Sep 25 2020 at 15:11)</a>:</h4>
<p>I forgot we even had an MSI installer, tbh, I would've probably moved it manually or tried to install <code>rustup</code> somewhere else</p>



<a name="211270916"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270916" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270916">(Sep 25 2020 at 15:12)</a>:</h4>
<p>I'm pretty sure I installed via rustup.</p>



<a name="211270926"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270926" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270926">(Sep 25 2020 at 15:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211270030">said</a>:</p>
<blockquote>
<p>/me is going to try Rust installed by the msi installer instead of Rustup</p>
</blockquote>
<p>still no luck, even with this method</p>



<a name="211270995"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211270995" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211270995">(Sep 25 2020 at 15:12)</a>:</h4>
<p>(since <code>rustc</code> finds all of the relevant files relative to itself, so you can just move/copy an entire <code>.rustup/toolchains/...</code> directory anywhere you want)</p>



<a name="211271225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211271225" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211271225">(Sep 25 2020 at 15:14)</a>:</h4>
<p>I tried in both <code>cmd.exe</code> and <code>git bash</code> just in case it was something to do with the environment and it fails to build in both.</p>



<a name="211271250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211271250" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211271250">(Sep 25 2020 at 15:14)</a>:</h4>
<p>or... oh head-slap: I wasn't passing the <code>--target wasm32-unknown-unknown</code> option. What is wrong with me.</p>



<a name="211271281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211271281" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211271281">(Sep 25 2020 at 15:15)</a>:</h4>
<p>okay now I can reproduce</p>



<a name="211271369"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211271369" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211271369">(Sep 25 2020 at 15:15)</a>:</h4>
<p>it's probably an lld bug then</p>



<a name="211271380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211271380" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211271380">(Sep 25 2020 at 15:15)</a>:</h4>
<p>as someone mentions on the issue</p>



<a name="211271453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211271453" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211271453">(Sep 25 2020 at 15:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116083">pnkfelix</span> <a href="#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bplanning.20meeting.5D.202020-09-25/near/211271250">said</a>:</p>
<blockquote>
<p>or... oh head-slap: I wasn't passing the <code>--target wasm32-unknown-unknown</code> option. What is wrong with me.</p>
</blockquote>
<p>Wondering why I still can't reproduce the issue...</p>



<a name="211271510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211271510" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211271510">(Sep 25 2020 at 15:16)</a>:</h4>
<p>Yeah, the paths passed to lld seem to be correctly encoded:</p>
<blockquote>
<p>"C:\\projects\\test with spaces\\hello_world\\target\\wasm32-unknown-unknown\\debug\\deps\\libweb_sys-4faa97cbfbde07f6.rlib"</p>
</blockquote>



<a name="211271556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211271556" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211271556">(Sep 25 2020 at 15:17)</a>:</h4>
<p>is this because windows CLI programs have to parse their own arguments?</p>



<a name="211271594"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211271594" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211271594">(Sep 25 2020 at 15:17)</a>:</h4>
<p>could it be an issue with our <code>rust-lld</code> wrapper?</p>



<a name="211271596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211271596" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211271596">(Sep 25 2020 at 15:17)</a>:</h4>
<p>and all the caveats around that (cc <span class="user-mention" data-user-id="125267">@Peter Rabbit</span>)</p>



<a name="211271637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211271637" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211271637">(Sep 25 2020 at 15:17)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> is that a wrapper? I thought we just renamed the <code>lld</code> we built</p>



<a name="211271658"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211271658" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211271658">(Sep 25 2020 at 15:17)</a>:</h4>
<p>/me doesn't know</p>



<a name="211272087"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211272087" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211272087">(Sep 25 2020 at 15:20)</a>:</h4>
<p>where does the installed rust-lld even live? I'm looking in .rustup\toolchains but not finding any sign of it there</p>



<a name="211272108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211272108" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211272108">(Sep 25 2020 at 15:21)</a>:</h4>
<p>it's nested inside <code>rustlib</code></p>



<a name="211272137"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211272137" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211272137">(Sep 25 2020 at 15:21)</a>:</h4>
<p>it's not a wrapper, renamed binary</p>



<a name="211272177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211272177" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211272177">(Sep 25 2020 at 15:21)</a>:</h4>
<p>okay found it, thanks</p>



<a name="211272419"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211272419" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211272419">(Sep 25 2020 at 15:23)</a>:</h4>
<p>well, we are way over time now</p>



<a name="211272463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211272463" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211272463">(Sep 25 2020 at 15:23)</a>:</h4>
<p>It sounds like no one wants to argue for a revert of the LLVM upgrade</p>



<a name="211272559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211272559" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211272559">(Sep 25 2020 at 15:24)</a>:</h4>
<p>huh it relies on just <code>main</code> taking arguments <a href="https://github.com/llvm/llvm-project/blob/2a11a197af7e72725fe461ba9917756b1b09661a/lld/tools/lld/lld.cpp#L205">https://github.com/llvm/llvm-project/blob/2a11a197af7e72725fe461ba9917756b1b09661a/lld/tools/lld/lld.cpp#L205</a></p>



<a name="211272562"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211272562" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211272562">(Sep 25 2020 at 15:24)</a>:</h4>
<p>so, that's great. I can focus my attention on trying out the fixes to <code>rr</code> that <span class="user-mention" data-user-id="119009">@eddyb</span> has helped discover on my Ryzen box</p>



<a name="211272661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211272661" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211272661">(Sep 25 2020 at 15:25)</a>:</h4>
<p>meanwhile, Rust: <a href="https://github.com/rust-lang/rust/blob/b984ef6797ff17faa2b1e0ebb54b78de1491e5fd/library/std/src/sys/windows/args.rs#L21-L30">https://github.com/rust-lang/rust/blob/b984ef6797ff17faa2b1e0ebb54b78de1491e5fd/library/std/src/sys/windows/args.rs#L21-L30</a></p>



<a name="211273168"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211273168" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211273168">(Sep 25 2020 at 15:28)</a>:</h4>
<p>ah LLVM has something similar <a href="https://github.com/llvm/llvm-project/blob/2a11a197af7e72725fe461ba9917756b1b09661a/llvm/lib/Support/InitLLVM.cpp#L24-L54">https://github.com/llvm/llvm-project/blob/2a11a197af7e72725fe461ba9917756b1b09661a/llvm/lib/Support/InitLLVM.cpp#L24-L54</a></p>



<a name="211273597"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211273597" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211273597">(Sep 25 2020 at 15:30)</a>:</h4>
<p>silly Q: is that <code>#ifdef _WIN32</code>  true even on win64?</p>



<a name="211273695"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211273695" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211273695">(Sep 25 2020 at 15:31)</a>:</h4>
<blockquote>
<p><code>_WIN32</code> Defined as 1 when the compilation target is 32-bit ARM, 64-bit ARM, x86, or x64. Otherwise, undefined.</p>
</blockquote>



<a name="211273708"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211273708" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211273708">(Sep 25 2020 at 15:31)</a>:</h4>
<p>yes apparently it is, okay.</p>



<a name="211273719"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211273719" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211273719">(Sep 25 2020 at 15:31)</a>:</h4>
<p>from <a href="https://docs.microsoft.com/en-us/cpp/preprocessor/predefined-macros?view=vs-2019">https://docs.microsoft.com/en-us/cpp/preprocessor/predefined-macros?view=vs-2019</a></p>



<a name="211273737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211273737" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211273737">(Sep 25 2020 at 15:31)</a>:</h4>
<p>(oh I see, the 32 is meant to mean "not 16-bit")</p>



<a name="211273801"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211273801" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211273801">(Sep 25 2020 at 15:32)</a>:</h4>
<p>you love to see it,</p>



<a name="211274126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211274126" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211274126">(Sep 25 2020 at 15:34)</a>:</h4>
<p>potentially relevant commit <a href="https://github.com/llvm/llvm-project/commit/270d3faf6e0d09ec00ba51b46241534bc6455256">https://github.com/llvm/llvm-project/commit/270d3faf6e0d09ec00ba51b46241534bc6455256</a></p>



<a name="211274160"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211274160" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211274160">(Sep 25 2020 at 15:34)</a>:</h4>
<p>the actual parser is here <a href="https://github.com/llvm/llvm-project/blob/2a11a197af7e72725fe461ba9917756b1b09661a/llvm/lib/Support/CommandLine.cpp#L931-L936">https://github.com/llvm/llvm-project/blob/2a11a197af7e72725fe461ba9917756b1b09661a/llvm/lib/Support/CommandLine.cpp#L931-L936</a></p>



<a name="211274463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211274463" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211274463">(Sep 25 2020 at 15:37)</a>:</h4>
<p>there's also <a href="https://github.com/llvm/llvm-project/commit/2d068e534f1671459e1b135852c1b3c10502e929">https://github.com/llvm/llvm-project/commit/2d068e534f1671459e1b135852c1b3c10502e929</a></p>



<a name="211274478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211274478" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211274478">(Sep 25 2020 at 15:37)</a>:</h4>
<p>not really sure how they all interact</p>



<a name="211274652"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211274652" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211274652">(Sep 25 2020 at 15:38)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> you said we pass the correct arguments, but isn't it possible the quotes are printed for the benefit of the user but not actually encoded? wait I just got a very silly idea</p>



<a name="211274706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211274706" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211274706">(Sep 25 2020 at 15:39)</a>:</h4>
<p>Yeah, that's fair.</p>



<a name="211274720"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211274720" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211274720">(Sep 25 2020 at 15:39)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> <span class="user-mention" data-user-id="116083">@pnkfelix</span> you could replace <code>rust-lld.exe</code> with a simple Rust program that errors after printing its arguments <em>as parsed by Rust</em></p>



<a name="211274835"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211274835" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211274835">(Sep 25 2020 at 15:40)</a>:</h4>
<p>something like this:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">dbg</span><span class="o">!</span><span class="p">(</span><span class="n">std</span>::<span class="n">env</span>::<span class="n">args</span><span class="p">().</span><span class="n">collect</span>::<span class="o">&lt;</span><span class="nb">Vec</span><span class="o">&lt;</span><span class="n">_</span><span class="o">&gt;&gt;</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="n">std</span>::<span class="n">process</span>::<span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="211275141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275141" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275141">(Sep 25 2020 at 15:42)</a>:</h4>
<p>Where do I find <code>rust-lld.exe</code>?</p>



<a name="211275158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275158" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275158">(Sep 25 2020 at 15:42)</a>:</h4>
<p>it's nested inside <code>rustlib</code></p>



<a name="211275165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275165" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275165">(Sep 25 2020 at 15:42)</a>:</h4>
<p>In the toolchain folder somewhere?</p>



<a name="211275169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275169" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275169">(Sep 25 2020 at 15:42)</a>:</h4>
<p>kind of like our own personal "libexec"</p>



<a name="211275174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275174" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275174">(Sep 25 2020 at 15:42)</a>:</h4>
<p>yeah I found it recently</p>



<a name="211275178"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275178" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275178">(Sep 25 2020 at 15:42)</a>:</h4>
<p>let me grab that path</p>



<a name="211275214"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275214" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275214">(Sep 25 2020 at 15:43)</a>:</h4>
<p>should be <code>lib/rustlib/$host/bin/rust-lld.exe</code> or similar</p>



<a name="211275330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275330" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275330">(Sep 25 2020 at 15:44)</a>:</h4>
<p><code>.rustup\toolchains\beta-x86_64-pc-windows-msvc\lib\rustlib\x86_64-pc-windows-msvc\bin\</code>for me</p>



<a name="211275360"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275360" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275360">(Sep 25 2020 at 15:44)</a>:</h4>
<p>(which is consistent with what eddy wrote)</p>



<a name="211275418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275418" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275418">(Sep 25 2020 at 15:45)</a>:</h4>
<div class="codehilite"><pre><span></span><code>  = note: [src\main.rs:2] std::env::args().collect::&lt;Vec&lt;_&gt;&gt;() = [
              &quot;C:\\Users\\wesley.wiser\\.rustup\\toolchains\\nightly-x86_64-pc-windows-msvc\\lib\\rustlib\\x86_64-pc-windows-msvc\\bin\\rust-lld.exe&quot;,
              &quot;-flavor&quot;,
              &quot;wasm&quot;,
              &quot;@C:\\Users\\WESLEY~1.WIS\\AppData\\Local\\Temp\\rustcE6Ab1l\\linker-arguments&quot;,
          ]
</code></pre></div>



<a name="211275441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275441" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275441">(Sep 25 2020 at 15:45)</a>:</h4>
<p><span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="211275467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275467" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275467">(Sep 25 2020 at 15:45)</a>:</h4>
<p>glad I asked</p>



<a name="211275565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275565" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275565">(Sep 25 2020 at 15:46)</a>:</h4>
<p>that <code>@</code> thing I assume is some sort of directive to inline the contents of a file as arguments I assume?</p>



<a name="211275568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275568" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275568">(Sep 25 2020 at 15:46)</a>:</h4>
<p>(time to dump the file - which might need to be done from the fake linker itself)</p>



<a name="211275585"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275585" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275585">(Sep 25 2020 at 15:46)</a>:</h4>
<p>will <code>-Zsave-temps</code> or whatever leave that file around?</p>



<a name="211275606"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275606" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275606">(Sep 25 2020 at 15:46)</a>:</h4>
<p>yeah and the stuff I was looking at doesn't really matter turns out</p>



<a name="211275609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275609" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275609">(Sep 25 2020 at 15:46)</a>:</h4>
<p>(probably just as easy to have the fake-lld print it though IMO)</p>



<a name="211275627"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275627" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275627">(Sep 25 2020 at 15:47)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> I wouldn't bet on it and yeah what <span class="user-mention" data-user-id="116083">@pnkfelix</span> just said</p>



<a name="211275668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211275668" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211275668">(Sep 25 2020 at 15:47)</a>:</h4>
<p>I was gonna say that worst case we look at what <code>GetCommandLineW</code> returns but it's not even relevant</p>



<a name="211276226"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211276226" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211276226">(Sep 25 2020 at 15:52)</a>:</h4>
<p><a href="https://github.com/llvm/llvm-project/commit/928e9e172305752583a75a8174ab5a87b4e09d80">https://github.com/llvm/llvm-project/commit/928e9e172305752583a75a8174ab5a87b4e09d80</a></p>



<a name="211276276"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211276276" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211276276">(Sep 25 2020 at 15:52)</a>:</h4>
<p>now this shouldn't have changed behavior</p>



<a name="211276358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211276358" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211276358">(Sep 25 2020 at 15:53)</a>:</h4>
<p>oh wait it did! it used to hardcode <code>cl::TokenizeGNUCommandLine</code></p>



<a name="211276454"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211276454" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211276454">(Sep 25 2020 at 15:54)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> if you can make it work, try calling the real linker with an extra <code>-rsp-quoting=posix</code> flag</p>



<a name="211276505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211276505" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211276505">(Sep 25 2020 at 15:54)</a>:</h4>
<p>I'm not sure what you mean</p>



<a name="211276565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211276565" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211276565">(Sep 25 2020 at 15:55)</a>:</h4>
<p>as in, the fake <code>rust-lld.exe</code> executing the real one with the same arguments plus that one</p>



<a name="211276586"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211276586" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211276586">(Sep 25 2020 at 15:55)</a>:</h4>
<p>rustc --target wasm32-uknown-unknown -Clink-arg=-rsp-quoting=posix perhaps?</p>



<a name="211276636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211276636" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211276636">(Sep 25 2020 at 15:55)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> will likely end up in the @'d file</p>



<a name="211276653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211276653" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211276653">(Sep 25 2020 at 15:55)</a>:</h4>
<p>ah hm</p>



<a name="211276692"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211276692" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211276692">(Sep 25 2020 at 15:56)</a>:</h4>
<p>would you like to see what I got as the contents of the file?</p>



<a name="211276737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211276737" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211276737">(Sep 25 2020 at 15:56)</a>:</h4>
<p>sure</p>



<a name="211276767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211276767" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211276767">(Sep 25 2020 at 15:56)</a>:</h4>
<p>/me takes moment to figure out how to get it into a gist</p>



<a name="211276880"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211276880" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211276880">(Sep 25 2020 at 15:57)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> to be clear, I'm imagining just:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">assert</span><span class="o">!</span><span class="p">(</span><span class="n">std</span>::<span class="n">process</span>::<span class="n">Command</span>::<span class="n">new</span><span class="p">(</span><span class="s">"real-rust-lld"</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">arg</span><span class="p">(</span><span class="s">"-rsp-quoting=posix"</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">args</span><span class="p">(</span><span class="n">std</span>::<span class="n">env</span>::<span class="n">args_os</span><span class="p">().</span><span class="n">skip</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">status</span><span class="p">()</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">unwrap</span><span class="p">()</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">success</span><span class="p">());</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="211277084"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211277084" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211277084">(Sep 25 2020 at 15:58)</a>:</h4>
<p><a href="https://gist.github.com/pnkfelix/aec7c69439a0c9dbda83210b8978870e">https://gist.github.com/pnkfelix/aec7c69439a0c9dbda83210b8978870e</a></p>



<a name="211277172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211277172" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211277172">(Sep 25 2020 at 15:59)</a>:</h4>
<p><span class="user-mention" data-user-id="119009">@eddyb</span> It worked?!</p>
<div class="codehilite"><pre><span></span><code>$ cargo build --target wasm32-unknown-unknown
   Compiling hello_world v0.1.0 (C:\projects\test with spaces\hello_world)
    Finished dev [unoptimized + debuginfo] target(s) in 1.61s
</code></pre></div>



<a name="211277259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211277259" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211277259">(Sep 25 2020 at 15:59)</a>:</h4>
<p>Oh wait</p>



<a name="211277311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211277311" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211277311">(Sep 25 2020 at 16:00)</a>:</h4>
<p>I guess I need to check status</p>



<a name="211277348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211277348" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211277348">(Sep 25 2020 at 16:00)</a>:</h4>
<p>yeah sorry should've wrote the full example from the start</p>



<a name="211277378"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211277378" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211277378">(Sep 25 2020 at 16:00)</a>:</h4>
<p>though I expect it to work because that's what the previous behavior was</p>



<a name="211277543"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211277543" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211277543">(Sep 25 2020 at 16:01)</a>:</h4>
<p>I'm getting this</p>
<div class="codehilite"><pre><span></span><code>  = note: lld is a generic driver.
          Invoke ld.lld (Unix), ld64.lld (macOS), lld-link (Windows), wasm-ld (WebAssembly) instead
          thread &#39;main&#39; panicked at &#39;assertion failed: std::process::Command::new(&quot;rust-lld.exe2&quot;).arg(&quot;-rsp-quoting=posix&quot;).args(std::env::args_os().skip(1)).status().unwrap().success()&#39;, src\main.rs:2:5
          note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre></div>



<a name="211277563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211277563" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211277563">(Sep 25 2020 at 16:02)</a>:</h4>
<p>aww</p>



<a name="211277668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211277668" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211277668">(Sep 25 2020 at 16:02)</a>:</h4>
<p>btw there's this stuff that you might be able to see if you set <code>RUSTC_LOG=rustc_codegen_ssa::back::link</code> <a href="https://github.com/rust-lang/rust/blob/master/compiler/rustc_codegen_ssa/src/back/link.rs#L1068">https://github.com/rust-lang/rust/blob/master/compiler/rustc_codegen_ssa/src/back/link.rs#L1068</a></p>



<a name="211277739"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211277739" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211277739">(Sep 25 2020 at 16:03)</a>:</h4>
<p>I've got to run <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="211277766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211277766" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211277766">(Sep 25 2020 at 16:03)</a>:</h4>
<p>we should probably post some of this on the ticket. <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="211277785"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211277785" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211277785">(Sep 25 2020 at 16:03)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/blob/b984ef6797ff17faa2b1e0ebb54b78de1491e5fd/compiler/rustc_codegen_ssa/src/back/link.rs#L1071-L1093">https://github.com/rust-lang/rust/blob/b984ef6797ff17faa2b1e0ebb54b78de1491e5fd/compiler/rustc_codegen_ssa/src/back/link.rs#L1071-L1093</a></p>



<a name="211277910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211277910" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211277910">(Sep 25 2020 at 16:04)</a>:</h4>
<p>yeah okay we use the <em>target</em> to determine whether we're  using windows or GNU encoding</p>



<a name="211277950"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211277950" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211277950">(Sep 25 2020 at 16:04)</a>:</h4>
<p>which is why wasm is affected, since it's not MSVC</p>



<a name="211278198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211278198" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211278198">(Sep 25 2020 at 16:06)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> do you want to, or should I?</p>



<a name="211278245"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211278245" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211278245">(Sep 25 2020 at 16:06)</a>:</h4>
<p>just posted a comment but all it is is a link to the conversation we had here after meeting was bascially over</p>



<a name="211278269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211278269" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211278269">(Sep 25 2020 at 16:06)</a>:</h4>
<p>alright I can detail a bit</p>



<a name="211278302"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211278302" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211278302">(Sep 25 2020 at 16:07)</a>:</h4>
<p><span class="user-mention" data-user-id="119009">@eddyb</span> this last point you made about rustc_codegen_ssa: does that imply that this <em>is</em> a bug in our code, not LLD?</p>



<a name="211278425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211278425" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211278425">(Sep 25 2020 at 16:08)</a>:</h4>
<p>(because its querying "sess.target.target.options.is_like_msvc", and we should be ... asking that about the host?)</p>



<a name="211278430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211278430" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211278430">(Sep 25 2020 at 16:08)</a>:</h4>
<p>oh yeah sorry I didn't go into details: LLD fixed its wasm interface and it now behaves correctly for its platform, but offers a flag to use the "wrong" interface</p>



<a name="211278455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211278455" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211278455">(Sep 25 2020 at 16:08)</a>:</h4>
<p>what we were doing was correct in LLVM 10</p>



<a name="211278459"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211278459" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211278459">(Sep 25 2020 at 16:08)</a>:</h4>
<p>oh no</p>



<a name="211278488"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211278488" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211278488">(Sep 25 2020 at 16:08)</a>:</h4>
<p>so our behavior here is going to need to be LLVM version dependent?</p>



<a name="211278806"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211278806" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211278806">(Sep 25 2020 at 16:11)</a>:</h4>
<p>I don't think it's a problem because this is <code>rust-lld</code> we build ourselves</p>



<a name="211279010"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211279010" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211279010">(Sep 25 2020 at 16:12)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> ah I think the problem is that the <code>-flavor</code> flag must come first. so maybe put the extra flag at the end?</p>



<a name="211279022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211279022" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211279022">(Sep 25 2020 at 16:12)</a>:</h4>
<p>we have version-specific behavior for llvm already I think so that shouldn't be a problem</p>



<a name="211280534"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211280534" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211280534">(Sep 25 2020 at 16:25)</a>:</h4>
<p><span class="user-mention" data-user-id="125250">@Wesley Wiser</span> <span class="user-mention" data-user-id="116083">@pnkfelix</span> <a href="https://github.com/rust-lang/rust/issues/76466#issuecomment-699024973">https://github.com/rust-lang/rust/issues/76466#issuecomment-699024973</a></p>



<a name="211280892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211280892" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211280892">(Sep 25 2020 at 16:28)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> okay yeah looking in your file, you have <code>Dev\\\\issue\\ 76466\\\\issue_76466</code></p>



<a name="211280907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211280907" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211280907">(Sep 25 2020 at 16:28)</a>:</h4>
<p>which is doubly-escaped because of <code>{:?}</code></p>



<a name="211280932"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211280932" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211280932">(Sep 25 2020 at 16:28)</a>:</h4>
<p>the file contents contain <code>Dev\\issue\ 76466\\issue_76466</code></p>



<a name="211280967"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211280967" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211280967">(Sep 25 2020 at 16:29)</a>:</h4>
<p>the <code>\ </code> is the escaping of a space that doesn't exist on windows. but if we used quotes instead, it should work on both</p>



<a name="211289515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211289515" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211289515">(Sep 25 2020 at 17:38)</a>:</h4>
<p>Can somebody split out this into a different topic within T-compiler?</p>



<a name="211442365"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/211442365" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Rabbit <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#211442365">(Sep 28 2020 at 00:35)</a>:</h4>
<p>Hecking response files strike again. Last time it was MinGW unable to cope with unicode in response files (which I think is still unsolved actually).</p>



<a name="212063321"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/LLD%20breaks%20on%20Windows%20with%20spaces%20in%20filepaths/near/212063321" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> rylev <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/LLD.20breaks.20on.20Windows.20with.20spaces.20in.20filepaths.html#212063321">(Oct 02 2020 at 11:45)</a>:</h4>
<p>I still can't seem to reproduce the issue strangely: </p>
<div class="codehilite"><pre><span></span><code>rustc +nightly-2020-08-24-x86_64-pc-windows-msvc -Vv
rustc 1.47.0-nightly (5180f3da5 2020-08-23)
binary: rustc
commit-hash: 5180f3da5fd72627a8d38558ad1297df38793acd
commit-date: 2020-08-23
host: x86_64-pc-windows-msvc
release: 1.47.0-nightly
LLVM version: 11.0
</code></pre></div>


<div class="codehilite"><pre><span></span><code>rustc +nightly-2020-08-24-x86_64-pc-windows-msvc -Z print-link-args .\src\main.rs --target=wasm32-unknown-unknown
&quot;rust-lld&quot; &quot;-flavor&quot; &quot;wasm&quot; &quot;-z&quot; &quot;stack-size=1048576&quot; &quot;--stack-first&quot; &quot;--allow-undefined&quot; &quot;--fatal-warnings&quot; &quot;--no-demangle&quot; &quot;--export-dynamic&quot; &quot;--no-entry&quot; &quot;-L&quot; &quot;C:\\Users\\ryanl\\.rustup\\toolchains\\nightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib&quot; &quot;-L&quot; &quot;C:\\Users\\ryanl\\.rustup\\toolchains\\nightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib\\self-contained&quot; &quot;main.main.7rcbfp3g-cgu.0.rcgu.o&quot; &quot;main.main.7rcbfp3g-cgu.1.rcgu.o&quot; &quot;main.main.7rcbfp3g-cgu.2.rcgu.o&quot; &quot;main.main.7rcbfp3g-cgu.3.rcgu.o&quot; &quot;main.main.7rcbfp3g-cgu.4.rcgu.o&quot; &quot;main.main.7rcbfp3g-cgu.5.rcgu.o&quot; &quot;-o&quot; &quot;main.wasm&quot; &quot;--export&quot; &quot;main&quot; &quot;--export=__heap_base&quot; &quot;--export=__data_end&quot; &quot;main.4s37gsrti678ik8u.rcgu.o&quot; &quot;--gc-sections&quot; &quot;-O0&quot; &quot;-L&quot; &quot;C:\\Users\\ryanl\\.rustup\\toolchains\\nightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib&quot; &quot;C:\\Users\\ryanl\\.rustup\\toolchains\\nightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib\\libstd-309418924cc86896.rlib&quot; &quot;C:\\Users\\ryanl\\.rustup\\toolchains\\nightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib\\libpanic_abort-1ffa7698d46c0f6f.rlib&quot; &quot;C:\\Users\\ryanl\\.rustup\\toolchains\\nightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib\\libdlmalloc-aea30bd70f109280.rlib&quot; &quot;C:\\Userightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib\\libhashbrown-0503c48f66b4131f.rlib&quot; &quot;C:\\Users\\ryanl\\.rustup\\toolchains\\nightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib\\librustc_std_workspace_alloc-4ca4986e6ba886c2.rlib&quot; &quot;C:\\Users\\ryanl\\.rustup\\toolchains\\nightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib\\libunwind-1ad55e8dd0dc6115.rlib&quot; &quot;C:\\Users\\ryanl\\.rustup\\toolchains\\nightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib\\libcfg_if-db3b174ba92f5740.rlib&quot; &quot;C:\\Users\\ryanl\\.rustup\\toolchains\\nightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib\\liblibc-6686fa3b09a46a74.rlib&quot; &quot;C:\\Users\\ryanl\\.rustup\\toolchains\\nightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib\\liballoc-37f578bb788fa205.rlib&quot; &quot;C:\\Users\\ryanl\\.rustup\\toolchains\\nightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib\\librustc_std_workspace_core-4be17918e075b8f0.rlib&quot; &quot;C:\\Users\\ryanl\\.rustup\\toolchains\\nightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib\\libcore-bedfadb641ae692a.rlib&quot; &quot;C:\\Users\\ryanl\\.rustup\\toolchains\\nightly-2020-08-24-x86_64-pc-windows-msvc\\lib\\rustlib\\wasm32-unknown-unknown\\lib\\libcompiler_builtins-b3896b8b17801e7d.rlib&quot;
</code></pre></div>


<div class="codehilite"><pre><span></span><code>cargo +nightly-2020-08-24-x86_64-pc-windows-msvc build --target=wasm32-unknown-unknown
   Compiling proc-macro2 v1.0.24
   Compiling unicode-xid v0.2.1
   Compiling syn v1.0.42
   Compiling wasm-bindgen-shared v0.2.68
   Compiling log v0.4.11
   Compiling cfg-if v0.1.10
   Compiling bumpalo v3.4.0
   Compiling lazy_static v1.4.0
   Compiling wasm-bindgen v0.2.68
   Compiling quote v1.0.7
   Compiling wasm-bindgen-backend v0.2.68
   Compiling wasm-bindgen-macro-support v0.2.68
   Compiling wasm-bindgen-macro v0.2.68
   Compiling js-sys v0.3.45
   Compiling web-sys v0.3.45
   Compiling issue76466 v0.1.0 (C:\Users\ryanl\Code\this is with spaces\issue76466)
    Finished dev [unoptimized + debuginfo] target(s) in 13.71s
</code></pre></div>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>