<html>
<head><meta charset="utf-8"><title>trait object crate · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html">trait object crate</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="152261744"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152261744" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152261744">(Dec 20 2018 at 15:02)</a>:</h4>
<p><span class="user-mention" data-user-id="124069">@Alexander Regueiro</span> how many crates depend on that traitobject crate?</p>



<a name="152261758"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152261758" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152261758">(Dec 20 2018 at 15:03)</a>:</h4>
<p>I wonder if we can find some other solution</p>



<a name="152261987"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152261987" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152261987">(Dec 20 2018 at 15:06)</a>:</h4>
<p>I was thinking the same</p>



<a name="152261990"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152261990" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152261990">(Dec 20 2018 at 15:06)</a>:</h4>
<p>let me see...</p>



<a name="152262004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262004" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262004">(Dec 20 2018 at 15:06)</a>:</h4>
<p>one extreme possibility might be finding some way to accept the specific thing the traitobject crate does</p>



<a name="152262011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262011">(Dec 20 2018 at 15:06)</a>:</h4>
<p>(e.g., with some form of warning)</p>



<a name="152262016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262016" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262016">(Dec 20 2018 at 15:06)</a>:</h4>
<p>at least for a time</p>



<a name="152262033"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262033" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262033">(Dec 20 2018 at 15:07)</a>:</h4>
<p>I have to go refresh my memory though of what it is doing</p>



<a name="152262163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262163" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262163">(Dec 20 2018 at 15:08)</a>:</h4>
<p>wait, where did the crater run go?</p>



<a name="152262166"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262166" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262166">(Dec 20 2018 at 15:08)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/55994" target="_blank" title="https://github.com/rust-lang/rust/pull/55994">https://github.com/rust-lang/rust/pull/55994</a></p>



<a name="152262172"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262172" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262172">(Dec 20 2018 at 15:08)</a>:</h4>
<p>I thought it owuld be there</p>



<a name="152262210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262210" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262210">(Dec 20 2018 at 15:09)</a>:</h4>
<p>it's in the hidden comments at the middle</p>



<a name="152262231"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262231" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262231">(Dec 20 2018 at 15:10)</a>:</h4>
<p>I'm kind of annoyed to be honest that this guy has carelessly put in silly incoherent impls and then isn't replying to any attempts to fix his crate.</p>



<a name="152262293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262293">(Dec 20 2018 at 15:10)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> right, thanks.</p>



<a name="152262653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262653" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262653">(Dec 20 2018 at 15:16)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> could we get some sort of transitive dependency analysis on crater runs in the future, per chance? :-) like, crater suggesting that large subsets of failures may be due to including a certain crate.</p>



<a name="152262677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262677" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262677">(Dec 20 2018 at 15:16)</a>:</h4>
<p>at the moment you can use <a href="https://github.com/pietroalbini/crater-tree" target="_blank" title="https://github.com/pietroalbini/crater-tree">https://github.com/pietroalbini/crater-tree</a> to do that</p>



<a name="152262679"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262679" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262679">(Dec 20 2018 at 15:16)</a>:</h4>
<p>it's a really big hack, but it sort of works</p>



<a name="152262729"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262729" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262729">(Dec 20 2018 at 15:17)</a>:</h4>
<p>aha</p>



<a name="152262817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262817" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262817">(Dec 20 2018 at 15:18)</a>:</h4>
<p>sometimes that also outputs the right data!</p>



<a name="152262979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152262979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152262979">(Dec 20 2018 at 15:20)</a>:</h4>
<p>anyway, will give it a run, thanks.</p>



<a name="152263410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152263410" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152263410">(Dec 20 2018 at 15:26)</a>:</h4>
<p>holy... this is going to take forever.</p>



<a name="152263448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152263448" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152263448">(Dec 20 2018 at 15:27)</a>:</h4>
<p>creating dummy cargo projects for every regressed crate was the easiest way to get the dependency graphs <em>shrugs</em></p>



<a name="152263565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152263565" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152263565">(Dec 20 2018 at 15:28)</a>:</h4>
<p>some refactorings I'm doing right now should allow crater itself to get this information though</p>



<a name="152263570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152263570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152263570">(Dec 20 2018 at 15:28)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> yeah, I don't doubt it heh. eventually I guess you'll build dependency graph generation into crater itself, but that's a lot more work. ;-)</p>



<a name="152263572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152263572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152263572">(Dec 20 2018 at 15:29)</a>:</h4>
<p>^</p>



<a name="152263604"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152263604" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152263604">(Dec 20 2018 at 15:29)</a>:</h4>
<p>I think the easiest solution is to just get the name of the crate that actually failed from the build logs</p>



<a name="152263696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152263696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152263696">(Dec 20 2018 at 15:30)</a>:</h4>
<p>and soon crater will be able to do that</p>



<a name="152263706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152263706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152263706">(Dec 20 2018 at 15:30)</a>:</h4>
<p>ah</p>



<a name="152263716"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152263716" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152263716">(Dec 20 2018 at 15:30)</a>:</h4>
<p>very good</p>



<a name="152263721"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152263721" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152263721">(Dec 20 2018 at 15:30)</a>:</h4>
<p>that should also allow to categorize regressions by error code</p>



<a name="152263738"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152263738" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152263738">(Dec 20 2018 at 15:30)</a>:</h4>
<p>and to detect regressions in crates that fail to build</p>



<a name="152263802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152263802" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152263802">(Dec 20 2018 at 15:31)</a>:</h4>
<p>yes</p>



<a name="152263808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152263808" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152263808">(Dec 20 2018 at 15:31)</a>:</h4>
<p>would be very useful</p>



<a name="152264760"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152264760" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152264760">(Dec 20 2018 at 15:45)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> here's the output of crater-tree... seems a bit worse than I thought. traitobject is responsible for most failures still (I think?), but there are clearly some other not-so-common crates too.</p>



<a name="152264767"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152264767" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152264767">(Dec 20 2018 at 15:45)</a>:</h4>
<p><a href="https://gist.github.com/d305248be22d77c97c60dc0b1833dd46" target="_blank" title="https://gist.github.com/d305248be22d77c97c60dc0b1833dd46">https://gist.github.com/d305248be22d77c97c60dc0b1833dd46</a></p>



<a name="152326198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152326198" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152326198">(Dec 21 2018 at 12:10)</a>:</h4>
<p>the problem with the traitobject crate is basically</p>
<div class="codehilite"><pre><span></span><span class="k">pub</span><span class="w"> </span><span class="k">unsafe</span><span class="w"> </span><span class="k">trait</span><span class="w"> </span><span class="n">Trait</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="k">unsafe</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">Trait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>::<span class="n">std</span>::<span class="n">marker</span>::<span class="nb">Send</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">Sync</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="k">unsafe</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">Trait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>::<span class="n">std</span>::<span class="n">marker</span>::<span class="nb">Send</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">Send</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">Sync</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
</pre></div>


<p>If we can enable <code>overlapping_marker_traits</code>, then the problem will be solved because there will be no problem with the double impl.</p>



<a name="152326266"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152326266" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152326266">(Dec 21 2018 at 12:12)</a>:</h4>
<p>We might do a point fix that is equivalent to <code>overlapping_marker_traits</code> but only for principal-less trait objects.</p>



<a name="152326305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152326305" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152326305">(Dec 21 2018 at 12:13)</a>:</h4>
<ul>
<li>the feature name is <code>overlapping_marker_traits</code></li>
</ul>



<a name="152560138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152560138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152560138">(Dec 26 2018 at 16:31)</a>:</h4>
<blockquote>
<p>We might do a point fix that is equivalent to <code>overlapping_marker_traits</code> but only for principal-less trait objects.</p>
</blockquote>
<p>that is sort of what I had in mind, <span class="user-mention" data-user-id="126804">@Ariel Ben-Yehuda</span></p>



<a name="152560144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152560144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152560144">(Dec 26 2018 at 16:31)</a>:</h4>
<p>or at least we might do this with a warning period for <em>that</em></p>



<a name="152560197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152560197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152560197">(Dec 26 2018 at 16:32)</a>:</h4>
<p>though I could imagine also just saying "ah screw it, that's ok because back-compat", though it's quite a hack</p>



<a name="152561868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152561868" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152561868">(Dec 26 2018 at 17:14)</a>:</h4>
<p>I'm OK with a warning period, but we might want to try more and more creative ways to reach <code>@reem</code> and ask them to fix it; if that doesn't work I have a controversial solution: we push a point release ourselves by virtue of asking T-crates-io nicely; what the crate does is sorta UB anyways</p>



<a name="152561875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152561875" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152561875">(Dec 26 2018 at 17:15)</a>:</h4>
<p>its assuming ABI details about trait objects; not OK... :P</p>



<a name="152561943"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152561943" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152561943">(Dec 26 2018 at 17:16)</a>:</h4>
<p>I've wondered about that from time to time</p>



<a name="152562035"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152562035" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152562035">(Dec 26 2018 at 17:18)</a>:</h4>
<p>whatever we do I strongly feel that its a bug (that must be fixed) in the type system not to have <code>dyn A + B + A == dyn A + B</code> or <code>dyn A + B == dyn B + A</code> be true</p>



<a name="152562500"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152562500" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152562500">(Dec 26 2018 at 17:29)</a>:</h4>
<p>that seems clear</p>



<a name="152562660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152562660" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152562660">(Dec 26 2018 at 17:32)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> hmm... reem seems like a fellow someone should know personally; maybe they can contact them outside of the internetz?</p>



<a name="152563563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152563563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152563563">(Dec 26 2018 at 17:54)</a>:</h4>
<p>maybe</p>



<a name="152626379"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/152626379" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#152626379">(Dec 27 2018 at 23:35)</a>:</h4>
<p>I've sent an email to @reem to try to speed up the process</p>



<a name="154262442"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154262442" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154262442">(Jan 03 2019 at 19:56)</a>:</h4>
<p>I have the fix working locally</p>



<a name="154262449"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154262449" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154262449">(Jan 03 2019 at 19:56)</a>:</h4>
<p>will push it later today</p>



<a name="154267109"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154267109" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154267109">(Jan 03 2019 at 21:19)</a>:</h4>
<p><span class="user-mention" data-user-id="126804">@Ariel Ben-Yehuda</span> what fix are you doing exactly?</p>



<a name="154269134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154269134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154269134">(Jan 03 2019 at 21:50)</a>:</h4>
<p>Just pushed it</p>



<a name="154269149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154269149" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154269149">(Jan 03 2019 at 21:51)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/56837/commits/ae924b45608a17f859a1576c905c6ac81558e093" target="_blank" title="https://github.com/rust-lang/rust/pull/56837/commits/ae924b45608a17f859a1576c905c6ac81558e093">https://github.com/rust-lang/rust/pull/56837/commits/ae924b45608a17f859a1576c905c6ac81558e093</a></p>



<a name="154269218"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154269218" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154269218">(Jan 03 2019 at 21:52)</a>:</h4>
<p>if you're still online</p>



<a name="154429822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154429822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154429822">(Jan 04 2019 at 19:14)</a>:</h4>
<p><span class="user-mention" data-user-id="126804">@Ariel Ben-Yehuda</span> ah, nice</p>



<a name="154429830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154429830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154429830">(Jan 04 2019 at 19:14)</a>:</h4>
<p>just read it</p>



<a name="154430373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154430373" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154430373">(Jan 04 2019 at 19:22)</a>:</h4>
<p>@nikomatsakis: Would you want to r+ <a href="https://github.com/rust-lang/rust/pull/57335" target="_blank" title="https://github.com/rust-lang/rust/pull/57335">https://github.com/rust-lang/rust/pull/57335</a></p>



<a name="154430375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154430375" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154430375">(Jan 04 2019 at 19:22)</a>:</h4>
<p>to fix that ICE</p>



<a name="154430380"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154430380" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154430380">(Jan 04 2019 at 19:22)</a>:</h4>
<p>or should we wait for <a href="https://github.com/rust-lang/rust/pull/56837" target="_blank" title="https://github.com/rust-lang/rust/pull/56837">https://github.com/rust-lang/rust/pull/56837</a> ?</p>



<a name="154431232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431232">(Jan 04 2019 at 19:36)</a>:</h4>
<p><span class="user-mention" data-user-id="126804">@Ariel Ben-Yehuda</span> what's your opinion?</p>



<a name="154431244"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431244" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431244">(Jan 04 2019 at 19:36)</a>:</h4>
<p>not sure much about the compat risk</p>



<a name="154431258"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431258" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431258">(Jan 04 2019 at 19:36)</a>:</h4>
<p>that's what i'm wondering about — is this a beta regression yet?</p>



<a name="154431259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431259" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431259">(Jan 04 2019 at 19:36)</a>:</h4>
<p>or is still nightly only</p>



<a name="154431260"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431260" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431260">(Jan 04 2019 at 19:36)</a>:</h4>
<p>no</p>



<a name="154431262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431262">(Jan 04 2019 at 19:36)</a>:</h4>
<p>still nightly only</p>



<a name="154431263"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431263" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431263">(Jan 04 2019 at 19:36)</a>:</h4>
<p>ok</p>



<a name="154431277"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431277" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431277">(Jan 04 2019 at 19:37)</a>:</h4>
<p>but merging 56837 means that "traitobject-like, but not exactly traitobject" crates will go to hard error with no warning cycle</p>



<a name="154431281"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431281" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431281">(Jan 04 2019 at 19:37)</a>:</h4>
<p>I'm <em>maybe</em> inclined to land <a href="https://github.com/rust-lang/rust/issues/56837" target="_blank" title="https://github.com/rust-lang/rust/issues/56837">#56837</a> — I guess I have to check but iirc the code felt pretty clean</p>



<a name="154431289"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431289" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431289">(Jan 04 2019 at 19:37)</a>:</h4>
<p>in that case, let me merge the test</p>



<a name="154431292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431292" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431292">(Jan 04 2019 at 19:37)</a>:</h4>
<p>and the log changes</p>



<a name="154431307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431307" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431307">(Jan 04 2019 at 19:37)</a>:</h4>
<p>I don't think we've seen such crates in crater runs, though of course they might be outside the scope of crater</p>



<a name="154431310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431310" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431310">(Jan 04 2019 at 19:37)</a>:</h4>
<p>sure</p>



<a name="154431312"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431312" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431312">(Jan 04 2019 at 19:37)</a>:</h4>
<p>I guess it seems like something people are not <em>that</em> likely to abuse to me?</p>



<a name="154431313"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431313" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431313">(Jan 04 2019 at 19:37)</a>:</h4>
<p>but you never know</p>



<a name="154431315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431315" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431315">(Jan 04 2019 at 19:37)</a>:</h4>
<p>I think that's the main question</p>



<a name="154431322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431322">(Jan 04 2019 at 19:37)</a>:</h4>
<p>we didn't think anything like traitobject would exist</p>



<a name="154431326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431326">(Jan 04 2019 at 19:38)</a>:</h4>
<p>indeed :)</p>



<a name="154431377"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431377" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431377">(Jan 04 2019 at 19:38)</a>:</h4>
<p>I guess the alternative is to land the ICE fix</p>



<a name="154431382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431382" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431382">(Jan 04 2019 at 19:38)</a>:</h4>
<p>and do a crater run on <a href="https://github.com/rust-lang/rust/issues/56837" target="_blank" title="https://github.com/rust-lang/rust/issues/56837">#56837</a> to gather more data?</p>



<a name="154431383"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431383" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431383">(Jan 04 2019 at 19:38)</a>:</h4>
<p>did we already do a crater run?</p>



<a name="154431386"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431386" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431386">(Jan 04 2019 at 19:38)</a>:</h4>
<p>yea</p>



<a name="154431387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431387">(Jan 04 2019 at 19:38)</a>:</h4>
<p>I can't remember</p>



<a name="154431388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431388">(Jan 04 2019 at 19:38)</a>:</h4>
<p>ok</p>



<a name="154431390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431390" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431390">(Jan 04 2019 at 19:38)</a>:</h4>
<p>so no more data to be had</p>



<a name="154431391"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431391" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431391">(Jan 04 2019 at 19:38)</a>:</h4>
<p>and it discovered that the only issue was traitobject</p>



<a name="154431393"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431393" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431393">(Jan 04 2019 at 19:38)</a>:</h4>
<p>please do not start crater run right now</p>



<a name="154431395"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431395" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431395">(Jan 04 2019 at 19:38)</a>:</h4>
<p>then I feel like we'll never know more than we do now</p>



<a name="154431399"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431399" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431399">(Jan 04 2019 at 19:38)</a>:</h4>
<p>well I guess the point is they would at least have a warning cycle</p>



<a name="154431411"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431411" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431411">(Jan 04 2019 at 19:39)</a>:</h4>
<p>why?</p>



<a name="154431417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431417">(Jan 04 2019 at 19:39)</a>:</h4>
<p>how much time until the next beta release?</p>



<a name="154431420"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431420" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431420">(Jan 04 2019 at 19:39)</a>:</h4>
<p>2 weeks</p>



<a name="154431437"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431437" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431437">(Jan 04 2019 at 19:39)</a>:</h4>
<p>that's why the "land <a href="https://github.com/rust-lang/rust/issues/57335" target="_blank" title="https://github.com/rust-lang/rust/issues/57335">#57335</a> to fix ICE, wait 2 weeks, then land <a href="https://github.com/rust-lang/rust/issues/56837" target="_blank" title="https://github.com/rust-lang/rust/issues/56837">#56837</a>" approach is tempting</p>



<a name="154431440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431440">(Jan 04 2019 at 19:39)</a>:</h4>
<p>have to deploy a change, should take a few minutes</p>



<a name="154431441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431441">(Jan 04 2019 at 19:39)</a>:</h4>
<p>it will give us that 6 week warning cycle</p>



<a name="154431442"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431442" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431442">(Jan 04 2019 at 19:39)</a>:</h4>
<p>if these theoretical crates are testing against nightly, they'll have already started seeing warnings, right?</p>



<a name="154431444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431444">(Jan 04 2019 at 19:39)</a>:</h4>
<p>sure</p>



<a name="154431491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431491">(Jan 04 2019 at 19:40)</a>:</h4>
<blockquote>
<p>that's why the "land <a href="https://github.com/rust-lang/rust/issues/57335" target="_blank" title="https://github.com/rust-lang/rust/issues/57335">#57335</a> to fix ICE, wait 2 weeks, then land <a href="https://github.com/rust-lang/rust/issues/56837" target="_blank" title="https://github.com/rust-lang/rust/issues/56837">#56837</a>" approach is tempting</p>
</blockquote>
<p>yeah I mean it is the conservative thing to do</p>



<a name="154431496"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431496" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431496">(Jan 04 2019 at 19:40)</a>:</h4>
<p>I guess the question is how much stuff is "blocked" on <a href="https://github.com/rust-lang/rust/issues/56837" target="_blank" title="https://github.com/rust-lang/rust/issues/56837">#56837</a></p>



<a name="154431507"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431507" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431507">(Jan 04 2019 at 19:40)</a>:</h4>
<p>I would prefer to land @alexreg's PR after <a href="https://github.com/rust-lang/rust/issues/56837" target="_blank" title="https://github.com/rust-lang/rust/issues/56837">#56837</a></p>



<a name="154431512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431512">(Jan 04 2019 at 19:40)</a>:</h4>
<p>it has some cross-cutting concerns</p>



<a name="154431514"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431514" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431514">(Jan 04 2019 at 19:40)</a>:</h4>
<p>that's the thing I was thinking about</p>



<a name="154431533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431533" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431533">(Jan 04 2019 at 19:41)</a>:</h4>
<p>(cc <span class="user-mention" data-user-id="124069">@Alexander Regueiro</span> )</p>



<a name="154431541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431541" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431541">(Jan 04 2019 at 19:41)</a>:</h4>
<p>I'm not sure how critical is landing his PR in the next 2 weeks</p>



<a name="154431550"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431550" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431550">(Jan 04 2019 at 19:41)</a>:</h4>
<p>well, it's just been open for a long time</p>



<a name="154431554"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431554" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431554">(Jan 04 2019 at 19:41)</a>:</h4>
<p>sure</p>



<a name="154431557"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431557" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431557">(Jan 04 2019 at 19:41)</a>:</h4>
<p>I'm not sure it's <em>criticial</em>, I think it's all specific to trait aliases</p>



<a name="154431617"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431617" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431617">(Jan 04 2019 at 19:42)</a>:</h4>
<p>otoh the question is how likely it is that there is a crater which:</p>
<ul>
<li>is trait object like</li>
<li>is not covered by crater</li>
<li>is not testing against nightly or is ignoring warnings</li>
</ul>
<p>hard to say...</p>



<a name="154431628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431628">(Jan 04 2019 at 19:42)</a>:</h4>
<p>it seems clear that if we landed <a href="https://github.com/rust-lang/rust/issues/56837" target="_blank" title="https://github.com/rust-lang/rust/issues/56837">#56837</a> we will not "break the ecosystem"</p>



<a name="154431635"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431635" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431635">(Jan 04 2019 at 19:42)</a>:</h4>
<p>sure</p>



<a name="154431639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431639">(Jan 04 2019 at 19:42)</a>:</h4>
<p>I'm always afraid of something like "we break winapi"</p>



<a name="154431645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431645">(Jan 04 2019 at 19:42)</a>:</h4>
<p>since that is not tested on crater</p>



<a name="154431647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431647" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431647">(Jan 04 2019 at 19:42)</a>:</h4>
<p>:)</p>



<a name="154431661"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431661" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431661">(Jan 04 2019 at 19:43)</a>:</h4>
<p>(I think we test that specific crate now anyway, but you know what I mean)</p>



<a name="154431666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431666" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431666">(Jan 04 2019 at 19:43)</a>:</h4>
<p>but we would have knew <em>that</em></p>



<a name="154431670"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431670" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431670">(Jan 04 2019 at 19:43)</a>:</h4>
<p>right, hopefully</p>



<a name="154431671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431671">(Jan 04 2019 at 19:43)</a>:</h4>
<p>because winapi runs on windows</p>



<a name="154431672"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431672" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431672">(Jan 04 2019 at 19:43)</a>:</h4>
<p>(we don't test winapi on crater)</p>



<a name="154431683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431683" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431683">(Jan 04 2019 at 19:43)</a>:</h4>
<p>I know we don't test on crater</p>



<a name="154431687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431687" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431687">(Jan 04 2019 at 19:43)</a>:</h4>
<p>but I think we test it somewhere else?</p>



<a name="154431692"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431692" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431692">(Jan 04 2019 at 19:43)</a>:</h4>
<p>(as part of bors?)</p>



<a name="154431694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431694" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431694">(Jan 04 2019 at 19:43)</a>:</h4>
<p>or maybe I'm misremembering</p>



<a name="154431696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431696">(Jan 04 2019 at 19:43)</a>:</h4>
<p>we've talked about it</p>



<a name="154431883"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154431883" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154431883">(Jan 04 2019 at 19:46)</a>:</h4>
<p>I think we test it in bors</p>



<a name="154432042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154432042" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154432042">(Jan 04 2019 at 19:48)</a>:</h4>
<p>so what we'll do?/</p>



<a name="154432089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154432089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154432089">(Jan 04 2019 at 19:49)</a>:</h4>
<p>I'm sort of inclined to land <a href="https://github.com/rust-lang/rust/issues/56837" target="_blank" title="https://github.com/rust-lang/rust/issues/56837">#56837</a></p>



<a name="154432099"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154432099" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154432099">(Jan 04 2019 at 19:49)</a>:</h4>
<p>even though I guess prudence would push towards the other path</p>



<a name="154432175"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154432175" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154432175">(Jan 04 2019 at 19:50)</a>:</h4>
<p>in particular, it feels like a clear bug fix, and fixing the affected code is pretty easy (kill the second impl)</p>



<a name="154432182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154432182" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154432182">(Jan 04 2019 at 19:50)</a>:</h4>
<p>the main concern is that it'll be some dependency that's hard to fix</p>



<a name="154432193"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154432193" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154432193">(Jan 04 2019 at 19:50)</a>:</h4>
<p>and I <em>think</em> I consider that unlikely at this point given the crater results</p>



<a name="154432215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154432215" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154432215">(Jan 04 2019 at 19:51)</a>:</h4>
<p>sure</p>



<a name="154432233"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154432233" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154432233">(Jan 04 2019 at 19:51)</a>:</h4>
<p>that sounds like an ok idea</p>



<a name="154432250"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154432250" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154432250">(Jan 04 2019 at 19:51)</a>:</h4>
<p>let's go with that? I'll cherry-pick the improvements</p>



<a name="154432348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154432348" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154432348">(Jan 04 2019 at 19:52)</a>:</h4>
<p>ok</p>



<a name="154432352"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154432352" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154432352">(Jan 04 2019 at 19:52)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span></p>



<a name="154432387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154432387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154432387">(Jan 04 2019 at 19:53)</a>:</h4>
<p>pushed</p>



<a name="154436148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154436148" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154436148">(Jan 04 2019 at 20:47)</a>:</h4>
<p><span class="user-mention" data-user-id="126804">@Ariel Ben-Yehuda</span> did you plan to fix <a href="https://github.com/rust-lang/rust/issues/56934" target="_blank" title="https://github.com/rust-lang/rust/issues/56934">https://github.com/rust-lang/rust/issues/56934</a> in a follow-up PR?</p>



<a name="154436192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154436192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154436192">(Jan 04 2019 at 20:48)</a>:</h4>
<p>seems like it's worth closing sooner rather than later</p>



<a name="154437027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154437027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154437027">(Jan 04 2019 at 21:03)</a>:</h4>
<p>yes</p>



<a name="154437030"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154437030" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154437030">(Jan 04 2019 at 21:03)</a>:</h4>
<p>I'll do it now</p>



<a name="154437078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154437078" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154437078">(Jan 04 2019 at 21:04)</a>:</h4>
<p>but <a href="https://github.com/rust-lang/rust/issues/56837" target="_blank" title="https://github.com/rust-lang/rust/issues/56837">#56837</a> is already growing a bit too big</p>



<a name="154437085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154437085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ariel Ben-Yehuda <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154437085">(Jan 04 2019 at 21:04)</a>:</h4>
<p>and I'll like to crater that other PR</p>



<a name="154437463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154437463" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154437463">(Jan 04 2019 at 21:12)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> sorry, I can't see what you CCed me on. (Zulip UI is terrible, eh...)</p>



<a name="154437506"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154437506" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154437506">(Jan 04 2019 at 21:12)</a>:</h4>
<p>something about that regression?</p>



<a name="154437530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154437530" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154437530">(Jan 04 2019 at 21:12)</a>:</h4>
<p><span class="user-mention" data-user-id="124069">@Alexander Regueiro</span> the context is that <a href="https://github.com/rust-lang/rust/issues/56837" target="_blank" title="https://github.com/rust-lang/rust/issues/56837">#56837</a> will land and it intersects the trait alias PR you've been working on; might be good to rebase that atop <a href="https://github.com/rust-lang/rust/issues/56837" target="_blank" title="https://github.com/rust-lang/rust/issues/56837">#56837</a></p>



<a name="154437560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154437560" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154437560">(Jan 04 2019 at 21:13)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> oh, I guess you didn't see my PM. :-)</p>



<a name="154437626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154437626" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Regueiro <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154437626">(Jan 04 2019 at 21:14)</a>:</h4>
<p>(from yesterday)</p>



<a name="154438278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/trait%20object%20crate/near/154438278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> davidtwco <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/trait.20object.20crate.html#154438278">(Jan 04 2019 at 21:24)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> sorry, I can't see what you CCed me on. (Zulip UI is terrible, eh...)</p>
</blockquote>
<p>You can click the mentions button in the top left sidebar and it'll show all of your mentions for all of time, if you click on a message that mentions you so it is highlighted then click on the topic name just above it'll take you to the full conversation and the context.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>