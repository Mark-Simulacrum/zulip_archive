<html>
<head><meta charset="utf-8"><title>Requesting a check on #74767 · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Requesting.20a.20check.20on.20.2374767.html">Requesting a check on #74767</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="205201879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Requesting%20a%20check%20on%20%2374767/near/205201879" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Requesting.20a.20check.20on.20.2374767.html#205201879">(Jul 28 2020 at 06:29)</a>:</h4>
<p>Hello, could someone who knows about the compiler check on <a href="https://github.com/rust-lang/rust/issues/74767">#74767</a>.</p>
<p>I'm more than happy to file a PR to change the data-layout string for the target if that really is the issue, but I simply don't know enough about how the compiler works to know if that's actually the issue or if something else is going wrong such that the compiler gets confused and basically prints the wrong error message.</p>



<a name="205203849"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Requesting%20a%20check%20on%20%2374767/near/205203849" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Requesting.20a.20check.20on.20.2374767.html#205203849">(Jul 28 2020 at 07:13)</a>:</h4>
<p>Try changing the string and using the resulting target to build something</p>



<a name="205203917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Requesting%20a%20check%20on%20%2374767/near/205203917" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Requesting.20a.20check.20on.20.2374767.html#205203917">(Jul 28 2020 at 07:14)</a>:</h4>
<p>This is a target recently PR'd to be in rustc's target list. I don't know how to change the target string of a built-in target short of actually merging a PR.</p>



<a name="205203932"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Requesting%20a%20check%20on%20%2374767/near/205203932" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Requesting.20a.20check.20on.20.2374767.html#205203932">(Jul 28 2020 at 07:15)</a>:</h4>
<p>You can build rustc locally</p>



<a name="205203952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Requesting%20a%20check%20on%20%2374767/near/205203952" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Requesting.20a.20check.20on.20.2374767.html#205203952">(Jul 28 2020 at 07:15)</a>:</h4>
<p>oh right</p>



<a name="205420772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Requesting%20a%20check%20on%20%2374767/near/205420772" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Requesting.20a.20check.20on.20.2374767.html#205420772">(Jul 29 2020 at 22:22)</a>:</h4>
<p>Turns out (1) I cannot build rust locally (2) a friend of mine could build rustc locally but couldn't use the build-std feature (3) after 10 minutes of symlink nonsense they were able to get it to build-std.</p>



<a name="205421925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Requesting%20a%20check%20on%20%2374767/near/205421925" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Requesting.20a.20check.20on.20.2374767.html#205421925">(Jul 29 2020 at 22:36)</a>:</h4>
<p>why can you not build rustc?</p>



<a name="205421934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Requesting%20a%20check%20on%20%2374767/near/205421934" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Requesting.20a.20check.20on.20.2374767.html#205421934">(Jul 29 2020 at 22:36)</a>:</h4>
<p>is that a Rust issue or something local?</p>



<a name="205422093"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Requesting%20a%20check%20on%20%2374767/near/205422093" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Requesting.20a.20check.20on.20.2374767.html#205422093">(Jul 29 2020 at 22:39)</a>:</h4>
<p>my linux cloud computer "only" had 6GB of spare space, and rustc eats more than that just to unpack all the dependencies.</p>



<a name="205422231"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Requesting%20a%20check%20on%20%2374767/near/205422231" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokathor <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Requesting.20a.20check.20on.20.2374767.html#205422231">(Jul 29 2020 at 22:41)</a>:</h4>
<p>Also it turns out that "ran out of disk space" isn't something that <code>x.py</code> ever seems to have expected so it puts the <code>x.py build</code> process into a rather bad error state with weird exception messages.</p>



<a name="205422404"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Requesting%20a%20check%20on%20%2374767/near/205422404" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Requesting.20a.20check.20on.20.2374767.html#205422404">(Jul 29 2020 at 22:43)</a>:</h4>
<p>ah</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>