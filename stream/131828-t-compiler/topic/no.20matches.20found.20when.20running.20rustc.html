<html>
<head><meta charset="utf-8"><title>no matches found when running rustc · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html">no matches found when running rustc</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="210052446"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210052446" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210052446">(Sep 14 2020 at 19:33)</a>:</h4>
<p>I'm sure I'm doing something stupid, because I haven't compiled rustc in a while, but when I try running rustc, all I get is the following message:</p>
<div class="codehilite"><pre><span></span><code>rust/build/x86_64-apple-darwin/stage1/bin/rustc:1: no matches found: Some(0)
</code></pre></div>


<p>However, the test suite runs fine: it's just executing it manually that has issues. Did something change?</p>



<a name="210052552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210052552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210052552">(Sep 14 2020 at 19:34)</a>:</h4>
<p>that is ... very odd error</p>



<a name="210052574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210052574" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210052574">(Sep 14 2020 at 19:34)</a>:</h4>
<p>I couldn't find that string in rustc, so I'm not sure where it's coming from.</p>



<a name="210052575"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210052575" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210052575">(Sep 14 2020 at 19:34)</a>:</h4>
<p>I'd try maybe deleting that file and re-running bootstrap?</p>



<a name="210052600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210052600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210052600">(Sep 14 2020 at 19:35)</a>:</h4>
<p>I tried deleting rustc and recompiling, but the result was the same.</p>



<a name="210052640"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210052640" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210052640">(Sep 14 2020 at 19:35)</a>:</h4>
<p>hm and the error comes from ./build/x86_64-apple-darwin/stage1/bin/rustc?</p>



<a name="210052740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210052740" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210052740">(Sep 14 2020 at 19:36)</a>:</h4>
<p>one thing to try might be to rebase atop <a href="https://github.com/rust-lang/rust/pull/76708">https://github.com/rust-lang/rust/pull/76708</a></p>



<a name="210052776"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210052776" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210052776">(Sep 14 2020 at 19:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc/near/210052640">said</a>:</p>
<blockquote>
<p>hm and the error comes from ./build/x86_64-apple-darwin/stage1/bin/rustc?</p>
</blockquote>
<p>Yes</p>



<a name="210052807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210052807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210052807">(Sep 14 2020 at 19:36)</a>:</h4>
<p>If I link it to rustup, and then use <code>rustc +stage1</code>, it seems to work fine.</p>



<a name="210052937"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210052937" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210052937">(Sep 14 2020 at 19:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc/near/210052740">said</a>:</p>
<blockquote>
<p>one thing to try might be to rebase atop <a href="https://github.com/rust-lang/rust/pull/76708">https://github.com/rust-lang/rust/pull/76708</a></p>
</blockquote>
<p>Since I've just seen that rustup provides a workaround for now, I'll use that, and see if something changes when that PR is merged.</p>



<a name="210053029"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210053029" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210053029">(Sep 14 2020 at 19:38)</a>:</h4>
<p>weird</p>



<a name="210053676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210053676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210053676">(Sep 14 2020 at 19:44)</a>:</h4>
<p>There are other odd things going on: for instance, many of the diagnostics for error messages seem to be duplicated.</p>



<a name="210053757"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210053757" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210053757">(Sep 14 2020 at 19:45)</a>:</h4>
<p>Maybe I need to wipe everything and start again.</p>



<a name="210053792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210053792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lcnr <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210053792">(Sep 14 2020 at 19:45)</a>:</h4>
<p>the duplicated diagnostics is something I have as well <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="210053868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210053868" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210053868">(Sep 14 2020 at 19:46)</a>:</h4>
<p>Oh, okay.</p>



<a name="210053974"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210053974" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210053974">(Sep 14 2020 at 19:47)</a>:</h4>
<p>Duplicated diagnostics, hopefully, are not my fault :)</p>



<a name="210059711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210059711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> NeoRaider <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210059711">(Sep 14 2020 at 20:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="121053">varkor</span> <a href="#narrow/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc/near/210052446">said</a>:</p>
<blockquote>
<div class="codehilite"><pre><span></span><code>rust/build/x86_64-apple-darwin/stage1/bin/rustc:1: no matches found: Some(0)
</code></pre></div>


</blockquote>
<p>"no matches found" looks like the error message that zsh emits for globs that don't match anything when the nomatch option is set. Maybe your system is attempting to interpret the binary as a shell script for some reason?</p>



<a name="210061608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210061608" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210061608">(Sep 14 2020 at 20:52)</a>:</h4>
<p><span class="user-mention" data-user-id="294290">@NeoRaider</span>: ah, you're right, thank you! It seems to be zsh-related, but I'm not sure why it's suddenly treating rustc like that.</p>



<a name="210062034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/no%20matches%20found%20when%20running%20rustc/near/210062034" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/no.20matches.20found.20when.20running.20rustc.html#210062034">(Sep 14 2020 at 20:55)</a>:</h4>
<p>After opening another shell, it works fine. Thanks, I'm not sure how long it would have taken me to think that was the issue.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>