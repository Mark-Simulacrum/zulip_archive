<html>
<head><meta charset="utf-8"><title>x.py test folder · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html">x.py test folder</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="165377808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165377808" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165377808">(May 10 2019 at 22:52)</a>:</h4>
<p>why does <code>./x.py test src/test/ui/subfolder</code> run every single ui test, rather than just those in the subfolder?</p>



<a name="165377833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165377833" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165377833">(May 10 2019 at 22:53)</a>:</h4>
<p>I have the feeling that, at one point, giving an exact path would only run that path, but maybe I'm imagining things</p>



<a name="165378111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165378111" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165378111">(May 10 2019 at 22:59)</a>:</h4>
<p><span class="user-mention" data-user-id="121053">@varkor</span> you can use <code>--test-args</code> for now; supporting folders would be neat</p>



<a name="165378858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165378858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165378858">(May 10 2019 at 23:15)</a>:</h4>
<p>yeah, I know about <code>--test-args</code>, but it seems unnecessary really</p>



<a name="165378917"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165378917" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165378917">(May 10 2019 at 23:16)</a>:</h4>
<p><span class="user-mention" data-user-id="121053">@varkor</span> I think if you give the file path then it'll work but we don't support folders</p>



<a name="165378920"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165378920" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165378920">(May 10 2019 at 23:16)</a>:</h4>
<p>really all of the filtering logic is highly ... questionable</p>



<a name="165378922"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165378922" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165378922">(May 10 2019 at 23:17)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span>: I've just noticed this</p>



<a name="165378949"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165378949" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165378949">(May 10 2019 at 23:17)</a>:</h4>
<p>so in theory <code>folder/**/*.rs</code> if you use shell with that kind of expansion</p>



<a name="165379054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165379054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165379054">(May 10 2019 at 23:19)</a>:</h4>
<p>ah, I'll give that a try</p>



<a name="165379272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165379272" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165379272">(May 10 2019 at 23:22)</a>:</h4>
<p>I've opened <a href="https://github.com/rust-lang/rust/issues/60718" target="_blank" title="https://github.com/rust-lang/rust/issues/60718">https://github.com/rust-lang/rust/issues/60718</a>, as I didn't see a pre-existing issue</p>



<a name="165379861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165379861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165379861">(May 10 2019 at 23:30)</a>:</h4>
<p>well, I have a very simple fix for it that works for me</p>



<a name="165379879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165379879" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165379879">(May 10 2019 at 23:30)</a>:</h4>
<p>I'm not quite sure how it's interacting with <code>--test-args</code></p>



<a name="165379891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165379891" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165379891">(May 10 2019 at 23:31)</a>:</h4>
<p>but who needs <code>--test-args</code> with this anyway</p>



<a name="165379899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165379899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165379899">(May 10 2019 at 23:31)</a>:</h4>
<p><span class="user-mention" data-user-id="121053">@varkor</span> don't you dare take away <code>--test-args</code> :P</p>



<a name="165379982"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165379982" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165379982">(May 10 2019 at 23:33)</a>:</h4>
<p>oh, I see — if a full path is specified, it overrides <code>--test-args</code></p>



<a name="165380436"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165380436" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165380436">(May 10 2019 at 23:40)</a>:</h4>
<p>are you supposed to be able to specify multiple <code>--test-args</code>?</p>



<a name="165380548"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165380548" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165380548">(May 10 2019 at 23:43)</a>:</h4>
<p><span class="user-mention" data-user-id="121053">@varkor</span>  did you try?</p>



<a name="165380559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165380559" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165380559">(May 10 2019 at 23:43)</a>:</h4>
<p>it seems the second one is ignored</p>



<a name="165380565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165380565" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165380565">(May 10 2019 at 23:43)</a>:</h4>
<p>just wanted to make sure that was everyone else's understanding</p>



<a name="165380572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165380572" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165380572">(May 10 2019 at 23:43)</a>:</h4>
<p><span class="user-mention" data-user-id="121053">@varkor</span>  software...</p>



<a name="165380574"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165380574" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165380574">(May 10 2019 at 23:43)</a>:</h4>
<p>it means that specifying a subfolder will mean <code>--test-args</code> is ignored</p>



<a name="165380577"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165380577" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165380577">(May 10 2019 at 23:43)</a>:</h4>
<p>but it's still an improvement over before</p>



<a name="165380584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20test%20folder/near/165380584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/x.2Epy.20test.20folder.html#165380584">(May 10 2019 at 23:43)</a>:</h4>
<p>might quickly look into fixing that too</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>