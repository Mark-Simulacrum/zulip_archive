<html>
<head><meta charset="utf-8"><title>Trait-bound hint for unary operator in closure · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Trait-bound.20hint.20for.20unary.20operator.20in.20closure.html">Trait-bound hint for unary operator in closure</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="274404219"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Trait-bound%20hint%20for%20unary%20operator%20in%20closure/near/274404219" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ole Strohm <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Trait-bound.20hint.20for.20unary.20operator.20in.20closure.html#274404219">(Mar 07 2022 at 15:06)</a>:</h4>
<p>Hi, I've been looking into the issue I posted: <a href="https://github.com/rust-lang/rust/issues/94543">https://github.com/rust-lang/rust/issues/94543</a><br>
And I've got something that mostly fixes the error output at the end, though it doesn't fix the original issue, so there seem to be two issues.</p>
<p>My approach was basically to copy the logic for missing_trait from <code>check_overloaded_binop</code> to <code>check_user_unop</code>, and this seems to be working. However I'm not sure what to do about the Deref operator, since this can match to either Deref or DerefMut, and I don't know how to figure out whether the code needs a mutable or immutable deref, or if that's even available at this point in the compilation process?</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>