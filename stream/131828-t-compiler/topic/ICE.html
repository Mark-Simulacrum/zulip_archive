<html>
<head><meta charset="utf-8"><title>ICE Â· t-compiler Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ICE.html">ICE</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="253840612"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ICE/near/253840612" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shirshak Bajgain <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ICE.html#253840612">(Sep 18 2021 at 05:18)</a>:</h4>
<p>I recently got an error while compiling the substrate repo. Should I report it or not?</p>
<div class="codehilite"><pre><span></span><code>substrate-node-template via ðŸ¦€ v1.57.0-nightly âœ—  cargo run -- --dev --tmp
warning: /home/quantum/Desktop/projects/blockchain/substrate-node-template/runtime/Cargo.toml: version requirement `3.0.0-monthly-2021-09+1` for dependency `pallet-template` includes semver metadata which will be ignored, removing the metadata is recommended to avoid confusion
warning: /home/quantum/Desktop/projects/blockchain/substrate-node-template/node/Cargo.toml: version requirement `3.0.0-monthly-2021-09+1` for dependency `node-template-runtime` includes semver metadata which will be ignored, removing the metadata is recommended to avoid confusion
    Updating git repository `https://github.com/paritytech/substrate.git`
   Compiling node-template-runtime v3.0.0-monthly-2021-09+1 (/home/quantum/Desktop/projects/blockchain/substrate-node-template/runtime)
   Compiling node-template v3.0.0-monthly-2021-09+1 (/home/quantum/Desktop/projects/blockchain/substrate-node-template/node)
error: internal compiler error: encountered incremental compilation error with evaluate_obligation(656c2f434dba2d88-7e463fb72c1233f7)
  |
  = help: This is a known issue with the compiler. Run `cargo clean -p node_template` or `cargo clean` to allow your project to compile
  = note: Please follow the instructions below to create a bug report with the provided information
  = note: See &lt;https://github.com/rust-lang/rust/issues/84970&gt; for more information

thread &#39;rustc&#39; panicked at &#39;Found unstable fingerprints for evaluate_obligation(656c2f434dba2d88-7e463fb72c1233f7): Ok(EvaluatedToOkModuloRegions)&#39;, /rustc/e4828d5b7f745a9e867a9b0cc7f080f287bcf55d/compiler/rustc_query_system/src/query/plumbing.rs:632:13
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

error: internal compiler error: unexpected panic

note: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&amp;template=ice.md

note: rustc 1.57.0-nightly (e4828d5b7 2021-09-16) running on x86_64-unknown-linux-gnu

note: compiler flags: -C embed-bitcode=no -C debuginfo=2 -C incremental --crate-type lib

note: some of the compiler flags provided by cargo are hidden

query stack during panic:
#0 [evaluate_obligation] evaluating trait selection obligation `sc_finality_grandpa::until_imported::BlockGlobalMessage&lt;sp_runtime::generic::Block&lt;sp_runtime::generic::Header&lt;u32, sp_runtime::traits::BlakeTwo256&gt;, sp_runtime::OpaqueExtrinsic&gt;&gt;: std::marker::Sized`
#1 [normalize_projection_ty] normalizing `Canonical { max_universe: U0, variables: [], value: ParamEnvAnd { param_env: ParamEnv { caller_bounds: [], reveal: All }, value: ProjectionTy { substs: [sc_finality_grandpa::until_imported::UntilImported&lt;sp_runtime::generic::Block&lt;sp_runtime::generic::Header&lt;u32, sp_runtime::traits::BlakeTwo256&gt;, sp_runtime::OpaqueExtrinsic&gt;, sc_service::Arc&lt;sc_service::client::client::Client&lt;sc_client_db::Backend&lt;sp_runtime::generic::Block&lt;sp_runtime::generic::Header&lt;u32, sp_runtime::traits::BlakeTwo256&gt;, sp_runtime::OpaqueExtrinsic&gt;&gt;, sc_service::LocalCallExecutor&lt;sp_runtime::generic::Block&lt;sp_runtime::generic::Header&lt;u32, sp_runtime::traits::BlakeTwo256&gt;, sp_runtime::OpaqueExtrinsic&gt;, sc_client_db::Backend&lt;sp_runtime::generic::Block&lt;sp_runtime::generic::Header&lt;u32, sp_runtime::traits::BlakeTwo256&gt;, sp_runtime::OpaqueExtrinsic&gt;&gt;, sc_executor::NativeElseWasmExecutor&lt;service::ExecutorDispatch&gt;&gt;, sp_runtime::generic::Block&lt;sp_runtime::generic::Header&lt;u32, sp_runtime::traits::BlakeTwo256&gt;, sp_runtime::OpaqueExtrinsic&gt;, node_template_runtime::RuntimeApi&gt;&gt;, sc_finality_grandpa::communication::NetworkBridge&lt;sp_runtime::generic::Block&lt;sp_runtime::generic::Header&lt;u32, sp_runtime::traits::BlakeTwo256&gt;, sp_runtime::OpaqueExtrinsic&gt;, sc_service::Arc&lt;sc_network::service::NetworkService&lt;sp_runtime::generic::Block&lt;sp_runtime::generic::Header&lt;u32, sp_runtime::traits::BlakeTwo256&gt;, sp_runtime::OpaqueExtrinsic&gt;, sp_core::H256&gt;&gt;&gt;, jsonrpc_core::futures::stream::FilterMap&lt;jsonrpc_core::futures::stream::FilterMap&lt;jsonrpc_core::futures::futures_channel::mpsc::Receiver&lt;sc_network_gossip::state_machine::TopicNotification&gt;, jsonrpc_core::futures::future::Ready&lt;std::option::Option&lt;(sc_network_gossip::state_machine::TopicNotification, sc_finality_grandpa::communication::gossip::GossipMessage&lt;sp_runtime::generic::Block&lt;sp_runtime::generic::Header&lt;u32, sp_runtime::traits::BlakeTwo256&gt;, sp_runtime::OpaqueExtrinsic&gt;&gt;)&gt;&gt;, [closure@sc_finality_grandpa::communication::incoming_global&lt;sp_runtime::generic::Block&lt;sp_runtime::generic::Header&lt;u32, sp_runtime::traits::BlakeTwo256&gt;, sp_runtime::OpaqueExtrinsic&gt;&gt;::{closure#2}]&gt;, jsonrpc_core::futures::future::Ready&lt;std::option::Option&lt;finality_grandpa::voter::CommunicationIn&lt;sp_core::H256, u32, sp_finality_grandpa::app::Signature, sp_finality_grandpa::app::Public&gt;&gt;&gt;, [closure@sc_finality_grandpa::communication::incoming_global&lt;sp_runtime::generic::Block&lt;sp_runtime::generic::Header&lt;u32, sp_runtime::traits::BlakeTwo256&gt;, sp_runtime::OpaqueExtrinsic&gt;&gt;::{closure#3}]&gt;, sc_finality_grandpa::until_imported::BlockGlobalMessage&lt;sp_runtime::generic::Block&lt;sp_runtime::generic::Header&lt;u32, sp_runtime::traits::BlakeTwo256&gt;, sp_runtime::OpaqueExtrinsic&gt;&gt;&gt;], item_def_id: DefId(171:128 ~ futures_core[bda1]::stream::TryStream::Ok) } } }`
end of query stack
error: could not compile `node-template` due to previous error
</code></pre></div>



<a name="253850167"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ICE/near/253850167" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jacob Pratt <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ICE.html#253850167">(Sep 18 2021 at 08:11)</a>:</h4>
<p>I would say no need to report because it says "this is a known issue with the compiler".</p>



<a name="253855797"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ICE/near/253855797" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ICE.html#253855797">(Sep 18 2021 at 09:50)</a>:</h4>
<p>Afaik incremental compilation problem bug reports are still wanted for recent nightlies to get some signal which parts still haven't been fixed.</p>



<a name="253855839"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ICE/near/253855839" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> The 8472 <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ICE.html#253855839">(Sep 18 2021 at 09:51)</a>:</h4>
<p>see <a href="https://github.com/rust-lang/rust/issues/84970">#84970</a> for the meta-issue</p>



<a name="253857225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ICE/near/253857225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Esteban KÃ¼ber <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ICE.html#253857225">(Sep 18 2021 at 10:13)</a>:</h4>
<p>Yes, please report, worst case scenario it is closed as a duplicate, but fingerprinting issues on 1.57 <em>should</em> be rare and seeing all instances of them is useful.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>