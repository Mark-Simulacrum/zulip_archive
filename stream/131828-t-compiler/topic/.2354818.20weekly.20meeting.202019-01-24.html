<html>
<head><meta charset="utf-8"><title>#54818 weekly meeting 2019-01-24 · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html">#54818 weekly meeting 2019-01-24</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="156772423"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156772423" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156772423">(Jan 24 2019 at 13:38)</a>:</h4>
<p>Hi <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> ; our meeting will start in about 80 minutes. I'm just going to take pre-meeting triage notes here in the meantime.</p>



<a name="156772596"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156772596" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156772596">(Jan 24 2019 at 13:41)</a>:</h4>
<p>first up: <a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+is%3Aissue+label%3AT-compiler+label%3AP-high+" target="_blank" title="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+is%3Aissue+label%3AT-compiler+label%3AP-high+">P-high issues</a></p>



<a name="156772649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156772649" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156772649">(Jan 24 2019 at 13:42)</a>:</h4>
<p>there are 9 on the list but a bunch are tagged as A-NLL.</p>



<a name="156772697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156772697" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156772697">(Jan 24 2019 at 13:43)</a>:</h4>
<p>All the ones tagged with A-NLL have assignees. I haven't yet reviewed the notes from last night's NLL triage meeting but I'm going to assume for now that all the P-high issues tagged with A-NLL are under control from our point of view.</p>



<a name="156772711"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156772711" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156772711">(Jan 24 2019 at 13:43)</a>:</h4>
<p>So, first up is: "Compiler crash" <a href="https://github.com/rust-lang/rust/issues/57843" target="_blank" title="https://github.com/rust-lang/rust/issues/57843">#57843</a> (filed two days ago)</p>



<a name="156772804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156772804" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156772804">(Jan 24 2019 at 13:44)</a>:</h4>
<p>its a (stable-to-beta) regression. Its already tagged as P-high.</p>



<a name="156772854"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156772854" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156772854">(Jan 24 2019 at 13:45)</a>:</h4>
<p>I'll assign to self for initial investigation.</p>



<a name="156772951"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156772951" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156772951">(Jan 24 2019 at 13:47)</a>:</h4>
<p>(The good news is that someone already bisected it and it was injected by one of <a href="https://github.com/rust-lang/rust/issues/55517" target="_blank" title="https://github.com/rust-lang/rust/issues/55517">#55517</a> <a href="https://github.com/rust-lang/rust/issues/56507" target="_blank" title="https://github.com/rust-lang/rust/issues/56507">#56507</a> <a href="https://github.com/rust-lang/rust/issues/57282" target="_blank" title="https://github.com/rust-lang/rust/issues/57282">#57282</a>. Of those, I think <a href="https://github.com/rust-lang/rust/issues/55517" target="_blank" title="https://github.com/rust-lang/rust/issues/55517">#55517</a> is most suspicious.)</p>



<a name="156772975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156772975" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156772975">(Jan 24 2019 at 13:47)</a>:</h4>
<p>next: "ICE on nightly when dereferencing boxed Iterator trait object" <a href="https://github.com/rust-lang/rust/issues/57673" target="_blank" title="https://github.com/rust-lang/rust/issues/57673">#57673</a></p>



<a name="156773050"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156773050" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156773050">(Jan 24 2019 at 13:48)</a>:</h4>
<p>I worked on this and posted a "fix", PR <a href="https://github.com/rust-lang/rust/issues/57835" target="_blank" title="https://github.com/rust-lang/rust/issues/57835">#57835</a>. We'll discuss it more when we talk about beta-backports.</p>



<a name="156773071"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156773071" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156773071">(Jan 24 2019 at 13:49)</a>:</h4>
<p>next: "Regression in trait bounds that are redundant with associated type's HRTB" <a href="https://github.com/rust-lang/rust/issues/57639" target="_blank" title="https://github.com/rust-lang/rust/issues/57639">#57639</a></p>



<a name="156773235"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156773235" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156773235">(Jan 24 2019 at 13:51)</a>:</h4>
<p>niko has some notes and discussion on the ticket. I mostly am curious about <span class="user-mention" data-user-id="119235">@David Tolnay</span> most recent comment, "If it didn't appear in crater, and there isn't an easy fix, it seems fine to postpone until the trait solver is better prepared to support this case" -- how long are we talking about being willing to wait?</p>



<a name="156773304"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156773304" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156773304">(Jan 24 2019 at 13:52)</a>:</h4>
<p>I would assume the hope is that we would find a fix before this bug leaks out into beta? I'll post that Q (aimed at <span class="user-mention" data-user-id="116009">@nikomatsakis</span> ) on the ticket itself.</p>



<a name="156773431"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156773431" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156773431">(Jan 24 2019 at 13:54)</a>:</h4>
<p>oh the bug has already leaked out onto beta</p>



<a name="156773584"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156773584" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156773584">(Jan 24 2019 at 13:56)</a>:</h4>
<p>next: "[NLL] Bad higher ranked subtype error" <a href="https://github.com/rust-lang/rust/issues/57374" target="_blank" title="https://github.com/rust-lang/rust/issues/57374">#57374</a></p>



<a name="156773601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156773601" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156773601">(Jan 24 2019 at 13:56)</a>:</h4>
<p>oh sorry I forgot I'm skipping A-NLL stuff. Never mind that one. <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="156773622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156773622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156773622">(Jan 24 2019 at 13:57)</a>:</h4>
<p>next: "Confusing error message associated with universe transition: 'one type is more general than the other'" <a href="https://github.com/rust-lang/rust/issues/57362" target="_blank" title="https://github.com/rust-lang/rust/issues/57362">#57362</a></p>



<a name="156773712"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156773712" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156773712">(Jan 24 2019 at 13:58)</a>:</h4>
<p>There hasn't been any activity since niko left notes 9 days ago. <span class="user-mention" data-user-id="116113">@lqd</span>  : you assigned yourself 8 days ago, do you have any updates here? Feel free to leave comment on ticket if so.</p>



<a name="156773754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156773754" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156773754">(Jan 24 2019 at 13:59)</a>:</h4>
<p>(we also need to ask ourselves if his is indeed P-high. It probably is, but I want to make sure we at least consider the question.)</p>



<a name="156773812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156773812" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156773812">(Jan 24 2019 at 14:00)</a>:</h4>
<p>next: "PhantomData fields in repr(C) structs change ABI on aarch64" <a href="https://github.com/rust-lang/rust/issues/56877" target="_blank" title="https://github.com/rust-lang/rust/issues/56877">#56877</a></p>



<a name="156773882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156773882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156773882">(Jan 24 2019 at 14:01)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span>  yeah I'm working on it: fixing the immediate problem isn't enough, the error messages need to be a bit clearer or it wouldn't improve these errors enough, so niko gave me the couple pointers I needed to be unblocked yesterday. The activity is in the "<a href="https://github.com/rust-lang/rust/issues/57362" target="_blank" title="https://github.com/rust-lang/rust/issues/57362">#57362</a> confusing errors after universe transition" topic</p>



<a name="156773966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156773966" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156773966">(Jan 24 2019 at 14:02)</a>:</h4>
<p><span class="user-mention" data-user-id="116113">@lqd</span> ah I should have thought to look for a stream with the issue number.  thanks!</p>



<a name="156774000"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156774000" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lqd <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156774000">(Jan 24 2019 at 14:02)</a>:</h4>
<p>(I'll update the issue later today to mention the status, but probably couldn't do so before the team meeting)</p>



<a name="156774136"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156774136" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156774136">(Jan 24 2019 at 14:04)</a>:</h4>
<p>for <a href="https://github.com/rust-lang/rust/issues/56877" target="_blank" title="https://github.com/rust-lang/rust/issues/56877">#56877</a>, there's been a fair amount of recent discussion.</p>



<a name="156774362"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156774362" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156774362">(Jan 24 2019 at 14:07)</a>:</h4>
<p>it looks like <span class="user-mention" data-user-id="116009">@nikomatsakis</span> has identified two different strategies for a change to the logic that decides whether (for FFI/ABI purposes) whether a type definition is a homogeneous aggregate.</p>



<a name="156774433"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156774433" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156774433">(Jan 24 2019 at 14:08)</a>:</h4>
<p>yes. <span class="user-mention" data-user-id="119009">@eddyb</span> had a particularly way that they wanted me to implement the change, which I will hopefully do today</p>



<a name="156774463"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156774463" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156774463">(Jan 24 2019 at 14:09)</a>:</h4>
<p>i left a couple comments.</p>



<a name="156774486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156774486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156774486">(Jan 24 2019 at 14:09)</a>:</h4>
<p>the rest are all NLL things. (Oh god I really need to pick back up <a href="https://github.com/rust-lang/rust/issues/56254" target="_blank" title="https://github.com/rust-lang/rust/issues/56254">#56254</a>)</p>



<a name="156774541"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156774541" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156774541">(Jan 24 2019 at 14:10)</a>:</h4>
<p>so okay that's all the P-high things that aren't tagged A-NLL.</p>



<a name="156774586"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156774586" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156774586">(Jan 24 2019 at 14:11)</a>:</h4>
<p>next up: <a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=label%3Abeta-nominated" target="_blank" title="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=label%3Abeta-nominated">beta-nominated PRs</a>. I'll jump in now and add T-compiler tags to the ones that are obviously for us.</p>



<a name="156774663"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156774663" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156774663">(Jan 24 2019 at 14:12)</a>:</h4>
<p>first up: "Fix issue 57762" <a href="https://github.com/rust-lang/rust/issues/57840" target="_blank" title="https://github.com/rust-lang/rust/issues/57840">#57840</a>. This is a patch to librustc_codegen_llvm</p>



<a name="156774682"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156774682" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156774682">(Jan 24 2019 at 14:12)</a>:</h4>
<p>its just forcing us to use a more recent version of LLVM.</p>



<a name="156774722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156774722" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156774722">(Jan 24 2019 at 14:13)</a>:</h4>
<p>I see ... no reason to not beta-accept this. The only drawback is that it might cause problems for some people trying to build their own <code>rustc</code> with an older (system) LLVM, right? (see e.g. <a href="https://github.com/rust-lang/rust/issues/57762" target="_blank" title="https://github.com/rust-lang/rust/issues/57762">#57762</a>)</p>



<a name="156774811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156774811" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156774811">(Jan 24 2019 at 14:14)</a>:</h4>
<p>Well I'll wait until the actual meeting to add the <code>beta-accepted</code> tag, to ensure attending members get a chance to voice an objection.</p>



<a name="156774821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156774821" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156774821">(Jan 24 2019 at 14:14)</a>:</h4>
<p>next: "typeck: remove leaky nested probe during trait object method resolution" <a href="https://github.com/rust-lang/rust/issues/57835" target="_blank" title="https://github.com/rust-lang/rust/issues/57835">#57835</a></p>



<a name="156774969"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156774969" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156774969">(Jan 24 2019 at 14:17)</a>:</h4>
<p>this is my patch to fix <a href="https://github.com/rust-lang/rust/issues/57673" target="_blank" title="https://github.com/rust-lang/rust/issues/57673">#57673</a>. <span class="user-mention" data-user-id="126804">@Ariel Ben-Yehuda</span> has noted that this may not be quite right because it will cause a conditional <code>deref</code> to be forced to occur, which may "pollute the other candidates". I'm not 100% sure how to interpret "pollute" there; it could mean "we will fail to consider candidates that we should." But it might <em>also</em> mean "we may consider candidates that we shouldn't."</p>



<a name="156775053"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775053" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775053">(Jan 24 2019 at 14:18)</a>:</h4>
<p>If "pollute" can mean "we may consider candidates that we shouldn't", then I would not be in favor of a backport.</p>



<a name="156775059"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775059" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775059">(Jan 24 2019 at 14:18)</a>:</h4>
<p><span class="user-mention" data-user-id="126804">@Ariel Ben-Yehuda</span> <span class="user-mention" data-user-id="116009">@nikomatsakis</span> ^ can you clarify this detail?</p>



<a name="156775116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775116" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775116">(Jan 24 2019 at 14:19)</a>:</h4>
<p>if "pollute" solely means "we will fail to consider candidates that we should be considering") then I am in favor of a backport, based on a rough impression that I don't know when <span class="user-mention" data-user-id="126804">@Ariel Ben-Yehuda</span> will get around to supplying a proper fix.</p>



<a name="156775186"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775186" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775186">(Jan 24 2019 at 14:20)</a>:</h4>
<p>Also: if someone can supply a concrete example showing the case <span class="user-mention" data-user-id="126804">@Ariel Ben-Yehuda</span> is concerned about, then I might be able to come up with a better patch on my own...</p>



<a name="156775209"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775209" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775209">(Jan 24 2019 at 14:20)</a>:</h4>
<p>next: "Fix typo bug in DepGraph::try_mark_green()." <a href="https://github.com/rust-lang/rust/issues/57698" target="_blank" title="https://github.com/rust-lang/rust/issues/57698">#57698</a></p>



<a name="156775225"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775225" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775225">(Jan 24 2019 at 14:20)</a>:</h4>
<p>omg</p>



<a name="156775228"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775228" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775228">(Jan 24 2019 at 14:20)</a>:</h4>
<p>dep_dep_dep_dep_node</p>



<a name="156775251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775251" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775251">(Jan 24 2019 at 14:21)</a>:</h4>
<p>anyway, I see no reason not to backport this. I'll wait until the actual meeting to add tags though.</p>



<a name="156775274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775274">(Jan 24 2019 at 14:21)</a>:</h4>
<p>okay that's all the T-compiler PR's nominated for beta backport.</p>



<a name="156775327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775327">(Jan 24 2019 at 14:22)</a>:</h4>
<p>the PR <a href="https://github.com/rust-lang/rust/issues/57840" target="_blank" title="https://github.com/rust-lang/rust/issues/57840">#57840</a> is also nominated for a stable backport.</p>



<a name="156775363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775363">(Jan 24 2019 at 14:22)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="126804">@Ariel Ben-Yehuda</span> <span class="user-mention silent" data-user-id="116009">@nikomatsakis</span> ^ can you clarify this detail?</p>
</blockquote>
<p>to be quite honest I haven't had any time to really look into that PR or think about it (I hadn't even seen Ariel's comment, for example)</p>



<a name="156775370"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775370" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775370">(Jan 24 2019 at 14:23)</a>:</h4>
<p>I should probably prioritize that</p>



<a name="156775387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775387">(Jan 24 2019 at 14:23)</a>:</h4>
<p><span class="user-mention" data-user-id="126804">@Ariel Ben-Yehuda</span> referred to something called a "conditional deref"</p>



<a name="156775398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775398">(Jan 24 2019 at 14:23)</a>:</h4>
<p>I don't know when that would arise. Something with autoref?</p>



<a name="156775490"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775490" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775490">(Jan 24 2019 at 14:24)</a>:</h4>
<blockquote>
<p>the PR <a href="https://github.com/rust-lang/rust/issues/57840" target="_blank" title="https://github.com/rust-lang/rust/issues/57840">#57840</a> is also nominated for a stable backport.</p>
</blockquote>
<p>(i ... dont know what to think about a backport to stable for that. It doesn't seem worth a point release on its own. But if we're already doing a point release for other reasons ... ?)</p>



<a name="156775515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775515" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775515">(Jan 24 2019 at 14:25)</a>:</h4>
<p>okay. Next up is the list of stable-to-beta regressions.</p>



<a name="156775536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775536" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775536">(Jan 24 2019 at 14:25)</a>:</h4>
<p>we've already talked about all of the T-compiler ones since they are marked as P-high</p>



<a name="156775549"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775549" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775549">(Jan 24 2019 at 14:25)</a>:</h4>
<p>next is <a href="https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly" target="_blank" title="https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly">stable-to-nightly regressions</a></p>



<a name="156775623"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775623" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775623">(Jan 24 2019 at 14:26)</a>:</h4>
<p>only one is potentially T-compiler and not already tagged as P-high</p>



<a name="156775636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775636" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775636">(Jan 24 2019 at 14:26)</a>:</h4>
<p>namely: "Project fails to compile on latest stable and nightly (hang/stackoverflow)" <a href="https://github.com/rust-lang/rust/issues/57735" target="_blank" title="https://github.com/rust-lang/rust/issues/57735">#57735</a></p>



<a name="156775701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775701" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775701">(Jan 24 2019 at 14:27)</a>:</h4>
<p>worth noting that on an updated nightly the reporter indicates that on the platform where they can reproduce, the compilation succeeds but takes a "long time"</p>



<a name="156775827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775827" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775827">(Jan 24 2019 at 14:29)</a>:</h4>
<p>reporter also indicates that "nightly-x86_64-apple-darwin (rustc 1.33.0 nightly c2d381d 2019-01-10)" does not suffer from the problem. (Or at least that's how I interpret <a href="https://github.com/rust-lang/rust/issues/57735#issuecomment-455599451" target="_blank" title="https://github.com/rust-lang/rust/issues/57735#issuecomment-455599451">their comment</a>)</p>



<a name="156775944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156775944" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156775944">(Jan 24 2019 at 14:31)</a>:</h4>
<p>okay well I'll tag this as P-high and assign to self.</p>



<a name="156776279"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156776279" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156776279">(Jan 24 2019 at 14:35)</a>:</h4>
<p>next: PR <a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AS-waiting-on-team+label%3AT-compiler" target="_blank" title="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AS-waiting-on-team+label%3AT-compiler">waiting for our team</a> (and other teams): "Automatically open an issue when a tool breaks" <a href="https://github.com/rust-lang/rust/issues/56951" target="_blank" title="https://github.com/rust-lang/rust/issues/56951">#56951</a></p>



<a name="156776400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156776400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156776400">(Jan 24 2019 at 14:37)</a>:</h4>
<p>actually, skimming over the checkbox list, looks to me like everyone on T-compiler has already checked off their box</p>



<a name="156776634"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156776634" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156776634">(Jan 24 2019 at 14:39)</a>:</h4>
<p>perhaps a faux pas, but posted comment pinging the people whose checkboxes are unchecked</p>



<a name="156776910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156776910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156776910">(Jan 24 2019 at 14:43)</a>:</h4>
<p>I left PR <a href="https://github.com/rust-lang/rust/issues/57214" target="_blank" title="https://github.com/rust-lang/rust/issues/57214">#57214</a> on the I-nominated list. I'll keep it here until we've resolved the schedule for the all-hands</p>



<a name="156777874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156777874" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156777874">(Jan 24 2019 at 14:56)</a>:</h4>
<p>Okay so  I think I've finished the pretriage.</p>



<a name="156777891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156777891" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156777891">(Jan 24 2019 at 14:57)</a>:</h4>
<p>with 3 minutes left until <span class="user-group-mention" data-user-group-id="897">@T-compiler/meeting</span> should show up. <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="156777903"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156777903" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156777903">(Jan 24 2019 at 14:57)</a>:</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="156778362"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778362" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778362">(Jan 24 2019 at 15:02)</a>:</h4>
<p>Is it 2 minutes past 17 now?</p>



<a name="156778366"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778366" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778366">(Jan 24 2019 at 15:02)</a>:</h4>
<p>/me reads the backlog</p>



<a name="156778441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778441" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778441">(Jan 24 2019 at 15:03)</a>:</h4>
<p>yeah sorry</p>



<a name="156778453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778453" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778453">(Jan 24 2019 at 15:03)</a>:</h4>
<p>/me got distracted closing Open Windows</p>



<a name="156778528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778528" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778528">(Jan 24 2019 at 15:04)</a>:</h4>
<p>I did pre-mtg triage and there isn't too too much to report.</p>



<a name="156778591"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778591" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778591">(Jan 24 2019 at 15:05)</a>:</h4>
<p>I would like to put some sort of triage comment into <a href="https://github.com/rust-lang/rust/issues/57362" target="_blank" title="https://github.com/rust-lang/rust/issues/57362">#57362</a></p>



<a name="156778610"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778610" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778610">(Jan 24 2019 at 15:05)</a>:</h4>
<p>"in progress"</p>



<a name="156778618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778618" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778618">(Jan 24 2019 at 15:05)</a>:</h4>
<p>I think we're getting close</p>



<a name="156778621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778621" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778621">(Jan 24 2019 at 15:05)</a>:</h4>
<p>I can write an update</p>



<a name="156778707"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778707" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778707">(Jan 24 2019 at 15:06)</a>:</h4>
<p>okay I'll leave that to <span class="user-mention" data-user-id="116009">@nikomatsakis</span> or <span class="user-mention" data-user-id="116113">@lqd</span> to take care of</p>



<a name="156778736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778736" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778736">(Jan 24 2019 at 15:06)</a>:</h4>
<p>I don't think any of the other P-high issues (that aren't otherwise beta-nominated) warrant discussion now</p>



<a name="156778768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778768" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778768">(Jan 24 2019 at 15:07)</a>:</h4>
<p>so, moving onto <a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=label%3Abeta-nominated" target="_blank" title="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=label%3Abeta-nominated">beta-nominations</a></p>



<a name="156778809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778809">(Jan 24 2019 at 15:07)</a>:</h4>
<p>First up: "Fix issue 57762" <a href="https://github.com/rust-lang/rust/issues/57840" target="_blank" title="https://github.com/rust-lang/rust/issues/57840">#57840</a> is nominated for backport to both beta and stable.</p>



<a name="156778877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778877">(Jan 24 2019 at 15:08)</a>:</h4>
<p>It is just updating a version check to ensure that when you link to a system LLVM, you need to use version &gt;=8</p>



<a name="156778906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778906">(Jan 24 2019 at 15:08)</a>:</h4>
<p>so: <em>I</em> think this is fine for backport to beta</p>



<a name="156778909"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778909" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778909">(Jan 24 2019 at 15:08)</a>:</h4>
<blockquote>
<p>okay I'll leave that to <span class="user-mention silent" data-user-id="116009">@nikomatsakis</span> or <span class="user-mention silent" data-user-id="116113">@lqd</span> to take care of</p>
</blockquote>
<p><a href="https://github.com/rust-lang/rust/issues/57362#issuecomment-457230511" target="_blank" title="https://github.com/rust-lang/rust/issues/57362#issuecomment-457230511">added a comment</a></p>



<a name="156778934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778934" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778934">(Jan 24 2019 at 15:08)</a>:</h4>
<p>so I'm going to tag <a href="https://github.com/rust-lang/rust/issues/57840" target="_blank" title="https://github.com/rust-lang/rust/issues/57840">#57840</a> as beta-accepted. If someone objects before end of meeting, we can discuss.</p>



<a name="156778999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156778999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156778999">(Jan 24 2019 at 15:09)</a>:</h4>
<p>what about the backport to stable, though?</p>



<a name="156779011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779011">(Jan 24 2019 at 15:09)</a>:</h4>
<p>I don't personally think this is worth a point release on its own</p>



<a name="156779051"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779051" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779051">(Jan 24 2019 at 15:10)</a>:</h4>
<p>For context, this fixes rustc built against LLVM 7.0.1, which is a problem a few distros ran into recently. It's probably good to backport to beta as a courtesy to distributors, but a stable backport seems superfluous. They are perfectly capable of patching code themselves.</p>



<a name="156779141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779141" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779141">(Jan 24 2019 at 15:11)</a>:</h4>
<p>so the main thing I'm wonderng</p>



<a name="156779155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779155">(Jan 24 2019 at 15:11)</a>:</h4>
<p>if we were to happen to have a point release for <em>other</em> reasons</p>



<a name="156779162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779162" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779162">(Jan 24 2019 at 15:11)</a>:</h4>
<p>would we want this change in there in that case?</p>



<a name="156779173"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779173" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> QuietMisdreavus <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779173">(Jan 24 2019 at 15:11)</a>:</h4>
<p>there's another stable-accepted PR for rustdoc with a similar "not worth it on its own but could be included with others" rationale</p>



<a name="156779196"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779196" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779196">(Jan 24 2019 at 15:11)</a>:</h4>
<blockquote>
<p>would we want this change in there in that case?</p>
</blockquote>
<p>seems small enough</p>



<a name="156779198"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779198" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779198">(Jan 24 2019 at 15:11)</a>:</h4>
<p>I'm essentially wondering if it makes sense to still backport this to stable branch but somehow indicate "we're not expected to get a point release based on this"</p>



<a name="156779255"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779255" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> QuietMisdreavus <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779255">(Jan 24 2019 at 15:12)</a>:</h4>
<p>core/release teams still need to decide on the release, even if a PR is stable-accepted</p>



<a name="156779269"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779269" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779269">(Jan 24 2019 at 15:12)</a>:</h4>
<p>(Or is that a bad idea, in terms of some philosophy that the tip of the stable branch needs to match the stable release itself?)</p>



<a name="156779272"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779272" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> QuietMisdreavus <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779272">(Jan 24 2019 at 15:12)</a>:</h4>
<p>at least, that was my takeaway from talking with pietro about the rustdoc PR</p>



<a name="156779310"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779310" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779310">(Jan 24 2019 at 15:12)</a>:</h4>
<p>Hmm. Okay. So maybe we should just be evaluating risk/effort on its own for <em>our team</em> on <em>this PR</em> on its own?</p>



<a name="156779318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779318">(Jan 24 2019 at 15:12)</a>:</h4>
<p>and not worry about the broader questions ?</p>



<a name="156779347"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779347" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> QuietMisdreavus <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779347">(Jan 24 2019 at 15:13)</a>:</h4>
<p>basically, yeah</p>



<a name="156779354"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779354" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779354">(Jan 24 2019 at 15:13)</a>:</h4>
<p>(in which case, I would probably be in favor of marking as stable-accepted ?)</p>



<a name="156779357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779357">(Jan 24 2019 at 15:13)</a>:</h4>
<blockquote>
<p>(Or is that a bad idea, in terms of some philosophy that the tip of the stable branch needs to match the stable release itself?)</p>
</blockquote>
<p>I feel like this is what tags are for.</p>



<a name="156779382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779382" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> QuietMisdreavus <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779382">(Jan 24 2019 at 15:13)</a>:</h4>
<p>effectively, marking something stable-accepted means "this is worth including in a hypothetical point release, should one happen"</p>



<a name="156779396"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779396" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779396">(Jan 24 2019 at 15:14)</a>:</h4>
<p>okay then, I guess my current inclination is to then mark this as stable-accepted but leave a comment saying that this PR on its own does not warrant a point  release</p>



<a name="156779442"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779442" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> QuietMisdreavus <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779442">(Jan 24 2019 at 15:14)</a>:</h4>
<p>as opposed to beta-accepted's meaning of "please move this to beta"</p>



<a name="156779461"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779461" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> QuietMisdreavus <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779461">(Jan 24 2019 at 15:14)</a>:</h4>
<p>it's worth mentioning something in the release team's channel on discord, but otherwise yeah</p>



<a name="156779469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779469" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779469">(Jan 24 2019 at 15:14)</a>:</h4>
<p>a meta question: if something is beta accepted, who is doing the backporting? in the past I often did the backport if I was the original author of the PR, but more recently there seem to be quite a few people who are happy to provide this service. Is this codified somewhere? I.e. do we have designated "backporters"?</p>



<a name="156779482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779482" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> QuietMisdreavus <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779482">(Jan 24 2019 at 15:14)</a>:</h4>
<p>afaik release team batches up beta backport PRs?</p>



<a name="156779512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779512">(Jan 24 2019 at 15:15)</a>:</h4>
<p>Yeah in my experience the release team often seems to take care of beta backports before <em>I</em> get around to doing it, at least.</p>



<a name="156779600"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779600" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779600">(Jan 24 2019 at 15:16)</a>:</h4>
<p>that's my experience too. the question is: do I have to keep up-to-date with backporting progress?</p>



<a name="156779642"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779642" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779642">(Jan 24 2019 at 15:16)</a>:</h4>
<p><span class="user-mention" data-user-id="124287">@mw</span> it seems like it might be a good idea to at least keep tabs on it, but maybe that's more a job for me or whomever else is running the compiler meeting each week...?</p>



<a name="156779690"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779690" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779690">(Jan 24 2019 at 15:17)</a>:</h4>
<p>I feel like it would make sense to have some kind of 'release-compiler sync'</p>



<a name="156779695"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779695" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779695">(Jan 24 2019 at 15:17)</a>:</h4>
<p>not necessarily a <em>meeting</em></p>



<a name="156779698"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779698" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779698">(Jan 24 2019 at 15:17)</a>:</h4>
<p>it probably depends on how hard it is to keep track of this</p>



<a name="156779714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779714" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779714">(Jan 24 2019 at 15:17)</a>:</h4>
<p>but some clearer way to communicate with one another when things need doing</p>



<a name="156779726"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779726" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779726">(Jan 24 2019 at 15:17)</a>:</h4>
<p>which might be something we could check in on during these meetings, for example</p>



<a name="156779735"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779735" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779735">(Jan 24 2019 at 15:17)</a>:</h4>
<blockquote>
<p>do I have to keep up-to-date with backporting progress?</p>
</blockquote>
<p>No, from what I've seen.<br>
If something happens (e.g. the patch doesn't apply cleanly), then you are pinged.</p>



<a name="156779737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779737">(Jan 24 2019 at 15:17)</a>:</h4>
<p>I mean I guess we sort of do, via the existing labels</p>



<a name="156779782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779782">(Jan 24 2019 at 15:18)</a>:</h4>
<p>anyway, just to keep things humming along here (though I don't mind continuing this parallel conversation regarding backport policy), the next beta nomination is "typeck: remove leaky nested probe during trait object method resolution" <a href="https://github.com/rust-lang/rust/issues/57835" target="_blank" title="https://github.com/rust-lang/rust/issues/57835">#57835</a></p>



<a name="156779792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779792">(Jan 24 2019 at 15:18)</a>:</h4>
<p>it seems like we're still debating the fix itself at this point, right?</p>



<a name="156779807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779807">(Jan 24 2019 at 15:18)</a>:</h4>
<p>well, <span class="user-mention" data-user-id="126804">@Ariel Ben-Yehuda</span> approved it for nightly</p>



<a name="156779821"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779821" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779821">(Jan 24 2019 at 15:18)</a>:</h4>
<p>so the main Q is whether we want to wait to see further work before doing any backport at all</p>



<a name="156779840"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779840" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779840">(Jan 24 2019 at 15:19)</a>:</h4>
<p>or if it would still make sense to backport <em>this</em></p>



<a name="156779851"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779851" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779851">(Jan 24 2019 at 15:19)</a>:</h4>
<p>and, if something else comes up, we can independently consider whether to backport <em>that</em> too</p>



<a name="156779858"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779858" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779858">(Jan 24 2019 at 15:19)</a>:</h4>
<p>oh, I see, ok</p>



<a name="156779863"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779863" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779863">(Jan 24 2019 at 15:19)</a>:</h4>
<p>I guess so</p>



<a name="156779873"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779873" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779873">(Jan 24 2019 at 15:19)</a>:</h4>
<p>we could sit on it for a week</p>



<a name="156779933"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779933" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779933">(Jan 24 2019 at 15:20)</a>:</h4>
<p>(to see what happens when it hits nightly)</p>



<a name="156779944"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779944" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779944">(Jan 24 2019 at 15:20)</a>:</h4>
<p>the backstory here, y'all, is that there's this ICE and ariel has a comment saying that the proposed fix is not ideal</p>



<a name="156779962"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779962" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779962">(Jan 24 2019 at 15:20)</a>:</h4>
<p>but I do not completely understand the exact repercussions of the scenario that <span class="user-mention" data-user-id="126804">@Ariel Ben-Yehuda</span> outlined in their comment</p>



<a name="156779980"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779980" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779980">(Jan 24 2019 at 15:20)</a>:</h4>
<p>and I am also a little worried about how much free time <span class="user-mention" data-user-id="126804">@Ariel Ben-Yehuda</span> has to enlighten me about it</p>



<a name="156779999"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156779999" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156779999">(Jan 24 2019 at 15:21)</a>:</h4>
<p>having said that</p>



<a name="156780002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780002" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780002">(Jan 24 2019 at 15:21)</a>:</h4>
<p>lets wait a week!</p>



<a name="156780004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780004" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780004">(Jan 24 2019 at 15:21)</a>:</h4>
<p>:)</p>



<a name="156780116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780116" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780116">(Jan 24 2019 at 15:23)</a>:</h4>
<p>Note that the next train rollover is in march 1st. So a lot of time.</p>



<a name="156780158"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780158" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780158">(Jan 24 2019 at 15:23)</a>:</h4>
<p>okay, next: "Fix typo bug in DepGraph::try_mark_green()." <a href="https://github.com/rust-lang/rust/issues/57698" target="_blank" title="https://github.com/rust-lang/rust/issues/57698">#57698</a></p>



<a name="156780182"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780182" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780182">(Jan 24 2019 at 15:23)</a>:</h4>
<p>we should back_backport this</p>



<a name="156780251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780251" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780251">(Jan 24 2019 at 15:24)</a>:</h4>
<p>oh wow, <span class="user-mention" data-user-id="123586">@nagisa</span>, what's your objection here?</p>



<a name="156780270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780270" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780270">(Jan 24 2019 at 15:24)</a>:</h4>
<p>hmm, mixed signals</p>



<a name="156780271"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780271" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780271">(Jan 24 2019 at 15:24)</a>:</h4>
<p>I’m just making things easy for people to click.</p>



<a name="156780278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780278" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780278">(Jan 24 2019 at 15:24)</a>:</h4>
<p>oh. hmm.</p>



<a name="156780283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780283" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780283">(Jan 24 2019 at 15:24)</a>:</h4>
<p>nagisa adds both :) then removes one</p>



<a name="156780292"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780292" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780292">(Jan 24 2019 at 15:24)</a>:</h4>
<p>okay I see.</p>



<a name="156780315"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780315" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780315">(Jan 24 2019 at 15:25)</a>:</h4>
<p>I'll maybe do that myself</p>



<a name="156780323"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780323" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780323">(Jan 24 2019 at 15:25)</a>:</h4>
<p>so that I know what's going on</p>



<a name="156780337"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780337" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> varkor <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780337">(Jan 24 2019 at 15:25)</a>:</h4>
<p>seems we could do with a Zulip triage bot</p>



<a name="156780372"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780372" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780372">(Jan 24 2019 at 15:25)</a>:</h4>
<p>okay that's all the beta-nominations for T-compiler</p>



<a name="156780450"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780450" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780450">(Jan 24 2019 at 15:26)</a>:</h4>
<p>that's all the standing items for the triage meeting</p>



<a name="156780478"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780478" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780478">(Jan 24 2019 at 15:27)</a>:</h4>
<p>but maybe we could all move over to the <a href="#narrow/stream/131828-t-compiler/topic/all.20hands.20meeting.20planning" title="#narrow/stream/131828-t-compiler/topic/all.20hands.20meeting.20planning">all hands planning</a> topic ?</p>



<a name="156780519"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780519" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780519">(Jan 24 2019 at 15:27)</a>:</h4>
<p>(or maybe I should first ask if anyone has any items they want to discuss here that wouldn't fit into the all hands planning topic.)</p>



<a name="156780533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780533" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780533">(Jan 24 2019 at 15:28)</a>:</h4>
<p>I have one thing to discuss: <a href="https://github.com/rust-lang/cargo/pull/6564" target="_blank" title="https://github.com/rust-lang/cargo/pull/6564">https://github.com/rust-lang/cargo/pull/6564</a></p>



<a name="156780590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780590">(Jan 24 2019 at 15:28)</a>:</h4>
<p>it's about making incr. comp. the default for --release builds</p>



<a name="156780608"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780608" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780608">(Jan 24 2019 at 15:28)</a>:</h4>
<p>since we have ThinLTO + incr. comp., we might want to do this</p>



<a name="156780622"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780622" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780622">(Jan 24 2019 at 15:28)</a>:</h4>
<p>i.e. generated code has very good runtime performance</p>



<a name="156780626"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780626" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780626">(Jan 24 2019 at 15:28)</a>:</h4>
<p>what do you think this means "Gosh, I'm a little sad that not having had time for a try feature could now be a part of the geology of master :P." ?</p>



<a name="156780645"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780645" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780645">(Jan 24 2019 at 15:29)</a>:</h4>
<p>are they concerned that it hasn't gotten enough testing?</p>



<a name="156780666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780666" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780666">(Jan 24 2019 at 15:29)</a>:</h4>
<p>There is still <a href="https://github.com/rust-lang/rust/issues/47745" target="_blank" title="https://github.com/rust-lang/rust/issues/47745">this</a>. Is it in any way applicable to this change?</p>



<a name="156780694"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780694" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780694">(Jan 24 2019 at 15:29)</a>:</h4>
<p>(I believe codegen-units+thinlto is already a default, perhaps turning incremental on changes something here?)</p>



<a name="156780722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780722" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780722">(Jan 24 2019 at 15:30)</a>:</h4>
<p>I'm basically in favor of this. My only concern is that there remain some cases (notably, servo's script crate) where incremental is quite a bit slower. But I guess that's essentially an orthogonal concern, as long as it's not a widespread thing (we should work on it though)</p>



<a name="156780761"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780761" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780761">(Jan 24 2019 at 15:30)</a>:</h4>
<p>performance overall would be a bit worse again, compared to non-incrmental builds</p>



<a name="156780807"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780807" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780807">(Jan 24 2019 at 15:31)</a>:</h4>
<p><span class="user-mention" data-user-id="124287">@mw</span> I feel like <code>--release</code> is a misleading name, since you'd probably want a full LTO, 1 CGU, non-incremental build for actual releases</p>



<a name="156780808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780808" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780808">(Jan 24 2019 at 15:31)</a>:</h4>
<p>my suggestion is to enable this temporarily so we get some numbers from lolbench</p>



<a name="156780827"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780827" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780827">(Jan 24 2019 at 15:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116466">@Zoxc</span> yes, I want a dev-opt profile</p>



<a name="156780842"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780842" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780842">(Jan 24 2019 at 15:31)</a>:</h4>
<p>but the cargo team seems to not want that :)</p>



<a name="156780850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780850">(Jan 24 2019 at 15:31)</a>:</h4>
<p>This has been a perennial topic :/</p>



<a name="156780882"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780882" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780882">(Jan 24 2019 at 15:32)</a>:</h4>
<p>I'd also like a <code>fast</code> profile too. Generating debug info is slow =P</p>



<a name="156780891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780891" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780891">(Jan 24 2019 at 15:32)</a>:</h4>
<p>I still favor dev-opt</p>



<a name="156780914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780914" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780914">(Jan 24 2019 at 15:32)</a>:</h4>
<p>hmm</p>



<a name="156780932"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780932" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780932">(Jan 24 2019 at 15:32)</a>:</h4>
<p>as far as I understand it: if we enable this now and revert in a few weeks, no actual release would be affected</p>



<a name="156780934"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780934" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780934">(Jan 24 2019 at 15:32)</a>:</h4>
<p>it feels like there is maybe a mildly bigger conversation than just yay/nay here?</p>



<a name="156780971"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780971" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780971">(Jan 24 2019 at 15:33)</a>:</h4>
<p>but we'd still get some numbers from lolbench about the runtime performance of incrementally compiled release builds</p>



<a name="156780998"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156780998" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156780998">(Jan 24 2019 at 15:33)</a>:</h4>
<blockquote>
<p>what do you think this means "Gosh, I'm a little sad that not having had time for a try feature could now be a part of the geology of master :P." ?</p>
</blockquote>
<p>(Oh oh, I see now: a "try feature" is talking about a weakness in lolbench)</p>



<a name="156781002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781002" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781002">(Jan 24 2019 at 15:33)</a>:</h4>
<p>we can also make it a topic for discussion at the all hands</p>



<a name="156781077"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781077" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781077">(Jan 24 2019 at 15:34)</a>:</h4>
<p>and pester the cargo people for dev-opt there :P</p>



<a name="156781089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781089">(Jan 24 2019 at 15:34)</a>:</h4>
<p>I kind of like the idea of turning it on with the understanding that we will turn it off very eagerly</p>



<a name="156781097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781097">(Jan 24 2019 at 15:34)</a>:</h4>
<p>But <code>--release</code> as we have it now effectively is <code>dev-opt</code>, so I'd be fine with having incremental ThinLTO on by default</p>



<a name="156781122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781122" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781122">(Jan 24 2019 at 15:34)</a>:</h4>
<p>well, add a <code>--publish</code>.</p>



<a name="156781169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781169" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781169">(Jan 24 2019 at 15:35)</a>:</h4>
<p><span class="user-mention" data-user-id="116466">@Zoxc</span>, yes but people only recently have gotten around to doing their benchmarks with --release</p>



<a name="156781171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781171" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781171">(Jan 24 2019 at 15:35)</a>:</h4>
<p>now <em>that</em> does really drive it home this is the release-release configuration</p>



<a name="156781203"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781203" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781203">(Jan 24 2019 at 15:35)</a>:</h4>
<p>I don't want to increase the confusion :)</p>



<a name="156781210"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781210" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781210">(Jan 24 2019 at 15:35)</a>:</h4>
<p>And I expect users who need better performance manually tweak cargo options (which is currently needed for CGUs, panic=abort and full LTOs anyway)</p>



<a name="156781273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781273" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781273">(Jan 24 2019 at 15:36)</a>:</h4>
<p>I'd hope so, yeah</p>



<a name="156781297"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781297" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781297">(Jan 24 2019 at 15:36)</a>:</h4>
<p>we should write a "compiling your Rust code" book</p>



<a name="156781314"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781314" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781314">(Jan 24 2019 at 15:36)</a>:</h4>
<p>that goes into detail about the options available and their consequences</p>



<a name="156781316"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781316" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781316">(Jan 24 2019 at 15:36)</a>:</h4>
<p>I'd also expect incremental ThinLTO's runtime performance to improve over time, making it matter less</p>



<a name="156781319"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781319" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781319">(Jan 24 2019 at 15:36)</a>:</h4>
<p>can we compare "make this change now" vs "decide at all-hands whether to make the change" ?</p>



<a name="156781357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781357" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781357">(Jan 24 2019 at 15:37)</a>:</h4>
<p>I think we'd be better off making the change now so that we (potentially) have feedback data to discuss at all-hands</p>



<a name="156781375"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781375" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781375">(Jan 24 2019 at 15:37)</a>:</h4>
<p>making this change now gives us a month and a week or so. Deciding on it during all hands gives us 3 weeks for experimentation and potential revert.</p>



<a name="156781376"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781376" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781376">(Jan 24 2019 at 15:37)</a>:</h4>
<p>we could enable now and collect data until the all hands</p>



<a name="156781410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781410" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781410">(Jan 24 2019 at 15:37)</a>:</h4>
<p>maybe that's even better: Enable now. Uncondtionally revert shortly before the all-hands.</p>



<a name="156781418"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781418" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781418">(Jan 24 2019 at 15:37)</a>:</h4>
<p>i.e. lolbench profits from testing multiple nightlies</p>



<a name="156781422"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781422" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781422">(Jan 24 2019 at 15:38)</a>:</h4>
<p>then we'd get feedback about <em>both</em> directions</p>



<a name="156781466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781466">(Jan 24 2019 at 15:38)</a>:</h4>
<p>(since people don't complain about improvements)</p>



<a name="156781489"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781489" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781489">(Jan 24 2019 at 15:38)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> interesting</p>



<a name="156781498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781498">(Jan 24 2019 at 15:38)</a>:</h4>
<p>a jedi trick</p>



<a name="156781504"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781504" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781504">(Jan 24 2019 at 15:38)</a>:</h4>
<p>I also wonder at what point we should enabled parallel computation in rustc. I also want to test that on nighties and turn it off later</p>



<a name="156781571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781571" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781571">(Jan 24 2019 at 15:39)</a>:</h4>
<p><span class="user-mention" data-user-id="116466">@Zoxc</span> we should open an issue that lists the blockers for that</p>



<a name="156781667"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781667" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781667">(Jan 24 2019 at 15:40)</a>:</h4>
<p>We'd have to land <a href="https://github.com/rust-lang/rust/pull/56946" target="_blank" title="https://github.com/rust-lang/rust/pull/56946">https://github.com/rust-lang/rust/pull/56946</a> first, ping <span class="user-mention" data-user-id="116009">@nikomatsakis</span> ;)   I don't think there's any other blockers though?</p>



<a name="156781683"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781683" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781683">(Jan 24 2019 at 15:40)</a>:</h4>
<p>how is the test suite doing these days?</p>



<a name="156781691"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781691" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781691">(Jan 24 2019 at 15:40)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> we should review the <code>optimize(foo)</code> attribute implementation at some point</p>



<a name="156781701"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781701" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781701">(Jan 24 2019 at 15:41)</a>:</h4>
<blockquote>
<p>how is the test suite doing these days?</p>
</blockquote>
<p>what do you mean by this?</p>



<a name="156781714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781714" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781714">(Jan 24 2019 at 15:41)</a>:</h4>
<p><span class="user-mention" data-user-id="116466">@Zoxc</span>  although, maybe let's make a decision about the other topic first</p>



<a name="156781732"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781732" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781732">(Jan 24 2019 at 15:41)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> that's re: parallel queries</p>



<a name="156781737"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781737" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781737">(Jan 24 2019 at 15:41)</a>:</h4>
<p><span class="user-mention" data-user-id="123586">@nagisa</span> yes</p>



<a name="156781822"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781822" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781822">(Jan 24 2019 at 15:42)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/55641" target="_blank" title="https://github.com/rust-lang/rust/issues/55641">#55641</a> is currently tagged as waiting-on-author, lets see</p>



<a name="156781844"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781844" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781844">(Jan 24 2019 at 15:42)</a>:</h4>
<p>that is probably a mis-tag at this point, I'm guessing.</p>



<a name="156781868"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781868" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781868">(Jan 24 2019 at 15:42)</a>:</h4>
<p><span class="user-mention" data-user-id="124287">@mw</span> How bad is the runtime performance regressions with incremental ThinLTO?</p>



<a name="156781881"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781881" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781881">(Jan 24 2019 at 15:43)</a>:</h4>
<p>so, judging from the responses so far, it looks like I can tell <span class="user-mention" data-user-id="116015">@Alex Crichton</span> that we are OK with doing <span class="user-mention" data-user-id="116083">@pnkfelix</span>'s proposal</p>



<a name="156781900"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781900" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781900">(Jan 24 2019 at 15:43)</a>:</h4>
<p>that is, enable now until just before the all hands</p>



<a name="156781904"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781904" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781904">(Jan 24 2019 at 15:43)</a>:</h4>
<blockquote>
<p>that is probably a mis-tag at this point, I'm guessing.</p>
</blockquote>
<p>(yeah that tag dates from November. I'll tag it back to waiting on review)</p>



<a name="156781931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781931" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781931">(Jan 24 2019 at 15:43)</a>:</h4>
<p><span class="user-mention" data-user-id="116466">@Zoxc</span> these are the best numbers we have so far: <a href="https://github.com/rust-lang/rust/pull/56678" target="_blank" title="https://github.com/rust-lang/rust/pull/56678">https://github.com/rust-lang/rust/pull/56678</a></p>



<a name="156781992"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156781992" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156781992">(Jan 24 2019 at 15:44)</a>:</h4>
<p><span class="user-mention" data-user-id="124287">@mw</span> Also how does incremental ThinLTO work, is there some LLVM docs to link to?</p>



<a name="156782011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782011">(Jan 24 2019 at 15:44)</a>:</h4>
<p><span class="user-mention" data-user-id="116083">@pnkfelix</span> I want to just have a general r=me with compile issues fixed, at which point I’ll just fix them, because rebasing the PR gets really boring very quick when the conflict is always in the area where the stability attributes are defined.</p>



<a name="156782047"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782047" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782047">(Jan 24 2019 at 15:45)</a>:</h4>
<p><span class="user-mention" data-user-id="116466">@Zoxc</span> the non-incremental builds indicate how much slower the compiler got due to being compiled incrementally</p>



<a name="156782068"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782068" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782068">(Jan 24 2019 at 15:45)</a>:</h4>
<p><span class="user-mention" data-user-id="123586">@nagisa</span> sure. I'll do a re-review pronto. I was trusting the tags and didn't see your comments.</p>



<a name="156782076"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782076" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782076">(Jan 24 2019 at 15:45)</a>:</h4>
<p>regression looks to be &lt; 1%, except for edge cases</p>



<a name="156782179"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782179" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782179">(Jan 24 2019 at 15:46)</a>:</h4>
<p>well, more like 0.5 - 3%</p>



<a name="156782232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782232" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782232">(Jan 24 2019 at 15:46)</a>:</h4>
<p>but if some critical inlining is missed, performance is destroyed (e.g. + 25% for hello workd)</p>



<a name="156782252"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782252" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782252">(Jan 24 2019 at 15:47)</a>:</h4>
<p>we've seen similar things when making ThinLTO the default for regular builds</p>



<a name="156782384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782384" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782384">(Jan 24 2019 at 15:48)</a>:</h4>
<p>Do you know why hello-world is much slower? Is the rustc startup cost just worse? Can we avoid that with <code>#[inline]</code>?</p>



<a name="156782491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782491">(Jan 24 2019 at 15:49)</a>:</h4>
<p>@Zoxc inlining the appropriate functions would probably help. but it doesn't really matter. the compiler is just used as a benchmark here</p>



<a name="156782556"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782556" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782556">(Jan 24 2019 at 15:50)</a>:</h4>
<p><span class="user-mention" data-user-id="116466">@Zoxc</span> <a href="https://github.com/rust-lang/rust/pull/53673" target="_blank" title="https://github.com/rust-lang/rust/pull/53673">https://github.com/rust-lang/rust/pull/53673</a> has some discussion on how incr. ThinLTO is implemented in rustc</p>



<a name="156782570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782570">(Jan 24 2019 at 15:50)</a>:</h4>
<p>LLD does it similarly</p>



<a name="156782609"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782609" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782609">(Jan 24 2019 at 15:51)</a>:</h4>
<p><span class="user-mention" data-user-id="116466">@Zoxc</span> <a href="http://blog.llvm.org/2016/06/thinlto-scalable-and-incremental-lto.html" target="_blank" title="http://blog.llvm.org/2016/06/thinlto-scalable-and-incremental-lto.html">http://blog.llvm.org/2016/06/thinlto-scalable-and-incremental-lto.html</a> has some background on it too</p>



<a name="156782718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782718" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782718">(Jan 24 2019 at 15:53)</a>:</h4>
<p>I'm just wondering if <code>#[inline]</code> actually has an effect, or if incremental ThinLTO actually avoids inlining in other to be more incremental.</p>



<a name="156782746"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782746" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782746">(Jan 24 2019 at 15:53)</a>:</h4>
<p><code>#[inline]</code> is respected by release builds, even in incremental mode</p>



<a name="156782865"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782865" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782865">(Jan 24 2019 at 15:55)</a>:</h4>
<p>25% seems pretty bad though, but I'd be fine with having it temporarily enabled to find out of if that's more of a fluke or more common</p>



<a name="156782905"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782905" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782905">(Jan 24 2019 at 15:55)</a>:</h4>
<p>yeah</p>



<a name="156782981"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156782981" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156782981">(Jan 24 2019 at 15:56)</a>:</h4>
<p>I think the situation is very similar to when we made ThinLTO the default a while ago</p>



<a name="156783011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783011">(Jan 24 2019 at 15:56)</a>:</h4>
<p>performance was "roughly" the same but some microbenchmarks tanked :)</p>



<a name="156783069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783069">(Jan 24 2019 at 15:57)</a>:</h4>
<p>hello-world is probably quite representative of our test suite though =P</p>



<a name="156783165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783165" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783165">(Jan 24 2019 at 15:58)</a>:</h4>
<p>that's true, but the default would just be for cargo, so the compiler would not be affected</p>



<a name="156783192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783192">(Jan 24 2019 at 15:58)</a>:</h4>
<p>or at least, we would keep it opt-in</p>



<a name="156783251"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783251" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783251">(Jan 24 2019 at 15:59)</a>:</h4>
<p>I'd probably use it for actual development though =P</p>



<a name="156783293"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783293" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783293">(Jan 24 2019 at 15:59)</a>:</h4>
<p>yes, that's one case where many cpu cores should help mitigate the problem :)</p>



<a name="156783416"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783416" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783416">(Jan 24 2019 at 16:00)</a>:</h4>
<p>btw, if you compiling with --incremental right now, you are already using it</p>



<a name="156783480"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783480" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783480">(Jan 24 2019 at 16:01)</a>:</h4>
<p>but is <code>--incremental</code> synonymous with <code>incremental=true</code> in the <code>config.toml</code>? Its not, right?</p>



<a name="156783491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783491" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783491">(Jan 24 2019 at 16:01)</a>:</h4>
<p>it is, as far as I know</p>



<a name="156783553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783553" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783553">(Jan 24 2019 at 16:02)</a>:</h4>
<p>hmm okay I could have sworn I was observing differing behavior (in terms of one being more reliable than the other, and thus I switched my own behavior)</p>



<a name="156783571"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783571" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783571">(Jan 24 2019 at 16:02)</a>:</h4>
<p>anyway its past the hour and I gotta jet! Thanks for coming everyone!</p>



<a name="156783579"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783579" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783579">(Jan 24 2019 at 16:02)</a>:</h4>
<p><code>x.py</code>'s use of incremental is a bit unsound, I think</p>



<a name="156783602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783602">(Jan 24 2019 at 16:03)</a>:</h4>
<p>it should really only use incr. comp. for stage 0 to be correct in all cases</p>



<a name="156783615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783615">(Jan 24 2019 at 16:03)</a>:</h4>
<p>but in <em>most</em> cases it doesn't seem to matter</p>



<a name="156783736"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783736" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783736">(Jan 24 2019 at 16:04)</a>:</h4>
<p><span class="user-mention" data-user-id="124287">@mw</span> Tests pass for parallel queries when we only use one thread now</p>



<a name="156783764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783764" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783764">(Jan 24 2019 at 16:05)</a>:</h4>
<p>That's a good start :)</p>



<a name="156783784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783784" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783784">(Jan 24 2019 at 16:05)</a>:</h4>
<p>I wonder if that would be enough to ensure correctness</p>



<a name="156783818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783818" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783818">(Jan 24 2019 at 16:05)</a>:</h4>
<p>one can imagine bugs that only occur with more than one thread</p>



<a name="156783877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783877" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783877">(Jan 24 2019 at 16:06)</a>:</h4>
<p>otoh the small test cases might not catch them anyway</p>



<a name="156783879"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783879" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783879">(Jan 24 2019 at 16:06)</a>:</h4>
<p>We can't really detect race conditions in those tests anyway. We'd probably need some larger crates for that</p>



<a name="156783892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783892" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783892">(Jan 24 2019 at 16:06)</a>:</h4>
<p>exactly</p>



<a name="156783953"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783953" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783953">(Jan 24 2019 at 16:07)</a>:</h4>
<p>the compiler compiling itself would be such a test case</p>



<a name="156783979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156783979" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mw <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156783979">(Jan 24 2019 at 16:07)</a>:</h4>
<p>that is, we'd get at least some testing via stage 2</p>



<a name="156788506"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2354818%20weekly%20meeting%202019-01-24/near/156788506" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoxc <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2354818.20weekly.20meeting.202019-01-24.html#156788506">(Jan 24 2019 at 17:08)</a>:</h4>
<p><span class="user-mention" data-user-id="124287">@mw</span> Did you look at <code>-Z time-passes</code> for the hello-world regression?</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>