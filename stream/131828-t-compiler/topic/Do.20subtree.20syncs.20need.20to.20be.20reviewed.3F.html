<html>
<head><meta charset="utf-8"><title>Do subtree syncs need to be reviewed? · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Do.20subtree.20syncs.20need.20to.20be.20reviewed.3F.html">Do subtree syncs need to be reviewed?</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="215399590"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Do%20subtree%20syncs%20need%20to%20be%20reviewed%3F/near/215399590" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Do.20subtree.20syncs.20need.20to.20be.20reviewed.3F.html#215399590">(Nov 03 2020 at 00:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="133247">bjorn3</span> opened <a href="https://github.com/rust-lang/rust/pull/78624">https://github.com/rust-lang/rust/pull/78624</a> syncing codegen_cranelift - does that actually need review? Or can I <code>r+</code> it without looking too closely?</p>



<a name="215400353"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Do%20subtree%20syncs%20need%20to%20be%20reviewed%3F/near/215400353" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Do.20subtree.20syncs.20need.20to.20be.20reviewed.3F.html#215400353">(Nov 03 2020 at 01:04)</a>:</h4>
<p>Subtree bumps do not need review if they don't touch something other than the submodule</p>



<a name="215400388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Do%20subtree%20syncs%20need%20to%20be%20reviewed%3F/near/215400388" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Do.20subtree.20syncs.20need.20to.20be.20reviewed.3F.html#215400388">(Nov 03 2020 at 01:05)</a>:</h4>
<p>Indeed, policy is generally to self approve I think (since they're conflict prone IIRC). Cc <span class="user-mention" data-user-id="124288">@oli</span></p>



<a name="215405296"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Do%20subtree%20syncs%20need%20to%20be%20reviewed%3F/near/215405296" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Do.20subtree.20syncs.20need.20to.20be.20reviewed.3F.html#215405296">(Nov 03 2020 at 02:04)</a>:</h4>
<p><span class="user-mention" data-user-id="133247">@bjorn3</span>  doesn't have r+ privileges though :/</p>



<a name="215438004"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Do%20subtree%20syncs%20need%20to%20be%20reviewed%3F/near/215438004" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Do.20subtree.20syncs.20need.20to.20be.20reviewed.3F.html#215438004">(Nov 03 2020 at 10:58)</a>:</h4>
<p>yea, subtree bumps can be r+ed without review of the content. I usually just check whether the commits are something actually merged in the upstream repo</p>



<a name="215472597"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Do%20subtree%20syncs%20need%20to%20be%20reviewed%3F/near/215472597" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Do.20subtree.20syncs.20need.20to.20be.20reviewed.3F.html#215472597">(Nov 03 2020 at 15:57)</a>:</h4>
<p>I'm curious, now that it's merged, what is the advantage of keeping it out of tree and merging it as a subtree, versus just developing the additional codegen backend directly in tree?</p>



<a name="215473265"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Do%20subtree%20syncs%20need%20to%20be%20reviewed%3F/near/215473265" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Do.20subtree.20syncs.20need.20to.20be.20reviewed.3F.html#215473265">(Nov 03 2020 at 16:02)</a>:</h4>
<p>Developing in tree requires me to build a full rustc rather than just use a prebuilt rustc using rustup. In addition my development process is way too messy for rust pull requests. For example on a single day I may implement a new feature, make a tiny change, refactor something else and then implement yet another feature and a while later refactor the implementation of that new feature.</p>



<a name="215473485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Do%20subtree%20syncs%20need%20to%20be%20reviewed%3F/near/215473485" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Do.20subtree.20syncs.20need.20to.20be.20reviewed.3F.html#215473485">(Nov 03 2020 at 16:03)</a>:</h4>
<p>Another thing is that I will lose track of issues when they would be filed against rust-lang/rust instead of bjorn3/rustc_codegen_cranelift.</p>



<a name="215473671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Do%20subtree%20syncs%20need%20to%20be%20reviewed%3F/near/215473671" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Do.20subtree.20syncs.20need.20to.20be.20reviewed.3F.html#215473671">(Nov 03 2020 at 16:04)</a>:</h4>
<p>Lastly it was decided that CI won't run any of the tests of cg_clif. It will only check if it still compiles.</p>



<a name="215473718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Do%20subtree%20syncs%20need%20to%20be%20reviewed%3F/near/215473718" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Do.20subtree.20syncs.20need.20to.20be.20reviewed.3F.html#215473718">(Nov 03 2020 at 16:05)</a>:</h4>
<p>The separate issue tracker and PR queue is also a big reason for clippy.</p>



<a name="215473852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Do%20subtree%20syncs%20need%20to%20be%20reviewed%3F/near/215473852" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oli <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Do.20subtree.20syncs.20need.20to.20be.20reviewed.3F.html#215473852">(Nov 03 2020 at 16:06)</a>:</h4>
<p>We'll get cg_clif tests on CI at some point, we started out with clippy the same way: first gate on compiling, wait a few months, then gate on tests</p>



<a name="215473855"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Do%20subtree%20syncs%20need%20to%20be%20reviewed%3F/near/215473855" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/Do.20subtree.20syncs.20need.20to.20be.20reviewed.3F.html#215473855">(Nov 03 2020 at 16:06)</a>:</h4>
<p>FWIW I will note that I am somewhat wary of the pollution to git history subtree syncs have, but I'm in practice not concerned all that much because it's not like we're strict about it in regular PRs either :)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>