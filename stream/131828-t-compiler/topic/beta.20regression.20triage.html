<html>
<head><meta charset="utf-8"><title>beta regression triage · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html">beta regression triage</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="167287394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167287394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167287394">(Jun 04 2019 at 12:34)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> pointed out that the Crater results for 1.36 are pretty bad (700 regressions on the check only+rustdoc run) with a link to <a href="https://github.com/rust-lang/rust/issues/61401#issuecomment-498089693" target="_blank" title="https://github.com/rust-lang/rust/issues/61401#issuecomment-498089693">this comment</a> on the run.</p>



<a name="167287696"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167287696" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167287696">(Jun 04 2019 at 12:38)</a>:</h4>
<p>Here is a github query that covers <a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3Aregression-from-stable-to-beta+-label%3AT-libs+-label%3AT-rustdoc+-label%3AP-high+-label%3AP-medium+-label%3AP-low+" target="_blank" title="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3Aregression-from-stable-to-beta+-label%3AT-libs+-label%3AT-rustdoc+-label%3AP-high+-label%3AP-medium+-label%3AP-low+">unprioritized stable-to-beta regressions</a> that are not already tagged with T-libs nor T-rustdoc</p>



<a name="167287768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167287768" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167287768">(Jun 04 2019 at 12:38)</a>:</h4>
<p>that yields 8 issues, lets walk through them.</p>



<a name="167287805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167287805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167287805">(Jun 04 2019 at 12:38)</a>:</h4>
<p>(going to go <a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+-label%3AT-libs+-label%3AT-rustdoc+-label%3AP-high+-label%3AP-medium+-label%3AP-low+sort%3Acreated-asc" target="_blank" title="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+-label%3AT-libs+-label%3AT-rustdoc+-label%3AP-high+-label%3AP-medium+-label%3AP-low+sort%3Acreated-asc">oldest first</a>)</p>



<a name="167287837"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167287837" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167287837">(Jun 04 2019 at 12:39)</a>:</h4>
<p>first: "ICE in NLL borrow_check/universal_regions when bounding a trait object with nothing" <a href="https://github.com/rust-lang/rust/issues/61315" target="_blank" title="https://github.com/rust-lang/rust/issues/61315">#61315</a></p>



<a name="167287871"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167287871" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167287871">(Jun 04 2019 at 12:39)</a>:</h4>
<p>looks like <span class="user-mention" data-user-id="116118">@Matthew Jasper</span> is on top of it. I'll make it P-high just so I don't have to think about it.</p>



<a name="167288011"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167288011" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167288011">(Jun 04 2019 at 12:40)</a>:</h4>
<p>next: "regression: failed to parse proc-macro input" <a href="https://github.com/rust-lang/rust/issues/61470" target="_blank" title="https://github.com/rust-lang/rust/issues/61470">#61470</a></p>



<a name="167288092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167288092" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167288092">(Jun 04 2019 at 12:41)</a>:</h4>
<p>petrochenkov has diagnosed this as expected <del>breakage</del> fallout from a bug fix.</p>



<a name="167288259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167288259" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167288259">(Jun 04 2019 at 12:43)</a>:</h4>
<p>It seems like the best we can do here is try to update <code>agatan/squeeze-rs</code> ? Its not really a bug we'd do anything in the compiler to address.</p>



<a name="167288676"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167288676" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167288676">(Jun 04 2019 at 12:47)</a>:</h4>
<p>(and <code>agatan/squeeze-rs</code> looks like it might be abandonware; last update was in Nov 2017...)</p>



<a name="167288850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167288850" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167288850">(Jun 04 2019 at 12:49)</a>:</h4>
<p>closing <a href="https://github.com/rust-lang/rust/issues/61470" target="_blank" title="https://github.com/rust-lang/rust/issues/61470">#61470</a> as not-a-bug/wont-fix.</p>



<a name="167288910"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167288910" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167288910">(Jun 04 2019 at 12:49)</a>:</h4>
<p>next: "regression: conflicting implementations of trait for Into&lt;Box&gt;" <a href="https://github.com/rust-lang/rust/issues/61471" target="_blank" title="https://github.com/rust-lang/rust/issues/61471">#61471</a></p>



<a name="167289536"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167289536" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167289536">(Jun 04 2019 at 12:55)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/issues/61471" target="_blank" title="https://github.com/rust-lang/rust/issues/61471">#61471</a> references two root crates that caused regressions downstream. However, the one that caused the most problems, the owner <a href="https://github.com/rust-lang/rust/issues/61471#issuecomment-498527555" target="_blank" title="https://github.com/rust-lang/rust/issues/61471#issuecomment-498527555">chimed in</a> saying they had deprecated the crate and linked to the relevant issue. So the question is: Is crater supposed to be blacklisting such cases? (Can it, when there are problems downstream...?)</p>



<a name="167300563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167300563" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167300563">(Jun 04 2019 at 14:42)</a>:</h4>
<p>Okay after much investigation, I decided only one crate is actually affected here (the rest are abandoned, I'm pretty sure). I filed an issue against the affected crate and closed <a href="https://github.com/rust-lang/rust/issues/61471" target="_blank" title="https://github.com/rust-lang/rust/issues/61471">#61471</a>.</p>



<a name="167369553"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167369553" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167369553">(Jun 05 2019 at 08:54)</a>:</h4>
<p>next: "regression: overflow evaluating, Send/Sync?" <a href="https://github.com/rust-lang/rust/issues/61472" target="_blank" title="https://github.com/rust-lang/rust/issues/61472">#61472</a></p>



<a name="167369602"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167369602" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167369602">(Jun 05 2019 at 08:55)</a>:</h4>
<p>(presumably due to PR <a href="https://github.com/rust-lang/rust/issues/60444" target="_blank" title="https://github.com/rust-lang/rust/issues/60444">#60444</a>; the running hypothesis that niko and I share is that most instances of this are cases where the input code was unsound, and thus the fallout is expected. I don't think we can readily warning-cycle this change.)</p>



<a name="167369816"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/beta%20regression%20triage/near/167369816" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/beta.20regression.20triage.html#167369816">(Jun 05 2019 at 08:58)</a>:</h4>
<p>I do however want to double check <a href="https://github.com/rust-lang/rust/issues/61472#issuecomment-498651387" target="_blank" title="https://github.com/rust-lang/rust/issues/61472#issuecomment-498651387">the note made by <span class="user-mention" data-user-id="116155">@Jake Goulding</span></a>. I assume the discrepancy between behavior observed using  <code>rustc</code> vs <code>rustdoc</code>is due to some additional code paths being exercised by doc examples.</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>