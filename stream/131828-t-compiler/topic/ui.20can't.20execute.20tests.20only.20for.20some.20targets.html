<html>
<head><meta charset="utf-8"><title>ui can&#x27;t execute tests only for some targets · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ui.20can&#x27;t.20execute.20tests.20only.20for.20some.20targets.html">ui can&#x27;t execute tests only for some targets</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="175895161"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ui%20can%27t%20execute%20tests%20only%20for%20some%20targets/near/175895161" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ui.20can&#x27;t.20execute.20tests.20only.20for.20some.20targets.html#175895161">(Sep 17 2019 at 11:02)</a>:</h4>
<p>If I want to execute a test only on <code>x86_64</code> I need to <code>// ignore-...</code> all other targets and every time a new target is added, that test needs to be updated.</p>



<a name="175985348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ui%20can%27t%20execute%20tests%20only%20for%20some%20targets/near/175985348" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ui.20can&#x27;t.20execute.20tests.20only.20for.20some.20targets.html#175985348">(Sep 18 2019 at 09:10)</a>:</h4>
<p><span class="user-mention" data-user-id="132920">@gnzlbg</span> there's <code>// only-x86_64</code></p>



<a name="175985362"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ui%20can%27t%20execute%20tests%20only%20for%20some%20targets/near/175985362" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ui.20can&#x27;t.20execute.20tests.20only.20for.20some.20targets.html#175985362">(Sep 18 2019 at 09:10)</a>:</h4>
<p>(this is in the in-tree compiletest for almost 2 years now. the out-of-tree crate hasn't gotten this update yet.)</p>



<a name="175985363"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ui%20can%27t%20execute%20tests%20only%20for%20some%20targets/near/175985363" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ui.20can&#x27;t.20execute.20tests.20only.20for.20some.20targets.html#175985363">(Sep 18 2019 at 09:10)</a>:</h4>
<p>yep, but  that's to restrictive</p>



<a name="175985373"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ui%20can%27t%20execute%20tests%20only%20for%20some%20targets/near/175985373" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ui.20can&#x27;t.20execute.20tests.20only.20for.20some.20targets.html#175985373">(Sep 18 2019 at 09:11)</a>:</h4>
<p>I needed to add <code>// only-x86|x86_64</code></p>



<a name="175985382"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ui%20can%27t%20execute%20tests%20only%20for%20some%20targets/near/175985382" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ui.20can&#x27;t.20execute.20tests.20only.20for.20some.20targets.html#175985382">(Sep 18 2019 at 09:11)</a>:</h4>
<p>well it literally runs the test only on x86_64 which is what you asked for?</p>



<a name="175985385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ui%20can%27t%20execute%20tests%20only%20for%20some%20targets/near/175985385" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ui.20can&#x27;t.20execute.20tests.20only.20for.20some.20targets.html#175985385">(Sep 18 2019 at 09:11)</a>:</h4>
<p>ah okay</p>



<a name="175985464"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ui%20can%27t%20execute%20tests%20only%20for%20some%20targets/near/175985464" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ui.20can&#x27;t.20execute.20tests.20only.20for.20some.20targets.html#175985464">(Sep 18 2019 at 09:12)</a>:</h4>
<p>yes, I wasn't aware of <code>// only</code>, but someone raised it up and when I tried I needed to duplicate a lot of tests, so ended up adding or patterns for it</p>



<a name="175985476"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ui%20can%27t%20execute%20tests%20only%20for%20some%20targets/near/175985476" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> gnzlbg <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ui.20can&#x27;t.20execute.20tests.20only.20for.20some.20targets.html#175985476">(Sep 18 2019 at 09:12)</a>:</h4>
<p>thanks for the answer though :)</p>



<a name="175985598"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/ui%20can%27t%20execute%20tests%20only%20for%20some%20targets/near/175985598" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/ui.20can&#x27;t.20execute.20tests.20only.20for.20some.20targets.html#175985598">(Sep 18 2019 at 09:15)</a>:</h4>
<p>thank you for making <code>only</code> more powerful :D</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>