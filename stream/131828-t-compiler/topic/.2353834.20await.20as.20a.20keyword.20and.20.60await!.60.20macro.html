<html>
<head><meta charset="utf-8"><title>#53834 await as a keyword and `await!` macro · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html">#53834 await as a keyword and `await!` macro</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="133910620"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133910620" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133910620">(Sep 13 2018 at 20:16)</a>:</h4>
<p>o/</p>



<a name="133910628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133910628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133910628">(Sep 13 2018 at 20:16)</a>:</h4>
<p>woah weird</p>



<a name="133910631"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133910631" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133910631">(Sep 13 2018 at 20:16)</a>:</h4>
<p>for some reason I saw my message twice</p>



<a name="133910637"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133910637" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133910637">(Sep 13 2018 at 20:17)</a>:</h4>
<p>but I guess there was only one since when I deleted it we had nothing</p>



<a name="133910640"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133910640" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133910640">(Sep 13 2018 at 20:17)</a>:</h4>
<p>ok, so ...</p>



<a name="133910666"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133910666" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133910666">(Sep 13 2018 at 20:17)</a>:</h4>
<p>somebody was claiming I know something :P</p>



<a name="133910681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133910681" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133910681">(Sep 13 2018 at 20:17)</a>:</h4>
<p>actually, what I implemented was not quite the same as what you want to do</p>



<a name="133910741"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133910741" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133910741">(Sep 13 2018 at 20:18)</a>:</h4>
<p>right now, what happens on 2018 if you use <code>await</code>? I'm guessing you get an error?</p>



<a name="133910779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133910779" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133910779">(Sep 13 2018 at 20:19)</a>:</h4>
<p>that..seems not to be true</p>



<a name="133910896"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133910896" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133910896">(Sep 13 2018 at 20:20)</a>:</h4>
<p>uhh can you make an example today? I tried this but I get weird errors :)</p>



<a name="133910897"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133910897" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133910897">(Sep 13 2018 at 20:20)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="cp">#![feature(await_macro)]</span><span class="w"></span>
<span class="cp">#![feature(async_await)]</span><span class="w"></span>
<span class="cp">#![feature(generators)]</span><span class="w"></span>

<span class="n">async</span><span class="w"> </span><span class="k">fn</span> <span class="nf">foo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">await</span><span class="o">!</span><span class="p">(</span><span class="n">bar</span><span class="p">());</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">async</span><span class="w"> </span><span class="k">fn</span> <span class="nf">bar</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nc">impl</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">u32</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="mi">22</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="p">}</span><span class="w"></span>
</pre></div>



<a name="133910906"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133910906" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133910906">(Sep 13 2018 at 20:20)</a>:</h4>
<p>e.g. I don't know what future crate to import</p>



<a name="133911027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911027" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911027">(Sep 13 2018 at 20:22)</a>:</h4>
<p>Right now you get no errors</p>



<a name="133911042"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911042" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911042">(Sep 13 2018 at 20:22)</a>:</h4>
<p>And you don't have to use futures at all</p>



<a name="133911054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911054" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911054">(Sep 13 2018 at 20:23)</a>:</h4>
<p>it's just <code>async fn bar() -&gt; u32</code></p>



<a name="133911089"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911089" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911089">(Sep 13 2018 at 20:23)</a>:</h4>
<p>You also don't need <code>feature(generators)</code></p>



<a name="133911138"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911138" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911138">(Sep 13 2018 at 20:24)</a>:</h4>
<p>oh right</p>



<a name="133911148"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911148" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911148">(Sep 13 2018 at 20:24)</a>:</h4>
<p><a href="https://play.rust-lang.org/?gist=73798a772604624f7afb651d3e885c0a&amp;version=nightly&amp;mode=debug&amp;edition=2015" target="_blank" title="https://play.rust-lang.org/?gist=73798a772604624f7afb651d3e885c0a&amp;version=nightly&amp;mode=debug&amp;edition=2015">https://play.rust-lang.org/?gist=73798a772604624f7afb651d3e885c0a&amp;version=nightly&amp;mode=debug&amp;edition=2015</a></p>



<a name="133911155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911155" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911155">(Sep 13 2018 at 20:24)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="cp">#![feature(async_await, await_macro, futures_api)]</span><span class="w"></span>

<span class="n">async</span><span class="w"> </span><span class="k">fn</span> <span class="nf">foo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">await</span><span class="o">!</span><span class="p">(</span><span class="n">bar</span><span class="p">());</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">async</span><span class="w"> </span><span class="k">fn</span> <span class="nf">bar</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="kt">u32</span> <span class="p">{</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
</pre></div>



<a name="133911156"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911156" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911156">(Sep 13 2018 at 20:24)</a>:</h4>
<blockquote>
<p>it's just <code>async fn bar() -&gt; u32</code></p>
</blockquote>
<p>I still have mixed feelings about that :P (not relevant, I know)</p>



<a name="133911169"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911169" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911169">(Sep 13 2018 at 20:24)</a>:</h4>
<p>ok, so, this continues to work in Rust 2018</p>



<a name="133911174"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911174" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911174">(Sep 13 2018 at 20:24)</a>:</h4>
<p>for...some reason</p>



<a name="133911180"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911180" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911180">(Sep 13 2018 at 20:24)</a>:</h4>
<p><code>async fn bar() -&gt; impl Future&lt;Output = u32&gt;</code> &lt;- so noisy</p>



<a name="133911185"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911185" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911185">(Sep 13 2018 at 20:25)</a>:</h4>
<p>anyways</p>



<a name="133911192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911192" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911192">(Sep 13 2018 at 20:25)</a>:</h4>
<p>(man, I am always confused by how our parser handles keywords)</p>



<a name="133911197"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911197" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911197">(Sep 13 2018 at 20:25)</a>:</h4>
<p>so one question that I don't know is: why does <code>try</code> error on Rust 2018?</p>



<a name="133911274"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911274" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911274">(Sep 13 2018 at 20:26)</a>:</h4>
<p>it is kind of surprising to me that one works and one doesn't</p>



<a name="133911299"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911299" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911299">(Sep 13 2018 at 20:26)</a>:</h4>
<blockquote>
<p><code>async fn bar() -&gt; impl Future&lt;Output = u32&gt;</code> &lt;- so noisy</p>
</blockquote>
<p>yep...mixed feelings I said, and I meant it :)</p>



<a name="133911322"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911322" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911322">(Sep 13 2018 at 20:27)</a>:</h4>
<p>anyways, if you don't know what's going on, I'm happy to investigate more before bugging you ;)</p>



<a name="133911326"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911326" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911326">(Sep 13 2018 at 20:27)</a>:</h4>
<p>oh</p>



<a name="133911327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911327" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911327">(Sep 13 2018 at 20:27)</a>:</h4>
<p>centril just mentioned you might know what to do because you implemented this for try!</p>



<a name="133911328"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911328" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911328">(Sep 13 2018 at 20:27)</a>:</h4>
<p>the reason is simple</p>



<a name="133911330"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911330" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911330">(Sep 13 2018 at 20:27)</a>:</h4>
<p>await is not a keyword at all</p>



<a name="133911331"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911331" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911331">(Sep 13 2018 at 20:27)</a>:</h4>
<p>in Rust 2018</p>



<a name="133911333"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911333" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911333">(Sep 13 2018 at 20:27)</a>:</h4>
<p>only async is</p>



<a name="133911338"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911338" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911338">(Sep 13 2018 at 20:27)</a>:</h4>
<p>yup</p>



<a name="133911340"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911340" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911340">(Sep 13 2018 at 20:27)</a>:</h4>
<p>ok ok</p>



<a name="133911342"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911342" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911342">(Sep 13 2018 at 20:28)</a>:</h4>
<p>and we want to make it a keyword</p>



<a name="133911343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911343">(Sep 13 2018 at 20:28)</a>:</h4>
<p><em>so</em></p>



<a name="133911381"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911381" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911381">(Sep 13 2018 at 20:28)</a>:</h4>
<p>there are sort of two parts</p>



<a name="133911387"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911387" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911387">(Sep 13 2018 at 20:28)</a>:</h4>
<p>but allow it if <code>await_macro</code> is enabled</p>



<a name="133911391"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911391" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911391">(Sep 13 2018 at 20:28)</a>:</h4>
<p>so I think what you want to do is probably this:</p>



<a name="133911394"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911394" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911394">(Sep 13 2018 at 20:28)</a>:</h4>
<ul>
<li>make it a (conditional) keyword</li>
</ul>



<a name="133911400"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911400" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911400">(Sep 13 2018 at 20:28)</a>:</h4>
<ul>
<li>in the parser, if you see this keyword followed by <code>!</code>, convert it into a macro</li>
</ul>



<a name="133911406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911406" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911406">(Sep 13 2018 at 20:28)</a>:</h4>
<ul>
<li>add some code in <code>ast_validation</code> that looks for invocations of the macro <code>await</code></li>
</ul>



<a name="133911410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911410" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911410">(Sep 13 2018 at 20:28)</a>:</h4>
<ul>
<li>and checks the feature-gate</li>
</ul>



<a name="133911413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911413" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911413">(Sep 13 2018 at 20:29)</a>:</h4>
<p>something roughly like that</p>



<a name="133911430"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911430" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911430">(Sep 13 2018 at 20:29)</a>:</h4>
<p>(e.g., the parser doesn't know about the feature gates, so it can't check on its own)</p>



<a name="133911431"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911431" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911431">(Sep 13 2018 at 20:29)</a>:</h4>
<p>sg</p>



<a name="133911434"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911434" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911434">(Sep 13 2018 at 20:29)</a>:</h4>
<p>at least I don't <em>think</em> it does</p>



<a name="133911440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911440" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911440">(Sep 13 2018 at 20:29)</a>:</h4>
<p>it definitely didn't used to</p>



<a name="133911444"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911444" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911444">(Sep 13 2018 at 20:29)</a>:</h4>
<p>besides, this will yield better errors I think</p>



<a name="133911492"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911492" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911492">(Sep 13 2018 at 20:30)</a>:</h4>
<p>cool, thanks for the pointer!</p>



<a name="133911501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911501" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911501">(Sep 13 2018 at 20:30)</a>:</h4>
<p>np</p>



<a name="133911502"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133911502" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133911502">(Sep 13 2018 at 20:30)</a>:</h4>
<p>let me know if you hit any other problems...</p>



<a name="133918425"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133918425" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133918425">(Sep 13 2018 at 22:53)</a>:</h4>
<p>std::await!</p>



<a name="133918429"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133918429" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133918429">(Sep 13 2018 at 22:54)</a>:</h4>
<p>:(</p>



<a name="133918470"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133918470" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133918470">(Sep 13 2018 at 22:54)</a>:</h4>
<p>I guess we can just break it for now?</p>



<a name="133918498"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133918498" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133918498">(Sep 13 2018 at 22:55)</a>:</h4>
<p>also <code>use std::await;</code></p>



<a name="133918501"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133918501" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133918501">(Sep 13 2018 at 22:55)</a>:</h4>
<p><code>use std::await as foo;</code></p>



<a name="133918612"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133918612" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133918612">(Sep 13 2018 at 22:58)</a>:</h4>
<p>ick, then we'd break <a href="https://github.com/tokio-rs/tokio/blob/master/tokio-async-await/src/lib.rs#L80" target="_blank" title="https://github.com/tokio-rs/tokio/blob/master/tokio-async-await/src/lib.rs#L80">https://github.com/tokio-rs/tokio/blob/master/tokio-async-await/src/lib.rs#L80</a></p>



<a name="133918615"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133918615" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133918615">(Sep 13 2018 at 22:58)</a>:</h4>
<p>so we can't do that :/</p>



<a name="133918628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133918628" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133918628">(Sep 13 2018 at 22:59)</a>:</h4>
<p>One option would be to not treat it as a keyword at all</p>



<a name="133918630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133918630" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133918630">(Sep 13 2018 at 22:59)</a>:</h4>
<p>and just error if we see it in the AST</p>



<a name="133918633"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133918633" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133918633">(Sep 13 2018 at 22:59)</a>:</h4>
<p>but then we won't get the edition transition lint</p>



<a name="133918636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133918636" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133918636">(Sep 13 2018 at 22:59)</a>:</h4>
<p>:(</p>



<a name="133918644"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133918644" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133918644">(Sep 13 2018 at 22:59)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> ^</p>



<a name="133956367"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133956367" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133956367">(Sep 14 2018 at 14:31)</a>:</h4>
<p>wait, <span class="user-mention" data-user-id="127859">@Taylor Cramer</span>, what is <code>std::await</code>?</p>



<a name="133956384"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133956384" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133956384">(Sep 14 2018 at 14:31)</a>:</h4>
<p>oic</p>



<a name="133956416"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133956416" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133956416">(Sep 14 2018 at 14:31)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span> we could write our own lint tailored for <code>await</code> I guess</p>



<a name="133956417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133956417" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133956417">(Sep 14 2018 at 14:31)</a>:</h4>
<p>what a mess</p>



<a name="133956453"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133956453" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133956453">(Sep 14 2018 at 14:32)</a>:</h4>
<p>can't we come up with some other name for the macro? :P</p>



<a name="133956460"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133956460" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133956460">(Sep 14 2018 at 14:32)</a>:</h4>
<p><code>r#await</code>..boom, done. :P</p>



<a name="133972774"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133972774" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133972774">(Sep 14 2018 at 19:04)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span> did you ever decide how to proceed here?</p>



<a name="133972793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133972793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133972793">(Sep 14 2018 at 19:04)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span> I imagine we could special case and permit <code>await</code> in paths as well</p>



<a name="133972800"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133972800" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133972800">(Sep 14 2018 at 19:05)</a>:</h4>
<p>and filter for it</p>



<a name="133972811"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/133972811" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#133972811">(Sep 14 2018 at 19:05)</a>:</h4>
<p>same way that we were talking about doing for macros</p>



<a name="134338337"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/134338337" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#134338337">(Sep 20 2018 at 21:28)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span> are you going to be able to look into this after all?</p>



<a name="134340080"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/%2353834%20await%20as%20a%20keyword%20and%20%60await%21%60%20macro/near/134340080" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/.2353834.20await.20as.20a.20keyword.20and.20.60await!.60.20macro.html#134340080">(Sep 20 2018 at 21:56)</a>:</h4>
<p>Sure, I can do this</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>