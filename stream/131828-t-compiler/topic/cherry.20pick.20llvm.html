<html>
<head><meta charset="utf-8"><title>cherry pick llvm · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/cherry.20pick.20llvm.html">cherry pick llvm</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="217221808"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/cherry%20pick%20llvm/near/217221808" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> devsnek <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/cherry.20pick.20llvm.html#217221808">(Nov 19 2020 at 02:07)</a>:</h4>
<p>what would be the process for cherry picking an llvm commit? (<a href="https://reviews.llvm.org/rG803af31e5b29d53cbf09def55cf221401c108744">https://reviews.llvm.org/rG803af31e5b29d53cbf09def55cf221401c108744</a>)</p>



<a name="217221862"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/cherry%20pick%20llvm/near/217221862" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> devsnek <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/cherry.20pick.20llvm.html#217221862">(Nov 19 2020 at 02:08)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="138448">@cuviper</span> by suggestion of jynelson</p>



<a name="217221874"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/cherry%20pick%20llvm/near/217221874" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/cherry.20pick.20llvm.html#217221874">(Nov 19 2020 at 02:09)</a>:</h4>
<p>see here: <a href="https://rustc-dev-guide.rust-lang.org/backend/updating-llvm.html#bugfix-updates">https://rustc-dev-guide.rust-lang.org/backend/updating-llvm.html#bugfix-updates</a></p>



<a name="217221936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/cherry%20pick%20llvm/near/217221936" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> devsnek <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/cherry.20pick.20llvm.html#217221936">(Nov 19 2020 at 02:10)</a>:</h4>
<p>so update rust's fork of llvm and then that gets pulled into rustc?</p>



<a name="217221952"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/cherry%20pick%20llvm/near/217221952" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/cherry.20pick.20llvm.html#217221952">(Nov 19 2020 at 02:10)</a>:</h4>
<p>PR to update the fork, then another PR to update rust's submodule</p>



<a name="217222012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/cherry%20pick%20llvm/near/217222012" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> devsnek <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/cherry.20pick.20llvm.html#217222012">(Nov 19 2020 at 02:12)</a>:</h4>
<p>should updating the submodule be its own PR or can I include it in the relevant PR to rust I'm cherry picking this for</p>



<a name="217222069"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/cherry%20pick%20llvm/near/217222069" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> cuviper <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/cherry.20pick.20llvm.html#217222069">(Nov 19 2020 at 02:12)</a>:</h4>
<p>you can include the submodule update with other compiler changes, if they're related</p>



<a name="217224727"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/cherry%20pick%20llvm/near/217224727" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> devsnek <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/cherry.20pick.20llvm.html#217224727">(Nov 19 2020 at 03:02)</a>:</h4>
<p>x.py does not like submodule changes... <a href="https://gc.gy/73459947.png">https://gc.gy/73459947.png</a></p>
<div class="message_inline_image"><a href="https://gc.gy/73459947.png"><img src="https://gc.gy/73459947.png"></a></div>



<a name="217224783"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/cherry%20pick%20llvm/near/217224783" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/cherry.20pick.20llvm.html#217224783">(Nov 19 2020 at 03:03)</a>:</h4>
<p>I would disable the pre-commit hook temporarily maybe</p>



<a name="217224830"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/cherry%20pick%20llvm/near/217224830" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/cherry.20pick.20llvm.html#217224830">(Nov 19 2020 at 03:04)</a>:</h4>
<p>x.py is ok with submodule changes, it doesn't like them changing when run in a pre-commit hook</p>



<a name="217243001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/cherry%20pick%20llvm/near/217243001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Moussu <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/cherry.20pick.20llvm.html#217243001">(Nov 19 2020 at 09:03)</a>:</h4>
<p>You can also use <code>git ... --no-verify</code> to ignore the pre-commit hook if you just want to totally ignore it, instead of temporary modify it.</p>



<a name="217267902"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/cherry%20pick%20llvm/near/217267902" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/cherry.20pick.20llvm.html#217267902">(Nov 19 2020 at 13:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="219805">devsnek</span> was using a custom subcommand so I wasn't sure what flags it took</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>