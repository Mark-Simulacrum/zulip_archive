<html>
<head><meta charset="utf-8"><title>x.py fmt · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html">x.py fmt</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="164803034"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803034" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803034">(May 03 2019 at 15:19)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> I noted before that I'd like to get working on a T-Infra+ T-Compiler proposal for our policy re. formatting in the repo; My current idea is something like this:</p>
<p>1. Our goal is:<br>
     + <code>./x.py fmt</code> will format everything in the repo according to our wants.<br>
     + <code>./x.py test src/tools/tidy</code> + CI will enforce formatting.<br>
     + <code>@bors fmt</code> will add a commit to the PR where <code>./x.py fmt</code> has been executed.</p>
<p>2. Rollout plan:<br>
     a. We will start by encoding the formatting rules into <code>tidy</code>.<br>
     b. <code>tidy</code> will only require formatting inside directories with a <code>.enforcefmt</code> file.<br>
     c. We will incrementally start adding <code>.enforcefmt</code> files to higher and higher level folders until there's just one top-level <code>.enforcefmt</code> file.<br>
     d. We remove the <code>.enforcefmt</code>  file and <code>tidy</code> now enforces it globally everywhere (possible caveat around submodules).</p>
<p>What do you think? Also, what is the best avenue for discuss the draft before publishing the RFC to rust-lang/rfcs?</p>



<a name="164803192"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803192" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803192">(May 03 2019 at 15:21)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="121055">@Pietro Albini</span> --^ also, can we technically add commits to a PR with <code>@bors fmt</code>?</p>



<a name="164803253"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803253" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803253">(May 03 2019 at 15:21)</a>:</h4>
<p>I'd prefer for the automatic command not to be in bors</p>



<a name="164803327"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803327" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803327">(May 03 2019 at 15:22)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> any specific reason (so I can include it in the RFC)?</p>



<a name="164803354"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803354" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803354">(May 03 2019 at 15:22)</a>:</h4>
<p>bors is already pretty fragile and I'd prefer for it to be free of repo-specific commands</p>



<a name="164803385"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803385" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803385">(May 03 2019 at 15:23)</a>:</h4>
<p>I'm not opposed at all to an automated command though, but maybe triagebot would be better</p>



<a name="164803390"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803390" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803390">(May 03 2019 at 15:23)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> yeah; good rationale <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="164803408"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803408" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803408">(May 03 2019 at 15:23)</a>:</h4>
<p>triagebot sounds good since it is centralized as opposed to having too many bots.</p>



<a name="164803503"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803503" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803503">(May 03 2019 at 15:24)</a>:</h4>
<p>(also almost every time we redeploy bors the queue messes up, so it's better to avoid as much changes as possible)</p>



<a name="164803518"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803518" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803518">(May 03 2019 at 15:24)</a>:</h4>
<p>I'd also add <code>./x.py install-format-hook</code>, which installs pre-commit git-hook  for formatting.</p>



<a name="164803559"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803559" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803559">(May 03 2019 at 15:25)</a>:</h4>
<p>btw, I don't think t-infra should be involved in this as a whole</p>



<a name="164803563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803563" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803563">(May 03 2019 at 15:25)</a>:</h4>
<p><span class="user-mention" data-user-id="133169">@matklad</span> yeah good idea; we should probably have a script for the rebase fallout</p>



<a name="164803660"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803660" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803660">(May 03 2019 at 15:26)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> oh? curious... I'd expect y'all to be involved in vetting the implementation?</p>



<a name="164803671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803671" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803671">(May 03 2019 at 15:26)</a>:</h4>
<p>we want infra not to be the team developing bots (for example triagebot is technically under t-release), and the rustbuild stuff is mostly mark and alex</p>



<a name="164803699"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803699" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803699">(May 03 2019 at 15:26)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> ah; good point -- rustbuild is also kennytm no?</p>



<a name="164803722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803722" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803722">(May 03 2019 at 15:27)</a>:</h4>
<p><span class="user-mention" data-user-id="121055">@Pietro Albini</span> So just T-compiler then?</p>



<a name="164803732"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803732" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803732">(May 03 2019 at 15:27)</a>:</h4>
<p>maybe? not sure how much kenny works on rustbuild</p>



<a name="164803756"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803756" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803756">(May 03 2019 at 15:27)</a>:</h4>
<p>Also, do we already have <code>rustfmt.toml</code> we want to use  for the repo? I am writing new code for the lexer, and, if I could, I'd like to format it in a good way from the start</p>



<a name="164803820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803820" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pietro Albini <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803820">(May 03 2019 at 15:28)</a>:</h4>
<p>maybe chime in the next infra meeting and announce y'all are working on this so the interested members can get into the loop</p>



<a name="164803875"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803875" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803875">(May 03 2019 at 15:29)</a>:</h4>
<p><span class="user-mention" data-user-id="133169">@matklad</span> doesn't seem so; I would just start with the standard format and tweak as needed</p>



<a name="164803923"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803923" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803923">(May 03 2019 at 15:29)</a>:</h4>
<p>There was a pretty strong desire to use at least <code>use_small_heuristics = "Max"</code></p>



<a name="164803927"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164803927" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164803927">(May 03 2019 at 15:29)</a>:</h4>
<p>Ideally, rust-lang/rust shouldn't have too divergent of a formatting from the standard</p>



<a name="164804019"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164804019" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164804019">(May 03 2019 at 15:30)</a>:</h4>
<p>(<a href="https://github.com/rust-lang/rustfmt/blob/master/Configurations.md#use_small_heuristics" target="_blank" title="https://github.com/rust-lang/rustfmt/blob/master/Configurations.md#use_small_heuristics">https://github.com/rust-lang/rustfmt/blob/master/Configurations.md#use_small_heuristics</a>)</p>



<a name="164804062"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164804062" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164804062">(May 03 2019 at 15:31)</a>:</h4>
<p><span class="user-mention" data-user-id="133169">@matklad</span> sure, that seems good</p>



<a name="164804290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164804290" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164804290">(May 03 2019 at 15:34)</a>:</h4>
<p>So, as a first step, let's maybe commit just <code>rustfmt.toml</code>, without any CI enforcement? That'll help with writing new code in a good style immediately</p>
<p>Enforcement is 100% required, but it'll be a long time before we will set up all the bots..</p>
<p>Otoh, reformatting once is not a big deal, so it's a small win anyway. Otth, starting without enforcement should help us to iterate and agree on the style more flexibly.</p>



<a name="164804357"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164804357" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164804357">(May 03 2019 at 15:36)</a>:</h4>
<p><span class="user-mention" data-user-id="133169">@matklad</span> hopefully it shouldn't take too much time to set this up; just a few E-easy issues :D</p>



<a name="164804441"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164804441" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164804441">(May 03 2019 at 15:36)</a>:</h4>
<p>also, cc <span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span> , who is not quite satisfied with default rustfmt style as well</p>



<a name="164804482"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164804482" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164804482">(May 03 2019 at 15:37)</a>:</h4>
<p><span class="user-mention" data-user-id="133169">@matklad</span> I believe <span class="user-mention" data-user-id="123856">@Vadim Petrochenkov</span>'s primary dissatisfaction was due to <code>use_small_heuristics</code>; setting it to <code>Max</code> should be good?</p>



<a name="164804723"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164804723" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164804723">(May 03 2019 at 15:41)</a>:</h4>
<p>I don't remmeber, better to ask or to dig that internals thread</p>



<a name="164818024"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164818024" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164818024">(May 03 2019 at 18:26)</a>:</h4>
<p>Relevant thread <a href="https://internals.rust-lang.org/t/running-rustfmt-on-rust-lang-rust-and-other-rust-lang-repositories/8732/81" target="_blank" title="https://internals.rust-lang.org/t/running-rustfmt-on-rust-lang-rust-and-other-rust-lang-repositories/8732/81">https://internals.rust-lang.org/t/running-rustfmt-on-rust-lang-rust-and-other-rust-lang-repositories/8732/81</a></p>



<a name="164818108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164818108" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164818108">(May 03 2019 at 18:26)</a>:</h4>
<p>Setting <code>use_small_heuristics = "Max"</code> and using "rustfmt 2.0 mode" (enables breaking bugfixes) resolved all my concerns.</p>



<a name="164818572"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164818572" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164818572">(May 03 2019 at 18:32)</a>:</h4>
<blockquote>
<p>Also, do we already have <code>rustfmt.toml</code> we want to use  for the repo? I am writing new code for the lexer, and, if I could, I'd like to format it in a good way from the start</p>
</blockquote>
<p>Hmm. I feel somewhat strongly we should use the defaults. But I guess I would accept <code>use_small_heuristics = Max</code>, particularly if it means we get rustfmt :)</p>



<a name="164818627"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164818627" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164818627">(May 03 2019 at 18:32)</a>:</h4>
<p>I'd be opposed to a growing set of tweaks though.</p>



<a name="164818646"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164818646" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164818646">(May 03 2019 at 18:32)</a>:</h4>
<p>Anyway, all of this sounds very good to me. =)</p>



<a name="164818681"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164818681" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164818681">(May 03 2019 at 18:33)</a>:</h4>
<blockquote>
<p>Hmm. I feel somewhat strongly we should use the defaults. </p>
</blockquote>
<p>( To be clear, this has nothing to do with the formatting itself, and everything to do with being simple and uniform. Anyway, I'm good with the compromise. =) )</p>



<a name="164819677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164819677" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164819677">(May 03 2019 at 18:46)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> OK; I'll work up a draft then and make a PR against the master of my fork for y'all to review</p>



<a name="164819787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164819787" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164819787">(May 03 2019 at 18:48)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> sounds good -- note that we wound up with a process that uses issues to track meeting proposals; though I think it's fine to prep in a fork and file an issue with a link over there</p>



<a name="164819802"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164819802" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164819802">(May 03 2019 at 18:48)</a>:</h4>
<p>I guess I didn't think it all through, in that there is a template... well... whatever</p>



<a name="164819803"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164819803" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164819803">(May 03 2019 at 18:48)</a>:</h4>
<p>Filed <a href="https://github.com/rust-lang/rust/pull/60520" target="_blank" title="https://github.com/rust-lang/rust/pull/60520">https://github.com/rust-lang/rust/pull/60520</a> just now :D</p>



<a name="164819804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164819804" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164819804">(May 03 2019 at 18:48)</a>:</h4>
<p>do whatever :)</p>



<a name="164819979"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164819979" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164819979">(May 03 2019 at 18:50)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> aight; cool</p>
<p><span class="user-mention" data-user-id="133169">@matklad</span> neat</p>



<a name="164915483"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/164915483" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#164915483">(May 05 2019 at 11:35)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> here you go: <a href="https://github.com/rust-lang/compiler-team/issues/80" target="_blank" title="https://github.com/rust-lang/compiler-team/issues/80">https://github.com/rust-lang/compiler-team/issues/80</a> (draft to RFC included there)</p>



<a name="173557994"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173557994" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173557994">(Aug 19 2019 at 16:34)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> what's the current status here? Am I correct that the plan is agreed upon, but <code>./x.py fmt</code> and <code>.enforcefmt</code> are not implemented yet? Is there a tracking issue?</p>



<a name="173558023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173558023" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173558023">(Aug 19 2019 at 16:35)</a>:</h4>
<p><span class="user-mention" data-user-id="133169">@matklad</span> I need to finish up my RFC and publish it</p>



<a name="173558102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173558102" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> matklad <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173558102">(Aug 19 2019 at 16:36)</a>:</h4>
<p>Hm, I thought that the agreement has been already reached? <a href="https://github.com/rust-lang/compiler-team/issues/80#issuecomment-491324076" target="_blank" title="https://github.com/rust-lang/compiler-team/issues/80#issuecomment-491324076">https://github.com/rust-lang/compiler-team/issues/80#issuecomment-491324076</a></p>



<a name="173558165"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173558165" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173558165">(Aug 19 2019 at 16:37)</a>:</h4>
<p><span class="user-mention" data-user-id="133169">@matklad</span> I believe the specifics still warrants the RFC</p>



<a name="173563754"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173563754" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173563754">(Aug 19 2019 at 17:47)</a>:</h4>
<p>Ha, I was just going to ask the exact same question</p>



<a name="173563759"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173563759" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173563759">(Aug 19 2019 at 17:47)</a>:</h4>
<p>("what is status")</p>



<a name="173563852"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173563852" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173563852">(Aug 19 2019 at 17:48)</a>:</h4>
<p><span class="user-mention" data-user-id="116009">@nikomatsakis</span> do you think I should file the RFC or perhaps just a tracking issue is sufficient?</p>



<a name="173564037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173564037" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173564037">(Aug 19 2019 at 17:51)</a>:</h4>
<p>I feel like this probably doesn't require an RFC</p>



<a name="173564045"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173564045" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173564045">(Aug 19 2019 at 17:51)</a>:</h4>
<p>It seems like we had reached consensus on compiler team</p>



<a name="173564054"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173564054" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173564054">(Aug 19 2019 at 17:51)</a>:</h4>
<p>I dont' think an RFC <em>hurts</em> per se, but it's more overhead for sure</p>



<a name="173564142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173564142" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173564142">(Aug 19 2019 at 17:52)</a>:</h4>
<p>Alright; I'll think about what requires least effort on my part then / what I can do more quickly</p>



<a name="173564491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173564491" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173564491">(Aug 19 2019 at 17:56)</a>:</h4>
<p>I personally think the lion share's of the work is figuring out a way to land this smoothly in-tree, but I think mostly x.py fmt is not _too_ hard a change to make (modulo rebasing everyone's PR :)</p>



<a name="173564838"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173564838" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173564838">(Aug 19 2019 at 18:00)</a>:</h4>
<p>It's mostly a one-time cost</p>



<a name="173564925"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173564925" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173564925">(Aug 19 2019 at 18:02)</a>:</h4>
<p>and I believe circulation in rust-lang/rust is fast enough that rebasing can largely be left up to folks to deal with without a script</p>



<a name="173565177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565177" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565177">(Aug 19 2019 at 18:06)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span>  should we just go ahead and format the whole repository for now without enforcement?</p>



<a name="173565223"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565223" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565223">(Aug 19 2019 at 18:06)</a>:</h4>
<p>queue and total # prs is low</p>



<a name="173565270"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565270" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565270">(Aug 19 2019 at 18:07)</a>:</h4>
<p>I personally think that would be helpful but I'd probably move more gradually, e.g. first land a PR that makes rustfmt be part of the downloaded stage0 bundle, and invocable via x.py fmt on any subtree</p>



<a name="173565290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565290" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565290">(Aug 19 2019 at 18:07)</a>:</h4>
<p>Fair idea</p>



<a name="173565307"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565307" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565307">(Aug 19 2019 at 18:08)</a>:</h4>
<p>and then as a followup use that infrastructure for formatting and enforcement (in that order, I don't know that it matters if it happens simultaneously. Could be good to split up or combine, I could see both options having their own benefits).</p>



<a name="173565349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565349" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565349">(Aug 19 2019 at 18:08)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span>  would you like to file a tracking issue and such? you seem to have a better idea of the implementation</p>



<a name="173565364"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565364" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565364">(Aug 19 2019 at 18:08)</a>:</h4>
<p>ah... I'd rather not, no. I probably don't have the will/energy to drive this through myself though I can help review the bootstrap changes</p>



<a name="173565391"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565391" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565391">(Aug 19 2019 at 18:09)</a>:</h4>
<p>ok, fair; I'll see when I have time to do so although <span class="user-mention" data-user-id="133169">@matklad</span> might be interested to spearhead this?</p>



<a name="173565398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565398" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mark-i-m <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565398">(Aug 19 2019 at 18:09)</a>:</h4>
<p>Can we enforce it on all new PRs? i.e. only for files touched?</p>



<a name="173565405"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565405" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mark-i-m <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565405">(Aug 19 2019 at 18:09)</a>:</h4>
<p>Then we can incrementally update the rest</p>



<a name="173565414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565414" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565414">(Aug 19 2019 at 18:09)</a>:</h4>
<p>how do we do that technically?</p>



<a name="173565435"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565435" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mark-i-m <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565435">(Aug 19 2019 at 18:09)</a>:</h4>
<p>We can get the list of changed files from git</p>



<a name="173565440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565440" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565440">(Aug 19 2019 at 18:09)</a>:</h4>
<p>I am fairly strongly against any sort of incremental thing personally since I wouldn't want to have to deal with reverting changes made on save if I enable rustfmt-on-save locally to unrelated PRs</p>



<a name="173565505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565505" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565505">(Aug 19 2019 at 18:10)</a>:</h4>
<p>er, unrelated files</p>



<a name="173565521"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565521" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565521">(Aug 19 2019 at 18:10)</a>:</h4>
<p>yea; and it seems like it will mess with history more</p>



<a name="173565528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565528" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565528">(Aug 19 2019 at 18:10)</a>:</h4>
<p>I fairly often save on "accident" so to speak with just muscle memory</p>



<a name="173565533"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565533" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mark-i-m <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565533">(Aug 19 2019 at 18:10)</a>:</h4>
<p>Why would you need to revert them?</p>



<a name="173565535"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565535" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565535">(Aug 19 2019 at 18:10)</a>:</h4>
<p>doing it once seems better</p>



<a name="173565560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565560" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565560">(Aug 19 2019 at 18:11)</a>:</h4>
<p>I'd prefer that formatting commits are only formatting commits -- I think we can afford to do it either by-crate or even just a global single PR, authored and landed by someone we trust</p>



<a name="173565573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565573" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565573">(Aug 19 2019 at 18:11)</a>:</h4>
<p>(Since reviewing it is impossible)</p>



<a name="173565578"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565578" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> mark-i-m <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565578">(Aug 19 2019 at 18:11)</a>:</h4>
<p>fair enough</p>



<a name="173565593"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565593" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565593">(Aug 19 2019 at 18:11)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span>  we could split the formatting of the code folders and the test folders</p>



<a name="173565656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565656" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565656">(Aug 19 2019 at 18:12)</a>:</h4>
<p>Sure. I don't care much, just separate PRs, not rolled into normal ones.</p>



<a name="173565659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565659" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565659">(Aug 19 2019 at 18:12)</a>:</h4>
<p>but ultimately trust is necessary</p>



<a name="173565671"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173565671" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173565671">(Aug 19 2019 at 18:12)</a>:</h4>
<p>of course</p>



<a name="173575953"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173575953" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Petrochenkov <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173575953">(Aug 19 2019 at 20:21)</a>:</h4>
<p>Was the issue of rustfmt breaking 100-character limit and other tidy checks resolved, btw?</p>



<a name="173578121"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/x.py%20fmt/near/173578121" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/x.2Epy.20fmt.html#173578121">(Aug 19 2019 at 20:51)</a>:</h4>
<p>Not sure; we'll find out quickly tho if tidy complains <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>