<html>
<head><meta charset="utf-8"><title>perf.rlo naming · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html">perf.rlo naming</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="196909187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909187">(May 08 2020 at 15:24)</a>:</h4>
<p>Currently, <a href="http://perf.rust-lang.org" title="http://perf.rust-lang.org">perf.rust-lang.org</a> uses the following names for the various "types" of data we collect:</p>
<ul>
<li>clean: <code>CARGO_INCREMENTAL=0 cargo check</code> with no target dir</li>
<li>baseline incremental: <code>CARGO_INCREMENTAL=1 cargo check</code> with no target dir</li>
<li>clean incremental:  <code>CARGO_INCREMENTAL=1 cargo check</code> with a just-populated target directory, no changes to source code</li>
<li>patched incremental: [patch name]:   <code>CARGO_INCREMENTAL=1 cargo check</code> with a just-populated target directory, some patch applied to source code</li>
</ul>
<p>I have heard from numerous people historically that these names are hard to understand (and I confuse myself all the time). I would like to propose the following, in the same order:</p>
<ul>
<li>empty</li>
<li>incremental empty</li>
<li>incremental fresh</li>
<li>incremental patched: [name]</li>
</ul>
<p>The intent is to think about these like "cache states"</p>
<p>Interested to hear what people think! cc <span class="user-mention" data-user-id="120989">@Nicholas Nethercote</span></p>



<a name="196909421"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909421" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909421">(May 08 2020 at 15:25)</a>:</h4>
<p>I have historically misunderstood "clean incremental" to mean "after running <code>cargo clean</code>"</p>



<a name="196909570"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909570" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909570">(May 08 2020 at 15:26)</a>:</h4>
<p>I'd say "full" instead of "empty" which is ironically the opposite</p>



<a name="196909588"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909588" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909588">(May 08 2020 at 15:26)</a>:</h4>
<p>as in, it's doing a full build</p>



<a name="196909639"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909639" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909639">(May 08 2020 at 15:26)</a>:</h4>
<p>and "incremental fresh" could be "incremental noop", since we should strive that time to be 0 :P</p>



<a name="196909651"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909651" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909651">(May 08 2020 at 15:26)</a>:</h4>
<p>or "incremental unchanged"</p>



<a name="196909674"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909674" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eddyb <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909674">(May 08 2020 at 15:27)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="116009">@nikomatsakis</span></p>



<a name="196909706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909706" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Schievink  [he/him] <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909706">(May 08 2020 at 15:27)</a>:</h4>
<p>They are indeed hard to understand</p>



<a name="196909792"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909792" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909792">(May 08 2020 at 15:28)</a>:</h4>
<p>Hmm, empty doesn't mean much to me</p>



<a name="196909809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909809" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909809">(May 08 2020 at 15:28)</a>:</h4>
<p>I do feel "clean" means "after running clean"</p>



<a name="196909823"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909823" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909823">(May 08 2020 at 15:28)</a>:</h4>
<p>as in, do a 'clean build'</p>



<a name="196909845"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909845" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909845">(May 08 2020 at 15:28)</a>:</h4>
<p>(or "from scratch", I guess)</p>



<a name="196909889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909889" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909889">(May 08 2020 at 15:29)</a>:</h4>
<p>we can try renaming empty to "full" -- I would avoid "clean" I think because that could be seen as "working directory is clean"</p>



<a name="196909931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909931" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909931">(May 08 2020 at 15:29)</a>:</h4>
<p>I always find the use of "fresh" in cargo very confusing also, because to me a "fresh build" is a "new build", but it means fresh in the sense of  "not dirty"</p>



<a name="196909975"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196909975" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196909975">(May 08 2020 at 15:29)</a>:</h4>
<p>i.e., a fresh build in cargo, I think, means 'nothing happened', but to me it implies the opposite</p>



<a name="196910081"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910081" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910081">(May 08 2020 at 15:30)</a>:</h4>
<p>I am wondering if we can make very explicit names somehow that are less confusing</p>



<a name="196910126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910126">(May 08 2020 at 15:30)</a>:</h4>
<p>(I think I like "full build")</p>



<a name="196910134"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910134" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910134">(May 08 2020 at 15:30)</a>:</h4>
<ul>
<li>full</li>
<li>incremental full</li>
<li>incremental noop</li>
<li>incremental patched: [name]</li>
</ul>



<a name="196910205"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910205" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910205">(May 08 2020 at 15:31)</a>:</h4>
<p>That seems good. I wonder if noop might be better "no-change"?</p>



<a name="196910254"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910254" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910254">(May 08 2020 at 15:31)</a>:</h4>
<ul>
<li>from-scratch</li>
<li>incremental from-scratch</li>
<li>incremental no-edit</li>
<li>incremental patched</li>
</ul>



<a name="196910259"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910259" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910259">(May 08 2020 at 15:31)</a>:</h4>
<p>I don't like noop no-change much because of the "no" prefix</p>



<a name="196910262"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910262" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910262">(May 08 2020 at 15:31)</a>:</h4>
<p>that's another attempt :)</p>



<a name="196910329"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910329" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910329">(May 08 2020 at 15:32)</a>:</h4>
<p>I think it'd be good to find some positive name for it</p>



<a name="196910343"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910343" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910343">(May 08 2020 at 15:32)</a>:</h4>
<p>yeah</p>



<a name="196910361"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910361" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910361">(May 08 2020 at 15:32)</a>:</h4>
<p>I think "noop" is .. probably good</p>



<a name="196910398"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910398" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910398">(May 08 2020 at 15:32)</a>:</h4>
<p>it's got something of a connotation to me like .. it <em>should</em> be a no-op</p>



<a name="196910407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910407" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910407">(May 08 2020 at 15:32)</a>:</h4>
<p>sorry, what I mean is</p>



<a name="196910427"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910427" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910427">(May 08 2020 at 15:32)</a>:</h4>
<p>it's got a connotation to me of "this command doesn't do anything"</p>



<a name="196910475"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910475" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910475">(May 08 2020 at 15:33)</a>:</h4>
<p>which is of course the idea, but I mean more like "we don't even run rustc"</p>



<a name="196910481"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910481" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910481">(May 08 2020 at 15:33)</a>:</h4>
<p>but anywaYI think it's good</p>



<a name="196910525"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910525" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910525">(May 08 2020 at 15:33)</a>:</h4>
<p>at least I can't think of a clearer one</p>



<a name="196910552"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910552" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910552">(May 08 2020 at 15:33)</a>:</h4>
<p>yeah maybe we should take the win</p>



<a name="196910565"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910565" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910565">(May 08 2020 at 15:33)</a>:</h4>
<p>I say take the win!</p>



<a name="196910635"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910635" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910635">(May 08 2020 at 15:34)</a>:</h4>
<p>we've lived with the current names long enough</p>



<a name="196910659"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910659" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910659">(May 08 2020 at 15:34)</a>:</h4>
<p>let's try the new names out then, I'll go write up a commit or so</p>



<a name="196910687"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910687" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910687">(May 08 2020 at 15:34)</a>:</h4>
<p>(and I think the idea of a "no-op build" is a useful thing to be able to talk about, and we'll get used to it)</p>



<a name="196910887"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196910887" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196910887">(May 08 2020 at 15:35)</a>:</h4>
<p>why not "unchanged" instead of "full" or "empty" ?</p>



<a name="196911001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196911001" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> pnkfelix <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196911001">(May 08 2020 at 15:36)</a>:</h4>
<p>(I guess "no-edit" is fine)</p>



<a name="196911085"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196911085" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196911085">(May 08 2020 at 15:37)</a>:</h4>
<p>hm, so it's not really about the lack of changes for those</p>



<a name="196911113"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196911113" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196911113">(May 08 2020 at 15:37)</a>:</h4>
<p>it's specifically "we're building without target/"</p>



<a name="196911582"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196911582" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196911582">(May 08 2020 at 15:40)</a>:</h4>
<p>unchanged is not bad as a replacement for <em>noop</em> though</p>



<a name="196913512"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196913512" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196913512">(May 08 2020 at 15:54)</a>:</h4>
<p>I've pushed up changes with unchanged</p>



<a name="196913530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196913530" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196913530">(May 08 2020 at 15:55)</a>:</h4>
<p>happy to hear further feedback though</p>



<a name="196913542"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196913542" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196913542">(May 08 2020 at 15:55)</a>:</h4>
<p>If there was perhaps a legend or tooltip or something that explained this:</p>
<blockquote>
<div class="codehilite"><pre><span></span><code>clean: CARGO_INCREMENTAL=0 cargo check with no target dir
baseline incremental: CARGO_INCREMENTAL=1 cargo check with no target dir
clean incremental: CARGO_INCREMENTAL=1 cargo check with a just-populated target directory, no changes to source code
patched incremental: [patch name]: CARGO_INCREMENTAL=1 cargo check with a just-populated target directory, some patch applied to source code
</code></pre></div>


</blockquote>
<p>I think that would be extremely helpful!</p>



<a name="196913579"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196913579" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196913579">(May 08 2020 at 15:55)</a>:</h4>
<p>Regardless of what we label them.</p>



<a name="196913664"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196913664" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196913664">(May 08 2020 at 15:55)</a>:</h4>
<p>I've added one to the compare page</p>



<a name="196913766"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196913766" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196913766">(May 08 2020 at 15:56)</a>:</h4>
<p>I'm not sure how to put it on the graph page though -- it just doesn't fit nicely</p>



<a name="196913924"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196913924" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196913924">(May 08 2020 at 15:57)</a>:</h4>
<p>Oh, I see it now</p>



<a name="196914040"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196914040" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196914040">(May 08 2020 at 15:58)</a>:</h4>
<p>Ok. I think the reason I didn't even think of that is because your comment here actually shows <code>CARGO_INCREMENTAL=1 cargo check</code> which tells me exactly what's going on.</p>



<a name="196914074"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196914074" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196914074">(May 08 2020 at 15:58)</a>:</h4>
<p>I've read the labels on the compare page before and I actually thought we were doing <code>cargo build</code> not <code>cargo check</code></p>



<a name="196914246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196914246" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196914246">(May 08 2020 at 15:59)</a>:</h4>
<p>oh I meant that as a placeholder</p>



<a name="196914305"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196914305" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196914305">(May 08 2020 at 16:00)</a>:</h4>
<p>Gotcha.</p>



<a name="196914308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196914308" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196914308">(May 08 2020 at 16:00)</a>:</h4>
<p>we do cargo check for -check, build for -debug and build --release for -opt</p>



<a name="196914421"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196914421" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wesley Wiser <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196914421">(May 08 2020 at 16:01)</a>:</h4>
<p>Oh right, duh. Sorry for the noise</p>



<a name="196954597"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196954597" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196954597">(May 08 2020 at 21:50)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> Is the underlying file format unchanged? I imagine so, given that comparisons to a month ago are still working?</p>



<a name="196954768"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196954768" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196954768">(May 08 2020 at 21:53)</a>:</h4>
<p>Judging from the recent commits, seems so</p>



<a name="196954787"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196954787" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196954787">(May 08 2020 at 21:53)</a>:</h4>
<p>Which means that the commands for local profiling, such as <code>collector profile</code>, still use the old names</p>



<a name="196954907"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196954907" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196954907">(May 08 2020 at 21:54)</a>:</h4>
<p>Some nits:</p>



<a name="196954936"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196954936" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196954936">(May 08 2020 at 21:54)</a>:</h4>
<ul>
<li>The "compare" page uses "Patched incremental" at the top and "Incremental patched" at the bottom</li>
</ul>



<a name="196955144"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196955144" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196955144">(May 08 2020 at 21:57)</a>:</h4>
<ul>
<li>The "compare" page has a legend at the bottom, but the "graphs" and "dashboard" pages don't. Should they?</li>
</ul>



<a name="196955309"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196955309" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196955309">(May 08 2020 at 21:59)</a>:</h4>
<ul>
<li>"Incremental unchanged: an incremental build starting with complete cache, and clean source directory -- the "perfect" scenario for incremental."  Use of "clean" here is confusing, I suggested "an unchanged" or "an unaltered".</li>
</ul>



<a name="196955456"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196955456" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196955456">(May 08 2020 at 22:00)</a>:</h4>
<p>yeah underlying format is currently unchanged but I want to change that for faster reboots and such, working on some ideas (as you can probably see by commit history there's a ton of changes recently)</p>



<a name="196955466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196955466" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196955466">(May 08 2020 at 22:00)</a>:</h4>
<p>Will fix nits</p>



<a name="196955587"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196955587" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196955587">(May 08 2020 at 22:01)</a>:</h4>
<ul>
<li>Is it worth adding "Formerly called 'clean'", etc., to each of the descriptions in the legend?</li>
</ul>



<a name="196955728"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196955728" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196955728">(May 08 2020 at 22:03)</a>:</h4>
<ul>
<li>Should we use hyphens more, e.g. "incremental-full"? That makes for nicer references to a single result, e.g. "regex-check-incremental-full". (Though the names of the patched ones would still have spaces.)</li>
</ul>



<a name="196955805"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196955805" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196955805">(May 08 2020 at 22:04)</a>:</h4>
<ul>
<li>And would "incr" be a sufficiently obvious shortening of "incremental"? E.g. "incr-full".</li>
</ul>



<a name="196955820"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196955820" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196955820">(May 08 2020 at 22:04)</a>:</h4>
<p>hm I think I'd prefer to jettison the old names as quickly as possible</p>



<a name="196955841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196955841" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196955841">(May 08 2020 at 22:04)</a>:</h4>
<p>incr seems fine, though not sure we get too much</p>



<a name="196955861"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196955861" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196955861">(May 08 2020 at 22:05)</a>:</h4>
<p>hyphens I'm "shrug" on</p>



<a name="196955960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196955960" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196955960">(May 08 2020 at 22:06)</a>:</h4>
<p>With the old names I use quotes a lot, e.g.: 'I got speedups on "clean incremental" builds'</p>



<a name="196956002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196956002" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196956002">(May 08 2020 at 22:06)</a>:</h4>
<p>yeah, makes sense. I wouldn't mind them</p>



<a name="196956005"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196956005" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196956005">(May 08 2020 at 22:06)</a>:</h4>
<p>with a hyphen, it's a bit clearer to me what it means if you see "an incremental-full run" rather than "an incremental full run" in a sentence</p>



<a name="196956024"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196956024" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196956024">(May 08 2020 at 22:07)</a>:</h4>
<p>esp. if it's in backquotes, to give fixed-width font</p>



<a name="196956036"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196956036" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196956036">(May 08 2020 at 22:07)</a>:</h4>
<p>Anyway, just my initial thoughts</p>



<a name="196956126"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196956126" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196956126">(May 08 2020 at 22:08)</a>:</h4>
<p>thanks!</p>



<a name="196956135"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196956135" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196956135">(May 08 2020 at 22:08)</a>:</h4>
<p>yeah I'll switch to hyphens</p>



<a name="196956178"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196956178" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> njn <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196956178">(May 08 2020 at 22:09)</a>:</h4>
<p>The <code>RunKind</code> <a href="https://github.com/rust-lang/rustc-perf/blob/88e969aa9b85543a1904240794139d8afc7884cf/collector/src/bin/rustc-perf-collector/main.rs#L60-L65" title="https://github.com/rust-lang/rustc-perf/blob/88e969aa9b85543a1904240794139d8afc7884cf/collector/src/bin/rustc-perf-collector/main.rs#L60-L65">enum</a> would presumably become <code>Full</code>, <code>IncrFull</code>, <code>IncrUnchanged</code>, <code>IncrPatched</code>? The last one loses the pluralness that <code>PatchedIncrs</code> had.</p>



<a name="196956311"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196956311" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196956311">(May 08 2020 at 22:11)</a>:</h4>
<p>hm, I guess, yes</p>



<a name="196956318"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196956318" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196956318">(May 08 2020 at 22:11)</a>:</h4>
<p>I forgot about that</p>



<a name="196957066"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196957066" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196957066">(May 08 2020 at 22:20)</a>:</h4>
<p>(I prefer fewer acronyms and contractions myself)</p>



<a name="196957067"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196957067" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196957067">(May 08 2020 at 22:20)</a>:</h4>
<p>but +1 to dashes</p>



<a name="196960782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196960782" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196960782">(May 08 2020 at 23:13)</a>:</h4>
<p>I think incr is worth it, actually, lets us fit more onto the page and such. horizontal screen space is not <em>that</em> valuable but seems good, especially in e.g. github comments</p>



<a name="196960793"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196960793" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196960793">(May 08 2020 at 23:13)</a>:</h4>
<p>and we can always revert if it's confusing</p>



<a name="196980899"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196980899" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196980899">(May 09 2020 at 08:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116122">simulacrum</span> <a href="#narrow/stream/131828-t-compiler/topic/perf.2Erlo.20naming/near/196914308" title="#narrow/stream/131828-t-compiler/topic/perf.2Erlo.20naming/near/196914308">said</a>:</p>
<blockquote>
<p>we do cargo check for -check, build for -debug and build --release for -opt</p>
</blockquote>
<p>would be nice to also have that documented somewhere on the compare page -- which commands are used for what.<br>
some time ago when I tried to reproduce perf results locally for debugging, I lost a lot of time measuring the wrong thing.</p>



<a name="196980970"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196980970" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196980970">(May 09 2020 at 08:40)</a>:</h4>
<p>so I have notes like this still sitting somewhere that might or might not still be accurate:</p>
<div class="codehilite"><pre><span></span><code># How to reproduce...

## ... &quot;patched incremental&quot; (opt) benchmarks

# prepare
rm target/release/incremental/ -rf &amp;&amp; git reset --hard HEAD &amp;&amp; CARGO_INCREMENTAL=1 cargo build --release
# benchmark
patch -p1 &lt; patch &amp;&amp; CARGO_INCREMENTAL=1 perf stat -- cargo build --release
</code></pre></div>



<a name="196981038"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196981038" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196981038">(May 09 2020 at 08:43)</a>:</h4>
<p>re: the new names and their explanation</p>
<blockquote>
<p>full (non-incremental, after cargo clean)<br>
 incr-full (after cargo clean) </p>
</blockquote>
<p>this makes it sound like incremental is the default, but AFAIK that is only the case for debug builds right?</p>



<a name="196981043"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196981043" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196981043">(May 09 2020 at 08:43)</a>:</h4>
<p>so to reproduce incr-full "opt" I need to <code>cargo clean &amp;&amp; CARGO_INCREMENTAL=1 cargo build --release</code></p>



<a name="196981088"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196981088" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196981088">(May 09 2020 at 08:44)</a>:</h4>
<p>so given that I think the page should also state that explicitly -- seems odd to emphasize "non-incremental" but then leave it unmentioned elsewhere (particularly since "incr" is abbreviated)</p>



<a name="196981104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196981104" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196981104">(May 09 2020 at 08:45)</a>:</h4>
<p>"no change to target directory" that's an odd statement, I dont usually change that dir, I change the rust files.<br>
I get what you mean but I find this statement not very helpful. what about "with previous build cache" or "no cargo clean" or so?</p>



<a name="196987486"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196987486" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196987486">(May 09 2020 at 11:38)</a>:</h4>
<p>Sure thing, can update! :)</p>



<a name="196991317"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196991317" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196991317">(May 09 2020 at 13:16)</a>:</h4>
<p><span class="user-mention" data-user-id="120791">@RalfJ</span> okay, I've updated the compare page and unified the two sets of descriptions into a single one at the top of the page</p>
<p>for running things locally, I'm hesitant to document commands like that -- the preference should ~always be to use the collector. I guess that's not very self-explanatory though :/</p>



<a name="196992119"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196992119" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196992119">(May 09 2020 at 13:38)</a>:</h4>
<p>hm, I dont recall why I did not do that back then</p>



<a name="196992123"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196992123" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196992123">(May 09 2020 at 13:38)</a>:</h4>
<p>how hard is it to run the collector against a locally built stage 1 toolchain?</p>



<a name="196992137"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196992137" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196992137">(May 09 2020 at 13:39)</a>:</h4>
<p>preferrably running just the one test one is looking at</p>



<a name="196992187"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/196992187" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RalfJ <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#196992187">(May 09 2020 at 13:40)</a>:</h4>
<p>explanations look good. :) just wondering:</p>
<blockquote>
<p>full: a non-incremental full build</p>
</blockquote>
<p>no more "starting with empty cache"?</p>



<a name="197000798"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/197000798" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#197000798">(May 09 2020 at 16:55)</a>:</h4>
<p>it should be fairly easy</p>



<a name="197000804"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/perf.rlo%20naming/near/197000804" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/perf.2Erlo.20naming.html#197000804">(May 09 2020 at 16:55)</a>:</h4>
<p>(naming is currently a bit in flux but that'll resolve itself relatively soon)</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>