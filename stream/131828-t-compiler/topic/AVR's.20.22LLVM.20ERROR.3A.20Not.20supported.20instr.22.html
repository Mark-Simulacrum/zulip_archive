<html>
<head><meta charset="utf-8"><title>AVR&#x27;s &quot;LLVM ERROR: Not supported instr&quot; · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/AVR&#x27;s.20.22LLVM.20ERROR.3A.20Not.20supported.20instr.22.html">AVR&#x27;s &quot;LLVM ERROR: Not supported instr&quot;</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://zulip-archive.rust-lang.org/style.css" rel="stylesheet"></head>

<a name="275432195"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/AVR%27s%20%22LLVM%20ERROR%3A%20Not%20supported%20instr%22/near/275432195" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patryk Wychowaniec <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/AVR&#x27;s.20.22LLVM.20ERROR.3A.20Not.20supported.20instr.22.html#275432195">(Mar 15 2022 at 20:39)</a>:</h4>
<p>hi, y'all <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> (trigger warning: AVR <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>)</p>
<p>there's this long-standing <a href="https://github.com/rust-lang/compiler-builtins/issues/400">https://github.com/rust-lang/compiler-builtins/issues/400</a> thingie, for which I've prepared a fix to LLVM (<a href="https://reviews.llvm.org/D114611">https://reviews.llvm.org/D114611</a>), but it's become stalled on the code review; and it's been stalled like that for a few months now, since the LLVM AVR's caretaker has been unresponsive &amp; unreachable <span aria-label="cry" class="emoji emoji-1f622" role="img" title="cry">:cry:</span></p>
<p>I've been using that fix for a few months now (I'm doing a Rust + AVR project), and it seems to be working alright, so maybe we could cherry-pick it into <a href="https://github.com/rust-lang/llvm-project">https://github.com/rust-lang/llvm-project</a>, at least until the LLVM+AVR thingie is resolved?</p>
<p>(in the meantime I'm trying to reach out some LLVM folks - <a href="https://discourse.llvm.org/t/avr-backend-code-review/60920">https://discourse.llvm.org/t/avr-backend-code-review/60920</a> - but it might take a while, and currently Rust+AVR people are stuck on some 2020~ish/2021~ish compiler version)</p>
<p>I saw <span class="user-mention" data-user-id="133224">@Nikita Popov</span> doing some commits with that, so I hope you don't mind me mentioning you here.</p>
<p>(sorry if this is the wrong chat, but I've been circling around Rust's Discord &amp; Matrix, and I'm still trying to figure out where to go <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>)</p>



<a name="275436465"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/AVR%27s%20%22LLVM%20ERROR%3A%20Not%20supported%20instr%22/near/275436465" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/AVR&#x27;s.20.22LLVM.20ERROR.3A.20Not.20supported.20instr.22.html#275436465">(Mar 15 2022 at 21:16)</a>:</h4>
<p>This zulip is the most appropriate place I think.</p>



<a name="275456748"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/AVR%27s%20%22LLVM%20ERROR%3A%20Not%20supported%20instr%22/near/275456748" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nagisa <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/AVR&#x27;s.20.22LLVM.20ERROR.3A.20Not.20supported.20instr.22.html#275456748">(Mar 16 2022 at 01:11)</a>:</h4>
<p>cf. <a href="#narrow/stream/187780-t-compiler.2Fwg-llvm/topic/Getting.20LLVM.20patches.20reviewed/near/273278965">https://rust-lang.zulipchat.com/#narrow/stream/187780-t-compiler.2Fwg-llvm/topic/Getting.20LLVM.20patches.20reviewed/near/273278965</a></p>



<a name="275483097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/AVR%27s%20%22LLVM%20ERROR%3A%20Not%20supported%20instr%22/near/275483097" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/AVR&#x27;s.20.22LLVM.20ERROR.3A.20Not.20supported.20instr.22.html#275483097">(Mar 16 2022 at 09:09)</a>:</h4>
<p>I believe <a href="https://reviews.llvm.org/people/revisions/20287/">https://reviews.llvm.org/people/revisions/20287/</a> is also having trouble getting AVR patches reviewed -- maybe you could help each other?</p>



<a name="275483467"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/AVR%27s%20%22LLVM%20ERROR%3A%20Not%20supported%20instr%22/near/275483467" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patryk Wychowaniec <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/AVR&#x27;s.20.22LLVM.20ERROR.3A.20Not.20supported.20instr.22.html#275483467">(Mar 16 2022 at 09:13)</a>:</h4>
<p>Hmm, so benshi001 has merging rights to LLVM, but needs a review, right? (I'm semi-familiar with who _actually merges_ stuff to LLVM <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>)</p>



<a name="275483647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/AVR%27s%20%22LLVM%20ERROR%3A%20Not%20supported%20instr%22/near/275483647" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikita Popov <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/AVR&#x27;s.20.22LLVM.20ERROR.3A.20Not.20supported.20instr.22.html#275483647">(Mar 16 2022 at 09:14)</a>:</h4>
<p>Yeah</p>



<a name="275483722"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/AVR%27s%20%22LLVM%20ERROR%3A%20Not%20supported%20instr%22/near/275483722" class="zl"><img src="https://zulip-archive.rust-lang.org/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patryk Wychowaniec <a href="https://zulip-archive.rust-lang.org/stream/131828-t-compiler/topic/AVR&#x27;s.20.22LLVM.20ERROR.3A.20Not.20supported.20instr.22.html#275483722">(Mar 16 2022 at 09:15)</a>:</h4>
<p>kk, I'll contact them, then - thanks!</p>



<hr><p>Last updated: Apr 12 2022 at 20:01 UTC</p>
</html>