<html>
<head><meta charset="utf-8"><title>Rustdoc JSON backend progress · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html">Rustdoc JSON backend progress</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="213236993"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213236993" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213236993">(Oct 14 2020 at 01:14)</a>:</h4>
<blockquote>
<p>oh? I thought it was very close to landing.. but we can talk in another thread</p>
</blockquote>
<p><span class="user-mention" data-user-id="116883">@tmandry</span> here is the current status: <a href="https://github.com/rust-lang/rust/pull/75114#issuecomment-673964362">https://github.com/rust-lang/rust/pull/75114#issuecomment-673964362</a></p>



<a name="213237001"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237001" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237001">(Oct 14 2020 at 01:14)</a>:</h4>
<p>and pineapple seems to have disappeared, I think he got busy with school</p>



<a name="213237013"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237013" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237013">(Oct 14 2020 at 01:14)</a>:</h4>
<p>there hasn't been any change in 2 months</p>



<a name="213237016"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237016" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237016">(Oct 14 2020 at 01:14)</a>:</h4>
<p>yeah, I think it needs a ping. I can also ping him</p>



<a name="213237022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237022" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237022">(Oct 14 2020 at 01:15)</a>:</h4>
<p>I've pinged him a couple times</p>



<a name="213237027"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237027" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237027">(Oct 14 2020 at 01:15)</a>:</h4>
<p>but there is a test suite I think</p>



<a name="213237031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237031" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237031">(Oct 14 2020 at 01:15)</a>:</h4>
<p>it sounds like he's <em>working</em> on it intermittently, he's just not pushing any of the code so people can see it</p>



<a name="213237039"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237039" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237039">(Oct 14 2020 at 01:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116883">tmandry</span> <a href="#narrow/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress/near/213237027">said</a>:</p>
<blockquote>
<p>but there is a test suite I think</p>
</blockquote>
<p>well. the python tests are pretty hacky</p>



<a name="213237108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237108" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237108">(Oct 14 2020 at 01:16)</a>:</h4>
<p>I think the compare tests look pretty good</p>



<a name="213237117"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237117" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237117">(Oct 14 2020 at 01:16)</a>:</h4>
<p>here was my last conversation with him a month ago: <a href="https://discordapp.com/channels/273534239310479360/273539705595756544/756004270758690836">https://discordapp.com/channels/273534239310479360/273539705595756544/756004270758690836</a></p>



<a name="213237122"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237122" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237122">(Oct 14 2020 at 01:17)</a>:</h4>
<p>check_missing_items names a bunch of keys but it sounded like he didn't think there was a simpler way</p>



<a name="213237149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237149" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237149">(Oct 14 2020 at 01:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116883">tmandry</span> <a href="#narrow/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress/near/213237122">said</a>:</p>
<blockquote>
<p>check_missing_items names a bunch of keys but it sounded like he didn't think there was a simpler way</p>
</blockquote>
<p>I kind of agree there I think, it's a really large API</p>



<a name="213237190"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237190" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237190">(Oct 14 2020 at 01:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress/near/213237117">said</a>:</p>
<blockquote>
<p>here was my last conversation with him a month ago: <a href="https://discordapp.com/channels/273534239310479360/273539705595756544/756004270758690836">https://discordapp.com/channels/273534239310479360/273539705595756544/756004270758690836</a></p>
</blockquote>
<p>I can't seem to access that URL</p>



<a name="213237199"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237199" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237199">(Oct 14 2020 at 01:18)</a>:</h4>
<p>which I kind of wish was smaller :/ but since it's unstable I don't care enough to block on it</p>



<a name="213237207"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237207" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237207">(Oct 14 2020 at 01:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116883">tmandry</span> <a href="#narrow/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress/near/213237190">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="232545">Joshua Nelson</span> <a href="#narrow/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress/near/213237117">said</a>:</p>
<blockquote>
<p>here was my last conversation with him a month ago: <a href="https://discordapp.com/channels/273534239310479360/273539705595756544/756004270758690836">https://discordapp.com/channels/273534239310479360/273539705595756544/756004270758690836</a></p>
</blockquote>
<p>I can't seem to access that URL</p>
</blockquote>
<p>you may neede to join the discord community server</p>



<a name="213237214"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237214" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237214">(Oct 14 2020 at 01:18)</a>:</h4>
<p>it's a long conversation, mostly he was trying to get it to work on the standard library itself</p>



<a name="213237215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237215" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237215">(Oct 14 2020 at 01:18)</a>:</h4>
<p>oh, yeah, I left that one awhile back</p>



<a name="213237217"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237217" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237217">(Oct 14 2020 at 01:18)</a>:</h4>
<p>lots of messing with bootstrap</p>



<a name="213237237"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237237" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237237">(Oct 14 2020 at 01:19)</a>:</h4>
<p>but yeah it <em>sounds</em> like he has a ton of local changes he hasn't pushed</p>



<a name="213237238"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237238" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237238">(Oct 14 2020 at 01:19)</a>:</h4>
<p>mm sounds like we should just merge what we have</p>



<a name="213237241"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237241" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237241">(Oct 14 2020 at 01:19)</a>:</h4>
<p>which is very frustrating</p>



<a name="213237246"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237246" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237246">(Oct 14 2020 at 01:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116883">tmandry</span> <a href="#narrow/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress/near/213237238">said</a>:</p>
<blockquote>
<p>mm sounds like we should just merge what we have</p>
</blockquote>
<p>this is my opinion too</p>



<a name="213237257"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237257" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237257">(Oct 14 2020 at 01:19)</a>:</h4>
<p><span class="user-mention" data-user-id="210316">@GuillaumeGomez</span> what do you think?</p>



<a name="213237300"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237300" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237300">(Oct 14 2020 at 01:20)</a>:</h4>
<p>and there are  tests</p>



<a name="213237301"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237301" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237301">(Oct 14 2020 at 01:20)</a>:</h4>
<p>we do have <em>a</em> test, the consistency test that makes sure there's no invalid ids</p>



<a name="213237306"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237306" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237306">(Oct 14 2020 at 01:20)</a>:</h4>
<p>not only that, but a couple golden tests too</p>



<a name="213237388"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237388" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237388">(Oct 14 2020 at 01:22)</a>:</h4>
<p>I'm not sure what you mean by hacky</p>



<a name="213237391"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237391" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237391">(Oct 14 2020 at 01:22)</a>:</h4>
<p>the test code was designed to minimize noise in the golden test output</p>



<a name="213237407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237407" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237407">(Oct 14 2020 at 01:22)</a>:</h4>
<p>which seems like a good approach</p>



<a name="213237424"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237424" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237424">(Oct 14 2020 at 01:23)</a>:</h4>
<p>maybe I'm thinking of a different approach he abandoned</p>



<a name="213237447"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237447" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237447">(Oct 14 2020 at 01:24)</a>:</h4>
<p>also the tests are not working right now <a href="https://github.com/rust-lang/rust/pull/75114#discussion_r480605026">https://github.com/rust-lang/rust/pull/75114#discussion_r480605026</a></p>



<a name="213237630"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213237630" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213237630">(Oct 14 2020 at 01:27)</a>:</h4>
<p>okay, left a comment</p>



<a name="213259243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213259243" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GuillaumeGomez <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213259243">(Oct 14 2020 at 08:30)</a>:</h4>
<p>Well, I was hoping they would send their local changes first...</p>



<a name="213284673"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/213284673" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#213284673">(Oct 14 2020 at 13:03)</a>:</h4>
<p>They said they'll try to send them sometime this week</p>



<a name="216024485"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216024485" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216024485">(Nov 08 2020 at 20:45)</a>:</h4>
<p><span class="user-mention" data-user-id="116883">@tmandry</span> left a bunch of comments on the PR, maybe you're interested in reviewing?</p>



<a name="216024491"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216024491" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216024491">(Nov 08 2020 at 20:45)</a>:</h4>
<p>mostly questions about what the format should look like</p>



<a name="216024500"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216024500" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216024500">(Nov 08 2020 at 20:45)</a>:</h4>
<p>the implementation I'm not too worried about other than ICEs, we can always fix bugs later</p>



<a name="216027239"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216027239" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216027239">(Nov 08 2020 at 21:54)</a>:</h4>
<p>I worked pretty closely with Joseph on the format spec and I think it's ready</p>



<a name="216027243"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216027243" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216027243">(Nov 08 2020 at 21:54)</a>:</h4>
<p>I'd be willing to r+ if there are no objections</p>



<a name="216027915"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216027915" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216027915">(Nov 08 2020 at 22:10)</a>:</h4>
<p>hmm I'm not super happy with the format :/</p>



<a name="216027926"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216027926" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216027926">(Nov 08 2020 at 22:10)</a>:</h4>
<p>mostly because there's so much duplicate data</p>



<a name="216027931"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216027931" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216027931">(Nov 08 2020 at 22:10)</a>:</h4>
<p>and it's hard to work with jq because the objects are not lists, instead it's a key/value dict where you don't know the keys ahead of time</p>



<a name="216028002"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216028002" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216028002">(Nov 08 2020 at 22:12)</a>:</h4>
<p>also I still want to get rid of stripped items</p>



<a name="216028006"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216028006" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216028006">(Nov 08 2020 at 22:12)</a>:</h4>
<p>but I have a sinking feeling that will break what little test suite we have</p>



<a name="216028012"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216028012" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216028012">(Nov 08 2020 at 22:12)</a>:</h4>
<p>the problem is that rustdoc <em>doesn't</em> guarentee there's links between all items</p>



<a name="216028020"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216028020" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216028020">(Nov 08 2020 at 22:12)</a>:</h4>
<p>you can have <code>fn f(x: impl PrivateTrait)</code> where <code>PrivateTrait</code> is <em>not</em> exported</p>



<a name="216028022"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216028022" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216028022">(Nov 08 2020 at 22:13)</a>:</h4>
<p>(plus there are various bugs IIRC)</p>



<a name="216028102"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216028102" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216028102">(Nov 08 2020 at 22:15)</a>:</h4>
<p>I guess for an initial impl this is ok</p>



<a name="216028105"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216028105" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216028105">(Nov 08 2020 at 22:15)</a>:</h4>
<p>I just want to avoid another situation like intra-doc links where people depend on something that's unstable</p>



<a name="216028107"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216028107" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216028107">(Nov 08 2020 at 22:16)</a>:</h4>
<p>because I really do want to change the format and if people are depending on it everything gets complicated</p>



<a name="216029929"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216029929" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216029929">(Nov 08 2020 at 23:00)</a>:</h4>
<p>I think people have to start using it before it becomes obvious what the best format is</p>



<a name="216030031"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216030031" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216030031">(Nov 08 2020 at 23:03)</a>:</h4>
<p>intra doc links were a bit different in that <a href="http://docs.rs">docs.rs</a> just supported them even though they were unstable</p>



<a name="216030078"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216030078" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216030078">(Nov 08 2020 at 23:04)</a>:</h4>
<p>and this feature is definitely more niche than that was</p>



<a name="216030111"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216030111" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216030111">(Nov 08 2020 at 23:05)</a>:</h4>
<p>and yeah I’d be fine with using arrays, but it’s probably a nontrivial change to the code. you have to traverse the graph and create a mapping between DefIds and integer indices before serializing anything</p>



<a name="216030118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216030118" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216030118">(Nov 08 2020 at 23:05)</a>:</h4>
<p>so it probably should go in a follow up change</p>



<a name="216030345"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216030345" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216030345">(Nov 08 2020 at 23:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="116883">tmandry</span> <a href="#narrow/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress/near/216030078">said</a>:</p>
<blockquote>
<p>and this feature is definitely more niche than that was</p>
</blockquote>
<p>see I think I disagree about that</p>



<a name="216030348"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216030348" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216030348">(Nov 08 2020 at 23:11)</a>:</h4>
<p>I see this as the future of rustdoc in some sense</p>



<a name="216030358"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216030358" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216030358">(Nov 08 2020 at 23:11)</a>:</h4>
<p>rustdoc is so hard to modify that it's not really feasible to add major new features currently</p>



<a name="216030407"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216030407" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216030407">(Nov 08 2020 at 23:12)</a>:</h4>
<p>like, realistically <a href="https://github.com/rust-lang/rust/issues/74758">https://github.com/rust-lang/rust/issues/74758</a> is ~never going to get implemented currently</p>



<a name="216030413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216030413" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216030413">(Nov 08 2020 at 23:12)</a>:</h4>
<p>the json backend lets you write new frontends on top, without having to go through x.py and resolve and all the other things</p>



<a name="216030448"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216030448" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216030448">(Nov 08 2020 at 23:13)</a>:</h4>
<p>like, people are already lining up to use this and it hasn't even been merged yet <a href="https://github.com/oberien/heradoc/issues/154">https://github.com/oberien/heradoc/issues/154</a></p>



<a name="216030526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216030526" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216030526">(Nov 08 2020 at 23:14)</a>:</h4>
<p>hmm I was going to say I want to get rid of stripped items in the first pass, but I guess you can get those anyway with <code>--document-private-items</code></p>



<a name="216030530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216030530" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216030530">(Nov 08 2020 at 23:15)</a>:</h4>
<p>so it's fine to delay that until later too</p>



<a name="216031573"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216031573" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216031573">(Nov 08 2020 at 23:37)</a>:</h4>
<p>oh I just realized I broke the tests when I moved them to <code>rustdoc/</code> because they use a makefile</p>



<a name="216031618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216031618" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216031618">(Nov 08 2020 at 23:38)</a>:</h4>
<p><span class="user-mention" data-user-id="116122">@simulacrum</span> I tried moving them to <code>run-make</code> but they fail because <code>RUSTDOC</code> isn't defined - should compiletest be setting that?</p>
<div class="codehilite"><pre><span></span><code>$ cat Makefile
-include ../tools.mk

tests: *.rs
    $(RUSTDOC) $&lt; -o $(TMPDIR) --output-format json
    $(PYTHON) check_missing_items.py $(TMPDIR)/$(basename $&lt;).json
    $(PYTHON) compare.py $(basename $&lt;).expected $(TMPDIR)/$(basename $&lt;).json
$ make
structs.rs -o  --output-format json
make: structs.rs: Command not found
</code></pre></div>



<a name="216031636"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216031636" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216031636">(Nov 08 2020 at 23:39)</a>:</h4>
<p>Hm I would prefer to avoid a rustdoc dependency for run-make tests</p>



<a name="216031641"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216031641" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216031641">(Nov 08 2020 at 23:39)</a>:</h4>
<p>how would you suggest to do this?</p>



<a name="216031642"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216031642" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> simulacrum <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216031642">(Nov 08 2020 at 23:39)</a>:</h4>
<p>Can we have a separate folder and wire that up?</p>



<a name="216031653"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216031653" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216031653">(Nov 08 2020 at 23:39)</a>:</h4>
<p>sure</p>



<a name="216031697"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216031697" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216031697">(Nov 08 2020 at 23:40)</a>:</h4>
<p>I won't get around to it tonight though</p>



<a name="216031706"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216031706" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216031706">(Nov 08 2020 at 23:40)</a>:</h4>
<p>but yeah that seems like the best plan long-term anyway</p>



<a name="216160784"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216160784" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216160784">(Nov 10 2020 at 00:38)</a>:</h4>
<p><span class="user-mention" data-user-id="232545">@Joshua Nelson</span> Yeah there's a lot of people who want to use it, but they know the risks :) I have a feeling that this feature is a lot less "infectious" than intra-doc links was, since removing it wouldn't mean you have to change the documentation for a bunch of crates</p>



<a name="216160818"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216160818" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216160818">(Nov 10 2020 at 00:38)</a>:</h4>
<p>But yeah, being in popular demand is a good reason to push for stabilization and try to get the kinks out early</p>



<a name="216161116"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216161116" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216161116">(Nov 10 2020 at 00:42)</a>:</h4>
<p>but by "push for stabilization" I mean "spend many months responding to feedback until we feel it's ready and then we can write an RFC to maybe stabilize"</p>



<a name="216161124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216161124" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216161124">(Nov 10 2020 at 00:42)</a>:</h4>
<p>since we don't want to do that prematurely</p>



<a name="216161267"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216161267" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216161267">(Nov 10 2020 at 00:45)</a>:</h4>
<p>although now I'm remembering some conversation with <span class="user-mention" data-user-id="132040">@Manish Goregaokar</span> I think about how we should never stabilize the <em>format</em>, and instead just keep a version number that we increment when breaking changes are made</p>



<a name="216161339"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216161339" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216161339">(Nov 10 2020 at 00:46)</a>:</h4>
<p>which I think would be fine</p>



<a name="216161355"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216161355" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tmandry <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216161355">(Nov 10 2020 at 00:46)</a>:</h4>
<p>as long as we stabilize its <em>existence</em> at some point</p>



<a name="216162329"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216162329" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216162329">(Nov 10 2020 at 01:02)</a>:</h4>
<p>hmm, I'm wondering if I should leave the test refactors for later and just keep them in run-make-fulldeps for now</p>



<a name="216162349"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/Rustdoc%20JSON%20backend%20progress/near/216162349" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Nelson <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/Rustdoc.20JSON.20backend.20progress.html#216162349">(Nov 10 2020 at 01:02)</a>:</h4>
<p>building the compiler twice to test is really annoying though :/</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>