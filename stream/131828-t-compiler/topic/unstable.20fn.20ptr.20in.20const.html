<html>
<head><meta charset="utf-8"><title>unstable fn ptr in const · t-compiler · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/index.html">t-compiler</a></h2>
<h3>Topic: <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html">unstable fn ptr in const</a></h3>

<hr>

<base href="https://rust-lang.zulipchat.com">

<head><link href="https://rust-lang.github.io/zulip_archive/style.css" rel="stylesheet"></head>

<a name="162645007"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162645007" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162645007">(Apr 05 2019 at 17:54)</a>:</h4>
<p><span class="user-mention" data-user-id="124288">@oli</span> do you have a preference as to how <a href="https://github.com/rust-lang/rust/issues/59725#issuecomment-480345963" target="_blank" title="https://github.com/rust-lang/rust/issues/59725#issuecomment-480345963">https://github.com/rust-lang/rust/issues/59725#issuecomment-480345963</a> is implemented? You mentioned before it should be easy. I was planning to write up a change, but wanted to check with you just in case there was some particular way you wanted it done. Or would you rather do it?</p>



<a name="162645023"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162645023" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162645023">(Apr 05 2019 at 17:55)</a>:</h4>
<p>(cc <span class="user-mention" data-user-id="126931">@centril</span> )</p>



<a name="162645037"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162645037" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162645037">(Apr 05 2019 at 17:55)</a>:</h4>
<p>(cc also <span class="user-mention" data-user-id="120791">@RalfJ</span> , I suppose ;) )</p>



<a name="162645850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162645850" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162645850">(Apr 05 2019 at 18:04)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span> I recall we discussed approaching this like <code>#[rustc_promotable]</code> or something</p>



<a name="162645914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162645914" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162645914">(Apr 05 2019 at 18:05)</a>:</h4>
<p>i.e. we straight up forbid function pointers right now, but basically you check for the exemption attribute and if it is on a function (by def_id) then you let it slide</p>



<a name="162645972"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162645972" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162645972">(Apr 05 2019 at 18:05)</a>:</h4>
<p>and then there's the usual gating of attributes and such</p>



<a name="162646143"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162646143" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162646143">(Apr 05 2019 at 18:07)</a>:</h4>
<p>here I think a change is needed: <a href="https://doc.rust-lang.org/nightly/nightly-rustc/src/rustc_mir/transform/qualify_min_const_fn.rs.html#94" target="_blank" title="https://doc.rust-lang.org/nightly/nightly-rustc/src/rustc_mir/transform/qualify_min_const_fn.rs.html#94">https://doc.rust-lang.org/nightly/nightly-rustc/src/rustc_mir/transform/qualify_min_const_fn.rs.html#94</a></p>



<a name="162646529"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162646529" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162646529">(Apr 05 2019 at 18:11)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> Ah, I see, that check only runs on local_decls, not all rvalues?</p>



<a name="162646601"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162646601" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162646601">(Apr 05 2019 at 18:12)</a>:</h4>
<p>(so callers can still pass an rvalue function pointer without getting an error)</p>



<a name="162647141"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162647141" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162647141">(Apr 05 2019 at 18:18)</a>:</h4>
<p>It will create a temporary unless they declare a constant though:</p>
<div class="codehilite"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">FN_PTR</span>: <span class="nc">fn</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...;</span><span class="w"></span>

<span class="k">const</span><span class="w"> </span><span class="k">fn</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="c1">// ...</span>
<span class="w">     </span><span class="n">special_fn</span><span class="p">(</span><span class="n">FN_PTR</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>



<a name="162647320"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162647320" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162647320">(Apr 05 2019 at 18:20)</a>:</h4>
<p>Promotion doesn't care though. So users can do:</p>
<div class="codehilite"><pre><span></span><span class="k">fn</span> <span class="nf">make_vtable</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="kp">&amp;</span><span class="nb">&#39;static</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;</span><span class="n">special_fn</span><span class="p">(</span><span class="n">call</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">fn</span><span class="p">())</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>



<a name="162647566"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162647566" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162647566">(Apr 05 2019 at 18:23)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span> going for a walk, I'll check back later</p>



<a name="162648346"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162648346" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162648346">(Apr 05 2019 at 18:31)</a>:</h4>
<p><span class="user-mention" data-user-id="116118">@Matthew Jasper</span> oh, it seems backwards to me that it doesn't affect promotion</p>



<a name="162648510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162648510" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Jasper <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162648510">(Apr 05 2019 at 18:32)</a>:</h4>
<p>well, min const fn is being stabilized carefully, and promotion was not, so that's how it is.</p>



<a name="162662003"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162662003" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162662003">(Apr 05 2019 at 21:16)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/59739/commits/701d2197f4ecbe6d168408d59888868bc56e1f2d" target="_blank" title="https://github.com/rust-lang/rust/pull/59739/commits/701d2197f4ecbe6d168408d59888868bc56e1f2d">https://github.com/rust-lang/rust/pull/59739/commits/701d2197f4ecbe6d168408d59888868bc56e1f2d</a></p>



<a name="162662325"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162662325" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162662325">(Apr 05 2019 at 21:20)</a>:</h4>
<p>Please split that out into a separate PR</p>



<a name="162662466"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162662466" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162662466">(Apr 05 2019 at 21:22)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> I considered that and did not do it because otherwise there's no test, and there's not an easy way to add one seeing as it requires adding a stable function to libstd</p>



<a name="162662469"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162662469" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162662469">(Apr 05 2019 at 21:22)</a>:</h4>
<p>I'd rather not land untested code</p>



<a name="162662510"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162662510" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162662510">(Apr 05 2019 at 21:23)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span> It is precisely because this code cannot land because it is not sufficiently tested that I want it split out</p>



<a name="162662526"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162662526" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162662526">(Apr 05 2019 at 21:23)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> Sorry, I don't understand how splitting it out into a separate PR solves anything</p>



<a name="162662530"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162662530" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162662530">(Apr 05 2019 at 21:23)</a>:</h4>
<p>it's already a separate commit</p>



<a name="162662547"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162662547" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162662547">(Apr 05 2019 at 21:23)</a>:</h4>
<p>You're welcome to comment on that commit and I'm happy to make changes to it there</p>



<a name="162662583"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162662583" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162662583">(Apr 05 2019 at 21:24)</a>:</h4>
<p>there's just no reason to try and land it on its own</p>



<a name="162662613"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162662613" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162662613">(Apr 05 2019 at 21:24)</a>:</h4>
<p>you can use <code>staged_api</code> and such to add tests</p>



<a name="162662621"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162662621" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162662621">(Apr 05 2019 at 21:24)</a>:</h4>
<p>That doesn't add any value</p>



<a name="162662649"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162662649" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162662649">(Apr 05 2019 at 21:24)</a>:</h4>
<p>(having it in a separate PR)</p>



<a name="162662771"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162662771" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162662771">(Apr 05 2019 at 21:26)</a>:</h4>
<blockquote>
<p><code>staged_api</code></p>
</blockquote>
<p>ah, great-- I looked around for something just like that</p>



<a name="162663101"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162663101" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162663101">(Apr 05 2019 at 21:30)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span> <a href="https://github.com/rust-lang/rust/search?q=rustc_promotable&amp;unscoped_q=rustc_promotable" target="_blank" title="https://github.com/rust-lang/rust/search?q=rustc_promotable&amp;unscoped_q=rustc_promotable">https://github.com/rust-lang/rust/search?q=rustc_promotable&amp;unscoped_q=rustc_promotable</a></p>



<a name="162663124"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162663124" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162663124">(Apr 05 2019 at 21:30)</a>:</h4>
<p>yup, already got the test done, will push in just a second</p>



<a name="162663149"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162663149" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162663149">(Apr 05 2019 at 21:31)</a>:</h4>
<p>also add stability tests and whatnot</p>



<a name="162663163"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162663163" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162663163">(Apr 05 2019 at 21:31)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> <code>rustc_</code> attributes are always unstable, behind <code>rustc_attrs</code></p>



<a name="162663171"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162663171" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162663171">(Apr 05 2019 at 21:31)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> still want a test?&gt;</p>



<a name="162663177"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162663177" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162663177">(Apr 05 2019 at 21:31)</a>:</h4>
<p>Sure, it should still have tests</p>



<a name="162663236"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162663236" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162663236">(Apr 05 2019 at 21:32)</a>:</h4>
<p>htere are tests showing that <code>rustc_xxx</code> for any <code>xxx</code> is unstable</p>



<a name="162663248"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162663248" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162663248">(Apr 05 2019 at 21:32)</a>:</h4>
<p>but sure</p>



<a name="162663273"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162663273" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162663273">(Apr 05 2019 at 21:32)</a>:</h4>
<p>I know; I generally assume that rustc is incorrect and specify tests independently of whatever machinery rustc uses.</p>



<a name="162663287"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162663287" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162663287">(Apr 05 2019 at 21:33)</a>:</h4>
<p>lol</p>



<a name="162663288"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162663288" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162663288">(Apr 05 2019 at 21:33)</a>:</h4>
<p>so that they act independently</p>



<a name="162663413"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162663413" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162663413">(Apr 05 2019 at 21:34)</a>:</h4>
<p>for example, when I wrote tests for associated type bounds there was a whole lot of redundancy, <a href="https://gist.github.com/Centril/2470b7f89657da457ed25078a9cdab72" target="_blank" title="https://gist.github.com/Centril/2470b7f89657da457ed25078a9cdab72">https://gist.github.com/Centril/2470b7f89657da457ed25078a9cdab72</a>, but redundancy is good in testing.</p>



<a name="162663624"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162663624" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162663624">(Apr 05 2019 at 21:36)</a>:</h4>
<p>Okay, pushed tests</p>



<a name="162663765"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162663765" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162663765">(Apr 05 2019 at 21:38)</a>:</h4>
<p><a href="https://github.com/rust-lang/rust/pull/59739/commits/b5493e541f6da8d848880592c5ac9180f75b254d" target="_blank" title="https://github.com/rust-lang/rust/pull/59739/commits/b5493e541f6da8d848880592c5ac9180f75b254d">https://github.com/rust-lang/rust/pull/59739/commits/b5493e541f6da8d848880592c5ac9180f75b254d</a></p>



<a name="162664740"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162664740" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162664740">(Apr 05 2019 at 21:53)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> (btw, I'm not just keeping things as one PR because I'm trying to be a pain-- it's legitimately time-consuming and frustrating for me to have PR stacks that are 4+ deep when each has no independent value)</p>



<a name="162664753"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162664753" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162664753">(Apr 05 2019 at 21:53)</a>:</h4>
<p>especially when I <em>have</em> already split things out into separate commits</p>



<a name="162664779"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162664779" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162664779">(Apr 05 2019 at 21:54)</a>:</h4>
<p>independent value: easier to review ;)</p>



<a name="162664809"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162664809" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162664809">(Apr 05 2019 at 21:54)</a>:</h4>
<p>but yes, I understand that PR stacks are annoying sometimes</p>



<a name="162664812"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162664812" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162664812">(Apr 05 2019 at 21:54)</a>:</h4>
<p>I have gone through that also</p>



<a name="162664815"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162664815" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162664815">(Apr 05 2019 at 21:54)</a>:</h4>
<p>it is easier for you to click on the specific commit to review than it is for me to rebase down the chain :)</p>



<a name="162664833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162664833" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162664833">(Apr 05 2019 at 21:54)</a>:</h4>
<p>fwiw, I am reviewing atm ;)</p>



<a name="162664841"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162664841" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162664841">(Apr 05 2019 at 21:54)</a>:</h4>
<p>esp. since you have to do that anyways if you want to leave comments on the correct PR</p>



<a name="162664847"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162664847" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162664847">(Apr 05 2019 at 21:54)</a>:</h4>
<p>(by clicking through the commits)</p>



<a name="162664850"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162664850" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162664850">(Apr 05 2019 at 21:55)</a>:</h4>
<p>otherwise you're reviewing the PR + all the preceding ones</p>



<a name="162664877"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162664877" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162664877">(Apr 05 2019 at 21:55)</a>:</h4>
<p>/me whines about github</p>



<a name="162664966"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162664966" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162664966">(Apr 05 2019 at 21:56)</a>:</h4>
<p>at least GH isn't taking away my <a href="https://inbox.google.com" target="_blank" title="https://inbox.google.com">https://inbox.google.com</a> ;)</p>



<a name="162665406"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665406" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665406">(Apr 05 2019 at 22:04)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span> can you make changes in <a href="https://github.com/rust-lang/rust/blob/master/src/libsyntax/diagnostic_list.rs#L421" target="_blank" title="https://github.com/rust-lang/rust/blob/master/src/libsyntax/diagnostic_list.rs#L421">https://github.com/rust-lang/rust/blob/master/src/libsyntax/diagnostic_list.rs#L421</a> as well?</p>



<a name="162665410"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665410" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665410">(Apr 05 2019 at 22:04)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> ah crap</p>



<a name="162665414"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665414" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665414">(Apr 05 2019 at 22:04)</a>:</h4>
<p>the PR I was changing is in your rollup</p>



<a name="162665417"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665417" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665417">(Apr 05 2019 at 22:05)</a>:</h4>
<p>:/</p>



<a name="162665421"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665421" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665421">(Apr 05 2019 at 22:05)</a>:</h4>
<p>what do</p>



<a name="162665431"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665431" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665431">(Apr 05 2019 at 22:05)</a>:</h4>
<p>my rollup isn't getting r-ed ^^</p>



<a name="162665440"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665440" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665440">(Apr 05 2019 at 22:05)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> yeah, so I guess I'll make the changes in the second PR?</p>



<a name="162665455"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665455" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665455">(Apr 05 2019 at 22:05)</a>:</h4>
<p>even though that's not where that change was introduced</p>



<a name="162665505"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665505" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665505">(Apr 05 2019 at 22:06)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span>  we have 3 PRs right?</p>



<a name="162665515"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665515" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665515">(Apr 05 2019 at 22:06)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> correct</p>



<a name="162665517"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665517" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665517">(Apr 05 2019 at 22:06)</a>:</h4>
<p>dizzifying</p>



<a name="162665524"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665524" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665524">(Apr 05 2019 at 22:06)</a>:</h4>
<p>re diagnostics_list, yes</p>



<a name="162665528"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665528" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665528">(Apr 05 2019 at 22:06)</a>:</h4>
<p>(well, 4 if you count your rollup XD)</p>



<a name="162665538"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665538" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665538">(Apr 05 2019 at 22:07)</a>:</h4>
<p>:D</p>



<a name="162665903"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665903" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665903">(Apr 05 2019 at 22:12)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> so I guess I'll change the second PR to include the changes from the first</p>



<a name="162665914"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665914" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665914">(Apr 05 2019 at 22:12)</a>:</h4>
<p>that will be lost when it's closed by your rollup PR</p>



<a name="162665921"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665921" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665921">(Apr 05 2019 at 22:12)</a>:</h4>
<p>and just not rebase my second PR</p>



<a name="162665960"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665960" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665960">(Apr 05 2019 at 22:13)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span>  hmm; do those tests need <code>rustc_const_unstable</code>? also, could you duplicate the <code>allow_const_fn_ptr.rs</code> without the <code>const_fn</code> gate?</p>



<a name="162665970"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162665970" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162665970">(Apr 05 2019 at 22:13)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span>  the rollup just failed, <a href="https://github.com/rust-lang/rust/pull/59736#issuecomment-480438342" target="_blank" title="https://github.com/rust-lang/rust/pull/59736#issuecomment-480438342">https://github.com/rust-lang/rust/pull/59736#issuecomment-480438342</a></p>



<a name="162666278"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162666278" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162666278">(Apr 05 2019 at 22:17)</a>:</h4>
<p>oh for gosh sakes</p>



<a name="162666283"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162666283" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162666283">(Apr 05 2019 at 22:17)</a>:</h4>
<p>I just committed the changes to the second PR</p>



<a name="162666290"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162666290" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162666290">(Apr 05 2019 at 22:17)</a>:</h4>
<p>what a mess XD</p>



<a name="162666416"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162666416" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162666416">(Apr 05 2019 at 22:19)</a>:</h4>
<p>I would suggest using the strategy of waiting ;)</p>



<a name="162666665"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162666665" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162666665">(Apr 05 2019 at 22:22)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> no waiting</p>



<a name="162666668"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162666668" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162666668">(Apr 05 2019 at 22:22)</a>:</h4>
<p>now is the time for stabilization!</p>



<a name="162666688"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162666688" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162666688">(Apr 05 2019 at 22:23)</a>:</h4>
<p>so but seriously</p>



<a name="162666691"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162666691" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162666691">(Apr 05 2019 at 22:23)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span> hmm; why does <code>RawWaker::new</code> use the hack attribute?</p>



<a name="162666709"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162666709" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162666709">(Apr 05 2019 at 22:23)</a>:</h4>
<p>it accepts no function pointers</p>



<a name="162666713"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162666713" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162666713">(Apr 05 2019 at 22:23)</a>:</h4>
<p>(not directly)</p>



<a name="162666717"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162666717" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162666717">(Apr 05 2019 at 22:23)</a>:</h4>
<p>probably doesn't need to</p>



<a name="162667232"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162667232" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162667232">(Apr 05 2019 at 22:30)</a>:</h4>
<p>argh... why doesn't GH let me leave comments on commits <span aria-label="confused" class="emoji emoji-1f615" role="img" title="confused">:confused:</span></p>



<a name="162668656"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162668656" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162668656">(Apr 05 2019 at 22:49)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span> btw, there's <code>@bors r=withoutboats</code> for that</p>



<a name="162668677"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162668677" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162668677">(Apr 05 2019 at 22:49)</a>:</h4>
<p>git history looks weird otherwise</p>



<a name="162669092"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162669092" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162669092">(Apr 05 2019 at 22:56)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> </p>
<blockquote>
<p>Also please extend this test with a file that doesn't use const_fn</p>
</blockquote>



<a name="162669097"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162669097" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162669097">(Apr 05 2019 at 22:56)</a>:</h4>
<p>^^ah yeah sorry just wasn't thinking about it</p>



<a name="162669104"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162669104" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162669104">(Apr 05 2019 at 22:56)</a>:</h4>
<p>hehe ^^</p>



<a name="162669118"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162669118" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162669118">(Apr 05 2019 at 22:56)</a>:</h4>
<p>can you explain more what you meant about that test?</p>



<a name="162669127"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162669127" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162669127">(Apr 05 2019 at 22:56)</a>:</h4>
<p>what are you trying to test by leaving out <code>const_fn</code>?</p>



<a name="162669162"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162669162" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162669162">(Apr 05 2019 at 22:57)</a>:</h4>
<p>that there's no special effects brought in by that feature gate; we have similar tests for min_const_fn</p>



<a name="162669184"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162669184" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162669184">(Apr 05 2019 at 22:57)</a>:</h4>
<p>(we have <em>a lot</em> of tests for min_const_fn ^^)</p>



<a name="162669286"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162669286" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162669286">(Apr 05 2019 at 22:59)</a>:</h4>
<p>moreover, it also tests that the gate isn't needed for what you want</p>



<a name="162670139"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670139" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670139">(Apr 05 2019 at 23:13)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> sorry, I'm still not quite following</p>



<a name="162670142"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670142" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670142">(Apr 05 2019 at 23:13)</a>:</h4>
<p><code>const fn</code> <em>is</em> needed</p>



<a name="162670150"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670150" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670150">(Apr 05 2019 at 23:13)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span>   the feature gate?</p>



<a name="162670155"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670155" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670155">(Apr 05 2019 at 23:13)</a>:</h4>
<p>yeah, or at least it was when I was testing initially</p>



<a name="162670201"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670201" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670201">(Apr 05 2019 at 23:14)</a>:</h4>
<p>but I can try removing it (have to wait to find out-- rustc :( )</p>



<a name="162670215"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670215" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670215">(Apr 05 2019 at 23:15)</a>:</h4>
<p>trying now</p>



<a name="162670308"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670308" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670308">(Apr 05 2019 at 23:16)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span>  btw, how are you doing these tests without getting "error: crate has missing stability attribute" ?</p>



<a name="162670714"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670714" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670714">(Apr 05 2019 at 23:23)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> sorry, not sure what you mean</p>



<a name="162670718"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670718" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670718">(Apr 05 2019 at 23:23)</a>:</h4>
<p>everything has been working fine for me</p>



<a name="162670772"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670772" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670772">(Apr 05 2019 at 23:24)</a>:</h4>
<p>weird; I got that error on playground</p>



<a name="162670782"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670782" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670782">(Apr 05 2019 at 23:24)</a>:</h4>
<p>huh</p>



<a name="162670786"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670786" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670786">(Apr 05 2019 at 23:24)</a>:</h4>
<p>no idea</p>



<a name="162670794"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670794" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670794">(Apr 05 2019 at 23:24)</a>:</h4>
<p><a href="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=e696d9513b54231078cc28db8e7b52ba" target="_blank" title="https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=e696d9513b54231078cc28db8e7b52ba">https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=e696d9513b54231078cc28db8e7b52ba</a></p>



<a name="162670817"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670817" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670817">(Apr 05 2019 at 23:25)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> maybe the error I <em>am</em> getting is hiding that one</p>



<a name="162670833"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670833" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670833">(Apr 05 2019 at 23:25)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span>  can you extract the <code>fn compiles</code> to a <code>// run-pass</code> test?</p>



<a name="162670840"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670840" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670840">(Apr 05 2019 at 23:25)</a>:</h4>
<p><span class="user-mention" data-user-id="126931">@centril</span> lol sure</p>



<a name="162670843"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670843" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670843">(Apr 05 2019 at 23:26)</a>:</h4>
<p>thanks</p>



<a name="162670889"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670889" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670889">(Apr 05 2019 at 23:26)</a>:</h4>
<p>getting damn picky about this</p>



<a name="162670891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670891" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670891">(Apr 05 2019 at 23:26)</a>:</h4>
<p>;)</p>



<a name="162670892"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162670892" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162670892">(Apr 05 2019 at 23:26)</a>:</h4>
<p>:D</p>



<a name="162671049"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162671049" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162671049">(Apr 05 2019 at 23:28)</a>:</h4>
<p>yup, then I get the "crate has missing stability attribute" error</p>



<a name="162671108"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162671108" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162671108">(Apr 05 2019 at 23:30)</a>:</h4>
<p>good; logic is restored :P</p>



<a name="162671291"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162671291" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162671291">(Apr 05 2019 at 23:32)</a>:</h4>
<p>Okay, pushed</p>



<a name="162671551"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162671551" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162671551">(Apr 05 2019 at 23:37)</a>:</h4>
<p>thanks; looks good aside from my nit</p>



<a name="162671560"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162671560" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162671560">(Apr 05 2019 at 23:37)</a>:</h4>
<p>first you want run-pass</p>



<a name="162671563"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162671563" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162671563">(Apr 05 2019 at 23:37)</a>:</h4>
<p>then you want // run-pass</p>



<a name="162671568"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162671568" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162671568">(Apr 05 2019 at 23:37)</a>:</h4>
<p>XD</p>



<a name="162671618"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162671618" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162671618">(Apr 05 2019 at 23:38)</a>:</h4>
<p><span class="user-mention" data-user-id="127859">@Taylor Cramer</span>  I think you read my zulip comment before I managed to edit ;)</p>



<a name="162671628"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162671628" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162671628">(Apr 05 2019 at 23:38)</a>:</h4>
<p>haha I definitely did</p>



<a name="162671629"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162671629" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162671629">(Apr 05 2019 at 23:38)</a>:</h4>
<p>XD</p>



<a name="162671635"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162671635" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162671635">(Apr 05 2019 at 23:38)</a>:</h4>
<p>:D</p>



<a name="162671647"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162671647" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162671647">(Apr 05 2019 at 23:39)</a>:</h4>
<p>I'm like a <span aria-label="turtle" class="emoji emoji-1f422" role="img" title="turtle">:turtle:</span></p>



<a name="162671764"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162671764" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Taylor Cramer <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162671764">(Apr 05 2019 at 23:40)</a>:</h4>
<p>done</p>



<a name="162671891"></a>
<h4><a href="https://rust-lang.zulipchat.com#narrow/stream/131828-t-compiler/topic/unstable%20fn%20ptr%20in%20const/near/162671891" class="zl"><img src="https://rust-lang.github.io/zulip_archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> centril <a href="https://rust-lang.github.io/zulip_archive/stream/131828-t-compiler/topic/unstable.20fn.20ptr.20in.20const.html#162671891">(Apr 05 2019 at 23:43)</a>:</h4>
<p>excellent</p>



<hr><p>Last updated: Aug 07 2021 at 22:04 UTC</p>
</html>